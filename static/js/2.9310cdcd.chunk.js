/*! For license information please see 2.9310cdcd.chunk.js.LICENSE.txt */
(this.webpackJsonpbright_bee_uat=this.webpackJsonpbright_bee_uat||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(285)},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(319))&&i.__esModule?i:{default:i}).default.get();e.default=o,t.exports=e.default},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.type=e.isDeferred=e.isPromise=e.isRenderer=e.isWindow=e.isPrimitive=e.isPlainObject=e.isEmptyObject=e.isObject=e.isNumeric=e.isString=e.isFunction=e.isDefined=e.isDate=e.isExponential=e.isBoolean=void 0;var o={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string","[object Null]":"null"},r=function(t){var e=Object.prototype.toString.call(t);return"object"===i(t)?o[e]||"object":i(t)};e.type=r;e.isBoolean=function(t){return"boolean"===typeof t};e.isExponential=function(t){return s(t)&&-1!==t.toString().indexOf("e")};e.isDate=function(t){return"date"===r(t)};e.isDefined=function(t){return null!==t&&void 0!==t};var a=function(t){return"function"===typeof t};e.isFunction=a;e.isString=function(t){return"string"===typeof t};var s=function(t){return"number"===typeof t&&isFinite(t)||!isNaN(t-parseFloat(t))};e.isNumeric=s;e.isObject=function(t){return"object"===r(t)};e.isEmptyObject=function(t){var e;for(e in t)return!1;return!0};e.isPlainObject=function(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t),n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"===typeof n&&Object.toString.call(n)===Object.toString.call(Object)};e.isPrimitive=function(t){return-1===["object","array","function"].indexOf(r(t))};e.isWindow=function(t){return null!=t&&t===t.window};e.isRenderer=function(t){return!(!t.jquery&&!t.dxRenderer)};e.isPromise=function(t){return t&&a(t.then)};e.isDeferred=function(t){return t&&a(t.done)&&a(t.fail)}},function(t,e,n){"use strict";e.extend=e.extendFromObject=void 0;var i=n(2);e.extendFromObject=function(t,e,n){for(var i in t=t||{},e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];i in t&&!n||(t[i]=o)}return t};e.extend=function t(e){var n=1,o=!1;for("boolean"===typeof(e=e||{})&&(o=e,e=arguments[1]||{},n++);n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r){var s=e[a],l=r[a],u=!1,h=void 0;"__proto__"!==a&&e!==l&&(o&&l&&((0,i.isPlainObject)(l)||(u=Array.isArray(l)))?(h=u?s&&Array.isArray(s)?s:[]:s&&(0,i.isPlainObject)(s)?s:{},e[a]=t(o,h,l)):void 0!==l&&(e[a]=l))}}return e}},function(t,e,n){(function(e){!function(){var n;function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}function r(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var a,s="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)a=Object.setPrototypeOf;else{var l;t:{var u={};try{u.__proto__={a:!0},l=u.a;break t}catch(rm){}l=!1}a=l?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var h=a;function c(t,e){if(t.prototype=s(e.prototype),t.prototype.constructor=t,h)h(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(t,n,i)}else t[n]=e[n];t.OA=e.prototype}var d="undefined"!=typeof window&&window===self?self:"undefined"!=typeof e&&null!=e?e:self,f="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};!function(t){if(t){for(var e=d,n=["Array","prototype","fill"],i=0;i<n.length-1;i++){var o=n[i];o in e||(e[o]={}),e=e[o]}(t=t(i=e[n=n[n.length-1]]))!=i&&null!=t&&f(e,n,{writable:!0,value:t})}}((function(t){return t||function(t,e,n){var i=this.length||0;for(0>e&&(e=Math.max(0,i+e)),(null==n||n>i)&&(n=i),0>(n=Number(n))&&(n=Math.max(0,i+n)),e=Number(e||0);e<n;e++)this[e]=t;return this}}));var p="object"===typeof self&&self.self===self&&self||"object"===typeof e&&e.global===e&&e||"object"===typeof window&&window.window===window&&window||{};function g(){}function m(t,e){var n=-1;return function(){var i=this,o=arguments;-1!==n&&p.clearTimeout(n),n=v((function(){n=-1,t.apply(i,o)}),e)}}function v(t,e){return p.setTimeout(t,e)}function y(t){return p.document.createElement(t)}function _(t){throw Error(t)}function b(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),_(t)}function x(t,e,n,i){n=null===n?"*":"string"===typeof n?n:"function"===typeof n&&"string"===typeof n.className?n.className:"",void 0!==i&&(n+="."+i),_(n+" is not in the range "+e+": "+t)}function w(t){p.console&&p.console.log(t)}function C(){p.console&&p.console.log("Warning: List/Map/Set constructors no longer take an argument that enforces type.Instead they take an optional collection of Values to add to the collection. See 2.0 changelog for details.")}function S(t){return"object"===typeof t&&null!==t}function k(t){return Array.isArray(t)||p.NodeList&&t instanceof p.NodeList||p.HTMLCollection&&t instanceof p.HTMLCollection}function E(t){return Array.prototype.slice.call(t)}function I(t,e,n){Array.isArray(t)?e>=t.length?t.push(n):t.splice(e,0,n):_("Cannot insert an object into an HTMLCollection or NodeList: "+n+" at "+e)}function T(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):_("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function D(){var t=W.pop();return void 0===t?[]:t}function M(t){t.length=0,W.push(t)}function O(t){if("function"===typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(S(t)&&t.constructor)return O(t.constructor);return typeof t}function P(t){var e=t;return S(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function A(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var n=t.IA;if(n&&n[e])return!0;t=Object.getPrototypeOf(t)}return!1}function R(t,e,n){Object.defineProperty(On.prototype,t,{get:e,set:n})}function B(){var t=G;if(0===t.length)for(var e=p.document.getElementsByTagName("canvas"),n=e.length,i=0;i<n;i++){var o=e[i];o.parentElement&&o.parentElement.B&&t.push(o.parentElement.B)}return t}function N(t){for(var e=[],n=0;256>n;n++)e["0123456789abcdef".charAt(n>>4)+"0123456789abcdef".charAt(15&n)]=String.fromCharCode(n);t.length%2&&(t="0"+t),n=[];for(var i=0,o=0;o<t.length;o+=2)n[i++]=e[t.substr(o,2)];for(t=""===(t=n.join(""))?"0":t,e=[],n=0;256>n;n++)e[n]=n;for(n=i=0;256>n;n++)i=(i+e[n]+119)%256,o=e[n],e[n]=e[i],e[i]=o;i=n=0;for(var r="",a=0;a<t.length;a++)i=(i+e[n=(n+1)%256])%256,o=e[n],e[n]=e[i],e[i]=o,r+=String.fromCharCode(t.charCodeAt(a)^e[(e[n]+e[i])%256]);return r}void 0===p.requestAnimationFrame&&(p.requestAnimationFrame=p.setImmediate);var F=void 0!==p.navigator&&0<p.navigator.userAgent.indexOf("MSIE 9.0"),L=void 0!==p.navigator&&0<p.navigator.userAgent.indexOf("MSIE 10.0"),V=void 0!==p.navigator&&0<p.navigator.userAgent.indexOf("Trident/7"),j=void 0!==p.navigator&&0<p.navigator.userAgent.indexOf("Edge/"),z=void 0!==p.navigator&&void 0!==p.navigator.platform&&0<=p.navigator.platform.toUpperCase().indexOf("MAC"),H=void 0!==p.navigator&&void 0!==p.navigator.platform&&null!==p.navigator.platform.match(/(iPhone|iPod|iPad)/i),W=[];Object.freeze([]);var G=[];function K(t,e,n){it(this),this.l=t,this.Qa=e,this.u=n}function $(t,e){return void 0===e||null===e||""===e?null:t[e]}function U(){this.Rw=[]}function q(){}function Y(){}g.className="Util",g.Dx="32ab5ff3b26f42dc0ed90f21442913b5",g.adym="gojs.net",g.vfo="28e647fdb164",g.className="Util",K.prototype.toString=function(){return"EnumValue."+this.Qa},d.Object.defineProperties(K.prototype,{classType:{get:function(){return this.l}},name:{get:function(){return this.Qa}},value:{get:function(){return this.u}}}),K.className="EnumValue",U.prototype.toString=function(){return this.Rw.join("")},U.prototype.add=function(t){""!==t&&this.Rw.push(t)},U.className="StringBuilder",q.className="PropertyCollection",Y.prototype.reset=function(){},Y.prototype.next=function(){return!1},Y.prototype.ed=function(){return!1},Y.prototype.first=function(){return null},Y.prototype.any=function(){return!1},Y.prototype.all=function(){return!0},Y.prototype.each=function(){return this},Y.prototype.map=function(){return this},Y.prototype.filter=function(){return this},Y.prototype.Dd=function(){},Y.prototype.toString=function(){return"EmptyIterator"},d.Object.defineProperties(Y.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),Y.prototype.first=Y.prototype.first,Y.prototype.hasNext=Y.prototype.ed,Y.prototype.next=Y.prototype.next,Y.prototype.reset=Y.prototype.reset;var X;function Z(t){this.key=-1,this.value=t}function J(t){this.pb=t,this.af=null,t.Fa=null,this.ia=t.Aa,this.Oa=-1}function Q(t){this.pb=t,t.Zg=null,this.ia=t.Aa,this.Oa=t.j.length}function tt(t){it(this),this.s=!1,this.j=[],this.Aa=0,this.Zg=this.Fa=null,void 0!==t&&("function"===typeof t||"string"===typeof t?C():this.addAll(t))}function et(t){this.og=t,t.Fa=null,this.ia=t.Aa,this.la=null}function nt(t){it(this),this.s=!1,this.Fb={},this.Db=0,this.Fa=null,this.Aa=0,this.Ve=this.ba=null,void 0!==t&&("function"===typeof t||"string"===typeof t?C():this.addAll(t))}function it(t){t.__gohashid=at++}function ot(t){var e=t.__gohashid;return void 0===e&&(e=at++,t.__gohashid=e),e}function rt(t){return t.__gohashid}Y.className="EmptyIterator",X=new Y,Z.prototype.reset=function(){this.key=-1},Z.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},Z.prototype.ed=function(){return this.next()},Z.prototype.first=function(){return this.key=0,this.value},Z.prototype.any=function(t){return this.key=-1,t(this.value)},Z.prototype.all=function(t){return this.key=-1,t(this.value)},Z.prototype.each=function(t){return this.key=-1,t(this.value),this},Z.prototype.map=function(t){return new Z(t(this.value))},Z.prototype.filter=function(t){return t(this.value)?new Z(this.value):X},Z.prototype.Dd=function(){this.value=null},Z.prototype.toString=function(){return"SingletonIterator("+this.value+")"},d.Object.defineProperties(Z.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),Z.prototype.first=Z.prototype.first,Z.prototype.hasNext=Z.prototype.ed,Z.prototype.next=Z.prototype.next,Z.prototype.reset=Z.prototype.reset,Z.className="SingletonIterator",J.prototype.reset=function(){var t=this.pb;t.Fa=null,this.ia=t.Aa,this.Oa=-1},J.prototype.next=function(){var t=this.pb;if(t.Aa!==this.ia&&0>this.key)return!1;var e=(t=t.j).length,n=++this.Oa,i=this.af;if(null!==i)for(;n<e;){var o=t[n];if(i(o))return this.key=this.Oa=n,this.value=o,!0;n++}else{if(n<e)return this.key=n,this.value=t[n],!0;this.Dd()}return!1},J.prototype.ed=function(){return this.next()},J.prototype.first=function(){var t=this.pb;this.ia=t.Aa,this.Oa=0;var e=(t=t.j).length,n=this.af;if(null!==n){for(var i=0;i<e;){var o=t[i];if(n(o))return this.key=this.Oa=i,this.value=o;i++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},J.prototype.any=function(t){var e=this.pb;e.Fa=null,this.Oa=-1;for(var n=(e=e.j).length,i=this.af,o=0;o<n;o++){var r=e[o];if((null===i||i(r))&&t(r))return!0}return!1},J.prototype.all=function(t){var e=this.pb;e.Fa=null,this.Oa=-1;for(var n=(e=e.j).length,i=this.af,o=0;o<n;o++){var r=e[o];if((null===i||i(r))&&!t(r))return!1}return!0},J.prototype.each=function(t){var e=this.pb;e.Fa=null,this.Oa=-1;for(var n=(e=e.j).length,i=this.af,o=0;o<n;o++){var r=e[o];(null===i||i(r))&&t(r)}return this},J.prototype.map=function(t){var e=this.pb;e.Fa=null,this.Oa=-1;for(var n=[],i=(e=e.j).length,o=this.af,r=0;r<i;r++){var a=e[r];(null===o||o(a))&&n.push(t(a))}return(t=new tt).j=n,t.lb(),t.iterator},J.prototype.filter=function(t){var e=this.pb;e.Fa=null,this.Oa=-1;for(var n=[],i=(e=e.j).length,o=this.af,r=0;r<i;r++){var a=e[r];(null===o||o(a))&&t(a)&&n.push(a)}return(t=new tt).j=n,t.lb(),t.iterator},J.prototype.Dd=function(){this.key=-1,this.value=null,this.ia=-1,this.af=null,this.pb.Fa=this},J.prototype.toString=function(){return"ListIterator@"+this.Oa+"/"+this.pb.count},d.Object.defineProperties(J.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.af},set:function(t){this.af=t}},count:{get:function(){var t=this.af;if(null!==t){for(var e=0,n=this.pb.j,i=n.length,o=0;o<i;o++)t(n[o])&&e++;return e}return this.pb.j.length}}}),J.prototype.first=J.prototype.first,J.prototype.hasNext=J.prototype.ed,J.prototype.next=J.prototype.next,J.prototype.reset=J.prototype.reset,J.className="ListIterator",Q.prototype.reset=function(){var t=this.pb;t.Zg=null,this.ia=t.Aa,this.Oa=t.j.length},Q.prototype.next=function(){var t=this.pb;if(t.Aa!==this.ia&&0>this.key)return!1;var e=--this.Oa;return 0<=e?(this.key=e,this.value=t.j[e],!0):(this.Dd(),!1)},Q.prototype.ed=function(){return this.next()},Q.prototype.first=function(){var t=this.pb;this.ia=t.Aa;var e=t.j;return this.Oa=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},Q.prototype.any=function(t){var e=this.pb;e.Zg=null;var n=(e=e.j).length;for(this.Oa=n,--n;0<=n;n--)if(t(e[n]))return!0;return!1},Q.prototype.all=function(t){var e=this.pb;e.Zg=null;var n=(e=e.j).length;for(this.Oa=n,--n;0<=n;n--)if(!t(e[n]))return!1;return!0},Q.prototype.each=function(t){var e=this.pb;e.Zg=null;var n=(e=e.j).length;for(this.Oa=n,--n;0<=n;n--)t(e[n]);return this},Q.prototype.map=function(t){var e=this.pb;e.Zg=null;var n=[],i=(e=e.j).length;for(this.Oa=i,--i;0<=i;i--)n.push(t(e[i]));return(t=new tt).j=n,t.lb(),t.iterator},Q.prototype.filter=function(t){var e=this.pb;e.Zg=null;var n=[],i=(e=e.j).length;for(this.Oa=i,--i;0<=i;i--){var o=e[i];t(o)&&n.push(o)}return(t=new tt).j=n,t.lb(),t.iterator},Q.prototype.Dd=function(){this.key=-1,this.value=null,this.ia=-1,this.pb.Zg=this},Q.prototype.toString=function(){return"ListIteratorBackwards("+this.Oa+"/"+this.pb.count+")"},d.Object.defineProperties(Q.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.pb.j.length}}}),Q.prototype.first=Q.prototype.first,Q.prototype.hasNext=Q.prototype.ed,Q.prototype.next=Q.prototype.next,Q.prototype.reset=Q.prototype.reset,Q.className="ListIteratorBackwards",(n=tt.prototype).lb=function(){var t=this.Aa;999999999<++t&&(t=0),this.Aa=t},n.freeze=function(){return this.s=!0,this},n.ea=function(){return this.s=!1,this},n.toString=function(){return"List()#"+rt(this)},n.add=function(t){return null===t||(this.s&&b(this,t),this.j.push(t),this.lb()),this},n.push=function(t){this.add(t)},n.addAll=function(t){if(null===t)return this;this.s&&b(this);var e=this.j;if(k(t))for(var n=t.length,i=0;i<n;i++)e.push(t[i]);else for(t=t.iterator;t.next();)e.push(t.value);return this.lb(),this},n.clear=function(){this.s&&b(this),this.j.length=0,this.lb()},n.contains=function(t){return null!==t&&-1!==this.j.indexOf(t)},n.has=function(t){return this.contains(t)},n.indexOf=function(t){return null===t?-1:this.j.indexOf(t)},n.L=function(t){var e=this.j;return(0>t||t>=e.length)&&x(t,"0 <= i < length",tt,"elt:i"),e[t]},n.get=function(t){return this.L(t)},n.hd=function(t,e){var n=this.j;(0>t||t>=n.length)&&x(t,"0 <= i < length",tt,"setElt:i"),this.s&&b(this,t),n[t]=e},n.set=function(t,e){this.hd(t,e)},n.first=function(){var t=this.j;return 0===t.length?null:t[0]},n.Xb=function(){var t=this.j,e=t.length;return 0<e?t[e-1]:null},n.pop=function(){this.s&&b(this);var t=this.j;return 0<t.length?t.pop():null},tt.prototype.any=function(t){for(var e=this.j,n=e.length,i=0;i<n;i++)if(t(e[i]))return!0;return!1},tt.prototype.all=function(t){for(var e=this.j,n=e.length,i=0;i<n;i++)if(!t(e[i]))return!1;return!0},tt.prototype.each=function(t){for(var e=this.j,n=e.length,i=0;i<n;i++)t(e[i]);return this},tt.prototype.map=function(t){for(var e=new tt,n=[],i=this.j,o=i.length,r=0;r<o;r++)n.push(t(i[r]));return e.j=n,e.lb(),e},tt.prototype.filter=function(t){for(var e=new tt,n=[],i=this.j,o=i.length,r=0;r<o;r++){var a=i[r];t(a)&&n.push(a)}return e.j=n,e.lb(),e},(n=tt.prototype).tb=function(t,e){0>t&&x(t,">= 0",tt,"insertAt:i"),this.s&&b(this,t);var n=this.j;t>=n.length?n.push(e):n.splice(t,0,e),this.lb()},n.remove=function(t){if(null===t)return!1;this.s&&b(this,t);var e=this.j;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.lb(),!0)},n.delete=function(t){return this.remove(t)},n.ab=function(t){var e=this.j;(0>t||t>=e.length)&&x(t,"0 <= i < length",tt,"removeAt:i"),this.s&&b(this,t),t===e.length-1?e.pop():e.splice(t,1),this.lb()},n.removeRange=function(t,e){var n=this.j,i=n.length;if(0>t)t=0;else if(t>=i)return this;if(0>e)return this;if(e>=i&&(e=i-1),t>e)return this;this.s&&b(this);for(var o=t,r=e+1;r<i;)n[o++]=n[r++];return n.length=i-(e-t+1),this.lb(),this},tt.prototype.copy=function(){var t=new tt,e=this.j;return 0<e.length&&(t.j=Array.prototype.slice.call(e)),t},(n=tt.prototype).na=function(){for(var t=this.j,e=this.count,n=Array(e),i=0;i<e;i++)n[i]=t[i];return n},n.qw=function(){for(var t=new nt,e=this.j,n=this.count,i=0;i<n;i++)t.add(e[i]);return t},n.sort=function(t){return this.s&&b(this),this.j.sort(t),this.lb(),this},n.hj=function(t,e,n){var i=this.j,o=i.length;void 0===e&&(e=0),void 0===n&&(n=o),this.s&&b(this);var r=n-e;if(1>=r)return this;if((0>e||e>=o-1)&&x(e,"0 <= from < length",tt,"sortRange:from"),2===r)return 0<t(n=i[e],o=i[e+1])&&(i[e]=o,i[e+1]=n,this.lb()),this;if(0===e)if(n>=o)i.sort(t);else for((e=i.slice(0,n)).sort(t),t=0;t<n;t++)i[t]=e[t];else if(n>=o)for((n=i.slice(e)).sort(t),t=e;t<o;t++)i[t]=n[t-e];else for((o=i.slice(e,n)).sort(t),t=e;t<n;t++)i[t]=o[t-e];return this.lb(),this},n.reverse=function(){return this.s&&b(this),this.j.reverse(),this.lb(),this},d.Object.defineProperties(tt.prototype,{_dataArray:{get:function(){return this.j}},count:{get:function(){return this.j.length}},size:{get:function(){return this.j.length}},length:{get:function(){return this.j.length}},iterator:{get:function(){if(0>=this.j.length)return X;var t=this.Fa;return null!==t?(t.reset(),t):new J(this)}},iteratorBackwards:{get:function(){if(0>=this.j.length)return X;var t=this.Zg;return null!==t?(t.reset(),t):new Q(this)}}}),tt.prototype.reverse=tt.prototype.reverse,tt.prototype.sortRange=tt.prototype.hj,tt.prototype.sort=tt.prototype.sort,tt.prototype.toSet=tt.prototype.qw,tt.prototype.toArray=tt.prototype.na,tt.prototype.removeRange=tt.prototype.removeRange,tt.prototype.removeAt=tt.prototype.ab,tt.prototype.delete=tt.prototype.delete,tt.prototype.remove=tt.prototype.remove,tt.prototype.insertAt=tt.prototype.tb,tt.prototype.pop=tt.prototype.pop,tt.prototype.last=tt.prototype.Xb,tt.prototype.first=tt.prototype.first,tt.prototype.set=tt.prototype.set,tt.prototype.setElt=tt.prototype.hd,tt.prototype.get=tt.prototype.get,tt.prototype.elt=tt.prototype.L,tt.prototype.indexOf=tt.prototype.indexOf,tt.prototype.has=tt.prototype.has,tt.prototype.contains=tt.prototype.contains,tt.prototype.clear=tt.prototype.clear,tt.prototype.addAll=tt.prototype.addAll,tt.prototype.push=tt.prototype.push,tt.prototype.add=tt.prototype.add,tt.prototype.thaw=tt.prototype.ea,tt.prototype.freeze=tt.prototype.freeze,tt.className="List",et.prototype.reset=function(){var t=this.og;t.Fa=null,this.ia=t.Aa,this.la=null},et.prototype.next=function(){var t=this.og;if(t.Aa!==this.ia&&null===this.key)return!1;var e=this.la;return null!==(e=null===e?t.ba:e.oa)?(this.la=e,this.value=e.value,this.key=e.key,!0):(this.Dd(),!1)},et.prototype.ed=function(){return this.next()},et.prototype.first=function(){var t=this.og;if(this.ia=t.Aa,null!==(t=t.ba)){this.la=t;var e=t.value;return this.key=t.key,this.value=e}return null},et.prototype.any=function(t){var e=this.og;for(this.la=e.Fa=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.oa}return!1},et.prototype.all=function(t){var e=this.og;for(this.la=e.Fa=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.oa}return!0},et.prototype.each=function(t){var e=this.og;for(this.la=e.Fa=null,e=e.ba;null!==e;)t(e.value),e=e.oa;return this},et.prototype.map=function(t){var e=this.og;e.Fa=null;var n=new tt;for(e=e.ba;null!==e;)n.add(t(e.value)),e=e.oa;return n.iterator},et.prototype.filter=function(t){var e=this.og;e.Fa=null;var n=new tt;for(e=e.ba;null!==e;){var i=e.value;t(i)&&n.add(i),e=e.oa}return n.iterator},et.prototype.Dd=function(){this.value=this.key=null,this.ia=-1,this.og.Fa=this},et.prototype.toString=function(){return null!==this.la?"SetIterator@"+this.la.value:"SetIterator"},d.Object.defineProperties(et.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.og.Db}}}),et.prototype.first=et.prototype.first,et.prototype.hasNext=et.prototype.ed,et.prototype.next=et.prototype.next,et.prototype.reset=et.prototype.reset,et.className="SetIterator",(n=nt.prototype).lb=function(){var t=this.Aa;999999999<++t&&(t=0),this.Aa=t},n.freeze=function(){return this.s=!0,this},n.ea=function(){return this.s=!1,this},n.toString=function(){return"Set()#"+rt(this)},n.add=function(t){if(null===t)return this;this.s&&b(this,t);var e=t;return S(t)&&(e=ot(t)),void 0===this.Fb[e]&&(this.Db++,t=new ht(t,t),this.Fb[e]=t,null===(e=this.Ve)?this.ba=t:(t.El=e,e.oa=t),this.Ve=t,this.lb()),this},n.addAll=function(t){if(null===t)return this;if(this.s&&b(this),k(t))for(var e=t.length,n=0;n<e;n++)this.add(t[n]);else for(t=t.iterator;t.next();)this.add(t.value);return this},n.contains=function(t){if(null===t)return!1;var e=t;return(!S(t)||void 0!==(e=rt(t)))&&void 0!==this.Fb[e]},n.has=function(t){return this.contains(t)},n.Yy=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},n.Zy=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},n.first=function(){var t=this.ba;return null===t?null:t.value},nt.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e.value))return!0;e=e.oa}return!1},nt.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e.value))return!1;e=e.oa}return!0},nt.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e.value),e=e.oa;return this},nt.prototype.map=function(t){for(var e=new nt,n=this.ba;null!==n;)e.add(t(n.value)),n=n.oa;return e},nt.prototype.filter=function(t){for(var e=new nt,n=this.ba;null!==n;){var i=n.value;t(i)&&e.add(i),n=n.oa}return e},(n=nt.prototype).remove=function(t){if(null===t)return!1;this.s&&b(this,t);var e=t;if(S(t)&&void 0===(e=rt(t)))return!1;if(void 0===(t=this.Fb[e]))return!1;var n=t.oa,i=t.El;return null!==n&&(n.El=i),null!==i&&(i.oa=n),this.ba===t&&(this.ba=n),this.Ve===t&&(this.Ve=i),delete this.Fb[e],this.Db--,this.lb(),!0},n.delete=function(t){return this.remove(t)},n.Iq=function(t){if(null===t)return this;if(this.s&&b(this),k(t))for(var e=t.length,n=0;n<e;n++)this.remove(t[n]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},n.tA=function(t){if(null===t||0===this.count)return this;this.s&&b(this);var e=new nt;e.addAll(t),t=[];for(var n=this.iterator;n.next();){var i=n.value;e.contains(i)||t.push(i)}return this.Iq(t),this},n.clear=function(){this.s&&b(this),this.Fb={},this.Db=0,null!==this.Fa&&this.Fa.reset(),this.Ve=this.ba=null,this.lb()},nt.prototype.copy=function(){var t,e=new nt,n=this.Fb;for(t in n)e.add(n[t].value);return e},nt.prototype.na=function(){var t,e=Array(this.Db),n=this.Fb,i=0;for(t in n)e[i]=n[t].value,i++;return e},nt.prototype.pw=function(){var t,e=new tt,n=this.Fb;for(t in n)e.add(n[t].value);return e},d.Object.defineProperties(nt.prototype,{count:{get:function(){return this.Db}},size:{get:function(){return this.Db}},iterator:{get:function(){if(0>=this.Db)return X;var t=this.Fa;return null!==t?(t.reset(),t):new et(this)}}}),nt.prototype.toList=nt.prototype.pw,nt.prototype.toArray=nt.prototype.na,nt.prototype.clear=nt.prototype.clear,nt.prototype.retainAll=nt.prototype.tA,nt.prototype.removeAll=nt.prototype.Iq,nt.prototype.delete=nt.prototype.delete,nt.prototype.remove=nt.prototype.remove,nt.prototype.first=nt.prototype.first,nt.prototype.containsAny=nt.prototype.Zy,nt.prototype.containsAll=nt.prototype.Yy,nt.prototype.has=nt.prototype.has,nt.prototype.contains=nt.prototype.contains,nt.prototype.addAll=nt.prototype.addAll,nt.prototype.add=nt.prototype.add,nt.prototype.thaw=nt.prototype.ea,nt.prototype.freeze=nt.prototype.freeze;var at=1;function st(t){this.fa=t,this.ia=t.Aa,this.la=null}function lt(t){nt.call(this),it(this),this.s=!0,this.fa=t}function ut(t){this.fa=t,t.Ue=null,this.ia=t.Aa,this.la=null}function ht(t,e){this.key=t,this.value=e,this.El=this.oa=null}function ct(t){this.fa=t,t.Fa=null,this.ia=t.Aa,this.la=null}function dt(t){it(this),this.s=!1,this.Fb={},this.Db=0,this.Ue=this.Fa=null,this.Aa=0,this.Ve=this.ba=null,void 0!==t&&("function"===typeof t||"string"===typeof t?C():this.addAll(t))}function ft(t,e){void 0===t?this.y=this.x=0:"number"===typeof t&&"number"===typeof e?(this.x=t,this.y=e):_("Invalid arguments to Point constructor: "+t+", "+e),this.s=!1}function pt(t){if("string"===typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var o=0;""===t[e];)e++;return(i=t[e++])&&(o=parseFloat(i)),new ft(n,o)}return new ft}function gt(t){return t.x.toString()+" "+t.y.toString()}function mt(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var n=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n}function vt(t,e){return e.Wd(t),t}function yt(t,e,n,i,o,r){var a=o-n,s=r-i,l=a*a+s*s,u=-(n-=t)*a-(i-=e)*s;return 0>=u||u>=l?(a=o-t,s=r-e,Math.min(n*n+i*i,a*a+s*s)):(t=a*i-s*n)*t/l}function _t(t,e,n,i){return(t=n-t)*t+(e=i-e)*e}function bt(t,e,n,i){return e=i-e,0===(t=n-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(i=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i)}nt.className="Set",nt.uniqueHash=it,nt.hashIdUnique=ot,nt.hashId=rt,st.prototype.reset=function(){this.ia=this.fa.Aa,this.la=null},st.prototype.next=function(){var t=this.fa;if(t.Aa!==this.ia&&null===this.key)return!1;var e=this.la;return null!==(e=null===e?t.ba:e.oa)?(this.la=e,this.value=this.key=t=e.key,!0):(this.Dd(),!1)},st.prototype.ed=function(){return this.next()},st.prototype.first=function(){var t=this.fa;return this.ia=t.Aa,null!==(t=t.ba)?(this.la=t,this.value=this.key=t=t.key):null},st.prototype.any=function(t){var e=this.fa;for(this.la=null,e=e.ba;null!==e;){if(t(e.key))return!0;e=e.oa}return!1},st.prototype.all=function(t){var e=this.fa;for(this.la=null,e=e.ba;null!==e;){if(!t(e.key))return!1;e=e.oa}return!0},st.prototype.each=function(t){var e=this.fa;for(this.la=null,e=e.ba;null!==e;)t(e.key),e=e.oa;return this},st.prototype.map=function(t){var e=this.fa;this.la=null;var n=new tt;for(e=e.ba;null!==e;)n.add(t(e.key)),e=e.oa;return n.iterator},st.prototype.filter=function(t){var e=this.fa;this.la=null;var n=new tt;for(e=e.ba;null!==e;){var i=e.key;t(i)&&n.add(i),e=e.oa}return n.iterator},st.prototype.Dd=function(){this.value=this.key=null,this.ia=-1},st.prototype.toString=function(){return null!==this.la?"MapKeySetIterator@"+this.la.value:"MapKeySetIterator"},d.Object.defineProperties(st.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.fa.Db}}}),st.prototype.first=st.prototype.first,st.prototype.hasNext=st.prototype.ed,st.prototype.next=st.prototype.next,st.prototype.reset=st.prototype.reset,st.className="MapKeySetIterator",c(lt,nt),(n=lt.prototype).freeze=function(){return this},n.ea=function(){return this},n.toString=function(){return"MapKeySet("+this.fa.toString()+")"},n.add=function(){return _("This Set is read-only: "+this.toString()),this},n.contains=function(t){return this.fa.contains(t)},n.has=function(t){return this.contains(t)},n.remove=function(){return _("This Set is read-only: "+this.toString()),!1},n.delete=function(t){return this.remove(t)},n.clear=function(){_("This Set is read-only: "+this.toString())},n.first=function(){var t=this.fa.ba;return null!==t?t.key:null},lt.prototype.any=function(t){for(var e=this.fa.ba;null!==e;){if(t(e.key))return!0;e=e.oa}return!1},lt.prototype.all=function(t){for(var e=this.fa.ba;null!==e;){if(!t(e.key))return!1;e=e.oa}return!0},lt.prototype.each=function(t){for(var e=this.fa.ba;null!==e;)t(e.key),e=e.oa;return this},lt.prototype.map=function(t){for(var e=new nt,n=this.fa.ba;null!==n;)e.add(t(n.key)),n=n.oa;return e},lt.prototype.filter=function(t){for(var e=new nt,n=this.fa.ba;null!==n;){var i=n.key;t(i)&&e.add(i),n=n.oa}return e},lt.prototype.copy=function(){return new lt(this.fa)},lt.prototype.qw=function(){var t,e=new nt,n=this.fa.Fb;for(t in n)e.add(n[t].key);return e},lt.prototype.na=function(){var t,e=this.fa.Fb,n=Array(this.fa.Db),i=0;for(t in e)n[i]=e[t].key,i++;return n},lt.prototype.pw=function(){var t,e=new tt,n=this.fa.Fb;for(t in n)e.add(n[t].key);return e},d.Object.defineProperties(lt.prototype,{count:{get:function(){return this.fa.Db}},size:{get:function(){return this.fa.Db}},iterator:{get:function(){return 0>=this.fa.Db?X:new st(this.fa)}}}),lt.prototype.toList=lt.prototype.pw,lt.prototype.toArray=lt.prototype.na,lt.prototype.toSet=lt.prototype.qw,lt.prototype.first=lt.prototype.first,lt.prototype.clear=lt.prototype.clear,lt.prototype.delete=lt.prototype.delete,lt.prototype.remove=lt.prototype.remove,lt.prototype.has=lt.prototype.has,lt.prototype.contains=lt.prototype.contains,lt.prototype.add=lt.prototype.add,lt.prototype.thaw=lt.prototype.ea,lt.prototype.freeze=lt.prototype.freeze,lt.className="MapKeySet",ut.prototype.reset=function(){var t=this.fa;t.Ue=null,this.ia=t.Aa,this.la=null},ut.prototype.next=function(){var t=this.fa;if(t.Aa!==this.ia&&null===this.key)return!1;var e=this.la;return null!==(e=null===e?t.ba:e.oa)?(this.la=e,this.value=e.value,this.key=e.key,!0):(this.Dd(),!1)},ut.prototype.ed=function(){return this.next()},ut.prototype.first=function(){var t=this.fa;if(this.ia=t.Aa,null!==(t=t.ba)){this.la=t;var e=t.value;return this.key=t.key,this.value=e}return null},ut.prototype.any=function(t){var e=this.fa;for(this.la=e.Ue=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.oa}return!1},ut.prototype.all=function(t){var e=this.fa;for(this.la=e.Ue=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.oa}return!0},ut.prototype.each=function(t){var e=this.fa;for(this.la=e.Ue=null,e=e.ba;null!==e;)t(e.value),e=e.oa;return this},ut.prototype.map=function(t){var e=this.fa;this.la=e.Ue=null;var n=new tt;for(e=e.ba;null!==e;)n.add(t(e.value)),e=e.oa;return n.iterator},ut.prototype.filter=function(t){var e=this.fa;this.la=e.Ue=null;var n=new tt;for(e=e.ba;null!==e;){var i=e.value;t(i)&&n.add(i),e=e.oa}return n.iterator},ut.prototype.Dd=function(){this.value=this.key=null,this.ia=-1,this.fa.Ue=this},ut.prototype.toString=function(){return null!==this.la?"MapValueSetIterator@"+this.la.value:"MapValueSetIterator"},d.Object.defineProperties(ut.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.fa.Db}}}),ut.prototype.first=ut.prototype.first,ut.prototype.hasNext=ut.prototype.ed,ut.prototype.next=ut.prototype.next,ut.prototype.reset=ut.prototype.reset,ut.className="MapValueSetIterator",ht.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},ht.className="KeyValuePair",ct.prototype.reset=function(){var t=this.fa;t.Fa=null,this.ia=t.Aa,this.la=null},ct.prototype.next=function(){var t=this.fa;if(t.Aa!==this.ia&&null===this.key)return!1;var e=this.la;return null!==(e=null===e?t.ba:e.oa)?(this.la=e,this.key=e.key,this.value=e.value,!0):(this.Dd(),!1)},ct.prototype.ed=function(){return this.next()},ct.prototype.first=function(){var t=this.fa;return this.ia=t.Aa,null!==(t=t.ba)?(this.la=t,this.key=t.key,this.value=t.value,t):null},ct.prototype.any=function(t){var e=this.fa;for(this.la=e.Fa=null,e=e.ba;null!==e;){if(t(e))return!0;e=e.oa}return!1},ct.prototype.all=function(t){var e=this.fa;for(this.la=e.Fa=null,e=e.ba;null!==e;){if(!t(e))return!1;e=e.oa}return!0},ct.prototype.each=function(t){var e=this.fa;for(this.la=e.Fa=null,e=e.ba;null!==e;)t(e),e=e.oa;return this},ct.prototype.map=function(t){var e=this.fa;this.la=e.Fa=null;var n=new tt;for(e=e.ba;null!==e;)n.add(t(e)),e=e.oa;return n.iterator},ct.prototype.filter=function(t){var e=this.fa;this.la=e.Fa=null;var n=new tt;for(e=e.ba;null!==e;)t(e)&&n.add(e),e=e.oa;return n.iterator},ct.prototype.Dd=function(){this.value=this.key=null,this.ia=-1,this.fa.Fa=this},ct.prototype.toString=function(){return null!==this.la?"MapIterator@"+this.la:"MapIterator"},d.Object.defineProperties(ct.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.fa.Db}}}),ct.prototype.first=ct.prototype.first,ct.prototype.hasNext=ct.prototype.ed,ct.prototype.next=ct.prototype.next,ct.prototype.reset=ct.prototype.reset,ct.className="MapIterator",(n=dt.prototype).lb=function(){var t=this.Aa;999999999<++t&&(t=0),this.Aa=t},n.freeze=function(){return this.s=!0,this},n.ea=function(){return this.s=!1,this},n.toString=function(){return"Map()#"+rt(this)},n.add=function(t,e){this.s&&b(this,t);var n=t;S(t)&&(n=ot(t));var i=this.Fb[n];return void 0===i?(this.Db++,t=new ht(t,e),this.Fb[n]=t,null===(n=this.Ve)?this.ba=t:(t.El=n,n.oa=t),this.Ve=t,this.lb()):i.value=e,this},n.set=function(t,e){return this.add(t,e)},n.addAll=function(t){if(null===t)return this;if(k(t))for(var e=t.length,n=0;n<e;n++){var i=t[n];this.add(i.key,i.value)}else if(t instanceof dt)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)e=t.value,this.add(e.key,e.value);return this},n.first=function(){return this.ba},dt.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e))return!0;e=e.oa}return!1},dt.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e))return!1;e=e.oa}return!0},dt.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e),e=e.oa;return this},dt.prototype.map=function(t){for(var e=new dt,n=this.ba;null!==n;)e.add(n.key,t(n)),n=n.oa;return e},dt.prototype.filter=function(t){for(var e=new dt,n=this.ba;null!==n;)t(n)&&e.add(n.key,n.value),n=n.oa;return e},(n=dt.prototype).contains=function(t){var e=t;return(!S(t)||void 0!==(e=rt(t)))&&void 0!==this.Fb[e]},n.has=function(t){return this.contains(t)},n.H=function(t){var e=t;return S(t)&&void 0===(e=rt(t))||void 0===(t=this.Fb[e])?null:t.value},n.get=function(t){return this.H(t)},n.remove=function(t){if(null===t)return!1;this.s&&b(this,t);var e=t;if(S(t)&&void 0===(e=rt(t)))return!1;if(void 0===(t=this.Fb[e]))return!1;var n=t.oa,i=t.El;return null!==n&&(n.El=i),null!==i&&(i.oa=n),this.ba===t&&(this.ba=n),this.Ve===t&&(this.Ve=i),delete this.Fb[e],this.Db--,this.lb(),!0},n.delete=function(t){return this.remove(t)},n.clear=function(){this.s&&b(this),this.Fb={},this.Db=0,null!==this.Fa&&this.Fa.reset(),null!==this.Ue&&this.Ue.reset(),this.Ve=this.ba=null,this.lb()},dt.prototype.copy=function(){var t,e=new dt,n=this.Fb;for(t in n){var i=n[t];e.add(i.key,i.value)}return e},dt.prototype.na=function(){var t,e=this.Fb,n=Array(this.Db),i=0;for(t in e){var o=e[t];n[i]=new ht(o.key,o.value),i++}return n},dt.prototype.Df=function(){return new lt(this)},d.Object.defineProperties(dt.prototype,{count:{get:function(){return this.Db}},size:{get:function(){return this.Db}},iterator:{get:function(){if(0>=this.count)return X;var t=this.Fa;return null!==t?(t.reset(),t):new ct(this)}},iteratorKeys:{get:function(){return 0>=this.count?X:new st(this)}},iteratorValues:{get:function(){if(0>=this.count)return X;var t=this.Ue;return null!==t?(t.reset(),t):new ut(this)}}}),dt.prototype.toKeySet=dt.prototype.Df,dt.prototype.toArray=dt.prototype.na,dt.prototype.clear=dt.prototype.clear,dt.prototype.delete=dt.prototype.delete,dt.prototype.remove=dt.prototype.remove,dt.prototype.get=dt.prototype.get,dt.prototype.getValue=dt.prototype.H,dt.prototype.has=dt.prototype.has,dt.prototype.contains=dt.prototype.contains,dt.prototype.first=dt.prototype.first,dt.prototype.addAll=dt.prototype.addAll,dt.prototype.set=dt.prototype.set,dt.prototype.add=dt.prototype.add,dt.prototype.thaw=dt.prototype.ea,dt.prototype.freeze=dt.prototype.freeze,dt.className="Map",ft.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},ft.prototype.h=function(t,e){return this.x=t,this.y=e,this},ft.prototype.Cg=function(t,e){return this.x=t,this.y=e,this},ft.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},ft.prototype.copy=function(){var t=new ft;return t.x=this.x,t.y=this.y,t},(n=ft.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},n.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.s=!0,this},n.ea=function(){return Object.isFrozen(this)&&_("cannot thaw constant: "+this),this.s=!1,this},n.toString=function(){return"Point("+this.x+","+this.y+")"},n.w=function(t){return t instanceof ft&&(this.x===t.x&&this.y===t.y)},n.Ti=function(t,e){return this.x===t&&this.y===e},n.Ma=function(t){return Ue.A(this.x,t.x)&&Ue.A(this.y,t.y)},n.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.ae=function(t){return this.x-=t.x,this.y-=t.y,this},n.offset=function(t,e){return this.x+=t,this.y+=e,this},ft.prototype.rotate=function(t){if(0===t)return this;var e=this.x,n=this.y;if(0===e&&0===n)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var i=1}else 180===t?(t=-1,i=0):270===t?(t=0,i=-1):(i=t*Math.PI/180,t=Math.cos(i),i=Math.sin(i));return this.x=t*e-i*n,this.y=i*e+t*n,this},(n=ft.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},n.Ce=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},n.dd=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},n.normalize=function(){var t=this.x,e=this.y,n=Math.sqrt(t*t+e*e);return 0<n&&(this.x=t/n,this.y=e/n),this},n.Sa=function(t){return mt(t.x-this.x,t.y-this.y)},n.direction=function(t,e){return mt(t-this.x,e-this.y)},n.mA=function(t,e,n,i){return Ue.Ih(t,e,n,i,this.x,this.y,this),this},n.nA=function(t,e){return Ue.Ih(t.x,t.y,e.x,e.y,this.x,this.y,this),this},n.zA=function(t,e,n,i){return Ue.pq(this.x,this.y,t,e,n,i,this),this},n.AA=function(t,e){return Ue.pq(this.x,this.y,t.x,t.y,e.width,e.height,this),this},n.gj=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},n.zk=function(t,e,n,i,o){return this.x=t+o.x*n+o.offsetX,this.y=e+o.y*i+o.offsetY,this},n.transform=function(t){return t.ra(this),this},n.v=function(){return isFinite(this.x)&&isFinite(this.y)},ft.alloc=function(){var t=At.pop();return void 0===t?new ft:t},ft.allocAt=function(t,e){var n=At.pop();return void 0===n?new ft(t,e):(n.x=t,n.y=e,n)},ft.free=function(t){At.push(t)},ft.prototype.isReal=ft.prototype.v,ft.prototype.setSpot=ft.prototype.zk,ft.prototype.setRectSpot=ft.prototype.gj,ft.prototype.snapToGridPoint=ft.prototype.AA,ft.prototype.snapToGrid=ft.prototype.zA,ft.prototype.projectOntoLineSegmentPoint=ft.prototype.nA,ft.prototype.projectOntoLineSegment=ft.prototype.mA,ft.intersectingLineSegments=function(t,e,n,i,o,r,a,s){return Ue.vq(t,e,n,i,o,r,a,s)},ft.prototype.direction=ft.prototype.direction,ft.prototype.directionPoint=ft.prototype.Sa,ft.prototype.normalize=ft.prototype.normalize,ft.prototype.distanceSquared=ft.prototype.dd,ft.prototype.distanceSquaredPoint=ft.prototype.Ce,ft.prototype.scale=ft.prototype.scale,ft.prototype.rotate=ft.prototype.rotate,ft.prototype.offset=ft.prototype.offset,ft.prototype.subtract=ft.prototype.ae,ft.prototype.add=ft.prototype.add,ft.prototype.equalsApprox=ft.prototype.Ma,ft.prototype.equalTo=ft.prototype.Ti,ft.prototype.equals=ft.prototype.w,ft.prototype.set=ft.prototype.set,ft.prototype.setTo=ft.prototype.Cg;var xt,wt,Ct,St,kt,Et,It,Tt,Dt,Mt,Ot,Pt,At=[];function Rt(t,e){void 0===t?this.height=this.width=0:"number"===typeof t&&(0<=t||isNaN(t))&&"number"===typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):_("Invalid arguments to Size constructor: "+t+", "+e),this.s=!1}function Bt(t){if("string"===typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var o=0;""===t[e];)e++;return(i=t[e++])&&(o=parseFloat(i)),new Rt(n,o)}return new Rt}function Nt(t){return t.width.toString()+" "+t.height.toString()}ft.className="Point",ft.parse=pt,ft.stringify=gt,ft.distanceLineSegmentSquared=yt,ft.distanceSquared=_t,ft.direction=bt,ft.Origin=xt=new ft(0,0).ca(),ft.InfiniteTopLeft=wt=new ft(-1/0,-1/0).ca(),ft.InfiniteBottomRight=Ct=new ft(1/0,1/0).ca(),ft.SixPoint=St=new ft(6,6).ca(),ft.NoPoint=kt=new ft(NaN,NaN).ca(),ft.parse=pt,ft.stringify=gt,ft.distanceLineSegmentSquared=yt,ft.distanceSquared=_t,ft.direction=bt,Rt.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},Rt.prototype.h=function(t,e){return this.width=t,this.height=e,this},Rt.prototype.Cg=function(t,e){return this.width=t,this.height=e,this},Rt.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},Rt.prototype.copy=function(){var t=new Rt;return t.width=this.width,t.height=this.height,t},(n=Rt.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},n.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.s=!0,this},n.ea=function(){return Object.isFrozen(this)&&_("cannot thaw constant: "+this),this.s=!1,this},n.toString=function(){return"Size("+this.width+","+this.height+")"},n.w=function(t){return t instanceof Rt&&(this.width===t.width&&this.height===t.height)},n.Ti=function(t,e){return this.width===t&&this.height===e},n.Ma=function(t){return Ue.A(this.width,t.width)&&Ue.A(this.height,t.height)},n.v=function(){return isFinite(this.width)&&isFinite(this.height)},Rt.alloc=function(){var t=Ft.pop();return void 0===t?new Rt:t},Rt.free=function(t){Ft.push(t)},Rt.prototype.isReal=Rt.prototype.v,Rt.prototype.equalsApprox=Rt.prototype.Ma,Rt.prototype.equalTo=Rt.prototype.Ti,Rt.prototype.equals=Rt.prototype.w,Rt.prototype.set=Rt.prototype.set,Rt.prototype.setTo=Rt.prototype.Cg;var Ft=[];function Lt(t,e,n,i){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof ft?(n=t.x,t=t.y,e instanceof ft?(i=e.x,e=e.y,this.x=Math.min(n,i),this.y=Math.min(t,e),this.width=Math.abs(n-i),this.height=Math.abs(t-e)):e instanceof Rt?(this.x=n,this.y=t,this.width=e.width,this.height=e.height):_("Incorrect arguments supplied to Rect constructor")):"number"===typeof t&&"number"===typeof e&&"number"===typeof n&&(0<=n||isNaN(n))&&"number"===typeof i&&(0<=i||isNaN(i))?(this.x=t,this.y=e,this.width=n,this.height=i):_("Invalid arguments to Rect constructor: "+t+", "+e+", "+n+", "+i),this.s=!1}function Vt(t,e,n){t.width=e,t.height=n}function jt(t){if("string"===typeof t){t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];i&&(n=parseFloat(i));for(var o=0;""===t[e];)e++;(i=t[e++])&&(o=parseFloat(i));for(var r=0;""===t[e];)e++;(i=t[e++])&&(r=parseFloat(i));for(var a=0;""===t[e];)e++;return(i=t[e++])&&(a=parseFloat(i)),new Lt(n,o,r,a)}return new Lt}function zt(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function Ht(t,e){return Ue.$(t.x,e.x)&&Ue.$(t.y,e.y)&&Ue.$(t.width,e.width)&&Ue.$(t.height,e.height)}function Wt(t,e,n,i,o){var r=t.width;return n+o<=-r?(t.x+=r/2,t.width=0):(t.x-=o,t.width+=n+o),e+i<=-(n=t.height)?(t.y+=n/2,t.height=0):(t.y-=e,t.height+=e+i),t}function Gt(t,e,n,i,o){var r=Math.max(t.x,e),a=Math.max(t.y,n);return e=Math.min(t.x+t.width,e+i),n=Math.min(t.y+t.height,n+o),t.x=r,t.y=a,t.width=Math.max(0,e-r),t.height=Math.max(0,n-a),t}function Kt(t,e){var n=t.width,i=t.x,o=e.x-10;return!(i>e.width+10+10+o||o>n+i)&&(n=t.height,t=t.y,i=e.y-10,!(t>e.height+10+10+i||i>n+t))}function $t(t,e,n,i,o){var r=Math.min(t.x,e),a=Math.min(t.y,n);return e=Math.max(t.x+t.width,e+i),n=Math.max(t.y+t.height,n+o),t.x=r,t.y=a,t.width=e-r,t.height=n-a,t}function Ut(t,e,n,i,o,r,a,s){return void 0===a&&(a=0),void 0===s&&(s=0),t<=o&&o+a<=t+n&&e<=r&&r+s<=e+i}function qt(t,e,n,i,o,r,a,s){return!(t>a+o||o>n+t)&&!(e>s+r||r>i+e)}Rt.className="Size",Rt.parse=Bt,Rt.stringify=Nt,Rt.ZeroSize=Et=new Rt(0,0).ca(),Rt.OneSize=It=new Rt(1,1).ca(),Rt.SixSize=Tt=new Rt(6,6).ca(),Rt.EightSize=Dt=new Rt(8,8).ca(),Rt.TenSize=Mt=new Rt(10,10).ca(),Rt.InfiniteSize=Ot=new Rt(1/0,1/0).ca(),Rt.NoSize=Pt=new Rt(NaN,NaN).ca(),Rt.parse=Bt,Rt.stringify=Nt,(n=Lt.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.h=function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},n.Cg=function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},n.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.jd=function(t){return this.x=t.x,this.y=t.y,this},n.xA=function(t){return this.width=t.width,this.height=t.height,this},Lt.prototype.copy=function(){var t=new Lt;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(n=Lt.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},n.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.s=!0,this},n.ea=function(){return Object.isFrozen(this)&&_("cannot thaw constant: "+this),this.s=!1,this},n.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},n.w=function(t){return t instanceof Lt&&(this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height)},n.Ti=function(t,e,n,i){return this.x===t&&this.y===e&&this.width===n&&this.height===i},n.Ma=function(t){return Ue.A(this.x,t.x)&&Ue.A(this.y,t.y)&&Ue.A(this.width,t.width)&&Ue.A(this.height,t.height)},n.aa=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},n.Be=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},n.contains=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),this.x<=t&&t+n<=this.x+this.width&&this.y<=e&&e+i<=this.y+this.height},n.offset=function(t,e){return this.x+=t,this.y+=e,this},n.Vc=function(t,e){return Wt(this,e,t,e,t)},n.fq=function(t){return Wt(this,t.top,t.right,t.bottom,t.left)},n.ow=function(t){return Wt(this,-t.top,-t.right,-t.bottom,-t.left)},n.Qz=function(t,e,n,i){return Wt(this,t,e,n,i)},n.Uz=function(t){return Gt(this,t.x,t.y,t.width,t.height)},n.Iv=function(t,e,n,i){return Gt(this,t,e,n,i)},n.Hc=function(t){return this.Jv(t.x,t.y,t.width,t.height)},n.Jv=function(t,e,n,i){var o=this.width,r=this.x;return!(1/0!==o&&1/0!==n&&(o+=r,n+=t,isNaN(n)||isNaN(o)||r>n||t>o))&&(t=this.height,n=this.y,!(1/0!==t&&1/0!==i&&(t+=n,i+=e,isNaN(i)||isNaN(t)||n>i||e>t)))},n.Ie=function(t){return $t(this,t.x,t.y,0,0)},n.Ic=function(t){return $t(this,t.x,t.y,t.width,t.height)},n.vw=function(t,e,n,i){return void 0===n&&(n=0),void 0===i&&(i=0),$t(this,t,e,n,i)},n.zk=function(t,e,n){return this.x=t-n.offsetX-n.x*this.width,this.y=e-n.offsetY-n.y*this.height,this},n.v=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.Wz=function(){return 0===this.width&&0===this.height},Lt.alloc=function(){var t=Zt.pop();return void 0===t?new Lt:t},Lt.allocAt=function(t,e,n,i){var o=Zt.pop();return void 0===o?new Lt(t,e,n,i):o.h(t,e,n,i)},Lt.free=function(t){Zt.push(t)},d.Object.defineProperties(Lt.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new ft(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new Rt(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new ft(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),Lt.prototype.isEmpty=Lt.prototype.Wz,Lt.prototype.isReal=Lt.prototype.v,Lt.intersectsLineSegment=function(t,e,n,i,o,r,a,s){return Ue.Vx(t,e,n,i,o,r,a,s)},Lt.prototype.setSpot=Lt.prototype.zk,Lt.prototype.union=Lt.prototype.vw,Lt.prototype.unionRect=Lt.prototype.Ic,Lt.prototype.unionPoint=Lt.prototype.Ie,Lt.prototype.intersects=Lt.prototype.Jv,Lt.prototype.intersectsRect=Lt.prototype.Hc,Lt.prototype.intersect=Lt.prototype.Iv,Lt.prototype.intersectRect=Lt.prototype.Uz,Lt.prototype.grow=Lt.prototype.Qz,Lt.prototype.subtractMargin=Lt.prototype.ow,Lt.prototype.addMargin=Lt.prototype.fq,Lt.prototype.inflate=Lt.prototype.Vc,Lt.prototype.offset=Lt.prototype.offset,Lt.prototype.contains=Lt.prototype.contains,Lt.prototype.containsRect=Lt.prototype.Be,Lt.prototype.containsPoint=Lt.prototype.aa,Lt.prototype.equalsApprox=Lt.prototype.Ma,Lt.prototype.equalTo=Lt.prototype.Ti,Lt.prototype.equals=Lt.prototype.w,Lt.prototype.setSize=Lt.prototype.xA,Lt.prototype.setPoint=Lt.prototype.jd,Lt.prototype.set=Lt.prototype.set,Lt.prototype.setTo=Lt.prototype.Cg;var Yt,Xt,Zt=[];function Jt(t,e,n,i){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===n?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==i?(this.top=t,this.right=e,this.bottom=n,this.left=i):_("Invalid arguments to Margin constructor: "+t+", "+e+", "+n+", "+i),this.s=!1}function Qt(t){if("string"===typeof t){t=t.split(" ");for(var e=0,n=NaN;""===t[e];)e++;var i=t[e++];if(i&&(n=parseFloat(i)),isNaN(n))return new Jt;for(var o=NaN;""===t[e];)e++;if((i=t[e++])&&(o=parseFloat(i)),isNaN(o))return new Jt(n);for(var r=NaN;""===t[e];)e++;if((i=t[e++])&&(r=parseFloat(i)),isNaN(r))return new Jt(n,o);for(var a=NaN;""===t[e];)e++;return(i=t[e++])&&(a=parseFloat(i)),isNaN(a)?new Jt(n,o):new Jt(n,o,r,a)}return new Jt}function te(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}Lt.className="Rect",Lt.parse=jt,Lt.stringify=zt,Lt.contains=Ut,Lt.intersects=qt,Lt.ZeroRect=Yt=new Lt(0,0,0,0).ca(),Lt.NoRect=Xt=new Lt(NaN,NaN,NaN,NaN).ca(),Lt.parse=jt,Lt.stringify=zt,Lt.contains=Ut,Lt.intersects=qt,Jt.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},Jt.prototype.Cg=function(t,e,n,i){return this.top=t,this.right=e,this.bottom=n,this.left=i,this},Jt.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},Jt.prototype.copy=function(){var t=new Jt;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(n=Jt.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},n.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.s=!0,this},n.ea=function(){return Object.isFrozen(this)&&_("cannot thaw constant: "+this),this.s=!1,this},n.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},n.w=function(t){return t instanceof Jt&&(this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left)},n.Ti=function(t,e,n,i){return this.top===t&&this.right===e&&this.bottom===n&&this.left===i},n.Ma=function(t){return Ue.A(this.top,t.top)&&Ue.A(this.right,t.right)&&Ue.A(this.bottom,t.bottom)&&Ue.A(this.left,t.left)},n.v=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Jt.alloc=function(){var t=Ve.pop();return void 0===t?new Jt:t},Jt.free=function(t){Ve.push(t)},Jt.prototype.isReal=Jt.prototype.v,Jt.prototype.equalsApprox=Jt.prototype.Ma,Jt.prototype.equalTo=Jt.prototype.Ti,Jt.prototype.equals=Jt.prototype.w,Jt.prototype.set=Jt.prototype.set,Jt.prototype.setTo=Jt.prototype.Cg;var ee,ne,ie,oe,re,ae,se,le,ue,he,ce,de,fe,pe,ge,me,ve,ye,_e,be,xe,we,Ce,Se,ke,Ee,Ie,Te,De,Me,Oe,Pe,Ae,Re,Be,Ne,Fe,Le,Ve=[];function je(t,e,n,i){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.offsetX=n,this.offsetY=i),this.s=!1}function ze(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function He(t){if("string"===typeof t){if("None"===(t=t.trim()))return ie;if("TopLeft"===t)return oe;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return re;if("TopRight"===t)return ae;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return se;if("Center"===t)return le;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return ue;if("BottomLeft"===t)return he;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return ce;if("BottomRight"===t)return de;if("TopSide"===t)return fe;if("LeftSide"===t)return pe;if("RightSide"===t)return ge;if("BottomSide"===t)return me;if("TopBottomSides"===t)return ve;if("LeftRightSides"===t)return ye;if("TopLeftSides"===t)return _e;if("TopRightSides"===t)return be;if("BottomLeftSides"===t)return xe;if("BottomRightSides"===t)return we;if("NotTopSide"===t)return Ce;if("NotLeftSide"===t)return Se;if("NotRightSide"===t)return ke;if("NotBottomSide"===t)return Ee;if("AllSides"===t)return Ie;if("Default"===t)return Te;t=t.split(" ");for(var e=0,n=0;""===t[e];)e++;var i=t[e++];void 0!==i&&0<i.length&&(n=parseFloat(i));for(var o=0;""===t[e];)e++;void 0!==(i=t[e++])&&0<i.length&&(o=parseFloat(i));for(var r=0;""===t[e];)e++;void 0!==(i=t[e++])&&0<i.length&&(r=parseFloat(i));for(var a=0;""===t[e];)e++;return void 0!==(i=t[e++])&&0<i.length&&(a=parseFloat(i)),new je(n,o,r,a)}return new je}function We(t){return t.hb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}Jt.className="Margin",Jt.parse=Qt,Jt.stringify=te,Jt.ZeroMargin=ee=new Jt(0,0,0,0).ca(),Jt.TwoMargin=ne=new Jt(2,2,2,2).ca(),Jt.parse=Qt,Jt.stringify=te,je.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},je.prototype.Cg=function(t,e,n,i){return this.x=t,this.y=e,this.offsetX=n,this.offsetY=i,this},je.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},je.prototype.copy=function(){var t=new je;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(n=je.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},n.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},n.freeze=function(){return this.s=!0,this},n.ea=function(){return Object.isFrozen(this)&&_("cannot thaw constant: "+this),this.s=!1,this},n.toString=function(){return this.hb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.w(ie)?"None":this.w(oe)?"TopLeft":this.w(re)?"Top":this.w(ae)?"TopRight":this.w(se)?"Left":this.w(le)?"Center":this.w(ue)?"Right":this.w(he)?"BottomLeft":this.w(ce)?"Bottom":this.w(de)?"BottomRight":this.w(fe)?"TopSide":this.w(pe)?"LeftSide":this.w(ge)?"RightSide":this.w(me)?"BottomSide":this.w(ve)?"TopBottomSides":this.w(ye)?"LeftRightSides":this.w(_e)?"TopLeftSides":this.w(be)?"TopRightSides":this.w(xe)?"BottomLeftSides":this.w(we)?"BottomRightSides":this.w(Ce)?"NotTopSide":this.w(Se)?"NotLeftSide":this.w(ke)?"NotRightSide":this.w(Ee)?"NotBottomSide":this.w(Ie)?"AllSides":this.w(Te)?"Default":"None"},n.w=function(t){return t instanceof je&&((this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY)},n.Uv=function(){return new je(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},n.xf=function(t){if(!this.gd())return!1;if(!t.gd())if(t.w(De))t=pe;else if(t.w(Me))t=ge;else if(t.w(Oe))t=fe;else{if(!t.w(Pe))return!1;t=me}return t=t.offsetY,(this.offsetY&t)===t},n.hb=function(){return!isNaN(this.x)&&!isNaN(this.y)},n.kc=function(){return isNaN(this.x)||isNaN(this.y)},n.gd=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},n.At=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},n.Mb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},je.alloc=function(){var t=Ge.pop();return void 0===t?new je:t},je.free=function(t){Ge.push(t)},je.prototype.isDefault=je.prototype.Mb,je.prototype.isNone=je.prototype.At,je.prototype.isSide=je.prototype.gd,je.prototype.isNoSpot=je.prototype.kc,je.prototype.isSpot=je.prototype.hb,je.prototype.includesSide=je.prototype.xf,je.prototype.opposite=je.prototype.Uv,je.prototype.equals=je.prototype.w,je.prototype.set=je.prototype.set,je.prototype.setTo=je.prototype.Cg;var Ge=[];function Ke(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}je.className="Spot",je.parse=He,je.stringify=We,je.None=ie=ze(new je(0,0,0,0),0).ca(),je.Default=Te=ze(new je(0,0,-1,0),-1).ca(),je.TopLeft=oe=new je(0,0,0,0).ca(),je.TopCenter=re=new je(.5,0,0,0).ca(),je.TopRight=ae=new je(1,0,0,0).ca(),je.LeftCenter=se=new je(0,.5,0,0).ca(),je.Center=le=new je(.5,.5,0,0).ca(),je.RightCenter=ue=new je(1,.5,0,0).ca(),je.BottomLeft=he=new je(0,1,0,0).ca(),je.BottomCenter=ce=new je(.5,1,0,0).ca(),je.BottomRight=de=new je(1,1,0,0).ca(),je.MiddleTop=Ae=re,je.MiddleLeft=Re=se,je.MiddleRight=Be=ue,je.MiddleBottom=Ne=ce,je.Top=Oe=re,je.Left=De=se,je.Right=Me=ue,je.Bottom=Pe=ce,je.TopSide=fe=ze(new je(0,0,1,1),1).ca(),je.LeftSide=pe=ze(new je(0,0,1,2),1).ca(),je.RightSide=ge=ze(new je(0,0,1,4),1).ca(),je.BottomSide=me=ze(new je(0,0,1,8),1).ca(),je.TopBottomSides=ve=ze(new je(0,0,1,9),1).ca(),je.LeftRightSides=ye=ze(new je(0,0,1,6),1).ca(),je.TopLeftSides=_e=ze(new je(0,0,1,3),1).ca(),je.TopRightSides=be=ze(new je(0,0,1,5),1).ca(),je.BottomLeftSides=xe=ze(new je(0,0,1,10),1).ca(),je.BottomRightSides=we=ze(new je(0,0,1,12),1).ca(),je.NotTopSide=Ce=ze(new je(0,0,1,14),1).ca(),je.NotLeftSide=Se=ze(new je(0,0,1,13),1).ca(),je.NotRightSide=ke=ze(new je(0,0,1,11),1).ca(),je.NotBottomSide=Ee=ze(new je(0,0,1,7),1).ca(),je.AllSides=Ie=ze(new je(0,0,1,15),1).ca(),Fe=new je(.156,.156).ca(),Le=new je(.844,.844).ca(),je.parse=He,je.stringify=We,Ke.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},Ke.prototype.copy=function(){var t=new Ke;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},(n=Ke.prototype).toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},n.w=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},n.yt=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},n.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},n.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,n=this.m12*t.m11+this.m22*t.m12,i=this.m11*t.m21+this.m21*t.m22,o=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=n,this.m21=i,this.m22=o,this},n.Qv=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),n=t.m22*e,i=-t.m12*e,o=-t.m21*e,r=t.m11*e,a=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*n+this.m21*i,n=this.m12*n+this.m22*i,i=this.m11*o+this.m21*r,o=this.m12*o+this.m22*r,this.dx=this.m11*a+this.m21*t+this.dx,this.dy=this.m12*a+this.m22*t+this.dy,this.m11=e,this.m12=n,this.m21=i,this.m22=o,this},n.xt=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,n=-this.m21*t,i=this.m11*t,o=t*(this.m21*this.dy-this.m22*this.dx),r=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=n,this.m22=i,this.dx=o,this.dy=r,this},Ke.prototype.rotate=function(t,e,n){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,n),90===t){t=0;var i=1}else 180===t?(t=-1,i=0):270===t?(t=0,i=-1):(i=t*Math.PI/180,t=Math.cos(i),i=Math.sin(i));var o=this.m12*t+this.m22*i,r=this.m11*-i+this.m21*t,a=this.m12*-i+this.m22*t;return this.m11=this.m11*t+this.m21*i,this.m12=o,this.m21=r,this.m22=a,this.translate(-e,-n),this},(n=Ke.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},n.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},n.ra=function(t){var e=t.x,n=t.y;return t.h(e*this.m11+n*this.m21+this.dx,e*this.m12+n*this.m22+this.dy)},n.Wd=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),n=t.x,i=t.y;return t.h(n*this.m22*e+i*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),n*-this.m12*e+i*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},n.uw=function(t){var e=t.x,n=t.y,i=e+t.width,o=n+t.height,r=this.m11,a=this.m12,s=this.m21,l=this.m22,u=this.dx,h=this.dy,c=e*r+n*s+u,d=e*a+n*l+h,f=i*r+n*s+u,p=i*a+n*l+h;return n=e*r+o*s+u,e=e*a+o*l+h,r=i*r+o*s+u,i=i*a+o*l+h,o=Math.min(c,f),c=Math.max(c,f),f=Math.min(d,p),d=Math.max(d,p),o=Math.min(o,n),c=Math.max(c,n),f=Math.min(f,e),d=Math.max(d,e),o=Math.min(o,r),c=Math.max(c,r),f=Math.min(f,i),d=Math.max(d,i),t.h(o,f,c-o,d-f),t},Ke.alloc=function(){var t=$e.pop();return void 0===t?new Ke:t},Ke.free=function(t){$e.push(t)},Ke.prototype.transformRect=Ke.prototype.uw,Ke.prototype.invertedTransformPoint=Ke.prototype.Wd,Ke.prototype.transformPoint=Ke.prototype.ra,Ke.prototype.scale=Ke.prototype.scale,Ke.prototype.translate=Ke.prototype.translate,Ke.prototype.rotate=Ke.prototype.rotate,Ke.prototype.invert=Ke.prototype.xt,Ke.prototype.multiplyInverted=Ke.prototype.Qv,Ke.prototype.multiply=Ke.prototype.multiply,Ke.prototype.reset=Ke.prototype.reset,Ke.prototype.isIdentity=Ke.prototype.yt,Ke.prototype.equals=Ke.prototype.w,Ke.prototype.set=Ke.prototype.set;var $e=[];Ke.className="Transform",Ke.xF="54a702f3e53909c447824c6706603faf4c";var Ue={GA:"7da71ca0ad381e90",Fg:(Math.sqrt(2)-1)/3*4,Kw:null,sqrt:function(t){if(0>=t)return 0;var e=Ue.Kw;if(null===e){e=[];for(var n=0;2e3>=n;n++)e[n]=Math.sqrt(n);Ue.Kw=e}return 1>t?2e3>=(n=1/t)?1/e[0|n]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},A:function(t,e){return.5>(t-=e)&&-.5<t},$:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Nb:function(t,e,n,i,o,r,a){if(0>=o&&(o=1e-6),t<n)var s=t,l=n;else s=n,l=t;if(e<i)var u=e,h=i;else u=i,h=e;if(t===n)return u<=a&&a<=h&&t-o<=r&&r<=t+o;if(e===i)return s<=r&&r<=l&&e-o<=a&&a<=e+o;if(l+=o,(s-=o)<=r&&r<=l&&(h+=o,(u-=o)<=a&&a<=h))if(l-s>h-u){if(!(t-n>o||n-t>o))return!0;if((r=(i-e)/(n-t)*(r-t)+e)-o<=a&&a<=r+o)return!0}else{if(!(e-i>o||i-e>o))return!0;if((a=(n-t)/(i-e)*(a-e)+t)-o<=r&&r<=a+o)return!0}return!1},et:function(t,e,n,i,o,r,a,s,l,u,h,c){if(Ue.Nb(t,e,a,s,c,n,i)&&Ue.Nb(t,e,a,s,c,o,r))return Ue.Nb(t,e,a,s,c,u,h);var d=(t+n)/2,f=(e+i)/2,p=(n+o)/2,g=(i+r)/2,m=((i=(d+p)/2)+(p=(p+(o=(o+a)/2))/2))/2,v=((n=(f+g)/2)+(g=(g+(r=(r+s)/2))/2))/2;return Ue.et(t,e,d,f,i,n,m,v,l,u,h,c)||Ue.et(m,v,p,g,o,r,a,s,l,u,h,c)},Uy:function(t,e,n,i,o,r,a,s,l){var u=(n+o)/2,h=(i+r)/2;return l.h((((t+n)/2+u)/2+(u+(o+a)/2)/2)/2,(((e+i)/2+h)/2+(h+(r+s)/2)/2)/2),l},Ty:function(t,e,n,i,o,r,a,s){var l=(n+o)/2,u=(i+r)/2;return bt(((t+n)/2+l)/2,((e+i)/2+u)/2,(l+(o+a)/2)/2,(u+(r+s)/2)/2)},cm:function(t,e,n,i,o,r,a,s,l,u){if(Ue.Nb(t,e,a,s,l,n,i)&&Ue.Nb(t,e,a,s,l,o,r))$t(u,t,e,0,0),$t(u,a,s,0,0);else{var h=(t+n)/2,c=(e+i)/2,d=(n+o)/2,f=(i+r)/2,p=((i=(h+d)/2)+(d=(d+(o=(o+a)/2))/2))/2,g=((n=(c+f)/2)+(f=(f+(r=(r+s)/2))/2))/2;Ue.cm(t,e,h,c,i,n,p,g,l,u),Ue.cm(p,g,d,f,o,r,a,s,l,u)}return u},Ae:function(t,e,n,i,o,r,a,s,l,u){if(Ue.Nb(t,e,a,s,l,n,i)&&Ue.Nb(t,e,a,s,l,o,r))0===u.length&&(u.push(t),u.push(e)),u.push(a),u.push(s);else{var h=(t+n)/2,c=(e+i)/2,d=(n+o)/2,f=(i+r)/2,p=((i=(h+d)/2)+(d=(d+(o=(o+a)/2))/2))/2,g=((n=(c+f)/2)+(f=(f+(r=(r+s)/2))/2))/2;Ue.Ae(t,e,h,c,i,n,p,g,l,u),Ue.Ae(p,g,d,f,o,r,a,s,l,u)}return u},Xv:function(t,e,n,i,o,r,a,s,l,u){if(Ue.Nb(t,e,o,r,u,n,i))return Ue.Nb(t,e,o,r,u,s,l);var h=(t+n)/2,c=(e+i)/2,d=(h+(n=(n+o)/2))/2,f=(c+(i=(i+r)/2))/2;return Ue.Xv(t,e,h,c,d,f,a,s,l,u)||Ue.Xv(d,f,n,i,o,r,a,s,l,u)},MA:function(t,e,n,i,o,r,a){return a.h(((t+n)/2+(n+o)/2)/2,((e+i)/2+(i+r)/2)/2),a},Wv:function(t,e,n,i,o,r,a,s){if(Ue.Nb(t,e,o,r,a,n,i))$t(s,t,e,0,0),$t(s,o,r,0,0);else{var l=(t+n)/2,u=(e+i)/2,h=(l+(n=(n+o)/2))/2,c=(u+(i=(i+r)/2))/2;Ue.Wv(t,e,l,u,h,c,a,s),Ue.Wv(h,c,n,i,o,r,a,s)}return s},Fq:function(t,e,n,i,o,r,a,s){if(Ue.Nb(t,e,o,r,a,n,i))0===s.length&&(s.push(t),s.push(e)),s.push(o),s.push(r);else{var l=(t+n)/2,u=(e+i)/2,h=(l+(n=(n+o)/2))/2,c=(u+(i=(i+r)/2))/2;Ue.Fq(t,e,l,u,h,c,a,s),Ue.Fq(h,c,n,i,o,r,a,s)}return s},hq:function(t,e,n,i,o,r,a,s,l,u,h,c,d,f){if(Ue.Nb(t,e,a,s,d,n,i)&&Ue.Nb(t,e,a,s,d,o,r)){var p=(t-a)*(u-c)-(e-s)*(l-h);if(0===p)return!1;if(d=((t*s-e*a)*(l-h)-(t-a)*(l*c-u*h))/p,p=((t*s-e*a)*(u-c)-(e-s)*(l*c-u*h))/p,(l>h?l-h:h-l)<(u>c?u-c:c-u)){if(e<s?a=e:(a=s,s=e),p<a||p>s)return!1}else if(t<a?s=t:(s=a,a=t),d<s||d>a)return!1;return f.h(d,p),!0}var g=(e+i)/2,m=((p=(t+n)/2)+(n=(n+o)/2))/2,v=(g+(i=(i+r)/2))/2,y=(m+(n=(n+(o=(o+a)/2))/2))/2,_=(v+(i=(i+(r=(r+s)/2))/2))/2,b=(h-l)*(h-l)+(c-u)*(c-u),x=!1;return Ue.hq(t,e,p,g,m,v,y,_,l,u,h,c,d,f)&&((t=(f.x-l)*(f.x-l)+(f.y-u)*(f.y-u))<b&&(b=t,x=!0)),t=f.x,e=f.y,Ue.hq(y,_,n,i,o,r,a,s,l,u,h,c,d,f)&&((f.x-l)*(f.x-l)+(f.y-u)*(f.y-u)<b?x=!0:f.h(t,e)),x},iq:function(t,e,n,i,o,r,a,s,l,u,h,c,d){var f=0;if(Ue.Nb(t,e,a,s,d,n,i)&&Ue.Nb(t,e,a,s,d,o,r)){if(0===(d=(t-a)*(u-c)-(e-s)*(l-h)))return f;var p=((t*s-e*a)*(l-h)-(t-a)*(l*c-u*h))/d,g=((t*s-e*a)*(u-c)-(e-s)*(l*c-u*h))/d;if(p>=h)return f;if((l>h?l-h:h-l)<(u>c?u-c:c-u)){if(e<s?(t=e,e=s):t=s,g<t||g>e)return f}else if(t<a?(e=t,t=a):e=a,p<e||p>t)return f;0<d?f++:0>d&&f--}else{g=(e+i)/2;var m=(n+o)/2,v=(i+r)/2,y=((i=((p=(t+n)/2)+m)/2)+(m=(m+(o=(o+a)/2))/2))/2,_=((n=(g+v)/2)+(v=(v+(r=(r+s)/2))/2))/2;f+=Ue.iq(t,e,p,g,i,n,y,_,l,u,h,c,d),f+=Ue.iq(y,_,m,v,o,r,a,s,l,u,h,c,d)}return f},Ih:function(t,e,n,i,o,r,a){return Ue.$(t,n)?(e<i?(n=e,e=i):n=i,r<n?(a.h(t,n),!1):r>e?(a.h(t,e),!1):(a.h(t,r),!0)):Ue.$(e,i)?(t<n?(i=t,t=n):i=n,o<i?(a.h(i,e),!1):o>t?(a.h(t,e),!1):(a.h(o,e),!0)):-5e-6>(o=((t-o)*(t-n)+(e-r)*(e-i))/((n-t)*(n-t)+(i-e)*(i-e)))?(a.h(t,e),!1):1.000005<o?(a.h(n,i),!1):(a.h(t+o*(n-t),e+o*(i-e)),!0)},Fe:function(t,e,n,i,o,r,a,s,l){return Ue.A(t,n)&&Ue.A(e,i)?(l.h(t,e),!1):Ue.$(o,a)?Ue.$(t,n)?(Ue.Ih(t,e,n,i,o,r,l),!1):Ue.Ih(t,e,n,i,o,(i-e)/(n-t)*(o-t)+e,l):(s=(s-r)/(a-o),Ue.$(t,n)?(n=s*(t-o)+r,e<i?(o=e,e=i):o=i,n<o?(l.h(t,o),!1):n>e?(l.h(t,e),!1):(l.h(t,n),!0)):(a=(i-e)/(n-t),Ue.$(s,a)?(Ue.Ih(t,e,n,i,o,r,l),!1):(o=(a*t-s*o+r-e)/(a-s),Ue.$(a,0)?(t<n?(i=t,t=n):i=n,o<i?(l.h(i,e),!1):o>t?(l.h(t,e),!1):(l.h(o,e),!0)):Ue.Ih(t,e,n,i,o,a*(o-t)+e,l))))},LA:function(t,e,n,i,o){return Ue.Fe(n.x,n.y,i.x,i.y,t.x,t.y,e.x,e.y,o)},KA:function(t,e,n,i,o,r,a,s,l,u){function h(n,i){var o=(n-t)*(n-t)+(i-e)*(i-e);o<c&&(c=o,l.h(n,i))}var c=1/0;h(l.x,l.y);var d=0,f=0,p=0,g=0;if(o<a?(d=o,f=a):(d=a,f=o),r<s?(p=o,g=a):(p=a,g=o),d=(f-d)/2+u,u=(g-p)/2+u,o=(o+a)/2,r=(r+s)/2,0===d||0===u)return l;if(.5>(n>t?n-t:t-n)){if(0>(d=1-(n-o)*(n-o)/(d*d)))return l;i=-u*(d=Math.sqrt(d))+r,h(n,u*d+r),h(n,i)}else{if(0>(d=(s=2*(n=(i-e)/(n-t))*(e-n*t)/(u*u)-2*n*r/(u*u)-2*o/(d*d))*s-4*(i=1/(d*d)+n*n/(u*u))*(2*n*t*r/(u*u)-2*e*r/(u*u)+r*r/(u*u)+o*o/(d*d)-1+(e-n*t)*(e-n*t)/(u*u))))return l;h(u=(-s+(d=Math.sqrt(d)))/(2*i),n*u-n*t+e),h(d=(-s-d)/(2*i),n*d-n*t+e)}return l},Uc:function(t,e,n,i,o,r,a,s,l){var u=1e21,h=t,c=e;if(Ue.Fe(t,e,t,i,o,r,a,s,l)){var d=(l.x-o)*(l.x-o)+(l.y-r)*(l.y-r);d<u&&(u=d,h=l.x,c=l.y)}return Ue.Fe(n,e,n,i,o,r,a,s,l)&&((d=(l.x-o)*(l.x-o)+(l.y-r)*(l.y-r))<u&&(u=d,h=l.x,c=l.y)),Ue.Fe(t,e,n,e,o,r,a,s,l)&&((e=(l.x-o)*(l.x-o)+(l.y-r)*(l.y-r))<u&&(u=e,h=l.x,c=l.y)),Ue.Fe(t,i,n,i,o,r,a,s,l)&&((t=(l.x-o)*(l.x-o)+(l.y-r)*(l.y-r))<u&&(u=t,h=l.x,c=l.y)),l.h(h,c),1e21>u},JA:function(t,e,n,i,o,r,a,s,l){return a=o-a,0===(n=t-n)||0===a?0===n?o=(e=(r-s)/a)*(s=t)+(r-e*o):o=(r=(e-i)/n)*(s=o)+(e-r*t):o=(i=(e-i)/n)*(s=(r-(s=(r-s)/a)*o-(t=e-i*t))/(i-s))+t,l.h(s,o),l},vt:function(t,e,n){return Ue.Vx(t.x,t.y,t.width,t.height,e.x,e.y,n.x,n.y)},Vx:function(t,e,n,i,o,r,a,s){var l=t+n,u=e+i;return o===a?(r<s?(a=r,r=s):a=s,t<=o&&o<=l&&a<=u&&r>=e):r===s?(o<a?(s=o,o=a):s=a,e<=r&&r<=u&&s<=l&&o>=t):!!(Ut(t,e,n,i,o,r)||Ut(t,e,n,i,a,s)||Ue.vq(t,e,l,e,o,r,a,s)||Ue.vq(l,e,l,u,o,r,a,s)||Ue.vq(l,u,t,u,o,r,a,s)||Ue.vq(t,u,t,e,o,r,a,s))},vq:function(t,e,n,i,o,r,a,s){return 0>=Ue.ht(t,e,n,i,o,r)*Ue.ht(t,e,n,i,a,s)&&0>=Ue.ht(o,r,a,s,t,e)*Ue.ht(o,r,a,s,n,i)},ht:function(t,e,n,i,o,r){return n-=t,0===(r=(t=o-t)*(i-=e)-(e=r-e)*n)&&(0<(r=t*n+e*i)&&(0>(r=(t-n)*n+(e-i)*i)&&(r=0))),0>r?-1:0<r?1:0},Cq:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},Hx:function(t,e,n,i,o,r){var a=Math.PI;r||(i*=a/180,o*=a/180);var s=i>o?-1:1;r=[];var l=a/2,u=i;if(1e-5>(i=Math.min(2*a,Math.abs(o-i))))return l=u+s*Math.min(i,l),s=t+n*Math.cos(u),u=e+n*Math.sin(u),t+=n*Math.cos(l),e+=n*Math.sin(l),n=(s+t)/2,l=(u+e)/2,r.push([s,u,n,l,n,l,t,e]),r;for(;1e-5<i;)o=u+s*Math.min(i,l),r.push(Ue.az(n,u,o,t,e)),i-=Math.abs(o-u),u=o;return r},az:function(t,e,n,i,o){var r=(n-e)/2,a=t*Math.cos(r),s=t*Math.sin(r),l=-s,u=a*a+l*l,h=u+a*a+l*s;return s=a-(u=4/3*(Math.sqrt(2*u*h)-h)/(a*s-l*a))*l,l=-(a=l+u*a),u=r+e,r=Math.cos(u),u=Math.sin(u),[i+t*Math.cos(e),o+t*Math.sin(e),i+s*r-a*u,o+s*u+a*r,i+s*r-l*u,o+s*u+l*r,i+t*Math.cos(n),o+t*Math.sin(n)]},pq:function(t,e,n,i,o,r,a){var s=n=Math.floor((t-n)/o)*o+n;return n+o-t<o/2&&(s=n+o),t=i=Math.floor((e-i)/r)*r+i,i+r-e<r/2&&(t=i+r),a.h(s,t),a},Rx:function(t,e){var n,i=Math.max(t,e);t=Math.min(t,e);do{e=i%t,i=n=t,t=e}while(0<e);return n},fz:function(t,e,n,i){var o=0>n,r=0>i;if(t<e)var a=1,s=0;else a=0,s=1;var l=0===a?t:e,u=0===a?n:i;return(0===a?o:r)&&(u=-u),n=0===(a=s)?n:i,(0===a?o:r)&&(n=-n),Ue.gz(l,0===a?t:e,u,n,0,0)},gz:function(t,e,n,i,o,r){if(0<i)if(0<n){o=t*t,t*=n;var a=e*i,s=-(r=e*e)+a,l=-r+Math.sqrt(t*t+a*a);e=s;for(var u=0;9999999999>u&&((e=.5*(s+l))!==s&&e!==l);++u){var h=t/(e+o),c=a/(e+r);if(0<(h=h*h+c*c-1))s=e;else{if(!(0>h))break;l=e}}n=o*n/(e+o)-n,i=r*i/(e+r)-i,n=Math.sqrt(n*n+i*i)}else n=Math.abs(i-e);else(r=t*n)<(i=t*t-e*e)?(i=r/i,r=e*Math.sqrt(Math.abs(1-i*i)),n=t*i-n,n=Math.sqrt(n*n+r*r)):n=Math.abs(n-t);return n},Je:new q,Nm:new q,Mh:new q,Nh:0};function qe(t){it(this),this.s=!1,void 0===t&&(t=un),this.pa=t,this.nc=this.ec=this.Sc=this.Rc=0,this.uj=new tt,this.Gr=this.uj.Aa,this.nr=(new Lt).freeze(),this.qa=!0,this.Um=this.Ik=null,this.Vm=NaN,this.jf=oe,this.kf=de,this.kl=this.ll=NaN,this.Nf=Gr}function Ye(t,e){return t.type===an&&e.type===un&&!!(1===e.figures.count&&(e=e.figures.L(0),1===e.segments.count&&Ue.A(t.startX,e.startX)&&Ue.A(t.startY,e.startY)&&(e=e.segments.L(0),e.type===gn&&Ue.A(t.endX,e.endX)&&Ue.A(t.endY,e.endY))))}function Xe(t){return t.toString()}function Ze(t,e){function n(){return g>=b-1||null!==l[g+1].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)}function i(){return g++,l[g]}function o(){var t=new ft(parseFloat(i()),parseFloat(i()));return m===m.toLowerCase()&&(t.x=_.x+t.x,t.y=_.y+t.y),t}function r(){return _=o()}function a(){return y=o()}function s(){var t=v.toLowerCase();return"c"!==t&&"s"!==t&&"q"!==t&&"t"!==t?_:new ft(2*_.x-y.x,2*_.y-y.y)}void 0===e&&(e=!1);var l=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^\s])/gm,"$1 $2")).replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<l.length;t++){var u=l[t];if(null!==u.match(/(\.[0-9]*)(\.)/gm)){for(var h=D(),c="",d=!1,f=0;f<u.length;f++){var p=u[f];"."!==p||d?"."===p?(h.push(c),c="."):c+=p:(d=!0,c+=p)}for(h.push(c),l.splice(t,1),u=0;u<h.length;u++)l.splice(t+u,0,h[u]);t+=h.length-1,M(h)}}var g=-1,m="",v="";h=new ft(0,0);var y=new ft(0,0),_=new ft(0,0),b=l.length;for(t=qu(null),c=u=!1,d=!0,f=null;!(g>=b-1);)if(v=m,""!==(m=i()))switch(m.toUpperCase()){case"X":d=!0,c=u=!1;break;case"M":for(f=r(),null===t.fc||!0===d?(Wu(t,f.x,f.y,u,!c),d=!1):t.moveTo(f.x,f.y),h=_;!n();)f=r(),t.lineTo(f.x,f.y);break;case"L":for(;!n();)f=r(),t.lineTo(f.x,f.y);break;case"H":for(;!n();)_=new ft((m===m.toLowerCase()?_.x:0)+parseFloat(i()),_.y),t.lineTo(_.x,_.y);break;case"V":for(;!n();)_=new ft(_.x,(m===m.toLowerCase()?_.y:0)+parseFloat(i())),t.lineTo(_.x,_.y);break;case"C":for(;!n();){f=o(),p=a();var x=r();Ku(t,f.x,f.y,p.x,p.y,x.x,x.y)}break;case"S":for(;!n();)f=s(),p=a(),x=r(),Ku(t,f.x,f.y,p.x,p.y,x.x,x.y);break;case"Q":for(;!n();)f=a(),p=r(),$u(t,f.x,f.y,p.x,p.y);break;case"T":for(;!n();)y=f=s(),p=r(),$u(t,f.x,f.y,p.x,p.y);break;case"B":for(;!n();){f=parseFloat(i()),p=parseFloat(i()),x=parseFloat(i());var w=parseFloat(i()),C=parseFloat(i()),S=C,k=!1;n()||(S=parseFloat(i()),n()||(k=0!==parseFloat(i()))),m===m.toLowerCase()&&(x+=_.x,w+=_.y),t.arcTo(f,p,x,w,C,S,k)}break;case"A":for(;!n();)Uu(t,f=Math.abs(parseFloat(i())),p=Math.abs(parseFloat(i())),x=parseFloat(i()),w=!!parseFloat(i()),C=!!parseFloat(i()),(S=r()).x,S.y);break;case"Z":Gu(t),_=h;break;case"F":for(f="",p=1;l[g+p];)if(null!==l[g+p].match(/[Uu]/))p++;else{if(null!==l[g+p].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){f=l[g+p];break}p++}f.match(/[Mm]/)?u=!0:0<t.fc.segments.length&&(t.fc.isFilled=!0);break;case"U":for(f="",p=1;l[g+p];)if(null!==l[g+p].match(/[Ff]/))p++;else{if(null!==l[g+p].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){f=l[g+p];break}p++}f.match(/[Mm]/)?c=!0:t.Oq(!1)}if(h=t.qt,Yu=t,e)for(e=h.figures.iterator;e.next();)e.value.isFilled=!0;return h}function Je(t,e){for(var n=t.length,i=ft.alloc(),o=0;o<n;o++){var r=t[o];i.x=r[0],i.y=r[1],e.ra(i),r[0]=i.x,r[1]=i.y,i.x=r[2],i.y=r[3],e.ra(i),r[2]=i.x,r[3]=i.y,i.x=r[4],i.y=r[5],e.ra(i),r[4]=i.x,r[5]=i.y,i.x=r[6],i.y=r[7],e.ra(i),r[6]=i.x,r[7]=i.y}ft.free(i)}function Qe(t,e,n){switch(t.type){case an:case sn:case ln:n?e.h(t.Rc,t.Sc,0,0):$t(e,t.Rc,t.Sc,0,0),$t(e,t.ec,t.nc,0,0);break;case un:var i=t.figures;t=i.j,i=i.length;for(var o=0;o<i;o++){var r=t[o];n&&0===o?e.h(r.startX,r.startY,0,0):$t(e,r.startX,r.startY,0,0);for(var a=r.segments.j,s=a.length,l=r.startX,u=r.startY,h=0;h<s;h++){var c=a[h];switch(c.type){case gn:case pn:$t(e,l=c.endX,u=c.endY,0,0);break;case mn:Ue.cm(l,u,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.5,e),l=c.endX,u=c.endY;break;case vn:Ue.Wv(l,u,c.point1X,c.point1Y,c.endX,c.endY,.5,e),l=c.endX,u=c.endY;break;case yn:case _n:var d=c.type===yn?dn(c,r):fn(c,r,l,u),f=d.length;if(0===f){$t(e,l=c.centerX,u=c.centerY,0,0);break}c=null;for(var p=0;p<f;p++)c=d[p],Ue.cm(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.5,e);null!==c&&(l=c[6],u=c[7]);break;default:_("Unknown Segment type: "+c.type)}}}break;default:_("Unknown Geometry type: "+t.type)}}function tn(t,e,n,i,o){var r=e.x;e=e.y;for(var a,s,l,u,h=t.bounds.x-20,c=0,d=t.figures.j,f=d.length,p=0;p<f;p++){var g=d[p];if(g.isFilled){if(i&&g.aa(r,e,n))return!0;for(var m=g.segments,v=a=g.startX,y=s=g.startY,b=m.j,x=0;x<=m.length;x++){var w=void 0;if(x!==m.length){var C=(w=b[x]).type;t=w.endX,u=w.endY}else C=gn,t=v,u=y;switch(C){case pn:if(v=en(r,e,h,e,a,s,v,y),isNaN(v))return!0;c+=v,v=t,y=u;break;case gn:if(a=en(r,e,h,e,a,s,t,u),isNaN(a))return!0;c+=a;break;case mn:c+=l=Ue.iq(a,s,w.point1X,w.point1Y,w.point2X,w.point2Y,t,u,h,e,r,e,.5);break;case vn:c+=l=Ue.iq(a,s,(a+2*w.point1X)/3,(s+2*w.point1Y)/3,(2*w.point1X+t)/3,(2*w.point1Y+u)/3,t,u,h,e,r,e,.5);break;case yn:case _n:var S=(C=w.type===yn?dn(w,g):fn(w,g,a,s)).length;if(0===S){if(a=en(r,e,h,e,a,s,w.centerX,w.centerY),isNaN(a))return!0;c+=a;break}w=null;for(var k=0;k<S;k++){if(w=C[k],0===k){if(l=en(r,e,h,e,a,s,w[0],w[1]),isNaN(l))return!0;c+=l}c+=l=Ue.iq(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],h,e,r,e,.5)}null!==w&&(t=w[6],u=w[7]);break;default:_("Unknown Segment type: "+w.type)}a=t,s=u}if(0!==c)return!0;c=0}else if(g.aa(r,e,o?n:n+2))return!0}return 0!==c}function en(t,e,n,i,o,r,a,s){if(Ue.Nb(o,r,a,s,.05,t,e))return NaN;var l=(t-n)*(r-s);if(0===l)return 0;var u=((t*i-e*n)*(o-a)-(t-n)*(o*s-r*a))/l;if(e=(t*i-e*n)*(r-s)/l,u>=t)return 0;if((o>a?o-a:a-o)<(r>s?r-s:s-r)){if(r<s){if(e<r||e>s)return 0}else if(e<s||e>r)return 0}else if(o<a){if(u<o||u>a)return 0}else if(u<a||u>o)return 0;return 0<l?1:-1}function nn(t,e,n,i){for(var o=(t=t.figures.j).length,r=0;r<o;r++)if(t[r].aa(e,n,i))return!0;return!1}function on(t){if(null===t.Ik){var e=t.Ik=[],n=t.Um=[],i=[],o=[];if(t.type===an)i.push(t.startX),i.push(t.startY),i.push(t.endX),i.push(t.endY),e.push(i),o.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),n.push(o);else if(t.type===sn)i.push(t.startX),i.push(t.startY),i.push(t.endX),i.push(t.startY),i.push(t.endX),i.push(t.endY),i.push(t.startX),i.push(t.endY),i.push(t.startX),i.push(t.startY),e.push(i),o.push(Math.abs(t.startX-t.endX)),o.push(Math.abs(t.startY-t.endY)),o.push(Math.abs(t.startX-t.endX)),o.push(Math.abs(t.startY-t.endY)),n.push(o);else if(t.type===ln){var r=new hn;r.startX=t.endX,r.startY=(t.startY+t.endY)/2;var a=new cn(yn);if(a.startAngle=0,a.sweepAngle=360,a.centerX=(t.startX+t.endX)/2,a.centerY=(t.startY+t.endY)/2,a.radiusX=Math.abs(t.startX-t.endX)/2,a.radiusY=Math.abs(t.startY-t.endY)/2,r.add(a),0===(o=(t=dn(a,r)).length))i.push(a.centerX),i.push(a.centerY);else{a=r.startX,r=r.startY;for(var s=0;s<o;s++){var l=t[s];Ue.Ae(a,r,l[2],l[3],l[4],l[5],l[6],l[7],.5,i),a=l[6],r=l[7]}}e.push(i),n.push(rn(i))}else for(t=t.figures.iterator;t.next();){o=t.value,(i=[]).push(o.startX),i.push(o.startY),s=a=o.startX,l=r=o.startY;for(var u=o.segments.j,h=u.length,c=0;c<h;c++){var d=u[c];switch(d.type){case pn:4<=i.length&&(e.push(i),n.push(rn(i))),(i=[]).push(d.endX),i.push(d.endY),s=a=d.endX,l=r=d.endY;break;case gn:i.push(d.endX),i.push(d.endY),a=d.endX,r=d.endY;break;case mn:Ue.Ae(a,r,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,i),a=d.endX,r=d.endY;break;case vn:Ue.Fq(a,r,d.point1X,d.point1Y,d.endX,d.endY,.5,i),a=d.endX,r=d.endY;break;case yn:var f=dn(d,o),p=f.length;if(0===p){i.push(d.centerX),i.push(d.centerY),a=d.centerX,r=d.centerY;break}for(var g=0;g<p;g++){var m=f[g];Ue.Ae(a,r,m[2],m[3],m[4],m[5],m[6],m[7],.5,i),a=m[6],r=m[7]}break;case _n:if(0===(p=(f=fn(d,o,a,r)).length)){i.push(d.centerX),i.push(d.centerY),a=d.centerX,r=d.centerY;break}for(g=0;g<p;g++)m=f[g],Ue.Ae(a,r,m[2],m[3],m[4],m[5],m[6],m[7],.5,i),a=m[6],r=m[7];break;default:_("Segment not of valid type: "+d.type)}d.isClosed&&(i.push(s),i.push(l))}4<=i.length&&(e.push(i),n.push(rn(i)))}}}function rn(t){for(var e=[],n=0,i=0,o=t.length,r=0;r<o;r+=2){var a=t[r],s=t[r+1];0!==r&&e.push(Math.sqrt(_t(n,i,a,s))),n=a,i=s}return e}Ue.za=Ue.GA,qe.prototype.copy=function(){var t=new qe;t.pa=this.pa,t.Rc=this.Rc,t.Sc=this.Sc,t.ec=this.ec,t.nc=this.nc;for(var e=this.uj.j,n=e.length,i=t.uj,o=0;o<n;o++){var r=e[o].copy();i.add(r)}return t.Gr=this.Gr,t.nr.assign(this.nr),t.qa=this.qa,t.Ik=this.Ik,t.Um=this.Um,t.Vm=this.Vm,t.jf=this.jf.G(),t.kf=this.kf.G(),t.ll=this.ll,t.kl=this.kl,t.Nf=this.Nf,t},(n=qe.prototype).ca=function(){return this.freeze(),Object.freeze(this),this},n.freeze=function(){this.s=!0;var t=this.figures;t.freeze();for(var e=(t=t.j).length,n=0;n<e;n++)t[n].freeze();return this},n.ea=function(){Object.isFrozen(this)&&_("cannot thaw constant: "+this),this.s=!1;var t=this.figures;t.ea();for(var e=(t=t.j).length,n=0;n<e;n++)t[n].ea();return this},n.Ma=function(t){if(!(t instanceof qe))return!1;if(this.type!==t.type)return this.type===an&&t.type===un?Ye(this,t):t.type===an&&this.type===un&&Ye(t,this);if(this.type===un){var e=this.figures.j;t=t.figures.j;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].Ma(t[i]))return!1;return!0}return Ue.A(this.startX,t.startX)&&Ue.A(this.startY,t.startY)&&Ue.A(this.endX,t.endX)&&Ue.A(this.endY,t.endY)},n.gb=function(t){t.classType===qe&&(this.type=t)},n.toString=function(t){switch(void 0===t&&(t=-1),this.type){case an:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case sn:var e=new Lt(this.startX,this.startY,0,0);return e.vw(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case ln:if((e=new Lt(this.startX,this.startY,0,0)).vw(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var n=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n;case un:e="";for(var i=(n=this.figures.j).length,o=0;o<i;o++){var r=n[o];0<o&&(e+=" x "),r.isFilled&&(e+="F "),e+=r.toString(t)}return e;default:return this.type.toString()}},n.Nv=function(){if(this.qa||this.Gr!==this.figures.Aa)return!0;for(var t=this.figures.j,e=t.length,n=0;n<e;n++)if(t[n].Nv())return!0;return!1},qe.prototype.computeBounds=function(){this.qa=!1,this.Um=this.Ik=null,this.Vm=NaN,this.Gr=this.figures.Aa;for(var t=this.figures.j,e=t.length,n=0;n<e;n++){var i=t[n];i.qa=!1;var o=i.segments;i.Ms=o.Aa,o=(i=o.j).length;for(var r=0;r<o;r++){var a=i[r];a.qa=!1,a.Me=null}}(t=this.nr).ea(),isNaN(this.ll)||isNaN(this.kl)?t.h(0,0,0,0):t.h(0,0,this.ll,this.kl),Qe(this,t,!1),$t(t,0,0,0,0),t.freeze()},qe.prototype.Gx=function(){var t=new Lt;return Qe(this,t,!0),t},qe.prototype.normalize=function(){this.s&&b(this);var t=this.Gx();return this.offset(-t.x,-t.y),new ft(-t.x,-t.y)},qe.prototype.offset=function(t,e){return this.s&&b(this),this.transform(1,0,0,1,t,e),this},qe.prototype.scale=function(t,e){return this.s&&b(this),this.transform(t,0,0,e,0,0),this},qe.prototype.rotate=function(t,e,n){this.s&&b(this),void 0===e&&(e=0),void 0===n&&(n=0);var i=Ke.alloc();return i.reset(),i.rotate(t,e,n),this.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),Ke.free(i),this},(n=qe.prototype).transform=function(t,e,n,i,o,r){switch(this.type){case an:case sn:case ln:var a=this.Rc,s=this.Sc;this.Rc=a*t+s*n+o,this.Sc=a*e+s*i+r,a=this.ec,s=this.nc,this.ec=a*t+s*n+o,this.nc=a*e+s*i+r;break;case un:for(var l=this.figures.j,u=l.length,h=0;h<u;h++){var c=l[h];a=c.startX,s=c.startY,c.startX=a*t+s*n+o,c.startY=a*e+s*i+r;for(var d=(c=c.segments.j).length,f=0;f<d;f++){var p=c[f];switch(p.type){case gn:case pn:a=p.endX,s=p.endY,p.endX=a*t+s*n+o,p.endY=a*e+s*i+r;break;case mn:a=p.point1X,s=p.point1Y,p.point1X=a*t+s*n+o,p.point1Y=a*e+s*i+r,a=p.point2X,s=p.point2Y,p.point2X=a*t+s*n+o,p.point2Y=a*e+s*i+r,a=p.endX,s=p.endY,p.endX=a*t+s*n+o,p.endY=a*e+s*i+r;break;case vn:a=p.point1X,s=p.point1Y,p.point1X=a*t+s*n+o,p.point1Y=a*e+s*i+r,a=p.endX,s=p.endY,p.endX=a*t+s*n+o,p.endY=a*e+s*i+r;break;case yn:a=p.centerX,s=p.centerY,p.centerX=a*t+s*n+o,p.centerY=a*e+s*i+r,0!==e&&(0>(a=180*Math.atan2(e,t)/Math.PI)&&(a+=360),p.startAngle+=a),0>t&&(p.startAngle=180-p.startAngle,p.sweepAngle=-p.sweepAngle),0>i&&(p.startAngle=-p.startAngle,p.sweepAngle=-p.sweepAngle),p.radiusX*=Math.sqrt(t*t+n*n),void 0!==p.radiusY&&(p.radiusY*=Math.sqrt(e*e+i*i));break;case _n:a=p.endX,s=p.endY,p.endX=a*t+s*n+o,p.endY=a*e+s*i+r,0!==e&&(0>(a=180*Math.atan2(e,t)/Math.PI)&&(a+=360),p.xAxisRotation+=a),0>t&&(p.xAxisRotation=180-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),0>i&&(p.xAxisRotation=-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),p.radiusX*=Math.sqrt(t*t+n*n),p.radiusY*=Math.sqrt(e*e+i*i);break;default:_("Unknown Segment type: "+p.type)}}}}return this.qa=!0,this},n.aa=function(t,e){void 0===e&&(e=0);var n=this.Rc,i=this.Sc,o=this.ec,r=this.nc;switch(this.type){case an:return Ue.Nb(n,i,o,r,e,t.x,t.y);case sn:var a=Lt.allocAt(Math.min(n,o)-e,Math.min(i,r)-e,Math.abs(o-n)+2*e,Math.abs(r-i)+2*e);return t=a.aa(t),Lt.free(a),t;case ln:a=Math.min(n,o)-e;var s=Math.min(i,r)-e;return n=(Math.abs(o-n)+2*e)/2,e=(Math.abs(r-i)+2*e)/2,0>=n||0>=e?!1:1>=(a=t.x-(a+n))*a/(n*n)+(s=t.y-(s+e))*s/(e*e);case un:return tn(this,t,e,!0,!1);default:return!1}},n.Dv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new ft),this.type===an)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var n=this.flattenedSegments,i=this.flattenedLengths,o=n.length,r=this.flattenedTotalLength*t,a=0,s=0;s<o;s++){var l=i[s],u=l.length;for(t=0;t<u;t++){var h=l[t];if(a+h>=r)return i=r-a,i=0===h?0:i/h,s=(n=n[s])[2*t],o=n[2*t+1],e.h(s+(n[2*t+2]-s)*i,o+(n[2*t+3]-o)*i),e;a+=h}}return e},n.Sx=function(t){if(0>t?t=0:1<t&&(t=1),this.type===an)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var e=this.flattenedSegments,n=this.flattenedLengths,i=e.length,o=this.flattenedTotalLength*t,r=0,a=0;a<i;a++){var s=n[a],l=s.length;for(t=0;t<l;t++){var u=s[t];if(r+u>=o)return e=(o=e[a])[2*t],n=o[2*t+1],i=o[2*t+2],t=o[2*t+3],1>Math.abs(i-e)&&1>Math.abs(t-n)?0:1>Math.abs(i-e)?0<=t-n?90:270:1>Math.abs(t-n)?0<=i-e?0:180:180*Math.atan2(t-n,i-e)/Math.PI;r+=u}}return NaN},n.Ev=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=[]),e.length=3,this.type===an)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;for(var n=this.flattenedSegments,i=this.flattenedLengths,o=n.length,r=this.flattenedTotalLength*t,a=0,s=0;s<o;s++){var l=i[s],u=l.length;for(t=0;t<u;t++){var h=l[t];if(a+h>=r)return i=r-a,i=0===h?0:i/h,n=(h=n[s])[2*t],s=h[2*t+1],o=h[2*t+2],t=h[2*t+3],e[0]=n+(o-n)*i,e[1]=s+(t-s)*i,e[2]=1>Math.abs(o-n)&&1>Math.abs(t-s)?0:1>Math.abs(o-n)?0<=t-s?90:270:1>Math.abs(t-s)?0<=o-n?0:180:180*Math.atan2(t-s,o-n)/Math.PI,e;a+=h}}return e},n.Tx=function(t){if(this.type===an){var e=this.startX,n=this.startY,i=this.endX,o=this.endY;if(e!==i||n!==o){var r=t.x;if(t=t.y,e===i){if(n<o){var a=n;i=o}else a=o,i=n;return t<=a?a===n?0:1:t>=i?i===n?0:1:Math.abs(t-n)/(i-a)}if(n===o)return e<i?a=e:(a=i,i=e),r<=a?a===e?0:1:r>=i?i===e?0:1:Math.abs(r-e)/(i-a);a=(i-e)*(i-e)+(o-n)*(o-n);var s=ft.alloc();return Ue.Ih(e,n,i,o,r,t,s),t=s.x,r=s.y,ft.free(s),Math.sqrt(((t-e)*(t-e)+(r-n)*(r-n))/a)}}else{if(this.type!==sn){e=this.flattenedSegments,n=this.flattenedLengths,r=this.flattenedTotalLength,i=ft.alloc(),o=1/0,s=a=0,v=e.length;for(var l=y=0,u=0;u<v;u++)for(var h=e[u],c=n[u],d=h.length,f=0;f<d;f+=2){var p=h[f],g=h[f+1];if(0!==f){Ue.Ih(y,l,p,g,t.x,t.y,i);var m=(i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y);m<o&&(o=m,a=s,a+=Math.sqrt((i.x-y)*(i.x-y)+(i.y-l)*(i.y-l))),s+=c[(f-2)/2]}y=p,l=g}return ft.free(i),0>(t=a/r)?0:1<t?1:t}a=this.startX,s=this.startY;var v=this.endX;if(o=this.endY,a!==v||s!==o){r=2*(e=v-a)+2*(n=o-s),i=t.x,t=t.y,i=Math.min(Math.max(i,a),v),t=Math.min(Math.max(t,s),o),a=Math.abs(i-a),v=Math.abs(i-v),s=Math.abs(t-s),o=Math.abs(t-o);var y=Math.min(a,v,s,o);if(y===s)return i/r;if(y===v)return(e+t)/r;if(y===o)return(2*e+n-i)/r;if(y===a)return(2*e+2*n-t)/r}}return 0},n.add=function(t){return this.uj.add(t),this},n.Jm=function(t,e,n,i,o,r,a,s){return this.s&&b(this),this.jf=new je(t,e,o,r).freeze(),this.kf=new je(n,i,a,s).freeze(),this},d.Object.defineProperties(qe.prototype,{flattenedSegments:{get:function(){return on(this),this.Ik}},flattenedLengths:{get:function(){return on(this),this.Um}},flattenedTotalLength:{get:function(){var t=this.Vm;if(isNaN(t)){if(this.type===an){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===sn)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var n=(e=this.flattenedLengths).length,i=t=0;i<n;i++)for(var o=e[i],r=o.length,a=0;a<r;a++)t+=o[a];this.Vm=t}return t}},type:{get:function(){return this.pa},set:function(t){this.pa!==t&&(this.s&&b(this,t),this.pa=t,this.qa=!0)}},startX:{get:function(){return this.Rc},set:function(t){this.Rc!==t&&(this.s&&b(this,t),this.Rc=t,this.qa=!0)}},startY:{get:function(){return this.Sc},set:function(t){this.Sc!==t&&(this.s&&b(this,t),this.Sc=t,this.qa=!0)}},endX:{get:function(){return this.ec},set:function(t){this.ec!==t&&(this.s&&b(this,t),this.ec=t,this.qa=!0)}},endY:{get:function(){return this.nc},set:function(t){this.nc!==t&&(this.s&&b(this,t),this.nc=t,this.qa=!0)}},figures:{get:function(){return this.uj},set:function(t){this.uj!==t&&(this.s&&b(this,t),this.uj=t,this.qa=!0)}},spot1:{get:function(){return this.jf},set:function(t){this.s&&b(this,t),this.jf=t.G()}},spot2:{get:function(){return this.kf},set:function(t){this.s&&b(this,t),this.kf=t.G()}},defaultStretch:{get:function(){return this.Nf},set:function(t){this.s&&b(this,t),this.Nf=t}},bounds:{get:function(){return this.Nv()&&this.computeBounds(),this.nr}}}),qe.prototype.setSpots=qe.prototype.Jm,qe.prototype.add=qe.prototype.add,qe.prototype.getFractionForPoint=qe.prototype.Tx,qe.prototype.getPointAndAngleAlongPath=qe.prototype.Ev,qe.prototype.getAngleAlongPath=qe.prototype.Sx,qe.prototype.getPointAlongPath=qe.prototype.Dv,qe.prototype.containsPoint=qe.prototype.aa,qe.prototype.transform=qe.prototype.transform,qe.prototype.rotate=qe.prototype.rotate,qe.prototype.scale=qe.prototype.scale,qe.prototype.offset=qe.prototype.offset,qe.prototype.normalize=qe.prototype.normalize,qe.prototype.computeBoundsWithoutOrigin=qe.prototype.Gx,qe.prototype.equalsApprox=qe.prototype.Ma;var an=new K(qe,"Line",0),sn=new K(qe,"Rectangle",1),ln=new K(qe,"Ellipse",2),un=new K(qe,"Path",3);function hn(t,e,n,i){it(this),this.s=!1,void 0===n&&(n=!0),this.Rr=n,void 0===i&&(i=!0),this.Vr=i,this.Rc=void 0!==t?t:0,this.Sc=void 0!==e?e:0,this.Ll=new tt,this.Ms=this.Ll.Aa,this.qa=!0}function cn(t,e,n,i,o,r,a,s){it(this),this.s=!1,void 0===t&&(t=gn),this.pa=t,this.ec=void 0!==e?e:0,this.nc=void 0!==n?n:0,void 0===i&&(i=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=0),t===_n?(0>(t=r%360)&&(t+=360),this.we=t,this.Fi=0,this.Gi=Math.max(i,0),this.hh=Math.max(o,0),this.tl="boolean"===typeof a?a:"number"===typeof a&&!!a,this.Mk=!!s):(this.we=i,this.Fi=o,t===yn&&(r=Math.max(r,0)),this.Gi=r,"number"===typeof a?(t===yn&&(a=Math.max(a,0)),this.hh=a):this.hh=0,this.Mk=this.tl=!1),this.zj=!1,this.qa=!0,this.Me=null}function dn(t,e){if(null!==t.Me&&!1===e.qa)return t.Me;var n=t.radiusX,i=t.radiusY;if(void 0===i&&(i=n),0===n||0===i)return t.Me=[],t.Me;e=t.we;var o=t.Fi,r=Ue.Hx(0,0,n<i?n:i,t.startAngle,t.startAngle+t.sweepAngle,!1);if(n!==i){var a=Ke.alloc();a.reset(),n<i?a.scale(1,i/n):a.scale(n/i,1),Je(r,a),Ke.free(a)}for(n=r.length,i=0;i<n;i++)(a=r[i])[0]+=e,a[1]+=o,a[2]+=e,a[3]+=o,a[4]+=e,a[5]+=o,a[6]+=e,a[7]+=o;return t.Me=r,t.Me}function fn(t,e,n,i){function o(t,e,n,i){return(t*i<e*n?-1:1)*Math.acos((t*n+e*i)/(Math.sqrt(t*t+e*e)*Math.sqrt(n*n+i*i)))}if(null!==t.Me&&!1===e.qa)return t.Me;e=t.Gi;var r=t.hh;0===e&&(e=1e-4),0===r&&(r=1e-4);var a=Math.PI/180*t.we,s=t.tl,l=t.Mk,u=t.ec,h=t.nc,c=Math.cos(a),d=Math.sin(a),f=c*(n-u)/2+d*(i-h)/2,p=f*f/(e*e)+(a=-d*(n-u)/2+c*(i-h)/2)*a/(r*r);return 1<p&&(e*=Math.sqrt(p),r*=Math.sqrt(p)),p=(s===l?-1:1)*Math.sqrt((e*e*r*r-e*e*a*a-r*r*f*f)/(e*e*a*a+r*r*f*f)),isNaN(p)&&(p=0),s=p*e*a/r,p=p*-r*f/e,isNaN(s)&&(s=0),isNaN(p)&&(p=0),n=(n+u)/2+c*s-d*p,i=(i+h)/2+d*s+c*p,h=o(1,0,(f-s)/e,(a-p)/r),a=o(c=(f-s)/e,u=(a-p)/r,f=(-f-s)/e,s=(-a-p)/r),-1>=(f=(c*f+u*s)/(Math.sqrt(c*c+u*u)*Math.sqrt(f*f+s*s)))?a=Math.PI:1<=f&&(a=0),!l&&0<a&&(a-=2*Math.PI),l&&0>a&&(a+=2*Math.PI),l=e>r?1:e/r,f=e>r?r/e:1,e=Ue.Hx(0,0,e>r?e:r,h,h+a,!0),(r=Ke.alloc()).reset(),r.translate(n,i),r.rotate(t.we,0,0),r.scale(l,f),Je(e,r),Ke.free(r),t.Me=e,t.Me}qe.className="Geometry",qe.stringify=Xe,qe.fillPath=function(t){for(var e=(t=t.split(/[Xx]/)).length,n="",i=0;i<e;i++){var o=t[i];n=null!==o.match(/[Ff]/)?0===i?n+o:n+"X"+(" "===o[0]?"":" ")+o:n+(0===i?"":"X ")+"F"+(" "===o[0]?"":" ")+o}return n},qe.parse=Ze,qe.Line=an,qe.Rectangle=sn,qe.Ellipse=ln,qe.Path=un,hn.prototype.copy=function(){var t=new hn;t.Rr=this.Rr,t.Vr=this.Vr,t.Rc=this.Rc,t.Sc=this.Sc;for(var e=this.Ll.j,n=e.length,i=t.Ll,o=0;o<n;o++){var r=e[o].copy();i.add(r)}return t.Ms=this.Ms,t.qa=this.qa,t},(n=hn.prototype).Ma=function(t){if(!(t instanceof hn&&Ue.A(this.startX,t.startX)&&Ue.A(this.startY,t.startY)))return!1;var e=this.segments.j;t=t.segments.j;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(!e[i].Ma(t[i]))return!1;return!0},n.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),n=this.segments.j,i=n.length,o=0;o<i;o++)e+=" "+n[o].toString(t);return e},n.freeze=function(){this.s=!0;var t=this.segments;t.freeze();var e=t.j;t=t.length;for(var n=0;n<t;n++)e[n].freeze();return this},n.ea=function(){this.s=!1;var t=this.segments;t.ea();for(var e=(t=t.j).length,n=0;n<e;n++)t[n].ea();return this},n.Nv=function(){if(this.qa)return!0;var t=this.segments;if(this.Ms!==t.Aa)return!0;for(var e=(t=t.j).length,n=0;n<e;n++)if(t[n].qa)return!0;return!1},n.add=function(t){return this.Ll.add(t),this},n.aa=function(t,e,n){for(var i=this.startX,o=this.startY,r=i,a=o,s=this.segments.j,l=s.length,u=0;u<l;u++){var h=s[u];switch(h.type){case pn:r=h.endX,a=h.endY,i=h.endX,o=h.endY;break;case gn:if(Ue.Nb(i,o,h.endX,h.endY,n,t,e))return!0;i=h.endX,o=h.endY;break;case mn:if(Ue.et(i,o,h.point1X,h.point1Y,h.point2X,h.point2Y,h.endX,h.endY,.5,t,e,n))return!0;i=h.endX,o=h.endY;break;case vn:if(Ue.Xv(i,o,h.point1X,h.point1Y,h.endX,h.endY,.5,t,e,n))return!0;i=h.endX,o=h.endY;break;case yn:case _n:var c=h.type===yn?dn(h,this):fn(h,this,i,o),d=c.length;if(0===d){if(Ue.Nb(i,o,h.centerX,h.centerY,n,t,e))return!0;i=h.centerX,o=h.centerY;break}for(var f=null,p=0;p<d;p++)if(f=c[p],0===p&&Ue.Nb(i,o,f[0],f[1],n,t,e)||Ue.et(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.5,t,e,n))return!0;null!==f&&(i=f[6],o=f[7]);break;default:_("Unknown Segment type: "+h.type)}if(h.isClosed&&(i!==r||o!==a)&&Ue.Nb(i,o,r,a,n,t,e))return!0}return!1},d.Object.defineProperties(hn.prototype,{isFilled:{get:function(){return this.Rr},set:function(t){this.s&&b(this,t),this.Rr=t}},isShadowed:{get:function(){return this.Vr},set:function(t){this.s&&b(this,t),this.Vr=t}},startX:{get:function(){return this.Rc},set:function(t){this.s&&b(this,t),this.Rc=t,this.qa=!0}},startY:{get:function(){return this.Sc},set:function(t){this.s&&b(this,t),this.Sc=t,this.qa=!0}},segments:{get:function(){return this.Ll},set:function(t){this.s&&b(this,t),this.Ll=t,this.qa=!0}}}),hn.prototype.add=hn.prototype.add,hn.prototype.equalsApprox=hn.prototype.Ma,hn.className="PathFigure",cn.prototype.copy=function(){var t=new cn;return t.pa=this.pa,t.ec=this.ec,t.nc=this.nc,t.we=this.we,t.Fi=this.Fi,t.Gi=this.Gi,t.hh=this.hh,t.tl=this.tl,t.Mk=this.Mk,t.zj=this.zj,t.qa=this.qa,t},(n=cn.prototype).Ma=function(t){if(!(t instanceof cn)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case pn:case gn:return Ue.A(this.endX,t.endX)&&Ue.A(this.endY,t.endY);case mn:return Ue.A(this.endX,t.endX)&&Ue.A(this.endY,t.endY)&&Ue.A(this.point1X,t.point1X)&&Ue.A(this.point1Y,t.point1Y)&&Ue.A(this.point2X,t.point2X)&&Ue.A(this.point2Y,t.point2Y);case vn:return Ue.A(this.endX,t.endX)&&Ue.A(this.endY,t.endY)&&Ue.A(this.point1X,t.point1X)&&Ue.A(this.point1Y,t.point1Y);case yn:return Ue.A(this.startAngle,t.startAngle)&&Ue.A(this.sweepAngle,t.sweepAngle)&&Ue.A(this.centerX,t.centerX)&&Ue.A(this.centerY,t.centerY)&&Ue.A(this.radiusX,t.radiusX)&&Ue.A(this.radiusY,t.radiusY);case _n:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&Ue.A(this.xAxisRotation,t.xAxisRotation)&&Ue.A(this.endX,t.endX)&&Ue.A(this.endY,t.endY)&&Ue.A(this.radiusX,t.radiusX)&&Ue.A(this.radiusY,t.radiusY);default:return!1}},n.gb=function(t){t.classType===cn&&(this.type=t)},n.toString=function(t){switch(void 0===t&&(t=-1),this.type){case pn:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case gn:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case mn:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case vn:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case yn:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case _n:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.zj?"z":"")},n.freeze=function(){return this.s=!0,this},n.ea=function(){return this.s=!1,this},n.close=function(){return this.zj=!0,this},d.Object.defineProperties(cn.prototype,{isClosed:{get:function(){return this.zj},set:function(t){this.zj!==t&&(this.zj=t,this.qa=!0)}},type:{get:function(){return this.pa},set:function(t){this.s&&b(this,t),this.pa=t,this.qa=!0}},endX:{get:function(){return this.ec},set:function(t){this.s&&b(this,t),this.ec=t,this.qa=!0}},endY:{get:function(){return this.nc},set:function(t){this.s&&b(this,t),this.nc=t,this.qa=!0}},point1X:{get:function(){return this.we},set:function(t){this.s&&b(this,t),this.we=t,this.qa=!0}},point1Y:{get:function(){return this.Fi},set:function(t){this.s&&b(this,t),this.Fi=t,this.qa=!0}},point2X:{get:function(){return this.Gi},set:function(t){this.s&&b(this,t),this.Gi=t,this.qa=!0}},point2Y:{get:function(){return this.hh},set:function(t){this.s&&b(this,t),this.hh=t,this.qa=!0}},centerX:{get:function(){return this.we},set:function(t){this.s&&b(this,t),this.we=t,this.qa=!0}},centerY:{get:function(){return this.Fi},set:function(t){this.s&&b(this,t),this.Fi=t,this.qa=!0}},radiusX:{get:function(){return this.Gi},set:function(t){0>t&&x(t,">= zero",cn,"radiusX"),this.s&&b(this,t),this.Gi=t,this.qa=!0}},radiusY:{get:function(){return this.hh},set:function(t){0>t&&x(t,">= zero",cn,"radiusY"),this.s&&b(this,t),this.hh=t,this.qa=!0}},startAngle:{get:function(){return this.ec},set:function(t){this.ec!==t&&(this.s&&b(this,t),0>(t%=360)&&(t+=360),this.ec=t,this.qa=!0)}},sweepAngle:{get:function(){return this.nc},set:function(t){this.s&&b(this,t),360<t&&(t=360),-360>t&&(t=-360),this.nc=t,this.qa=!0}},isClockwiseArc:{get:function(){return this.Mk},set:function(t){this.s&&b(this,t),this.Mk=t,this.qa=!0}},isLargeArc:{get:function(){return this.tl},set:function(t){this.s&&b(this,t),this.tl=t,this.qa=!0}},xAxisRotation:{get:function(){return this.we},set:function(t){0>(t%=360)&&(t+=360),this.s&&b(this,t),this.we=t,this.qa=!0}}}),cn.prototype.equalsApprox=cn.prototype.Ma;var pn=new K(cn,"Move",0),gn=new K(cn,"Line",1),mn=new K(cn,"Bezier",2),vn=new K(cn,"QuadraticBezier",3),yn=new K(cn,"Arc",4),_n=new K(cn,"SvgArc",4);function bn(){this.B=null,this.dv=new ft(0,0).freeze(),this.nu=new ft(0,0).freeze(),this.fr=this.js=0,this.gr=1,this.Zr="",this.$s=this.Ar=!1,this.xr=this.ir=0,this.Jg=this.Kr=this.Tr=!1,this.Fr=null,this.Vs=0,this.cd=this.Us=null}function xn(){this.B=null,this.Qa="",this.ts=this.Ts=null}function wn(){this.en=Sn,this.bf=this.hs="",this.Qo=this.Ro=this.Xo=this.Yo=this.Wo=this.B=this.ac=null}cn.className="PathSegment",cn.Move=pn,cn.Line=gn,cn.Bezier=mn,cn.QuadraticBezier=vn,cn.Arc=yn,cn.SvgArc=_n,bn.prototype.copy=function(){var t=new bn;return this.clone(t)},bn.prototype.clone=function(t){return t.B=this.B,t.dv.assign(this.viewPoint),t.nu.assign(this.documentPoint),t.js=this.js,t.fr=this.fr,t.gr=this.gr,t.Zr=this.Zr,t.Ar=this.Ar,t.$s=this.$s,t.ir=this.ir,t.xr=this.xr,t.Tr=this.Tr,t.Kr=this.Kr,t.Jg=this.Jg,t.Fr=this.Fr,t.Vs=this.Vs,t.Us=this.Us,t.cd=this.cd,t},bn.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},bn.prototype.rq=function(t,e){var n=this.diagram;return null===n||er(n,this.event,t,e),e},bn.prototype.Iz=function(t,e){var n=this.diagram;return null===n||(er(n,this.event,t,e),e.assign(n.Ut(e))),e},d.Object.defineProperties(bn.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},viewPoint:{get:function(){return this.dv},set:function(t){this.dv.assign(t)}},documentPoint:{get:function(){return this.nu},set:function(t){this.nu.assign(t)}},modifiers:{get:function(){return this.js},set:function(t){this.js=t}},button:{get:function(){return this.fr},set:function(t){if(this.fr=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.gr},set:function(t){this.gr=t}},key:{get:function(){return this.Zr},set:function(t){this.Zr=t}},down:{get:function(){return this.Ar},set:function(t){this.Ar=t}},up:{get:function(){return this.$s},set:function(t){this.$s=t}},clickCount:{get:function(){return this.ir},set:function(t){this.ir=t}},delta:{get:function(){return this.xr},set:function(t){this.xr=t}},isMultiTouch:{get:function(){return this.Tr},set:function(t){this.Tr=t}},handled:{get:function(){return this.Kr},set:function(t){this.Kr=t}},bubbles:{get:function(){return this.Jg},set:function(t){this.Jg=t}},event:{get:function(){return this.Fr},set:function(t){this.Fr=t}},isTouchEvent:{get:function(){var t=p.TouchEvent,e=this.event;return!!(t&&e instanceof t)||(t=p.PointerEvent)&&e instanceof t&&("touch"===e.pointerType||"pen"===e.pointerType)}},timestamp:{get:function(){return this.Vs},set:function(t){this.Vs=t}},targetDiagram:{get:function(){return this.Us},set:function(t){this.Us=t}},targetObject:{get:function(){return this.cd},set:function(t){this.cd=t}},control:{get:function(){return 0!==(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!==(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!==(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!==(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!==(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),bn.prototype.getMultiTouchDocumentPoint=bn.prototype.Iz,bn.prototype.getMultiTouchViewPoint=bn.prototype.rq,bn.className="InputEvent",xn.prototype.copy=function(){var t=new xn;return t.B=this.B,t.Qa=this.Qa,t.Ts=this.Ts,t.ts=this.ts,t},xn.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},d.Object.defineProperties(xn.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},name:{get:function(){return this.Qa},set:function(t){this.Qa=t}},subject:{get:function(){return this.Ts},set:function(t){this.Ts=t}},parameter:{get:function(){return this.ts},set:function(t){this.ts=t}}}),xn.className="DiagramEvent",wn.prototype.clear=function(){this.Qo=this.Ro=this.Xo=this.Yo=this.Wo=this.B=this.ac=null},wn.prototype.copy=function(){var t=new wn;t.en=this.en,t.hs=this.hs,t.bf=this.bf,t.ac=this.ac,t.B=this.B,t.Wo=this.Wo;var e=this.Yo;return t.Yo=S(e)&&"function"===typeof e.G?e.G():e,e=this.Xo,t.Xo=S(e)&&"function"===typeof e.G?e.G():e,e=this.Ro,t.Ro=S(e)&&"function"===typeof e.G?e.G():e,e=this.Qo,t.Qo=S(e)&&"function"===typeof e.G?e.G():e,t},wn.prototype.gb=function(t){t.classType===wn&&(this.change=t)},wn.prototype.toString=function(){var t="";return t=this.change===Cn?t+"* ":this.change===Sn?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"===typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===Cn?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=P(this.object)),null!==this.oldValue&&(t+="  old: "+P(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+P(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},wn.prototype.H=function(t){return t?this.oldValue:this.newValue},wn.prototype.Kz=function(t){return t?this.oldParam:this.newParam},wn.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},wn.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},wn.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},wn.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},d.Object.defineProperties(wn.prototype,{model:{get:function(){return this.ac},set:function(t){this.ac=t}},diagram:{get:function(){return this.B},set:function(t){this.B=t}},change:{get:function(){return this.en},set:function(t){this.en=t}},modelChange:{get:function(){return this.hs},set:function(t){this.hs=t}},propertyName:{get:function(){return this.bf},set:function(t){this.bf=t}},isTransactionFinished:{get:function(){return this.en===Cn&&("CommittedTransaction"===this.bf||"FinishedUndo"===this.bf||"FinishedRedo"===this.bf)}},object:{get:function(){return this.Wo},set:function(t){this.Wo=t}},oldValue:{get:function(){return this.Yo},set:function(t){this.Yo=t}},oldParam:{get:function(){return this.Xo},set:function(t){this.Xo=t}},newValue:{get:function(){return this.Ro},set:function(t){this.Ro=t}},newParam:{get:function(){return this.Qo},set:function(t){this.Qo=t}}}),wn.prototype.redo=wn.prototype.redo,wn.prototype.canRedo=wn.prototype.canRedo,wn.prototype.undo=wn.prototype.undo,wn.prototype.canUndo=wn.prototype.canUndo,wn.prototype.getParam=wn.prototype.Kz,wn.prototype.getValue=wn.prototype.H,wn.prototype.clear=wn.prototype.clear;var Cn=new K(wn,"Transaction",-1),Sn=new K(wn,"Property",0),kn=new K(wn,"Insert",1),En=new K(wn,"Remove",2);function In(){this.u=(new tt).freeze(),this.Qa="",this.l=!1}function Tn(){this.Mu=new nt,this.ad=!1,this.I=(new tt).freeze(),this.Jd=-1,this.u=999,this.me=!1,this.ur=null,this.Ni=0,this.l=!1,this.se=(new tt).freeze(),this.Bl=new tt,this.uu=!0,this.Gu=this.Eu=this.Du=!1}function Dn(t,e,n){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&w("Ending transaction without having started a transaction: "+n);var i=1===t.transactionLevel,o=t.currentTransaction;i&&e&&(t.yb("CommittingTransaction",n,o),null===o&&""!==n&&(o=t.currentTransaction));var r=0;if(0<t.transactionLevel&&(t.Ni--,t.isEnabled)){var a=t.se.count;0<a&&(""===n&&(n=t.se.L(0)),t.se.ea(),t.se.ab(a-1),t.se.freeze()),0<(a=t.Bl.count)&&(r=t.Bl.L(a-1),t.Bl.ab(a-1))}if(i){if(e){if(t.Gu=!1,t.isEnabled&&null!==o){for(o.isComplete=!0,o.name=n,(e=t.history).ea(),i=e.count-1;i>t.historyIndex;i--)null!==(r=e.L(i))&&r.clear(),e.ab(i),t.Gu=!0;0<=(i=t.maxHistoryLength)&&(0===i?e.clear():e.count>=i&&(null!==(r=e.L(0))&&r.clear(),e.ab(0),t.Jd--)),0!==i&&(e.add(o),t.Jd++),e.freeze()}t.yb("CommittedTransaction",n,o)}else{t.me=!0;try{t.isEnabled&&null!==o&&(o.isComplete=!0,o.undo())}finally{t.yb("RolledBackTransaction",n,o),t.me=!1}null!==o&&o.clear()}return t.ur=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!e&&null!==o){for(t=r,o=(n=o.changes).count-1;o>=t;o--)null!==(e=n.L(o))&&e.undo(),n.ea(),n.ab(o);n.freeze()}return!1}function Mn(){it(this),this.B=ta,this.Qa="",this.ad=!0,this.kd=!1,this.Jw=null,this.Iy=new bn,this.ct=-1}function On(){Mn.call(this),this.name="ToolManager",this.Jc=new tt,this.Yc=new tt,this.Ef=new tt,this.W=this.Ha=850,this.u=new Rt(2,2).ca(),this.bb=5e3,this.Ia=An,this.I=Nn,this.tr=this.l=null,this.Tj=-1}function Pn(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}wn.className="ChangedEvent",wn.Transaction=Cn,wn.Property=Sn,wn.Insert=kn,wn.Remove=En,In.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var n=0;n<t;n++){var i=this.changes.L(n);null!==i&&(e+="\n  "+i.toString())}}return e},In.prototype.clear=function(){var t=this.changes;t.ea();for(var e=t.count-1;0<=e;e--){var n=t.L(e);null!==n&&n.clear()}t.clear(),t.freeze()},In.prototype.canUndo=function(){return this.isComplete},In.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.L(t);null!==e&&e.undo()}},In.prototype.canRedo=function(){return this.isComplete},In.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var n=this.changes.L(e);null!==n&&n.redo()}},d.Object.defineProperties(In.prototype,{changes:{get:function(){return this.u}},name:{get:function(){return this.Qa},set:function(t){this.Qa=t}},isComplete:{get:function(){return this.l},set:function(t){this.l=t}}}),In.prototype.redo=In.prototype.redo,In.prototype.canRedo=In.prototype.canRedo,In.prototype.undo=In.prototype.undo,In.prototype.canUndo=In.prototype.canUndo,In.prototype.clear=In.prototype.clear,In.className="Transaction",Tn.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var n=this.nestedTransactionNames.count,i=0;i<n;i++)0<i&&(e+=" "),e+=this.nestedTransactionNames.L(i);if(e+="]",void 0!==t&&0<t)for(n=this.history.count,i=0;i<n;i++)e+="\n "+this.history.L(i).toString(t-1);return e},Tn.prototype.clear=function(){var t=this.history;t.ea();for(var e=t.count-1;0<=e;e--){var n=t.L(e);null!==n&&n.clear()}t.clear(),this.Jd=-1,t.freeze(),this.me=!1,this.ur=null,this.Ni=0,this.se.ea(),this.se.clear(),this.se.freeze(),this.Bl.clear(),this.Eu=this.Du=!1},Tn.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(n=Tn.prototype).yx=function(t){this.Mu.add(t)},n.iy=function(t){this.Mu.remove(t)},n.ua=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.uu&&(this.uu=!1,this.Ni++,this.yb("StartingFirstTransaction",t,this.currentTransaction),0<this.Ni&&this.Ni--),this.isEnabled&&(this.se.ea(),this.se.add(t),this.se.freeze(),null===this.currentTransaction?this.Bl.add(0):this.Bl.add(this.currentTransaction.changes.count)),this.Ni++;var e=1===this.transactionLevel;return e&&this.yb("StartedTransaction",t,this.currentTransaction),e},n.Va=function(t){return void 0===t&&(t=""),Dn(this,!0,t)},n.Bf=function(){return Dn(this,!1,"")},Tn.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},Tn.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.me=!0,this.yb("StartingUndo","Undo",t),this.Jd--,t.undo()}catch(e){w("undo error: "+e.toString())}finally{this.yb("FinishedUndo","Undo",t),this.me=!1}}},Tn.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},Tn.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.me=!0,this.yb("StartingRedo","Redo",t),this.Jd++,t.redo()}catch(e){w("redo error: "+e.toString())}finally{this.yb("FinishedRedo","Redo",t),this.me=!1}}},Tn.prototype.yb=function(t,e,n){void 0===n&&(n=null);var i=new wn;for(i.change=Cn,i.propertyName=t,i.object=n,i.oldValue=e,t=this.models;t.next();)e=t.value,i.model=e,e.ft(i)},Tn.prototype.Hv=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.ur=e=new In);var n=t.copy();(e=e.changes).ea(),e.add(n),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.uu&&(null!==(t=t.diagram)&&!1===t.mk||w("Change not within a transaction: "+n.toString()))}},Tn.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(null===(t=t.object))return!1;if(void 0!==t.layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},d.Object.defineProperties(Tn.prototype,{models:{get:function(){return this.Mu.iterator}},isEnabled:{get:function(){return this.ad},set:function(t){this.ad=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.L(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.L(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.me}},history:{get:function(){return this.I}},maxHistoryLength:{get:function(){return this.u},set:function(t){this.u=t}},historyIndex:{get:function(){return this.Jd}},currentTransaction:{get:function(){return this.ur}},transactionLevel:{get:function(){return this.Ni}},isInTransaction:{get:function(){return 0<this.Ni}},checksTransactionLevel:{get:function(){return this.l},set:function(t){this.l=t}},nestedTransactionNames:{get:function(){return this.se}},isPendingClear:{get:function(){return this.Du},set:function(t){this.Du=t}},isPendingUnmodified:{get:function(){return this.Eu},set:function(t){this.Eu=t}}}),Tn.prototype.handleChanged=Tn.prototype.Hv,Tn.prototype.redo=Tn.prototype.redo,Tn.prototype.undo=Tn.prototype.undo,Tn.prototype.canUndo=Tn.prototype.canUndo,Tn.prototype.rollbackTransaction=Tn.prototype.Bf,Tn.prototype.commitTransaction=Tn.prototype.Va,Tn.prototype.startTransaction=Tn.prototype.ua,Tn.prototype.removeModel=Tn.prototype.iy,Tn.prototype.addModel=Tn.prototype.yx,Tn.prototype.clear=Tn.prototype.clear,Tn.className="UndoManager",Mn.prototype.toString=function(){return""!==this.name?this.name+" Tool":O(this.constructor)},Mn.prototype.updateAdornments=function(){},Mn.prototype.canStart=function(){return this.isEnabled},Mn.prototype.doStart=function(){},Mn.prototype.doActivate=function(){this.isActive=!0},Mn.prototype.doDeactivate=function(){this.isActive=!1},Mn.prototype.doStop=function(){},Mn.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},Mn.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},Mn.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},Mn.prototype.doMouseMove=function(){},Mn.prototype.doMouseUp=function(){this.stopTool()},Mn.prototype.doMouseWheel=function(){},Mn.prototype.canStartMultiTouch=function(){return!0},Mn.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,n=e.rq(0,ft.allocAt(NaN,NaN)),i=e.rq(1,ft.allocAt(NaN,NaN));if(n.v()&&i.v()&&(this.doCancel(),t.nm("hasGestureZoom"))){t.Dl=t.scale;var o=i.x-n.x,r=i.y-n.y;t.Yu=Math.sqrt(o*o+r*r),e.bubbles=!1}ft.free(n),ft.free(i)},Mn.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,n=e.rq(0,ft.allocAt(NaN,NaN)),i=e.rq(1,ft.allocAt(NaN,NaN));if(n.v()&&i.v()&&(this.doCancel(),t.nm("hasGestureZoom"))){var o=i.x-n.x,r=i.y-n.y;r=Math.sqrt(o*o+r*r)/t.Yu,o=new ft((Math.min(i.x,n.x)+Math.max(i.x,n.x))/2,(Math.min(i.y,n.y)+Math.max(i.y,n.y))/2),r*=t.Dl;var a=t.commandHandler;if(r!==t.scale&&a.canResetZoom(r)){var s=t.zoomPoint;t.zoomPoint=o,a.resetZoom(r),t.zoomPoint=s}e.bubbles=!1}ft.free(n),ft.free(i)},Mn.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},Mn.prototype.doKeyUp=function(){},Mn.prototype.ua=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.ua(t)},Mn.prototype.Eg=function(){var t=this.diagram;return null===this.transactionResult?t.Bf():t.Va(this.transactionResult)},Mn.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,n=t.km(e.documentPoint,!1);if(null!==n){if(z?e.meta:e.control){for(t.R("ChangingSelection",t.selection),e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.R("ChangedSelection",t.selection)}else if(e.shift){if(!n.isSelected){for(t.R("ChangingSelection",t.selection),e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!n.isSelected){for(e=n;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(z?e.meta:e.control)||e.shift||t.clearSelection()}},Mn.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.isTemporary});var n=this.diagram,i=n.lastInput;return t=n.Ub(i.documentPoint,t,e),i.targetObject=t,function(t,e,n){if(e.handled=!1,null===t||t.Bg()){var i=0;e.left?i=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(i=3);var o="ObjectSingleClicked";if(null!==t){switch(i){case 1:o="ObjectSingleClicked";break;case 2:o="ObjectDoubleClicked";break;case 3:o="ObjectContextClicked"}0!==i&&n.R(o,t)}else{switch(i){case 1:o="BackgroundSingleClicked";break;case 2:o="BackgroundDoubleClicked";break;case 3:o="BackgroundContextClicked"}0!==i&&n.R(o)}if(null!==t)for(;null!==t;){switch(n=null,i){case 1:n=t.click;break;case 2:n=t.doubleClick?t.doubleClick:t.click;break;case 3:n=t.contextClick}if(null!==n&&(n(e,t),e.handled))break;t=t.panel}else{switch(t=null,i){case 1:t=n.click;break;case 2:t=n.doubleClick?n.doubleClick:n.click;break;case 3:t=n.contextClick}null!==t&&t(e)}}}(t,i,n),i.handled},Mn.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.qc){var n=t.skipsUndoManager;t.skipsUndoManager=!0;var i=t.viewportBounds.aa(e.documentPoint)?t.Ub(e.documentPoint,null,null):null;e.targetObject=i;var o=!1;if(i!==t.pj){var r=t.pj,a=r;for(t.pj=i,this.doCurrentObjectChanged(r,i),e.handled=!1;null!==r;){var s=r.mouseLeave;if(null!==s){if(i===r)break;if(null!==i&&i.Ag(r))break;if(s(e,r,i),o=!0,e.handled)break}r=r.panel}for(r=a,e.handled=!1;null!==i;){if(null!==(a=i.mouseEnter)){if(r===i)break;if(null!==r&&r.Ag(i))break;if(a(e,i,r),o=!0,e.handled)break}i=i.panel}i=t.pj}if(null!==i){for(r=i,a="";null!==r&&""===(a=r.cursor);)r=r.panel;for(t.currentCursor=a,e.handled=!1,r=i;null!==r&&(null===(i=r.mouseOver)||(i(e,r),o=!0,!e.handled));)r=r.panel}else t.currentCursor="",null!==(i=t.mouseOver)&&(i(e),o=!0);o&&t.Pb(),t.skipsUndoManager=n}},Mn.prototype.doCurrentObjectChanged=function(){},Mn.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,n=e.delta;if(0!==n&&t.documentBounds.v()){var i=t.commandHandler,o=t.toolManager.mouseWheelBehavior;if(null!==i&&(o===Rn&&!e.shift||o===An&&e.control))(0<n?i.canIncreaseZoom():i.canDecreaseZoom())&&(o=t.zoomPoint,t.zoomPoint=e.viewPoint,0<n?i.increaseZoom():i.decreaseZoom(),t.zoomPoint=o),e.bubbles=!1;else if(o===Rn&&e.shift||o===An&&!e.control){i=t.position.copy();var r=0<n?n:-n,a=e.event,s=a.deltaMode;if(o=a.deltaX,a=a.deltaY,(L||V||j)&&(s=1,0<o&&(o=3),0>o&&(o=-3),0<a&&(a=3),0>a&&(a=-3)),void 0===s||void 0===o||void 0===a||0===o&&0===a||e.shift)!e.shift&&t.allowVerticalScroll?(r=3*r*t.scrollVerticalLineChange,0<n?t.scroll("pixel","up",r):t.scroll("pixel","down",r)):e.shift&&t.allowHorizontalScroll&&(r=3*r*t.scrollHorizontalLineChange,0<n?t.scroll("pixel","left",r):t.scroll("pixel","right",r));else{switch(s){case 0:n="pixel";break;case 1:n="line";break;case 2:n="page";break;default:n="pixel"}0!==o&&t.allowHorizontalScroll&&(0<(o*=t.scrollHorizontalLineChange/16)?t.scroll(n,"left",-o):t.scroll(n,"right",o)),0!==a&&t.allowVerticalScroll&&(0<(a*=t.scrollVerticalLineChange/16)?t.scroll(n,"up",-a):t.scroll(n,"down",a))}t.position.w(i)||(e.bubbles=!1)}}},Mn.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var n=this,i=e.clone(this.Iy);this.ct=v((function(){n.doWaitAfter(i)}),t)},Mn.prototype.cancelWaitAfter=function(){-1!==this.ct&&p.clearTimeout(this.ct),this.ct=-1},Mn.prototype.doWaitAfter=function(){},Mn.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.Ub(t,(function(t){for(;null!==t&&!(t.panel instanceof vh);)t=t.panel;return t})))?null:t.part.category===e?t:null},Mn.prototype.isBeyondDragSize=function(t,e){var n=this.diagram;void 0===t&&(t=n.firstInput.viewPoint),void 0===e&&(e=n.lastInput.viewPoint);var i=n.toolManager.dragSize,o=i.width;return i=i.height,n.firstInput.isTouchEvent&&(o+=6,i+=6),Math.abs(e.x-t.x)>o||Math.abs(e.y-t.y)>i},d.Object.defineProperties(Mn.prototype,{diagram:{get:function(){return this.B},set:function(t){t instanceof Po&&(this.B=t)}},name:{get:function(){return this.Qa},set:function(t){this.Qa=t}},isEnabled:{get:function(){return this.ad},set:function(t){this.ad=t}},isActive:{get:function(){return this.kd},set:function(t){this.kd=t}},transactionResult:{get:function(){return this.Jw},set:function(t){this.Jw=t}}}),Mn.prototype.stopTransaction=Mn.prototype.Eg,Mn.prototype.startTransaction=Mn.prototype.ua,Mn.className="Tool",c(On,Mn),On.prototype.initializeStandardTools=function(){},On.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof vh&&this.tr===t){var n=e.adornedObject;(null!==t?n.part===t:null===n)?this.showToolTip(e,n):this.hideToolTip()}},On.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===Fn&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===Ln)return void(e.bubbles=!0);if(this.gestureBehavior===Fn)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var n=this.mouseDownTools.length,i=0;i<n;i++){var o=this.mouseDownTools.L(i);if(o.diagram=this.diagram,o.canStart())return t.doFocus(),t.currentTool=o,void(t.currentTool===o&&(o.isActive||o.doActivate(),o.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===An?this.mouseWheelBehavior=Rn:this.mouseWheelBehavior===Rn&&(this.mouseWheelBehavior=An)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},On.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===Ln)return void(e.bubbles=!0);if(this.gestureBehavior===Fn)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var n=this.mouseMoveTools.length,i=0;i<n;i++){var o=this.mouseMoveTools.L(i);if(o.diagram=this.diagram,o.canStart())return t.doFocus(),t.currentTool=o,void(t.currentTool===o&&(o.isActive||o.doActivate(),o.doMouseMove()))}Pn(this,t),null===(t=e.event)||"mousemove"!==t.type&&"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},On.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof vh&&(e===t||e.Ag(t))||this.hideToolTip()},On.prototype.doWaitAfter=function(t){var e=this.diagram;e.sa&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.Sj=!0,e.doMouseUp()))},On.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.Ub(e.documentPoint,null,null));var n=e.targetObject;if(null!==n)for(e.handled=!1;null!==n&&(null===(t=this.isActive?n.mouseHold:n.mouseHover)||(t(e,n),!e.handled));)n=n.panel;else null!==(n=this.isActive?t.mouseHold:t.mouseHover)&&n(e)},On.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.Ub(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof vh)||e!==t&&!e.Ag(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},On.prototype.showToolTip=function(t,e){var n=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof vh){t.layerName="Tool",t.selectable=!1,t.scale=1/n.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=n.scale);var i=t.diagram;null!==i&&i!==n&&i.remove(t),n.add(t),null!==e?t.adornedObject=e:t.data=n.model,t.zb(),this.positionToolTip(t,e)}else t instanceof Ti&&t!==this.currentToolTip&&t.show(e,n,this);if(this.currentToolTip=t,-1!==this.Tj&&(p.clearTimeout(this.Tj),this.Tj=-1),0<(t=this.toolTipDuration)&&1/0!==t){var o=this;this.Tj=v((function(){o.hideToolTip()}),t)}},On.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,n=e.lastInput.documentPoint.copy(),i=t.measuredBounds,o=e.viewportBounds;e.lastInput.isTouchEvent&&(n.x-=i.width),n.x+i.width>o.right&&(n.x-=i.width+5/e.scale),n.x<o.x&&(n.x=o.x),n.y=n.y+20/e.scale+i.height>o.bottom?n.y-(i.height+5/e.scale):n.y+20/e.scale,n.y<o.y&&(n.y=o.y),t.position=n}},On.prototype.hideToolTip=function(){-1!==this.Tj&&(p.clearTimeout(this.Tj),this.Tj=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof vh?(t.remove(e),null!==this.tr&&this.tr.Af(e.category),e.data=null,e.adornedObject=null):e instanceof Ti&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},On.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,n=0;n<e;n++){var i=this.mouseUpTools.L(n);if(i.diagram=this.diagram,i.canStart())return t.doFocus(),t.currentTool=i,void(t.currentTool===i&&(i.isActive||i.doActivate(),i.doMouseUp()))}t.doFocus(),this.doDeactivate()},On.prototype.doMouseWheel=function(){this.standardMouseWheel()},On.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},On.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},On.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,n=0;n<e;n++){var i=this.mouseDownTools.L(n);if(i.name===t)return i}for(e=this.mouseMoveTools.length,n=0;n<e;n++)if((i=this.mouseMoveTools.L(n)).name===t)return i;for(e=this.mouseUpTools.length,n=0;n<e;n++)if((i=this.mouseUpTools.L(n)).name===t)return i;return null},On.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var n=this.mouseDownTools.length,i=0;i<n;i++){var o=this.mouseDownTools.L(i);if(o.name===t)return null!==e?this.mouseDownTools.hd(i,e):this.mouseDownTools.ab(i),o}for(n=this.mouseMoveTools.length,i=0;i<n;i++)if((o=this.mouseMoveTools.L(i)).name===t)return null!==e?this.mouseMoveTools.hd(i,e):this.mouseMoveTools.ab(i),o;for(n=this.mouseUpTools.length,i=0;i<n;i++)if((o=this.mouseUpTools.L(i)).name===t)return null!==e?this.mouseUpTools.hd(i,e):this.mouseUpTools.ab(i),o;return null},On.prototype.Wa=function(t,e,n){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&n.add(e)},d.Object.defineProperties(On.prototype,{mouseWheelBehavior:{get:function(){return this.Ia},set:function(t){this.Ia=t}},gestureBehavior:{get:function(){return this.I},set:function(t){this.I=t}},currentToolTip:{get:function(){return this.l},set:function(t){this.l=t,this.tr=null!==t&&t instanceof vh?t.adornedPart:null}},mouseDownTools:{get:function(){return this.Jc}},mouseMoveTools:{get:function(){return this.Yc}},mouseUpTools:{get:function(){return this.Ef}},hoverDelay:{get:function(){return this.Ha},set:function(t){this.Ha=t}},holdDelay:{get:function(){return this.W},set:function(t){this.W=t}},dragSize:{get:function(){return this.u},set:function(t){this.u=t.G()}},toolTipDuration:{get:function(){return this.bb},set:function(t){this.bb=t}}}),On.prototype.replaceStandardTool=On.prototype.Wa;var An=new K(On,"WheelScroll",0),Rn=new K(On,"WheelZoom",1),Bn=new K(On,"WheelNone",2),Nn=new K(On,"GestureZoom",3),Fn=new K(On,"GestureCancel",4),Ln=new K(On,"GestureNone",5);function Vn(){Mn.call(this),this.name="Dragging",this.I=this.Yc=!0,this.u=this.bb=this.Ha=this.lg=null,this.Cn=this.Ef=!1,this.Rl=new ft(NaN,NaN),this.Rs=new ft,this.Jc=!0,this.Xk=100,this.Qg=[],this.Vq=(new nt).freeze(),this.Ia=new Oa,this.mo=null,this.W="copy",this.Lh="",this.Oh="no-drop"}function jn(t,e){if(t.dragsLink){var n=t.diagram;n.allowRelink&&(n.model.kk()&&1===e.count&&e.first()instanceof Nh?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.$j(),t.lg=n.toolManager.findTool("Relinking"),null===t.lg&&(t.lg=new fi,t.lg.diagram=n)):(t.draggedLink=null,t.lg=null))}}function zn(t){var e=t.diagram,n=e.skipsUndoManager;e.skipsUndoManager=!0,Xn(t,e.lastInput,null),e.skipsUndoManager=n,t.Qg.length=0}function Hn(){var t=ri;Kn(t),qn(t);var e=t.diagram;t.Rl.v()&&(e.position=t.Rl),e.Cf()}function Wn(t,e){var n=1/0,i=1/0,o=-1/0,r=-1/0;for(t=t.iterator;t.next();){var a=t.value;if(a.Wb()&&a.isVisible()){var s=a.location;a=s.x,s=s.y,isNaN(a)||isNaN(s)||(a<n&&(n=a),s<i&&(i=s),a>o&&(o=a),s>r&&(r=s))}}1/0===n?e.h(0,0,0,0):e.h(n,i,o-n,r-i)}function Gn(t,e){if(null===t.copiedParts){var n=t.diagram;if((!e||!n.isReadOnly&&!n.isModelReadOnly)&&null!==t.draggedParts){var i=n.undoManager;for(i.isEnabled&&i.isInTransaction?null!==i.currentTransaction&&0<i.currentTransaction.changes.count&&(n.undoManager.Bf(),n.ua("Drag")):qn(t),n.skipsUndoManager=!e,n.partManager.addsToTemporaryLayer=!e,t.startPoint=n.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Df():n.selection,e=(n=n.ek(e,n,!0)).iterator;e.next();)e.value.location=e.key.location;for(Wn(n,e=Lt.alloc()),Lt.free(e),e=new dt,i=t.draggedParts.iterator;i.next();){var o=i.key;o.Wb()&&o.canCopy()&&(null!==(o=n.H(o))&&(o.zb(),e.add(o,t.td(o.location))))}for(n=n.iterator;n.next();)(i=n.value)instanceof Nh&&i.canCopy()&&e.add(i,t.td());t.copiedParts=e,jn(t,e.Df()),null!==t.draggedLink&&(e=(n=t.draggedLink).routeBounds,Vh(n,t.startPoint.x-(e.x+e.width/2),t.startPoint.y-(e.y+e.height/2)))}}}function Kn(t){var e=t.diagram;if(null!==t.copiedParts&&(e.Nt(t.copiedParts.Df(),!1),t.copiedParts=null,null!==t.draggedParts))for(var n=t.draggedParts.iterator;n.next();)n.key instanceof Nh&&(n.value.point=new ft(0,0));e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function $n(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.lg){var e=t.lg;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode)}t.draggedLink=null,t.lg=null}}function Un(t,e,n){var i=t.diagram,o=t.startPoint,r=ft.alloc();r.assign(i.lastInput.documentPoint),t.moveParts(e,r.ae(o),n),ft.free(r),!0===i.De("temporaryPixelRatio")&&null===i.rh&&30<i.Bx&&(No(i),i.Lt())}function qn(t){if(null!==t.draggedParts){for(var e=t.diagram,n=t.draggedParts.iterator;n.next();){var i=n.key;i.Wb()&&(i.location=n.value.point)}for(n=t.draggedParts.iterator;n.next();)if((i=n.key)instanceof Nh&&i.suspendsRouting){var o=n.value.point;t.draggedParts.add(i,t.td()),Vh(i,-o.x,-o.y)}e.Wc()}}function Yn(t,e){var n=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),Qn(t,!1));var i=t.findDragOverObject(e),o=n.lastInput;o.targetObject=i,t.doUpdateCursor(i);var r=n.skipsUndoManager,a=!1;try{if(n.skipsUndoManager=!0,a=Xn(t,o,i),!t.isActive&&null===ri)return;var s=null!==i?i.part:null;if(null===s||n.handlesDragDropForTopLevelParts&&s.isTopLevel&&!(s instanceof Ph)){var l=n.mouseDragOver;null!==l&&(l(o),a=!0)}if(!t.isActive&&null===ri)return;if(t.doDragOver(e,i),!t.isActive&&null===ri)return}finally{n.skipsUndoManager=r,a&&n.Wc()}t.mo=i,n.isReadOnly||!n.allowMove&&!n.allowCopy||!n.allowHorizontalScroll&&!n.allowVerticalScroll||n.kt(o.viewPoint)}function Xn(t,e,n){var i=!1,o=t.Qg.length,r=0<o?t.Qg[0]:null;if(n===r)return!1;e.handled=!1;for(var a=0;a<o;a++){var s=t.Qg[a],l=s.mouseDragLeave;if(null!==l&&(l(e,s,n),i=!0,e.handled))break}if(t.Qg.length=0,!t.isActive&&null===ri||null===n)return i;for(e.handled=!1,o=n;null!==o;)t.Qg.push(o),o=Zn(o);for(o=t.Qg.length,n=0;n<o&&(null===(s=(a=t.Qg[n]).mouseDragEnter)||(s(e,a,r),i=!0,!e.handled));n++);return i}function Zn(t){var e=t.panel;return null!==e?e:t instanceof Zu&&!(t instanceof Ph)&&(null!==(t=t.containingGroup)&&t.handlesDragDropForMembers)?t:null}function Jn(t,e,n){var i=t.lg;if(null===i)return null;var o=t.diagram.xg(e,i.portGravity,(function(t){return i.findValidLinkablePort(t,n)}));t=ft.alloc();var r=1/0,a=null;for(o=o.iterator;o.next();){var s=o.value;if(null!==s.part){var l=s.ga(le,t);(l=e.Ce(l))<r&&(a=s,r=l)}}return ft.free(t),a}function Qn(t,e){var n=t.draggedLink;if(null!==n&&!(2>n.pointsCount)){var i=t.diagram;if(!i.isReadOnly){var o=t.lg;if(null!==o){var r=null,a=null;null===n.fromNode&&(null!==(r=Jn(t,n.i(0),!1))&&(a=r.part));var s=null,l=null;null===n.toNode&&(null!==(s=Jn(t,n.i(n.pointsCount-1),!0))&&(l=s.part)),o.isValidLink(a,r,l,s)?e?(n.defaultFromPoint=n.i(0),n.defaultToPoint=n.i(n.pointsCount-1),n.suspendsRouting=!1,n.fromNode=a,null!==r&&(n.fromPortId=r.portId),n.toNode=l,null!==s&&(n.toPortId=s.portId),n.fromPort!==i.ay&&i.R("LinkRelinked",n,i.ay),n.toPort!==i.by&&i.R("LinkRelinked",n,i.by)):pi(o,a,r,l,s):pi(o,null,null,null,null)}}}}function ti(t,e){var n=t.diagram;t.dragsLink&&Qn(t,!0),zn(t);var i=t.findDragOverObject(e),o=n.lastInput;if(o.targetObject=i,null!==i){o.handled=!1;for(var r=i;null!==r;){var a=r.mouseDrop;if(null!==a&&(a(o,r),o.handled))break;ei(t,o,r),r=Zn(r)}}else null!==(r=n.mouseDrop)&&r(o);if(t.isActive||null!==ri){for(o=(t.copiedParts||t.draggedParts).iterator;o.next();)(r=o.key)instanceof yh&&r.linksConnected.each((function(t){t.suspendsRouting=!1}));if(t.doDropOnto(e,i),t.isActive||null!==ri){for(t=Lt.alloc(),e=n.selection.iterator;e.next();)(i=e.value)instanceof yh&&ni(n,i,t);Lt.free(t)}}}function ei(t,e,n){t=t.diagram,n=n.part,!t.handlesDragDropForTopLevelParts||!n.isTopLevel||n instanceof Ph||null!==(n=t.mouseDrop)&&n(e)}function ni(t,e,n){var i=!1;if(e.getAvoidableRect(n),t.viewportBounds.Be(n)&&(i=!0),0!==(t=t.zv(n,(function(t){return t.part}),(function(t){return t instanceof Nh}),!0,(function(t){return t instanceof Nh}),i)).count)for(t=t.iterator;t.next();)!(n=t.value).Xd(e)&&n.isAvoiding&&n.Ta()}function ii(t,e,n,i){if(null===t.copiedParts){var o=t.diagram;if(!o.isReadOnly&&!o.isModelReadOnly){o.skipsUndoManager=!n,o.partManager.addsToTemporaryLayer=!n,t.startPoint=i.documentPoint,n=o.ek(e,o,!0);var r=Lt.alloc();Wn(e,r),i=r.x+r.width/2,o=r.y+r.height/2,Lt.free(r),r=t.Rs;var a=new dt,s=ft.alloc();for(e=e.iterator;e.next();){var l=e.value,u=n.H(l);l.Wb()&&l.canCopy()?(l=l.location,s.h(r.x-(i-l.x),r.y-(o-l.y)),u.location=s,u.zb(),a.add(u,t.td(s))):u instanceof Nh&&l.canCopy()&&(Vh(u,r.x-i,r.y-o),a.add(u,t.td()))}ft.free(s),t.copiedParts=a,jn(t,a.Df()),null!==t.draggedLink&&(i=(n=t.draggedLink).routeBounds,Vh(n,t.startPoint.x-(i.x+i.width/2),t.startPoint.y-(i.y+i.height/2)))}}}On.className="ToolManager",On.WheelScroll=An,On.WheelZoom=Rn,On.WheelNone=Bn,On.GestureZoom=Nn,On.GestureCancel=Fn,On.GestureNone=Ln,c(Vn,Mn),Vn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.Xk))&&null!==this.findDraggablePart()},Vn.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.km(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},Vn.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.km(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),e=t.lastInput,(z?e.meta:e.control)||e.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},Vn.prototype.doActivate=function(){var t=this.diagram;this.mo=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(ri=null,this.isActive=!0,this.Rl.set(t.position),jn(this,t.selection),this.Qg.length=0,this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),t.Tt=!0,!0===t.De("temporaryPixelRatio")&&30<t.Bx&&No(t),_r(t,this.draggedParts),this.ua("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Cn=!1,ri=this,ai=this.diagram,this.doSimulatedDragOut()))},Vn.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},Vn.prototype.td=function(t){return void 0===t?new Da(xt):this.isGridSnapEnabled?new Da(new ft(Math.round(t.x),Math.round(t.y))):new Da(t.copy())},Vn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(t.Cf(),zn(this),br(t,this.draggedParts),this.draggedParts=this.currentPart=this.mo=null,this.Cn=this.isDragOutStarted=!1,0<oi.count){for(var e=oi,n=e.length,i=0;i<n;i++){var o=e.L(i);$n(o),Kn(o),zn(o),o.diagram.Cf()}e.clear()}$n(this),this.Rl.h(NaN,NaN),ri=ai=null,Kn(this),t.isMouseCaptured=!1,t.currentCursor="",t.Tt=!1,this.Eg(),Fo(t,!0)},Vn.prototype.doCancel=function(){Kn(this),qn(this);var t=this.diagram;this.Rl.v()&&(t.position=this.Rl),this.stopTool()},Vn.prototype.doKeyDown=function(){this.isActive&&("Esc"===this.diagram.lastInput.key?this.doCancel():this.doMouseMove())},Vn.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},Vn.prototype.moveParts=function(t,e,n){var i=this.diagram;null!==i&&mr(i,t,e,this.dragOptions,n)},Vn.prototype.findDragOverObject=function(t){var e=this;return Uo(this.diagram,t,null,(function(t){return null===t?t=!0:t=!!(null===(t=t.part)||t instanceof vh||t.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(t)||e.copiedParts&&e.copiedParts.contains(t)),!t}))},Vn.prototype.doUpdateCursor=function(t){var e=this.diagram;this.mo!==t&&(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))},Vn.prototype.doDragOver=function(){},Vn.prototype.doDropOnto=function(){},Vn.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(Gn(this,!1),_r(t,this.copiedParts),Un(this,this.copiedParts,!1),br(t,this.copiedParts)):this.mayMove()?(Kn(this),Un(this,this.draggedParts,!0)):this.mayDragOut()?(Gn(this,!1),Un(this,this.copiedParts,!1)):Kn(this),Yn(this,t.lastInput.documentPoint))}},Vn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var n=this.mayCopy();if(n&&null!==this.copiedParts?(Kn(this),Gn(this,!0),_r(t,this.copiedParts),Un(this,this.copiedParts,!1),br(t,this.copiedParts),null!==this.copiedParts&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each((function(t){t.isSelected=!0})))):(e=!0,Kn(this),this.mayMove()&&(Un(this,this.draggedParts,!0),Yn(this,t.lastInput.documentPoint))),this.Cn=!0,ti(this,t.lastInput.documentPoint),this.isActive){var i=n?this.copiedParts.Df():this.draggedParts.Df();this.copiedParts=null,e&&function(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var n=e.key;n instanceof yh&&(null===(n=n.containingGroup)||null===n.placeholder||t.draggedParts.contains(n)||n.placeholder.o())}}(this),t.Na(),br(t,this.draggedParts),this.transactionResult=n?"Copy":"Move",t.R(n?"SelectionCopied":"SelectionMoved",i)}this.stopTool(),n&&t.R("ChangedSelection",t.selection)}}},Vn.prototype.simulatedMouseMove=function(t,e,n){if(null===ri)return!1;var i=ri.diagram;n instanceof Po||(n=null);var o=ai;return n!==o&&(null!==o&&o!==i&&(o.Cf(),ri.isDragOutStarted=!1,null!==(o=o.toolManager.findTool("Dragging"))&&o.doSimulatedDragLeave()),ai=n,null!==n&&n!==i&&(Hn(),null!==(o=n.toolManager.findTool("Dragging"))&&(oi.contains(o)||oi.add(o),o.doSimulatedDragEnter()))),!(null===n||n===i||!n.allowDrop||n.isReadOnly||!n.allowInsert)&&(null!==(i=n.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=n.getMouse(t)),n.lastInput.documentPoint=e,n.lastInput.viewPoint=n.Qq(e),n.lastInput.down=!1,n.lastInput.up=!1,i.doSimulatedDragOver()),!0)},Vn.prototype.simulatedMouseUp=function(t,e,n){if(null===ri)return!1;var i=ai,o=ri.diagram;if(null===n)return ri.doCancel(),!0;if(n!==i){var r=i.toolManager.findTool("Dragging");if(null!==i&&i!==o&&null!==r)return i.Cf(),ri.isDragOutStarted=!1,r.doSimulatedDragLeave(),!1;ai=n,null!==(i=n.toolManager.findTool("Dragging"))&&(Hn(),oi.contains(i)||oi.add(i),i.doSimulatedDragEnter())}return n!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=n.getMouse(t)):null===e&&(e=new ft),n.lastInput.documentPoint=e,n.lastInput.viewPoint=n.Qq(e),n.lastInput.down=!1,n.lastInput.up=!0,null!==(t=n.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=ri)&&(n=t.mayCopy(),t.transactionResult=n?"Copy":"Move",t.stopTool()),!0)},Vn.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(z?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Wb()&&e.canCopy())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Vn.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Wb()&&e.canCopy())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Vn.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Wb()&&e.canMove())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},Vn.prototype.computeBorder=function(t,e,n){return this.Cn||null===this.draggedParts||this.draggedParts.contains(t)?null:n.assign(e)},Vn.prototype.Fz=function(){return ri},Vn.prototype.mayDragIn=function(){var t=this.diagram;if(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)return!1;return null!==ri&&ri.diagram.model.dataFormat===t.model.dataFormat},Vn.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Xc(),ir(t),t.animationManager.Xc();null!==ri&&(ri.diagram.Tt=!1),this.doUpdateCursor(t.grid)}},Vn.prototype.doSimulatedDragLeave=function(){null!==ri&&ri.doSimulatedDragOut(),this.doCancel()},Vn.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.cn=!0;var e=ri;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;ii(this,e.draggedParts.Df(),!1,t.firstInput),Un(this,this.copiedParts,!1),Yn(this,t.lastInput.documentPoint)}t.animationManager.cn=!1},Vn.prototype.doSimulatedDrop=function(){var t=this.diagram,e=ri;if(null!==e){var n=e.diagram;if(e.Cn=!0,Kn(this),!this.mayDragIn())return;t.animationManager.cn=!0,t.R("ChangingSelection",t.selection),this.ua("Drop"),ii(this,e.draggedParts.Df(),!0,t.lastInput),Un(this,this.copiedParts,!1),null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each((function(t){t.isSelected=!0}))),ti(this,t.lastInput.documentPoint),t.Na(),e=t.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":e=new nt,this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",e,n),this.Eg(),t.R("ChangedSelection",t.selection)}t.animationManager.cn=!1},Vn.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.Tt=!1,this.mayCopy()||this.mayMove()?t.currentCursor="":t.currentCursor=this.nodropCursor,this.mo=null},Vn.prototype.computeMove=function(t,e,n,i){return null!==(n=this.diagram)?n.computeMove(t,e,this.dragOptions,i):new ft},d.Object.defineProperties(Vn.prototype,{isCopyEnabled:{get:function(){return this.Yc},set:function(t){this.Yc=t}},copiesEffectiveCollection:{get:function(){return this.I},set:function(t){this.I=t}},dragOptions:{get:function(){return this.Ia},set:function(t){this.Ia=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.Jc},set:function(t){this.Jc=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.w(t)||(t=t.G(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.w(t)||(t=t.G(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.w(t)||(t=t.G(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.W},set:function(t){this.W=t}},moveCursor:{get:function(){return this.Lh},set:function(t){this.Lh=t}},nodropCursor:{get:function(){return this.Oh},set:function(t){this.Oh=t}},currentPart:{get:function(){return this.Ha},set:function(t){this.Ha=t}},copiedParts:{get:function(){return this.u},set:function(t){this.u=t}},draggedParts:{get:function(){return this.bb},set:function(t){this.bb=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Df():null!==this.draggedParts?this.draggedParts.Df():this.Vq}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Ef},set:function(t){this.Ef=t}},startPoint:{get:function(){return this.Rs},set:function(t){this.Rs.w(t)||this.Rs.assign(t)}},delay:{get:function(){return this.Xk},set:function(t){this.Xk=t}}}),Vn.prototype.getDraggingSource=Vn.prototype.Fz;var oi=null,ri=null,ai=null;function si(){Mn.call(this),this.Oh=100,this.Ia=!1,this.fi="pointer";var t=new Nh,e=new Yl;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new Yl).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.Hw=t,t=new yh,(e=new Yl).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=It,t.add(e),t.selectable=!1,t.layerName="Tool",this.Gw=t,this.l=e,t=new yh,(e=new Yl).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=It,t.add(e),t.selectable=!1,t.layerName="Tool",this.Iw=t,this.u=e,this.Lh=this.Ef=this.Jc=this.bb=this.Yc=null,this.Ha=!0,this.zy=new dt,this.Vq=this.xi=this.Fw=null}function li(t,e,n,i,o){if(e===n)return!0;if(null===e||null===n)return!1;for(var r=e.linksConnected;r.next();){var a=r.value;if(a!==i&&(!o||a.isTreeLink)&&a.toNode===e&&((a=a.fromNode)!==e&&li(t,a,n,i,o)))return!0}return!1}function ui(){si.call(this),this.name="Linking",this.W={},this.I=null,this.J=hi,this.Om=null}Vn.className="DraggingTool",oi=new tt,R("draggingTool",(function(){return this.findTool("Dragging")}),(function(t){this.Wa("Dragging",t,this.mouseMoveTools)})),On.prototype.doCancel=function(){null!==ri&&ri.doCancel(),Mn.prototype.doCancel.call(this)},c(si,Mn),si.prototype.doStop=function(){this.diagram.Cf(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},si.prototype.copyPortProperties=function(t,e,n,i,o){if(null!==t&&null!==e&&null!==n&&null!==i){var r=e.vf(),a=Rt.alloc();a.width=e.naturalBounds.width*r,a.height=e.naturalBounds.height*r,i.desiredSize=a,Rt.free(a),o?(i.toSpot=e.toSpot,i.toEndSegmentLength=e.toEndSegmentLength):(i.fromSpot=e.fromSpot,i.fromEndSegmentLength=e.fromEndSegmentLength),n.locationSpot=le,r=ft.alloc(),n.location=e.ga(le,r),ft.free(r),i.angle=e.Zi(),null!==this.portTargeted&&this.portTargeted(t,e,n,i,o)}},si.prototype.setNoTargetPortProperties=function(t,e,n){null!==e&&(e.desiredSize=It,e.fromSpot=ie,e.toSpot=ie),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,n)},si.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},si.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof yh){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.kt(t.lastInput.viewPoint)}},si.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var n=t.part;if(!(n instanceof yh))return null;for(;null!==t;){var i=e?t.toLinkable:t.fromLinkable;if(!0===i&&(null!==t.portId||t instanceof yh)&&(e?this.isValidTo(n,t):this.isValidFrom(n,t)))return t;if(!1===i)break;t=t.panel}return null},si.prototype.findTargetPort=function(t){var e=this.diagram,n=e.lastInput.documentPoint,i=this.portGravity;0>=i&&(i=.1);var o=this,r=e.xg(n,i,(function(e){return o.findValidLinkablePort(e,t)}),null,!0);for(i=1/0,e=null,r=r.iterator;r.next();){var a=r.value,s=a.part;if(s instanceof yh){var l=a.ga(le,ft.alloc()),u=n.x-l.x,h=n.y-l.y;ft.free(l),(l=u*u+h*h)<i&&(null!==(u=this.validPortsCache.H(a))?u&&(e=a,i=l):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,s,a)||!t&&this.isValidLink(s,a,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(a,!0),e=a,i=l):this.validPortsCache.add(a,!1))}}return null!==e&&((n=e.part)instanceof yh&&(null===n.layer||n.layer.allowLink))?e:null},si.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var n=e.fromMaxLinks;if(1/0>n){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.oq(e).count>=n)return!1}return!0},si.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var n=e.toMaxLinks;if(1/0>n){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.xd(e).count>=n)return!1}return!0},si.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(t=t.part,e=e.part,null!==t&&t===e))},si.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var n=t.part;if(!(n instanceof yh))return!1;null===(t=t.portId)&&(t="");var i=e.part;if(!(i instanceof yh))return!1;for(null===(e=e.portId)&&(e=""),e=i.xd(e);e.next();)if((i=e.value).fromNode===n&&i.fromPortId===t)return!0;return!1},si.prototype.isValidLink=function(t,e,n,i){if(!this.isValidFrom(t,e)||!this.isValidTo(n,i)||!(null===e||null===i||(e.fromLinkableSelfNode&&i.toLinkableSelfNode||!this.isInSameNode(e,i))&&(e.fromLinkableDuplicates&&i.toLinkableDuplicates||!this.isLinked(e,i)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==n&&this.isLabelDependentOnLink(n,this.originalLink))||null!==t&&null!==n&&(null===t.data&&null!==n.data||null!==t.data&&null===n.data)||!this.isValidCycle(t,n,this.originalLink))return!1;if(null!==t){var o=t.linkValidation;if(null!==o&&!o(t,e,n,i,this.originalLink))return!1}return!(null!==n&&null!==(o=n.linkValidation)&&!o(t,e,n,i,this.originalLink))&&(null===(o=this.linkValidation)||o(t,e,n,i,this.originalLink))},si.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var n=t.labeledLink;if(null===n)return!1;if(n===e)return!0;var i=new nt;return i.add(t),function t(e,n,i,o){if(n===i)return!0;var r=n.fromNode;return!(null===r||!r.isLinkLabel||(o.add(r),!t(e,r.labeledLink,i,o)))||!(null===(n=n.toNode)||!n.isLinkLabel||(o.add(n),!t(e,n.labeledLink,i,o)))}(this,n,e,i)},si.prototype.isValidCycle=function(t,e,n){if(void 0===n&&(n=null),null===t||null===e)return this.isUnconnectedLinkValid;var i=this.diagram.validCycle;if(i!==ha){if(i===pa){if(null!==(i=n||this.temporaryLink)&&!i.isTreeLink)return!0;for(i=e.linksConnected;i.next();){var o=i.value;if(o!==n&&o.isTreeLink&&o.toNode===e)return!1}return!li(this,t,e,n,!0)}if(i===ga){if(null!==(i=n||this.temporaryLink)&&!i.isTreeLink)return!0;for(i=t.linksConnected;i.next();)if((o=i.value)!==n&&o.isTreeLink&&o.fromNode===t)return!1;return!li(this,t,e,n,!0)}if(i===ca)return t===e?t=!0:((i=new nt).add(e),t=function t(e,n,i,o,r){if(i===o)return!0;if(null===i||null===o||n.contains(i))return!1;n.add(i);for(var a=i.linksConnected;a.next();){var s=a.value;if(s!==r&&s.toNode===i&&((s=s.fromNode)!==i&&t(e,n,s,o,r)))return!0}return!1}(this,i,t,e,n)),!t;if(i===da)return!li(this,t,e,n,!1);if(i===fa)return t===e?t=!0:((i=new nt).add(e),t=function t(e,n,i,o,r){if(i===o)return!0;if(null===i||null===o||n.contains(i))return!1;n.add(i);for(var a=i.linksConnected;a.next();){var s=a.value;if(s!==r){var l=s.fromNode;if(s=s.toNode,(l=l===i?s:l)!==i&&t(e,n,l,o,r))return!0}}return!1}(this,i,t,e,n)),!t}return!0},d.Object.defineProperties(si.prototype,{portGravity:{get:function(){return this.Oh},set:function(t){0<=t&&(this.Oh=t)}},isUnconnectedLinkValid:{get:function(){return this.Ia},set:function(t){this.Ia=t}},linkingCursor:{get:function(){return this.fi},set:function(t){this.fi=t}},temporaryLink:{get:function(){return this.Hw},set:function(t){this.Hw=t}},temporaryFromNode:{get:function(){return this.Gw},set:function(t){(this.Gw=t)&&(this.l=t.port)}},temporaryFromPort:{get:function(){return this.l},set:function(t){if(null!==this.l){var e=this.l.panel;if(null!==e){var n=e.V.indexOf(this.l);e.ab(n),e.tb(n,t)}}this.l=t}},temporaryToNode:{get:function(){return this.Iw},set:function(t){(this.Iw=t)&&(this.u=t.port)}},temporaryToPort:{get:function(){return this.u},set:function(t){if(null!==this.u){var e=this.u.panel;if(null!==e){var n=e.V.indexOf(this.u);e.ab(n),e.tb(n,t)}}this.u=t}},originalLink:{get:function(){return this.Yc},set:function(t){this.Yc=t}},originalFromNode:{get:function(){return this.bb},set:function(t){this.bb=t}},originalFromPort:{get:function(){return this.Jc},set:function(t){this.Jc=t}},originalToNode:{get:function(){return this.Ef},set:function(t){this.Ef=t}},originalToPort:{get:function(){return this.Lh},set:function(t){this.Lh=t}},isForwards:{get:function(){return this.Ha},set:function(t){this.Ha=t}},validPortsCache:{get:function(){return this.zy}},targetPort:{get:function(){return this.Fw},set:function(t){this.Fw=t}},linkValidation:{get:function(){return this.xi},set:function(t){this.xi=t}},portTargeted:{get:function(){return this.Vq},set:function(t){this.Vq=t}}}),si.className="LinkingBaseTool",c(ui,si),ui.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.zt()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},ui.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.Ub(t.firstInput.documentPoint,null,null)),null===e||!(e.part instanceof yh))return null;if((t=this.direction)===hi||t===ci){var n=this.findValidLinkablePort(e,!1);if(null!==n)return this.isForwards=!0,n}return t!==hi&&t!==di||null===(e=this.findValidLinkablePort(e,!0))?null:(this.isForwards=!1,e)},ui.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null!==e&&(this.ua(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null===this.temporaryToNode||this.temporaryToNode.location.v()||(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof yh&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null===this.temporaryFromNode||this.temporaryFromNode.location.v()||(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof yh&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.Ta(),t.add(this.temporaryLink)),this.isActive=!0)},ui.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Eg()},ui.prototype.doStop=function(){si.prototype.doStop.call(this),this.startObject=null},ui.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.transactionResult=null,n=null,i=null,o=null,r=null;try{var a=this.targetPort=this.findTargetPort(this.isForwards);if(null!==a){var s=a.part;s instanceof yh&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,n=this.originalFromPort),i=s,o=a):(e=s,n=a,null!==this.originalToNode&&(i=this.originalToNode,o=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,n=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(i=this.originalToNode,o=this.originalToPort);null!==e||null!==i?null!==(r=this.insertLink(e,n,i,o))?(null===a&&(this.isForwards?r.defaultToPoint=t.lastInput.documentPoint:r.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),r.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",r)):(t.model.jq(),this.doNoLink(e,n,i,o)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),r&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},ui.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof Nh)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},ui.prototype.insertLink=function(t,e,n,i){return this.diagram.partManager.insertLink(t,e,n,i)},ui.prototype.doNoLink=function(){},d.Object.defineProperties(ui.prototype,{archetypeLinkData:{get:function(){return this.W},set:function(t){this.W=t}},archetypeLabelNodeData:{get:function(){return this.I},set:function(t){this.I=t}},direction:{get:function(){return this.J},set:function(t){this.J=t}},startObject:{get:function(){return this.Om},set:function(t){this.Om=t}}});var hi=new K(ui,"Either",0),ci=new K(ui,"ForwardsOnly",0),di=new K(ui,"BackwardsOnly",0);function fi(){si.call(this),this.name="Relinking";var t=new Yl;t.figure="Diamond",t.desiredSize=Dt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.W=t,(t=new Yl).figure="Diamond",t.desiredSize=Dt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.Om=t,this.I=null,this.jx=new Lt}function pi(t,e,n,i,o){null!==e?(t.copyPortProperties(e,n,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==i?(t.copyPortProperties(i,o,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function gi(){Mn.call(this),this.name="LinkReshaping";var t=new Yl;t.figure="Rectangle",t.desiredSize=Tt,t.fill="lightblue",t.stroke="dodgerblue",this.u=t,(t=new Yl).figure="Diamond",t.desiredSize=Dt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.I=t,this.W=3,this.bu=this.l=null,this.kx=new ft,this.ss=new tt}function mi(t,e,n,i,o,r){return r?Math.abs(e.y-n.y)<t.resegmentingDistance&&Math.abs(n.y-i.y)<t.resegmentingDistance&&Math.abs(i.y-o.y)<t.resegmentingDistance:Math.abs(e.x-n.x)<t.resegmentingDistance&&Math.abs(n.x-i.x)<t.resegmentingDistance&&Math.abs(i.x-o.x)<t.resegmentingDistance}ui.className="LinkingTool",ui.Either=hi,ui.ForwardsOnly=ci,ui.BackwardsOnly=di,c(fi,si),fi.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Nh){var e="RelinkFrom",n=null;if(t.isSelected&&!this.diagram.isReadOnly){var i=t.selectionObject;null!==i&&t.canRelinkFrom()&&t.actualBounds.v()&&t.isVisible()&&i.actualBounds.v()&&i.zf()&&(null===(n=t.hk(e))&&(n=this.makeAdornment(i,!1),t.zh(e,n)))}null===n&&t.Af(e),e="RelinkTo",n=null,t.isSelected&&!this.diagram.isReadOnly&&(null!==(i=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.v()&&t.isVisible()&&i.actualBounds.v()&&i.zf()&&(null===(n=t.hk(e))?(n=this.makeAdornment(i,!0),t.zh(e,n)):n.o())),null===n&&t.Af(e)}},fi.prototype.makeAdornment=function(t,e){var n=new vh;return n.type=wl.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&n.add(e.copy()),n.adornedObject=t,n},fi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.zt()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},fi.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&(null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),null===e)return;var n=e.part;if(!(n instanceof vh&&n.adornedPart instanceof Nh))return;this.handle=e,this.isForwards=null===n||"RelinkTo"===n.category,this.originalLink=n.adornedPart}this.ua(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.jx.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=Et),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=Et),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.Ta(),t.add(this.temporaryLink)),this.isActive=!0},fi.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var n=t.curve;n!==lc&&n!==sc||(n=rc),e.curve=n,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},fi.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Eg()},fi.prototype.doStop=function(){si.prototype.doStop.call(this),this.handle=null},fi.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,n=this.originalFromPort,i=this.originalToNode,o=this.originalToPort,r=this.originalLink;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var a=this.targetPort.part;a instanceof yh&&(this.isForwards?(i=a,o=this.targetPort):(e=a,n=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?o=i=null:n=e=null:r=null;null!==r?(this.reconnectLink(r,this.isForwards?i:e,this.isForwards?o:n,this.isForwards),null===this.targetPort&&(this.isForwards?r.defaultToPoint=t.lastInput.documentPoint:r.defaultFromPoint=t.lastInput.documentPoint,r.Ta()),t.allowSelect&&(r.isSelected=!0),this.transactionResult=this.name,t.R("LinkRelinked",r,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.wq(this.jx)}this.stopTool()},fi.prototype.reconnectLink=function(t,e,n,i){return n=null!==n&&null!==n.portId?n.portId:"",i?(t.toNode=e,t.toPortId=n):(t.fromNode=e,t.fromPortId=n),!0},fi.prototype.doNoRelink=function(){},d.Object.defineProperties(fi.prototype,{fromHandleArchetype:{get:function(){return this.W},set:function(t){this.W=t}},toHandleArchetype:{get:function(){return this.Om},set:function(t){this.Om=t}},handle:{get:function(){return this.I},set:function(t){if(null!==t&&!(t.part instanceof vh))throw Error("new handle is not in an Adornment: "+t);this.I=t}}}),fi.className="RelinkingTool",R("linkingTool",(function(){return this.findTool("Linking")}),(function(t){this.Wa("Linking",t,this.mouseMoveTools)})),R("relinkingTool",(function(){return this.findTool("Relinking")}),(function(t){this.Wa("Relinking",t,this.mouseDownTools)})),c(gi,Mn),gi.prototype.Fv=function(t){return t&&t.zs&&0!==t.zs.value?t.zs:vi},gi.prototype.Im=function(t,e){t.zs=e},gi.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Nh){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var n=t.path;null!==n&&t.canReshape()&&t.actualBounds.v()&&t.isVisible()&&n.actualBounds.v()&&n.zf()&&(null===(e=t.hk(this.name))||e.gx!==t.pointsCount||e.vx!==t.resegmentable)&&(null!==(e=this.makeAdornment(n))&&(e.gx=t.pointsCount,e.vx=t.resegmentable,t.zh(this.name,e)))}null===e&&t.Af(this.name)}},gi.prototype.makeAdornment=function(t){var e=t.part,n=e.pointsCount,i=e.isOrthogonal,o=null;if(null!==e.points&&1<n){(o=new vh).type=wl.Link,n=e.firstPickIndex;var r=e.lastPickIndex,a=i?1:0;if(e.resegmentable&&e.computeCurve()!==ac)for(var s=n+a;s<r-a;s++){var l=this.makeResegmentHandle(t,s);null!==l&&(l.segmentIndex=s,l.segmentFraction=.5,l.fromMaxLinks=999,o.add(l))}for(a=n+1;a<r;a++)if(null!==(s=this.makeHandle(t,a))){if(s.segmentIndex=a,a!==n)if(a===n+1&&i){l=e.i(n);var u=e.i(n+1);Ue.A(l.x,u.x)&&Ue.A(l.y,u.y)&&(u=e.i(n-1)),Ue.A(l.x,u.x)?(this.Im(s,_i),s.cursor="n-resize"):Ue.A(l.y,u.y)&&(this.Im(s,yi),s.cursor="w-resize")}else a===r-1&&i?(l=e.i(r-1),u=e.i(r),Ue.A(l.x,u.x)&&Ue.A(l.y,u.y)&&(l=e.i(r+1)),Ue.A(l.x,u.x)?(this.Im(s,_i),s.cursor="n-resize"):Ue.A(l.y,u.y)&&(this.Im(s,yi),s.cursor="w-resize")):a!==r&&(this.Im(s,bi),s.cursor="move");o.add(s)}o.adornedObject=t}return o},gi.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},gi.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},gi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},gi.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof Nh){if(this.bu=e,t.isMouseCaptured=!0,this.ua(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var n=e.points.copy(),i=this.getResegmentingPoint();if(n.tb(this.handle.segmentIndex+1,i),e.isOrthogonal&&n.tb(this.handle.segmentIndex+1,i),e.points=n,e.Lb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.kx=e.i(this.handle.segmentIndex),this.ss=e.points.copy(),this.isActive=!0}}},gi.prototype.doDeactivate=function(){this.Eg(),this.bu=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},gi.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.ss),this.stopTool()},gi.prototype.getResegmentingPoint=function(){return this.handle.ga(le)},gi.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},gi.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var n=this.handle.segmentIndex,i=e.i(n-1),o=e.i(n),r=e.i(n+1);if(e.isOrthogonal){if(n>e.firstPickIndex+1&&n<e.lastPickIndex-1){var a=e.i(n-2);if(Math.abs(i.x-o.x)<this.resegmentingDistance&&Math.abs(i.y-o.y)<this.resegmentingDistance&&(mi(this,a,i,o,r,!0)||mi(this,a,i,o,r,!1))){var s=e.points.copy();mi(this,a,i,o,r,!0)?(s.hd(n-2,new ft(a.x,(r.y+a.y)/2)),s.hd(n+1,new ft(r.x,(r.y+a.y)/2))):(s.hd(n-2,new ft((r.x+a.x)/2,a.y)),s.hd(n+1,new ft((r.x+a.x)/2,r.y))),s.ab(n),s.ab(n-1),e.points=s,e.Lb()}else a=e.i(n+2),Math.abs(o.x-r.x)<this.resegmentingDistance&&Math.abs(o.y-r.y)<this.resegmentingDistance&&(mi(this,i,o,r,a,!0)||mi(this,i,o,r,a,!1))&&(s=e.points.copy(),mi(this,i,o,r,a,!0)?(s.hd(n-1,new ft(i.x,(i.y+a.y)/2)),s.hd(n+2,new ft(a.x,(i.y+a.y)/2))):(s.hd(n-1,new ft((i.x+a.x)/2,i.y)),s.hd(n+2,new ft((i.x+a.x)/2,a.y))),s.ab(n+1),s.ab(n),e.points=s,e.Lb())}}else a=ft.alloc(),Ue.Ih(i.x,i.y,r.x,r.y,o.x,o.y,a)&&a.Ce(o)<this.resegmentingDistance*this.resegmentingDistance&&((i=e.points.copy()).ab(n),e.points=i,e.Lb()),ft.free(a)}t.Na(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.ss)}this.stopTool()},gi.prototype.reshape=function(t){var e=this.adornedLink;e.Kh();var n=this.handle.segmentIndex,i=this.Fv(this.handle);if(e.isOrthogonal)if(n===e.firstPickIndex+1)n=e.firstPickIndex+1,i===_i?(e.K(n,e.i(n-1).x,t.y),e.K(n+1,e.i(n+2).x,t.y)):i===yi&&(e.K(n,t.x,e.i(n-1).y),e.K(n+1,t.x,e.i(n+2).y));else if(n===e.lastPickIndex-1)n=e.lastPickIndex-1,i===_i?(e.K(n-1,e.i(n-2).x,t.y),e.K(n,e.i(n+1).x,t.y)):i===yi&&(e.K(n-1,t.x,e.i(n-2).y),e.K(n,t.x,e.i(n+1).y));else{i=n;var o=e.i(i),r=e.i(i-1),a=e.i(i+1);Ue.A(r.x,o.x)&&Ue.A(o.y,a.y)?(Ue.A(r.x,e.i(i-2).x)&&!Ue.A(r.y,e.i(i-2).y)?(e.m(i,t.x,r.y),n++,i++):e.K(i-1,t.x,r.y),Ue.A(a.y,e.i(i+2).y)&&!Ue.A(a.x,e.i(i+2).x)?e.m(i+1,a.x,t.y):e.K(i+1,a.x,t.y)):Ue.A(r.y,o.y)&&Ue.A(o.x,a.x)?(Ue.A(r.y,e.i(i-2).y)&&!Ue.A(r.x,e.i(i-2).x)?(e.m(i,r.x,t.y),n++,i++):e.K(i-1,r.x,t.y),Ue.A(a.x,e.i(i+2).x)&&!Ue.A(a.y,e.i(i+2).y)?e.m(i+1,t.x,a.y):e.K(i+1,t.x,a.y)):Ue.A(r.x,o.x)&&Ue.A(o.x,a.x)?(Ue.A(r.x,e.i(i-2).x)&&!Ue.A(r.y,e.i(i-2).y)?(e.m(i,t.x,r.y),n++,i++):e.K(i-1,t.x,r.y),Ue.A(a.x,e.i(i+2).x)&&!Ue.A(a.y,e.i(i+2).y)?e.m(i+1,t.x,a.y):e.K(i+1,t.x,a.y)):Ue.A(r.y,o.y)&&Ue.A(o.y,a.y)&&(Ue.A(r.y,e.i(i-2).y)&&!Ue.A(r.x,e.i(i-2).x)?(e.m(i,r.x,t.y),n++,i++):e.K(i-1,r.x,t.y),Ue.A(a.y,e.i(i+2).y)&&!Ue.A(a.x,e.i(i+2).x)?e.m(i+1,a.x,t.y):e.K(i+1,a.x,t.y)),e.K(n,t.x,t.y)}else e.K(n,t.x,t.y),i=e.fromNode,o=e.fromPort,null!==i&&(null!==(r=i.findVisibleNode())&&r!==i&&(o=(i=r).port)),1===n&&e.computeSpot(!0,o).kc()&&(r=o.ga(le,ft.alloc()),i=e.getLinkPointFromPoint(i,o,r,t,!0,ft.alloc()),e.K(0,i.x,i.y),ft.free(r),ft.free(i)),i=e.toNode,o=e.toPort,null!==i&&(null!==(r=i.findVisibleNode())&&r!==i&&(o=(i=r).port)),n===e.pointsCount-2&&e.computeSpot(!1,o).kc()&&(n=o.ga(le,ft.alloc()),t=e.getLinkPointFromPoint(i,o,n,t,!1,ft.alloc()),e.K(e.pointsCount-1,t.x,t.y),ft.free(n),ft.free(t));e.sf()},gi.prototype.computeReshape=function(t){var e=this.adornedLink,n=this.handle.segmentIndex;switch(this.Fv(this.handle)){case bi:return t;case _i:return new ft(e.i(n).x,t.y);case yi:return new ft(t.x,e.i(n).y);default:case vi:return e.i(n)}},d.Object.defineProperties(gi.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},midHandleArchetype:{get:function(){return this.I},set:function(t){this.I=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof vh))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedLink:{get:function(){return this.bu}},resegmentingDistance:{get:function(){return this.W},set:function(t){this.W=t}},originalPoint:{get:function(){return this.kx}},originalPoints:{get:function(){return this.ss}}}),gi.prototype.setReshapingBehavior=gi.prototype.Im,gi.prototype.getReshapingBehavior=gi.prototype.Fv;var vi=new K(gi,"None",0),yi=new K(gi,"Horizontal",1),_i=new K(gi,"Vertical",2),bi=new K(gi,"All",3);function xi(){Mn.call(this),this.name="Resizing",this.bg=new Rt(1,1).freeze(),this.ag=new Rt(9999,9999).freeze(),this.Kg=new Rt(NaN,NaN).freeze(),this.I=!1,this.ce=null;var t=new Yl;t.alignmentFocus=le,t.figure="Rectangle",t.desiredSize=Tt,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.rs=new ft,this.ix=new Rt,this.Zo=new ft,this.su=new Rt(0,0),this.ru=new Rt(1/0,1/0),this.qu=new Rt(1,1),this.ex=!0}function wi(){Mn.call(this),this.name="Rotating",this.Ia=45,this.Ha=2,this.Zo=new ft,this.ce=null;var t=new Yl;t.figure="Ellipse",t.desiredSize=Dt,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.hx=0,this.Su=new ft(NaN,NaN),this.I=0,this.W=50}function Ci(){Mn.call(this),this.name="ClickSelecting"}function Si(){Mn.call(this),this.name="Action",this.Dk=null}function ki(){Mn.call(this),this.name="ClickCreating",this.lj=null,this.u=!0,this.l=!1,this.Xw=new ft(0,0)}function Ei(){Mn.call(this),this.name="DragSelecting",this.Xk=175,this.u=!1;var t=new Zu;t.layerName="Tool",t.selectable=!1;var e=new Yl;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.l=t}function Ii(){Mn.call(this),this.name="Panning",this.Pu=new ft,this.Hy=new ft,this.Jg=!1;var t=this;this.nx=function(){var e=t.diagram;null!==e&&e.removeEventListener(p.document,"scroll",t.nx,!1),t.stopTool()}}function Ti(){this.W=this.I=this.l=this.u=null}function Di(t,e,n){this.text=t,this.Fx=e,this.visible=n}function Mi(){Mn.call(this),this.name="ContextMenu",this.u=this.hu=this.l=null,this.bx=new ft,this.iu=null,this.Cu=!1;var t=this;this.bv=function(){t.stopTool()}}function Oi(t){return t.preventDefault(),!1}function Pi(t){var e=t.diagram;if(t.isActive){var n=t.currentContextMenu;if(null!==n){if(!(n instanceof Ti)){var i=e.Ub(e.lastInput.documentPoint,null,null);null!==i&&i.Ag(n)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.currentTool=t,t.doMouseUp())}}else t.canStart()&&(Ai(t,!0),t.isActive||t.stopTool())}function Ai(t,e,n){if(void 0===n&&(n=null),!t.Cu&&(t.Cu=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.Cu=!1,!e))if(t.isActive=!0,e=Ri,null===n&&(n=t.findObjectWithContextMenu()),null!==n){var i=n.contextMenu;null!==i?(t.currentObject=n instanceof za?n:null,t.showContextMenu(i,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null)}gi.className="LinkReshapingTool",gi.None=vi,gi.Horizontal=yi,gi.Vertical=_i,gi.All=bi,R("linkReshapingTool",(function(){return this.findTool("LinkReshaping")}),(function(t){this.Wa("LinkReshaping",t,this.mouseDownTools)})),c(xi,Mn),xi.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Nh)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,n=t.hk(this.name);if(null!==e&&t.canResize()&&t.actualBounds.v()&&t.isVisible()&&e.actualBounds.v()&&e.zf()&&(null!==n&&n.adornedObject===e||(n=this.makeAdornment(e)),null!==n))return e=e.Zi(),dh(t)&&this.updateResizeHandles(n,e),void t.zh(this.name,n)}t.Af(this.name)}},xi.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new vh).type=wl.Spot,e.locationSpot=le;var n=new Bh;n.isPanelMain=!0,e.add(n),e.add(this.makeHandle(t,oe)),e.add(this.makeHandle(t,ae)),e.add(this.makeHandle(t,de)),e.add(this.makeHandle(t,he)),e.add(this.makeHandle(t,Ae)),e.add(this.makeHandle(t,Be)),e.add(this.makeHandle(t,Ne)),e.add(this.makeHandle(t,Re))}else if(Bl(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},xi.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},xi.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Mb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var n=t.alignment;if(n.kc()&&(n=le),0>=n.x)e=0>=n.y?e+225:1<=n.y?e+135:e+180;else if(1<=n.x)0>=n.y?e+=315:1<=n.y&&(e+=45);else if(0>=n.y)e+=270;else{if(!(1<=n.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof wl)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},xi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},xi.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(this.rs.set(this.adornedObject.ga(this.handle.alignment.Uv())),this.Zo.set(this.adornedObject.part.location),this.ix.set(this.adornedObject.desiredSize),this.qu=this.computeCellSize(),this.su=this.computeMinSize(),this.ru=this.computeMaxSize(),t.isMouseCaptured=!0,this.ex=t.animationManager.isEnabled,t.animationManager.isEnabled=!1,this.ua(this.name),this.isActive=!0))},xi.prototype.doDeactivate=function(){var t=this.diagram;this.Eg(),this.ce=this.handle=null,this.isActive=t.isMouseCaptured=!1,t.animationManager.isEnabled=this.ex},xi.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},xi.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.su,n=this.ru,i=this.qu,o=this.adornedObject.st(t.lastInput.documentPoint,ft.alloc()),r=this.computeReshape();e=this.computeResize(o,this.handle.alignment,e,n,i,r),this.resize(e),t.Wc(),ft.free(o)}},xi.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.su,n=this.ru,i=this.qu,o=this.adornedObject.st(t.lastInput.documentPoint,ft.alloc()),r=this.computeReshape();e=this.computeResize(o,this.handle.alignment,e,n,i,r),this.resize(e),ft.free(o),t.Na(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},xi.prototype.resize=function(t){var e=this.diagram,n=this.adornedObject;if(null!==n){if(n.desiredSize=t.size,(t=n.part).zb(),n=n.ga(this.handle.alignment.Uv()),t instanceof Ph){var i=new tt;i.add(t),e.moveParts(i,this.oppositePoint.copy().ae(n),!0)}else t.location=t.location.copy().ae(n).add(this.oppositePoint);e.Wc()}},xi.prototype.computeResize=function(t,e,n,i,o,r){e.kc()&&(e=le);var a=this.adornedObject.naturalBounds,s=a.x,l=a.y,u=a.x+a.width,h=a.y+a.height,c=1;if(!r){c=a.width;var d=a.height;0>=c&&(c=1),0>=d&&(d=1),c=d/c}return d=ft.alloc(),Ue.pq(t.x,t.y,s,l,o.width,o.height,d),t=a.copy(),0>=e.x?0>=e.y?(t.x=Math.max(d.x,u-i.width),t.x=Math.min(t.x,u-n.width),t.width=Math.max(u-t.x,n.width),t.y=Math.max(d.y,h-i.height),t.y=Math.min(t.y,h-n.height),t.height=Math.max(h-t.y,n.height),r||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width),t.x=u-t.width,t.y=h-t.height)):1<=e.y?(t.x=Math.max(d.x,u-i.width),t.x=Math.min(t.x,u-n.width),t.width=Math.max(u-t.x,n.width),t.height=Math.max(Math.min(d.y-l,i.height),n.height),r||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width),t.x=u-t.width)):(t.x=Math.max(d.x,u-i.width),t.x=Math.min(t.x,u-n.width),t.width=u-t.x,r||(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c,t.y=l+.5*(h-l-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(d.x-s,i.width),n.width),t.y=Math.max(d.y,h-i.height),t.y=Math.min(t.y,h-n.height),t.height=Math.max(h-t.y,n.height),r||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width),t.y=h-t.height)):1<=e.y?(t.width=Math.max(Math.min(d.x-s,i.width),n.width),t.height=Math.max(Math.min(d.y-l,i.height),n.height),r||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width))):(t.width=Math.max(Math.min(d.x-s,i.width),n.width),r||(t.height=Math.max(Math.min(c*t.width,i.height),n.height),t.width=t.height/c,t.y=l+.5*(h-l-t.height))):0>=e.y?(t.y=Math.max(d.y,h-i.height),t.y=Math.min(t.y,h-n.height),t.height=h-t.y,r||(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width,t.x=s+.5*(u-s-t.width))):1<=e.y&&(t.height=Math.max(Math.min(d.y-l,i.height),n.height),r||(t.width=Math.max(Math.min(t.height/c,i.width),n.width),t.height=c*t.width,t.x=s+.5*(u-s-t.width))),ft.free(d),t},xi.prototype.computeReshape=function(){var t=Kr;return this.adornedObject instanceof Yl&&(t=Zl(this.adornedObject)),!(t===$r||this.diagram.lastInput.shift)},xi.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},xi.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},xi.prototype.computeCellSize=function(){var t=new Rt(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&(null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},d.Object.defineProperties(xi.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof vh))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ce},set:function(t){if(null!==t&&t.part instanceof vh)throw Error("new handle must not be in an Adornment: "+t);this.ce=t}},minSize:{get:function(){return this.bg},set:function(t){if(!this.bg.w(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.bg.h(e,t)}}},maxSize:{get:function(){return this.ag},set:function(t){if(!this.ag.w(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.ag.h(e,t)}}},cellSize:{get:function(){return this.Kg},set:function(t){this.Kg.w(t)||this.Kg.assign(t)}},isGridSnapEnabled:{get:function(){return this.I},set:function(t){this.I=t}},oppositePoint:{get:function(){return this.rs},set:function(t){this.rs.w(t)||this.rs.assign(t)}},originalDesiredSize:{get:function(){return this.ix}},originalLocation:{get:function(){return this.Zo}}}),xi.className="ResizingTool",R("resizingTool",(function(){return this.findTool("Resizing")}),(function(t){this.Wa("Resizing",t,this.mouseDownTools)})),c(wi,Mn),wi.prototype.updateAdornments=function(t){if(null!==t){if(t.Hh()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&(null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.v()&&t.isVisible()&&e.actualBounds.v()&&e.zf())){var n=t.hk(this.name);if(null!==n&&n.adornedObject===e||(n=this.makeAdornment(e)),null!==n)return n.angle=e.Zi(),null===n.placeholder&&(n.location=this.computeAdornmentLocation(e)),void t.zh(this.name,n)}t.Af(this.name)}},wi.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new vh).type=wl.Position,e.locationSpot=le;var n=this.handleArchetype;null!==n&&e.add(n.copy())}else if(Bl(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},wi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},wi.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(this.hx=this.adornedObject.angle,this.Su=this.computeRotationPoint(this.adornedObject),this.Zo=this.adornedObject.part.location.copy(),t.isMouseCaptured=!0,t.delaysLayout=!0,this.ua(this.name),this.isActive=!0)},wi.prototype.computeRotationPoint=function(t){var e=t.part,n=e.locationObject;return e.rotationSpot.hb()?t.ga(e.rotationSpot):t===e||t===n?n.ga(e.locationSpot):t.ga(le)},wi.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.v()||(e=this.computeRotationPoint(t)),e=t.st(e);var n=this.handleAngle;0>n?n+=360:360<=n&&(n-=360),n=Math.round(45*Math.round(n/45));var i=this.handleDistance;return 0===n?e.x=t.naturalBounds.width+i:45===n?(e.x=t.naturalBounds.width+i,e.y=t.naturalBounds.height+i):90===n?e.y=t.naturalBounds.height+i:135===n?(e.x=-i,e.y=t.naturalBounds.height+i):180===n?e.x=-i:225===n?(e.x=-i,e.y=-i):270===n?e.y=-i:315===n&&(e.x=t.naturalBounds.width+i,e.y=-i),t.ga(e)},wi.prototype.doDeactivate=function(){var t=this.diagram;this.Eg(),this.ce=this.handle=null,this.Su=new ft(NaN,NaN),this.isActive=t.isMouseCaptured=!1},wi.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},wi.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},wi.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Na(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},wi.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).zb();var n=e.locationObject,i=e.rotateObject;(n===i||n.Ag(i))&&(n=this.Zo.copy(),e.location=n.ae(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.Wc()}},wi.prototype.computeRotate=function(t){t=this.rotationPoint.Sa(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.Zi()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var n=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<n&&(t%e<n?t=Math.floor(t/e)*e:t%e>e-n&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},d.Object.defineProperties(wi.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof vh))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ce},set:function(t){if(null!==t&&t.part instanceof vh)throw Error("new handle must not be in an Adornment: "+t);this.ce=t}},snapAngleMultiple:{get:function(){return this.Ia},set:function(t){this.Ia=t}},snapAngleEpsilon:{get:function(){return this.Ha},set:function(t){this.Ha=t}},originalAngle:{get:function(){return this.hx}},rotationPoint:{get:function(){return this.Su}},handleAngle:{get:function(){return this.I},set:function(t){this.I=t}},handleDistance:{get:function(){return this.W},set:function(t){this.W=t}}}),wi.className="RotatingTool",R("rotatingTool",(function(){return this.findTool("Rotating")}),(function(t){this.Wa("Rotating",t,this.mouseDownTools)})),c(Ci,Mn),Ci.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},Ci.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},Ci.className="ClickSelectingTool",c(Si,Mn),Si.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,n=t.Ub(e.documentPoint,(function(t){for(;null!==t.panel&&!t.isActionable;)t=t.panel;return t}));return null!==n&&(!!n.isActionable&&(this.Dk=n,t.pj=t.Ub(e.documentPoint,null,null),!0))},Si.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Dk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},Si.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Dk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},Si.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Dk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick((function(t){for(;null!==t.panel&&(!t.isActionable||t!==e);)t=t.panel;return t}),(function(t){return t===e}))}this.stopTool()},Si.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.Dk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},Si.prototype.doStop=function(){this.Dk=null},Si.className="ActionTool",c(ki,Mn),ki.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.Xw=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.Xw))return!1}else if(1!==t.lastInput.clickCount)return!1;return t.currentTool===this||null===t.km(t.lastInput.documentPoint,!0)},ki.prototype.doMouseUp=function(){var t=this.diagram;this.isActive&&this.insertPart(t.lastInput.documentPoint),this.stopTool()},ki.prototype.insertPart=function(t){var e=this.diagram,n=this.archetypeNodeData;if(null===n)return null;var i=null;try{if(e.R("ChangingSelection",e.selection),this.ua(this.name),n instanceof Zu)n.Wb()&&(Bl(n),null!==(i=n.copy())&&e.add(i));else if(null!==n){var o=e.model.copyNodeData(n);S(o)&&(e.model.qf(o),i=e.xc(o))}if(null!==i){var r=ft.allocAt(t.x,t.y);this.isGridSnapEnabled&&yr(this.diagram,i,t,r),i.location=r,e.allowSelect&&(e.clearSelection(!0),i.isSelected=!0),ft.free(r)}e.Na(),this.transactionResult=this.name,e.R("PartCreated",i)}finally{this.Eg(),e.R("ChangedSelection",e.selection)}return i},d.Object.defineProperties(ki.prototype,{archetypeNodeData:{get:function(){return this.lj},set:function(t){this.lj=t}},isDoubleClick:{get:function(){return this.u},set:function(t){this.u=t}},isGridSnapEnabled:{get:function(){return this.l},set:function(t){this.l=t}}}),ki.className="ClickCreatingTool",c(Ei,Mn),Ei.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.km(e.documentPoint,!0)))},Ei.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},Ei.prototype.doDeactivate=function(){var t=this.diagram;t.Cf(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},Ei.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),n=this.box.Za("SHAPE");null===n&&(n=this.box.Ab());var i=Rt.alloc().h(e.width,e.height);e=ft.allocAt(e.x,e.y),n.desiredSize=i,this.box.position=e,Rt.free(i),ft.free(e),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.kt(t.lastInput.viewPoint)}},Ei.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},Ei.prototype.computeBoxBounds=function(){var t=this.diagram;return new Lt(t.firstInput.documentPoint,t.lastInput.documentPoint)},Ei.prototype.selectInRect=function(t){var e=this.diagram,n=e.lastInput;if(t=e.Qx(t,this.isPartialInclusion),z?n.meta:n.control)if(n.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(n.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(n=new tt,e=e.selection.iterator;e.next();){var i=e.value;t.contains(i)||n.add(i)}for(e=n.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},d.Object.defineProperties(Ei.prototype,{delay:{get:function(){return this.Xk},set:function(t){this.Xk=t}},isPartialInclusion:{get:function(){return this.u},set:function(t){this.u=t}},box:{get:function(){return this.l},set:function(t){this.l=t}}}),Ei.className="DragSelectingTool",c(Ii,Mn),Ii.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},Ii.prototype.doActivate=function(){var t=this.diagram;this.Jg?(t.lastInput.bubbles=!0,t.addEventListener(p.document,"scroll",this.nx,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.Pu.assign(t.position)),this.isActive=!0},Ii.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},Ii.prototype.doCancel=function(){var t=this.diagram;t.position=this.Pu,t.isMouseCaptured=!1,this.stopTool()},Ii.prototype.doMouseMove=function(){this.move()},Ii.prototype.doMouseUp=function(){this.move(),this.stopTool()},Ii.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.Jg)t.lastInput.bubbles=!0;else{var e=t.position,n=t.firstInput.documentPoint,i=t.lastInput.documentPoint,o=e.x+n.x-i.x;n=e.y+n.y-i.y,t.allowHorizontalScroll||(o=e.x),t.allowVerticalScroll||(n=e.y),t.position=this.Hy.h(o,n)}},d.Object.defineProperties(Ii.prototype,{bubbles:{get:function(){return this.Jg},set:function(t){this.Jg=t}},originalPosition:{get:function(){return this.Pu}}}),Ii.className="PanningTool",R("clickCreatingTool",(function(){return this.findTool("ClickCreating")}),(function(t){this.Wa("ClickCreating",t,this.mouseUpTools)})),R("clickSelectingTool",(function(){return this.findTool("ClickSelecting")}),(function(t){this.Wa("ClickSelecting",t,this.mouseUpTools)})),R("panningTool",(function(){return this.findTool("Panning")}),(function(t){this.Wa("Panning",t,this.mouseMoveTools)})),R("dragSelectingTool",(function(){return this.findTool("DragSelecting")}),(function(t){this.Wa("DragSelecting",t,this.mouseMoveTools)})),R("actionTool",(function(){return this.findTool("Action")}),(function(t){this.Wa("Action",t,this.mouseDownTools)})),d.Object.defineProperties(Ti.prototype,{mainElement:{get:function(){return this.I},set:function(t){this.I=t}},show:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},hide:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},valueFunction:{get:function(){return this.W},set:function(t){this.W=t}}}),Ti.className="HTMLInfo",Di.className="ContextMenuButtonInfo",c(Mi,Mn),Mi.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right)&&!!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu())},Mi.prototype.doStart=function(){this.bx.set(this.diagram.firstInput.documentPoint)},Mi.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},Mi.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,n=e.lastInput,i=null;if(t instanceof Po||(i=t instanceof za?t:e.Ub(n.documentPoint,null,(function(t){return!t.layer.isTemporary}))),null!==i){for(t=i;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return i.part}else if(null!==e.contextMenu)return e;return null},Mi.prototype.doActivate=function(){},Mi.prototype.doMouseDown=function(){if(Mn.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof vh){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&Pi(this)},Mi.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof vh){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}Pi(this)},Mi.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},Mi.prototype.showContextMenu=function(t,e){var n=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof vh){t.layerName="Tool",t.selectable=!1,t.scale=1/n.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=n.scale);var i=t.diagram;null!==i&&i!==n&&i.remove(t),n.add(t),null!==e?t.adornedObject=e:t.data=n.model,t.zb(),this.positionContextMenu(t,e)}else t instanceof Ti&&t.show(e,n,this);this.currentContextMenu=t},Mi.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,n=e.lastInput.documentPoint.copy(),i=t.measuredBounds,o=e.viewportBounds;e.lastInput.isTouchEvent&&(n.x-=i.width),n.x+i.width>o.right&&(n.x-=i.width+5/e.scale),n.x<o.x&&(n.x=o.x),n.y+i.height>o.bottom&&(n.y-=i.height+5/e.scale),n.y<o.y&&(n.y=o.y),t.position=n}},Mi.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof vh?(t.remove(e),null!==this.hu&&this.hu.Af(e.category),e.data=null,e.adornedObject=null):e instanceof Ti&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},Mi.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.iu&&(this.iu=function(t){var e=new tt;return e.add(new Di("Copy",(function(t){t.commandHandler.copySelection()}),(function(t){return t.commandHandler.canCopySelection()}))),e.add(new Di("Cut",(function(t){t.commandHandler.cutSelection()}),(function(t){return t.commandHandler.canCutSelection()}))),e.add(new Di("Delete",(function(t){t.commandHandler.deleteSelection()}),(function(t){return t.commandHandler.canDeleteSelection()}))),e.add(new Di("Paste",(function(e){e.commandHandler.pasteSelection(t.mouseDownPoint)}),(function(e){return e.commandHandler.canPasteSelection(t.mouseDownPoint)}))),e.add(new Di("Select All",(function(t){t.commandHandler.selectAll()}),(function(t){return t.commandHandler.canSelectAll()}))),e.add(new Di("Undo",(function(t){t.commandHandler.undo()}),(function(t){return t.commandHandler.canUndo()}))),e.add(new Di("Redo",(function(t){t.commandHandler.redo()}),(function(t){return t.commandHandler.canRedo()}))),e.add(new Di("Scroll To Part",(function(t){t.commandHandler.scrollToPart()}),(function(t){return t.commandHandler.canScrollToPart()}))),e.add(new Di("Zoom To Fit",(function(t){t.commandHandler.zoomToFit()}),(function(t){return t.commandHandler.canZoomToFit()}))),e.add(new Di("Reset Zoom",(function(t){t.commandHandler.resetZoom()}),(function(t){return t.commandHandler.canResetZoom()}))),e.add(new Di("Group Selection",(function(t){t.commandHandler.groupSelection()}),(function(t){return t.commandHandler.canGroupSelection()}))),e.add(new Di("Ungroup Selection",(function(t){t.commandHandler.ungroupSelection()}),(function(t){return t.commandHandler.canUngroupSelection()}))),e.add(new Di("Edit Text",(function(t){t.commandHandler.editTextBlock()}),(function(t){return t.commandHandler.canEditTextBlock()}))),e}(this)),Fi.innerHTML="",Ni.addEventListener("click",this.bv,!1);var e=this,n=y("ul");n.className="goCXul",Fi.appendChild(n),n.innerHTML="";for(var i=this.iu.iterator;i.next();){var o=i.value,r=o.visible;if("function"===typeof o.Fx&&("function"!==typeof r||r(t))){(r=y("li")).className="goCXli";var a=y("a");a.className="goCXa",a.href="#",a.By=o.Fx,a.addEventListener("click",(function(n){return this.By(t),e.stopTool(),n.preventDefault(),!1}),!1),a.textContent=o.text,r.appendChild(a),n.appendChild(r)}}Fi.style.display="block",Ni.style.display="block"},Mi.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===Ri){Fi.style.display="none",Ni.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(Ni,"click",this.bv,!1),this.currentContextMenu=null}},d.Object.defineProperties(Mi.prototype,{currentContextMenu:{get:function(){return this.l},set:function(t){this.l=t,this.hu=t instanceof vh?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===Bi&&null===Ri&&oa&&function(t){var e=new Ti;e.show=function(t,e,n){n.showDefaultContextMenu()},e.hide=function(t,e){e.hideDefaultContextMenu()},Ri=e,t.bv=function(){t.stopTool()},e=y("div");var n=y("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",n.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var i=y("style");p.document.getElementsByTagName("head")[0].appendChild(i),i.sheet.insertRule(".goCXul { list-style: none; }",0),i.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),i.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(i=t.diagram)&&(i.addEventListener(e,"contextmenu",Oi,!1),i.addEventListener(e,"selectstart",Oi,!1),i.addEventListener(n,"contextmenu",Oi,!1)),e.className="goCXforeground",n.className="goCXbackground",p.document.body&&(p.document.body.appendChild(e),p.document.body.appendChild(n)),Fi=e,Ni=n,Bi=!0}(this),Ri},set:function(t){null===t&&(Bi=!0),Ri=t}},currentObject:{get:function(){return this.u},set:function(t){this.u=t}},mouseDownPoint:{get:function(){return this.bx}}});var Ri=null,Bi=!1,Ni=null,Fi=null;function Li(){Mn.call(this),this.name="TextEditing",this.sh=new ru,this.Ia=null,this.Ha=Ki,this.Li=null,this.ia=Ui,this.I=1,this.W=!0,this.u=null,this.l=new Ti,this.mu=null,function(t,e){if(oa){var n=y("textarea");t.mu=n,n.addEventListener("input",(function(){if(null!==t.textBlock){var e=t.$x(this.value);this.style.width=20+e.measuredBounds.width*this.BA+"px",this.rows=e.lineCount}}),!1),n.addEventListener("keydown",(function(e){if(null!==t.textBlock){var n=e.which;13===n?(!1===t.textBlock.isMultiline&&e.preventDefault(),t.acceptText(Wi)):9===n?(t.acceptText(Hi),e.preventDefault()):27===n&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}}),!1),n.addEventListener("focus",(function(){if(null!==t.currentTextEditor&&t.state!==Ui){var e=t.mu;t.ia===qi&&(t.ia=Yi),"function"===typeof e.select&&t.selectsTextOnActivate&&(e.select(),e.setSelectionRange(0,9999))}}),!1),n.addEventListener("blur",(function(){if(null!==t.currentTextEditor&&t.state!==Ui){var e=t.mu;"function"===typeof e.focus&&e.focus(),"function"===typeof e.select&&t.selectsTextOnActivate&&(e.select(),e.setSelectionRange(0,9999))}}),!1),e.valueFunction=function(){return n.value},e.mainElement=n,e.show=function(t,e,i){if(t instanceof ru&&i instanceof Li)if(i.state===Zi)n.style.border="3px solid red",n.focus();else{var o=t.ga(le),r=e.position,a=e.scale,s=t.vf()*a;s<i.minimumEditorScale&&(s=i.minimumEditorScale);var l=t.naturalBounds.width*s+6,u=t.naturalBounds.height*s+2,h=(o.x-r.x)*a;o=(o.y-r.y)*a,n.value=t.text,e.div.style.font=t.font,n.style.position="absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=100*s+"%",n.style.lineHeight="normal",n.style.width=l+"px",n.style.left=(h-l/2|0)-1+"px",n.style.top=(o-u/2|0)-1+"px",n.style.textAlign=t.textAlign,n.style.margin="0",n.style.padding="1px",n.style.border="0",n.style.outline="none",n.style.whiteSpace="pre-wrap",n.style.overflow="hidden",n.rows=t.lineCount,n.BA=s,n.className="goTXarea",e.div.appendChild(n),n.focus(),i.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}},e.hide=function(t){t.div.removeChild(n)}}}(this,this.l)}function Vi(t){var e=t.textBlock,n=t.diagram,i=t.currentTextEditor;if(null!==e&&null!==i){var o=e.text,r="";if(null!==i.valueFunction&&(r=i.valueFunction()),t.isValidText(e,o,r))t.ua(t.name),t.ia=Ji,t.transactionResult=t.name,e.text=r,null!==(i=t.textBlock).textEdited&&i.textEdited(i,o,r),null!==n&&n.R("TextEdited",e,o),t.Eg(),t.stopTool(),null!==n&&n.doFocus();else{t.ia=Zi;var a=t.textBlock;null!==a.errorFunction&&a.errorFunction(t,o,r),i.show(e,n,t)}}}Mi.className="ContextMenuTool",R("contextMenuTool",(function(){return this.findTool("ContextMenu")}),(function(t){this.Wa("ContextMenu",t,this.mouseUpTools)})),c(Li,Mn),Li.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||Qi&&Qi!==this&&(Qi.acceptText(zi),Qi&&Qi!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.Ub(t.lastInput.documentPoint);return!!(null!==e&&e instanceof ru&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===Ki&&!e.isSelected||this.starting===$i&&2>t.lastInput.clickCount)},Li.prototype.doStart=function(){Qi=this,null!==this.textBlock&&this.doActivate()},Li.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.Ub(t.lastInput.documentPoint)),null!==e&&e instanceof ru&&(this.textBlock=e,null!==e.part)){this.isActive=!0,this.ia=qi;var n=this.defaultTextEditor;null!==e.textEditor&&(n=e.textEditor),this.sh=this.textBlock.copy();var i=new Lt(this.textBlock.ga(oe),this.textBlock.ga(de));t.hw(i),n.show(e,t,this),this.currentTextEditor=n}}}},Li.prototype.doCancel=function(){this.stopTool()},Li.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},Li.prototype.doMouseDown=function(){this.isActive&&this.acceptText(zi)},Li.prototype.acceptText=function(t){switch(t){case zi:this.ia===Ji?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():this.ia!==qi&&this.ia!==Zi&&this.ia!==Yi||(this.ia=Xi,Vi(this));break;case ji:case Wi:case Hi:Wi===t&&!0===this.textBlock.isMultiline||this.ia!==qi&&this.ia!==Zi&&this.ia!==Yi||(this.ia=Xi,Vi(this))}},Li.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.ia=Ui,this.textBlock=null,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.isActive=!1)},Li.prototype.doStop=function(){Qi=null},Li.prototype.isValidText=function(t,e,n){var i=this.textValidation;return!(null!==i&&!i(t,e,n))&&!(null!==(i=t.textValidation)&&!i(t,e,n))},Li.prototype.$x=function(t){var e=this.sh;return e.text=t,e.measure(this.textBlock.ti,1/0),e},d.Object.defineProperties(Li.prototype,{textBlock:{get:function(){return this.Ia},set:function(t){this.Ia=t}},currentTextEditor:{get:function(){return this.u},set:function(t){this.u=t}},defaultTextEditor:{get:function(){return this.l},set:function(t){this.l=t}},starting:{get:function(){return this.Ha},set:function(t){this.Ha=t}},textValidation:{get:function(){return this.Li},set:function(t){this.Li=t}},minimumEditorScale:{get:function(){return this.I},set:function(t){this.I=t}},selectsTextOnActivate:{get:function(){return this.W},set:function(t){this.W=t}},state:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}}}),Li.prototype.measureTemporaryTextBlock=Li.prototype.$x;var ji=new K(Li,"LostFocus",0),zi=new K(Li,"MouseDown",1),Hi=new K(Li,"Tab",2),Wi=new K(Li,"Enter",3),Gi=new K(Li,"SingleClick",0),Ki=new K(Li,"SingleClickSelected",1),$i=new K(Li,"DoubleClick",2),Ui=new K(Li,"StateNone",0),qi=new K(Li,"StateActive",1),Yi=new K(Li,"StateEditing",2),Xi=new K(Li,"StateValidating",3),Zi=new K(Li,"StateInvalid",4),Ji=new K(Li,"StateValidated",5),Qi=null;function to(){co||(uo(),co=!0),this.B=ta,this.hl=this.$e=this.qc=this.Wr=this.hc=!1,this.tx=!0,this.il=fo,this.cn=!1,this.oi=this.ad=!0,this.Rg=600,this.Pw=this.sx=!1,this.Ke=new nt,this.Cd=new mo,this.Cd.Kc=this,this.Ek=new nt,this.Zu=new nt,this.Ws=new nt}function eo(t,e){no(t,e)&&(t.$e=!0)}function no(t,e){return!(!t.ad||!t.canStart(e))&&(t.Ke.add(e),t.defaultAnimation.isAnimating&&t.Xc(),t.qc=!0)}function io(t){if(t.ad&&t.qc){var e=t.Cd,n=t.B,i=t.Ke.contains("Model");i&&(t.hl=!0,t.il===fo?(e.isViewportUnconstrained=!0,e.jc.clear(),e.add(n,"position",n.position.copy().offset(0,-200),n.position),e.add(n,"opacity",0,1)):t.il===go&&e.jc.clear(),t.tx=!(t.il!==po||!n.Ds.w(n.ma)),n.R("InitialAnimationStarting",t)),i&&!t.oi||0===e.jc.count?(t.Ke.clear(),t.qc=!1,t.$e=!1,e.jc.clear(),vo(e),t.hl=!1,n.M()):(t.Ke.clear(),n.ye=!1,i=e.jc.get(n),n.autoScale!==sa&&null!==i&&(delete i.start.scale,delete i.end.scale),p.requestAnimationFrame((function(){!1===t.qc||e.hc||(n.De("temporaryPixelRatio")&&No(n),Lo(n),t.qc=!1,t.$e=!1,e.start(),ro(t),n.Na(),xo(e,0),ir(n,!0),ao(t),n.R("AnimationStarting",t))})))}}function oo(t,e,n,i){e instanceof Nh&&(null!==e.fromNode||null!==e.toNode)||t.Cd.add(e,"position",n,i,!1)}function ro(t){if(!t.Wr){var e=t.B;t.sx=e.skipsUndoManager,t.Pw=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.Wr=!0}}function ao(t){var e=t.B;e.skipsUndoManager=t.sx,e.skipsModelSourceBindings=t.Pw,t.Wr=!1}function so(t,e,n){t.$e&&!e.w(n)&&(t.B.mk||(e=n.copy()),yo(t.Cd,t.B,"position",e,n))}function lo(t,e,n,i,o){null===t&&(t="rgba(0,0,0,0)"),null===e&&(e="rgba(0,0,0,0)"),Ls(t),Vs();var r=il.l,a=il.I,s=il.u;t=il.W,Ls(e),Vs();var l=il.I,u=il.u;return e=il.W,"hsla("+(r=o(n,r,il.l-r,i))+", "+(a=o(n,a,l-a,i))+"%, "+(s=o(n,s,u-s,i))+"%, "+(n=o(n,t,e-t,i))+")"}function uo(){var t=new dt;t.add("position:diagram",(function(t,e,n,i,o,r){t.position=new ft(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r))})),t.add("position",(function(t,e,n,i,o,r){o<r?t.Nq(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r),!1):t.position=new ft(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r))})),t.add("location",(function(t,e,n,i,o,r){o<r?t.Nq(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r),!0):t.location=new ft(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r))})),t.add("position:placeholder",(function(t,e,n,i,o,r){o<r?t.Nq(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r),!1):t.position=new ft(i(o,e.x,n.x-e.x,r),i(o,e.y,n.y-e.y,r))})),t.add("position:node",(function(t,e,n,i,o,r){var a=t.actualBounds,s=n.actualBounds;n=s.x+s.width/2-a.width/2,a=s.y+s.height/2-a.height/2,o<r?t.Nq(i(o,e.x,n-e.x,r),i(o,e.y,a-e.y,r),!1):t.position=new ft(i(o,e.x,n-e.x,r),i(o,e.y,a-e.y,r))})),t.add("desiredSize",(function(t,e,n,i,o,r){t.desiredSize=new Lt(i(o,e.width,n.width-e.width,r),i(o,e.height,n.height-e.height,r))})),t.add("width",(function(t,e,n,i,o,r){t.width=i(o,e,n-e,r)})),t.add("height",(function(t,e,n,i,o,r){t.height=i(o,e,n-e,r)})),t.add("fill",(function(t,e,n,i,o,r){t.fill=lo(e,n,o,r,i)})),t.add("stroke",(function(t,e,n,i,o,r){t.stroke=lo(e,n,o,r,i)})),t.add("strokeWidth",(function(t,e,n,i,o,r){t.strokeWidth=i(o,e,n-e,r)})),t.add("strokeDashOffset",(function(t,e,n,i,o,r){t.strokeDashOffset=i(o,e,n-e,r)})),t.add("background",(function(t,e,n,i,o,r){t.background=lo(e,n,o,r,i)})),t.add("areaBackground",(function(t,e,n,i,o,r){t.areaBackground=lo(e,n,o,r,i)})),t.add("opacity",(function(t,e,n,i,o,r){t.opacity=i(o,e,n-e,r)})),t.add("scale",(function(t,e,n,i,o,r){t.scale=i(o,e,n-e,r)})),t.add("angle",(function(t,e,n,i,o,r){t.angle=i(o,e,n-e,r)})),ho=t}Li.className="TextEditingTool",Li.LostFocus=ji,Li.MouseDown=zi,Li.Tab=Hi,Li.Enter=Wi,Li.SingleClick=Gi,Li.SingleClickSelected=Ki,Li.DoubleClick=$i,Li.StateNone=Ui,Li.StateActive=qi,Li.StateEditing=Yi,Li.StateValidating=Xi,Li.StateInvalid=Zi,Li.StateValidated=Ji,R("textEditingTool",(function(){return this.findTool("TextEditing")}),(function(t){this.Wa("TextEditing",t,this.mouseUpTools)})),to.prototype.$d=function(t){this.B=t},to.prototype.canStart=function(){return!0},(n=to.prototype).Ht=function(t){return this.Cd.Ht(t)},n.Lv=function(t){return this.Cd.Lv(t)},n.Xc=function(t){var e=this.Cd;if(!0===this.qc&&(this.hl=this.$e=this.qc=!1,this.Ke.clear(),0<e.jc.count&&this.B.Pb()),this.hc){if(e.hm(!0),e.jc.clear(),vo(e),!0===t)for(t=this.Ek.na(),e=0;e<t.length;e++)t[e].hm(!0)}else e.jc.clear(),vo(e)},n.hm=function(t){t===this.defaultAnimation&&this.defaultAnimation.jc.clear(),this.Ek.remove(t),0===this.Ek.count&&(this.hc=!1,this.B.Pb()),t===this.defaultAnimation&&(this.defaultAnimation.jc.clear(),this.B.R("AnimationFinished",this))},n.Yj=function(t,e){this.$e&&(this.Ke.contains("Expand Tree")||this.Ke.contains("Expand SubGraph"))&&this.Cd.Yj(t,e)},n.Wj=function(t,e){this.$e&&(this.Ke.contains("Collapse Tree")||this.Ke.contains("Collapse SubGraph"))&&(this.Cd.Wj(t,e),yo(this.Cd,e,"position",e.position,e.position))},d.Object.defineProperties(to.prototype,{animationReasons:{get:function(){return this.Ke}},isEnabled:{get:function(){return this.ad},set:function(t){this.ad=t}},duration:{get:function(){return this.Rg},set:function(t){1>t&&x(t,">= 1",to,"duration"),this.Rg=t}},isAnimating:{get:function(){return this.hc}},isTicking:{get:function(){return this.Wr}},isInitial:{get:function(){return this.oi},set:function(t){this.oi=t}},defaultAnimation:{get:function(){return this.Cd}},activeAnimations:{get:function(){return this.Ek}},initialAnimationStyle:{get:function(){return this.il},set:function(t){this.il=t}}}),to.prototype.stopAnimation=to.prototype.Xc;var ho=null,co=!1,fo=new K(to,"Default",1),po=new K(to,"AnimateLocations",2),go=new K(to,"None",3);function mo(){this.cv=this.qx=this.Kc=this.B=null,this.ql=this.hc=this.l=!1,this.In=this.ud=0,this.rr=this.pu=wo,this.pl=this.np=!1,this.Tu=1,this.Ru=0,this.nd=this.Rg=NaN,this.Sw=0,this.Jn=null,this.u=xt,this.jc=new dt,this.Nu=new dt,this.Yl=new nt,this.Ou=new nt,this.Qw=ma}function vo(t){t.Nu.clear(),t.pl=!1,t.Ru=0,t.nd=NaN,0<t.Yl.count&&t.Yl.clear(),0<t.Ou.count&&t.Ou.clear()}function yo(t,e,n,i,o,r){var a=t.jc;if(e instanceof Po&&"position"===n&&(n="position:diagram"),a.contains(e)){var s=a.H(e),l=s.start,u=s.end;void 0===l[n]&&(l[n]=_o(i)),u[n]=_o(o)}else u={},(l={})[n]=_o(i),u[n]=_o(o),s=l.position,e instanceof za&&s instanceof ft&&!s.v()&&e.diagram.animationManager.Ke.contains("Expand SubGraph")&&s.assign(u.position),s=new So(l,u,r),a.add(e,s);(a=l[n])instanceof ft&&!a.v()&&a.assign(t.u),r&&0===n.indexOf("position:")&&e instanceof Zu?s.uv.location=_o(e.location):r&&(s.uv[n]=_o(i))}function _o(t){return t instanceof ft||t instanceof Rt?t.copy():t}function bo(t,e){if(!t.ql||e){var n=t.Kc;if(!1!==t.hc){var i=+new Date,o=i>t.In?t.nd:i-t.ud;e&&((o=t.Sw)<t.nd?(t.ud=+new Date-o,t.In=t.ud+t.nd):o=t.nd),ro(n),xo(t,o),ir(t.B,!0),ao(n),i>t.In&&(t.np&&!t.pl?(t.ud=+new Date,t.In=t.ud+t.nd,t.pl=!0):t.hm(!1))}}}function xo(t,e){for(var n=t.nd,i=t.jc.iterator,o=t.pl;i.next();){var r=i.key;if(!(r instanceof za&&null===r.diagram)){var a=i.value,s=o?a.end:a.start;a=o?a.start:a.end;var l,u=ho;for(l in a)"position"===l&&(a["position:placeholder"]||a["position:node"])||null===u.get(l)||u.get(l)(r,s[l],a[l],t.rr,e,n,t)}}}function wo(t,e,n,i){return 1>(t/=i/2)?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function Co(t,e,n,i){return t===i?e+n:n*(1-Math.pow(2,-10*t/i))+e}function So(t,e,n){this.start=t,this.end=e,this.uv={},this.pv=n,this.Zv=!1}function ko(t,e,n){this.cd=null,this.bf=t,this.Op=n||Eo,this.Jk=null,void 0!==e&&(this.Jk=e,void 0===n&&(this.Op=Io))}to.className="AnimationManager",to.defineAnimationEffect=function(t,e){co||(uo(),co=!0),ho.add(t,e)},to.Default=fo,to.AnimateLocations=po,to.None=go,mo.prototype.suspend=function(){this.ql=!0},mo.prototype.advanceTo=function(t,e){e&&(this.ql=!1),this.np&&t>=this.nd&&(this.pl=!0,t-=this.nd),this.Sw=t,bo(this,!0),ro(this.Kc),ir(this.B),ao(this.Kc),this.B.Zd()},(n=mo.prototype).start=function(){if(0!==this.jc.count&&!this.hc){for(var t=this.B,e=this.jc.iterator;e.next();){var n=e.value.end,i=e.key;if(n["position:placeholder"]){var o=i.findVisibleNode();if(o instanceof Ph&&null!==o.placeholder){var r=o.placeholder;o=r.ga(oe),r=r.padding,o.x+=r.left,o.y+=r.top,n["position:placeholder"]=o}}null===t&&(i instanceof Po?t=i:i instanceof za&&(t=i.diagram))}null!==t&&(this.B=t,e=this.Kc=t.animationManager,this.nd=isNaN(this.Rg)?e.duration:this.Rg,this.rr=this.pu,e.hl&&e.il===fo&&this===e.defaultAnimation&&(this.rr=Co,this.nd=isNaN(this.Rg)?600===e.duration?900:e.duration:this.Rg),this.Qw=t.scrollMode,this.isViewportUnconstrained&&(t.Ii=va),ro(e),this.Yl.each((function(e){e.data=null,t.add(e)})),ao(e),this.hc=!0,this.ud=+new Date,this.In=this.ud+this.nd,function(t,e){function n(){if(0<o.Ws.count&&(i.addAll(o.Ws),o.Ws.clear(),o.hc=!0),!1!==o.hc&&0!==i.count){o.Zu.addAll(i);for(var t=o.Zu.iterator;t.next();){var e=t.value;if(!1!==e.hc){t:if(0<e.Yl.count)var r=!0;else{for(r=e.jc.iterator;r.next();){var a=r.key;if(a instanceof za&&null!==a.diagram||a instanceof Po){r=!0;break t}}r=!1}r?bo(e,!1):e.ql=!0}}o.Zu.clear(),ro(o),ir(o.B),ao(o),p.requestAnimationFrame(n)}}var i=t.Ek,o=t;t.hc?t.Ws.add(e):(t.hc=!0,i.add(e),p.requestAnimationFrame((function(){n()})))}(e,this))}},n.Py=function(t,e){t.Wb()&&(this.Yl.add(t),this.B=e)},n.add=function(t,e,n,i,o){"position"===e&&n.w(i)||(null===this.B&&(t instanceof Po?this.B=t:t instanceof za&&null!==t.diagram&&(this.B=t.diagram)),t instanceof Zu&&!t.isAnimated||yo(this,t,e,n,i,o))},n.Ht=function(t){return!!this.hc&&(null!==(t=this.jc.H(t))&&t.Zv)},n.Lv=function(t){return!!this.hc&&(null!==(t=this.jc.H(t))&&(t.start.position||t.start.location))},n.stop=function(){this.hc&&this.hm(!0)},n.hm=function(t){if(null!==this.cv&&this.cv.vp.remove(this.qx),this.hc){var e=this.B,n=this.Kc;this.ql=this.hc=n.hl=!1,ro(n);for(var i=this.jc,o=this.Yl.iterator;o.next();)e.remove(o.value);for(o=this.Ou.iterator;o.next();)o.value.o();o=this.np,i=i.iterator;for(var r=ho;i.next();){var a,s=i.key,l=i.value,u=o?l.end:l.start,h=o?l.start:l.end,c=l.uv;for(a in h)if(null!==r.get(a)){var d=a;!l.pv||"position:node"!==d&&"position:placeholder"!==d||(d="position"),r.get(d)(s,u[a],void 0!==c[a]?c[a]:l.pv?u[a]:h[a],this.rr,this.nd,this.nd,this)}l.pv&&void 0!==c.location&&s instanceof Zu&&(s.location=c.location),l.Zv&&s instanceof Zu&&s.Ob(!1)}if(n.defaultAnimation===this)for(a=this.B.links;a.next();)null===(o=a.value).lh?null!==(i=o.path)&&(o.ld=!1,o.o(),i.o()):(o.points=o.lh,o.lh=null);e.Ct.clear(),Fo(e,!1),e.Na(),e.M(),ir(e,!0),this.isViewportUnconstrained&&(e.scrollMode=this.Qw),ao(n),this.Ru++,!t&&this.Tu>this.Ru?(this.pl=!1,this.start()):(this.Jn&&this.Jn(this),vo(this),n.hm(this),e.Pb())}},n.Yj=function(t,e){var n=e.actualBounds,i=null;if(e instanceof Ph&&(i=e.placeholder),null!==i?(n=i.ga(oe),i=i.padding,n.x+=i.left,n.y+=i.top,this.add(t,"position",n,t.position,!1)):this.add(t,"position",new ft(n.x+n.width/2,n.y+n.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof Ph)for(t=t.memberParts;t.next();)(i=t.value)instanceof yh&&this.Yj(i,e)},n.Wj=function(t,e){if(t.isVisible()){var n=null;if(e instanceof Ph&&(n=e.placeholder),null!==n?this.add(t,"position:placeholder",t.position,n,!0):this.add(t,"position:node",t.position,e,!0),this.add(t,"scale",t.scale,.01,!0),(n=this.jc).contains(t)&&(n.H(t).Zv=!0),t instanceof Ph)for(t=t.memberParts;t.next();)(n=t.value)instanceof yh&&this.Wj(n,e)}},n.Lz=function(t){var e=this.Nu.get(t);return null===e&&(e={},this.Nu.add(t,e)),e},d.Object.defineProperties(mo.prototype,{duration:{get:function(){return this.Rg},set:function(t){1>t&&x(t,">= 1",mo,"duration"),this.Rg=t}},reversible:{get:function(){return this.np},set:function(t){this.np=t}},runCount:{get:function(){return this.Tu},set:function(t){0<t?this.Tu=t:_("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.Jn},set:function(t){this.Jn!==t&&(this.Jn=t)}},easing:{get:function(){return this.pu},set:function(t){this.pu=t}},isViewportUnconstrained:{get:function(){return this.l},set:function(t){this.l=t}},isAnimating:{get:function(){return this.hc}}}),mo.prototype.getTemporaryState=mo.prototype.Lz,mo.prototype.stop=mo.prototype.stop,mo.prototype.add=mo.prototype.add,mo.prototype.addTemporaryPart=mo.prototype.Py,mo.className="Animation",mo.EaseLinear=function(t,e,n,i){return n*t/i+e},mo.EaseInOutQuad=wo,mo.EaseInQuad=function(t,e,n,i){return n*(t/=i)*t+e},mo.EaseOutQuad=function(t,e,n,i){return-n*(t/=i)*(t-2)+e},mo.EaseInExpo=function(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e},mo.EaseOutExpo=Co,So.className="AnimationState",ko.prototype.copy=function(){var t=new ko(this.bf);t.Op=this.Op;var e=this.Jk;if(null!==e){var n={};void 0!==e.duration&&(n.Lx=e.duration),void 0!==e.finished&&(n.Lx=e.finished),void 0!==e.easing&&(n.Lx=e.easing),t.Jk=n}return t},d.Object.defineProperties(ko.prototype,{propertyName:{get:function(){return this.bf},set:function(t){this.bf=t}},animationSettings:{get:function(){return this.Jk},set:function(t){this.Jk=t}},startCondition:{get:function(){return this.Op},set:function(t){this.Op=t}}});var Eo=new K(ko,"Default",1),Io=new K(ko,"Immediate",2),To=new K(ko,"Bundled",3);function Do(){it(this),this.B=null,this.Ca=new tt,this.Qa="",this.rb=1,this.u=!1,this.Di=this.I=this.$h=this.Zh=this.Yh=this.Xh=this.Vh=this.Wh=this.Uh=this.bi=this.Th=this.ai=this.Sh=this.Rh=!0,this.l=!1,this.$o=[]}function Mo(t,e){var n=1;return 1!==t.rb&&(n=e.globalAlpha,e.globalAlpha=n*t.rb),n}function Oo(t,e,n){if(e=function(t,e,n){var i=n.zOrder;if(isNaN(i))return e;var o=(t=t.Ca).count;if(1>=o)return e;if(0>e&&(e=t.indexOf(n)),0>e)return-1;for(var r=e-1,a=NaN;0<=r&&(a=t.L(r).zOrder,isNaN(a));)r--;for(var s=e+1,l=NaN;s<o&&(l=t.L(s).zOrder,isNaN(l));)s++;if(!isNaN(a)&&a>i)for(;;){if(-1===r||a<=i){if(++r===e)break;return t.ab(e),t.tb(r,n),r}for(a=NaN;0<=--r&&(a=t.L(r).zOrder,isNaN(a)););}else if(!isNaN(l)&&l<i)for(;;){if(s===o||l>=i){if(--s===e)break;return t.ab(e),t.tb(s,n),s}for(l=NaN;++s<o&&(l=t.L(s).zOrder,isNaN(l)););}return e}(t,e,n),n instanceof Ph&&null!==n&&isNaN(n.zOrder)){if(0!==n.memberParts.count){for(var i=-1,o=t.Ca.j,r=o.length,a=0;a<r;a++){var s=o[a];if(s===n&&(e=a,0<=i))break;if(0>i&&s.containingGroup===n&&(i=a,0<=e))break}!(0>i)&&i<e&&((o=t.Ca).ab(e),o.tb(i,n))}null!==(n=n.containingGroup)&&Oo(t,-1,n)}}function Po(t){function e(){n.removeEventListener(p.document,"DOMContentLoaded",e,!1),n.setRTL()}1<arguments.length&&_("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Sa||(ka(),Sa=!0),it(this),ta=this,G=[],this.Rb=!0,this.Kc=new to,this.Kc.$d(this),this.mb=17,this.ol=this.Vu=!1,this.Cs="default",this.La=null;var n=this;oa&&(null!==p.document.body?this.setRTL():n.addEventListener(p.document,"DOMContentLoaded",e,!1)),this.Ja=new tt,this.va=this.wa=0,this.sa=null,this.mx=new dt,this.cf=this.Eb=null,this.fw(),this.yj=null,this.ew(),this.rb=1,this.ma=new ft(NaN,NaN).freeze(),this.Ds=new ft(NaN,NaN),this.zn=this.ya=1,this.Nr=new ft(NaN,NaN).freeze(),this.Or=NaN,this.gs=1e-4,this.es=100,this.nb=new Ke,this.dt=new ft(NaN,NaN).freeze(),this.Ir=new Lt(NaN,NaN,NaN,NaN).freeze(),this.Hi=new Jt(0,0,0,0).freeze(),this.Ii=ma,this.Ls=!1,this.Es=this.ys=null,this.Ig=sa,this.oj=Te,this.Uf=sa,this.Zn=Te,this.Pr=this.Mr=oe,this.Bc=!0,this.ml=!1,this.od=new nt,this.Pg=new dt,this.Zk=!0,this.$m=250,this.mj=-1,this.bn=new Jt(16,16,16,16).freeze(),this.sj=this.ye=!1,this.vj=!0,this.Rf=new bn,this.Rf.diagram=this,this.Rd=new bn,this.Rd.diagram=this,this.$g=new bn,this.$g.diagram=this,this.qe=this.Jf=null,this.Sj=!1,this.yr=this.zr=null,this.Wm=p.PointerEvent&&(L||V||j)&&p.navigator&&!1!==p.navigator.msPointerEnabled,Br(this),this.wh=new nt,this.Xr=!0,this.Zs=ya,this.zu=!1,this.at=ha,this.Ia=null,ea.add("Model",ad),this.sr=this.vr=this.Xs=null,this.yn=this.qr="auto",this.cg=this.ks=this.eg=this.fg=this.hg=this.Lf=this.Pf=this.Kf=null,this.Lr=!1,this.Mf=this.rg=this.gg=this.dg=null,this.ls=!1,this.ws={},this.Nj=[null,null],this.jr=null,this.wr=this.Ps=this.Xu=this.pg=!1,this.Fu=!0,this.ni=this.Cc=!1,this.ac=null;var i=this;this.kd=function(t){var e=i.partManager;if(t.model===e.diagram.model&&e.diagram.Z){e.diagram.Z=!1;try{var n=t.change;""===t.modelChange&&n===Sn&&e.updateDataBindings(t.object,t.propertyName)}finally{e.diagram.Z=!0}}},this.Jc=function(t){i.partManager.doModelChanged(t)},this.ev=!0,this.Jd=-2,this.Ei=new dt,this.vs=new tt,this.Wf=!1,this.Sh=this.Rh=this.Xq=this.ad=!0,this.Yq=!1,this.dr=this.br=this.$h=this.Zh=this.Yh=this.Xh=this.Vh=this.Wh=this.Uh=this.ar=this.bi=this.Th=this.ai=this.Zq=!0,this.Vf=this.Bu=!1,this.cr=this.$q=this.el=this.dl=!0,this.Ks=this.Gs=16,this.Fs=this.xp=!1,this.yp=this.Is=null,this.Hs=this.Js=0,this.fb=new Jt(5).freeze(),this.Wu=(new nt).freeze(),this.fs=999999999,this.wu=(new nt).freeze(),this.mi=this.li=this.ki=!0,this.Te=this.je=!1,this.ic=null,this.Le=!0,this.ke=!1,this.ax=new nt,this.xu=new nt,this.Hb=null,this.Dl=1,this.Yu=0,this.Sd={scale:1,position:new ft,bounds:new Lt,Ov:!1},this.ux=new Lt(NaN,NaN,NaN,NaN).freeze(),this.$l=new Rt(NaN,NaN).freeze(),this.An=new Lt(NaN,NaN,NaN,NaN).freeze(),this.Yr=!1,this.so=this.Xn=this.To=this.ku=this.ju=this.lu=this.Yf=this.Yg=this.Ze=this.Cr=null,Bo(this),this.Gb=null,this.Wn=!1,this.pj=null,this.partManager=new ad,this.toolManager=new On,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Br=null,this.Sk=new Oa,this.qs=this.ps=null,this.Qp=!1,this.commandHandler=Ro(),this.model=Gd(),this.pg=!0,Vo(this),this.layout=new Vc,this.pg=!1,this.Uw=this.ou=null,this.Sb=1,this.rh=null,this.Do=1,this.Ko=0,this.Lo=[0,0,0,0,0],this.Mo=0,this.pd=1,this.Dj=0,this.no=new ft,this.Ys=500,this.an=new ft,this.le=!1,this.preventDefault=this.Lt=this.vm=this.wm=this.um=this.tm=this.tk=this.vk=this.uk=this.rk=this.sk=this.zw=this.rw=this.sw=this.tw=this.kh=this.Hl=this.jh=this.Gl=null,this.bo=!1,this.ji=new Ea,this.Rp=!1,void 0!==t&&Ta(this,t),this.Kn=null,this.Ln=kt,this.Rb=!1}function Ao(t,e){t.animationManager.Xc(!0),t.Wu=(new nt).freeze(),t.wu=(new nt).freeze();var n=t.skipsUndoManager;null!==t.model&&(t.skipsUndoManager=!0);var i=null;null!==t.Gb&&(null!==(i=t.Gb.part)&&t.remove(i));var o=[],r=t.Ja.length;if(e){for(e=0;e<r;e++)for(var a=t.Ja.j[e].parts;a.next();){var s=a.value;s!==i&&null===s.data&&o.push(s)}for(e=0;e<o.length;e++)t.remove(o[e])}for(e=0;e<r;e++)t.Ja.j[e].clear();return t.partManager.clear(),t.od.clear(),t.Pg.clear(),t.wh.clear(),t.pj=null,W=[],null!==i&&(t.add(i),t.partManager.parts.remove(i)),null!==t.model&&(t.skipsUndoManager=n),o}function Ro(){return null}function Bo(t){t.Ze=new dt;var e=new yh,n=new ru;n.bind(new Zd("text","",P)),e.add(n),t.lu=e,t.Ze.add("",e),e=new yh,(n=new ru).stroke="brown",n.bind(new Zd("text","",P)),e.add(n),t.Ze.add("Comment",e),(e=new yh).selectable=!1,e.avoidable=!1,(n=new Yl).figure="Ellipse",n.fill="black",n.stroke=null,n.desiredSize=new Rt(3,3).ca(),e.add(n),t.Ze.add("LinkLabel",e),t.Yg=new dt,(e=new Ph).selectionObjectName="GROUPPANEL",e.type=wl.Vertical,(n=new ru).font="bold 12pt sans-serif",n.bind(new Zd("text","",P)),e.add(n),(n=new wl(wl.Auto)).name="GROUPPANEL";var i=new Yl;i.figure="Rectangle",i.fill="rgba(128,128,128,0.2)",i.stroke="black",n.add(i),(i=new Bh).padding=new Jt(5,5,5,5).ca(),n.add(i),e.add(n),t.ju=e,t.Yg.add("",e),t.Yf=new dt,e=new Nh,(n=new Yl).isPanelMain=!0,e.add(n),(n=new Yl).toArrow="Standard",n.fill="black",n.stroke=null,n.strokeWidth=0,e.add(n),t.ku=e,t.Yf.add("",e),e=new Nh,(n=new Yl).isPanelMain=!0,n.stroke="brown",e.add(n),t.Yf.add("Comment",e),(e=new vh).type=wl.Auto,(n=new Yl).fill=null,n.stroke="dodgerblue",n.strokeWidth=3,e.add(n),(n=new Bh).margin=new Jt(1.5,1.5,1.5,1.5).ca(),e.add(n),t.To=e,t.Xn=e,(e=new vh).type=wl.Link,(n=new Yl).isPanelMain=!0,n.fill=null,n.stroke="dodgerblue",n.strokeWidth=3,e.add(n),t.so=e}function No(t){30<t.Ko&&(t.rh=1)}function Fo(t,e){null!==t.rh&&(t.rh=null,e&&t.Lt(),t.Ko=0,t.Lo=[0,0,0,0,0],t.Mo=0)}function Lo(t){if(null!==t.sa){var e=t.La;if(0!==e.clientWidth&&0!==e.clientHeight){t.Vu||t.setScrollWidth();var n=t.Te?t.mb:0,i=t.je?t.mb:0,o=t.Sb;t.Sb=t.computePixelRatio(),t.Sb!==o&&(t.ml=!0,t.Pb()),e.clientWidth===t.wa+n&&e.clientHeight===t.va+i||(t.li=!0,t.Bc=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===sa&&(t.sj=!0,e.C()),t.Cc||t.Pb())}}}function Vo(t){var e=new Do;e.name="Background",t.am(e),(e=new Do).name="",t.am(e),(e=new Do).name="Foreground",t.am(e),(e=new Do).name="Adornment",e.isTemporary=!0,t.am(e),(e=new Do).name="Tool",e.isTemporary=!0,e.isBoundsIncluded=!0,t.am(e),(e=new Do).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,t.xx(e,t.jm("Background"))}function jo(t){t.Gb=new wl(wl.Grid),t.Gb.name="GRID";var e=new Yl;e.figure="LineH",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Gb.add(e),(e=new Yl).figure="LineH",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Gb.add(e),(e=new Yl).figure="LineH",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Gb.add(e),(e=new Yl).figure="LineV",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Gb.add(e),(e=new Yl).figure="LineV",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Gb.add(e),(e=new Yl).figure="LineV",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Gb.add(e),(e=new Zu).add(t.Gb),e.layerName="Grid",e.zOrder=0,e.isInDocumentBounds=!1,e.isAnimated=!1,e.pickable=!1,e.locationObjectName="GRID",t.add(e),t.partManager.parts.remove(e),t.Gb.visible=!1}function zo(){this.B.Fs?this.B.Fs=!1:this.B.isEnabled?this.B.Ix(this):fr(this.B)}function Ho(t){this.B.isEnabled?(this.B.Js=t.target.scrollTop,this.B.Hs=t.target.scrollLeft):fr(this.B)}function Wo(t){if(t.fixedBounds.v()){var e=t.fixedBounds.copy();return e.fq(t.fb),e}for(var n=!0,i=t.Ja.j,o=i.length,r=0;r<o;r++){var a=i[r];if(a.visible&&(!a.isTemporary||a.isBoundsIncluded))for(var s=(a=a.Ca.j).length,l=0;l<s;l++){var u=a[l];u.isInDocumentBounds&&u.isVisible()&&((u=u.actualBounds).v()&&(n?(n=!1,e=u.copy()):e.Ic(u)))}}return n&&(e=new Lt(0,0,0,0)),e.fq(t.fb),e}function Go(t,e){if((e||t.ke)&&!t.Rb&&null!==t.sa&&t.documentBounds.v()){if(e){var n=t.initialPosition;if(n.v())return void(t.position=n);(n=ft.alloc()).gj(t.documentBounds,t.initialDocumentSpot);var i=t.viewportBounds;i=Lt.allocAt(0,0,i.width,i.height);var o=ft.alloc();o.gj(i,t.initialViewportSpot),o.h(n.x-o.x,n.y-o.y),t.position=o,Lt.free(i),ft.free(o),ft.free(n)}t.Rb=!0,n=t.Ig,e&&t.Uf!==sa&&(n=t.Uf),i=n!==sa?Ko(t,n):t.scale,n=t.viewportBounds.copy(),o=t.wa/i;var r=t.va/i,a=t.oj,s=t.Zn;e&&!a.hb()&&(s.hb()||s.Mb())&&(a=s.Mb()?le:s),$o(t,t.documentBounds,o,r,a,e),e=t.scale,t.scale=i,t.Rb=!1,(i=t.viewportBounds).Ma(n)||t.Eq(n,i,e,!1),ur(t),nr(t,!0,!1)}}function Ko(t,e){var n=t.zn;if(null===t.sa)return n;Mr(t);var i=t.documentBounds;if(!i.v())return n;var o=i.width;i=i.height;var r=t.wa+(t.Te?t.mb:0),a=t.va+(t.je?t.mb:0),s=r/o,l=a/i;return e===la?((e=Math.min(l,s))>n&&(e=n),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===ua?((e=l>s?(a-t.mb)/i:(r-t.mb)/o)>n&&(e=n),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function $o(t,e,n,i,o,r){var a=ft.allocAt(t.ma.x,t.ma.y),s=a.x,l=a.y;if(null!==t.Kn){var u=ft.alloc();s=(u=t.Kn.ga(oe,u)).x-t.Ln.x/t.scale,l=u.y-t.Ln.y/t.scale,o=ie,ft.free(u)}(r||t.scrollMode===ma)&&(o.hb()&&(n>e.width&&(s=e.x+(o.x*e.width+o.offsetX)-(o.x*n-o.offsetX)),i>e.height&&(l=e.y+(o.y*e.height+o.offsetY)-(o.y*i-o.offsetY))),o=t.Hi,r=n-e.width,n<e.width+o.left+o.right?(s=Math.min(s+n/2,e.right+Math.max(r,o.right)-n/2),s=Math.max(s,e.left-Math.max(r,o.left)+n/2),s-=n/2):s>e.left?s=e.left:s<e.right-n&&(s=e.right-n),n=i-e.height,i<e.height+o.top+o.bottom?(l=Math.min(l+i/2,e.bottom+Math.max(n,o.bottom)-i/2),l=Math.max(l,e.top-Math.max(n,o.top)+i/2),l-=i/2):l>e.top?l=e.top:l<e.bottom-i&&(l=e.bottom-i)),a.x=isFinite(s)?s:-t.fb.left,a.y=isFinite(l)?l:-t.fb.top,null!==t.positionComputation&&(e=t.positionComputation(t,a),a.x=e.x,a.y=e.y),t.Kc.qc&&so(t.Kc,t.ma,a),t.ma.h(a.x,a.y),ft.free(a)}function Uo(t,e,n,i){for(void 0===n&&(n=null),void 0===i&&(i=null),or(t),t=t.Ja.iteratorBackwards;t.next();){var o=t.value;if(o.visible&&!o.isTemporary&&null!==(o=o.Ub(e,n,i)))return o}return null}function qo(t,e,n){var i=t.Rd;return t.Rd=t.$g,t.$g=i,i.diagram=t,i.event=e,n?tr(t,e,i):(i.viewPoint=t.Rd.viewPoint,i.documentPoint=t.Rd.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),i.modifiers=t,i.button=e.button,void 0===e.buttons||F||(i.buttons=e.buttons),z&&0===e.button&&e.ctrlKey&&(i.button=2),i.down=!1,i.up=!1,i.clickCount=1,i.delta=0,i.handled=!1,i.bubbles=!1,i.timestamp=e.timeStamp,i.isMultiTouch=!1,i.targetDiagram=Yo(e),i.targetObject=null,i}function Yo(t){var e=t.target.B;if(!e){var n=t.path;n||"function"!==typeof t.composedPath||(n=t.composedPath()),n&&n[0]&&(e=n[0].B)}return e||null}function Xo(t,e,n,i){var o=Jo(t,e,!0,!1,!0,i);return tr(t,n,o),o.targetDiagram=Yo(e),o.targetObject=null,i||o.clone(t.Rf),o}function Zo(t,e,n,i){var o;return i=Jo(t,e,!1,!1,!1,i),null!==n?((o=p.document.elementFromPoint(n.clientX,n.clientY))&&o.B?(e=n,n=o.B):(e=void 0!==e.targetTouches?e.targetTouches[0]:e,n=t),i.targetDiagram=n,tr(t,e,i)):null!==t.Rd?(i.documentPoint=t.Rd.documentPoint,i.viewPoint=t.Rd.viewPoint,i.targetDiagram=t.Rd.targetDiagram):null!==t.Rf&&(i.documentPoint=t.Rf.documentPoint,i.viewPoint=t.Rf.viewPoint,i.targetDiagram=t.Rf.targetDiagram),i.targetObject=null,i}function Jo(t,e,n,i,o,r){var a=t.Rd;t.Rd=t.$g,t.$g=a,a.diagram=t,a.clickCount=1;var s=a.delta=0;return e.ctrlKey&&(s+=1),e.altKey&&(s+=2),e.shiftKey&&(s+=4),e.metaKey&&(s+=8),a.modifiers=s,a.button=0,a.buttons=1,a.event=e,a.timestamp=e.timeStamp,t.Wm&&e instanceof p.PointerEvent&&"touch"!==e.pointerType&&(a.button=e.button,void 0===e.buttons||F||(a.buttons=e.buttons),z&&0===e.button&&e.ctrlKey&&(a.button=2)),a.down=n,a.up=i,a.handled=!1,a.bubbles=o,a.isMultiTouch=r,a}function Qo(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function tr(t,e,n){var i=t.sa,o=t.wa,r=t.va,a=0,s=0;null!==i&&(i=i.getBoundingClientRect(),a=e.clientX-o/i.width*i.left,s=e.clientY-r/i.height*i.top),n.viewPoint.h(a,s),null!==t.nb?(e=ft.allocAt(a,s),t.nb.Wd(e),n.documentPoint.assign(e),ft.free(e)):n.documentPoint.h(a,s)}function er(t,e,n,i){if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;e=e.targetTouches[n]}else{if(null===t.Nj[0])return;e=t.Nj[n]}null!==(n=t.sa)&&(n=n.getBoundingClientRect(),i.h(e.clientX-t.wa/n.width*n.left,e.clientY-t.va/n.height*n.top))}function nr(t,e,n){t.animationManager.defaultAnimation.isAnimating||t.Rb||!t.li||fr(t)||(e&&or(t),n&&Go(t,!1))}function ir(t,e){if(!t.Cc&&(t.ye=!1,null!==t.La||t.$l.v())){t.Cc=!0;var n=t.animationManager,i=t.vs;if(!n.isAnimating&&0!==i.length){for(var o=i.j,r=o.length,a=0;a<r;a++){var s=o[a];ss(s,!1),s.o()}i.clear()}0<(i=t.xu).count&&(i.each((function(t){t.yw()})),i.clear()),o=i=!1,n.isAnimating&&(o=!0,i=t.skipsUndoManager,t.skipsUndoManager=!0),n.qc||Lo(t),nr(t,!1,!1),null!==t.Gb&&(t.Gb.visible&&!t.Wn&&(Sr(t),t.Wn=!0),!t.Gb.visible&&t.Wn&&(t.Wn=!1)),or(t),r=!1,t.ke&&!t.Le||(t.ke?Ar(t,!t.sj):(t.ua("Initial Layout"),!1===n.isEnabled&&n.Xc(),Ar(t,!1)),r=!0),t.sj=!1,or(t),t.Ps||function(t){t.Cc||or(t),Mr(t)}(t),nr(t,!0,!1),a=!1,r?((n=Lt.alloc()).assign(t.viewportBounds),t.ke||(a=t.ke=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,function(t){var e=t.ya;if(t.Uf!==sa)t.scale=Ko(t,t.Uf);else if(t.Ig!==sa)t.scale=Ko(t,t.Ig);else{var n=t.initialScale;isFinite(n)&&0<n&&(t.scale=n)}t.ya!==e&&(ur(t),nr(t,!0,!1)),Go(t,!0),e=t.Ja.j,t.Ad(e,e.length,t),t.R("InitialLayoutCompleted"),t.Ds.assign(t.ma),Sr(t)}(t)),t.R("LayoutCompleted"),n.w(t.viewportBounds)||nr(t,!0,!1),Lt.free(n)):n.hl&&n.tx&&(t.Uf!==sa?t.scale=Ko(t,t.Uf):t.Ig!==sa?t.scale=Ko(t,t.Ig):(n=t.initialScale,isFinite(n)&&0<n&&(t.scale=n)),Go(t,!0)),or(t),r&&a&&t.Va("Initial Layout"),t.lv(),e||t.bc(t.Eb),o&&(t.skipsUndoManager=i),t.Cc=!1}}function or(t){if((t.Cc||!t.animationManager.isTicking)&&0!==t.od.count){for(var e=0;23>e;e++){var n=t.od.iterator;if(null===n||0===t.od.count)break;t.od=new nt,t.yw(n,t.od)}t.nodes.each((function(t){t instanceof Ph&&0!==(65536&t.P)!==!1&&(t.P=65536^t.P)}))}}function rr(t,e){for(var n=D(),i=D(),o=e.memberParts;o.next();){var r=o.value;r.isVisible()&&(r instanceof Ph?(as(r)||ls(r)||uh(r))&&rr(t,r):r instanceof Nh?r.fromNode===e||r.toNode===e?i.push(r):n.push(r):(r.measure(1/0,1/0),r.arrange()))}for(t=n.length,o=0;o<t;o++)(r=n[o]).measure(1/0,1/0),r.arrange();for(M(n),e.measure(1/0,1/0),e.arrange(),t=i.length,e=0;e<t;e++)(n=i[e]).measure(1/0,1/0),n.arrange();M(i)}function ar(t,e,n,i,o,r,a,s,l,u){if(null!==t.La){null===t.sa&&_("No canvas specified"),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===u&&(u=!1),cr(t),t.Eb.sc(!0),hr(t),t.ni=!0;var h=t.ya;t.ya=o;var c=t.Ja.j,d=c.length;try{var f=new Lt(r.x,r.y,i.width/o,i.height/o),p=f.copy();p.fq(n),Sr(t,p),or(t),t.Ad(c,d,t,f);var g=t.Sb;e.setTransform(1,0,0,1,0,0),e.scale(g,g),e.clearRect(0,0,i.width,i.height),null!==s&&""!==s&&(e.fillStyle=s,e.fillRect(0,0,i.width,i.height));var m=Ke.alloc();if(m.reset(),m.translate(n.left,n.top),m.scale(o),0===r.x&&0===r.y||m.translate(-r.x,-r.y),e.setTransform(m.m11,m.m12,m.m21,m.m22,m.dx,m.dy),Ke.free(m),sr(t,e),e.globalAlpha=t.rb,null!==a){var v=new nt,y=a.iterator;for(y.reset();y.next();){var b=y.value;!1===u&&"Grid"===b.layer.name||null===b||v.add(b)}var x=function(n){if(n.visible&&0!==n.rb&&(l||!n.isTemporary)){var i=n.Ca.j,o=i.length;if(0!==o){var r=Mo(n,e),a=n.$o;a.length=0;for(var s=t.scale,u=Lt.alloc(),h=0;h<o;h++){var c=i[h];v.contains(c)&&n.Ri(e,c,t,a,s,u)}Lt.free(u),e.globalAlpha=r}}}}else if(!l&&u){var w=t.grid.part,C=w.layer;x=function(n){n===C?w.bc(e,t):n.bc(e,t,l)}}else x=function(n){n.bc(e,t,l)};for(n=0;n<d;n++)x(c[n]);t.ni=!1,t.ji&&Ia(t.ji,t)&&t.Cr()}finally{t.ya=h,t.Eb.sc(!0),hr(t),t.Ad(c,d,t),Sr(t)}}}function sr(t,e){null!==(t=t.cf)&&(void 0!==t.imageSmoothingEnabled&&e.oy(!!t.imageSmoothingEnabled),void 0!==(t=t.defaultFont)&&null!==t&&(e.font=t))}function lr(t,e){var n,i=t instanceof wl,o=t instanceof Po;for(n in e){""===n&&_("Setting properties requires non-empty property names");var r=t,a=n;if(i||o){var s=n.indexOf(".");if(0<s){var l=n.substring(0,s);i?r=t.Za(l):(void 0===(r=t[l])||null===r)&&(r=t.toolManager[l]),S(r)?a=n.substr(s+1):_("Unable to find object named: "+l+" in "+t.toString()+" when trying to set property: "+n)}}if("_"!==a[0]&&!A(r,a)){if(o&&"ModelChanged"===a){t.zx(e[a]);continue}if(o&&"Changed"===a){t.Ah(e[a]);continue}if(o&&A(t.toolManager,a))r=t.toolManager;else{if(o&&Nr(t,a)){t.Xj(a,e[a]);continue}if(t instanceof Cd&&"Changed"===a){t.Ah(e[a]);continue}_('Trying to set undefined property "'+a+'" on object: '+r.toString())}}r[a]=e[n],"_"===a[0]&&r instanceof za&&r.wx(a)}}function ur(t){!1===t.li&&(t.li=!0)}function hr(t){!1===t.mi&&(t.mi=!0)}function cr(t){!1!==t.ml&&(t.ml=!1,dr(t,t.wa,t.va))}function dr(t,e,n){var i=t.Sb;t.sa.resize(e*i,n*i,e,n)&&(t.Bc=!0,t.Eb.sc(!0))}function fr(t){var e=t.sa;if(null===e)return!0;var n=t.La,i=t.wa,o=t.va,r=t.viewportBounds.copy();if(!r.v())return!0;var a=!1,s=t.Te?t.mb:0,l=t.je?t.mb:0,u=n.clientWidth||i+s,h=n.clientHeight||o+l;if(u===i+s&&h===o+l||(t.Te=!1,t.je=!1,l=s=0,t.wa=u,t.va=h,a=t.ml=!0),!(a||t.Te||t.je||t.dl||t.el))return!0;t.li=!1;var c=t.viewportBounds,d=t.documentBounds,f=0,p=0,g=0,m=0;n=c.width;var v=c.height,y=t.Hi;t.contentAlignment.hb()?(d.width>n&&(f=y.left,p=y.right),d.height>v&&(g=y.top,m=y.bottom)):(f=y.left,p=y.right,g=y.top,m=y.bottom),y=d.width+f+p;var _=d.height+g+m;f=d.x-f;var b=c.x;p=d.right+p;var x=c.right+s;g=d.y-g;var w=c.y;d=d.bottom+m,c=c.bottom+l;var C="1px",S="1px";if(u=y>u/(m=t.scale),h=_>h/m,t.scrollMode===ma&&(u||h)&&(u&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(u=1,f+1<b&&(u=Math.max((b-f)*m+t.wa,u)),p>x+1&&(u=Math.max((p-x)*m+t.wa,u)),n+s+1<y&&(u=Math.max((y-n)*m+t.wa,u)),C=u.toString()+"px"),h&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(u=1,g+1<w&&(u=Math.max((w-g)*m+t.va,u)),d>c+1&&(u=Math.max((d-c)*m+t.va,u)),v+l+1<_&&(u=Math.max((_-v)*m+t.va,u)),S=u.toString()+"px")),h="1px"!==S,(u="1px"!==C)&&h||!u&&!h||(h&&(x-=t.mb),u&&(c-=t.mb),y<n+s||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(s=1,f+1<b&&(s=Math.max((b-f)*m+t.wa,s)),p>x+1&&(s=Math.max((p-x)*m+t.wa,s)),n+1<y&&(s=Math.max((y-n)*m+t.wa,s)),C=s.toString()+"px"),u="1px"!==C,s=t.va,u!==t.je&&(s=u?t.va-t.mb:t.va+t.mb),_<v+l||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(l=1,g+1<w&&(l=Math.max((w-g)*m+s,l)),d>c+1&&(l=Math.max((d-c)*m+s,l)),v+1<_&&(l=Math.max((_-v)*m+s,l)),S=l.toString()+"px"),h="1px"!==S),t.xp&&u===t.je&&h===t.Te)return i===t.wa&&o===t.va||t.Wc(),!1;if(u!==t.je&&(t.va="1px"===C?t.va+t.mb:Math.max(t.va-t.mb,1),a=!0),t.je=u,t.yp.style.width=C,h!==t.Te&&(t.wa="1px"===S?t.wa+t.mb:Math.max(t.wa-t.mb,1),a=!0,t.ol&&(l=ft.alloc(),h?(e.style.left=t.mb+"px",t.position=l.h(t.ma.x+t.mb/t.scale,t.ma.y)):(e.style.left="0px",t.position=l.h(t.ma.x-t.mb/t.scale,t.ma.y)),ft.free(l))),t.Te=h,t.yp.style.height=S,t.Fs=!0,a&&(t.ml=!0),l=(e=t.Is).scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(n+1<y?l=(t.position.x-f)*m:f+1<b?l=e.scrollWidth-e.clientWidth:p>x+1&&(l=t.position.x*m)),t.ol)switch(t.Cs){case"negative":l=-(e.scrollWidth-l-e.clientWidth);break;case"reverse":l=e.scrollWidth-l-e.clientWidth}return e.scrollLeft=l,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(v+1<_?e.scrollTop=(t.position.y-g)*m:g+1<w?e.scrollTop=e.scrollHeight-e.clientHeight:d>c+1&&(e.scrollTop=t.position.y*m)),u=t.wa,h=t.va,e.style.width=u+(t.Te?t.mb:0)+"px",e.style.height=h+(t.je?t.mb:0)+"px",i===u&&o===h&&!t.animationManager.qc||(t.Eq(r,t.viewportBounds,m,a),!1)}function pr(t,e,n){var i=e.layer;null!==i&&i.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.C(2),n&&e.fk(),0<=(n=i.Gc(-1,e,!1))&&t.$a(En,"parts",i,e,null,n,null),null!==(t=e.layerChanged)&&t(e,i,null))}function gr(t,e,n,i,o,r){if(!e.contains(n)&&(void 0===r&&(r=!1),!i||r||n.canMove()||n.canCopy()))if(void 0===o&&(o=vr(t)),n instanceof yh){if(e.add(n,t.td(o,n,n.location)),n instanceof Ph)for(r=n.memberParts;r.next();)gr(t,e,r.value,i,o,o.groupsAlwaysMove);for(r=n.linksConnected;r.next();){var a=r.value;if(!e.contains(a)){var s=a.fromNode,l=a.toNode;null!==s&&e.contains(s)&&null!==l&&e.contains(l)&&gr(t,e,a,i,o)}}if(o.dragsTree)for(n=n.Av();n.next();)gr(t,e,n.value,i,o)}else if(n instanceof Nh)for(e.add(n,t.td(o,n)),n=n.labelNodes;n.next();)gr(t,e,n.value,i,o);else n instanceof vh||e.add(n,t.td(o,n,n.location))}function mr(t,e,n,i,o){if(null!==e&&0!==e.count){var r=ft.alloc(),a=ft.alloc();a.assign(n),isNaN(a.x)&&(a.x=0),isNaN(a.y)&&(a.y=0),(n=t.Qp)||_r(t,e);for(var s=D(),l=D(),u=e.iterator,h=ft.alloc();u.next();){var c=u.key,d=u.value;if(c.Wb()){var f=xr(t,c,e);null!==f?s.push(new Ma(c,d,f)):o&&!c.canMove()||(f=d.point,r.assign(f),t.computeMove(c,r.add(a),i,h),c.location=h,void 0===d.shifted&&(d.shifted=new ft),d.shifted.assign(h.ae(f)))}else u.key instanceof Nh&&l.push(u.la)}for(ft.free(h),o=s.length,u=0;u<o;u++)c=s[u],r.assign(c.info.point),void 0===c.Gv.shifted&&(c.Gv.shifted=new ft),c.node.location=r.add(c.Gv.shifted);for(o=ft.alloc(),u=ft.alloc(),c=l.length,d=0;d<c;d++){var p=l[d];if((f=p.key)instanceof Nh)if(f.suspendsRouting){f.lh=null,h=f.fromNode;var g=f.toNode;if(null!==t.draggedLink&&i.dragsLink)if(g=p.value.point,null===f.dragComputation)e.add(f,t.td(i,f,a)),Vh(f,a.x-g.x,a.y-g.y);else{p=ft.allocAt(0,0),(h=f.i(0))&&h.v()&&p.assign(h);var m=h=ft.alloc().assign(p).add(a);i.isGridSnapEnabled&&(i.isGridSnapRealtime||t.lastInput.up)&&yr(t,f,h,m=ft.alloc(),i),h.assign(f.dragComputation(f,h,m)).ae(p),e.add(f,t.td(i,f,h)),Vh(f,h.x-g.x,h.y-g.y),ft.free(p),ft.free(h),m!==h&&ft.free(m)}else null!==h&&(o.assign(h.location),null!==(m=e.H(h))&&o.ae(m.point)),null!==g&&(u.assign(g.location),null!==(m=e.H(g))&&u.ae(m.point)),null!==h&&null!==g?o.Ma(u)?(h=p.value.point,(g=r).assign(o),g.ae(h),e.add(f,t.td(i,f,o)),Vh(f,g.x,g.y)):(f.suspendsRouting=!1,f.Ta()):(p=p.value.point,h=null!==h?o:null!==g?u:a,e.add(f,t.td(i,f,h)),Vh(f,h.x-p.x,h.y-p.y))}else null!==f.fromNode&&null!==f.toNode||(h=p.value.point,e.add(f,t.td(i,f,a)),Vh(f,a.x-h.x,a.y-h.y))}ft.free(r),ft.free(a),ft.free(o),ft.free(u),M(s),M(l),n||(or(t),br(t,e))}}function vr(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.Sk}function yr(t,e,n,i,o){if(void 0===o&&(o=vr(t)),i.assign(n),null!==e){var r=t.grid;t=(e=o.gridSnapCellSize).width,e=e.height;var a=o.gridSnapOrigin,s=a.x;if(a=a.y,o=o.gridSnapCellSpot,null!==r){var l=r.gridCellSize;isNaN(t)&&(t=l.width),isNaN(e)&&(e=l.height),r=r.gridOrigin,isNaN(s)&&(s=r.x),isNaN(a)&&(a=r.y)}(r=ft.allocAt(0,0)).zk(0,0,t,e,o),Ue.pq(n.x,n.y,s+r.x,a+r.y,t,e,i),ft.free(r)}}function _r(t,e){if(null!==e)for(t.Qp=!0,t=e.iterator;t.next();)(e=t.key)instanceof Nh&&(e.suspendsRouting=!0)}function br(t,e){if(null!==e){for(e=e.iterator;e.next();){var n=e.key;n instanceof Nh&&(n.suspendsRouting=!1,Gh(n)&&n.Ta())}t.Qp=!1}}function xr(t,e,n){if(null!==(e=e.containingGroup)){if(null!==(t=xr(t,e,n)))return t;if(null!==(t=n.H(e)))return t}return null}function wr(t,e,n){if(null!==e.diagram&&e.diagram!==t&&_("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===n?null!==e.diagram&&_("Cannot add an existing Layer to this Diagram again: "+e):(n.diagram!==t&&_("Existing Layer must be in this Diagram: "+n+" not in "+n.diagram),e===n&&_("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,n=(t=t.Ja).count;for(var i=0;i<n;i++)t.L(i).name===e&&_("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function Cr(t,e,n){var i=t.animationManager;if(t.Rb||t.Cc)t.ya=n,i.$e&&i.Cd.add(i.B,"scale",e,t.ya);else if(null===t.sa)t.ya=n;else{t.Rb=!0;var o=t.viewportBounds.copy(),r=t.wa,a=t.va;o.width=t.wa/e,o.height=t.va/e;var s=t.zoomPoint.x,l=t.zoomPoint.y,u=t.contentAlignment;isNaN(s)&&(u.gd()?u.xf(pe)?s=0:u.xf(ge)&&(s=r-1):s=u.hb()?u.x*(r-1):r/2),isNaN(l)&&(u.gd()?u.xf(fe)?l=0:u.xf(me)&&(l=a-1):l=u.hb()?u.y*(a-1):a/2),null===t.scaleComputation||t.animationManager.isAnimating||(n=t.scaleComputation(t,n)),n<t.minScale&&(n=t.minScale),n>t.maxScale&&(n=t.maxScale),r=ft.allocAt(t.ma.x+s/e-s/n,t.ma.y+l/e-l/n),t.position=r,ft.free(r),t.ya=n,t.Eq(o,t.viewportBounds,e,!1),t.Rb=!1,Go(t,!1),i.$e&&i.Cd.add(i.B,"scale",e,t.ya),t.M(),ur(t)}}function Sr(t,e){void 0===e&&(e=null);var n=t.Gb;if(null!==n&&n.visible){for(var i=Rt.alloc(),o=1,r=1,a=n.V.j,s=a.length,l=0;l<s;l++){var u=a[l],h=u.interval;2>h||(El(u.figure)?r=r*h/Ue.Rx(r,h):o=o*h/Ue.Rx(o,h))}if(a=n.gridCellSize,i.h(r*a.width,o*a.height),null!==e)o=e.width,r=e.height,t=e.x,a=e.y;else{if(e=Lt.alloc(),t=t.viewportBounds,e.h(t.x,t.y,t.width,t.height),!e.v())return void Lt.free(e);o=e.width,r=e.height,t=e.x,a=e.y,Lt.free(e)}n.width=o+2*i.width,n.height=r+2*i.height,e=ft.alloc(),Ue.pq(t,a,0,0,i.width,i.height,e),e.offset(-i.width,-i.height),Rt.free(i),n.part.location=e,ft.free(e)}}function kr(t){var e=t.isModified;t.ev!==e&&(t.ev=e,t.R("Modified"))}function Er(t,e){for(var n=(e=e.V.j).length,i=0;i<n;i++)Ir(t,e[i])}function Ir(t,e){if(e instanceof Pu){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){var i=e.Sg;if(null!==i&&(i.cl instanceof Event&&null!==e.Ac&&e.Ac(e,i.cl),!0===i.Sr&&(null!==e.lf&&e.lf(e,i.Uu),null!==e.diagram&&e.diagram.vs.add(e))),n=n.getAttribute("src"),null===(i=t.Ei.H(n)))(i=[]).push(e),t.Ei.add(n,i);else{for(t=0;t<i.length;t++)if(i[t]===e)return;i.push(e)}}}}function Tr(t,e){if(e instanceof Pu){var n=e.element;if(null!==n&&n instanceof HTMLImageElement){n=n.getAttribute("src");var i=t.Ei.H(n);if(null!==i)for(var o=0;o<i.length;o++)if(i[o]===e){i.splice(o,1),0===i.length&&(t.Ei.remove(n),Au(n));break}}}}function Dr(t,e){t.ki=!1;var n=t.An;n.w(e)||(e=e.G(),t.An=e,Go(t,!1),t.R("DocumentBoundsChanged",null,n.copy()),ur(t))}function Mr(t){t.ki&&Dr(t,t.computeBounds())}function Or(t,e){for(var n=t.wh.iterator;n.next();)Pr(t,n.value,e);null!==t.layout&&(e?t.layout.isValidLayout=!1:t.layout.C())}function Pr(t,e,n){if(null!==e){for(var i=e.Al.iterator;i.next();)Pr(t,i.value,n);null!==e.layout&&(n?e.layout.isValidLayout=!1:e.layout.C())}}function Ar(t,e){if(t.Le&&!t.wr){var n=t.Z;t.Z=!0;var i=t.undoManager.transactionLevel,o=t.layout;try{0===i&&t.ua("Layout");var r=t.animationManager;1>=i&&!r.isAnimating&&!r.qc&&(e||eo(r,"Layout")),t.Le=!1;for(var a=t.wh.iterator;a.next();)Rr(t,a.value,e,i);o.isValidLayout||(!e||o.isRealtime||null===o.isRealtime||0===i?(o.doLayout(t),or(t),o.isValidLayout=!0):t.Le=!0)}finally{0===i&&t.Va("Layout"),t.Le||(t.Le=!o.isValidLayout),t.Z=n}}}function Rr(t,e,n,i){if(null!==e){for(var o=e.Al.iterator;o.next();)Rr(t,o.value,n,i);null===(o=e.layout)||o.isValidLayout||(!n||o.isRealtime||0===i?(e.wk=!e.location.v(),o.doLayout(e),e.C(32),rr(t,e),o.isValidLayout=!0):t.Le=!0)}}function Br(t){function e(t){var e=t.toLowerCase(),o=new tt;n.add(t,o),n.add(e,o),i.add(t,t),i.add(e,t)}var n=new dt,i=new dt;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.zr=n,t.yr=i}function Nr(t,e){var n=t.yr.H(e);return null!==n?n:t.yr.H(e.toLowerCase())}function Fr(t,e){var n=t.zr.H(e);return null!==n||null!==(n=t.zr.H(e.toLowerCase()))?n:void _("Unknown DiagramEvent name: "+e)}function Lr(t){if(t.animationManager.isTicking)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||(!t.Qp||e.isComplexRoutingRealtime)}function Vr(t,e,n,i){if(null===t.Hb&&(t.Hb=new xc),t.Hb.wt||t.Hb.group!==n||t.Hb.ty!==i){if(null===n){(e=t.computeOccupiedArea()).Vc(100,100),t.Hb.initialize(e),e=Lt.alloc();for(var o=t.nodes;o.next();){var r=o.value,a=r.layer;null!==a&&a.visible&&!a.isTemporary&&jr(t,r,i,e)}Lt.free(e)}else{for(0<n.memberParts.count&&((e=t.computePartsBounds(n.memberParts,!1)).Vc(20,20),t.Hb.initialize(e)),e=Lt.alloc(),o=n.memberParts;o.next();)(r=o.value)instanceof yh&&jr(t,r,i,e);Lt.free(e)}t.Hb.group=n,t.Hb.ty=i,t.Hb.wt=!1}else e&&kc(t.Hb);return t.Hb}function jr(t,e,n,i){if(e!==n)if(e.isVisible()&&e.avoidable&&!e.isLinkLabel){var o=e.getAvoidableRect(i),r=t.Hb.em;n=t.Hb.dm,i=o.x+o.width,e=o.y+o.height;for(var a=o.x;a<i;a+=r){for(var s=o.y;s<e;s+=n)Sc(t.Hb,a,s);Sc(t.Hb,a,e)}for(o=o.y;o<e;o+=n)Sc(t.Hb,i,o);Sc(t.Hb,i,e)}else if(e instanceof Ph)for(e=e.memberParts;e.next();)(o=e.value)instanceof yh&&jr(t,o,n,i)}function zr(t,e){null!==t.Hb&&!t.Hb.wt&&(void 0===e&&(e=null),null===e||e.avoidable&&!e.isLinkLabel)&&(t.Hb.wt=!0)}function Hr(t,e,n){function i(){var t=+new Date;for(r=!0,a.reset();a.next();)if(!a.value[0].wl){r=!1;break}r||t-u>l?e(n,o,s):p.requestAnimationFrame(i)}for(var o=n.callback,r=!0,a=t.Ei.iterator;a.next();)if(!a.value[0].wl){r=!1;break}if("function"!==typeof o||r)return e(n,o,t);var s=t,l=n.callbackTimeout||300,u=+new Date;return p.requestAnimationFrame((function(){i()})),null}function Wr(t,e,n,i){if(t.animationManager.Xc(),t.Wc(),null===t.sa)return null;"object"!==typeof e&&_("properties argument must be an Object.");var o=e.size||null,r=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(r="NaN");var a=e.maxSize;void 0===e.maxSize&&(a="SVG"===n?new Rt(1/0,1/0):new Rt(2e3,2e3));var s=e.position||null,l=e.parts||null,u=void 0===e.padding?1:e.padding,h=e.background||null,c=e.omitTemporary;void 0===c&&(c=!0);var d=e.document||document,f=e.elementFinished||null,p=e.showTemporary;void 0===p&&(p=!c),void 0===(e=e.showGrid)&&(e=p),null!==o&&isNaN(o.width)&&isNaN(o.height)&&(o=null),"number"===typeof u?u=new Jt(u):u instanceof Jt||_("MakeImage padding must be a Margin or a number."),u.left=Math.max(u.left,0),u.right=Math.max(u.right,0),u.top=Math.max(u.top,0),u.bottom=Math.max(u.bottom,0),t.Eb.sc(!0);var g=(c=new Ts(null,d)).context;if(!(o||r||l||s))return c.width=t.wa+Math.ceil(u.left+u.right),c.height=t.va+Math.ceil(u.top+u.bottom),"SVG"===n?null===i?null:(i.resize(c.width,c.height,c.width,c.height),i.ownerDocument=d,i.mq=f,ar(t,i.context,u,new Rt(c.width,c.height),t.ya,t.ma,l,h,p,e),i.context):(t.Zk=!1,ar(t,g,u,new Rt(c.width,c.height),t.ya,t.ma,l,h,p,e),t.Zk=!0,c.context);var m=t.zn,v=t.documentBounds.copy();if(v.ow(t.fb),p)for(var y=t.Ja.j,b=y.length,x=0;x<b;x++){var w=y[x];if(w.visible&&w.isTemporary)for(var C=(w=w.Ca.j).length,S=0;S<C;S++){var k=w[S];k.isInDocumentBounds&&k.isVisible()&&((k=k.actualBounds).v()&&v.Ic(k))}}if(y=new ft(v.x,v.y),null!==l){for(b=!0,(x=l.iterator).reset();x.next();)if((w=x.value)instanceof Zu&&((null===(C=w.layer)||C.visible)&&(null===C||p||!C.isTemporary)&&w.isVisible()&&(w=w.actualBounds).v()))if(b){b=!1;var E=w.copy()}else E.Ic(w);b&&(E=new Lt(0,0,0,0)),v.width=E.width,v.height=E.height,y.x=E.x,y.y=E.y}return null!==s&&s.v()&&(y=s,r||(r=m)),E=s=0,null!==u&&(s=u.left+u.right,E=u.top+u.bottom),b=x=0,null!==o&&(x=o.width,b=o.height,isFinite(x)&&(x=Math.max(0,x-s)),isFinite(b)&&(b=Math.max(0,b-E))),null!==o&&null!==r?("NaN"===r&&(r=m),o.v()?(o=x,v=b):isNaN(b)?(o=x,v=v.height*r):(o=v.width*r,v=b)):null!==o?o.v()?(r=Math.min(x/v.width,b/v.height),o=x,v=b):isNaN(b)?(r=x/v.width,o=x,v=v.height*r):(r=b/v.height,o=v.width*r,v=b):null!==r?"NaN"===r&&a.v()?(r=Math.min((a.width-s)/v.width,(a.height-E)/v.height))>m?(r=m,o=v.width,v=v.height):(o=a.width,v=a.height):(o=v.width*r,v=v.height*r):(r=m,o=v.width,v=v.height),null!==u?(o+=s,v+=E):u=new Jt(0),null!==a&&(m=a.width,a=a.height,isNaN(m)&&(m=2e3),isNaN(a)&&(a=2e3),isFinite(m)&&(o=Math.min(o,m)),isFinite(a)&&(v=Math.min(v,a))),c.width=Math.ceil(o),c.height=Math.ceil(v),"SVG"===n?null===i?null:(i.resize(c.width,c.height,c.width,c.height),i.ownerDocument=d,i.mq=f,ar(t,i.context,u,new Rt(Math.ceil(o),Math.ceil(v)),r,y,l,h,p,e),i.context):(t.Zk=!1,ar(t,g,u,new Rt(Math.ceil(o),Math.ceil(v)),r,y,l,h,p,e),t.Zk=!0,c.context)}ko.className="AnimationTrigger",ko.Default=Eo,ko.Immediate=Io,ko.Bundled=To,(n=Do.prototype).clear=function(){this.Ca.clear(),this.$o.length=0},n.$d=function(t){this.B=t},n.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var n=0,i=0,o=0,r=0,a=0,s=this.Ca.iterator;s.next();){var l=s.value;l instanceof Ph?o++:l instanceof yh?i++:l instanceof Nh?r++:l instanceof vh?a++:n++}if(s="",0<n&&(s+=n+" Parts "),0<i&&(s+=i+" Nodes "),0<o&&(s+=o+" Groups "),0<r&&(s+=r+" Links "),0<a&&(s+=a+" Adornments "),1<t)for(t=this.Ca.iterator;t.next();)s+="\n    "+(n=t.value).toString(),null!==(i=n.data)&&rt(i)&&(s+=" #"+rt(i)),n instanceof yh?s+=" "+P(i):n instanceof Nh&&(s+=" "+P(n.fromNode)+" "+P(n.toNode));return e+" "+this.Ca.count+": "+s},n.Ub=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!1===this.Di)return null;var i=!1;null!==this.diagram&&this.diagram.viewportBounds.aa(t)&&(i=!0);for(var o=ft.alloc(),r=this.Ca.j,a=r.length;a--;){var s=r[a];if((!0!==i||!1!==dh(s))&&s.isVisible()&&(o.assign(t),vt(o,s.wd),null!==(s=s.Ub(o,e,n))&&(null!==e&&(s=e(s)),null!==s&&(null===n||n(s)))))return ft.free(o),s}return ft.free(o),null},n.Vi=function(t,e,n,i){if(void 0===e&&(e=null),void 0===n&&(n=null),i instanceof tt||i instanceof nt||(i=new nt),!1===this.Di)return i;var o=!1;null!==this.diagram&&this.diagram.viewportBounds.aa(t)&&(o=!0);for(var r=ft.alloc(),a=this.Ca.j,s=a.length;s--;){var l=a[s];if((!0!==o||!1!==dh(l))&&l.isVisible()){r.assign(t),vt(r,l.wd);var u=l;l.Vi(r,e,n,i)&&(null!==e&&(u=e(u)),null===u||null!==n&&!n(u)||i.add(u))}}return ft.free(r),i},n.uf=function(t,e,n,i,o){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),o instanceof tt||o instanceof nt||(o=new nt),!1===this.Di)return o;var r=!1;null!==this.diagram&&this.diagram.viewportBounds.Be(t)&&(r=!0);for(var a=this.Ca.j,s=a.length;s--;){var l=a[s];if((!0!==r||!1!==dh(l))&&l.isVisible()){var u=l;l.uf(t,e,n,i,o)&&(null!==e&&(u=e(u)),null===u||null!==n&&!n(u)||o.add(u))}}return o},n.zv=function(t,e,n,i,o,r,a){if(!1===this.Di)return o;for(var s=this.Ca.j,l=s.length;l--;){var u=s[l];if((!0!==a||!1!==dh(u))&&r(u)&&u.isVisible()){var h=u;u.uf(t,e,n,i,o)&&(null!==e&&(h=e(h)),null===h||null!==n&&!n(h)||o.add(h))}}return o},n.xg=function(t,e,n,i,o,r){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!0),!1!==o&&!0!==o&&((o instanceof tt||o instanceof nt)&&(r=o),o=!0),r instanceof tt||r instanceof nt||(r=new nt),!1===this.Di)return r;var a=!1;null!==this.diagram&&this.diagram.viewportBounds.aa(t)&&(a=!0);for(var s=ft.alloc(),l=ft.alloc(),u=this.Ca.j,h=u.length;h--;){var c=u[h];if((!0!==a||!1!==dh(c))&&c.isVisible()){s.assign(t),vt(s,c.wd),l.h(t.x+e,t.y),vt(l,c.wd);var d=c;c.xg(s,l,n,i,o,r)&&(null!==n&&(d=n(d)),null===d||null!==i&&!i(d)||r.add(d))}}return ft.free(s),ft.free(l),r},n.Ad=function(t,e){if(this.visible){var n=void 0===e?t.viewportBounds:e,i=this.Ca.j,o=i.length;t=D(),e=D();for(var r=0;r<o;r++){var a=i[r];a.$w=r,a instanceof Nh&&!1===a.ld||a instanceof vh&&null!==a.adornedPart||(Kt(a.actualBounds,n)?(a.Ad(!0),t.push(a)):(a.Ad(!1),null!==a.adornments&&0<a.adornments.count&&e.push(a)))}for(n=0;n<t.length;n++)for(Ju(i=t[n]),i=i.adornments;i.next();)(o=i.value).measure(1/0,1/0),o.arrange(),o.Ad(!0);for(n=0;n<e.length;n++)(i=e[n]).updateAdornments(),lh(i,!0);M(t),M(e)}},n.bc=function(t,e,n){if(this.visible&&0!==this.rb&&(void 0===n&&(n=!0),n||!this.isTemporary)){var i=(n=this.Ca.j).length;if(0!==i){var o=Mo(this,t),r=this.$o;r.length=0;for(var a=e.scale,s=Lt.alloc(),l=0;l<i;l++)this.Ri(t,n[l],e,r,a,s);Lt.free(s),t.globalAlpha=o}}},n.Ri=function(t,e,n,i,o,r){if(!(null!==i&&e instanceof Nh&&(e.isOrthogonal&&i.push(e),!1===e.ld))){var a=e.actualBounds;i=!1;var s=e.containingGroup;if(null!==s&&s.isClipping&&s.type!==wl.Spot){if(s.locationObject.mm(r),!r.Hc(a))return;i=!r.Be(a)}i&&(t.save(),t.beginPath(),t.rect(r.x,r.y,r.width,r.height),t.clip()),a.width*o>n.Do||a.height*o>n.Do?e.bc(t,n):(o=e.actualBounds,r=e.naturalBounds,0===o.width||0===o.height||isNaN(o.x)||isNaN(o.y)||!e.isVisible()||(n=e.transform,null!==e.areaBackground&&(qa(e,t,e.areaBackground,!0,!0,r,o),t.fillRect(o.x,o.y,o.width,o.height)),null===e.areaBackground&&null===e.background&&(qa(e,t,"rgba(0,0,0,0.3)",!0,!1,r,o),t.fillRect(o.x,o.y,o.width,o.height)),null!==e.background&&(t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),qa(e,t,e.background,!0,!1,r,o),t.fillRect(0,0,r.width/2,r.height/2),n.yt()||(e=1/(n.m11*n.m22-n.m12*n.m21),t.transform(n.m22*e,-n.m12*e,-n.m21*e,n.m11*e,e*(n.m21*n.dy-n.m22*n.dx),e*(n.m12*n.dx-n.m11*n.dy)))))),i&&(t.restore(),t.sc(!0))}},n.g=function(t,e,n,i,o){var r=this.diagram;null!==r&&r.$a(Sn,t,this,e,n,i,o)},n.cj=function(t,e,n){var i=this.Ca;if(e.ui=this,t>=i.count)t=i.count;else if(i.L(t)===e)return-1;return i.tb(t,e),e.tq(n),null!==(i=this.diagram)&&(n?i.M():i.cj(e)),Oo(this,t,e),t},n.Gc=function(t,e,n){if(!n&&e.layer!==this&&null!==e.layer)return e.layer.Gc(t,e,n);var i=this.Ca;if(0>t||t>=i.length){if(0>(t=i.indexOf(e)))return-1}else if(i.L(t)!==e&&0>(t=i.indexOf(e)))return-1;return e.uq(n),i.ab(t),null!==(i=this.diagram)&&(n?i.M():i.Gc(e)),e.ui=null,t},d.Object.defineProperties(Do.prototype,{parts:{get:function(){return this.Ca.iterator}},partsBackwards:{get:function(){return this.Ca.iteratorBackwards}},diagram:{get:function(){return this.B}},name:{get:function(){return this.Qa},set:function(t){var e=this.Qa;if(e!==t){var n=this.diagram;if(null!==n)for(""===e&&_("Cannot rename default Layer to: "+t),n=n.layers;n.next();)n.value.name===t&&_("Layer.name is already present in this diagram: "+t);for(this.Qa=t,this.g("name",e,t),t=this.Ca.iterator;t.next();)t.value.layerName=this.Qa}}},opacity:{get:function(){return this.rb},set:function(t){var e=this.rb;e!==t&&((0>t||1<t)&&x(t,"0 <= value <= 1",Do,"opacity"),this.rb=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.M())}},isTemporary:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(this.u=t,this.g("isTemporary",e,t))}},visible:{get:function(){return this.I},set:function(t){var e=this.I;if(e!==t){for(this.I=t,this.g("visible",e,t),e=this.Ca.iterator;e.next();)e.value.Ob(t);null!==(t=this.diagram)&&t.M()}}},pickable:{get:function(){return this.Di},set:function(t){var e=this.Di;e!==t&&(this.Di=t,this.g("pickable",e,t))}},isBoundsIncluded:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==this.diagram&&this.diagram.Na())}},allowCopy:{get:function(){return this.Rh},set:function(t){var e=this.Rh;e!==t&&(this.Rh=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Sh},set:function(t){var e=this.Sh;e!==t&&(this.Sh=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Th},set:function(t){var e=this.Th;e!==t&&(this.Th=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.Uh},set:function(t){var e=this.Uh;e!==t&&(this.Uh=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Wh},set:function(t){var e=this.Wh;e!==t&&(this.Wh=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Vh},set:function(t){var e=this.Vh;e!==t&&(this.Vh=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Xh},set:function(t){var e=this.Xh;e!==t&&(this.Xh=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Yh},set:function(t){var e=this.Yh;e!==t&&(this.Yh=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Zh},set:function(t){var e=this.Zh;e!==t&&(this.Zh=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowSelect",e,t))}}}),Do.prototype.findObjectsNear=Do.prototype.xg,Do.prototype.findObjectsIn=Do.prototype.uf,Do.prototype.findObjectsAt=Do.prototype.Vi,Do.prototype.findObjectAt=Do.prototype.Ub,Do.className="Layer",Po.prototype.clear=function(){this.animationManager.Xc(),this.model.clear(),ra=null,aa="",Ao(this,!1),this.Na(),Mr(this),this.M()},Po.prototype.reset=function(){this.clear(),this.Rb=!0,this.Kc=new to,this.Kc.$d(this),this.mb=17,this.ol=this.Vu=!1,this.Cs="default",this.Ja=new tt,this.mx=new dt,this.cf=null,this.fw(),this.yj=null,this.ew(),this.rb=1,this.ma=new ft(NaN,NaN).freeze(),this.Ds=new ft(NaN,NaN),this.zn=this.ya=1,this.Nr=new ft(NaN,NaN).freeze(),this.Or=NaN,this.gs=1e-4,this.es=100,this.nb=new Ke,this.dt=new ft(NaN,NaN).freeze(),this.Ir=new Lt(NaN,NaN,NaN,NaN).freeze(),this.Hi=new Jt(0,0,0,0).freeze(),this.Ii=ma,this.Ls=!1,this.Es=this.ys=null,this.Ig=sa,this.oj=Te,this.Uf=sa,this.Zn=Te,this.Pr=this.Mr=oe,this.Bc=!0,this.ml=!1,this.od=new nt,this.Pg=new dt,this.Zk=!0,this.$m=250,this.mj=-1,this.bn=new Jt(16,16,16,16).freeze(),this.sj=this.ye=!1,this.vj=!0,this.Rf=new bn,this.Rf.diagram=this,this.Rd=new bn,this.Rd.diagram=this,this.$g=new bn,this.$g.diagram=this,this.qe=this.Jf=null,this.Sj=!1,this.yr=this.zr=null,this.Wm=p.PointerEvent&&(L||V||j)&&p.navigator&&!1!==p.navigator.msPointerEnabled,Br(this),this.wh=new nt,this.Xr=!0,this.Zs=ya,this.zu=!1,this.at=ha,this.sr=this.vr=this.Xs=null,this.yn=this.qr="auto",this.cg=this.ks=this.eg=this.fg=this.hg=this.Lf=this.Pf=this.Kf=null,this.Lr=!1,this.Mf=this.rg=this.gg=this.dg=null,this.ls=!1,this.ws={},this.Nj=[null,null],this.jr=null,this.wr=this.Ps=this.Xu=this.pg=!1,this.Fu=!0,this.ni=this.Cc=!1,this.ev=!0,this.Jd=-2,this.Ei=new dt,this.vs=new tt,this.Wf=!1,this.Sh=this.Rh=this.Xq=this.ad=!0,this.Yq=!1,this.dr=this.br=this.$h=this.Zh=this.Yh=this.Xh=this.Vh=this.Wh=this.Uh=this.ar=this.bi=this.Th=this.ai=this.Zq=!0,this.Vf=this.Bu=!1,this.cr=this.$q=this.el=this.dl=!0,this.Ks=this.Gs=16,this.Fs=this.xp=!1,this.Hs=this.Js=0,this.fb=new Jt(5).freeze(),this.Wu=(new nt).freeze(),this.fs=999999999,this.wu=(new nt).freeze(),this.mi=this.li=this.ki=!0,this.Te=this.je=!1,this.ic=null,this.Le=!0,this.ke=!1,this.ax=new nt,this.xu=new nt,this.Hb=null,this.Dl=1,this.Yu=0,this.Sd={scale:1,position:new ft,bounds:new Lt,Ov:!1},this.ux=new Lt(NaN,NaN,NaN,NaN).freeze(),this.$l=new Rt(NaN,NaN).freeze(),this.An=new Lt(NaN,NaN,NaN,NaN).freeze(),this.Yr=!1,this.so=this.Xn=this.To=this.ku=this.ju=this.lu=this.Yf=this.Yg=this.Ze=null,Bo(this),this.Gb=null,this.Wn=!1,this.pj=null,this.partManager=new ad,this.toolManager=new On,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Br=null,this.Sk=new Oa,this.qs=this.ps=null,this.Qp=!1,this.commandHandler=Ro(),this.pg=!0,Vo(this),this.layout=new Vc,this.pg=!1,this.model=Gd(),this.model.undoManager=new Tn,this.ke=!1,this.vj=!0,this.ye=!1,this.Sb=1,this.rh=null,this.Do=1,this.Ko=0,this.Lo=[0,0,0,0,0],this.Mo=0,this.pd=1,this.Dj=0,this.no=new ft,this.Ys=500,this.an=new ft,this.le=!1,this.kh=this.Hl=this.jh=this.Gl=null,this.Rp=this.bo=!1,this.Kn=null,this.Ln=kt,this.Rb=!1,this.M()},Po.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=p.document.body);var e=y("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var n="reverse";0<e.scrollLeft?n="default":(e.scrollLeft=1,0===e.scrollLeft&&(n="negative")),t.removeChild(e),this.Cs=n},Po.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=p.document.body);var e=0;if(oa){var n=ia;e=na,null===n&&((n=ia=y("p")).style.width="100%",n.style.height="200px",n.style.boxSizing="content-box",(e=na=y("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(n)),e.style.overflow="hidden",t.appendChild(e);var i=n.offsetWidth;e.style.overflow="scroll",i===(n=n.offsetWidth)&&(n=e.clientWidth),t.removeChild(e),0!==(e=i-n)||H||(e=11)}this.mb=e,this.Vu=!0},Po.prototype.gb=function(t){t.classType===Po&&(this.autoScale=t)},Po.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var n=this.Ja.iterator;n.next();)e+="\n  "+n.value.toString(t-1);return e},Po.prototype.addEventListener=function(t,e,n,i){t.addEventListener(e,n,{capture:i,passive:!1})},Po.prototype.removeEventListener=function(t,e,n,i){t.removeEventListener(e,n,{capture:i})},Po.prototype.computePixelRatio=function(){return null!==this.rh?this.rh:p.devicePixelRatio||1},Po.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},Po.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},Po.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},Po.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},Po.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},Po.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},Po.prototype.doFocus=function(){this.focus()},Po.prototype.focus=function(){if(this.sa)if(this.scrollsPageOnFocus)this.sa.focus();else{var t=p.scrollX||p.pageXOffset,e=p.scrollY||p.pageYOffset;this.sa.focus(),p.scrollTo(t,e)}},Po.prototype.Wy=function(){this.B.R("GainedFocus")},Po.prototype.Vy=function(){this.B.R("LostFocus")},Po.prototype.Ix=function(t){if(null!==this.sa){this.xp=!0;var e=this.documentBounds,n=this.viewportBounds,i=this.Hi,o=e.x-i.left,r=e.y-i.top,a=e.width+i.left+i.right,s=e.height+i.top+i.bottom,l=e.right+i.right;i=e.bottom+i.bottom;var u=n.x;e=n.y;var h=n.width,c=n.height,d=n.right,f=n.bottom;n=this.scale;var p=t.scrollLeft;if(this.ol)switch(this.Cs){case"negative":p=p+t.scrollWidth-t.clientWidth;break;case"reverse":p=t.scrollWidth-p-t.clientWidth}var g=p;h<a||c<s?(p=ft.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Hs!==g&&(p.x=g/n+o,this.Hs=g),this.allowVerticalScroll&&this.Js!==t.scrollTop&&(p.y=t.scrollTop/n+r,this.Js=t.scrollTop),this.position=p,ft.free(p),this.li=this.xp=!1):(p=ft.alloc(),t.Ey&&this.allowHorizontalScroll&&(o<u&&(this.position=p.h(g+o,this.position.y)),l>d&&(this.position=p.h(-(this.Is.scrollWidth-this.wa)+g-this.wa/n+l,this.position.y))),t.Fy&&this.allowVerticalScroll&&(r<e&&(this.position=p.h(this.position.x,t.scrollTop+r)),i>f&&(this.position=p.h(this.position.x,-(this.Is.scrollHeight-this.va)+t.scrollTop-this.va/n+i))),ft.free(p),hr(this),this.li=this.xp=!1,e=this.documentBounds,n=this.viewportBounds,l=e.right,d=n.right,i=e.bottom,f=n.bottom,o=e.x,u=n.x,r=e.y,e=n.y,h>=a&&o>=u&&l<=d&&(this.yp.style.width="1px"),c>=s&&r>=e&&i<=f&&(this.yp.style.height="1px"))}},Po.prototype.computeBounds=function(){return 0<this.od.count&&or(this),Wo(this)},Po.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var n=null;if(k(t))for(var i=0;i<t.length;i++){var o=t[i];!e&&o instanceof Nh||(o.zb(),null===n?n=o.actualBounds.copy():n.Ic(o.actualBounds))}else for(t=t.iterator;t.next();)i=t.value,!e&&i instanceof Nh||(i.zb(),null===n?n=i.actualBounds.copy():n.Ic(i.actualBounds));return null===n?new Lt(NaN,NaN,0,0):n},Po.prototype.zoomToFit=function(){var t=this.Ii;this.Ii=ma,this.scale=Ko(this,la),t!==ma&&(Go(this,!1),$o(this,this.documentBounds,this.wa/this.ya,this.va/this.ya,this.oj,!1)),this.Ii=t},(n=Po.prototype).HA=function(t,e){void 0===e&&(e=la);var n=t.width,i=t.height;if(!(0===n||0===i||isNaN(n)&&isNaN(i))){var o=1;if(e===la||e===ua)if(isNaN(n))o=this.viewportBounds.height*this.scale/i;else if(isNaN(i))o=this.viewportBounds.width*this.scale/n;else{o=this.wa;var r=this.va;o=e===ua?r/i>o/n?(r-(this.je?this.mb:0))/i:(o-(this.Te?this.mb:0))/n:Math.min(r/i,o/n)}this.scale=o,this.position=new ft(t.x,t.y)}},n.Qy=function(t,e){Mr(this);var n=this.documentBounds,i=this.viewportBounds;this.position=new ft(n.x+(t.x*n.width+t.offsetX)-(e.x*i.width-e.offsetX),n.y+(t.y*n.height+t.offsetY)-(e.y*i.height-e.offsetY))},n.Ez=function(t){if(t instanceof za){this.Kn=t;var e=ft.alloc();this.Ln=this.Qq(t.ga(oe,e)),ft.free(e)}else this.Kn=null,this.Ln=kt},n.km=function(t,e){if(void 0===e&&(e=!0),e){if((t=Uo(this,t,(function(t){return t.part}),(function(t){return t.canSelect()})))instanceof Zu)return t}else if((t=Uo(this,t,(function(t){return t.part})))instanceof Zu)return t;return null},n.Ub=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),or(this);for(var i=this.Ja.iteratorBackwards;i.next();){var o=i.value;if(o.visible&&null!==(o=o.Ub(t,e,n)))return o}return null},n.rz=function(t,e,n){return void 0===e&&(e=!0),function(t,e,n,i,o){for(void 0===n&&(n=null),void 0===i&&(i=null),o instanceof tt||o instanceof nt||(o=new nt),or(t),t=t.Ja.iteratorBackwards;t.next();){var r=t.value;r.visible&&!r.isTemporary&&r.Vi(e,n,i,o)}return o}(this,t,(function(t){return t.part}),e?function(t){return t instanceof Zu&&t.canSelect()}:null,n)},n.Vi=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),i instanceof tt||i instanceof nt||(i=new nt),or(this);for(var o=this.Ja.iteratorBackwards;o.next();){var r=o.value;r.visible&&r.Vi(t,e,n,i)}return i},n.Qx=function(t,e,n,i){return void 0===e&&(e=!1),void 0===n&&(n=!0),function(t,e,n,i,o){var r=null;for(void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!1),o instanceof tt||o instanceof nt||(o=new nt),or(t),t=t.Ja.iteratorBackwards;t.next();){var a=t.value;a.visible&&!a.isTemporary&&a.uf(e,r,n,i,o)}return o}(this,t,(function(t){return t instanceof Zu&&(!n||t.canSelect())}),e,i)},n.uf=function(t,e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=!1),o instanceof tt||o instanceof nt||(o=new nt),or(this);for(var r=this.Ja.iteratorBackwards;r.next();){var a=r.value;a.visible&&a.uf(t,e,n,i,o)}return o},n.zv=function(t,e,n,i,o,r){var a=new nt;or(this);for(var s=this.Ja.iteratorBackwards;s.next();){var l=s.value;l.visible&&l.zv(t,e,n,i,a,o,r)}return a},n.sz=function(t,e,n,i,o){return void 0===n&&(n=!0),void 0===i&&(i=!0),function(t,e,n,i,o,r){var a=null;void 0===a&&(a=null),void 0===i&&(i=null),void 0===o&&(o=!0),!1!==o&&!0!==o&&((o instanceof tt||o instanceof nt)&&(r=o),o=!0);for(r instanceof tt||r instanceof nt||(r=new nt),or(t),t=t.Ja.iteratorBackwards;t.next();){var s=t.value;s.visible&&!s.isTemporary&&s.xg(e,n,a,i,o,r)}return r}(this,t,e,(function(t){return t instanceof Zu&&(!i||t.canSelect())}),n,o)},n.xg=function(t,e,n,i,o,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!0),!1!==o&&!0!==o&&((o instanceof tt||o instanceof nt)&&(r=o),o=!0),r instanceof tt||r instanceof nt||(r=new nt),or(this);for(var a=this.Ja.iteratorBackwards;a.next();){var s=a.value;s.visible&&s.xg(t,e,n,i,o,r)}return r},Po.prototype.acceptEvent=function(t){return qo(this,t,t instanceof MouseEvent)},Po.prototype.Zz=function(t){var e=this.B;if(!this.B.isEnabled)return!1;var n=qo(e,t,!1);switch(n.key=String.fromCharCode(t.which),n.down=!0,t.which){case 8:n.key="Backspace";break;case 33:n.key="PageUp";break;case 34:n.key="PageDown";break;case 35:n.key="End";break;case 36:n.key="Home";break;case 37:n.key="Left";break;case 38:n.key="Up";break;case 39:n.key="Right";break;case 40:n.key="Down";break;case 45:n.key="Insert";break;case 46:n.key="Del";break;case 48:n.key="0";break;case 187:case 61:case 107:n.key="Add";break;case 189:case 173:case 109:n.key="Subtract";break;case 27:n.key="Esc"}return e.doKeyDown(),Qo(n,t)},Po.prototype.$z=function(t){var e=this.B;if(!e.isEnabled)return!1;var n=qo(e,t,!1);switch(n.key=String.fromCharCode(t.which),n.up=!0,t.which){case 8:n.key="Backspace";break;case 33:n.key="PageUp";break;case 34:n.key="PageDown";break;case 35:n.key="End";break;case 36:n.key="Home";break;case 37:n.key="Left";break;case 38:n.key="Up";break;case 39:n.key="Right";break;case 40:n.key="Down";break;case 45:n.key="Insert";break;case 46:n.key="Del"}return e.doKeyUp(),Qo(n,t)},Po.prototype.hz=function(t){var e=this.B;if(!e.isEnabled)return!1;var n=qo(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(n),Qo(n,t)},Po.prototype.iz=function(t){var e=this.B;if(!e.isEnabled)return!1;var n=qo(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(n),Qo(n,t)},Po.prototype.getMouse=function(t){var e=this.sa;if(null===e)return new ft(0,0);var n=e.getBoundingClientRect();return e=t.clientX-this.wa/n.width*n.left,t=t.clientY-this.va/n.height*n.top,null!==this.nb?vt(new ft(e,t),this.nb):new ft(e,t)},(n=Po.prototype).Na=function(){this.ki||(this.ki=!0,this.Pb(!0))},n.Zd=function(){this.Rb||this.Cc||(this.M(),ur(this),hr(this),this.Na(),this.Wc())},n.Yz=function(){return this.ye},n.cz=function(t){void 0===t&&(t=null);var e=this.animationManager,n=e.isEnabled;e.Xc(),e.isEnabled=!1,ir(this),this.ke=!1,this.Ds=new ft(NaN,NaN),e.isEnabled=n,null!==t&&v((function(){eo(e,"Model"),t()}),1)},n.Pb=function(t){if(void 0===t&&(t=!1),!0!==this.ye&&!(this.Rb||!1===t&&this.Cc)){this.ye=!0;var e=this;p.requestAnimationFrame((function(){e.ye&&e.Wc()}))}},n.Wc=function(){this.vj&&!this.ye||(this.vj&&(this.vj=!1),ir(this))},n.yw=function(t,e){for(t.reset();t.next();){var n=t.value;!n.Wb()||n instanceof Ph||(n.ej()?(n.measure(1/0,1/0),n.arrange()):e.add(n))}for(t.reset();t.next();)(n=t.value)instanceof Ph&&n.isVisible()&&rr(this,n);for(t.reset();t.next();)(n=t.value)instanceof Nh&&n.isVisible()&&(n.ej()?(n.measure(1/0,1/0),n.arrange()):e.add(n));for(t.reset();t.next();)(n=t.value)instanceof vh&&n.isVisible()&&(n.ej()?(n.measure(1/0,1/0),n.arrange()):e.add(n))},n.Ad=function(t,e,n,i){if(this.mi||this.animationManager.isAnimating)for(var o=0;o<e;o++)t[o].Ad(n,i)},n.bc=function(t,e){if(void 0===e&&(e=null),null!==this.La){null===this.sa&&_("No canvas specified");var n=this.animationManager;if(!n.qc&&(!n.isAnimating||n.isTicking)){var i=new Date;if(cr(this),"0"!==this.La.style.opacity){var o=t!==this.Eb,r=this.Ja.j,a=r.length,s=this;if(this.Ad(r,a,s),o)t.sc(!0),hr(this);else if(!this.Bc&&null===e&&!n.isAnimating)return;a=this.ma;var l=this.ya,u=Math.round(a.x*l)/l,h=Math.round(a.y*l)/l;for((n=this.nb).reset(),1!==l&&n.scale(l),0===a.x&&0===a.y||n.translate(-u,-h),l=this.Sb,t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.clearRect(0,0,this.wa,this.va),t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),sr(this,t),t.globalAlpha=this.rb,u=null!==e?function(n){var i=e;if(n.visible&&0!==n.rb){var o=n.Ca.j,r=o.length;if(0!==r){var a=Mo(n,t),l=n.$o;l.length=0;for(var u=s.scale,h=Lt.alloc(),c=0;c<r;c++){var d=o[c];i.contains(d)||n.Ri(t,d,s,l,u,h)}Lt.free(h),t.globalAlpha=a}}}:function(e){e.bc(t,s)},a=r.length,h=0;h<a;h++)t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),u(r[h]);if(this.ji&&Ia(this.ji,this)&&this.Cr(),o?(this.Eb.sc(!0),hr(this)):this.Bc=this.mi=!1,o=+new Date-+i,null===this.rh){for((i=this.Lo)[this.Mo]=o,this.Mo=(this.Mo+1)%i.length,r=o=0;r<this.Lo.length;r++)o+=this.Lo[r];this.Ko=o/i.length}}}}},n.De=function(t){return this.cf[t]},n.py=function(t,e){"minDrawingLength"===t&&(this.Do=e),this.cf[t]=e,this.Zd()},n.fw=function(){this.cf=new q,this.cf.drawShadows=!0,this.cf.textGreeking=!0,this.cf.viewportOptimizations=!(H||L||V),this.cf.temporaryPixelRatio=!0,this.cf.pictureRatioOptimization=!0,this.Do=this.cf.minDrawingLength=1},n.nm=function(t){return this.yj[t]},n.wA=function(t,e){this.yj[t]=e},n.ew=function(){this.yj=new q,this.yj.extraTouchArea=10,this.yj.extraTouchThreshold=10,this.yj.hasGestureZoom=!0},n.mw=function(t){lr(this,t)},n.lv=function(){if(0===this.undoManager.transactionLevel&&0!==this.Pg.count){for(;0<this.Pg.count;){var t=this.Pg;for(this.Pg=new dt,t=t.iterator;t.next();){var e=t.key;e.wq(t.value),e.cc()}}this.M()}},n.M=function(t){if(void 0===t&&(t=null),null===t)this.Bc=!0,this.Pb();else{var e=this.viewportBounds;null!==t&&t.v()&&e.Hc(t)&&(this.Bc=!0,this.Pb())}this.R("InvalidateDraw")},n.Wx=function(t,e){if(!0!==this.Bc){this.Bc=!0;var n=!0===this.De("temporaryPixelRatio");if(!0===this.De("viewportOptimizations")&&this.scrollMode!==va&&this.Hi.Ti(0,0,0,0)&&e.width===t.width&&e.height===t.height){var i=this.scale,o=Math.max(t.x,e.x),r=Math.max(t.y,e.y);if(i=Lt.allocAt(o,r,Math.max(0,Math.min(t.x+t.width,e.x+e.width)-o)*i,Math.max(0,Math.min(t.y+t.height,e.y+e.height)-r)*i),!this.Rp&&0<i.width&&0<i.height){if(!(this.Cc||(this.ye=!1,null===this.La||(this.Cc=!0,this.lv(),this.documentBounds.v()||Dr(this,this.computeBounds()),o=this.sa,null===o||o instanceof xs)))){var a=this.Sb;r=this.wa*a;var s=this.va*a,l=this.scale*a,u=Math.round(Math.round(e.x*l)-Math.round(t.x*l));e=Math.round(Math.round(e.y*l)-Math.round(t.y*l)),l=this.ou,t=this.Uw,l.width!==r&&(l.width=r),l.height!==s&&(l.height=s),t.clearRect(0,0,r,s),l=190*a;var h=70*a,c=Math.max(u,0),d=Math.max(e,0),f=Math.floor(r-c),p=Math.floor(s-d);t.drawImage(o.Ea,c,d,f,p,0,0,f,p),Ia(this.ji,this)&&t.clearRect(0,0,l,h),o=D(),t=D(),p=Math.abs(u),f=Math.abs(e);var g=0===c?0:r-p;c=ft.allocAt(g,0),p=ft.allocAt(p+g,s),t.push(new Lt(Math.min(c.x,p.x),Math.min(c.y,p.y),Math.abs(c.x-p.x),Math.abs(c.y-p.y)));var m=this.nb;if(m.reset(),m.scale(a,a),1!==this.ya&&m.scale(this.ya),(0!==(a=this.ma).x||0!==a.y)&&isFinite(a.x)&&isFinite(a.y)&&m.translate(-a.x,-a.y),vt(c,m),vt(p,m),o.push(new Lt(Math.min(c.x,p.x),Math.min(c.y,p.y),Math.abs(c.x-p.x),Math.abs(c.y-p.y))),g=0===d?0:s-f,c.h(0,g),p.h(r,f+g),t.push(new Lt(Math.min(c.x,p.x),Math.min(c.y,p.y),Math.abs(c.x-p.x),Math.abs(c.y-p.y))),vt(c,m),vt(p,m),o.push(new Lt(Math.min(c.x,p.x),Math.min(c.y,p.y),Math.abs(c.x-p.x),Math.abs(c.y-p.y))),Ia(this.ji,this)&&(r=0<u?0:-u,s=0<e?0:-e,c.h(r,s),p.h(l+r,h+s),t.push(new Lt(Math.min(c.x,p.x),Math.min(c.y,p.y),Math.abs(c.x-p.x),Math.abs(c.y-p.y))),vt(c,m),vt(p,m),o.push(new Lt(Math.min(c.x,p.x),Math.min(c.y,p.y),Math.abs(c.x-p.x),Math.abs(c.y-p.y)))),ft.free(c),ft.free(p),nr(this,!1,!0),null===this.La&&_("No div specified"),null===this.sa&&_("No canvas specified"),!this.animationManager.qc&&(r=this.Eb,this.Bc)){for(cr(this),s=this.Sb,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,this.wa*s,this.va*s),r.drawImage(this.ou.Ea,0<u?0:Math.round(-u),0<e?0:Math.round(-e)),u=this.ma,a=this.ya,l=Math.round(u.x*a)/a,h=Math.round(u.y*a)/a,(e=this.nb).reset(),1!==a&&e.scale(a),0===u.x&&0===u.y||e.translate(-l,-h),r.save(),r.beginPath(),u=t.length,a=0;a<u;a++)0!==(l=t[a]).width&&0!==l.height&&r.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));for(r.clip(),r.setTransform(1,0,0,1,0,0),r.scale(s,s),r.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),u=(e=this.Ja.j).length,this.Ad(e,u,this),sr(this,r),r.globalAlpha=this.rb,s=0;s<u;s++)if(l=o,(a=e[s]).visible&&0!==a.rb){h=Mo(a,r),(d=a.$o).length=0,c=this.scale,f=Lt.alloc(),m=(p=a.Ca.j).length,g=l.length;for(var v=0;v<m;v++){var y=p[v],b=eh(y,y.actualBounds);t:{for(var x=2/c,w=4/c,C=0;C<g;C++){var S=l[C];if(0!==S.width&&0!==S.height&&b.Jv(S.x-x,S.y-x,S.width+w,S.height+w)){b=!0;break t}}b=!1}b&&a.Ri(r,y,this,d,c,f)}Lt.free(f),r.globalAlpha=h}r.restore(),r.sc(!0),this.ji&&Ia(this.ji,this)&&this.Cr(),this.Bc=this.mi=!1,this.Lt()}M(o),M(t),this.Cc=!1}}else this.Wc();Lt.free(i),n&&(No(this),this.Wc(),Fo(this,!0))}else n?(No(this),this.Wc(),Fo(this,!0)):this.Wc()}},n.add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&_("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.jm(t.layerName))&&(e=this.jm("")),null===e&&_('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var n=e.cj(99999999,t,t.diagram===this);0<=n&&this.$a(kn,"parts",e,null,t,null,n),e.isTemporary||this.Na(),t.C(1),null!==(n=t.layerChanged)&&n(t,null,e)}},n.cj=function(t){this.partManager.cj(t);var e=this;Tl(t,(function(t){Er(e,t)})),(t instanceof vh||t instanceof Ph&&null!==t.placeholder)&&t.o(),null!==t.data&&Tl(t,(function(t){cd(e.partManager,t)})),!0!==ls(t)&&!0!==uh(t)||this.od.add(t),ah(t,!0,this),ph(t)?(t.actualBounds.v()&&this.M(eh(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.v()&&this.M(eh(t,t.actualBounds)),this.Pb()},n.Gc=function(t){t.$j(),this.partManager.Gc(t);var e=this;null!==t.data&&Tl(t,(function(t){dd(e.partManager,t,e)})),this.od.remove(t),ph(t)?(t.actualBounds.v()&&this.M(eh(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.v()&&this.M(eh(t,t.actualBounds)),this.Pb()},n.remove=function(t){pr(this,t,!0)},n.Nt=function(t,e){if(k(t))for(var n=t.length,i=0;i<n;i++){var o=t[i];e&&!o.canDelete()||this.remove(o)}else for((n=new nt).addAll(t),t=n.iterator;t.next();)n=t.value,e&&!n.canDelete()||this.remove(n)},n.ek=function(t,e,n){return this.partManager.ek(t,e,n)},Po.prototype.moveParts=function(t,e,n,i){if(void 0===i&&(i=vr(this)),null!==this.toolManager){var o=new dt;if(null!==t)if(k(t))for(var r=0;r<t.length;r++)gr(this,o,t[r],n,i);else for(t=t.iterator;t.next();)gr(this,o,t.value,n,i);else{for(t=this.parts;t.next();)gr(this,o,t.value,n,i);for(t=this.nodes;t.next();)gr(this,o,t.value,n,i);for(t=this.links;t.next();)gr(this,o,t.value,n,i)}mr(this,o,e,i,n)}},Po.prototype.computeMove=function(t,e,n,i){if(void 0===i&&(i=new ft),i.assign(e),null===t)return i;var o=e,r=n.isGridSnapEnabled;r&&(n.isGridSnapRealtime||this.lastInput.up)&&yr(this,t,e,o=ft.alloc(),n),n=null!==t.dragComputation?t.dragComputation(t,e,o):o;var a=t.minLocation,s=a.x;isNaN(s)&&(s=r?Math.round(t.location.x):t.location.x),a=a.y,isNaN(a)&&(a=r?Math.round(t.location.y):t.location.y);var l=t.maxLocation,u=l.x;return isNaN(u)&&(u=r?Math.round(t.location.x):t.location.x),l=l.y,isNaN(l)&&(l=r?Math.round(t.location.y):t.location.y),i.h(Math.max(s,Math.min(n.x,u)),Math.max(a,Math.min(n.y,l))),o!==e&&ft.free(o),i},(n=Po.prototype).td=function(t,e,n){if(void 0===n)return new Da(xt);var i=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(i=!1),new Da(i?new ft(Math.round(n.x),Math.round(n.y)):n.copy())},n.am=function(t){wr(this,t,null),t.$d(this);var e=this.Ja,n=e.count-1;if(!t.isTemporary)for(;0<=n&&e.L(n).isTemporary;)n--;e.tb(n+1,t),null!==this.ac&&this.$a(kn,"layers",this,null,t,null,n+1),this.M(),this.Na()},n.xx=function(t,e){wr(this,t,e),t.$d(this);var n=this.Ja,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.ac&&this.$a(En,"layers",this,t,null,i,null));var o,r=n.count;for(o=0;o<r;o++)if(n.L(o)===e){n.tb(o,t);break}null!==this.ac&&this.$a(kn,"layers",this,null,t,null,o),this.M(),0>i&&this.Na()},n.Ky=function(t,e){wr(this,t,e),t.$d(this);var n=this.Ja,i=n.indexOf(t);0<=i&&(n.remove(t),null!==this.ac&&this.$a(En,"layers",this,t,null,i,null));var o,r=n.count;for(o=0;o<r;o++)if(n.L(o)===e){n.tb(o+1,t);break}null!==this.ac&&this.$a(kn,"layers",this,null,t,null,o+1),this.M(),0>i&&this.Na()},n.pA=function(t){if(t.diagram!==this&&_("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Ja,n=e.indexOf(t);if(e.remove(t)){for(e=t.Ca.copy().iterator;e.next();){var i=e.value,o=i.layerName;o!==t.name?i.layerName=o:i.layerName=""}null!==this.ac&&this.$a(En,"layers",this,t,null,n,null),this.M(),this.Na()}}},n.jm=function(t){for(var e=this.layers;e.next();){var n=e.value;if(n.name===t)return n}return null},n.zx=function(t){null===this.qe&&(this.qe=new tt),this.qe.add(t),this.model.Ah(t)},n.rA=function(t){null!==this.qe&&(this.qe.remove(t),0===this.qe.count&&(this.qe=null)),this.model.yk(t)},n.Ah=function(t){null===this.Jf&&(this.Jf=new tt),this.Jf.add(t)},n.yk=function(t){null!==this.Jf&&(this.Jf.remove(t),0===this.Jf.count&&(this.Jf=null))},n.ft=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.Hv(t),t.change!==Cn&&(this.isModified=!0),null!==this.Jf)for(var e=this.Jf,n=e.length,i=0;i<n;i++)e.L(i)(t)},n.$a=function(t,e,n,i,o,r,a){void 0===r&&(r=null),void 0===a&&(a=null);var s=new wn;s.diagram=this,s.change=t,s.propertyName=e,s.object=n,s.oldValue=i,s.oldParam=r,s.newValue=o,s.newParam=a,this.ft(s)},n.g=function(t,e,n,i,o){this.$a(Sn,t,this,e,n,i,o)},Po.prototype.changeState=function(t,e){if(null!==t&&t.diagram===this){var n=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var i=t.change;if(i===Sn){var o=t.object;if(qd(o,t.propertyName,t.H(e)),o instanceof za){var r=o.part;null!==r&&r.Lb()}this.isModified=!0}else if(i===kn){var a=t.object,s=t.newParam,l=t.newValue;if(a instanceof wl){if("number"===typeof s&&l instanceof za){e?a.Gc(s):a.tb(s,l);var u=a.part;null!==u&&u.Lb()}else if("number"===typeof s&&l instanceof Gl)if(e)l.isRow?a.cw(s):a.aw(s);else{var h=l.isRow?a.getRowDefinition(l.index):a.getColumnDefinition(l.index);h.it(l)}}else if(a instanceof Do){var c=!0===t.oldParam;"number"===typeof s&&l instanceof Zu&&(e?(l.isSelected=!1,l.isHighlighted=!1,l.Lb(),a.Gc(c?s:-1,l,c)):a.cj(s,l,c))}else a instanceof Po?"number"===typeof s&&l instanceof Do&&(e?this.Ja.ab(s):(l.$d(this),this.Ja.tb(s,l))):_("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(i===En){var d=t.object,f=t.oldParam,p=t.oldValue;if(d instanceof wl)"number"===typeof f&&p instanceof za?e?d.tb(f,p):d.Gc(f):"number"===typeof f&&p instanceof Gl&&(e?(h=p.isRow?d.getRowDefinition(p.index):d.getColumnDefinition(p.index)).it(p):p.isRow?d.cw(f):d.aw(f));else if(d instanceof Do){var g=!0===t.newParam;"number"===typeof f&&p instanceof Zu&&(e?0>d.Ca.indexOf(p)&&d.cj(f,p,g):(p.isSelected=!1,p.isHighlighted=!1,p.Lb(),d.Gc(g?f:-1,p,g)))}else d instanceof Po?"number"===typeof f&&p instanceof Do&&(e?(p.$d(this),this.Ja.tb(f,p)):this.Ja.ab(f)):_("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else i!==Cn&&_("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=n}}},Po.prototype.ua=function(t){return this.undoManager.ua(t)},Po.prototype.Va=function(t){return this.undoManager.Va(t)},Po.prototype.Bf=function(){return this.undoManager.Bf()},Po.prototype.commit=function(t,e){void 0===e&&(e="");var n=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.ua(e);var i=!1;try{t(this),i=!0}finally{i?this.undoManager.Va(e):this.undoManager.Bf(),this.skipsUndoManager=n}},Po.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},Po.prototype.Sq=function(){this.partManager.Sq()},Po.prototype.Eq=function(t,e,n,i){if(!t.w(e)){void 0===i&&(i=!1),i||ur(this),hr(this);var o=this.layout;null===o||!o.isViewportSized||this.autoScale!==sa||i||t.width===e.width&&t.height===e.height||o.C(),o=this.currentTool,!0===this.Vf&&o instanceof On&&(this.lastInput.documentPoint=this.Ut(this.lastInput.viewPoint),Pn(o,this)),this.Rb||this.Wx(t,e),Sr(this),this.Sd.scale=n,this.Sd.position.x=t.x,this.Sd.position.y=t.y,this.Sd.bounds.assign(t),this.Sd.Ov=i,this.R("ViewportBoundsChanged",this.Sd,t),this.isVirtualized&&this.links.each((function(t){t.isAvoiding&&t.actualBounds.Hc(e)&&t.Ta()}))}},Po.prototype.clearSelection=function(t){void 0===t&&(t=!1);var e=this.selection;if(0!==e.count){t||this.R("ChangingSelection",e);for(var n=e.na(),i=n.length,o=0;o<i;o++)n[o].isSelected=!1;e.ea(),e.clear(),e.freeze(),t||this.R("ChangedSelection",e)}},Po.prototype.select=function(t){null!==t&&t.layer.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.R("ChangedSelection",this.selection))},Po.prototype.vA=function(t){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),k(t))for(var e=t.length,n=0;n<e;n++){var i=t[n];i instanceof Zu||_("Diagram.selectCollection given something that is not a Part: "+i),i.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof Zu||_("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.R("ChangedSelection",this.selection)},Po.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.na(),n=e.length,i=0;i<n;i++)e[i].isHighlighted=!1;t.ea(),t.clear(),t.freeze()}},(n=Po.prototype).Rz=function(t){null!==t&&t.layer.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},n.Sz=function(t){t=(new nt).addAll(t);for(var e=this.highlighteds.copy().Iq(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof Zu||_("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},n.scroll=function(t,e,n){void 0===n&&(n=1);var i="up"===e||"down"===e,o=0;if("pixel"===t)o=n;else if("line"===t)o=n*(i?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=i?this.viewportBounds.height:this.viewportBounds.width,0!==(t*=this.scale)&&(o=n*Math.max(t-(i?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return o=this.documentBounds,n=this.viewportBounds,i=ft.alloc(),"up"===e?this.position=i.h(n.x,o.y):"left"===e?this.position=i.h(o.x,n.y):"down"===e?this.position=i.h(n.x,o.bottom-n.height):"right"===e&&(this.position=i.h(o.right-n.width,n.y)),void ft.free(i);_("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}o/=this.scale,n=this.position.copy(),"up"===e?n.y=this.position.y-o:"down"===e?n.y=this.position.y+o:"left"===e?n.x=this.position.x-o:"right"===e?n.x=this.position.x+o:_("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=n},n.hw=function(t){var e=this.viewportBounds;e.Be(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},n.gt=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},n.Qq=function(t){var e=this.nb;e.reset(),1!==this.ya&&e.scale(this.ya);var n=this.ma;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),t.copy().transform(this.nb)},n.EA=function(t){var e=this.nb,n=t.x,i=t.y,o=n+t.width,r=i+t.height,a=e.m11,s=e.m12,l=e.m21,u=e.m22,h=e.dx,c=e.dy,d=n*a+i*l+h;e=n*s+i*u+c;var f=o*a+i*l+h;return t=o*s+i*u+c,i=n*a+r*l+h,n=n*s+r*u+c,a=o*a+r*l+h,o=o*s+r*u+c,r=Math.min(d,f),d=Math.max(d,f),f=Math.min(e,t),e=Math.max(e,t),r=Math.min(r,i),d=Math.max(d,i),f=Math.min(f,n),e=Math.max(e,n),r=Math.min(r,a),d=Math.max(d,a),new Lt(r,f=Math.min(f,o),d-r,(e=Math.max(e,o))-f)},n.Ut=function(t){var e=this.nb;e.reset(),1!==this.ya&&e.scale(this.ya);var n=this.ma;return(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&e.translate(-n.x,-n.y),vt(t.copy(),this.nb)},Po.prototype.doModelChanged=function(t){var e=this;if(t.model===this.model){var n=t.change,i=t.propertyName;if(n===Cn&&"S"===i[0])if("StartingFirstTransaction"===i){var o=this;(t=this.toolManager).mouseDownTools.each((function(t){t.diagram=o})),t.mouseMoveTools.each((function(t){t.diagram=o})),t.mouseUpTools.each((function(t){t.diagram=o})),this.Cc||this.ke||(this.sj=!0,this.vj&&(this.ye=!0))}else"StartingUndo"===i||"StartingRedo"===i?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Xc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===i&&((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Xc());else if(this.Z){this.Z=!1;try{if(""===t.modelChange&&n===Cn){"FinishedUndo"!==i&&"FinishedRedo"!==i||(this.R("ChangedSelection",this.selection),or(this));var r=this.animationManager;"RolledBackTransaction"===i&&r.Xc(),this.sj=!0,this.Wc(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||io(r),"CommittedTransaction"===i&&this.undoManager.Gu&&(this.Jd=Math.min(this.Jd,this.undoManager.historyIndex-1)),"CommittedTransaction"!==i&&"RolledBackTransaction"!==i||!this.undoManager.isPendingUnmodified||setTimeout((function(){e.isModified=!1}),1);var a=t.isTransactionFinished;if(a&&(kr(this),this.Ct.clear(),function(t){for(t=t.Ek.iterator;t.next();)t.value.ql=!1}(this.animationManager)),!this.ls&&a){this.ls=!0;var s=this;v((function(){s.currentTool.standardMouseOver(),s.ls=!1}),10)}}}finally{this.Z=!0}}}},Po.prototype.zd=function(){this.partManager.zd()},Po.prototype.Wj=function(t,e){this.Kc.Wj(t,e)},Po.prototype.Yj=function(t,e){this.Kc.Yj(t,e)},Po.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},Po.prototype.Kb=function(t){return this.partManager.Kb(t)},Po.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(n=Po.prototype).xc=function(t){return this.partManager.xc(t)},n.Ui=function(t){return this.partManager.Ui(t)},n.wc=function(t){return this.partManager.wc(t)},n.ot=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.partManager.ot.apply(this.partManager,e instanceof Array?e:r(o(e)))},n.nt=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return this.partManager.nt.apply(this.partManager,e instanceof Array?e:r(o(e)))},n.xz=function(){for(var t=new nt,e=this.nodes;e.next();){var n=e.value;n.isTopLevel&&t.add(n)}for(e=this.links;e.next();)(n=e.value).isTopLevel&&t.add(n);return t.iterator},n.wz=function(){return this.wh.iterator},n.cA=function(t){or(this),t&&Or(this,!0),this.sj=!0,ir(this)},n.Dz=function(){for(var t=new tt,e=this.nodes;e.next();){var n=e.value;n.isTopLevel&&null===n.Xi()&&t.add(n)}return t.iterator},n.Xj=function(t,e){null!==(t=Fr(this,t))&&t.add(e)},n.ym=function(t,e){null!==(t=Fr(this,t))&&t.remove(e)},n.R=function(t,e,n){var i=Fr(this,t),o=new xn;if(o.diagram=this,null!==(t=Nr(this,t))&&(o.name=t),void 0!==e&&(o.subject=e),void 0!==n&&(o.parameter=n),1===(e=i.length))i.L(0)(o);else if(0!==e)for(i=i.na(),n=0;n<e;n++)(0,i[n])(o)},n.nk=function(t,e){return void 0===e&&(e=null),Vr(this,!1,null,e).nk(t.x,t.y,t.width,t.height)},Po.prototype.computeOccupiedArea=function(){return this.isVirtualized?this.viewportBounds.copy():this.ki?Wo(this):this.documentBounds.copy()},Po.prototype.kt=function(t){this.an.assign(t),this.computeAutoScrollPosition(this.an).Ma(this.position)?this.Cf():function t(e){-1===e.mj&&(e.mj=v((function(){if(-1!==e.mj&&(e.Cf(),null!==e.lastInput.event)){var n=e.computeAutoScrollPosition(e.an);n.Ma(e.position)||(e.position=n,e.lastInput.documentPoint=e.Ut(e.an),e.doMouseMove(),e.ki=!0,Dr(e,e.documentBounds.copy().Ic(e.computeBounds())),e.Bc=!0,e.Wc(),t(e))}}),e.$m))}(this)},Po.prototype.Cf=function(){-1!==this.mj&&(p.clearTimeout(this.mj),this.mj=-1)},Po.prototype.computeAutoScrollPosition=function(t){var e=this.position,n=this.bn;if(0>=n.top&&0>=n.left&&0>=n.right&&0>=n.bottom)return e;var i=this.viewportBounds,o=this.scale;i=Lt.allocAt(0,0,i.width*o,i.height*o);var r=ft.allocAt(0,0);if(t.x>=i.x&&t.x<i.x+n.left){var a=Math.max(this.scrollHorizontalLineChange,1);a|=0,r.x-=a,t.x<i.x+n.left/2&&(r.x-=a),t.x<i.x+n.left/4&&(r.x-=4*a)}else t.x<=i.x+i.width&&t.x>i.x+i.width-n.right&&(a=Math.max(this.scrollHorizontalLineChange,1),a|=0,r.x+=a,t.x>i.x+i.width-n.right/2&&(r.x+=a),t.x>i.x+i.width-n.right/4&&(r.x+=4*a));return t.y>=i.y&&t.y<i.y+n.top?(a=Math.max(this.scrollVerticalLineChange,1),a|=0,r.y-=a,t.y<i.y+n.top/2&&(r.y-=a),t.y<i.y+n.top/4&&(r.y-=4*a)):t.y<=i.y+i.height&&t.y>i.y+i.height-n.bottom&&(a=Math.max(this.scrollVerticalLineChange,1),a|=0,r.y+=a,t.y>i.y+i.height-n.bottom/2&&(r.y+=a),t.y>i.y+i.height-n.bottom/4&&(r.y+=4*a)),r.Ma(xt)||(e=new ft(e.x+r.x/o,e.y+r.y/o)),Lt.free(i),ft.free(r),e},(n=Po.prototype).Et=function(){return null},n.Pv=function(){return null},n.Oy=function(t,e){this.mx.add(t,e)},n.eA=function(t){return oa?(void 0===t&&(t=new q),t.returnType="Image",this.Yx(t)):null},n.Yx=function(t){return void 0===t&&(t=new q),Hr(this,this.fA,t)},n.fA=function(t,e,n){var i=Wr(n,t,"canvas",null);if(null===i)return null;var o=null;if(null!==(n=i.Y.canvas))switch(o=t.returnType,o=void 0===o?"string":o.toLowerCase(),o){case"imagedata":o=i.getImageData(0,0,n.width,n.height);break;case"image":(i=(t.document||document).createElement("img")).src=n.toDataURL(t.type,t.details),o=i;break;case"blob":return"function"!==typeof e&&_('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"===typeof n.toBlob?(n.toBlob(e,t.type,t.details),"toBlob"):"function"===typeof n.msToBlob?(e(n.msToBlob()),"msToBlob"):(e(null),null);default:o=n.toDataURL(t.type,t.details)}return"function"===typeof e?(e(o),null):o},d.Object.defineProperties(Po.prototype,{div:{get:function(){return this.La},set:function(t){if(this.La!==t){G=[];var e=this.La;null!==e?(e.B=void 0,e.innerHTML="",null!==this.sa&&(e=this.sa.Ea,this.removeEventListener(e,"touchstart",this.tw,!1),this.removeEventListener(e,"touchmove",this.sw,!1),this.removeEventListener(e,"touchend",this.rw,!1),this.sa.Jx()),null!==(e=this.toolManager)&&(e.mouseDownTools.each((function(t){t.cancelWaitAfter()})),e.mouseMoveTools.each((function(t){t.cancelWaitAfter()})),e.mouseUpTools.each((function(t){t.cancelWaitAfter()}))),e.cancelWaitAfter(),this.currentTool.doCancel(),this.Eb=this.sa=null,this.removeEventListener(p,"resize",this.zw,!1),this.removeEventListener(p,"mousemove",this.sk,!0),this.removeEventListener(p,"mousedown",this.rk,!0),this.removeEventListener(p,"mouseup",this.uk,!0),this.removeEventListener(p,"wheel",this.vk,!0),this.removeEventListener(p,"mouseout",this.tk,!0),ta===this&&(ta=null)):this.ke=!1,this.La=null,null!==t&&((e=t.B)&&(e.div=null),Ta(this,t),this.Zd())}}},Bx:{get:function(){return this.Ko}},mk:{get:function(){return this.ke}},draggedLink:{get:function(){return this.Br},set:function(t){this.Br!==t&&(this.Br=t,null!==t&&(this.ps=t.fromPort,this.qs=t.toPort))}},ay:{get:function(){return this.ps},set:function(t){this.ps=t}},by:{get:function(){return this.qs},set:function(t){this.qs=t}},animationManager:{get:function(){return this.Kc}},undoManager:{get:function(){return this.ac.undoManager}},skipsUndoManager:{get:function(){return this.pg},set:function(t){this.pg=t,this.ac.skipsUndoManager=t}},delaysLayout:{get:function(){return this.wr},set:function(t){this.wr=t}},opacity:{get:function(){return this.rb},set:function(t){var e=this.rb;e!==t&&((0>t||1<t)&&x(t,"0 <= value <= 1",Po,"opacity"),this.rb=t,this.g("opacity",e,t),this.M())}},validCycle:{get:function(){return this.at},set:function(t){var e=this.at;e!==t&&(this.at=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Ja.iterator}},isModelReadOnly:{get:function(){var t=this.ac;return null!==t&&t.isReadOnly},set:function(t){var e=this.ac;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.Wf},set:function(t){var e=this.Wf;e!==t&&(this.Wf=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(this.ad=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.Xq},set:function(t){var e=this.Xq;e!==t&&(this.Xq=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.Rh},set:function(t){var e=this.Rh;e!==t&&(this.Rh=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Sh},set:function(t){var e=this.Sh;e!==t&&(this.Sh=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.Yq},set:function(t){var e=this.Yq;e!==t&&(this.Yq=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.Zq},set:function(t){var e=this.Zq;e!==t&&(this.Zq=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Th},set:function(t){var e=this.Th;e!==t&&(this.Th=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.ar},set:function(t){var e=this.ar;e!==t&&(this.ar=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.Uh},set:function(t){var e=this.Uh;e!==t&&(this.Uh=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Wh},set:function(t){var e=this.Wh;e!==t&&(this.Wh=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Vh},set:function(t){var e=this.Vh;e!==t&&(this.Vh=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Xh},set:function(t){var e=this.Xh;e!==t&&(this.Xh=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Yh},set:function(t){var e=this.Yh;e!==t&&(this.Yh=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Zh},set:function(t){var e=this.Zh;e!==t&&(this.Zh=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.br},set:function(t){var e=this.br;e!==t&&(this.br=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.dr},set:function(t){var e=this.dr;e!==t&&(this.dr=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.el},set:function(t){var e=this.el;e!==t&&(this.el=t,ur(this),this.M(),this.g("hasVerticalScrollbar",e,t),Go(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.dl},set:function(t){var e=this.dl;e!==t&&(this.dl=t,ur(this),this.M(),this.g("hasHorizontalScrollbar",e,t),Go(this,!1))}},allowHorizontalScroll:{get:function(){return this.$q},set:function(t){var e=this.$q;e!==t&&(this.$q=t,this.g("allowHorizontalScroll",e,t),Go(this,!1))}},allowVerticalScroll:{get:function(){return this.cr},set:function(t){var e=this.cr;e!==t&&(this.cr=t,this.g("allowVerticalScroll",e,t),Go(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.Gs},set:function(t){var e=this.Gs;e!==t&&(0>t&&x(t,">= 0",Po,"scrollHorizontalLineChange"),this.Gs=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.Ks},set:function(t){var e=this.Ks;e!==t&&(0>t&&x(t,">= 0",Po,"scrollVerticalLineChange"),this.Ks=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.$g},set:function(t){this.$g=t}},firstInput:{get:function(){return this.Rf},set:function(t){this.Rf=t}},currentCursor:{get:function(){return this.qr},set:function(t){if(""===t&&(t=this.yn),this.qr!==t){var e=this.sa,n=this.La;if(null!==e){this.qr=t;var i=e.style.cursor;e.style.cursor=t,n.style.cursor=t,e.style.cursor===i&&(e.style.cursor="-webkit-"+t,n.style.cursor="-webkit-"+t,e.style.cursor===i&&(e.style.cursor="-moz-"+t,n.style.cursor="-moz-"+t,e.style.cursor===i&&(e.style.cursor=t,n.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.yn},set:function(t){""===t&&(t="auto");var e=this.yn;e!==t&&(this.yn=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.Kf},set:function(t){var e=this.Kf;e!==t&&(this.Kf=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.Pf},set:function(t){var e=this.Pf;e!==t&&(this.Pf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.Lf},set:function(t){var e=this.Lf;e!==t&&(this.Lf=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.hg},set:function(t){var e=this.hg;e!==t&&(this.hg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.fg},set:function(t){var e=this.fg;e!==t&&(this.fg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.eg},set:function(t){var e=this.eg;e!==t&&(this.eg=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.ks},set:function(t){var e=this.ks;e!==t&&(this.ks=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.cg},set:function(t){var e=this.cg;e!==t&&(this.cg=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.Lr},set:function(t){var e=this.Lr;e!==t&&(this.Lr=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.dg},set:function(t){var e=this.dg;e!==t&&(this.dg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.gg},set:function(t){var e=this.gg;e!==t&&(this.gg=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.rg},set:function(t){var e=this.rg;e!==t&&(this.rg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.Mf},set:function(t){var e=this.Mf;e!==t&&(this.Mf=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.jr},set:function(t){this.jr!==t&&(this.jr=t,t.$d(this))}},toolManager:{get:function(){return this.Xs},set:function(t){this.Xs!==t&&(this.Xs=t,t.diagram=this)}},defaultTool:{get:function(){return this.vr},set:function(t){var e=this.vr;e!==t&&(this.vr=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.sr},set:function(t){var e=this.sr;null!==e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.sr=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.Wu}},maxSelectionCount:{get:function(){return this.fs},set:function(t){var e=this.fs;if(e!==t)if(0<=t&&!isNaN(t)){if(this.fs=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.R("ChangingSelection",this.selection),e=this.selection.na();for(var n=0;n<t;n++)e[n].isSelected=!1;this.R("ChangedSelection",this.selection)}}else x(t,">= 0",Po,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.To},set:function(t){var e=this.To;e!==t&&(this.To=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.Xn},set:function(t){var e=this.Xn;e!==t&&(this.Xn=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.so},set:function(t){var e=this.so;e!==t&&(this.so=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.wu}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.bo&&this.Jd!==t.historyIndex:this.bo},set:function(t){if(this.bo!==t){this.bo=t;var e=this.undoManager;!t&&e.isEnabled&&(this.Jd=e.historyIndex),t||kr(this)}}},model:{get:function(){return this.ac},set:function(t){var e=this.ac;if(e!==t){this.currentTool.doCancel(),null!==e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&_("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Xc(!0);var n=Ao(this,!0);this.ke=!1,this.vj=!0,this.Jd=-2,this.ye=!1;var i=this.Cc;this.Cc=!0,eo(this.animationManager,"Model"),null!==e&&(null!==this.qe&&this.qe.each((function(t){e.yk(t)})),e.yk(this.Jc)),this.ac=t,this.partManager=function(t){return null!==(t=ea.get(t))?new t:new ad}(this.ac.constructor.type);for(var o=0;o<n.length;o++)this.add(n[o]);t.Ah(this.kd),this.partManager.addAllModeledParts(),t.yk(this.kd),t.Ah(this.Jc),null!==this.qe&&this.qe.each((function(e){t.Ah(e)})),this.Cc=i,this.Rb||this.M(),null!==e&&t.undoManager.copyProperties(e.undoManager)}}},Z:{get:function(){return this.Fu},set:function(t){this.Fu=t}},Ct:{get:function(){return this.ax}},skipsModelSourceBindings:{get:function(){return this.Xu},set:function(t){this.Xu=t}},Tt:{get:function(){return this.Ps},set:function(t){this.Ps=t}},nodeTemplate:{get:function(){return this.Ze.H("")},set:function(t){var e=this.Ze.H("");e!==t&&(this.Ze.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.zd())}},nodeTemplateMap:{get:function(){return this.Ze},set:function(t){var e=this.Ze;e!==t&&(this.Ze=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.zd())}},groupTemplate:{get:function(){return this.Yg.H("")},set:function(t){var e=this.Yg.H("");e!==t&&(this.Yg.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.zd())}},groupTemplateMap:{get:function(){return this.Yg},set:function(t){var e=this.Yg;e!==t&&(this.Yg=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.zd())}},linkTemplate:{get:function(){return this.Yf.H("")},set:function(t){var e=this.Yf.H("");e!==t&&(this.Yf.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.zd())}},linkTemplateMap:{get:function(){return this.Yf},set:function(t){var e=this.Yf;e!==t&&(this.Yf=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.zd())}},isMouseCaptured:{get:function(){return this.Bu},set:function(t){var e=this.sa;null!==e&&((e=e.Ea)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.Wm?(this.removeEventListener(e,"pointermove",this.um,!1),this.removeEventListener(e,"pointerdown",this.tm,!1),this.removeEventListener(e,"pointerup",this.wm,!1),this.removeEventListener(e,"pointerout",this.vm,!1),this.addEventListener(p,"pointermove",this.um,!0),this.addEventListener(p,"pointerdown",this.tm,!0),this.addEventListener(p,"pointerup",this.wm,!0),this.addEventListener(p,"pointerout",this.vm,!0)):(this.removeEventListener(e,"mousemove",this.sk,!1),this.removeEventListener(e,"mousedown",this.rk,!1),this.removeEventListener(e,"mouseup",this.uk,!1),this.removeEventListener(e,"mouseout",this.tk,!1),this.addEventListener(p,"mousemove",this.sk,!0),this.addEventListener(p,"mousedown",this.rk,!0),this.addEventListener(p,"mouseup",this.uk,!0),this.addEventListener(p,"mouseout",this.tk,!0)),this.removeEventListener(e,"wheel",this.vk,!1),this.addEventListener(p,"wheel",this.vk,!0),this.addEventListener(p,"selectstart",this.preventDefault,!1)):(this.Wm?(this.removeEventListener(p,"pointermove",this.um,!0),this.removeEventListener(p,"pointerdown",this.tm,!0),this.removeEventListener(p,"pointerup",this.wm,!0),this.removeEventListener(p,"pointerout",this.vm,!0),this.addEventListener(e,"pointermove",this.um,!1),this.addEventListener(e,"pointerdown",this.tm,!1),this.addEventListener(e,"pointerup",this.wm,!1),this.addEventListener(e,"pointerout",this.vm,!1)):(this.removeEventListener(p,"mousemove",this.sk,!0),this.removeEventListener(p,"mousedown",this.rk,!0),this.removeEventListener(p,"mouseup",this.uk,!0),this.removeEventListener(p,"mouseout",this.tk,!0),this.addEventListener(e,"mousemove",this.sk,!1),this.addEventListener(e,"mousedown",this.rk,!1),this.addEventListener(e,"mouseup",this.uk,!1),this.addEventListener(e,"mouseout",this.tk,!1)),this.removeEventListener(p,"wheel",this.vk,!0),this.removeEventListener(p,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.vk,!1)),this.Bu=t))}},position:{get:function(){return this.ma},set:function(t){var e=ft.alloc().assign(this.ma);if(!e.w(t)){var n=this.viewportBounds.copy();this.ma.assign(t),so(this.animationManager,e,this.ma),this.Rb||null===this.sa&&!this.$l.v()||(this.Rb=!0,t=this.scale,$o(this,this.An,this.wa/t,this.va/t,this.oj,!1),this.Rb=!1),this.Rb||this.Eq(n,this.viewportBounds,this.ya,!1)}ft.free(e)}},initialPosition:{get:function(){return this.Nr},set:function(t){this.Nr.w(t)||(this.Nr=t.G())}},initialScale:{get:function(){return this.Or},set:function(t){this.Or!==t&&(this.Or=t)}},grid:{get:function(){return null===this.Gb&&jo(this),this.Gb},set:function(t){var e=this.Gb;if(e!==t){null===e&&(jo(this),e=this.Gb),t.type!==wl.Grid&&_("Diagram.grid must be a Panel of type Panel.Grid");var n=e.panel;null!==n&&n.remove(e),this.Gb=t,t.name="GRID",null!==n&&n.add(t),Sr(this),this.M(),this.g("grid",e,t)}}},viewportBounds:{get:function(){var t=this.ux,e=this.ma,n=this.ya;return null===this.sa?(this.$l.v()&&t.h(e.x,e.y,this.wa/n,this.va/n),t):(t.h(e.x,e.y,Math.max(this.wa,0)/n,Math.max(this.va,0)/n),t)}},viewSize:{get:function(){return this.$l},set:function(t){var e=this.viewSize;e.w(t)||(this.$l=t=t.G(),this.wa=t.width,this.va=t.height,this.Na(),this.g("viewSize",e,t))}},fixedBounds:{get:function(){return this.Ir},set:function(t){var e=this.Ir;e.w(t)||(-1/0!==t.width&&1/0!==t.height&&-1/0!==t.height||_("fixedBounds width/height must not be Infinity"),this.Ir=t=t.G(),this.Na(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.Hi},set:function(t){"number"===typeof t&&(t=new Jt(t));var e=this.Hi;e.w(t)||(this.Hi=t=t.G(),this.g("scrollMargin",e,t),this.Zd())}},scrollMode:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,t===ma&&Go(this,!1),this.g("scrollMode",e,t),this.M())}},scrollsPageOnFocus:{get:function(){return this.Ls},set:function(t){var e=this.Ls;e!==t&&(this.Ls=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.ys},set:function(t){var e=this.ys;e!==t&&(this.ys=t,Go(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.Es},set:function(t){var e=this.Es;e!==t&&(this.Es=t,Cr(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.An}},isVirtualized:{get:function(){return this.Yr},set:function(t){var e=this.Yr;e!==t&&(this.Yr=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.ya},set:function(t){var e=this.ya;e!==t&&Cr(this,e,t)}},defaultScale:{get:function(){return this.zn},set:function(t){this.zn=t}},autoScale:{get:function(){return this.Ig},set:function(t){var e=this.Ig;e!==t&&(this.Ig=t,this.g("autoScale",e,t),t!==sa&&Go(this,!1))}},initialAutoScale:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.Pr},set:function(t){var e=this.Pr;e!==t&&(t.hb()||_("initialViewportSpot must be a specific Spot: "+t),this.Pr=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.Mr},set:function(t){var e=this.Mr;e!==t&&(t.hb()||_("initialViewportSpot must be a specific Spot: "+t),this.Mr=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.gs},set:function(t){var e=this.gs;e!==t&&(0<t?(this.gs=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):x(t,"> 0",Po,"minScale"))}},maxScale:{get:function(){return this.es},set:function(t){var e=this.es;e!==t&&(0<t?(this.es=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):x(t,"> 0",Po,"maxScale"))}},zoomPoint:{get:function(){return this.dt},set:function(t){this.dt.w(t)||(this.dt=t=t.G())}},contentAlignment:{get:function(){return this.oj},set:function(t){var e=this.oj;e.w(t)||(this.oj=t=t.G(),this.g("contentAlignment",e,t),Go(this,!1))}},initialContentAlignment:{get:function(){return this.Zn},set:function(t){var e=this.Zn;e.w(t)||(this.Zn=t=t.G(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.fb},set:function(t){"number"===typeof t&&(t=new Jt(t));var e=this.fb;e.w(t)||(this.fb=t=t.G(),this.Na(),this.g("padding",e,t))}},partManager:{get:function(){return this.Ia},set:function(t){var e=this.Ia;e!==t&&(null!==t.diagram&&_("Cannot share PartManagers between Diagrams: "+t.toString()),null!==e&&e.$d(null),this.Ia=t,t.$d(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.ic},set:function(t){var e=this.ic;e!==t&&(this.ic=t,t.diagram=this,t.group=null,this.Le=!0,this.g("layout",e,t),this.Pb())}},isTreePathToChildren:{get:function(){return this.Xr},set:function(t){var e=this.Xr;if(e!==t&&(this.Xr=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)kh(t.value)}},treeCollapsePolicy:{get:function(){return this.Zs},set:function(t){var e=this.Zs;e!==t&&(t!==ya&&t!==_a&&t!==ba&&_("Unknown Diagram.treeCollapsePolicy: "+t),this.Zs=t,this.g("treeCollapsePolicy",e,t))}},Ee:{get:function(){return this.zu},set:function(t){this.zu=t}},autoScrollInterval:{get:function(){return this.$m},set:function(t){var e=this.$m;e!==t&&(this.$m=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.bn},set:function(t){"number"===typeof t&&(t=new Jt(t));var e=this.bn;e.w(t)||(this.bn=t=t.G(),this.Na(),this.g("autoScrollRegion",e,t))}}}),d.Object.defineProperties(Po,{licenseKey:{get:function(){return xa.Xb()},set:function(t){xa.add(t)}},version:{get:function(){return wa}}}),Po.prototype.makeImageData=Po.prototype.Yx,Po.prototype.makeImage=Po.prototype.eA,Po.prototype.addRenderer=Po.prototype.Oy,Po.prototype.makeSVG=Po.prototype.Pv,Po.prototype.makeSvg=Po.prototype.Et,Po.prototype.stopAutoScroll=Po.prototype.Cf,Po.prototype.doAutoScroll=Po.prototype.kt,Po.prototype.isUnoccupied=Po.prototype.nk,Po.prototype.raiseDiagramEvent=Po.prototype.R,Po.prototype.removeDiagramListener=Po.prototype.ym,Po.prototype.addDiagramListener=Po.prototype.Xj,Po.prototype.findTreeRoots=Po.prototype.Dz,Po.prototype.layoutDiagram=Po.prototype.cA,Po.prototype.findTopLevelGroups=Po.prototype.wz,Po.prototype.findTopLevelNodesAndLinks=Po.prototype.xz,Po.prototype.findLinksByExample=Po.prototype.nt,Po.prototype.findNodesByExample=Po.prototype.ot,Po.prototype.findLinkForData=Po.prototype.wc,Po.prototype.findNodeForData=Po.prototype.Ui,Po.prototype.findPartForData=Po.prototype.xc,Po.prototype.findLinkForKey=Po.prototype.findLinkForKey,Po.prototype.findNodeForKey=Po.prototype.Kb,Po.prototype.findPartForKey=Po.prototype.findPartForKey,Po.prototype.rebuildParts=Po.prototype.zd,Po.prototype.transformViewToDoc=Po.prototype.Ut,Po.prototype.transformRectDocToView=Po.prototype.EA,Po.prototype.transformDocToView=Po.prototype.Qq,Po.prototype.centerRect=Po.prototype.gt,Po.prototype.scrollToRect=Po.prototype.hw,Po.prototype.scroll=Po.prototype.scroll,Po.prototype.highlightCollection=Po.prototype.Sz,Po.prototype.highlight=Po.prototype.Rz,Po.prototype.selectCollection=Po.prototype.vA,Po.prototype.select=Po.prototype.select,Po.prototype.updateAllRelationshipsFromData=Po.prototype.Sq,Po.prototype.updateAllTargetBindings=Po.prototype.updateAllTargetBindings,Po.prototype.commit=Po.prototype.commit,Po.prototype.rollbackTransaction=Po.prototype.Bf,Po.prototype.commitTransaction=Po.prototype.Va,Po.prototype.startTransaction=Po.prototype.ua,Po.prototype.raiseChanged=Po.prototype.g,Po.prototype.raiseChangedEvent=Po.prototype.$a,Po.prototype.removeChangedListener=Po.prototype.yk,Po.prototype.addChangedListener=Po.prototype.Ah,Po.prototype.removeModelChangedListener=Po.prototype.rA,Po.prototype.addModelChangedListener=Po.prototype.zx,Po.prototype.findLayer=Po.prototype.jm,Po.prototype.removeLayer=Po.prototype.pA,Po.prototype.addLayerAfter=Po.prototype.Ky,Po.prototype.addLayerBefore=Po.prototype.xx,Po.prototype.addLayer=Po.prototype.am,Po.prototype.moveParts=Po.prototype.moveParts,Po.prototype.copyParts=Po.prototype.ek,Po.prototype.removeParts=Po.prototype.Nt,Po.prototype.remove=Po.prototype.remove,Po.prototype.add=Po.prototype.add,Po.prototype.clearDelayedGeometries=Po.prototype.lv,Po.prototype.setProperties=Po.prototype.mw,Po.prototype.resetInputOptions=Po.prototype.ew,Po.prototype.setInputOption=Po.prototype.wA,Po.prototype.getInputOption=Po.prototype.nm,Po.prototype.resetRenderingHints=Po.prototype.fw,Po.prototype.setRenderingHint=Po.prototype.py,Po.prototype.getRenderingHint=Po.prototype.De,Po.prototype.maybeUpdate=Po.prototype.Wc,Po.prototype.requestUpdate=Po.prototype.Pb,Po.prototype.delayInitialization=Po.prototype.cz,Po.prototype.isUpdateRequested=Po.prototype.Yz,Po.prototype.redraw=Po.prototype.Zd,Po.prototype.invalidateDocumentBounds=Po.prototype.Na,Po.prototype.findObjectsNear=Po.prototype.xg,Po.prototype.findPartsNear=Po.prototype.sz,Po.prototype.findObjectsIn=Po.prototype.uf,Po.prototype.findPartsIn=Po.prototype.Qx,Po.prototype.findObjectsAt=Po.prototype.Vi,Po.prototype.findPartsAt=Po.prototype.rz,Po.prototype.findObjectAt=Po.prototype.Ub,Po.prototype.findPartAt=Po.prototype.km,Po.prototype.focusObject=Po.prototype.Ez,Po.prototype.alignDocument=Po.prototype.Qy,Po.prototype.zoomToRect=Po.prototype.HA,Po.prototype.zoomToFit=Po.prototype.zoomToFit,Po.prototype.diagramScroll=Po.prototype.Ix,Po.prototype.focus=Po.prototype.focus,Po.prototype.reset=Po.prototype.reset,Po.useDOM=function(t){oa=!!t&&void 0!==p.document},Po.isUsingDOM=function(){return oa};var Gr,Kr,$r,Ur,qr,Yr,Xr,Zr,Jr,Qr,ta=null,ea=new dt,na=null,ia=null,oa=void 0!==p.document,ra=null,aa="",sa=new K(Po,"None",0),la=new K(Po,"Uniform",1),ua=new K(Po,"UniformToFill",2),ha=new K(Po,"CycleAll",10),ca=new K(Po,"CycleNotDirected",11),da=new K(Po,"CycleNotDirectedFast",12),fa=new K(Po,"CycleNotUndirected",13),pa=new K(Po,"CycleDestinationTree",14),ga=new K(Po,"CycleSourceTree",15),ma=new K(Po,"DocumentScroll",1),va=new K(Po,"InfiniteScroll",2),ya=new K(Po,"TreeParentCollapsed",21),_a=new K(Po,"AllParentsCollapsed",22),ba=new K(Po,"AnyParentsCollapsed",23),xa=new tt,wa="2.1.22",Ca=null,Sa=!1;function ka(){if(oa){var t=p.document.createElement("canvas"),e=t.getContext("2d"),n=N("7ca11abfd022028846");e[n]=N("398c3597c01238");for(var i=["5da73c80a36455d5038e4972187c3cae51fd22",g.Dx+"4ae6247590da4bb21c324ba3a84e385776",Ke.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",Ue.za],o=1;5>o;o++)e[N("7ca11abfd7330390")](N(i[o-1]),10,15*o);for(e[n]=N("39f046ebb36e4b"),n=1;5>n;n++)e[N("7ca11abfd7330390")](N(i[n-1]),10,15*n);Ca=t}}function Ea(){this.Gy=null,this.l="zz@orderNum","63ad05bbe23a1786468a4c741b6d2"===this._tk?this.Qe=this.l=!0:this.Qe=null}function Ia(t,e){if(e.Eb.setTransform(e.Sb,0,0,e.Sb,0,0),null===t.Qe){e="f";var n=p[N("76a715b2f73f148a")][N("72ba13b5")];if(t.Qe=!0,oa){var i=Po[N("76a115b6ed251eaf4692")];if(i)for(var o=xa.iterator;o.next()&&!(6>(i=N(i=o.value).split(N("39e9"))).length);){var r=N(i[1]).split(".");if("7da71ca0"!==i[4])break;var a=N(g[N("6cae19")]).split(".");if(r[0]>a[0]||r[0]===a[0]&&r[1]>=a[1]){for(r=n[N("76ad18b4f73e")],a=n[N("73a612b6fb191d")](N("35e7"))+2;a<r;a++)e+=n[a];if(0>(r=e[N("73a612b6fb191d")](N(i[2])))&&N(i[2])!==N("7da71ca0ad381e90")&&(r=e[N("73a612b6fb191d")](N("76a715b2ef3e149757"))),0>r&&(r=e[N("73a612b6fb191d")](N("76a715b2ef3e149757"))),0>r&&(r=n[N("73a612b6fb191d")](N("7baa19a6f76c1988428554"))),t.Qe=!(0<=r&&r<e[N("73a612b6fb191d")](N("35"))||-1===e[N("73a612b6fb191d")](N("35"))),!t.Qe)break;if("#"!==(r=N(i[2]))[0])break;a=p.document.createElement("div");for(var s=i[0].replace(/[A-Za-z]/g,"");4>s.length;)s+="9";if(s=s.substr(s.length-4),i="",i+=["gsh","gsf"][parseInt(s.substr(0,1),10)%2],i+=["Header","Background","Display","Feedback"][parseInt(s.substr(0,1),10)%4],a[N("79a417a0f0181a8946")]=i,p.document[N("78a712aa")]){if(p.document[N("78a712aa")][N("7bb806b6ed32388c4a875b")](a),s=p.getComputedStyle(a).getPropertyValue(N("78a704b7e62456904c9b12701b6532a8")),p.document[N("78a712aa")][N("68ad1bbcf533388c4a875b")](a),!s)break;if(-1!==s.indexOf(parseInt(r[1]+r[2],16))&&-1!==s.indexOf(parseInt(r[3]+r[4],16))){t.Qe=!1;break}if(F||L||V||j)for(i="."+i,r=0;r<document.styleSheets.length;r++)for(var l in a=document.styleSheets[r].rules||document.styleSheets[r].cssRules)if(i===a[l].selectorText){t.Qe=!1;break}}else t.Qe=null,t.Qe=!1}}else{for(l=n[N("76ad18b4f73e")],o=n[N("73a612b6fb191d")](N("35e7"))+2;o<l;o++)e+=n[o];n=e[N("73a612b6fb191d")](N("7da71ca0ad381e90")),t.Qe=!(0<=n&&n<e[N("73a612b6fb191d")](N("35")))}}}return 0<t.Qe&&t!==t.Gy}function Ta(t,e){if(oa){void 0!==e&&null!==e||_("Diagram setup requires an argument DIV."),null!==t.La&&_("Diagram has already completed setup."),"string"===typeof e?t.La=p.document.getElementById(e):e instanceof HTMLDivElement?t.La=e:_("No DIV or DIV id supplied: "+e),null===t.La&&_("Invalid DIV id; could not get element with id: "+e),void 0!==t.La.B&&_("Invalid div id; div already has a Diagram associated with it."),"static"===p.getComputedStyle(t.La,null).position&&(t.La.style.position="relative"),t.La.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",t.La.style["-ms-touch-action"]="none",t.La.innerHTML="",t.La.B=t;var n=t.Rp?new xs(t):new Ts(t);if(void 0!==n.style&&(n.style.position="absolute",n.style.top="0px",n.style.left="0px","rtl"===p.getComputedStyle(t.La,null).getPropertyValue("direction")&&(t.ol=!0),n.style.zIndex="2",n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none"),t.sa=n,t.Eb=n.context,e=t.Eb,t.Sb=t.computePixelRatio(),t.wa=t.La.clientWidth||1,t.va=t.La.clientHeight||1,dr(t,t.wa,t.va),t.Cr=e.Y[N("7eba17a4ca3b1a8346")][N("78a118b7")](e.Y,Ca,4,4),t.La.insertBefore(n.Ea,t.La.firstChild),(n=new Ts(null)).width=1,n.height=1,t.ou=n,t.Uw=n.context,oa){n=y("div");var i=y("div");n.style.position="absolute",n.style.overflow="auto",n.style.width=t.wa+"px",n.style.height=t.va+"px",n.style.zIndex="1",i.style.position="absolute",i.style.width="1px",i.style.height="1px",t.La.appendChild(n),n.appendChild(i),n.onscroll=zo,n.addEventListener("mousedown",Ho),n.addEventListener("touchstart",Ho,{passive:!0}),n.B=t,n.Ey=!0,n.Fy=!0,t.Is=n,t.yp=i}t.Lt=m((function(){t.rh=null,t.M()}),300),t.zw=m((function(){Lo(t)}),250),t.preventDefault=function(t){return t.preventDefault(),!1},t.sk=function(e){if(t.isEnabled){t.Vf=!0;var n=qo(t,e,!0);t.doMouseMove(),t.currentTool.isBeyondDragSize()&&(t.pd=0),Qo(n,e)}},t.rk=function(e){if(t.isEnabled)if(t.Vf=!0,t.le)e.preventDefault();else{var n=qo(t,e,!0);n.down=!0,n.clickCount=e.detail,(L||V)&&(e.timeStamp-t.Dj<t.Ys&&!t.currentTool.isBeyondDragSize()?t.pd++:t.pd=1,t.Dj=e.timeStamp,n.clickCount=t.pd),n.clone(t.firstInput),t.doMouseDown(),1===e.button?e.preventDefault():Qo(n,e)}},t.uk=function(e){if(t.isEnabled)if(t.le&&2===e.button)e.preventDefault();else if(t.le&&0===e.button&&(t.le=!1),t.Sj)e.preventDefault();else{t.Vf=!0;var n=qo(t,e,!0);n.up=!0,n.clickCount=e.detail,(L||V)&&(n.clickCount=t.pd),n.bubbles=e.bubbles,n.targetDiagram=Yo(e),t.doMouseUp(),t.Cf(),Qo(n,e)}},t.vk=function(e){if(t.isEnabled){var n=qo(t,e,!0);n.bubbles=!0;var i=0,o=0;n.delta=0,void 0!==e.deltaX?(0!==e.deltaX&&(i=0<e.deltaX?1:-1),0!==e.deltaY&&(o=0<e.deltaY?1:-1),n.delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-i:-o):void 0!==e.wheelDeltaX?(0!==e.wheelDeltaX&&(i=0<e.wheelDeltaX?-1:1),0!==e.wheelDeltaY&&(o=0<e.wheelDeltaY?-1:1),n.delta=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-i:-o):void 0!==e.wheelDelta&&0!==e.wheelDelta&&(n.delta=0<e.wheelDelta?1:-1),t.doMouseWheel(),Qo(n,e)}},t.tk=function(e){t.isEnabled&&(t.Vf=!1,qo(t,e,!0),(e=t.currentTool).cancelWaitAfter(),e.standardMouseOver())},t.tw=function(e){if(t.isEnabled){t.Sj=!1,t.le=!0;var n=Xo(t,e,e.targetTouches[0],1<e.touches.length),i=null;if(0<e.targetTouches.length?i=e.targetTouches[0]:0<e.changedTouches.length&&(i=e.changedTouches[0]),null!==i){var o=i.screenX;i=i.screenY;var r=t.no;e.timeStamp-t.Dj<t.Ys&&!(25<Math.abs(r.x-o)||25<Math.abs(r.y-i))?t.pd++:t.pd=1,n.clickCount=t.pd,t.Dj=e.timeStamp,t.no.h(o,i)}t.doMouseDown(),Qo(n,e)}},t.sw=function(e){if(t.isEnabled){var n=null;0<e.targetTouches.length?n=e.targetTouches[0]:0<e.changedTouches.length&&(n=e.changedTouches[0]),n=Zo(t,e,n,1<e.touches.length),t.doMouseMove(),Qo(n,e)}},t.rw=function(e){if(t.isEnabled)if(t.Sj)e.preventDefault();else if(!(1<e.touches.length)){var n=null,i=null;0<e.targetTouches.length?i=e.targetTouches[0]:0<e.changedTouches.length&&(i=e.changedTouches[0]);var o=Jo(t,e,!1,!0,!1,!1);null!==i&&(null!==(n=p.document.elementFromPoint(i.clientX,i.clientY))&&n.B instanceof Po&&n.B!==t&&tr(n.B,i,o),tr(t,i,o),o.clickCount=t.pd),null===n?o.targetDiagram=Yo(e):n.B?o.targetDiagram=n.B:o.targetDiagram=null,o.targetObject=null,t.doMouseUp(),Qo(o,e),t.le=!1}},t.tm=function(e){if(t.isEnabled){t.Vf=!0;var n=t.ws;void 0===n[e.pointerId]&&(n[e.pointerId]=e);var i=!1;if(null!==(n=t.Nj)[0]&&n[0].pointerId===e.pointerId)n[0]=e;else if(null!==n[1]&&n[1].pointerId===e.pointerId)n[1]=e,i=!0;else if(null===n[0])n[0]=e;else{if(null!==n[1])return void e.preventDefault();n[1]=e,i=!0}"touch"!==e.pointerType&&"pen"!==e.pointerType||(t.Sj=!1,t.le=!0),n=Xo(t,e,e,i),i=t.no;var o="touch"===e.pointerType||"pen"===e.pointerType?25:10;e.timeStamp-t.Dj<t.Ys&&!(Math.abs(i.x-e.screenX)>o||Math.abs(i.y-e.screenY)>o)?t.pd++:t.pd=1,n.clickCount=t.pd,t.Dj=e.timeStamp,t.no.Cg(e.screenX,e.screenY),t.doMouseDown(),1===e.button?e.preventDefault():Qo(n,e)}},t.um=function(e){if(t.isEnabled){t.Vf=!0;var n=t.Nj;if(null!==n[0]&&n[0].pointerId===e.pointerId)n[0]=e;else{if(null!==n[1]&&n[1].pointerId===e.pointerId)return void(n[1]=e);if(null!==n[0])return;n[0]=e}n[0].pointerId===e.pointerId&&((n=Zo(t,e,e,null!==n[1])).targetDiagram=Yo(e),t.doMouseMove(),Qo(n,e))}},t.wm=function(e){if(t.isEnabled){t.Vf=!0;var n="touch"===e.pointerType||"pen"===e.pointerType,i=t.ws;if(n&&t.Sj)delete i[e.pointerId],e.preventDefault();else if(null!==(i=t.Nj)[0]&&i[0].pointerId===e.pointerId){i[0]=null,i=Jo(t,e,!1,!0,!0,!1);var o=p.document.elementFromPoint(e.clientX,e.clientY);null!==o&&o.B instanceof Po&&o.B!==t&&tr(o.B,e,i),tr(t,e,i),i.clickCount=t.pd,null===o?i.targetDiagram=Yo(e):o.B?i.targetDiagram=o.B:i.targetDiagram=null,i.targetObject=null,t.doMouseUp(),Qo(i,e),n&&(t.le=!1)}else null!==i[1]&&i[1].pointerId===e.pointerId&&(i[1]=null)}},t.vm=function(e){if(t.isEnabled){t.Vf=!1;var n=t.ws;n[e.pointerId]&&delete n[e.pointerId],null!==(n=t.Nj)[0]&&n[0].pointerId===e.pointerId&&(n[0]=null),null!==n[1]&&n[1].pointerId===e.pointerId&&(n[1]=null),"touch"!==e.pointerType&&"pen"!==e.pointerType&&((e=t.currentTool).cancelWaitAfter(),e.standardMouseOver())}},e.sc(!0),function(t){var e=t.sa.Ea;e instanceof HTMLCanvasElement&&(t.Wm?(t.addEventListener(e,"pointerdown",t.tm,!1),t.addEventListener(e,"pointermove",t.um,!1),t.addEventListener(e,"pointerup",t.wm,!1),t.addEventListener(e,"pointerout",t.vm,!1)):(t.addEventListener(e,"touchstart",t.tw,!1),t.addEventListener(e,"touchmove",t.sw,!1),t.addEventListener(e,"touchend",t.rw,!1),t.addEventListener(e,"mousemove",t.sk,!1),t.addEventListener(e,"mousedown",t.rk,!1),t.addEventListener(e,"mouseup",t.uk,!1),t.addEventListener(e,"mouseout",t.tk,!1)),t.addEventListener(e,"mouseenter",t.hz,!1),t.addEventListener(e,"mouseleave",t.iz,!1),t.addEventListener(e,"wheel",t.vk,!1),t.addEventListener(e,"keydown",t.Zz,!1),t.addEventListener(e,"keyup",t.$z,!1),t.addEventListener(e,"blur",t.Vy,!1),t.addEventListener(e,"focus",t.Wy,!1),t.addEventListener(e,"selectstart",(function(t){return t.preventDefault(),!1}),!1),t.addEventListener(e,"contextmenu",(function(t){return t.preventDefault(),!1}),!1),t.addEventListener(e,"gesturestart",(function(e){t.toolManager.gestureBehavior!==Ln&&(t.toolManager.gestureBehavior===Fn?e.preventDefault():t.le&&t.lastInput.handled||(e.preventDefault(),t.Dl=t.scale,t.currentTool.doCancel()))}),!1),t.addEventListener(e,"gesturechange",(function(e){if(t.toolManager.gestureBehavior!==Ln)if(t.toolManager.gestureBehavior===Fn)e.preventDefault();else if(!t.le||!t.lastInput.handled){e.preventDefault();var n=e.scale;if(null!==t.Dl){var i=t.sa.getBoundingClientRect();if(e=new ft(e.pageX-window.scrollX-t.wa/i.width*i.left,e.pageY-window.scrollY-t.va/i.height*i.top),n=t.Dl*n,i=t.commandHandler,n!==t.scale&&i.canResetZoom(n)){var o=t.zoomPoint;t.zoomPoint=e,i.resetZoom(n),t.zoomPoint=o}}}}),!1),t.addEventListener(p,"resize",t.zw,!1))}(t)}}function Da(t){this.l=void 0===t?new ft:t,this.u=new ft}function Ma(t,e,n){this.node=t,this.info=e,this.Gv=n}function Oa(){this.reset()}function Pa(t){1<arguments.length&&_("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Po.call(this,t),Aa(this)}function Aa(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=re,t.layout=new Xc}function Ra(t){1<arguments.length&&_("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Po.call(this,t);var e=this;this.animationManager.isEnabled=!1,this.Rb=!0,this.Ha=null,this.el=this.dl=!1,this.u=this.I=!0,this.bb=0,this.W=!1,this.Nl=null,this.py("drawShadows",!1);var n=new Zu,i=new Yl;i.stroke="magenta",i.strokeWidth=2,i.fill="transparent",i.name="BOXSHAPE",n.selectable=!0,n.selectionAdorned=!1,n.selectionObjectName="BOXSHAPE",n.locationObjectName="BOXSHAPE",n.resizeObjectName="BOXSHAPE",n.cursor="move",n.add(i),this.l=n,this.allowDelete=this.allowCopy=!1,this.allowSelect=!0,this.autoScrollRegion=new Jt(0,0,0,0),this.ma.h(0,0),this.toolManager.Wa("Dragging",new La,this.toolManager.mouseMoveTools),this.click=function(){var t=e.observed;if(null!==t){var n=t.viewportBounds,i=e.lastInput.documentPoint;t.position=new ft(i.x-n.width/2,i.y-n.height/2)}},this.Oh=function(){e.Na(),Fa(e)},this.Ef=function(){null!==e.observed&&(e.Na(),e.M())},this.Lh=function(){1>e.updateDelay?e.M():e.W||(e.W=!0,setTimeout((function(){e.W=!1,Ba(e),e.M()}),e.updateDelay))},this.Yc=function(){null!==e.observed&&Fa(e)},this.autoScale=la,this.Rb=!1}function Ba(t){var e=t.sa,n=t.Eb;if(null!==e&&null!==n){if(cr(t),null===t.Nl){var i=new Ts(null);i.width=e.width,i.height=e.height,t.Nl=i}try{t.sa=t.Nl,t.Eb=t.sa.context,t.Eb.sc(!0),t.Eb.setTransform(1,0,0,1,0,0),t.Eb.clearRect(0,0,t.sa.width,t.sa.height),Na(t)}finally{t.sa=e,t.Eb=n}}}function Na(t){var e=t.observed;if(null!==e){var n=t.drawsTemporaryLayers,i=t.drawsGrid&&n,o=e.grid;i&&null!==o&&o.visible&&!isNaN(o.width)&&!isNaN(o.height)&&(Sr(e,o=Lt.alloc().assign(t.viewportBounds).Ic(e.viewportBounds)),Lt.free(o),or(e));var r=t.nb;r.reset(),1!==t.scale&&r.scale(t.scale),0===t.position.x&&0===t.position.y||r.translate(-t.position.x,-t.position.y),(o=t.Eb).scale(t.Sb,t.Sb),o.transform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),r=(e=e.Ja.j).length;for(var a=0;a<r;a++){var s=e[a],l=t;if(s.visible&&0!==s.opacity){var u=s.diagram.grid.part;if(!n&&s.isTemporary)i&&u.layer===s&&(s=Mo(s,o),u.bc(o,l),o.globalAlpha=s);else{for(var h=Mo(s,o),c=l.scale,d=Lt.alloc(),f=s.Ca.j,p=f.length,g=0;g<p;g++){var m=f[g];(i||m!==u)&&s.Ri(o,m,l,null,c,d)}Lt.free(d),o.globalAlpha=h}}}}}function Fa(t){var e=t.box;if(null!==e){var n=t.observed;if(null!==n){t.Bc=!0,n=n.viewportBounds;var i=e.selectionObject,o=Rt.alloc();o.h(n.width,n.height),i.desiredSize=o,Rt.free(o),t=2/t.scale,i instanceof Yl&&(i.strokeWidth=t),e.location=new ft(n.x-t/2,n.y-t/2),e.isSelected=!0}}}function La(){Vn.call(this),this.l=null}function Va(){it(this),this.B=ta,this.bb=this.I=this.u=!0,this.W=this.Ha=this.kd=this.Ia=!1,this.yi=this.l=null,this.Yc=1.05,this.Hu=NaN,this.Zw=null,this.gv=NaN,this.fv=Yt,this.mg=null,this.Jc=200}function ja(t){var e=D();for(t=t.iterator;t.next();){var n=t.value;n instanceof Nh||e.push(n)}t=new nt,n=e.length;for(var i=0;i<n;i++){for(var o=e[i],r=!0,a=0;a<n;a++)if(o.Xd(e[a])){r=!1;break}r&&t.add(o)}return M(e),t}function za(){it(this),this.F=4225027,this.rb=1,this.kg=null,this.Qa="",this.dc=this.jb=null,this.ma=new ft(NaN,NaN).freeze(),this.Mc=Pt,this.bg=Et,this.ag=Ot,this.nb=new Ke,this.Qh=new Ke,this.Zf=new Ke,this.ya=this.Yk=1,this.Yb=0,this.xe=Ur,this.bh=ee,this.oc=new Lt(NaN,NaN,NaN,NaN).freeze(),this.vb=new Lt(NaN,NaN,NaN,NaN).freeze(),this.pc=new Lt(0,0,NaN,NaN).freeze(),this.O=this.fp=this.gp=null,this.Hk=this.wb=Te,this.rp=0,this.sp=1,this.Lg=0,this.hn=1,this.Mp=null,this.zp=-1/0,this.Il=0,this.Jl=xt,this.Kl=rc,this.fi="",this.cb=this.N=null,this.Lk=-1,this.Ml=this.md=this.ei=this.Ql=null,this.zs=Kr,this.vp=this.Hg=this.Mj=null}function Ha(t){null===t.N&&(t.N=new ys)}function Wa(t,e,n){var i=t.Wi();if(null!==i)for(var o=t.cb.iterator;o.next();){var r=o.value,a=null;if(null!==r.sourceName){if(null===(a=Jd(r,i,t)))continue;r.Tq(t,a,n,null)}else if(r.isToModel){var s=e.diagram;null===s||s.skipsModelSourceBindings||r.Tq(t,s.model.modelData,n,i)}else{if(null===(s=i.data))continue;var l=e.diagram;null===l||l.skipsModelSourceBindings||r.Tq(t,s,n,i)}a===t&&(null!==(s=i.mt(r.jj))&&r.xw(s,a,n))}}function Ga(t,e,n,i,o){var r=t.oc,a=t.Zf;a.reset(),Xa(t,a,e,n,i,o),t.Zf=a,r.h(e,n,i,o),a.yt()||a.uw(r)}function Ka(t,e,n,i){return!1!==t.pickable&&(i.multiply(t.transform),n?t.Hc(e,i):t.Dh(e,i))}function $a(t,e,n,i,o){if(t.vb.h(e,n,i,o),!t.desiredSize.v()){var r=t.oc;e=(n=t.bh).right+n.left;var a=n.top+n.bottom;switch(n=r.width+e,r=r.height+a,i+=e,o+=a,e=Ja(t,!0),n===i&&r===o&&(e=Kr),e){case Kr:(n>i||r>o)&&(ss(t,!0),t.measure(n>i?i:n,r>o?o:r,0,0));break;case Gr:ss(t,!0),t.measure(i,o,0,0);break;case qr:ss(t,!0),t.measure(i,r,0,0);break;case Yr:ss(t,!0),t.measure(n,o,0,0)}}}function Ua(t,e,n){var i=t.vb,o=t.pc;null!==t.dc&&(qa(t,e,t.dc,!0,!0,o,i),t.dc instanceof Ps&&t.dc.type===qs?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Vd(t.dc)):e.fillRect(i.x,i.y,i.width,i.height)),null!==t.jb&&(qa(t,e,t.jb,!0,!1,o,i),t.jb instanceof Ps&&t.jb.type===qs?(e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.Vd(t.jb)):e.fillRect(i.x,i.y,i.width,i.height)),t.Si(e,n)}function qa(t,e,n,i,o,r,a){if(null!==n){var s=1,l=1;if("string"===typeof n)i?e.fillStyle=n:e.strokeStyle=n;else if(n.type===$s)i?e.fillStyle=n.color:e.strokeStyle=n.color;else{var u=0;if(t instanceof Yl&&(u=t.strokeWidth),s=r.width,l=r.height,o?(s=a.width,l=a.height):i||(s+=u,l+=u),(r=e instanceof Ds)&&n.ee&&(n.type===Ys||n.Ok===s&&n.fu===l))var h=n.ee;else{var c=0,d=0,f=0,p=0,g=0,m=0;if(m=g=0,o?(g=a.x,m=a.y):i||(g-=u/2,m-=u/2),c=n.start.x*s+n.start.offsetX,d=n.start.y*l+n.start.offsetY,f=n.end.x*s+n.end.offsetX,p=n.end.y*l+n.end.offsetY,c+=g,f+=g,d+=m,p+=m,n.type===Us)h=e.createLinearGradient(c,d,f,p);else if(n.type===qs)m=isNaN(n.endRadius)?Math.max(s,l)/2:n.endRadius,isNaN(n.startRadius)?(g=0,m=Math.max(s,l)/2):g=n.startRadius,h=e.createRadialGradient(c,d,g,f,p,m);else if(n.type===Ys)try{h=e.createPattern(n.pattern,"repeat")}catch(_){h=null}if(n.type!==Ys&&null!==(o=n.colorStops))for(o=o.iterator;o.next();)h.addColorStop(o.key,o.value);if(r&&(n.ee=h,null!==h&&(n.Ok=s,n.fu=l),null===h&&n.type===Ys&&-1!==n.Ok)){n.Ok=-1;var y=t.diagram;null!==y&&-1===n.Ok&&v((function(){y.Zd()}),600)}}i?e.fillStyle=h:e.strokeStyle=h}}}function Ya(t){if(0!==(2048&t.F)===!0){var e=t.nb;if(e.reset(),!t.vb.v()||!t.oc.v())return void os(t,!1);if(e.translate(t.vb.x-t.oc.x,t.vb.y-t.oc.y),1!==t.scale||0!==t.angle){var n=t.naturalBounds;Xa(t,e,n.x,n.y,n.width,n.height)}os(t,!1),rs(t,!0)}0!==(4096&t.F)===!0&&(null===(e=t.panel)?(t.Qh.set(t.nb),t.Yk=t.scale,rs(t,!1)):null!==e.wd&&((n=t.Qh).reset(),e.be()?n.multiply(e.Qh):null!==e.panel&&n.multiply(e.panel.Qh),n.multiply(t.nb),t.Yk=t.scale*e.Yk,rs(t,!1)))}function Xa(t,e,n,i,o,r){if(1!==t.scale&&e.scale(t.scale),0!==t.Yb){var a=le;t.yf()&&t.locationSpot.hb()&&(a=t.locationSpot);var s=ft.alloc();if(t instanceof Zu&&t.locationObject!==t)for(i=(n=t.locationObject).naturalBounds,s.zk(i.x,i.y,i.width,i.height,a),n.Zf.ra(s),s.offset(-n.measuredBounds.x,-n.measuredBounds.y),a=n.panel;null!==a&&a!==t;)a.Zf.ra(s),s.offset(-a.measuredBounds.x,-a.measuredBounds.y),a=a.panel;else s.zk(n,i,o,r,a);e.rotate(t.Yb,s.x,s.y),ft.free(s)}}function Za(t){if(!1===ls(t)){var e=t.panel;null!==e?e.o():t.yf()&&(null!==(e=t.diagram)&&(e.od.add(t),t instanceof yh&&t.fd(),e.Pb())),us(t,!0)}}function Ja(t,e){var n=t.stretch,i=t.panel;return null!==i&&i.type===wl.Table?Qa(t,i.getRowDefinition(t.row),i.getColumnDefinition(t.column),e):null!==i&&i.type===wl.Auto&&i.Ab()===t?ts(t,Gr,e):n===Ur?null!==i?i.type===wl.Spot&&i.Ab()===t?ts(t,Gr,e):ts(t,(n=i.defaultStretch)===Ur?Kr:n,e):ts(t,Kr,e):ts(t,n,e)}function Qa(t,e,n,i){var o=t.stretch;if(o!==Ur)return ts(t,o,i);var r=o=null;switch(e.stretch){case Yr:r=!0;break;case Gr:r=!0}switch(n.stretch){case qr:o=!0;break;case Gr:o=!0}return e=t.panel.defaultStretch,null===o&&(o=e===qr||e===Gr),null===r&&(r=e===Yr||e===Gr),ts(t,!0===o&&!0===r?Gr:!0===o?qr:!0===r?Yr:Kr,i)}function ts(t,e,n){if(n)return e;if(e===Kr)return Kr;if((n=t.desiredSize).v())return Kr;if(t=t.angle,!isNaN(n.width))if(90!==t&&270!==t){if(e===qr)return Kr;if(e===Gr)return Yr}else{if(e===Yr)return Kr;if(e===Gr)return qr}if(!isNaN(n.height))if(90!==t&&270!==t){if(e===Yr)return Kr;if(e===Gr)return qr}else{if(e===qr)return Kr;if(e===Gr)return Yr}return e}function es(t,e){t.F=e?512|t.F:-513&t.F}function ns(t){return 0!==(1024&t.F)}function is(t,e){t.F=e?1024|t.F:-1025&t.F}function os(t,e){t.F=e?2048|t.F:-2049&t.F}function rs(t,e){t.F=e?4096|t.F:-4097&t.F}function as(t){return 0!==(8192&t.F)}function ss(t,e){t.F=e?8192|t.F:-8193&t.F}function ls(t){return 0!==(16384&t.F)}function us(t,e){t.F=e?16384|t.F:-16385&t.F}function hs(t){var e=t.part;if(e instanceof yh&&(null!==t.portId||t===e.port)){var n=e.diagram;null===n||n.undoManager.isUndoingRedoing||xh(e,t)}}function cs(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof wl?t instanceof yh?t.fd():t.Km(t,(function(t){hs(t)})):hs(t))}function ds(t,e){e.cd=t,null===t.Hg&&(t.Hg=new dt),t.Hg.add(e.propertyName,e)}function fs(t,e){for(var n=1;n<arguments.length;++n);n=arguments;var i=null,o=null;if("function"===typeof t)o=t;else if("string"===typeof t){var r=vs.H(t);"function"===typeof r?S(i=r(n=E(arguments)))||_('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):o=p.go[t]}if(null===i&&(void 0!==o&&null!==o&&o.constructor||_("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),i=new o),o=1,i instanceof Po&&1<n.length){r=i;var a=n[1];("string"===typeof a||a instanceof HTMLDivElement)&&(Ta(r,a),o++)}for(;o<n.length;o++)void 0===(r=n[o])?_("Undefined value at argument "+o+" for object being constructed by GraphObject.make: "+i):ps(i,r);return i}function ps(t,e){if("string"===typeof e)if(t instanceof ru)t.text=e;else if(t instanceof Yl)t.figure=e;else if(t instanceof Pu)t.source=e;else if(t instanceof wl)null!==(e=Wl.H(e))&&(t.type=e);else if(t instanceof Ps){var n=$(Ps,e);null!==n?t.type=n:_("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof qe?null!==(e=$(qe,e))&&(t.type=e):t instanceof cn&&(null!==(e=$(cn,e))&&(t.type=e));else if(e instanceof za)t instanceof wl||_("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof Gl){var i;e.isRow&&"function"===typeof t.getRowDefinition?i=t.getRowDefinition(e.index):e.isRow||"function"!==typeof t.getColumnDefinition||(i=t.getColumnDefinition(e.index)),i instanceof Gl?i.it(e):_("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof K)"function"===typeof t.gb&&t.gb(e);else if(e instanceof sl)t.type=e;else if(e instanceof Zd)t instanceof za||t instanceof Gl?t.bind(e):_("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof ko)t instanceof za?ds(t,e):_("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof hn)t instanceof qe?t.figures.add(e):_("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof cn)t instanceof hn?t.segments.add(e):_("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Vc)t instanceof Po||t instanceof Ph?t.layout=e:_("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(n=0;n<e.length;n++)ps(t,e[n]);else if("object"===typeof e&&null!==e)if(t instanceof Ps){for(var o in n=new q,e)i=parseFloat(o),isNaN(i)?n[o]=e[o]:t.addColorStop(i,e[o]);lr(t,n)}else if(t instanceof Gl){for(n in void 0!==e.row?((void 0===(o=e.row)||null===o||1/0===o||isNaN(o)||0>o)&&_("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+o),t.isRow=!0,t.index=o):void 0!==e.column&&((void 0===(o=e.column)||null===o||1/0===o||isNaN(o)||0>o)&&_("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+o),t.isRow=!1,t.index=o),o=new q,e)"row"!==n&&"column"!==n&&(o[n]=e[n]);lr(t,o)}else lr(t,e);else _('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function gs(t,e){vs.add(t,e)}function ms(t,e,n){void 0===n&&(n=null);var i=t[1];if("function"===typeof n?n(i):"string"===typeof i)return t.splice(1,1),i;if(void 0===e)throw Error("no "+("function"===typeof n?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}Po.className="Diagram",Po.fromDiv=function(t){var e=t;return"string"===typeof t&&(e=p.document.getElementById(t)),e instanceof HTMLDivElement&&e.B instanceof Po?e.B:null},Po.inherit=function(t,e){function n(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},Po.None=sa,Po.Uniform=la,Po.UniformToFill=ua,Po.CycleAll=ha,Po.CycleNotDirected=ca,Po.CycleNotDirectedFast=da,Po.CycleNotUndirected=fa,Po.CycleDestinationTree=pa,Po.CycleSourceTree=ga,Po.DocumentScroll=ma,Po.InfiniteScroll=va,Po.TreeParentCollapsed=ya,Po.AllParentsCollapsed=_a,Po.AnyParentsCollapsed=ba,Ea.className="DiagramHelper",d.Object.defineProperties(Da.prototype,{point:{get:function(){return this.l},set:function(t){this.l=t}},shifted:{get:function(){return this.u},set:function(t){this.u=t}}}),Da.className="DraggingInfo",Ma.className="DraggingNodeInfoPair",Oa.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new Rt(NaN,NaN).freeze(),this.gridSnapCellSpot=oe,this.gridSnapOrigin=new ft(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.groupsAlwaysMove=!0},Oa.className="DraggingOptions",c(Pa,Po),Pa.prototype.reset=function(){Po.prototype.reset.call(this),Aa(this)},Pa.className="Palette",c(Ra,Po),Ra.prototype.computePixelRatio=function(){return 1},Ra.prototype.bc=function(){if(null===this.La&&_("No div specified"),null===this.sa&&_("No canvas specified"),!(this.sa instanceof xs)&&(Ju(this.box),this.Bc)){var t=this.observed;if(null!==t&&!t.animationManager.isAnimating){cr(this);var e=this.sa;(t=this.Eb).sc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),1>this.updateDelay?Na(this):null!==this.Nl&&(t.drawImage(this.Nl.Ea,0,0),(e=this.nb).reset(),1!==this.scale&&e.scale(this.scale),0===this.position.x&&0===this.position.y||e.translate(-this.position.x,-this.position.y),t.scale(this.Sb,this.Sb),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy));for(var n=(e=this.Ja.j).length,i=0;i<n;i++)e[i].bc(t,this);this.Bc=this.mi=!1}}},Ra.prototype.computeBounds=function(){var t=this.observed;if(null===t)return Yt;var e=t.documentBounds.copy();return e.Ic(t.viewportBounds),e},Ra.prototype.Wx=function(){!0!==this.Bc&&(this.Bc=!0,this.Pb())},Ra.prototype.Eq=function(t,e,n,i){this.Rb||(hr(this),this.M(),ur(this),this.Na(),Fa(this),this.Sd.scale=n,this.Sd.position.x=t.x,this.Sd.position.y=t.y,this.Sd.bounds.assign(t),this.Sd.Ov=i,this.R("ViewportBoundsChanged",this.Sd,t))},d.Object.defineProperties(Ra.prototype,{observed:{get:function(){return this.Ha},set:function(t){var e=this.Ha;if(t instanceof Ra&&_("Overview.observed Diagram may not be an Overview itself: "+t),e!==t){if(null!==e&&(this.remove(this.box),e.ym("ViewportBoundsChanged",this.Oh),e.ym("DocumentBoundsChanged",this.Ef),e.ym("InvalidateDraw",this.Lh),e.ym("AnimationFinished",this.Yc)),this.Ha=t,null!==t&&(t.Xj("ViewportBoundsChanged",this.Oh),t.Xj("DocumentBoundsChanged",this.Ef),t.Xj("InvalidateDraw",this.Lh),t.Xj("AnimationFinished",this.Yc),this.add(this.box),Fa(this)),this.Na(),null===t){this.Nl=null;var n=this.sa,i=this.Eb;n&&i&&(i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.width,n.height))}else Ba(this),Fa(this),this.M();this.g("observed",e,t)}}},box:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.remove(e),this.add(this.l),Fa(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t,this.Zd())}},drawsGrid:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,this.Zd())}},updateDelay:{get:function(){return this.bb},set:function(t){0>t&&(t=0),this.bb!==t&&(this.bb=t)}}}),Ra.className="Overview",c(La,Vn),La.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var n=t.lastInput;return!(!n.left||t.currentTool!==this&&(!this.isBeyondDragSize()||n.isTouchEvent&&n.timestamp-t.firstInput.timestamp<this.delay))&&(null===this.findDraggablePart()&&(n=e.viewportBounds,this.l=new ft(n.width/2,n.height/2),t=t.firstInput.documentPoint,e.position=new ft(t.x-this.l.x,t.y-this.l.y)),!0)},La.prototype.doActivate=function(){this.l=null,Vn.prototype.doActivate.call(this)},La.prototype.doUpdateCursor=function(){var t=this.diagram,e=t.box;null!==e&&e.cursor&&(t.currentCursor=e.cursor)},La.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var n=t.box;if(null!==n){if(null===this.l){var i=t.firstInput.documentPoint;n=n.location,this.l=new ft(i.x-n.x,i.y-n.y)}t=t.lastInput.documentPoint,e.position=new ft(t.x-this.l.x,t.y-this.l.y)}}},La.className="OverviewDraggingTool",Va.prototype.toString=function(){return"CommandHandler"},Va.prototype.$d=function(t){this.B=t},Va.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,n=z?e.meta:e.control,i=e.shift,o=e.alt,r=e.key;!n||"C"!==r&&"Insert"!==r?n&&"X"===r||i&&"Del"===r?this.canCutSelection()&&this.cutSelection():n&&"V"===r||i&&"Insert"===r?this.canPasteSelection()&&this.pasteSelection():n&&"Y"===r||o&&i&&"Backspace"===r?this.canRedo()&&this.redo():n&&"Z"===r||o&&"Backspace"===r?this.canUndo()&&this.undo():"Del"===r||"Backspace"===r?this.canDeleteSelection()&&this.deleteSelection():n&&"A"===r?this.canSelectAll()&&this.selectAll():"Esc"===r?this.canStopCommand()&&this.stopCommand():"Up"===r?t.allowVerticalScroll&&(n?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===r?t.allowVerticalScroll&&(n?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===r?t.allowHorizontalScroll&&(n?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===r?t.allowHorizontalScroll&&(n?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===r?i&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===r?i&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===r?n&&t.allowVerticalScroll?t.scroll("document","up"):!n&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===r?n&&t.allowVerticalScroll?t.scroll("document","down"):!n&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===r?this.canScrollToPart()&&this.scrollToPart():"Subtract"===r?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===r?this.canIncreaseZoom()&&this.increaseZoom():n&&"0"===r?this.canResetZoom()&&this.resetZoom():i&&"Z"===r?this.canZoomToFit()&&this.zoomToFit():n&&!i&&"G"===r?this.canGroupSelection()&&this.groupSelection():n&&i&&"G"===r?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},Va.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},Va.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof On&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()},Va.prototype.canStopCommand=function(){return!0},Va.prototype.selectAll=function(){var t=this.diagram;t.M();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var n=t.nodes;n.next();)n.value.isSelected=!0;for(var i=t.links;i.next();)i.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},Va.prototype.canSelectAll=function(){return this.diagram.allowSelect},Va.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.ua("Delete"),t.R("SelectionDeleting",t.selection);for(var e=new nt,n=t.selection.iterator;n.next();)gh(e,n.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,(function(t){return t.canDelete()}));t.Nt(e,!0),t.R("SelectionDeleted",e)}finally{t.Va("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},Va.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},Va.prototype.copySelection=function(){var t=this.diagram,e=new nt;for(t=t.selection.iterator;t.next();)gh(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,(function(t){return t.canCopy()}));this.copyToClipboard(e)},Va.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},Va.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Va.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},Va.prototype.copyToClipboard=function(t){var e=this.diagram,n=null;if(null===t)ra=null,aa="";else{n=e.model;var i=!1,o=!1,r=null;try{n.qm()&&(i=n.dk,n.dk=this.copiesParentKey),n.kk()&&(o=n.ck,n.ck=this.copiesGroupKey),r=e.ek(t,null,!0)}finally{n.qm()&&(n.dk=i),n.kk()&&(n.ck=o),(n=new tt).addAll(r),ra=n,aa=e.model.dataFormat}}e.R("ClipboardChanged",n)},Va.prototype.pasteFromClipboard=function(){var t=new nt,e=ra;if(null===e)return t;var n=this.diagram;if(aa!==n.model.dataFormat)return t;var i=n.model,o=!1,r=!1,a=null;try{i.qm()&&(o=i.dk,i.dk=this.copiesParentKey),i.kk()&&(r=i.ck,i.ck=this.copiesGroupKey),a=n.ek(e,n,!1)}finally{for(i.qm()&&(i.dk=o),i.kk()&&(i.ck=r),e=a.iterator;e.next();)n=e.value,i=e.key,n.location.v()||(i.location.v()?n.location=i.location:!n.position.v()&&i.position.v()&&(n.position=i.position)),t.add(n)}return t},Va.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.ua("Paste");var n=this.pasteFromClipboard();0<n.count&&e.clearSelection(!0);for(var i=n.iterator;i.next();)i.value.isSelected=!0;if(null!==t){var o=e.computePartsBounds(e.selection);if(o.v())mr(e,this.computeEffectiveCollection(e.selection,e.Sk),new ft(t.x-o.centerX,t.y-o.centerY),e.Sk,!1)}e.R("ClipboardPasted",n)}finally{e.Va("Paste"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Va.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===ra||0===ra.count||aa!==t.model.dataFormat)},Va.prototype.undo=function(){this.diagram.undoManager.undo()},Va.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canUndo())},Va.prototype.redo=function(){this.diagram.undoManager.redo()},Va.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canRedo())},Va.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===sa&&((t=e.scale*t)<e.minScale||t>e.maxScale||(e.scale=t))},Va.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===sa&&(!((t=e.scale*t)<e.minScale||t>e.maxScale)&&e.allowZoom)},Va.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===sa&&((t=e.scale*t)<e.minScale||t>e.maxScale||(e.scale=t))},Va.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===sa&&(!((t=e.scale*t)<e.minScale||t>e.maxScale)&&e.allowZoom)},Va.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},Va.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},Va.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.Xc(),t.Zd();var n=t.position,i=t.scale;eo(e,"Zoom To Fit"),i===this.gv&&!isNaN(this.Hu)&&t.documentBounds.w(this.fv)?(t.scale=this.Hu,t.position=this.Zw,this.gv=NaN,this.fv=Yt):(this.Hu=i,this.Zw=n.copy(),t.zoomToFit(),this.gv=t.scale,this.fv=t.documentBounds.copy()),io(e)},Va.prototype.canZoomToFit=function(){return this.diagram.allowZoom},Va.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(Mr(e),null===t){try{null!==this.mg&&(this.mg.next()?t=this.mg.value:this.mg=null)}catch(l){this.mg=null}null===t&&(0<e.highlighteds.count?this.mg=e.highlighteds.iterator:0<e.selection.count&&(this.mg=e.selection.iterator),null!==this.mg&&this.mg.next()&&(t=this.mg.value))}if(null!==t){var n=e.animationManager;eo(n,"Scroll To Part");var i=this.scrollToPartPause;if(0<i){var o=function t(e,n,i){if(n.isVisible())return i;if(n instanceof vh)t(e,n.adornedPart,i);else if(n instanceof Nh){var o=n.fromNode;null!==o&&t(e,o,i),null!==(n=n.toNode)&&t(e,n,i)}else n instanceof yh&&(null!==(o=n.labeledLink)&&t(e,o,i),null!==(o=n.yg())&&(o.isTreeExpanded||o.wasTreeExpanded||i.push(o),t(e,o,i))),null!==(n=n.containingGroup)&&(n.isSubGraphExpanded||n.wasSubGraphExpanded||i.push(n),t(e,n,i));return i}(this,t,[t]);if(1===o.length)e.ua(),e.gt(t.actualBounds),e.Va("Scroll To Part");else{var r=function(){e.ua();for(var t=o.pop();0<o.length&&t instanceof yh&&t.isTreeExpanded&&(!(t instanceof Ph)||t.isSubGraphExpanded);)t=o.pop();0<o.length?(t instanceof Zu&&e.hw(t.actualBounds),t instanceof yh&&!t.isTreeExpanded&&(t.isTreeExpanded=!0),t instanceof Ph&&!t.isSubGraphExpanded&&(t.isSubGraphExpanded=!0)):(t instanceof Zu&&e.gt(t.actualBounds),e.ym("LayoutCompleted",a)),e.Va("Scroll To Part")},a=function(){v(r,(n.isEnabled?n.duration:0)+i)};e.Xj("LayoutCompleted",a),r()}}else{var s=e.position.copy();e.gt(t.actualBounds),s.Ma(e.position)&&n.Xc()}}},Va.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof Zu)&&((0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&(t.allowHorizontalScroll&&t.allowVerticalScroll))},Va.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.ua("Collapse Tree"),eo(e.animationManager,"Collapse Tree");var n=new tt;if(null!==t&&t.isTreeExpanded)t.collapseTree(),n.add(t);else if(null===t)for(var i=e.selection.iterator;i.next();){var o=i.value;o instanceof yh&&o.isTreeExpanded&&(o.collapseTree(),n.add(o))}e.R("TreeCollapsed",n)}finally{e.Va("Collapse Tree")}},Va.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof yh&&t.isTreeExpanded))return!1;if(0<t.qq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof yh&&e.isTreeExpanded&&0<e.qq().count)return!0;return!1},Va.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.ua("Expand Tree"),eo(e.animationManager,"Expand Tree");var n=new tt;if(null===t||t.isTreeExpanded){if(null===t)for(var i=e.selection.iterator;i.next();){var o=i.value;o instanceof yh&&!o.isTreeExpanded&&(o.expandTree(),n.add(o))}}else t.expandTree(),n.add(t);e.R("TreeExpanded",n)}finally{e.Va("Expand Tree")}},Va.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof yh)||t.isTreeExpanded)return!1;if(0<t.qq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof yh&&!e.isTreeExpanded&&0<e.qq().count)return!0;return!1},Va.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.lk()){var n=this.archetypeGroupData;if(null!==n){var i=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.ua("Group");for(var o=new tt,r=t.selection.iterator;r.next();){var a=r.value;a.Wb()&&a.canGroup()&&o.add(a)}for(var s=new tt,l=o.iterator;l.next();){var u=l.value;r=!1;for(var h=o.iterator;h.next();)if(u.Xd(h.value)){r=!0;break}r||s.add(u)}if(0<s.count){var c=s.first().containingGroup;if(null!==c)for(;null!==c;){o=!1;for(var d=s.iterator;d.next();)if(!d.value.Xd(c)){o=!0;break}if(!o)break;c=c.containingGroup}if(n instanceof Ph)Bl(n),null!==(i=n.copy())&&t.add(i);else if(e.Mv(n)){var f=e.copyNodeData(n);S(f)&&(e.qf(f),i=t.Ui(f))}if(null!==i){null!==c&&this.isValidMember(c,i)&&(i.containingGroup=c);for(var p=s.iterator;p.next();){var g=p.value;this.isValidMember(i,g)&&(g.containingGroup=i)}t.clearSelection(!0),i.isSelected=!0}}t.R("SelectionGrouped",i)}finally{t.Va("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},Va.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.lk()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Wb()&&e.canGroup())return!0}return!1},Va.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Nh)return!1;if(null!==t){if(t===e||t.Xd(e))return!1;var n=t.memberValidation;if(null!==n&&!n(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(n=this.memberValidation)||n(t,e)},Va.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,n=e.model;if(n.lk())try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.ua("Ungroup");var i=new tt;if(null!==t)i.add(t);else for(var o=e.selection.iterator;o.next();){var r=o.value;r instanceof Ph&&r.canUngroup()&&i.add(r)}var a=new tt;if(0<i.count){e.clearSelection(!0);for(var s=i.iterator;s.next();){var l=s.value;l.expandSubGraph();var u=l.containingGroup,h=null!==u&&null!==u.data?n.ja(u.data):void 0;a.addAll(l.memberParts);for(var c=a.iterator;c.next();){var d=c.value;if(d.isSelected=!0,!(d instanceof Nh)){var f=d.data;null!==f?n.Qt(f,h):d.containingGroup=u}}e.remove(l)}}e.R("SelectionUngrouped",i,a)}finally{e.Va("Ungroup"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Va.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.lk())return!1;if(null!==t){if(!(t instanceof Ph))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Ph&&e.canUngroup())return!0;return!1},Va.prototype.addTopLevelParts=function(t,e){var n=!0;for(t=ja(t).iterator;t.next();){var i=t.value;null!==i.containingGroup&&(!e||this.isValidMember(null,i)?i.containingGroup=null:n=!1)}return n},Va.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.ua("Collapse SubGraph"),eo(e.animationManager,"Collapse SubGraph");var n=new tt;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),n.add(t);else if(null===t)for(var i=e.selection.iterator;i.next();){var o=i.value;o instanceof Ph&&o.isSubGraphExpanded&&(o.collapseSubGraph(),n.add(o))}e.R("SubGraphCollapsed",n)}finally{e.Va("Collapse SubGraph")}},Va.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof Ph&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Ph&&e.isSubGraphExpanded)return!0;return!1},Va.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.ua("Expand SubGraph"),eo(e.animationManager,"Expand SubGraph");var n=new tt;if(null===t||t.isSubGraphExpanded){if(null===t)for(var i=e.selection.iterator;i.next();){var o=i.value;o instanceof Ph&&!o.isSubGraphExpanded&&(o.expandSubGraph(),n.add(o))}}else t.expandSubGraph(),n.add(t);e.R("SubGraphExpanded",n)}finally{e.Va("Expand SubGraph")}},Va.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof Ph&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Ph&&!e.isSubGraphExpanded)return!0;return!1},Va.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,n=e.toolManager.findTool("TextEditing");if(null!==n){if(null===t){t=null;for(var i=e.selection.iterator;i.next();){var o=i.value;if(o.canEdit()){t=o;break}}if(null===t)return;t=t.im((function(t){return t instanceof ru&&t.editable}))}null!==t&&(e.currentTool=null,n.textBlock=t,e.currentTool=n)}},Va.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof ru))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.im((function(t){return t instanceof ru&&t.editable}))))return!0;return!1},Va.prototype.showContextMenu=function(t){var e=this.diagram,n=e.toolManager.findTool("ContextMenu");if(null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=n.findObjectWithContextMenu(t)))){var i=e.lastInput,o=null;t instanceof za?o=t.ga(le):e.viewportBounds.aa(i.documentPoint)||(o=new ft((o=e.viewportBounds).x+o.width/2,o.y+o.height/2)),null!==o&&(i.viewPoint=e.Qq(o),i.documentPoint=o,i.left=!1,i.right=!0,i.up=!0),e.currentTool=n,Ai(n,!1,t)}},Va.prototype.canShowContextMenu=function(t){var e=this.diagram,n=e.toolManager.findTool("ContextMenu");return null!==n&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==n.findObjectWithContextMenu(t))},Va.prototype.computeEffectiveCollection=function(t,e){var n=this.diagram,i=n.toolManager.findTool("Dragging"),o=n.currentTool===i;if(void 0===e&&(e=o?i.dragOptions:n.Sk),i=new dt,null===t)return i;for(var r=t.iterator;r.next();)gr(n,i,r.value,o,e);if(null!==n.draggedLink&&e.dragsLink)return i;for(r=t.iterator;r.next();)(t=r.value)instanceof Nh&&(null===(e=t.fromNode)||i.contains(e)?null===(e=t.toNode)||i.contains(e)||i.remove(t):i.remove(t));return i},d.Object.defineProperties(Va.prototype,{diagram:{get:function(){return this.B}},copiesClipboardData:{get:function(){return this.u},set:function(t){this.u=t}},copiesConnectedLinks:{get:function(){return this.I},set:function(t){this.I=t}},deletesConnectedLinks:{get:function(){return this.bb},set:function(t){this.bb=t}},copiesTree:{get:function(){return this.Ia},set:function(t){this.Ia=t}},deletesTree:{get:function(){return this.kd},set:function(t){this.kd=t}},copiesParentKey:{get:function(){return this.Ha},set:function(t){this.Ha=t}},copiesGroupKey:{get:function(){return this.W},set:function(t){this.W=t}},archetypeGroupData:{get:function(){return this.l},set:function(t){this.l=t}},memberValidation:{get:function(){return this.yi},set:function(t){this.yi=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Yc},set:function(t){1<t||_("zoomFactor must be larger than 1.0, not: "+t),this.Yc=t}},scrollToPartPause:{get:function(){return this.Jc},set:function(t){this.Jc=t}}}),Va.className="CommandHandler",Ro=function(){return new Va},za.prototype.cloneProtected=function(t){t.F=6144|this.F,t.rb=this.rb,t.Qa=this.Qa,t.jb=this.jb,t.dc=this.dc,t.Hg=this.Hg,t.ma.assign(this.ma),t.Mc=this.Mc.G(),t.bg=this.bg.G(),t.ag=this.ag.G(),t.Zf=this.Zf.copy(),t.ya=this.ya,t.Yb=this.Yb,t.xe=this.xe,t.bh=this.bh.G(),t.oc.assign(this.oc),t.vb.assign(this.vb),t.pc.assign(this.pc),t.fp=this.fp,null!==this.O&&(t.O=this.O.copy()),t.wb=this.wb.G(),t.Hk=this.Hk.G(),t.rp=this.rp,t.sp=this.sp,t.Lg=this.Lg,t.hn=this.hn,t.Mp=this.Mp,t.zp=this.zp,t.Il=this.Il,t.Jl=this.Jl.G(),t.Kl=this.Kl,t.fi=this.fi,null!==this.N&&(t.N=this.N.copy()),t.cb=this.cb,t.Lk=this.Lk,null!==this.ei&&(t.ei=E(this.ei)),null!==this.md&&(t.md=this.md.copy()),t.Ml=this.Ml},za.prototype.wx=function(t){var e=this.ei;if(k(e)){for(var n=0;n<e.length;n++)if(e[n]===t)return}else this.ei=e=[];e.push(t)},za.prototype.tf=function(t){t.gp=null,t.Mj=null,t.o()},za.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.ei)for(var e=0;e<this.ei.length;e++){var n=this.ei[e];t[n]=this[n]}return t},za.prototype.copy=function(){return this.clone()},(n=za.prototype).gb=function(t){t.classType===Nh?0===t.name.indexOf("Orient")?this.segmentOrientation=t:_("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===za&&(this.stretch=t)},n.toString=function(){return O(this.constructor)+"#"+rt(this)},n.Fc=function(){if(null===this.O){var t=new Lc;t.Vg=ie,t.vh=ie,t.Tg=10,t.th=10,t.Ug=0,t.uh=0,this.O=t}},n.$a=function(t,e,n,i,o,r,a){var s=this.part;if(null!==s&&(s.xk(t,e,n,i,o,r,a),n===this&&t===Sn&&ns(this)&&Wa(this,s,e),r=this.diagram,null===this.Hg||null===r||!r.mk||r.undoManager.isUndoingRedoing||r.currentTool!==r.toolManager||r.animationManager.cn||(null===(t=this.Hg.get(e))||r.animationManager.isTicking||(null===this.vp&&(this.vp=new dt),a=0===r.undoManager.transactionLevel,t.startCondition===Io?a=!0:t.startCondition===To&&(a=!1),a?(function(t,e){null!==(t=t.Jk)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,r=new mo),null!==(a=this.vp.get(t))&&a.stop(),this.vp.add(t,r),r.cv=this,r.qx=t,r.add(this,e,i,o),r.start()):(no(r.animationManager,"Trigger"),r.animationManager.defaultAnimation.add(this,e,i,o)))),this instanceof wl&&n===s&&0!==(16777216&s.F)&&null!==s.data))for(i=(n=this.V.j).length,o=0;o<i;o++)(s=n[o])instanceof wl&&Tl(s,(function(t){null!==t.data&&0!==(16777216&t.F)&&t.Ba(e)}))},n.mt=function(t){return this.Lk===t?this:null},n.g=function(t,e,n){this.$a(Sn,t,this,e,n)},n.Px=function(t,e,n){if(!1===this.pickable)return!1;var i=this.naturalBounds;return e=t.Ce(e),n?yt(t.x,t.y,0,0,0,i.height)<=e||yt(t.x,t.y,0,i.height,i.width,i.height)<=e||yt(t.x,t.y,i.width,i.height,i.width,0)<=e||yt(t.x,t.y,i.width,0,0,0)<=e:t.dd(0,0)<=e&&t.dd(0,i.height)<=e&&t.dd(i.width,0)<=e&&t.dd(i.width,i.height)<=e},n.be=function(){return!0},n.aa=function(t){var e=ft.alloc();e.assign(t),this.transform.ra(e);var n=this.actualBounds;if(!n.v())return ft.free(e),!1;var i=this.diagram;if(null!==i&&i.le){var o=i.nm("extraTouchThreshold"),r=i.nm("extraTouchArea"),a=r/2,s=this.naturalBounds,l=1/(i=this.vf()*i.scale);if(s.width*i<o&&s.height*i<o)return t=Ut(n.x-a*l,n.y-a*l,n.width+r*l,n.height+r*l,e.x,e.y),ft.free(e),t}return o=!1,(this instanceof vh||this instanceof Yl?Ut(n.x-5,n.y-5,n.width+10,n.height+10,e.x,e.y):n.aa(e))&&(o=!(this.md&&!this.md.aa(e))&&(!(null===this.dc||!n.aa(e))||(!(null===this.jb||!this.pc.aa(t))||this.Eh(t)))),ft.free(e),o},n.Eh=function(t){var e=this.naturalBounds;return Ut(0,0,e.width,e.height,t.x,t.y)},n.Be=function(t){if(0===this.angle)return this.actualBounds.Be(t);var e=this.naturalBounds;e=Lt.allocAt(0,0,e.width,e.height);var n=this.transform,i=!1,o=ft.allocAt(t.x,t.y);return e.aa(n.Wd(o))&&(o.h(t.x,t.bottom),e.aa(n.Wd(o))&&(o.h(t.right,t.bottom),e.aa(n.Wd(o))&&(o.h(t.right,t.y),e.aa(n.Wd(o))&&(i=!0)))),ft.free(o),Lt.free(e),i},n.Dh=function(t,e){if(void 0===e)return t.Be(this.actualBounds);var n=this.naturalBounds,i=!1,o=ft.allocAt(0,0);return t.aa(e.ra(o))&&(o.h(0,n.height),t.aa(e.ra(o))&&(o.h(n.width,n.height),t.aa(e.ra(o))&&(o.h(n.width,0),t.aa(e.ra(o))&&(i=!0)))),ft.free(o),i},n.Hc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Hc(this.actualBounds);var n=this.naturalBounds,i=ft.allocAt(0,0),o=ft.allocAt(0,n.height),r=ft.allocAt(n.width,n.height),a=ft.allocAt(n.width,0),s=!1;if(t.aa(e.ra(i))||t.aa(e.ra(o))||t.aa(e.ra(r))||t.aa(e.ra(a)))s=!0;else{n=Lt.allocAt(0,0,n.width,n.height);var l=ft.allocAt(t.x,t.y);n.aa(e.Wd(l))?s=!0:(l.h(t.x,t.bottom),n.aa(e.Wd(l))?s=!0:(l.h(t.right,t.bottom),n.aa(e.Wd(l))?s=!0:(l.h(t.right,t.y),n.aa(e.Wd(l))&&(s=!0)))),ft.free(l),Lt.free(n),!s&&(Ue.vt(t,i,o)||Ue.vt(t,o,r)||Ue.vt(t,r,a)||Ue.vt(t,a,i))&&(s=!0)}return ft.free(i),ft.free(o),ft.free(r),ft.free(a),s},n.ga=function(t,e){if(void 0===e&&(e=new ft),t instanceof je){var n=this.naturalBounds;e.h(t.x*n.width+t.offsetX,t.y*n.height+t.offsetY)}else e.set(t);return this.wd.ra(e),e},n.mm=function(t){void 0===t&&(t=new Lt);var e=this.naturalBounds,n=this.wd,i=ft.allocAt(0,0).transform(n);return t.h(i.x,i.y,0,0),i.h(e.width,0).transform(n),$t(t,i.x,i.y,0,0),i.h(e.width,e.height).transform(n),$t(t,i.x,i.y,0,0),i.h(0,e.height).transform(n),$t(t,i.x,i.y,0,0),ft.free(i),t},n.Zi=function(){var t=this.wd;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},n.vf=function(){if(0!==(4096&this.F)===!1)return this.Yk;var t=this.ya;return null!==this.panel?t*this.panel.vf():t},n.st=function(t,e){return void 0===e&&(e=new ft),e.assign(t),this.wd.Wd(e),e},n.Uc=function(t,e,n){return this.jk(t.x,t.y,e.x,e.y,n)},n.jk=function(t,e,n,i,o){var r=this.transform,a=1/(r.m11*r.m22-r.m12*r.m21),s=r.m22*a,l=-r.m12*a,u=-r.m21*a,h=r.m11*a,c=a*(r.m21*r.dy-r.m22*r.dx),d=a*(r.m12*r.dx-r.m11*r.dy);return null!==this.areaBackground?(r=this.actualBounds,Ue.Uc(r.left,r.top,r.right,r.bottom,t,e,n,i,o)):(a=t*s+e*u+c,t=t*l+e*h+d,e=n*s+i*u+c,n=n*l+i*h+d,o.h(0,0),i=this.naturalBounds,n=Ue.Uc(0,0,i.width,i.height,a,t,e,n,o),o.transform(r),n)},za.prototype.measure=function(t,e,n,i){if(!1!==as(this)){var o=this.bh,r=o.right+o.left;o=o.top+o.bottom,t=Math.max(t-r,0),e=Math.max(e-o,0),n=Math.max((n||0)-r,0),i=Math.max((i||0)-o,0),r=this.angle,o=this.desiredSize;var a=0;this instanceof Yl&&(a=this.strokeWidth),90===r||270===r?(t=isFinite(o.height)?o.height+a:t,e=isFinite(o.width)?o.width+a:e):(t=isFinite(o.width)?o.width+a:t,e=isFinite(o.height)?o.height+a:e),o=n||0,a=i||0;var s=this instanceof wl;switch(Ja(this,!0)){case Kr:a=o=0,s&&(e=t=1/0);break;case Gr:isFinite(t)&&t>n&&(o=t),isFinite(e)&&e>i&&(a=e);break;case qr:isFinite(t)&&t>n&&(o=t),a=0,s&&(e=1/0);break;case Yr:isFinite(e)&&e>i&&(a=e),o=0,s&&(t=1/0)}s=this.maxSize;var l=this.minSize;o>s.width&&l.width<s.width&&(o=s.width),a>s.height&&l.height<s.height&&(a=s.height),n=Math.max(o/this.scale,l.width),i=Math.max(a/this.scale,l.height),s.width<n&&(n=Math.min(l.width,n)),s.height<i&&(i=Math.min(l.height,i)),t=Math.min(s.width,t),e=Math.min(s.height,e),t=Math.max(n,t),e=Math.max(i,e),90!==r&&270!==r||(r=t,t=e,e=r,r=n,n=i,i=r),this.oc.ea(),this.sm(t,e,n,i),this.oc.freeze(),this.oc.v()||_("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.oc.toString()),ss(this,!1)}},za.prototype.sm=function(){},za.prototype.yf=function(){return!1},za.prototype.arrange=function(t,e,n,i,o){this.nl();var r=Lt.alloc();r.assign(this.vb),this.vb.ea(),!1===ls(this)?this.vb.h(t,e,n,i):this.Ch(t,e,n,i),this.vb.freeze(),this.md=void 0===o?null:o,n=!1,void 0!==o?n=!0:(null===(o=this.panel)||o.type!==wl.TableRow&&o.type!==wl.TableColumn||(o=o.panel),null!==o&&(o=o.pc,i=this.measuredBounds,null!==this.areaBackground&&(i=this.vb),n=e+i.height,i=t+i.width,n=!(0<=t+.05&&i<=o.width+.05&&0<=e+.05&&n<=o.height+.05),this instanceof ru&&(t=this.naturalBounds,this.ds>t.height||this.qb>t.width))&&(n=!0)),this.F=n?256|this.F:-257&this.F,this.vb.v()||_("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.vb.toString()),this.It(r,this.vb),us(this,!1),Lt.free(r)},(n=za.prototype).Ch=function(){},n.It=function(t,e){var n=this.part;null!==n&&null!==n.diagram&&(n.selectionObject!==this&&n.resizeObject!==this&&n.rotateObject!==this||ch(n,!0),this.M(),Ht(t,e)||(n.Gh(),this.Vo(n)))},n.Vo=function(t){null!==this.portId&&(ch(t,!0),t instanceof yh&&xh(t,this))},n.bc=function(t,e){if(this.visible){var n=this instanceof wl&&(this.type===wl.TableRow||this.type===wl.TableColumn),i=this.vb;if(n||0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)){var o=this.opacity;if(0!==o){var r=1;if(1!==o&&(r=t.globalAlpha,t.globalAlpha=r*o),!this.Kx(t,e))if(n)Ua(this,t,e);else{this instanceof Nh&&this.qk(!1),n=this.transform;var a=this.panel;0!==(4096&this.F)===!0&&Ya(this);var s=this.part,l=!1,u=0;if(s&&e.De("drawShadows")&&(l=s.isShadowed)){var h=s.shadowOffset;u=Math.max(h.y,h.x)*e.scale*e.Sb}if(!(h=e.ni||!this.yf())){var c,d=this.naturalBounds,f=(h=this.Qh).m11,p=h.m21,g=h.dx,m=h.m12,v=h.m22,y=h.dy,_=c=0;h=c*f+_*p+g;var b=c*m+_*v+y,x=(c=d.width+u)*f+(_=0)*p+g;c=c*m+_*v+y,_=Math.min(h,x);var w=Math.min(b,c),C=Math.max(h+0,x)-_,S=Math.max(b+0,c)-w;h=_,b=w,x=(c=d.width+u)*f+(_=d.height+u)*p+g,c=c*m+_*v+y,_=Math.min(h,x),w=Math.min(b,c),C=Math.max(h+C,x)-_,S=Math.max(b+S,c)-w,h=_,b=w,x=(c=0)*f+(_=d.height+u)*p+g,c=c*m+_*v+y,_=Math.min(h,x),w=Math.min(b,c),C=Math.max(h+C,x)-_,S=Math.max(b+S,c)-w,h=_,b=w,d=(u=e.viewportBounds).x,f=u.y,h=!(h>u.width+d||d>C+h||b>u.height+f||f>S+b)}if(h){if(h=0!==(256&this.F),t.clipInsteadOfFill&&(h=!1),this instanceof ru&&(t.font=this.font),h){if(b=a.be()?a.naturalBounds:a.actualBounds,null!==this.md?(C=(d=this.md).x,S=d.y,u=d.width,d=d.height):(C=Math.max(i.x,b.x),S=Math.max(i.y,b.y),u=Math.min(i.right,b.right)-C,d=Math.min(i.bottom,b.bottom)-S),C>i.width+i.x||i.x>b.width+b.x)return void(1!==o&&(t.globalAlpha=r));t.save(),t.beginPath(),t.rect(C,S,u,d),t.clip()}if(this.yf()){if(!s.isVisible())return void(1!==o&&(t.globalAlpha=r));l&&(b=s.shadowOffset,t.nw(b.x*e.scale*e.Sb,b.y*e.scale*e.Sb,s.shadowBlur),Is(t),t.shadowColor=s.shadowColor)}!0===this.shadowVisible?Is(t):!1===this.shadowVisible&&Es(t),s=this.naturalBounds,null!==this.dc&&(qa(this,t,this.dc,!0,!0,s,i),this.dc instanceof Ps&&this.dc.type===qs?(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.Vd(this.dc)):t.fillRect(i.x,i.y,i.width,i.height)),t.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),l&&(null!==a&&0!==(512&a.F)||null!==a&&(a.type===wl.Auto||a.type===wl.Spot)&&a.Ab()!==this)&&null===this.shadowVisible&&Es(t),null!==this.jb&&(C=b=0,S=(u=this.naturalBounds).width,u=u.height,d=0,this instanceof Yl&&(b=(u=this.ka.bounds).x,C=u.y,S=u.width,u=u.height,d=this.strokeWidth),qa(this,t,this.jb,!0,!1,s,i),this.jb instanceof Ps&&this.jb.type===qs?(t.beginPath(),t.rect(b-d/2,C-d/2,S+d,u+d),t.Vd(this.jb)):t.fillRect(b-d/2,C-d/2,S+d,u+d)),l&&(null!==this.jb||null!==this.dc||null!==a&&0!==(512&a.F)||null!==a&&(a.type===wl.Auto||a.type===wl.Spot)&&a.Ab()!==this)?(es(this,!0),null===this.shadowVisible&&Es(t)):es(this,!1),this.Si(t,e),l&&0!==(512&this.F)===!0&&Is(t),this.yf()&&l&&Es(t),h?(t.restore(),this instanceof wl?t.sc(!0):t.sc(!1)):n.yt()||(e=1/(n.m11*n.m22-n.m12*n.m21),t.transform(n.m22*e,-n.m12*e,-n.m21*e,n.m11*e,e*(n.m21*n.dy-n.m22*n.dx),e*(n.m12*n.dx-n.m11*n.dy)))}}1!==o&&(t.globalAlpha=r)}}}},n.Kx=function(){return!1},n.Si=function(){},n.Ag=function(t){if(t instanceof wl)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},n.zf=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.zf()},n.Bg=function(){for(var t=this instanceof wl?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},n.o=function(t){if(void 0===t&&(t=!1),!0!==as(this)){ss(this,!0),us(this,!0);var e=this.panel;null===e||t||e.o()}},n.pm=function(){!0!==as(this)&&(ss(this,!0),us(this,!0))},n.nl=function(){0!==(2048&this.F)===!1&&(os(this,!0),rs(this,!0))},n.Kv=function(){rs(this,!0)},n.M=function(){var t=this.part;null!==t&&t.M()},n.fj=function(t){this.kg=t},n.St=function(){},n.lw=function(t){return this.ma.assign(t),Za(this),!0},n.Nq=function(t,e){this.ma.x===t&&this.ma.y===e||(this.ma.h(t,e),this.nl())},n.bind=function(t){t.cd=this;var e=this.Wi();null!==e&&Rl(e)&&_("Cannot add a Binding to a template that has already been copied: "+t),null===this.cb&&(this.cb=new tt),this.cb.add(t)},n.Wi=function(){for(var t=this instanceof wl?this:this.panel;null!==t;){if(null!==t.ci)return t;t=t.panel}return null},n.mw=function(t){lr(this,t)},d.Object.defineProperties(za.prototype,{shadowVisible:{get:function(){return this.Ml},set:function(t){var e=this.Ml;e!==t&&(this.Ml=t,this.M(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.N?this.N.Fn:null},set:function(t){Ha(this);var e=this.N.Fn;e!==t&&(this.N.Fn=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return this.Kl},set:function(t){var e=this.Kl;e!==t&&(this.Kl=t,this.o(),this.g("segmentOrientation",e,t),t===rc&&(this.angle=0))}},segmentIndex:{get:function(){return this.zp},set:function(t){t=Math.round(t);var e=this.zp;e!==t&&(this.zp=t,this.o(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return this.Il},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var e=this.Il;e!==t&&(this.Il=t,this.o(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return this.Jl},set:function(t){var e=this.Jl;e.w(t)||(this.Jl=t=t.G(),this.o(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return this.xe},set:function(t){var e=this.xe;e!==t&&(this.xe=t,this.o(),this.g("stretch",e,t))}},name:{get:function(){return this.Qa},set:function(t){var e=this.Qa;e!==t&&(this.Qa=t,null!==this.part&&(this.part.Ij=null),this.g("name",e,t))}},opacity:{get:function(){return this.rb},set:function(t){var e=this.rb;e!==t&&((0>t||1<t)&&x(t,"0 <= value <= 1",za,"opacity"),this.rb=t,this.g("opacity",e,t),t=this.diagram,e=this.part,null!==t&&null!==e&&t.M(eh(e,e.actualBounds)))}},visible:{get:function(){return 0!==(1&this.F)},set:function(t){var e=0!==(1&this.F);e!==t&&(this.F^=1,this.g("visible",e,t),null!==(e=this.panel)?e.o():this.yf()&&this.Ob(t),this.M(),cs(this))}},pickable:{get:function(){return 0!==(2&this.F)},set:function(t){var e=0!==(2&this.F);e!==t&&(this.F^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!==(4&this.F)},set:function(t){var e=0!==(4&this.F);e!==t&&(this.F^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!==(8&this.F)},set:function(t){var e=0!==(8&this.F);e!==t&&(this.F^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!==(16&this.F)},set:function(t){var e=0!==(16&this.F);e!==t&&(this.F^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!==(32&this.F)},set:function(t){var e=0!==(32&this.F);e!==t&&(this.F^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!==(64&this.F)},set:function(t){var e=0!==(64&this.F);e!==t&&(this.F^=64,this.o(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!==(128&this.F)},set:function(t){var e=0!==(128&this.F);e!==t&&(this.F^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return this.dc},set:function(t){var e=this.dc;e!==t&&(null!==t&&Gs(t,"GraphObject.areaBackground"),t instanceof Ps&&t.freeze(),this.dc=t,this.M(),this.g("areaBackground",e,t))}},background:{get:function(){return this.jb},set:function(t){var e=this.jb;e!==t&&(null!==t&&Gs(t,"GraphObject.background"),t instanceof Ps&&t.freeze(),this.jb=t,this.M(),this.g("background",e,t))}},part:{get:function(){if(this.yf())return this;if(null!==this.Mj)return this.Mj;var t;for(t=this.panel;t;){if(t instanceof Zu)return this.Mj=t;t=t.panel}return null}},svg:{get:function(){return this.Rp},set:function(t){this.Rp=t}},panel:{get:function(){return this.kg}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.ma},set:function(t){var e=t.x,n=t.y,i=this.ma,o=i.x,r=i.y;(o===e||isNaN(o)&&isNaN(e))&&(r===n||isNaN(r)&&isNaN(n))?this.St():(t=t.copy(),this.lw(t,i)&&this.g("position",i.copy(),t.copy()))}},actualBounds:{get:function(){return this.vb}},scale:{get:function(){return this.ya},set:function(t){var e=this.ya;e!==t&&(0>=t&&_("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.ya=t,this.o(),this.g("scale",e,t))}},angle:{get:function(){return this.Yb},set:function(t){var e=this.Yb;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.Yb=t,cs(this),this.o(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.Mc},set:function(t){var e=t.width,n=t.height,i=this.Mc,o=i.width,r=i.height;(o===e||isNaN(o)&&isNaN(e))&&(r===n||isNaN(r)&&isNaN(n))||(this.Mc=t=t.G(),this.o(),this instanceof Yl&&this.cc(),this.g("desiredSize",i,t),ns(this)&&(null!==(t=this.part)&&(Wa(this,t,"width"),Wa(this,t,"height"))))}},width:{get:function(){return this.Mc.width},set:function(t){var e=this.Mc.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Mc,this.Mc=t=new Rt(t,this.Mc.height).freeze(),this.o(),this instanceof Yl&&this.cc(),this.g("desiredSize",e,t),ns(this)&&(null!==(t=this.part)&&Wa(this,t,"width")))}},height:{get:function(){return this.Mc.height},set:function(t){var e=this.Mc.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Mc,this.Mc=t=new Rt(this.Mc.width,t).freeze(),this.o(),this instanceof Yl&&this.cc(),this.g("desiredSize",e,t),ns(this)&&(null!==(t=this.part)&&Wa(this,t,"height")))}},minSize:{get:function(){return this.bg},set:function(t){var e=this.bg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.bg=t,this.o(),this.g("minSize",e,t))}},maxSize:{get:function(){return this.ag},set:function(t){var e=this.ag;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.ag=t,this.o(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.oc}},naturalBounds:{get:function(){return this.pc}},margin:{get:function(){return this.bh},set:function(t){"number"===typeof t&&(t=new Jt(t));var e=this.bh;e.w(t)||(this.bh=t=t.G(),this.o(),this.g("margin",e,t))}},transform:{get:function(){return 0!==(2048&this.F)===!0&&Ya(this),this.nb}},wd:{get:function(){return 0!==(4096&this.F)===!0&&Ya(this),this.Qh}},alignment:{get:function(){return this.wb},set:function(t){var e=this.wb;e.w(t)||(t.kc()&&!t.Mb()&&_("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.wb=t=t.G(),Za(this),this.g("alignment",e,t))}},column:{get:function(){return this.Lg},set:function(t){t=Math.round(t);var e=this.Lg;e!==t&&(0>t&&x(t,">= 0",za,"column"),this.Lg=t,this.o(),this.g("column",e,t))}},columnSpan:{get:function(){return this.hn},set:function(t){t=Math.round(t);var e=this.hn;e!==t&&(1>t&&x(t,">= 1",za,"columnSpan"),this.hn=t,this.o(),this.g("columnSpan",e,t))}},row:{get:function(){return this.rp},set:function(t){t=Math.round(t);var e=this.rp;e!==t&&(0>t&&x(t,">= 0",za,"row"),this.rp=t,this.o(),this.g("row",e,t))}},rowSpan:{get:function(){return this.sp},set:function(t){t=Math.round(t);var e=this.sp;e!==t&&(1>t&&x(t,">= 1",za,"rowSpan"),this.sp=t,this.o(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return this.Mp},set:function(t){var e=this.Mp;e!==t&&(this.Mp=t,this.o(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.Hk},set:function(t){var e=this.Hk;e.w(t)||(this.Hk=t=t.G(),this.o(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.fp},set:function(t){var e=this.fp;if(e!==t){var n=this.part;null===n||n instanceof yh||(_("Cannot set portID on a Link: "+t),n=null),null!==e&&null!==n&&Th(n,this),this.fp=t,null!==t&&null!==n&&(n.Fh=!0,Ih(n,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.O?this.O.vh:ie},set:function(t){this.Fc();var e=this.O.vh;e.w(t)||(t=t.G(),this.O.vh=t,this.g("toSpot",e,t),hs(this))}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.th:10},set:function(t){this.Fc();var e=this.O.th;e!==t&&(0>t&&x(t,">= 0",za,"toEndSegmentLength"),this.O.th=t,this.g("toEndSegmentLength",e,t),hs(this))}},toShortLength:{get:function(){return null!==this.O?this.O.uh:0},set:function(t){this.Fc();var e=this.O.uh;e!==t&&(this.O.uh=t,this.g("toShortLength",e,t),hs(this))}},toLinkable:{get:function(){return null!==this.O?this.O.Vp:null},set:function(t){this.Fc();var e=this.O.Vp;e!==t&&(this.O.Vp=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.O?this.O.Wp:1/0},set:function(t){this.Fc();var e=this.O.Wp;e!==t&&(0>t&&x(t,">= 0",za,"toMaxLinks"),this.O.Wp=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.Vg:ie},set:function(t){this.Fc();var e=this.O.Vg;e.w(t)||(t=t.G(),this.O.Vg=t,this.g("fromSpot",e,t),hs(this))}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.Tg:10},set:function(t){this.Fc();var e=this.O.Tg;e!==t&&(0>t&&x(t,">= 0",za,"fromEndSegmentLength"),this.O.Tg=t,this.g("fromEndSegmentLength",e,t),hs(this))}},fromShortLength:{get:function(){return null!==this.O?this.O.Ug:0},set:function(t){this.Fc();var e=this.O.Ug;e!==t&&(this.O.Ug=t,this.g("fromShortLength",e,t),hs(this))}},fromLinkable:{get:function(){return null!==this.O?this.O.Mn:null},set:function(t){this.Fc();var e=this.O.Mn;e!==t&&(this.O.Mn=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.O?this.O.Nn:1/0},set:function(t){this.Fc();var e=this.O.Nn;e!==t&&(0>t&&x(t,">= 0",za,"fromMaxLinks"),this.O.Nn=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.N?this.N.Kf:null},set:function(t){Ha(this);var e=this.N.Kf;e!==t&&(this.N.Kf=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.N?this.N.Pf:null},set:function(t){Ha(this);var e=this.N.Pf;e!==t&&(this.N.Pf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.N?this.N.Lf:null},set:function(t){Ha(this);var e=this.N.Lf;e!==t&&(this.N.Lf=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.N?this.N.dg:null},set:function(t){Ha(this);var e=this.N.dg;e!==t&&(this.N.dg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.N?this.N.gg:null},set:function(t){Ha(this);var e=this.N.gg;e!==t&&(this.N.gg=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.N?this.N.hg:null},set:function(t){Ha(this);var e=this.N.hg;e!==t&&(this.N.hg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.N?this.N.fg:null},set:function(t){Ha(this);var e=this.N.fg;e!==t&&(this.N.fg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.N?this.N.eg:null},set:function(t){Ha(this);var e=this.N.eg;e!==t&&(this.N.eg=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.N?this.N.Ho:null},set:function(t){Ha(this);var e=this.N.Ho;e!==t&&(this.N.Ho=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.N?this.N.Io:null},set:function(t){Ha(this);var e=this.N.Io;e!==t&&(this.N.Io=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.N?this.N.cg:null},set:function(t){Ha(this);var e=this.N.cg;e!==t&&(this.N.cg=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.N?this.N.Qm:null},set:function(t){Ha(this);var e=this.N.Qm;e!==t&&(this.N.Qm=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.N?this.N.Rm:null},set:function(t){Ha(this);var e=this.N.Rm;e!==t&&(this.N.Rm=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.N?this.N.Sm:null},set:function(t){Ha(this);var e=this.N.Sm;e!==t&&(this.N.Sm=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.N?this.N.Pm:null},set:function(t){Ha(this);var e=this.N.Pm;e!==t&&(this.N.Pm=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.N?this.N.rg:null},set:function(t){Ha(this);var e=this.N.rg;e!==t&&(this.N.rg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.N?this.N.Mf:null},set:function(t){Ha(this);var e=this.N.Mf;e!==t&&(this.N.Mf=t,this.g("contextMenu",e,t))}}}),za.prototype.setProperties=za.prototype.mw,za.prototype.findTemplateBinder=za.prototype.Wi,za.prototype.bind=za.prototype.bind,za.prototype.isEnabledObject=za.prototype.Bg,za.prototype.isVisibleObject=za.prototype.zf,za.prototype.isContainedBy=za.prototype.Ag,za.prototype.getNearestIntersectionPoint=za.prototype.Uc,za.prototype.getLocalPoint=za.prototype.st,za.prototype.getDocumentScale=za.prototype.vf,za.prototype.getDocumentAngle=za.prototype.Zi,za.prototype.getDocumentBounds=za.prototype.mm,za.prototype.getDocumentPoint=za.prototype.ga,za.prototype.intersectsRect=za.prototype.Hc,za.prototype.containedInRect=za.prototype.Dh,za.prototype.containsRect=za.prototype.Be,za.prototype.containsPoint=za.prototype.aa,za.prototype.raiseChanged=za.prototype.g,za.prototype.raiseChangedEvent=za.prototype.$a,za.prototype.addCopyProperty=za.prototype.wx;var vs=null;function ys(){this.Fn=this.Mf=this.rg=this.Pm=this.Sm=this.Rm=this.Qm=this.cg=this.Io=this.Ho=this.eg=this.fg=this.hg=this.gg=this.dg=this.Lf=this.Pf=this.Kf=null}function _s(){this.Ka=[1,0,0,1,0,0]}function bs(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.Ex=[],this.pattern=null}function xs(t,e){this.ownerDocument=t=void 0===e?p.document:e,this.jA="http://www.w3.org/2000/svg",void 0!==t&&(this.Ea=this.ub("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.Ea.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Ea.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.mq=null,this.context=new ws(this)}function ws(t){this.Ak=t,this.svg=t.Ea,this.stack=[],this.yc=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.ef=this.Ip=this.Hp=0,this.xq=null,this.path=[],this.Au=!1,this.oh=null,this.ph=0,this.Ud=new _s,ks(this,1,0,0,1,0,0);var e=at++,n=this.ub("clipPath",{id:"mainClip"+e});n.appendChild(this.ub("rect",{x:0,y:0,width:t.width,height:t.height})),this.Ju=n,this.Ak.Ea.appendChild(n),this.yc[0].setAttributeNS(null,"clip-path","url(#mainClip"+e+")"),this.lA={}}function Cs(t,e,n,i,o){1!==t.globalAlpha&&(n.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof bs?n.fill=Ss(t,t.fillStyle):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),n.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",n["fill-opacity"]=t[4]):n.fill=t.fillStyle,n.stroke="none"):"stroke"===e&&(n.fill="none",t.strokeStyle instanceof bs?n.stroke=Ss(t,t.strokeStyle):/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),n.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",n["stroke-opacity"]=e[4]):n.stroke=t.strokeStyle,n["stroke-width"]=t.lineWidth,n["stroke-linecap"]=t.lineCap,n["stroke-linejoin"]=t.lineJoin,n["stroke-miterlimit"]=t.miterLimit),i="matrix("+(i=i.Ka)[0]+", "+i[1]+", "+i[2]+", "+i[3]+", "+i[4]+", "+i[5]+")",void 0!==o&&(i+=o),n.transform=i}function Ss(t,e){var n="GRAD"+at++;if("linear"===e.type)var i=t.ub("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:n,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");i=t.ub("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:n})}var o=e.Ex;e=o.length;for(var r=[],a=0;a<e;a++){var s=o[a],l=s.color;s={offset:s.offset,"stop-color":l},/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),s["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",s["stop-opacity"]=l[4]),r.push(s)}for(r.sort((function(t,e){return t.offset>e.offset?1:-1})),o=0;o<e;o++)i.appendChild(t.ub("stop",r[o]));return t.svg.appendChild(i),"url(#"+n+")"}function ks(t,e,n,i,o,r,a){var s=new _s;s.Ka=[e,n,i,o,r,a],Cs(t,"g",e={},s),s=t.addElement("g",e),t.yc.push(s)}function Es(t){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function Is(t){t.shadowOffsetX=t.Hp,t.shadowOffsetY=t.Ip,t.shadowBlur=t.ef}function Ts(t,e){this.ownerDocument=e=void 0===e?p.document:e,this.mq=null,(e=e.createElement("canvas")).tabIndex=0,this.Ea=e,this.Ea.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new Ds(e),e.B=t}function Ds(t){t.getContext&&t.getContext("2d")||_("Browser does not support HTML Canvas Element"),this.Y=t.getContext("2d"),this.cu=this.eu=this.du="",this.gn=!1,this.ef=this.Ip=this.Hp=0}za.className="GraphObject",vs=new dt,gs("Button",(function(){function t(t,e){return null!==t.diagram.Ub(t.documentPoint,(function(t){for(;null!==t.panel&&!t.isActionable;)t=t.panel;return t}),(function(t){return t===e}))}var e=fs(wl,wl.Auto,{isActionable:!0,enabledChanged:function(t,e){if(t instanceof wl){var n=t.Za("ButtonBorder");null!==n&&(n.fill=e?t._buttonFillNormal:t._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},fs(Yl,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new je(0,0,2.76142374915397,2.761423749153969),spot2:new je(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(t,e){if(e.Bg()&&e instanceof wl&&(t=e.Za("ButtonBorder"))instanceof Yl){var n=e._buttonFillOver;e._buttonFillNormal=t.fill,t.fill=n,n=e._buttonStrokeOver,e._buttonStrokeNormal=t.stroke,t.stroke=n}},e.mouseLeave=function(t,e){e.Bg()&&e instanceof wl&&((t=e.Za("ButtonBorder"))instanceof Yl&&(t.fill=e._buttonFillNormal,t.stroke=e._buttonStrokeNormal))},e.actionDown=function(t,e){if(e.Bg()&&e instanceof wl&&null!==e._buttonFillPressed&&0===t.button){var n=e.Za("ButtonBorder");if(n instanceof Yl){var i=(t=t.diagram).skipsUndoManager;t.skipsUndoManager=!0;var o=e._buttonFillPressed;e._buttonFillOver=n.fill,n.fill=o,o=e._buttonStrokePressed,e._buttonStrokeOver=n.stroke,n.stroke=o,t.skipsUndoManager=i}}},e.actionUp=function(e,n){if(n.Bg()&&n instanceof wl&&null!==n._buttonFillPressed&&0===e.button){var i=n.Za("ButtonBorder");if(i instanceof Yl){var o=e.diagram,r=o.skipsUndoManager;o.skipsUndoManager=!0,t(e,n)?(i.fill=n._buttonFillOver,i.stroke=n._buttonStrokeOver):(i.fill=n._buttonFillNormal,i.stroke=n._buttonStrokeNormal),o.skipsUndoManager=r}}},e.actionCancel=function(e,n){if(n.Bg()&&n instanceof wl&&null!==n._buttonFillPressed){var i=n.Za("ButtonBorder");if(i instanceof Yl){var o=e.diagram,r=o.skipsUndoManager;o.skipsUndoManager=!0,t(e,n)?(i.fill=n._buttonFillOver,i.stroke=n._buttonStrokeOver):(i.fill=n._buttonFillNormal,i.stroke=n._buttonStrokeNormal),o.skipsUndoManager=r}}},e.actionMove=function(e,n){if(n.Bg()&&n instanceof wl&&null!==n._buttonFillPressed){var i=e.diagram;if(0===i.firstInput.button&&(i.currentTool.standardMouseOver(),t(e,n)&&(e=n.Za("ButtonBorder"))instanceof Yl)){var o=i.skipsUndoManager;i.skipsUndoManager=!0;var r=n._buttonFillPressed;e.fill!==r&&(e.fill=r),r=n._buttonStrokePressed,e.stroke!==r&&(e.stroke=r),i.skipsUndoManager=o}}},e})),gs("TreeExpanderButton",(function(){var t=fs("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},fs(Yl,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Dt},new Zd("figure","isTreeExpanded",(function(t,e){return e=e.panel,t?e._treeExpandedFigure:e._treeCollapsedFigure})).Dq()),{visible:!1},new Zd("visible","isTreeLeaf",(function(t){return!t})).Dq());return t.click=function(t,e){if((e=e.part)instanceof vh&&(e=e.adornedPart),e instanceof yh){var n=e.diagram;if(null!==n){if(n=n.commandHandler,e.isTreeExpanded){if(!n.canCollapseTree(e))return}else if(!n.canExpandTree(e))return;t.handled=!0,e.isTreeExpanded?n.collapseTree(e):n.expandTree(e)}}},t})),gs("SubGraphExpanderButton",(function(){var t=fs("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},fs(Yl,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Dt},new Zd("figure","isSubGraphExpanded",(function(t,e){return e=e.panel,t?e._subGraphExpandedFigure:e._subGraphCollapsedFigure})).Dq()));return t.click=function(t,e){if((e=e.part)instanceof vh&&(e=e.adornedPart),e instanceof Ph){var n=e.diagram;if(null!==n){if(n=n.commandHandler,e.isSubGraphExpanded){if(!n.canCollapseSubGraph(e))return}else if(!n.canExpandSubGraph(e))return;t.handled=!0,e.isSubGraphExpanded?n.collapseSubGraph(e):n.expandSubGraph(e)}}},t})),gs("ToolTip",(function(){return fs(vh,wl.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new ft(0,3),shadowBlur:5},fs(Yl,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new je(0,0,4,6),spot2:new je(1,1,-4,-4)}))})),gs("ContextMenu",(function(){return fs(vh,wl.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new ft(0,3),shadowBlur:5},new Zd("background","",(function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"})))})),gs("ContextMenuButton",(function(){var t=fs("Button");t.stretch=qr;var e=t.Za("ButtonBorder");return e instanceof Yl&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new je(0,0,2,3),e.spot2=new je(1,1,-2,-2)),t})),gs("PanelExpanderButton",(function(t){var e=ms(t,"COLLAPSIBLE"),n=fs("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},fs(Yl,{name:"ButtonIcon",strokeWidth:2},new Zd("geometryString","visible",(function(t){return t?n._buttonExpandedFigure:n._buttonCollapsedFigure})).Dq(e)));return(t=n.Za("ButtonBorder"))instanceof Yl&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),n.click=function(t,n){var i=n.diagram;if(null!==i&&!i.isReadOnly){var o=n.Wi();null===o&&(o=n.part),null!==o&&(null!==(n=o.Za(e))&&(t.handled=!0,i.ua("Collapse/Expand Panel"),n.visible=!n.visible,i.Va("Collapse/Expand Panel")))}},n})),gs("CheckBoxButton",(function(t){var e=ms(t);return(t=fs("Button",{desiredSize:new Rt(14,14)},fs(Yl,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:Gr,geometryStretch:$r,visible:!1},""!==e?new Zd("visible",e).Zx():[]))).click=function(t,n){if(n instanceof wl){var i=t.diagram;if(!(null===i||i.isReadOnly||""!==e&&i.model.isReadOnly)){t.handled=!0;var o=n.Za("ButtonIcon");i.ua("checkbox"),o.visible=!o.visible,"function"===typeof n._doClick&&n._doClick(t,n),i.Va("checkbox")}}},t})),gs("CheckBox",(function(t){t=fs("CheckBoxButton",t=ms(t),{name:"Button",isActionable:!1,margin:new Jt(0,1,0,0)});var e=fs(wl,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e})),za.None=Kr=new K(za,"None",0),za.Default=Ur=new K(za,"Default",0),za.Vertical=Yr=new K(za,"Vertical",4),za.Horizontal=qr=new K(za,"Horizontal",5),za.Fill=Gr=new K(za,"Fill",3),za.Uniform=$r=new K(za,"Uniform",1),za.UniformToFill=Xr=new K(za,"UniformToFill",2),za.FlipVertical=Zr=new K(za,"FlipVertical",1),za.FlipHorizontal=Jr=new K(za,"FlipHorizontal",2),za.FlipBoth=Qr=new K(za,"FlipBoth",3),za.make=fs,za.getBuilders=function(){var t,e=new dt;for(t in vs)if(t!==t.toLowerCase()){var n=vs.H(t);"function"===typeof n&&e.add(t,n)}return e.freeze(),e},za.defineBuilder=gs,za.takeBuilderArgument=ms,ys.prototype.copy=function(){var t=new ys;return t.Kf=this.Kf,t.Pf=this.Pf,t.Lf=this.Lf,t.dg=this.dg,t.gg=this.gg,t.hg=this.hg,t.fg=this.fg,t.eg=this.eg,t.Ho=this.Ho,t.Io=this.Io,t.cg=this.cg,t.Qm=this.Qm,t.Rm=this.Rm,t.Sm=this.Sm,t.Pm=this.Pm,t.rg=this.rg,t.Mf=this.Mf,t.Fn=this.Fn,t},ys.className="GraphObjectEventHandlers",_s.prototype.copy=function(){var t=new _s;return t.Ka[0]=this.Ka[0],t.Ka[1]=this.Ka[1],t.Ka[2]=this.Ka[2],t.Ka[3]=this.Ka[3],t.Ka[4]=this.Ka[4],t.Ka[5]=this.Ka[5],t},_s.prototype.translate=function(t,e){this.Ka[4]+=this.Ka[0]*t+this.Ka[2]*e,this.Ka[5]+=this.Ka[1]*t+this.Ka[3]*e},_s.prototype.scale=function(t,e){this.Ka[0]*=t,this.Ka[1]*=t,this.Ka[2]*=e,this.Ka[3]*=e},_s.className="STransform",bs.prototype.addColorStop=function(t,e){this.Ex.push({offset:t,color:e})},bs.className="SGradient",xs.prototype.resize=function(t,e,n,i){return(this.width!==t||this.height!==e)&&(this.style.width=n+"px",this.style.height=i+"px",this.Ea.setAttributeNS(null,"width",n+"px"),this.Ea.setAttributeNS(null,"height",i+"px"),this.Ea.setAttributeNS(null,"viewBox","0 0 "+n+" "+i),this.context.Ju.firstElementChild.setAttributeNS(null,"width",n+"px"),this.context.Ju.firstElementChild.setAttributeNS(null,"height",i+"px"),!0)},xs.prototype.ub=function(t,e,n){if(t=this.ownerDocument.createElementNS(this.jA,t),S(e))for(var i in e)t.setAttributeNS("href"===i?"http://www.w3.org/1999/xlink":"",i,e[i]);return void 0!==n&&(t.textContent=n),t},xs.prototype.getBoundingClientRect=function(){return this.Ea.getBoundingClientRect()},xs.prototype.focus=function(){this.Ea.focus()},xs.prototype.Jx=function(){this.ownerDocument=null},d.Object.defineProperties(xs.prototype,{width:{get:function(){return this.Ea.width.baseVal.value},set:function(t){this.Ea.width=t}},height:{get:function(){return this.Ea.height.baseVal.value},set:function(t){this.Ea.height=t}},style:{get:function(){return this.Ea.style}}}),xs.className="SVGSurface",(n=ws.prototype).reset=function(){this.stack=[],this.yc=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.ef=this.Ip=this.Hp=0,this.xq=null,this.path=[],this.Ud=new _s,ks(this,1,0,0,1,0,0);var t=at++,e=this.ub("clipPath",{id:"mainClip"+t});e.appendChild(this.ub("rect",{x:0,y:0,width:this.Ak.width,height:this.Ak.height})),this.Ju=e,this.Ak.Ea.appendChild(e),this.yc[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")")},n.arc=function(t,e,n,i,o,r,a,s){var l=2*Math.PI,u=l-1e-6,h=n*Math.cos(i),c=n*Math.sin(i),d=t+h,f=e+c,p=r?0:1;i=r?i-o:o-i,(1e-6<Math.abs(a-d)||1e-6<Math.abs(s-f))&&this.path.push(["L",d,+f]),0>i&&(i=i%l+l),i>u?(this.path.push(["A",n,n,0,1,p,t-h,e-c]),this.path.push(["A",n,n,0,1,p,d,f])):1e-6<i&&this.path.push(["A",n,n,0,+(i>=Math.PI),p,t+n*Math.cos(o),e+n*Math.sin(o)])},n.beginPath=function(){this.path=[]},n.bezierCurveTo=function(t,e,n,i,o,r){this.path.push(["C",t,e,n,i,o,r])},n.clearRect=function(){},n.clip=function(){this.addPath("clipPath",this.path,this.Ud),this.addPath("clipPath",this.path,new _s)},n.closePath=function(){this.path.push(["z"])},n.createLinearGradient=function(t,e,n,i){var o=new bs("linear");return o.x1=t,o.y1=e,o.x2=n,o.y2=i,o},n.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var n=this.lA;if(n[e])return"url(#"+n[e]+")";var i="PATTERN"+at++,o={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.ub("pattern",{width:t.width,height:t.height,id:i,patternUnits:"userSpaceOnUse"})).appendChild(this.ub("image",o)),this.svg.appendChild(t),n[e]=i,"url(#"+i+")"},n.createRadialGradient=function(t,e,n,i,o,r){var a=new bs("radial");return a.x1=t,a.y1=e,a.r1=n,a.x2=i,a.y2=o,a.r2=r,a},n.drawImage=function(t,e,n,i,o,r,a,s,l){var u="";t instanceof HTMLCanvasElement&&(u=t.toDataURL()),t instanceof HTMLImageElement&&(u=t.getAttribute("src"));var h=t instanceof HTMLImageElement?t.naturalWidth:t.width,c=t instanceof HTMLImageElement?t.naturalHeight:t.height;void 0===i&&(r=e,a=n,s=i=h,l=o=c),i=i||0,o=o||0,r=r||0,a=a||0,s=s||0,l=l||0,t={x:0,y:0,width:h||i,height:c||o,href:u},Ue.$(i,s)&&Ue.$(o,l)?-1===u.toLowerCase().indexOf(".svg")&&-1===u.toLowerCase().indexOf("data:image/svg")&&(t.preserveAspectRatio="xMidYMid slice"):t.preserveAspectRatio="none",u="",l/=o,0===r&&0===a||(u+=" translate("+r+", "+a+")"),1===(s/=i)&&1===l||(u+=" scale("+s+", "+l+")"),0===e&&0===n||(u+=" translate("+-e+", "+-n+")"),0===e&&0===n&&i===h&&o===c||(r="CLIP"+at++,(a=this.ub("clipPath",{id:r})).appendChild(this.ub("rect",{x:e,y:n,width:i,height:o})),this.svg.appendChild(a),t["clip-path"]="url(#"+r+")"),Cs(this,"image",t,this.Ud,u),this.addElement("image",t)},n.fill=function(){this.addPath("fill",this.path,this.Ud)},n.Vd=function(){this.clipInsteadOfFill?this.clip():this.fill()},n.fillRect=function(t,e,n,i){Cs(this,"fill",t={x:(t=[t,e,n,i])[0],y:t[1],width:t[2],height:t[3]},this.Ud),this.addElement("rect",t)},n.fillText=function(t,e,n){t=[t,e,n],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),Cs(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.Ud),this.addElement("text",e,t[0])},n.lineTo=function(t,e){this.path.push(["L",t,e])},n.moveTo=function(t,e){this.path.push(["M",t,e])},n.quadraticCurveTo=function(t,e,n,i){this.path.push(["Q",t,e,n,i])},n.rect=function(t,e,n,i){this.path.push(["M",t,e],["L",t+n,e],["L",t+n,e+i],["L",t,e+i],["z"])},n.restore=function(){this.Ud=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},n.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.Ud.copy())},n.setTransform=function(t,e,n,i,o,r){1===t&&0===e&&0===n&&1===i&&0===o&&0===r||ks(this,t,e,n,i,o,r)},n.scale=function(t,e){this.Ud.scale(t,e)},n.translate=function(t,e){this.Ud.translate(t,e)},n.transform=function(){},n.stroke=function(){this.addPath("stroke",this.path,this.Ud)},n.ij=function(){this.clipInsteadOfFill||this.stroke()},n.ub=function(t,e,n){return this.Ak.ub(t,e,n)},n.addElement=function(t,e,n){return t=this.ub(t,e,n),0<this.yc.length?this.yc[this.yc.length-1].appendChild(t):this.svg.appendChild(t),this.xq=t},n.addPath=function(t,e,n){for(var i=[],o=0;o<e.length;o++){var r=E(e[o]),a=[r.shift()];if("A"===a[0])a.push(r.shift()+","+r.shift(),r.shift(),r.shift()+","+r.shift(),r.shift()+","+r.shift());else for(;r.length;)a.push(r.shift()+","+r.shift());i.push(a.join(" "))}e={d:i.join(" ")},"stroke"===t&&this.Au&&(e["stroke-dasharray"]=this.oh.toString(),e["stroke-dashoffset"]=this.ph),Cs(this,t,e,n),"clipPath"===t?(t="CLIP"+at++,(n=this.ub("clipPath",{id:t})).appendChild(this.ub("path",e)),this.svg.appendChild(n),0<this.yc.length&&this.yc[this.yc.length-1].setAttributeNS(null,"clip-path","url(#"+t+")")):this.addElement("path",e)},n.Oq=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t="SHADOW"+at++,e=this.addElement("filter",{id:t,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),n=this.ub("feGaussianBlur",{in:"SourceAlpha",result:"blur",NA:this.shadowBlur/2}),i=this.ub("feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),o=this.ub("feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"}),r=this.ub("feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),a=this.ub("feMerge",{});a.appendChild(this.ub("feMergeNode",{in:"offsetBlur"})),a.appendChild(this.ub("feMergeNode",{in:"SourceGraphic"})),e.appendChild(n),e.appendChild(i),e.appendChild(o),e.appendChild(r),e.appendChild(a),0<this.yc.length&&this.yc[this.yc.length-1].setAttributeNS(null,"filter","url(#"+t+")")}},n.nw=function(t,e,n){this.Hp=t,this.Ip=e,this.ef=n},n.lt=function(t,e){this.Au=!0,this.oh=t,this.ph=e},n.jt=function(){this.Au=!1},n.sc=function(){},n.oy=function(){},ws.prototype.rotate=function(){},ws.prototype.getImageData=function(){return null},ws.prototype.measureText=function(){return null},ws.className="SVGContext",Po.prototype.Et=function(t){var e=new xs(this,p.document);void 0===t&&(t=new q);var n=this;return Hr(this,(function(t,i){return t=null!==(t=Wr(n,t,"SVG",e))?t.svg:null,"function"===typeof i?(i(t),null):t}),t)},Po.prototype.makeSvg=Po.prototype.Et,Po.prototype.Pv=function(t){return this.Et(t)},Po.prototype.makeSVG=Po.prototype.Pv,za.prototype.Kx=function(t,e){if(!(t instanceof ws))return!1;if(!this.visible)return!0;var n=null,i=t.xq;if(this instanceof wl&&(this.type===wl.TableRow||this.type===wl.TableColumn))return Ua(this,t,e),!0;var o=this.vb;if(0===o.width||0===o.height||isNaN(o.x)||isNaN(o.y))return!0;var r=this.transform,a=this.panel;0!==(4096&this.F)===!0&&Ya(this);var s=0!==(256&this.F),l=!1;if(this instanceof ru&&(t.font=this.font),s){if(l=a.be()?a.naturalBounds:a.actualBounds,null!==this.md){var u=this.md,h=u.x,c=u.y,d=u.width;u=u.height}else h=Math.max(o.x,l.x),c=Math.max(o.y,l.y),d=Math.min(o.right,l.right)-h,u=Math.min(o.bottom,l.bottom)-c;if(h>o.width+o.x||o.x>l.width+l.x||c>o.height+o.y||o.y>l.height+l.y)return!0;l=!0,ks(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(h,c,d,u),t.clip()}if(this.yf()&&!this.isVisible())return!0;if(t.Ud.Ka=[1,0,0,1,0,0],(this instanceof ru&&1<this.lineCount||this instanceof Yl&&1<this.geometry.figures.length)&&ks(t,1,0,0,1,0,0),h=!1,this.yf()&&this.isShadowed&&e.De("drawShadows")&&(c=this.shadowOffset,t.nw(c.x*e.scale*e.Sb,c.y*e.scale*e.Sb,this.shadowBlur),Is(t),t.shadowColor=this.shadowColor),c=!1,this.part&&e.De("drawShadows")&&(c=this.part.isShadowed),!0===this.shadowVisible?(Is(t),!1===h&&c&&(ks(t,1,0,0,1,0,0),t.Oq(),h=!0)):!1===this.shadowVisible&&Es(t),d=this.naturalBounds,null!==this.areaBackground&&(qa(this,t,this.areaBackground,!0,!0,d,o),!1===h&&c&&(ks(t,1,0,0,1,0,0),t.Oq(),h=!0),this.areaBackground instanceof Ps&&this.areaBackground.type===qs?(t.beginPath(),t.rect(o.x,o.y,o.width,o.height),t.Vd(this.areaBackground)):t.fillRect(o.x,o.y,o.width,o.height)),this instanceof wl?ks(t,r.m11,r.m12,r.m21,r.m22,r.dx,r.dy):t.Ud.Ka=[r.m11,r.m12,r.m21,r.m22,r.dx,r.dy],null!==this.background){!1===h&&c&&(ks(t,1,0,0,1,0,0),t.Oq(),h=!0);var f=this.naturalBounds;u=r=0;var p=f.width;f=f.height;var g=0;this instanceof Yl&&(r=(f=this.geometry.bounds).x,u=f.y,p=f.width,f=f.height,g=this.strokeWidth),qa(this,t,this.background,!0,!1,d,o),this.background instanceof Ps&&this.background.type===qs?(t.beginPath(),t.rect(r-g/2,u-g/2,p+g,f+g),t.Vd(this.background)):t.fillRect(r-g/2,u-g/2,p+g,f+g)}return c&&(null!==this.background||null!==this.areaBackground||null!==a&&0!==(512&a.F)||null!==a&&(a.type===wl.Auto||a.type===wl.Spot)&&a.Ab()!==this)?(es(this,!0),null===this.shadowVisible&&Es(t)):es(this,!1),this.Si(t,e),c&&0!==(512&this.F)===!0&&Is(t),this.yf()&&c&&Es(t),s&&(t.restore(),l&&t.yc.pop()),this instanceof wl&&(n=t.yc.pop()),!0===h&&t.yc.pop(),(this instanceof ru&&1<this.lineCount||this instanceof Yl&&1<this.geometry.figures.length)&&(n=t.yc.pop()),null!==t.Ak.mq&&(null===n&&(i===t.xq?(ks(t,1,0,0,1,0,0),n=t.yc.pop()):n=t.xq),t.Ak.mq(this,n)),this.svg=n,!0},Ts.prototype.resize=function(t,e,n,i){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=n+"px",this.style.height=i+"px",!0)},Ts.prototype.toDataURL=function(t,e){return this.Ea.toDataURL(t,e)},Ts.prototype.getBoundingClientRect=function(){return this.Ea.getBoundingClientRect()},Ts.prototype.focus=function(){this.Ea.focus()},Ts.prototype.Jx=function(){this.ownerDocument=this.Ea.B=null},d.Object.defineProperties(Ts.prototype,{width:{get:function(){return this.Ea.width},set:function(t){this.Ea.width=t}},height:{get:function(){return this.Ea.height},set:function(t){this.Ea.height=t}},style:{get:function(){return this.Ea.style}}}),Ts.className="CanvasSurface",(n=Ds.prototype).oy=function(t){this.Y.imageSmoothingEnabled=t},n.arc=function(t,e,n,i,o,r){this.Y.arc(t,e,n,i,o,r)},n.beginPath=function(){this.Y.beginPath()},n.bezierCurveTo=function(t,e,n,i,o,r){this.Y.bezierCurveTo(t,e,n,i,o,r)},n.clearRect=function(t,e,n,i){this.Y.clearRect(t,e,n,i)},n.clip=function(){this.Y.clip()},n.closePath=function(){this.Y.closePath()},n.createLinearGradient=function(t,e,n,i){return this.Y.createLinearGradient(t,e,n,i)},n.createPattern=function(t,e){return this.Y.createPattern(t,e)},n.createRadialGradient=function(t,e,n,i,o,r){return this.Y.createRadialGradient(t,e,n,i,o,r)},n.drawImage=function(t,e,n,i,o,r,a,s,l){void 0===i?this.Y.drawImage(t,e,n):this.Y.drawImage(t,e,n,i,o,r,a,s,l)},n.fill=function(){this.Y.fill()},n.fillRect=function(t,e,n,i){this.Y.fillRect(t,e,n,i)},n.fillText=function(t,e,n){this.Y.fillText(t,e,n)},n.getImageData=function(t,e,n,i){return this.Y.getImageData(t,e,n,i)},n.lineTo=function(t,e){this.Y.lineTo(t,e)},n.measureText=function(t){return this.Y.measureText(t)},n.moveTo=function(t,e){this.Y.moveTo(t,e)},n.quadraticCurveTo=function(t,e,n,i){this.Y.quadraticCurveTo(t,e,n,i)},n.rect=function(t,e,n,i){this.Y.rect(t,e,n,i)},n.restore=function(){this.Y.restore()},Ds.prototype.rotate=function(t){this.Y.rotate(t)},(n=Ds.prototype).save=function(){this.Y.save()},n.setTransform=function(t,e,n,i,o,r){this.Y.setTransform(t,e,n,i,o,r)},n.scale=function(t,e){this.Y.scale(t,e)},n.stroke=function(){this.Y.stroke()},n.transform=function(t,e,n,i,o,r){1===t&&0===e&&0===n&&1===i&&0===o&&0===r||this.Y.transform(t,e,n,i,o,r)},n.translate=function(t,e){this.Y.translate(t,e)},n.Vd=function(t){if(t instanceof Ps&&t.type===qs){var e=t.Ok;(t=t.fu)>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.gn?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.gn?this.clip():this.fill()},n.ij=function(){this.gn||this.stroke()},n.nw=function(t,e,n){this.Hp=t,this.Ip=e,this.ef=n},n.lt=function(t,e){var n=this.Y;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)},n.jt=function(){var t=this.Y;void 0!==t.setLineDash&&(t.setLineDash(Ms),t.lineDashOffset=0)},n.sc=function(t){t&&(this.du=""),this.cu=this.eu=""},d.Object.defineProperties(Ds.prototype,{fillStyle:{get:function(){return this.Y.fillStyle},set:function(t){this.cu!==t&&(this.cu=this.Y.fillStyle=t)}},font:{get:function(){return this.Y.font},set:function(t){this.du!==t&&(this.du=this.Y.font=t)}},globalAlpha:{get:function(){return this.Y.globalAlpha},set:function(t){this.Y.globalAlpha=t}},lineCap:{get:function(){return this.Y.lineCap},set:function(t){this.Y.lineCap=t}},lineDashOffset:{get:function(){return this.Y.lineDashOffset},set:function(t){this.Y.lineDashOffset=t}},lineJoin:{get:function(){return this.Y.lineJoin},set:function(t){this.Y.lineJoin=t}},lineWidth:{get:function(){return this.Y.lineWidth},set:function(t){this.Y.lineWidth=t}},miterLimit:{get:function(){return this.Y.miterLimit},set:function(t){this.Y.miterLimit=t}},shadowBlur:{get:function(){return this.Y.shadowBlur},set:function(t){this.Y.shadowBlur=t}},shadowColor:{get:function(){return this.Y.shadowColor},set:function(t){this.Y.shadowColor=t}},shadowOffsetX:{get:function(){return this.Y.shadowOffsetX},set:function(t){this.Y.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Y.shadowOffsetY},set:function(t){this.Y.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Y.strokeStyle},set:function(t){this.eu!==t&&(this.eu=this.Y.strokeStyle=t)}},textAlign:{get:function(){return this.Y.textAlign},set:function(t){this.Y.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Y.imageSmoothingEnabled},set:function(t){this.Y.imageSmoothingEnabled=t}},clipInsteadOfFill:{get:function(){return this.gn},set:function(t){this.gn=t}}});var Ms=Object.freeze([]);function Os(){this.W=this.u=this.I=this.l=0}function Ps(t){al||(Ks(),al=!0),it(this),this.s=!1,void 0===t?(this.pa=$s,this.Nk="black"):"string"===typeof t?(this.pa=$s,this.Nk=t):(this.pa=t,this.Nk="black"),(t=this.pa)===Us?(this.ud=re,this.$k=ce):this.$k=this.ud=t===qs?le:ie,this.Ss=0,this.Er=NaN,this.ee=this.us=this.de=null,this.fu=this.Ok=0}function As(t,e,n){return e=void 0===e||"number"!==typeof e?.2:e,n=void 0===n?Xs:n,Ls(t),Fs(e,n)}function Rs(t,e,n){return e=void 0===e||"number"!==typeof e?.2:e,n=void 0===n?Xs:n,Ls(t),Fs(-e,n)}function Bs(t,e,n){Ls(t),t=nl.l;var i=nl.I,o=nl.u,r=nl.W;return Ls(e),void 0===n&&(n=.5),"rgba("+Math.round((nl.l-t)*n+t)+", "+Math.round((nl.I-i)*n+i)+", "+Math.round((nl.u-o)*n+o)+", "+Math.round((nl.W-r)*n+r)+")"}function Ns(t){return!!t&&(t instanceof Ps?t.Xx():(Ls(t),128>(299*nl.l+587*nl.I+114*nl.u)/1e3))}function Fs(t,e){switch(e){case Xs:e=100*js(nl.l);var n=100*js(nl.I),i=100*js(nl.u);return ol.l=.4124564*e+.3575761*n+.1804375*i,ol.I=.2126729*e+.7151522*n+.072175*i,ol.u=.0193339*e+.119192*n+.9503041*i,ol.W=nl.W,e=Hs(ol.l/tl[0]),n=Hs(ol.I/tl[1]),i=Hs(ol.u/tl[2]),rl.l=116*n-16,rl.I=500*(e-n),rl.u=200*(n-i),rl.W=ol.W,rl.l=Math.min(100,Math.max(0,rl.l+100*t)),e=(t=(rl.l+16)/116)-rl.u/200,ol.l=tl[0]*Ws(rl.I/500+t),ol.I=tl[1]*(rl.l>Qs*Js?Math.pow(t,3):rl.l/Qs),ol.u=tl[2]*Ws(e),ol.W=rl.W,t=-.969266*ol.l+1.8760108*ol.I+.041556*ol.u,e=.0556434*ol.l+-.2040259*ol.I+1.0572252*ol.u,nl.l=255*zs((3.2404542*ol.l+-1.5371385*ol.I+-.4985314*ol.u)/100),nl.I=255*zs(t/100),nl.u=255*zs(e/100),nl.W=ol.W,nl.l=Math.round(nl.l),255<nl.l?nl.l=255:0>nl.l&&(nl.l=0),nl.I=Math.round(nl.I),255<nl.I?nl.I=255:0>nl.I&&(nl.I=0),nl.u=Math.round(nl.u),255<nl.u?nl.u=255:0>nl.u&&(nl.u=0),"rgba("+nl.l+", "+nl.I+", "+nl.u+", "+nl.W+")";case Zs:return Vs(),il.u=Math.min(100,Math.max(0,il.u+100*t)),"hsla("+il.l+", "+il.I+"%, "+il.u+"%, "+il.W+")";default:return _("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function Ls(t){al||(Ks(),al=!0);var e=el;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var n=e.fillStyle;e.fillStyle=t,e.fillStyle!==n?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,nl.l=t[0],nl.I=t[1],nl.u=t[2],nl.W=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,nl.l=0,nl.I=0,nl.u=0,nl.W=1)}}function Vs(){var t=nl.l/255,e=nl.I/255,n=nl.u/255,i=Math.max(t,e,n),o=Math.min(t,e,n),r=i-o;if(o=(i+o)/2,0===r)var a=t=0;else{switch(i){case t:a=(e-n)/r%6;break;case e:a=(n-t)/r+2;break;case n:a=(t-e)/r+4}0>(a*=60)&&(a+=360),t=r/(1-Math.abs(2*o-1))}il.l=Math.round(a),il.I=Math.round(100*t),il.u=Math.round(100*o),il.W=nl.W}function js(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function zs(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Hs(t){return t>Js?Math.pow(t,1/3):(Qs*t+16)/116}function Ws(t){var e=t*t*t;return e>Js?e:(116*t-16)/Qs}function Gs(t,e){"string"!==typeof t&&(t instanceof Ps||_("Value for "+e+" must be a color string or a Brush, not "+t))}function Ks(){el=oa?new Ts(null).context:null}Ds.className="CanvasSurfaceContext",Os.className="ColorNumbers",Ps.prototype.copy=function(){var t=new Ps;return t.pa=this.pa,t.Nk=this.Nk,t.ud=this.ud.G(),t.$k=this.$k.G(),t.Ss=this.Ss,t.Er=this.Er,null!==this.de&&(t.de=this.de.copy()),t.us=this.us,t},(n=Ps.prototype).freeze=function(){return this.s=!0,null!==this.de&&this.de.freeze(),this},n.ea=function(){return Object.isFrozen(this)&&_("cannot thaw constant: "+this),this.s=!1,null!==this.de&&this.de.ea(),this},n.gb=function(t){t.classType===Ps&&(this.type=t)},n.toString=function(){var t="Brush(";if(this.type===$s)t+=this.color;else if(t=this.type===Us?t+"Linear ":this.type===qs?t+"Radial ":this.type===Ys?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},n.addColorStop=function(t,e){return this.s&&b(this),("number"!==typeof t||!isFinite(t)||1<t||0>t)&&x(t,"0 <= loc <= 1",Ps,"addColorStop:loc"),null===this.de&&(this.de=new dt),this.de.add(t,e),this.pa===$s&&(this.type=Us),this.ee=null,this},n.dA=function(t,e){if(this.s&&b(this),t=void 0===t||"number"!==typeof t?.2:t,e=void 0===e?Xs:e,this.type===$s)Ls(this.color),this.color=Fs(t,e);else if((this.type===Us||this.type===qs)&&null!==this.colorStops)for(var n=this.colorStops.iterator;n.next();)Ls(n.value),this.addColorStop(n.key,Fs(t,e));return this},n.bz=function(t,e){if(this.s&&b(this),t=void 0===t||"number"!==typeof t?.2:t,e=void 0===e?Xs:e,this.type===$s)Ls(this.color),this.color=Fs(-t,e);else if((this.type===Us||this.type===qs)&&null!==this.colorStops)for(var n=this.colorStops.iterator;n.next();)Ls(n.value),this.addColorStop(n.key,Fs(-t,e));return this},n.Xx=function(){if(this.type===$s)return Ns(this.color);if((this.type===Us||this.type===qs)&&null!==this.colorStops){var t=this.colorStops;if(this.type===qs)return Ns(t.first().value);if(null!==t.get(.5))return Ns(t.get(.5));if(2===t.count)return Ns(Bs((t=t.na())[0].value,t[1].value));for(var e=t.iterator,n=-1,i=-1,o=1,r=1;e.next();){var a=e.key,s=Math.abs(.5-e.key);o>r&&s<o?(n=a,o=s):r>=o&&s<r&&(i=a,r=s)}return n>i&&(r=n,n=i,i=r,r=o),o=i-n,Ns(Bs(t.get(n),t.get(i),1-r/o))}return!1},d.Object.defineProperties(Ps.prototype,{type:{get:function(){return this.pa},set:function(t){this.s&&b(this,t),this.pa=t,this.start.kc()&&(t===Us?this.start=re:t===qs&&(this.start=le)),this.end.kc()&&(t===Us?this.end=ce:t===qs&&(this.end=le)),this.ee=null}},color:{get:function(){return this.Nk},set:function(t){this.s&&b(this,t),this.Nk=t,this.ee=null}},start:{get:function(){return this.ud},set:function(t){this.s&&b(this,t),this.ud=t.G(),this.ee=null}},end:{get:function(){return this.$k},set:function(t){this.s&&b(this,t),this.$k=t.G(),this.ee=null}},startRadius:{get:function(){return this.Ss},set:function(t){this.s&&b(this,t),0>t&&x(t,">= zero",Ps,"startRadius"),this.Ss=t,this.ee=null}},endRadius:{get:function(){return this.Er},set:function(t){this.s&&b(this,t),0>t&&x(t,">= zero",Ps,"endRadius"),this.Er=t,this.ee=null}},colorStops:{get:function(){return this.de},set:function(t){this.s&&b(this,t),this.de=t,this.ee=null}},pattern:{get:function(){return this.us},set:function(t){this.s&&b(this,t),this.us=t,this.ee=null}}}),Ps.prototype.isDark=Ps.prototype.Xx,Ps.prototype.darkenBy=Ps.prototype.bz,Ps.prototype.lightenBy=Ps.prototype.dA,Ps.prototype.addColorStop=Ps.prototype.addColorStop;var $s,Us,qs,Ys,Xs,Zs,Js=216/24389,Qs=24389/27,tl=[95.047,100,108.883],el=null,nl=new Os,il=new Os,ol=new Os,rl=new Os,al=!1;function sl(){this.name="Base"}function ll(){this.name="Base"}function ul(){this.name="Base"}function hl(){this.name="Base"}function cl(){this.name="Base"}function dl(){this.name="Base"}function fl(){this.name="Base",this.name="Table"}function pl(){this.name="Base"}function gl(){this.name="Base"}function ml(){this.name="Base"}function vl(){this.name="Base"}function yl(t,e,n){if(0>e)return 0===t%e;if(0!==t%e)return!1;e=n.length;for(var i=0;i<e;i++)if(0===t%n[i])return!1;return!0}function _l(){this.name="Base"}function bl(t,e,n,i){if(!1!==as(i)){var o=i.strokeWidth;0===o&&t instanceof vh&&t.type===wl.Link&&t.adornedObject instanceof Yl&&(o=t.adornedObject.strokeWidth),o*=i.ya,t instanceof Nh&&null!==t.ka?Ga(i,(t=t.ka.bounds).x-o/2,t.y-o/2,t.width+o,t.height+o):t instanceof vh&&null!==t.adornedPart.ka?Ga(i,(t=t.adornedPart.ka.bounds).x-o/2,t.y-o/2,t.width+o,t.height+o):Ga(i,-o/2,-o/2,e+o,n+o),ss(i,!1)}}function xl(){this.name="Base"}function wl(t){za.call(this),this.pa=void 0===t?wl.Position:t,null===this.pa&&_("Panel type not specified or PanelLayout not loaded: "+t),this.V=new tt,this.fb=ee,this.pa===wl.Grid&&(this.isAtomic=!0),this.vn=Te,this.Nf=Ur,this.pa===wl.Table&&Cl(this),this.$p=$r,this.Un=Mt,this.Vn=xt,this.Rn=0,this.Qn=100,this.Tn=10,this.Sn=0,this.ci=this.kb=this.Xg=this.Wg=this.xj=null,this.ko=NaN,this.ne=this.si=null,this.rl="category",this.Ld=null,this.sg=new Lt(NaN,NaN,NaN,NaN),this.sh=this.tp=this.Ji=null,this.Gg=""}function Cl(t){t.qj=ee,t.Og=1,t.ii=null,t.hi=null,t.Ng=1,t.Mg=null,t.gi=null,t.sb=[],t.ob=[],t.Pj=ql,t.nj=ql,t.Mi=0,t.vi=0}function Sl(t,e,n,i){for(var o=i.length,r=t.actualBounds,a=t.naturalBounds,s=!0,l=0;l<o;l++){var u=i[l];if(void 0!==u)if(s)s=!1;else if(0!==u.actual){if(n){if(u.position>r.height)continue}else if(u.position>r.width)continue;var h=u.separatorStrokeWidth;isNaN(h)&&(h=n?t.Og:t.Ng);var c=u.separatorStroke;if(null===c&&(c=n?t.ii:t.Mg),0!==h&&null!==c){qa(t,e,c,!1,!1,a,r),c=!1;var d=u.separatorDashArray;null===d&&(d=n?t.hi:t.gi),null!==d&&(c=!0,e.lt(d,0)),e.beginPath(),d=u.position+h,n?d>r.height&&(h-=d-r.height):d>r.width&&(h-=d-r.width),u=u.position+h/2,e.lineWidth=h,h=t.fb,n?(u+=h.top,d=r.width-h.right,e.moveTo(h.left,u),e.lineTo(d,u)):(u+=h.left,d=r.height-h.bottom,e.moveTo(u,h.top),e.lineTo(u,d)),e.stroke(),c&&e.jt()}}}}function kl(t,e,n,i,o){for(var r=i.length,a=t.actualBounds,s=t.naturalBounds,l=0;l<r;l++){var u=i[l];if(void 0!==u&&null!==u.background&&u.coversSeparators!==o&&0!==u.actual){var h=n?a.height:a.width;if(!(u.position>h)){var c=u.uc(),d=u.separatorStrokeWidth;isNaN(d)&&(d=n?t.Og:t.Ng);var f=u.separatorStroke;null===f&&(f=n?t.ii:t.Mg),null===f&&(d=0),c-=d,(d=u.position+d)+(c+=u.actual)>h&&(c=h-d),0>=c||(h=t.fb,qa(t,e,u.background,!0,!1,s,a),n?e.fillRect(h.left,d+h.top,a.width-(h.left+h.right),c):e.fillRect(d+h.left,h.top,c,a.height-(h.top+h.bottom)))}}}}function El(t){return"LineV"===t||"BarV"===t}function Il(t){return null!==t.part?t.part.locationObject:null}function Tl(t,e){!function t(e,n,i){i(n);for(var o=(n=n.V.j).length,r=0;r<o;r++){var a=n[r];a instanceof wl&&t(e,a,i)}}(t,t,e)}function Dl(t,e){!function t(e,n,i){if(i(n),n instanceof wl)for(var o=(n=n.V.j).length,r=0;r<o;r++)t(e,n[r],i)}(t,t,e)}function Ml(t,e,n,i){for(var o=t.V.j,r=o.length;r--;){var a=o[r];if(a.visible){var s=a.actualBounds,l=t.naturalBounds;s.x>l.width||s.y>l.height||0>s.x+s.width||0>s.y+s.height||(a instanceof wl&&Ml(a,e,n,i),null!==e&&(a=e(a)),null===a||null!==n&&!n(a)||i.add(a))}}}function Ol(t){var e=null;return t instanceof Yl&&((e=t.spot1)===Te&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=oe),e}function Pl(t){var e=null;return t instanceof Yl&&((e=t.spot2)===Te&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=de),e}function Al(t,e){t.F=e?16777216|t.F:-16777217&t.F}function Rl(t){return null!==(t=t.ci)&&t.s}function Bl(t){var e=t.ci;if(null===e)null!==t.data&&_("Template cannot have .data be non-null: "+t),t.ci=e=new tt;else if(e.s)return;var n=new tt;Al(t,!1),t.Km(t,(function(t,i){var o=i.cb;if(null!==o)for(is(i,!1),o=o.iterator;o.next();){var r=o.value;r.mode===tf&&is(i,!0);var a=r.sourceName;null!==a&&("/"===a&&Al(t,!0),null!==(a=Jd(r,t,i))&&(n.add(a),null===a.Ql&&(a.Ql=new tt),a.Ql.add(r))),e.add(r)}if(i instanceof wl&&i.type===wl.Table){if(0<i.sb.length)for(o=(t=i.sb).length,r=0;r<o;r++)if(void 0!==(a=t[r])&&null!==a.cb)for(var s=a.cb.iterator;s.next();){var l=s.value;l.cd=a,l.Sp=2,l.Wl=a.index,e.add(l)}if(0<i.ob.length)for(t=(i=i.ob).length,o=0;o<t;o++)if(void 0!==(r=i[o])&&null!==r.cb)for(a=r.cb.iterator;a.next();)(s=a.value).cd=r,s.Sp=1,s.Wl=r.index,e.add(s)}}));for(var i=n.iterator;i.next();){var o=i.value;if(null!==o.Ql){is(o,!0);for(var r=o.Ql.iterator;r.next();){var a=r.value;null===o.cb&&(o.cb=new tt),o.cb.add(a)}}o.Ql=null}for(i=e.iterator;i.next();)if(null!==(r=(o=i.value).cd)){o.cd=null;var s=o.targetProperty,l=s.indexOf(".");0<l&&r instanceof wl&&(a=s.substring(0,l),s=s.substr(l+1),null!==(l=r.Za(a))?(r=l,o.targetProperty=s):w('Warning: unable to find GraphObject named "'+a+'" for Binding: '+o.toString())),r instanceof Gl?(a=rt(r.panel),o.jj=void 0===a?-1:a,r.panel.Lk=o.jj):r instanceof za?(a=rt(r),o.jj=void 0===a?-1:a,r.Lk=o.jj):_("Unknown type of binding target: "+r)}e.freeze(),t instanceof Zu&&t.Wb()&&t.zb()}function Nl(t){if(t.type===wl.Spot||t.type===wl.Auto)return Math.min(t.V.length,1);if(t.type===wl.Link){for(var e=(t=t.V).length,n=0;n<e;n++){var i=t.L(n);if(!(i instanceof Yl&&i.isPanelMain))break}return n}return t.type===wl.Table&&0<t.V.length&&((t=t.V.L(0)).isPanelMain&&t instanceof wl&&(t.type===wl.TableRow||t.type===wl.TableColumn))?1:0}function Fl(t,e,n){if(!(void 0===e||null===e||0>n)){var i=function(t,e){if(null===e)return"";if("function"===typeof(t=t.rl))t=t(e);else{if("string"!==typeof t||"object"!==typeof e)return"";if(""===t)return"";t=Ud(e,t)}return void 0===t?"":"string"===typeof t?t:(_("Panel.getCategoryForItemData found a non-string category for "+e+": "+t),"")}(t,e),o=t.itemTemplateMap,r=null;null!==o&&(r=o.H(i)),null===r&&(zl||(zl=!0,w('No item template Panel found for category "'+i+'" on '+t),w("  Using default item template."),i=new wl,(o=new ru).bind(new Zd("text","",P)),i.add(o),Hl=i),r=Hl),null!==(i=r)&&(Bl(i),0!==(16777216&(i=i.copy()).F)&&(null!==(o=t.Wi())&&Al(o,!0)),"object"===typeof e&&(null===t.Ld&&(t.Ld=new dt),t.Ld.add(e,i)),o=n+Nl(t),t.tb(o,i),i.kb=e,Ll(t,o,n),i.kb=null,i.data=e)}}function Ll(t,e,n){for(t=t.V;e<t.length;){var i=t.L(e);if(i instanceof wl){var o=e,r=n;i.type===wl.TableRow?i.row=o:i.type===wl.TableColumn&&(i.column=o),i.itemIndex=r}e++,n++}}function Vl(t,e,n){var i=e.enabledChanged;if(null!==i&&i(e,n),e instanceof wl){i=(e=e.V.j).length;for(var o=0;o<i;o++){var r=e[o];n&&r instanceof wl&&!r.isEnabled||Vl(t,r,n)}}}function jl(t,e){e.name=t,Wl.add(t,e)}Ps.className="Brush",Ps.Solid=$s=new K(Ps,"Solid",0),Ps.Linear=Us=new K(Ps,"Linear",1),Ps.Radial=qs=new K(Ps,"Radial",2),Ps.Pattern=Ys=new K(Ps,"Pattern",4),Ps.Lab=Xs=new K(Ps,"Lab",5),Ps.HSL=Zs=new K(Ps,"HSL",6),Ps.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var n=Math.abs(e-t);e=Math.floor(t+Math.random()*n).toString(16);var i=Math.floor(t+Math.random()*n).toString(16);return t=Math.floor(t+Math.random()*n).toString(16),2>e.length&&(e="0"+e),2>i.length&&(i="0"+i),2>t.length&&(t="0"+t),"#"+e+i+t},Ps.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;al||(Ks(),al=!0);var e=el;if(null===e)return!0;e.fillStyle="#000000";var n=e.fillStyle;return e.fillStyle=t,e.fillStyle!==n||(e.fillStyle="#FFFFFF",n=e.fillStyle,e.fillStyle=t,e.fillStyle!==n)},Ps.lighten=function(t){return As(t)},Ps.lightenBy=As,Ps.darken=function(t){return Rs(t)},Ps.darkenBy=Rs,Ps.mix=Bs,Ps.isDark=Ns,sl.prototype.measure=function(){},sl.prototype.gA=function(t,e,n,i,o){t.measure(e,n,i,o)},sl.prototype.arrange=function(){},sl.prototype.Sy=function(t,e,n,i,o,r){t.arrange(e,n,i,o,r)},sl.prototype.bc=function(){},d.Object.defineProperties(sl.prototype,{classType:{get:function(){return wl}}}),sl.prototype.arrangeElement=sl.prototype.Sy,sl.prototype.measureElement=sl.prototype.gA,sl.className="PanelLayout",c(ll,sl),ll.prototype.measure=function(t,e,n,i,o,r,a){var s=i.length;t=Il(t);for(var l=0;l<s;l++){var u=i[l];if(u.visible||u===t){var h=u.margin,c=h.right+h.left;h=h.top+h.bottom,u.measure(e,n,r,a);var d=u.measuredBounds;c=Math.max(d.width+c,0),h=Math.max(d.height+h,0),d=u.position.x;var f=u.position.y;isFinite(d)||(d=0),isFinite(f)||(f=0),u instanceof Yl&&u.isGeometryPositioned&&(d-=u=u.strokeWidth/2,f-=u),$t(o,d,f,c,h)}}},ll.prototype.arrange=function(t,e,n){var i=e.length,o=t.padding;for(t=n.x-o.left,n=n.y-o.top,o=0;o<i;o++){var r=e[o],a=r.measuredBounds,s=r.margin,l=r.position.x,u=r.position.y;if(l=isNaN(l)?-t:l-t,u=isNaN(u)?-n:u-n,r instanceof Yl&&r.isGeometryPositioned){var h=r.strokeWidth/2;l-=h,u-=h}r.visible&&r.arrange(l+s.left,u+s.top,a.width,a.height)}},c(ul,sl),ul.prototype.measure=function(t,e,n,i,o,r,a){var s=i.length;e=D(),r=Il(t);for(var l=0;l<s;l++){var u=i[l];if(u.visible||u===r){var h=Ja(u,!1);if(h!==Kr&&h!==qr)e.push(u);else{u.measure(1/0,n,0,a),h=u.margin,u=u.measuredBounds;var c=Math.max(u.height+h.top+h.bottom,0);o.width+=Math.max(u.width+h.right+h.left,0),o.height=Math.max(o.height,c)}}}for(i=e.length,t.desiredSize.height?n=Math.min(t.desiredSize.height,t.maxSize.height):0!==o.height&&(n=Math.min(o.height,t.maxSize.height)),t=0;t<i;t++)((l=e[t]).visible||l===r)&&(s=(h=l.margin).right+h.left,h=h.top+h.bottom,l.measure(1/0,n,0,a),l=l.measuredBounds,h=Math.max(l.height+h,0),o.width+=Math.max(l.width+s,0),o.height=Math.max(o.height,h));M(e)},ul.prototype.arrange=function(t,e,n){for(var i=e.length,o=t.padding,r=o.top,a=t.isOpposite,s=a?n.width:o.left,l=0;l<i;l++){var u=r,h=e[l];if(h.visible){var c=h.measuredBounds,d=h.margin,f=d.top+d.bottom,p=r+o.bottom,g=c.height,m=Ja(h,!1);(isNaN(h.desiredSize.height)&&m===Gr||m===Yr)&&(g=Math.max(n.height-f-p,0)),f=g+f+p,(p=h.alignment).Mb()&&(p=t.defaultAlignment),p.hb()||(p=le),a&&(s-=c.width+d.left+d.right),h.arrange(s+p.offsetX+d.left,u+p.offsetY+d.top+(n.height*p.y-f*p.y),c.width,g),a||(s+=c.width+d.left+d.right)}}},c(hl,sl),hl.prototype.measure=function(t,e,n,i,o,r){var a=i.length;n=D();for(var s=Il(t),l=0;l<a;l++){var u=i[l];if(u.visible||u===s){var h=Ja(u,!1);if(h!==Kr&&h!==Yr)n.push(u);else{var c=u.margin;h=c.right+c.left,c=c.top+c.bottom,u.measure(e,1/0,r,0),u=u.measuredBounds,Vt(o,Math.max(o.width,Math.max(u.width+h,0)),o.height+Math.max(u.height+c,0))}}}if(0!==(i=n.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==o.width&&(e=Math.min(o.width,t.maxSize.width)),t=0;t<i;t++)((l=n[t]).visible||l===s)&&(a=(u=l.margin).right+u.left,u=u.top+u.bottom,l.measure(e,1/0,r,0),l=l.measuredBounds,u=Math.max(l.height+u,0),o.width=Math.max(o.width,Math.max(l.width+a,0)),o.height+=u);M(n)}},hl.prototype.arrange=function(t,e,n){for(var i=e.length,o=t.padding,r=o.left,a=t.isOpposite,s=a?n.height:o.top,l=0;l<i;l++){var u=r,h=e[l];if(h.visible){var c=h.measuredBounds,d=h.margin,f=d.left+d.right,p=r+o.right,g=c.width,m=Ja(h,!1);(isNaN(h.desiredSize.width)&&m===Gr||m===qr)&&(g=Math.max(n.width-f-p,0)),f=g+f+p,(p=h.alignment).Mb()&&(p=t.defaultAlignment),p.hb()||(p=le),a&&(s-=c.height+d.bottom+d.top),h.arrange(u+p.offsetX+d.left+(n.width*p.x-f*p.x),s+p.offsetY+d.top,g,c.height),a||(s+=c.height+d.bottom+d.top)}}},c(cl,sl),cl.prototype.measure=function(t,e,n,i,o,r,a){var s=i.length,l=t.Ab(),u=l.margin,h=u.right+u.left,c=u.top+u.bottom;l.measure(e,n,r,a);var d=l.measuredBounds;r=d.width,a=d.height;for(var f=Math.max(r+h,0),p=Math.max(a+c,0),g=t.isClipping,m=Lt.allocAt(-u.left,-u.top,f,p),v=!0,y=Il(t),_=0;_<s;_++){var b=i[_];if(b!==l&&(b.visible||b===y)){switch(f=(u=b.margin).right+u.left,p=u.top+u.bottom,d=Ja(b,!1)){case Gr:e=r,n=a;break;case qr:e=r;break;case Yr:n=a}b.measure(e,n,0,0),d=b.measuredBounds,f=Math.max(d.width+f,0),p=Math.max(d.height+p,0);var x=b.alignment;x.Mb()&&(x=t.defaultAlignment),x.hb()||(x=le);var w=b.alignmentFocus;w.Mb()&&(w=le);var C=null;if(b instanceof wl&&""!==b.Gg&&(b.arrange(0,0,d.width,d.height),(C=b.Za(b.Gg))===b&&(C=null)),null!==C){for(u=C.naturalBounds,d=C.margin,u=ft.allocAt(w.x*u.width-w.offsetX-d.left,w.y*u.height-w.offsetY-d.top);C!==b;)C.transform.ra(u),C=C.panel;b=x.x*r+x.offsetX-u.x,d=x.y*a+x.offsetY-u.y,ft.free(u)}else b=x.x*r+x.offsetX-(w.x*d.width+w.offsetX)-u.left,d=x.y*a+x.offsetY-(w.y*d.height+w.offsetY)-u.top;v?(v=!1,o.h(b,d,f,p)):$t(o,b,d,f,p)}}switch(v?o.assign(m):g?o.Iv(m.x,m.y,m.width,m.height):$t(o,m.x,m.y,m.width,m.height),Lt.free(m),(d=l.stretch)===Ur&&(d=Ja(l,!1)),d){case Kr:return;case Gr:if(!isFinite(e)&&!isFinite(n))return;break;case qr:if(!isFinite(e))return;break;case Yr:if(!isFinite(n))return}for(r=(d=l.measuredBounds).width,a=d.height,f=Math.max(r+h,0),p=Math.max(a+c,0),u=l.margin,m=Lt.allocAt(-u.left,-u.top,f,p),e=0;e<s;e++)(n=i[e])===l||!n.visible&&n!==y||(f=(u=n.margin).right+u.left,p=u.top+u.bottom,d=n.measuredBounds,f=Math.max(d.width+f,0),p=Math.max(d.height+p,0),(h=n.alignment).Mb()&&(h=t.defaultAlignment),h.hb()||(h=le),(n=n.alignmentFocus).Mb()&&(n=le),v?(v=!1,o.h(h.x*r+h.offsetX-(n.x*d.width+n.offsetX)-u.left,h.y*a+h.offsetY-(n.y*d.height+n.offsetY)-u.top,f,p)):$t(o,h.x*r+h.offsetX-(n.x*d.width+n.offsetX)-u.left,h.y*a+h.offsetY-(n.y*d.height+n.offsetY)-u.top,f,p));v?o.assign(m):g?o.Iv(m.x,m.y,m.width,m.height):$t(o,m.x,m.y,m.width,m.height),Lt.free(m)},cl.prototype.arrange=function(t,e,n){var i=e.length,o=t.Ab(),r=o.measuredBounds,a=r.width;r=r.height;var s=t.padding,l=s.left;s=s.top;var u=l-n.x,h=s-n.y;o.arrange(u,h,a,r);for(var c=0;c<i;c++){var d=e[c];if(d!==o){var f=d.measuredBounds,p=f.width;f=f.height,(h=d.alignment).Mb()&&(h=t.defaultAlignment),h.hb()||(h=le);var g=d.alignmentFocus;if(g.Mb()&&(g=le),u=null,d instanceof wl&&""!==d.Gg&&((u=d.Za(d.Gg))===d&&(u=null)),null!==u){var m=u.naturalBounds;for(g=ft.allocAt(g.x*m.width-g.offsetX,g.y*m.height-g.offsetY);u!==d;)u.transform.ra(g),u=u.panel;u=h.x*a+h.offsetX-g.x,h=h.y*r+h.offsetY-g.y,ft.free(g)}else u=h.x*a+h.offsetX-(g.x*p+g.offsetX),h=h.y*r+h.offsetY-(g.y*f+g.offsetY);u-=n.x,h-=n.y,d.visible&&d.arrange(l+u,s+h,p,f)}}},c(dl,sl),dl.prototype.measure=function(t,e,n,i,o,r,a){var s=i.length,l=t.Ab(),u=l.margin,h=e,c=n,d=u.right+u.left,f=u.top+u.bottom;l.measure(e,n,r,a),u=l.measuredBounds;var p=0,g=null;l instanceof Yl&&(p=(g=l).strokeWidth*g.scale);var m=Math.max(u.width+d,0);u=Math.max(u.height+f,0);var v=Ol(l),y=v.x*m+v.offsetX;v=v.y*u+v.offsetY;var _=Pl(l),b=_.x*m+_.offsetX;for(_=_.y*u+_.offsetY,isFinite(e)&&(h=Math.max(Math.abs(y-b)-p,0)),isFinite(n)&&(c=Math.max(Math.abs(v-_)-p,0)),(p=Rt.alloc()).h(0,0),t=Il(t),_=0;_<s;_++)(v=i[_])===l||!v.visible&&v!==t||(m=(u=v.margin).right+u.left,y=u.top+u.bottom,v.measure(h,c,0,0),u=v.measuredBounds,m=Math.max(u.width+m,0),u=Math.max(u.height+y,0),p.h(Math.max(m,p.width),Math.max(u,p.height)));if(1===s)o.width=m,o.height=u,Rt.free(p);else{switch(v=Ol(l),s=i=0,(_=Pl(l)).x!==v.x&&_.y!==v.y&&(i=p.width/Math.abs(_.x-v.x),s=p.height/Math.abs(_.y-v.y)),Rt.free(p),p=0,null!==g&&(p=g.strokeWidth*g.scale,Zl(g)===$r&&(i=s=Math.max(i,s))),i+=Math.abs(v.offsetX)+Math.abs(_.offsetX)+p,s+=Math.abs(v.offsetY)+Math.abs(_.offsetY)+p,(g=l.stretch)===Ur&&(g=Ja(l,!1)),g){case Kr:a=r=0;break;case Gr:isFinite(e)&&(i=e),isFinite(n)&&(s=n);break;case qr:isFinite(e)&&(i=e),a=0;break;case Yr:r=0,isFinite(n)&&(s=n)}l.pm(),l.measure(i,s,r,a),o.width=l.measuredBounds.width+d,o.height=l.measuredBounds.height+f}},dl.prototype.arrange=function(t,e){var n=e.length,i=t.Ab(),o=i.measuredBounds,r=Lt.alloc();r.h(0,0,1,1);var a=i.margin,s=a.left;a=a.top;var l=t.padding,u=l.left;l=l.top,i.arrange(u+s,l+a,o.width,o.height);var h=Ol(i),c=Pl(i),d=h.y*o.height+h.offsetY,f=c.x*o.width+c.offsetX;for(c=c.y*o.height+c.offsetY,r.x=h.x*o.width+h.offsetX,r.y=d,$t(r,f,c,0,0),r.x+=s+u,r.y+=a+l,o=0;o<n;o++)(s=e[o])!==i&&(u=s.measuredBounds,a=s.margin,l=Math.max(u.width+a.right+a.left,0),h=Math.max(u.height+a.top+a.bottom,0),(d=s.alignment).Mb()&&(d=t.defaultAlignment),d.hb()||(d=le),l=r.width*d.x+d.offsetX-l*d.x+a.left+r.x,a=r.height*d.y+d.offsetY-h*d.y+a.top+r.y,s.visible&&(Ut(r.x,r.y,r.width,r.height,l,a,u.width,u.height)?s.arrange(l,a,u.width,u.height):s.arrange(l,a,u.width,u.height,new Lt(r.x,r.y,r.width,r.height))));Lt.free(r)},c(fl,sl),fl.prototype.measure=function(t,e,n,i,o,r,a){for(var s=i.length,l=D(),u=D(),h=0;h<s;h++){var c=i[h],d=c instanceof wl?c:null;if(null===d||d.type!==wl.TableRow&&d.type!==wl.TableColumn||!c.visible)l.push(c);else{u.push(d);for(var f=d.V.j,p=f.length,g=0;g<p;g++){var m=f[g];d.type===wl.TableRow?m.row=c.row:d.type===wl.TableColumn&&(m.column=c.column),l.push(m)}}}0===(s=l.length)&&(t.getRowDefinition(0),t.getColumnDefinition(0));for(var v=[],y=0;y<s;y++){var _=l[y];ss(_,!0),us(_,!0),v[_.row]||(v[_.row]=[]),v[_.row][_.column]||(v[_.row][_.column]=[]),v[_.row][_.column].push(_)}M(l);var b=D(),x=D(),w=D(),C={count:0},S={count:0},k=e,E=n,I=t.sb;s=I.length;for(var T=0;T<s;T++){var O=I[T];void 0!==O&&(O.actual=0)}s=(I=t.ob).length;for(var P=0;P<s;P++)void 0!==(O=I[P])&&(O.actual=0);for(var A=v.length,R=0,B=0;B<A;B++)v[B]&&(R=Math.max(R,v[B].length));var N=Math.min(t.topIndex,A-1),F=Math.min(t.leftIndex,R-1),L=0;A=v.length;for(var V=Il(t),j=0;j<A;j++)if(v[j]){R=v[j].length;for(var z=t.getRowDefinition(j),H=z.actual=0;H<R;H++)if(v[j][H]){var W=t.getColumnDefinition(H);void 0===b[H]&&(W.actual=0,b[H]=!0);for(var G=v[j][H],K=G.length,$=0;$<K;$++){var U=G[$];if(U.visible||U===V){var q=1<U.rowSpan||1<U.columnSpan;q&&(j<N||H<F||x.push(U));var Y=U.margin,X=Y.right+Y.left,Z=Y.top+Y.bottom,J=Qa(U,z,W,!1),Q=U.desiredSize,tt=!isNaN(Q.height),et=!isNaN(Q.width)&&tt;if(q||J===Kr||et||j<N||H<F||(void 0!==C[H]||J!==Gr&&J!==qr||(C[H]=-1,C.count++),void 0!==S[j]||J!==Gr&&J!==Yr||(S[j]=-1,S.count++),w.push(U)),U.measure(1/0,1/0,0,0),!(j<N||H<F)){var nt=U.measuredBounds,it=Math.max(nt.width+X,0),ot=Math.max(nt.height+Z,0);if(1===U.rowSpan&&(J===Kr||J===qr)){var rt=(O=t.getRowDefinition(j)).uc();(L=Math.max(ot-O.actual,0))+rt>E&&(L=Math.max(E-rt,0));var at=0===O.actual;O.actual=O.actual+L,E=Math.max(E-(L+(at?rt:0)),0)}if(1===U.columnSpan&&(J===Kr||J===Yr)){var st=(O=t.getColumnDefinition(H)).uc();(L=Math.max(it-O.actual,0))+st>k&&(L=Math.max(k-st,0));var lt=0===O.actual;O.actual=O.actual+L,k=Math.max(k-(L+(lt?st:0)),0)}q&&U.pm()}}}}}M(b);var ut=0,ht=0;s=t.columnCount;for(var ct=0;ct<s;ct++){var dt=t.ob[ct];void 0!==dt&&(ut+=dt.ha,0!==dt.ha&&(ut+=dt.uc()))}s=t.rowCount;for(var ft=0;ft<s;ft++){var pt=t.sb[ft];void 0!==pt&&(ht+=pt.ha,0!==pt.ha&&(ht+=pt.uc()))}k=Math.max(e-ut,0);var gt=E=Math.max(n-ht,0),mt=k;s=w.length;for(var vt=0;vt<s;vt++){var yt=w[vt],_t=t.getRowDefinition(yt.row),bt=t.getColumnDefinition(yt.column),xt=yt.measuredBounds,wt=yt.margin,Ct=wt.right+wt.left,St=wt.top+wt.bottom;C[yt.column]=0===bt.actual&&void 0!==C[yt.column]?Math.max(xt.width+Ct,C[yt.column]):null,S[yt.row]=0===_t.actual&&void 0!==S[yt.row]?Math.max(xt.height+St,S[yt.row]):null}var kt,Et=0,It=0;for(kt in S)"count"!==kt&&(Et+=S[kt]);for(kt in C)"count"!==kt&&(It+=C[kt]);for(var Tt=Rt.alloc(),Dt=0;Dt<s;Dt++){var Mt=w[Dt];if(Mt.visible||Mt===V){var Ot=t.getRowDefinition(Mt.row),Pt=t.getColumnDefinition(Mt.column),At=0;isFinite(Pt.width)?At=Pt.width:(At=isFinite(k)&&null!==C[Mt.column]?0===It?Pt.actual+k:C[Mt.column]/It*mt:null!==C[Mt.column]?k:Pt.actual||k,At=Math.max(0,At-Pt.uc()));var Bt=0;switch(isFinite(Ot.height)?Bt=Ot.height:(Bt=isFinite(E)&&null!==S[Mt.row]?0===Et?Ot.actual+E:S[Mt.row]/Et*gt:null!==S[Mt.row]?E:Ot.actual||E,Bt=Math.max(0,Bt-Ot.uc())),Tt.h(Math.max(Pt.minimum,Math.min(At,Pt.maximum)),Math.max(Ot.minimum,Math.min(Bt,Ot.maximum))),J=Qa(Mt,Ot,Pt,!1)){case qr:Tt.height=Math.max(Tt.height,Ot.actual+E);break;case Yr:Tt.width=Math.max(Tt.width,Pt.actual+k)}var Nt=Mt.margin,Ft=Nt.right+Nt.left,Lt=Nt.top+Nt.bottom;Mt.pm(),Mt.measure(Tt.width,Tt.height,Pt.minimum,Ot.minimum);var Vt=Mt.measuredBounds,jt=Math.max(Vt.width+Ft,0),zt=Math.max(Vt.height+Lt,0);isFinite(k)&&(jt=Math.min(jt,Tt.width)),isFinite(E)&&(zt=Math.min(zt,Tt.height));var Ht=0;Ht=Ot.actual,Ot.actual=Math.max(Ot.actual,zt),L=Ot.actual-Ht,E=Math.max(E-L,0),Ht=Pt.actual,Pt.actual=Math.max(Pt.actual,jt),L=Pt.actual-Ht,k=Math.max(k-L,0)}}M(w);var Wt=Rt.alloc(),Gt=D(),Kt=D();if(0!==(s=x.length))for(var $t=0;$t<A;$t++)if(v[$t]){R=v[$t].length;var Ut=t.getRowDefinition($t);Gt[$t]=Ut.actual;for(var qt=0;qt<R;qt++)if(v[$t][qt]){var Yt=t.getColumnDefinition(qt);Kt[qt]=Yt.actual}}for(var Xt=0;Xt<s;Xt++){var Zt=x[Xt];if(Zt.visible||Zt===V){var Jt=t.getRowDefinition(Zt.row),Qt=t.getColumnDefinition(Zt.column);switch(Tt.h(Math.max(Qt.minimum,Math.min(e,Qt.maximum)),Math.max(Jt.minimum,Math.min(n,Jt.maximum))),J=Qa(Zt,Jt,Qt,!1)){case Gr:0!==Kt[Qt.index]&&(Tt.width=Math.min(Tt.width,Kt[Qt.index])),0!==Gt[Jt.index]&&(Tt.height=Math.min(Tt.height,Gt[Jt.index]));break;case qr:0!==Kt[Qt.index]&&(Tt.width=Math.min(Tt.width,Kt[Qt.index]));break;case Yr:0!==Gt[Jt.index]&&(Tt.height=Math.min(Tt.height,Gt[Jt.index]))}isFinite(Qt.width)&&(Tt.width=Qt.width),isFinite(Jt.height)&&(Tt.height=Jt.height),Wt.h(0,0);for(var te=1;te<Zt.rowSpan&&!(Zt.row+te>=t.rowCount);te++)O=t.getRowDefinition(Zt.row+te),L=0,L=J===Gr||J===Yr?Math.max(O.minimum,0===Gt[Zt.row+te]?O.maximum:Math.min(Gt[Zt.row+te],O.maximum)):Math.max(O.minimum,isNaN(O.Pc)?O.maximum:Math.min(O.Pc,O.maximum)),Wt.height+=L;for(var ee=1;ee<Zt.columnSpan&&!(Zt.column+ee>=t.columnCount);ee++)O=t.getColumnDefinition(Zt.column+ee),L=0,L=J===Gr||J===qr?Math.max(O.minimum,0===Kt[Zt.column+ee]?O.maximum:Math.min(Kt[Zt.column+ee],O.maximum)):Math.max(O.minimum,isNaN(O.Pc)?O.maximum:Math.min(O.Pc,O.maximum)),Wt.width+=L;Tt.width+=Wt.width,Tt.height+=Wt.height;var ne=Zt.margin,ie=ne.right+ne.left,oe=ne.top+ne.bottom;Zt.measure(Tt.width,Tt.height,r,a);for(var re=Zt.measuredBounds,ae=Math.max(re.width+ie,0),se=Math.max(re.height+oe,0),le=0,ue=0;ue<Zt.rowSpan&&!(Zt.row+ue>=t.rowCount);ue++)le+=(O=t.getRowDefinition(Zt.row+ue)).total||0;if(le<se){var he=se-le,ce=se-le;if(null!==Zt.spanAllocation)for(var de=Zt.spanAllocation,fe=0;fe<Zt.rowSpan&&!(0>=he)&&!(Zt.row+fe>=t.rowCount);fe++){var pe=(O=t.getRowDefinition(Zt.row+fe)).ha||0,ge=de(Zt,O,ce);O.actual=Math.min(O.maximum,pe+ge),O.ha!==pe&&(he-=O.ha-pe)}for(;0<he;){var me=O.ha||0;if(isNaN(O.height)&&O.maximum>me&&(O.actual=Math.min(O.maximum,me+he),O.ha!==me&&(he-=O.ha-me)),0===O.index)break;O=t.getRowDefinition(O.index-1)}}for(var ve=0,ye=0;ye<Zt.columnSpan&&!(Zt.column+ye>=t.columnCount);ye++)ve+=(O=t.getColumnDefinition(Zt.column+ye)).total||0;if(ve<ae){var _e=ae-ve,be=ae-ve;if(null!==Zt.spanAllocation)for(var xe=Zt.spanAllocation,we=0;we<Zt.columnSpan&&!(0>=_e)&&!(Zt.column+we>=t.columnCount);we++){var Ce=(O=t.getColumnDefinition(Zt.column+we)).ha||0,Se=xe(Zt,O,be);O.actual=Math.min(O.maximum,Ce+Se),O.ha!==Ce&&(_e-=O.ha-Ce)}for(;0<_e;){var ke=O.ha||0;if(isNaN(O.width)&&O.maximum>ke&&(O.actual=Math.min(O.maximum,ke+_e),O.ha!==ke&&(_e-=O.ha-ke)),0===O.index)break;O=t.getColumnDefinition(O.index-1)}}}}M(x),Rt.free(Wt),Rt.free(Tt),void 0!==Gt&&M(Gt),void 0!==Kt&&M(Kt);var Ee=0,Ie=0,Te=t.desiredSize,De=t.maxSize;J=Ja(t,!0);var Me=ht=ut=0,Oe=0;s=t.columnCount;for(var Pe=0;Pe<s;Pe++)void 0!==t.ob[Pe]&&(O=t.getColumnDefinition(Pe),isFinite(O.width)?(Me+=O.width,Me+=O.uc()):Kl(O)===Ul?(Me+=O.ha,Me+=O.uc()):0!==O.ha&&(ut+=O.ha,ut+=O.uc()));Ee=isFinite(Te.width)?Math.min(Te.width,De.width):J!==Kr&&isFinite(e)?e:ut,Ee=Math.max(Ee,t.minSize.width),Ee=Math.max(Ee-Me,0);for(var Ae=0===ut?1:Math.max(Ee/ut,1),Re=0;Re<s;Re++)void 0!==t.ob[Re]&&(O=t.getColumnDefinition(Re),isFinite(O.width)||Kl(O)===Ul||(O.actual=O.ha*Ae),O.position=o.width,0!==O.ha&&(o.width+=O.ha,o.width+=O.uc()));s=t.rowCount;for(var Be=0;Be<s;Be++)void 0!==t.sb[Be]&&(O=t.getRowDefinition(Be),isFinite(O.height)?(Oe+=O.height,Oe+=O.uc()):Kl(O)===Ul?(Oe+=O.ha,Oe+=O.uc()):0!==O.ha&&(ht+=O.ha,0!==O.ha&&(ht+=O.uc())));Ie=isFinite(Te.height)?Math.min(Te.height,De.height):J!==Kr&&isFinite(n)?n:ht,Ie=Math.max(Ie,t.minSize.height),Ie=Math.max(Ie-Oe,0);for(var Ne=0===ht?1:Math.max(Ie/ht,1),Fe=0;Fe<s;Fe++)void 0!==t.sb[Fe]&&(O=t.getRowDefinition(Fe),isFinite(O.height)||Kl(O)===Ul||(O.actual=O.ha*Ne),O.position=o.height,0!==O.ha&&(o.height+=O.ha,0!==O.ha&&(o.height+=O.uc())));s=u.length;for(var Le=0;Le<s;Le++){var Ve=u[Le],je=0,ze=0;Ve.type===wl.TableRow?(je=o.width,ze=(O=t.getRowDefinition(Ve.row)).actual):(je=(O=t.getColumnDefinition(Ve.column)).actual,ze=o.height),Ve.measuredBounds.h(0,0,je,ze),ss(Ve,!1),v[Ve.row]||(v[Ve.row]=[]),v[Ve.row][Ve.column]||(v[Ve.row][Ve.column]=[]),v[Ve.row][Ve.column].push(Ve)}M(u),t.tp=v},fl.prototype.arrange=function(t,e,n){var i=e.length,o=t.padding,r=o.left;o=o.top;for(var a,s,l=t.tp,u=l.length,h=0,c=0;c<u;c++)l[c]&&(h=Math.max(h,l[c].length));for(c=Math.min(t.topIndex,u-1);c!==u&&(void 0===t.sb[c]||0===t.sb[c].ha);)c++;for(c=Math.min(c,u-1),c=-t.sb[c].position,a=Math.min(t.leftIndex,h-1);a!==h&&(void 0===t.ob[a]||0===t.ob[a].ha);)a++;a=Math.min(a,h-1);for(var d=-t.ob[a].position,f=Rt.alloc(),p=0;p<u;p++)if(l[p]){h=l[p].length;var g=t.getRowDefinition(p);s=g.position+c+o,0!==g.ha&&(s+=g.nv());for(var m=0;m<h;m++)if(l[p][m]){var v=t.getColumnDefinition(m);a=v.position+d+r,0!==v.ha&&(a+=v.nv());for(var y=l[p][m],_=y.length,b=0;b<_;b++){var x=y[b],w=x.measuredBounds,C=x instanceof wl?x:null;if(null===C||C.type!==wl.TableRow&&C.type!==wl.TableColumn){f.h(0,0);for(var S=1;S<x.rowSpan&&!(p+S>=t.rowCount);S++)C=t.getRowDefinition(p+S),f.height+=C.total;for(S=1;S<x.columnSpan&&!(m+S>=t.columnCount);S++)C=t.getColumnDefinition(m+S),f.width+=C.total;var k=v.ha+f.width,E=g.ha+f.height;S=a,C=s;var I=k,T=E,D=a,M=s,O=k,P=E;a+k>n.width&&(O=Math.max(n.width-a,0)),s+E>n.height&&(P=Math.max(n.height-s,0));var A=x.alignment;if(A.Mb()){(A=t.defaultAlignment).hb()||(A=le);var R=A.x,B=A.y,N=A.offsetX;A=A.offsetY;var F=v.alignment,L=g.alignment;F.hb()&&(R=F.x,N=F.offsetX),L.hb()&&(B=L.y,A=L.offsetY)}else R=A.x,B=A.y,N=A.offsetX,A=A.offsetY;(isNaN(R)||isNaN(B))&&(B=R=.5,A=N=0),F=w.width,L=w.height;var V=x.margin,j=V.left+V.right,z=V.top+V.bottom,H=Qa(x,g,v,!1);!isNaN(x.desiredSize.width)||H!==Gr&&H!==qr||(F=Math.max(k-j,0)),!isNaN(x.desiredSize.height)||H!==Gr&&H!==Yr||(L=Math.max(E-z,0)),k=x.maxSize,E=x.minSize,F=Math.min(k.width,F),L=Math.min(k.height,L),F=Math.max(E.width,F),k=(L=Math.max(E.height,L))+z,S+=I*R-(F+j)*R+N+V.left,C+=T*B-k*B+A+V.top,x.visible&&(Ut(D,M,O,P,S,C,w.width,w.height)?x.arrange(S,C,F,L):x.arrange(S,C,F,L,new Lt(D,M,O,P)))}else x.nl(),x.actualBounds.ea(),I=x.actualBounds,S=Lt.allocAt(I.x,I.y,I.width,I.height),I.x=C.type===wl.TableRow?r:a,I.y=C.type===wl.TableColumn?o:s,I.width=w.width,I.height=w.height,x.actualBounds.freeze(),us(x,!1),Ht(S,I)||null!==(w=x.part)&&(w.Gh(),x.Vo(w)),Lt.free(S)}}}for(Rt.free(f),t=0;t<i;t++)null===(r=(n=e[t])instanceof wl?n:null)||r.type!==wl.TableRow&&r.type!==wl.TableColumn||(r=n.actualBounds,n.naturalBounds.ea(),n.naturalBounds.h(0,0,r.width,r.height),n.naturalBounds.freeze())},c(pl,sl),pl.prototype.measure=function(){},pl.prototype.arrange=function(){},c(gl,sl),gl.prototype.measure=function(){},gl.prototype.arrange=function(){},c(ml,sl),ml.prototype.measure=function(t,e,n,i,o,r,a){1<i.length&&_("Viewbox Panel cannot contain more than one GraphObject."),(i=i[0]).ya=1,i.pm(),i.measure(1/0,1/0,r,a);var s=i.measuredBounds,l=i.margin,u=l.right+l.left;if(l=l.top+l.bottom,isFinite(e)||isFinite(n)){var h=i.scale,c=s.width;s=s.height;var d=Math.max(e-u,0),f=Math.max(n-l,0),p=1;t.viewboxStretch===$r?0!==c&&0!==s&&(p=Math.min(d/c,f/s)):0!==c&&0!==s&&(p=Math.max(d/c,f/s)),0===p&&(p=1e-4),i.ya*=p,h!==i.scale&&(ss(i,!0),i.measure(1/0,1/0,r,a))}s=i.measuredBounds,o.width=isFinite(e)?e:Math.max(s.width+u,0),o.height=isFinite(n)?n:Math.max(s.height+l,0)},ml.prototype.arrange=function(t,e,n){var i=(e=e[0]).measuredBounds,o=e.margin,r=Math.max(i.width+(o.right+o.left),0);o=Math.max(i.height+(o.top+o.bottom),0);var a=e.alignment;a.Mb()&&(a=t.defaultAlignment),a.hb()||(a=le),e.arrange(n.width*a.x-r*a.x+a.offsetX,n.height*a.y-o*a.y+a.offsetY,i.width,i.height)},c(vl,sl),vl.prototype.measure=function(){},vl.prototype.arrange=function(){},vl.prototype.bc=function(t,e,n){0>=(n=t.vf()*n.scale)&&(n=1);var i=t.gridCellSize,o=i.width;i=i.height;var r=t.naturalBounds,a=t.actualBounds,s=r.width,l=r.height,u=Math.ceil(s/o),h=Math.ceil(l/i),c=t.gridOrigin;e.save(),e.beginPath(),e.rect(0,0,s,l),e.clip();for(var d=[],f=t.V.j,p=f.length,g=0;g<p;g++){var m=f[g],v=[];if(d.push(v),m.visible){var y=m.interval;if(!(0>y)){m=El(m.figure);for(var _=0;_<p;_++)if(_!==g){var b=f[_];b.visible&&El(b.figure)===m&&((b=b.interval)>y&&v.push(b))}}}}for(p=(f=t.V.j).length,g=0;g<p;g++){var x=f[g];if(x.visible&&(v=x.interval,!(2>o*Math.abs(v)*n))){if(m=1,1!==(y=x.opacity)){if(0===y)continue;m=e.globalAlpha,e.globalAlpha=m*y}_=d[g],b=!1;var w=x.strokeDashArray;if(null!==w&&(b=!0,e.lt(w,x.strokeDashOffset)),"LineV"===x.figure&&null!==x.stroke&&0<x.strokeWidth){for(e.lineWidth=x.strokeWidth,qa(t,e,x.stroke,!1,!1,r,a),e.beginPath(),w=x=Math.floor(-c.x/o);w<=x+u;w++){var C=w*o+c.x;0<=C&&C<=s&&yl(w,v,_)&&(e.moveTo(C,0),e.lineTo(C,l))}e.stroke()}else if("LineH"===x.figure&&null!==x.stroke&&0<x.strokeWidth){for(e.lineWidth=x.strokeWidth,qa(t,e,x.stroke,!1,!1,r,a),e.beginPath(),w=x=Math.floor(-c.y/i);w<=x+h;w++)0<=(C=w*i+c.y)&&C<=l&&yl(w,v,_)&&(e.moveTo(0,C),e.lineTo(s,C));e.stroke()}else if("BarV"===x.figure&&null!==x.fill)for(qa(t,e,x.fill,!0,!1,r,a),x=x.width,isNaN(x)&&(x=o),C=w=Math.floor(-c.x/o);C<=w+u;C++){var S=C*o+c.x;0<=S&&S<=s&&yl(C,v,_)&&e.fillRect(S,0,x,l)}else if("BarH"===x.figure&&null!==x.fill)for(qa(t,e,x.fill,!0,!1,r,a),x=x.height,isNaN(x)&&(x=i),C=w=Math.floor(-c.y/i);C<=w+h;C++)0<=(S=C*i+c.y)&&S<=l&&yl(C,v,_)&&e.fillRect(0,S,s,x);b&&e.jt(),1!==y&&(e.globalAlpha=m)}}e.restore(),e.sc(!1)},c(_l,sl),_l.prototype.measure=function(t,e,n,i,o){if(n=i.length,t instanceof vh||t instanceof Nh){var r=null,a=null,s=null;if(t instanceof Nh&&(a=r=t),t instanceof vh&&(r=(s=t).adornedPart),r instanceof Nh){var l=r;if(0===n)Vt(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var u=t instanceof vh?null:r.path,h=r.routeBounds;(e=t.sg).h(0,0,h.width,h.height);var c=l.points;r=r.pointsCount,null!==s?s.qk(!1):null!==a&&a.qk(!1);var d=h.width,f=h.height;t.location.h(h.x,h.y),t.l.length=0,null!==u&&(bl(t,d,f,u),s=u.measuredBounds,e.Ic(s),t.l.push(s)),s=Ke.alloc();for(var p=ft.alloc(),g=ft.alloc(),m=0;m<n;m++){var v=i[m];if(v!==u)if(v.isPanelMain&&v instanceof Yl){bl(t,d,f,v);var y=v.measuredBounds;e.Ic(y),t.l.push(y)}else if(2>r)v.measure(1/0,1/0,0,0),y=v.measuredBounds,e.Ic(y),t.l.push(y);else{var _=v.segmentIndex,b=v.segmentFraction,x=v.alignmentFocus;x.kc()&&(x=le);var w=v.segmentOrientation,C=v.segmentOffset;if(isNaN(_)){var S=l.ka;y=D(),S.Ev(b,y);var k=ft.allocAt(y[0],y[1]);if(k.add(l.i(0)),S.type===an||(S=S.figures.first()),k.offset(-S.startX,-S.startY),S=y[2],w!==rc){var E=l.computeAngle(v,w,S);v.Yb=E}E=k.x-h.x;var I=k.y-h.y;ft.free(k),M(y)}else if(_<-r||_>=r)I=l.midPoint,S=l.midAngle,w!==rc&&(E=l.computeAngle(v,w,S),v.Yb=E),E=I.x-h.x,I=I.y-h.y;else{if(E=0,0<=_?(I=c.L(_),y=_<r-1?c.L(_+1):I):(E=r+_,I=c.L(E),y=0<E?c.L(E-1):I),I.Ma(y)){0<=_?(S=0<_?c.L(_-1):I,E=_<r-2?c.L(_+2):y):(S=E<r-1?c.L(E+1):I,E=1<E?c.L(E-2):y),k=S.Ce(I);var T=y.Ce(E);S=k>T+10?0<=_?S.Sa(I):I.Sa(S):T>k+10?0<=_?y.Sa(E):E.Sa(y):0<=_?S.Sa(E):E.Sa(S)}else S=0<=_?I.Sa(y):y.Sa(I);w!==rc&&(E=l.computeAngle(v,w,S),v.Yb=E),E=I.x+(y.x-I.x)*b-h.x,I=I.y+(y.y-I.y)*b-h.y}v.measure(1/0,1/0,0,0),y=v.measuredBounds,k=v.naturalBounds;var O=0;v instanceof Yl&&(O=v.strokeWidth),T=k.width+O;var P=k.height+O;s.reset(),s.translate(-y.x,-y.y),s.scale(v.scale,v.scale),s.rotate(w===rc?v.angle:S,T/2,P/2),w!==fc&&w!==vc||s.rotate(90,T/2,P/2),w!==pc&&w!==yc||s.rotate(-90,T/2,P/2),w===_c&&(45<S&&135>S||225<S&&315>S)&&s.rotate(-S,T/2,P/2),k=new Lt(0,0,T,P),p.gj(k,x),s.ra(p),x=-p.x+O/2*v.scale,v=-p.y+O/2*v.scale,g.assign(C),O=isNaN(C.x);var A=isNaN(C.y);if(O||A){T=T/2+3,P=P/2+3;var R=45<=S&&135>=S,B=225<=S&&315>=S;w===rc&&(R||B)?(g.x=A?T:C.y,g.y=O?P:C.x,R?0<=_||isNaN(_)&&.5>b||!O||(g.y=-P):B&&((0<=_||isNaN(_)&&.5>b)&&O&&(g.y=-P),A&&(g.x=-T))):(O&&(g.x=0<=_||isNaN(_)&&.5>b?T:-T),A&&(g.y=-P),g.rotate(S))}else g.rotate(S);E+=g.x,I+=g.y,k.set(y),k.h(E+x,I+v,y.width,y.height),t.l.push(k),e.Ic(k)}}if(null!==a)for(i=a.labelNodes;i.next();)i.value.measure(1/0,1/0);t.sg=e,(t=t.location).h(t.x+e.x,t.y+e.y),Vt(o,e.width||0,e.height||0),Ke.free(s),ft.free(p),ft.free(g)}}}},_l.prototype.arrange=function(t,e){var n=e.length;if(t instanceof vh||t instanceof Nh){var i=null,o=null,r=null;t instanceof Nh&&(o=i=t),t instanceof vh&&(i=(r=t).adornedPart);var a=t instanceof vh?null:i.path;if(0!==t.l.length){var s=t.l,l=0;if(null!==a&&l<t.l.length){var u=s[l];l++,a.arrange(u.x-t.sg.x,u.y-t.sg.y,u.width,u.height)}for(u=0;u<n;u++){var h=e[u];if(h!==a&&l<t.l.length){var c=s[l];l++,h.arrange(c.x-t.sg.x,c.y-t.sg.y,c.width,c.height)}}}if(2<=(n=(e=i.points).count)&&t instanceof Nh)for(i=t.labelNodes;i.next();){var d=t;s=(a=i.value).segmentIndex,l=a.segmentFraction;var f=a.alignmentFocus;if(u=a.segmentOrientation,h=a.segmentOffset,isNaN(s)){c=d.ka;var p=D();c.Ev(l,p);var g=ft.allocAt(p[0],p[1]);g.add(d.i(0)),c.type===an||(c=c.figures.first()),g.offset(-c.startX,-c.startY),c=p[2],u!==rc&&(d=d.computeAngle(a,u,c),a.angle=d),d=g.x;var m=g.y;ft.free(g),M(p)}else if(s<-n||s>=n)m=d.midPoint,c=d.midAngle,u!==rc&&(d=d.computeAngle(a,u,c),a.angle=d),d=m.x,m=m.y;else{if(g=0,0<=s?(p=e.j[s],m=s<n-1?e.j[s+1]:p):(g=n+s,p=e.j[g],m=0<g?e.j[g-1]:p),p.Ma(m)){0<=s?(c=0<s?e.j[s-1]:p,g=s<n-2?e.j[s+2]:m):(c=g<n-1?e.j[g+1]:p,g=1<g?e.j[g-2]:m);var v=c.Ce(p),y=m.Ce(g);c=v>y+10?0<=s?c.Sa(p):p.Sa(c):y>v+10?0<=s?m.Sa(g):g.Sa(m):0<=s?c.Sa(g):g.Sa(c)}else c=0<=s?p.Sa(m):m.Sa(p);u!==rc&&(d=d.computeAngle(a,u,c),a.angle=d),d=p.x+(m.x-p.x)*l,m=p.y+(m.y-p.y)*l}if(f.At())a.location=new ft(d,m);else{f.kc()&&(f=le),(p=Ke.alloc()).reset(),p.scale(a.scale,a.scale),p.rotate(a.angle,0,0);var _=a.naturalBounds;g=Lt.allocAt(0,0,_.width,_.height),(v=ft.alloc()).gj(g,f),p.ra(v),f=-v.x,y=-v.y;var b=_.width,x=_.height;(_=ft.alloc()).assign(h);var w=isNaN(h.x),C=isNaN(h.y);if(w||C){b=b/2+3,x=x/2+3;var S=45<=c&&135>=c,k=225<=c&&315>=c;u===rc&&(S||k)?(_.x=C?b:h.y,_.y=w?x:h.x,S?0<=s||isNaN(s)&&.5>l||!w||(_.y=-x):k&&((0<=s||isNaN(s)&&.5>l)&&w&&(_.y=-x),C&&(_.x=-b))):(w&&(_.x=0<=s||isNaN(s)&&.5>l?b:-b),C&&(_.y=-x),_.rotate(c))}else _.rotate(c);d+=_.x,m+=_.y,p.uw(g),f+=g.x,y+=g.y,s=ft.allocAt(d+f,m+y),a.move(s),ft.free(s),ft.free(_),ft.free(v),Lt.free(g),Ke.free(p)}}null!==r?r.qk(!1):null!==o&&o.qk(!1)}},c(xl,sl),xl.prototype.measure=function(t,e,n,i,o,r,a){var s=t.Ab();t.Wg=[];var l=s.margin,u=l.right+l.left,h=l.top+l.bottom;s.measure(e,n,r,a);var c=s.measuredBounds,d=new Lt(-l.left,-l.top,Math.max(c.width+u,0),Math.max(c.height+h,0));t.Wg.push(d),o.assign(d);for(var f=s.geometry,p=s.strokeWidth,g=f.flattenedSegments,m=f.flattenedLengths,v=f.flattenedTotalLength,y=g.length,_=0,b=0,x=D(),w=0;w<y;w++){var C=g[w],S=[];b=_=0;for(var k=C.length,E=0;E<k;E+=2){var I=C[E],T=C[E+1];if(0!==E){var O=180*Math.atan2(T-b,I-_)/Math.PI;0>O&&(O+=360),S.push(O)}_=I,b=T}x.push(S)}if(null===t.Xg){for(var P=[],A=t.V.j,R=A.length,B=0;B<R;B++){var N=A[B],F=[];if(P.push(F),N.visible){var L=N.interval;if(!(0>L))for(var V=0;V<R;V++)if(V!==B){var j=A[V];if(j.visible&&N.constructor===j.constructor){var z=j.interval;z>L&&F.push(z)}}}}t.Xg=P}var H=t.Xg,W=t.V.j,G=W.length,K=0,$=0,U=v;t.xj=[];for(var q,Y=0;Y<G;Y++){var X=W[Y];if(q=[],X.visible&&X!==s){var Z=Math.abs(X.interval),J=t.graduatedTickUnit;if(!(2>J*Z*v/t.graduatedRange)){var Q=m[0][0],tt=0,et=0;$=v*X.graduatedStart-1e-4,U=v*X.graduatedEnd+1e-4;var nt=J*Z,it=t.graduatedTickBase;if(it<t.graduatedMin){var ot=(t.graduatedMin-it)/nt;it+=(ot=0===ot%1?ot:Math.floor(ot+1))*nt}else it>t.graduatedMin+nt&&(it-=Math.floor((it-t.graduatedMin)/nt)*nt);for(var rt=H[Y];it<=t.graduatedMax;){t:{for(var at=rt.length,st=0;st<at;st++)if(Ue.$((it-t.graduatedTickBase)%(rt[st]*t.graduatedTickUnit),0)){var lt=!1;break t}lt=!0}if(lt&&(null===X.graduatedSkip||!X.graduatedSkip(it))&&((K=(it-t.graduatedMin)*v/t.graduatedRange)>v&&(K=v),$<=K&&K<=U)){for(var ut=x[tt][et],ht=m[tt][et];tt<m.length;){for(;K>Q&&et<m[tt].length-1;)et++,ut=x[tt][et],Q+=ht=m[tt][et];if(K<=Q)break;et=0,ut=x[++tt][et],Q+=ht=m[tt][et]}var ct=g[tt],dt=ct[2*et],pt=ct[2*et+1],gt=(K-(Q-ht))/ht,mt=new ft(dt+(ct[2*et+2]-dt)*gt+p/2-f.bounds.x,pt+(ct[2*et+3]-pt)*gt+p/2-f.bounds.y);mt.scale(s.scale,s.scale);var vt=ut,yt=x[tt];if(1e-4>gt?0<et?vt=yt[et-1]:Ue.$(ct[0],ct[ct.length-2])&&Ue.$(ct[1],ct[ct.length-1])&&(vt=yt[yt.length-1]):.9999<gt&&(et+1<yt.length?vt=yt[et+1]:Ue.$(ct[0],ct[ct.length-2])&&Ue.$(ct[1],ct[ct.length-1])&&(vt=yt[0])),ut!==vt&&(180<Math.abs(ut-vt)&&(ut<vt?ut+=360:vt+=360),ut=(ut+vt)/2%360),X instanceof ru){var _t="";null!==X.graduatedFunction?_t=null!==(_t=X.graduatedFunction(it))&&void 0!==_t?_t.toString():"":_t=(+it.toFixed(2)).toString(),""!==_t&&q.push({xm:mt,angle:ut,text:_t})}else q.push({xm:mt,angle:ut})}it+=nt}}}t.xj.push(q)}M(x);var bt=t.xj;if(null!==bt)for(var xt=i.length,wt=0;wt<xt;wt++){var Ct=i[wt],St=bt[wt];if(Ct.visible&&Ct!==s&&0!==St.length){if(Ct instanceof Yl){var kt=t,Et=o,It=Ct.alignmentFocus;It.kc()&&(It=re);var Tt=Ct.angle;Ct.Yb=0,Ct.measure(1/0,1/0,0,0),Ct.Yb=Tt;var Dt=Ct.measuredBounds,Mt=Dt.width,Ot=Dt.height,Pt=Lt.allocAt(0,0,Mt,Ot),At=ft.alloc();At.gj(Pt,It),Lt.free(Pt);for(var Rt=-At.x,Bt=-At.y,Nt=new Lt,Ft=St.length,Vt=0;Vt<Ft;Vt++)for(var jt=St[Vt],zt=jt.xm.x,Ht=jt.xm.y,Wt=jt.angle,Gt=0;4>Gt;Gt++){switch(Gt){case 0:At.h(Rt,Bt);break;case 1:At.h(Rt+Mt,Bt);break;case 2:At.h(Rt,Bt+Ot);break;case 3:At.h(Rt+Mt,Bt+Ot)}At.rotate(Wt+Ct.angle),At.offset(zt,Ht),0===Vt&&0===Gt?Nt.h(At.x,At.y,0,0):Nt.Ie(At),At.offset(-zt,-Ht),At.rotate(-Wt-Ct.angle)}ft.free(At),null!==kt.Wg&&kt.Wg.push(Nt),$t(Et,Nt.x,Nt.y,Nt.width,Nt.height)}else if(Ct instanceof ru){var Kt=t,Ut=o;null===Kt.sh&&(Kt.sh=new ru);var qt=Kt.sh;au(qt,Ct);var Yt=Ct.alignmentFocus;Yt.kc()&&(Yt=re);for(var Xt=Ct.segmentOrientation,Zt=Ct.segmentOffset,Jt=new Lt,Qt=0,te=0,ee=0,ne=0,ie=0,oe=St.length,ae=0;ae<oe;ae++){var se=St[ae];Qt=se.xm.x,te=se.xm.y,ee=se.angle,ie=ne=Ct.angle,Xt!==rc&&(ie=Xt===dc||Xt===mc?ee+Ct.angle:ee,ne=Nh.computeAngle(Xt,ie)),qt.Yb=ne,qt.text=se.text||"",qt.measure(1/0,1/0,0,0);var le=qt.measuredBounds,ue=qt.naturalBounds,he=ue.width,ce=ue.height,de=Ke.alloc();de.reset(),de.translate(-le.x,-le.y),de.scale(qt.scale,qt.scale),de.rotate(ie,he/2,ce/2),Xt!==fc&&Xt!==vc||de.rotate(90,he/2,ce/2),Xt!==pc&&Xt!==yc||de.rotate(-90,he/2,ce/2),Xt===_c&&(45<ee&&135>ee||225<ee&&315>ee)&&de.rotate(-ee,he/2,ce/2);var fe=Lt.allocAt(0,0,he,ce),pe=ft.alloc();pe.gj(fe,Yt),de.ra(pe);var ge=-pe.x,me=-pe.y,ve=ft.alloc();ve.assign(Zt),isNaN(ve.x)&&(ve.x=he/2+3),isNaN(ve.y)&&(ve.y=-(ce/2+3)),ve.rotate(ee);var ye=new Lt(Qt+=ve.x+ge,te+=ve.y+me,le.width,le.height),_e=new Lt(le.x,le.y,le.width,le.height),be=new Lt(ue.x,ue.y,ue.width,ue.height);se.aA=ne,se.lineCount=qt.lineCount,se.lines=[qt.qb,qt.ti,qt.ie,qt.ve,qt.Qb,qt.ib,qt.ge],se.actualBounds=ye,se.measuredBounds=_e,se.naturalBounds=be,0===ae?Jt.assign(ye):Jt.Ic(ye),ft.free(ve),ft.free(pe),Lt.free(fe),Ke.free(de)}null!==Kt.Wg&&Kt.Wg.push(Jt),$t(Ut,Jt.x,Jt.y,Jt.width,Jt.height)}ss(Ct,!1)}}},xl.prototype.arrange=function(t,e,n){if(null!==t.Wg){var i=t.Ab(),o=t.xj;if(null!==o){var r=t.Wg,a=0,s=r[a];a++,null!==i&&i.arrange(s.x-n.x,s.y-n.y,s.width,s.height);for(var l=e.length,u=0;u<l;u++){var h=e[u];s=o[u],h.visible&&h!==i&&0!==s.length&&(s=r[a],a++,h.arrange(s.x-n.x,s.y-n.y,s.width,s.height))}t.Wg=null}}},xl.prototype.bc=function(t,e,n){var i=n.ni;n.ni=!0;var o=t.naturalBounds,r=o.width;o=o.height,e.save(),e.beginPath(),e.rect(-1,-1,r+1,o+1),e.clip(),(r=t.Ab()).bc(e,n),0>=(o=t.vf()*n.scale)&&(o=1);for(var a=r.actualBounds,s=t.V.j,l=t.xj,u=s.length,h=0;h<u;h++){var c=s[h],d=l[h],f=d.length;if(c.visible&&c!==r&&0!==d.length)if(c instanceof Yl){if(!(2>t.graduatedTickUnit*c.interval*r.geometry.flattenedTotalLength/t.graduatedRange*o)){var p=c.measuredBounds,g=c.strokeWidth*c.scale,m=c.alignmentFocus;m.kc()&&(m=re);for(var v=0;v<f;v++){var y=d[v].xm,_=d[v].angle,b=m,x=c.nb;x.reset(),x.translate(y.x+a.x,y.y+a.y),x.rotate(_+c.angle,0,0),x.translate(-p.width*b.x+b.offsetX+g/2,-p.height*b.y+b.offsetY+g/2),x.scale(c.scale,c.scale),os(c,!1),c.Qh.set(c.nb),c.Yk=c.scale,rs(c,!1),c.bc(e,n),c.nb.reset()}}}else if(c instanceof ru)for(null===t.sh&&(t.sh=new ru),au(p=t.sh,c),c=0;c<f;c++)(g=d[c]).actualBounds&&g.measuredBounds&&g.naturalBounds&&(p.Tb=g.text||"",p.Yb=g.aA||0,p.Nc=g.lineCount||0,void 0!==(m=g.lines)&&(p.qb=m[0],p.ti=m[1],p.ie=m[2],p.ve=m[3],p.Qb=m[4],p.ib=m[5],p.ge=m[6]),g.naturalBounds&&(p.pc=g.naturalBounds),g.actualBounds&&(m=g.actualBounds,p.arrange(m.x,m.y,m.width,m.height)),m=g.actualBounds,p.arrange(m.x,m.y,m.width,m.height),v=g.measuredBounds,g=g.naturalBounds,(y=p.nb).reset(),y.translate(m.x+a.x,m.y+a.y),y.translate(-v.x,-v.y),Xa(p,y,g.x,g.y,g.width,g.height),os(p,!1),p.Qh.set(p.nb),p.Yk=p.scale,rs(p,!1),p.bc(e,n))}n.ni=i,e.restore(),e.sc(!0)},c(wl,za),wl.prototype.cloneProtected=function(t){if(za.prototype.cloneProtected.call(this,t),t.pa=this.pa,t.fb=this.fb.G(),t.vn=this.vn.G(),t.Nf=this.Nf,t.pa===wl.Table){t.qj=this.qj.G(),t.Og=this.Og,t.ii=this.ii,t.hi=this.hi,t.Ng=this.Ng,t.Mg=this.Mg,t.gi=this.gi;var e=[];if(0<this.sb.length)for(var n=this.sb,i=n.length,o=0;o<i;o++)if(void 0!==n[o]){var r=n[o].copy();r.fj(t),e[o]=r}if(t.sb=e,e=[],0<this.ob.length)for(i=(n=this.ob).length,o=0;o<i;o++)void 0!==n[o]&&((r=n[o].copy()).fj(t),e[o]=r);t.ob=e,t.Pj=this.Pj,t.nj=this.nj,t.Mi=this.Mi,t.vi=this.vi}t.$p=this.$p,t.Un=this.Un.G(),t.Vn=this.Vn.G(),t.Rn=this.Rn,t.Qn=this.Qn,t.Tn=this.Tn,t.Sn=this.Sn,t.xj=this.xj,t.Xg=this.Xg,t.kb=this.kb,t.ci=this.ci,t.ko=this.ko,t.si=this.si,t.ne=this.ne,t.rl=this.rl,t.sg.assign(this.sg),t.Gg=this.Gg,null!==this.tp&&(t.tp=this.tp)},wl.prototype.tf=function(t){za.prototype.tf.call(this,t),t.V=this.V;for(var e=t.V.j,n=e.length,i=0;i<n;i++)e[i].kg=t;t.Ji=null},wl.prototype.copy=function(){var t=za.prototype.copy.call(this);if(null!==t){for(var e=this.V.j,n=e.length,i=0;i<n;i++){var o=e[i].copy();o.fj(t),o.Mj=null;var r=t.V,a=r.count;if(r.tb(a,o),null!==(r=t.part)){r.Ij=null,null!==o.portId&&r instanceof yh&&(r.Fh=!0);var s=t.diagram;null!==s&&s.undoManager.isUndoingRedoing||r.$a(kn,"elements",t,null,o,null,a)}}return t}return null},(n=wl.prototype).toString=function(){return"Panel("+this.type+")#"+rt(this)},n.Vo=function(t){za.prototype.Vo.call(this,t);for(var e=this.V.j,n=e.length,i=0;i<n;i++)e[i].Vo(t)},n.Si=function(t,e){if(this.pa===wl.Grid)this.pa.bc(this,t,e);else if(this.pa===wl.Graduated)this.pa.bc(this,t,e);else{this.pa===wl.Table&&(t.lineCap="butt",kl(this,t,!0,this.sb,!0),kl(this,t,!1,this.ob,!0),Sl(this,t,!0,this.sb),Sl(this,t,!1,this.ob),kl(this,t,!0,this.sb,!1),kl(this,t,!1,this.ob,!1));var n=this.isClipping&&this.pa===wl.Spot;n&&t.save();for(var i=this.Ab(),o=this.V.j,r=o.length,a=0;a<r;a++){var s=o[a];n&&s===i&&(t.clipInsteadOfFill=!0),s.bc(t,e),n&&s===i&&(t.clipInsteadOfFill=!1)}n&&(t.restore(),t.sc(!0))}},n.jk=function(t,e,n,i,o){var r=this.be(),a=this.transform,s=1/(a.m11*a.m22-a.m12*a.m21),l=a.m22*s,u=-a.m12*s,h=-a.m21*s,c=a.m11*s,d=s*(a.m21*a.dy-a.m22*a.dx),f=s*(a.m12*a.dx-a.m11*a.dy);if(null!==this.areaBackground)return a=this.actualBounds,Ue.Uc(a.left,a.top,a.right,a.bottom,t,e,n,i,o);if(null!==this.background)return r=t*l+e*h+d,s=t*u+e*c+f,t=n*l+i*h+d,l=n*u+i*c+f,o.h(0,0),n=this.naturalBounds,r=Ue.Uc(0,0,n.width,n.height,r,s,t,l,o),o.transform(a),r;r||(l=1,h=u=0,c=1,f=d=0),s=t*l+e*h+d,t=t*u+e*c+f,l=n*l+i*h+d,n=n*u+i*c+f,o.h(l,n),i=(l-s)*(l-s)+(n-t)*(n-t),u=!1,f=(c=this.V.j).length,h=ft.alloc(),d=null,e=1/0;var p=null,g=this.isClipping&&this.pa===wl.Spot;g&&(p=ft.alloc(),(u=(d=this.Ab()).jk(s,t,l,n,p))&&(e=(s-p.x)*(s-p.x)+(t-p.y)*(t-p.y)));for(var m=0;m<f;m++){var v=c[m];v.visible&&v!==d&&v.jk(s,t,l,n,h)&&(u=!0,(v=(s-h.x)*(s-h.x)+(t-h.y)*(t-h.y))<i&&(i=v,o.set(h)))}return g&&(e>i&&o.set(p),ft.free(p)),ft.free(h),r&&o.transform(a),u},n.o=function(t){if(!0!==as(this)){za.prototype.o.call(this,t),t=null,this.pa!==wl.Auto&&this.pa!==wl.Link||(t=this.Ab());for(var e=this.V.j,n=e.length,i=0;i<n;i++){var o=e[i];if((o===t||o.isPanelMain)&&o.o(!0),!o.desiredSize.v()){var r=Ja(o,!1);(o instanceof Bh||o instanceof wl||o instanceof ru||r!==Kr)&&o.o(!0)}}}},n.pm=function(){if(!1===as(this)){ss(this,!0),us(this,!0);for(var t=this.V.j,e=t.length,n=0;n<e;n++)t[n].pm()}},n.nl=function(){if(0!==(2048&this.F)===!1){os(this,!0),rs(this,!0);for(var t=this.V.j,e=t.length,n=0;n<e;n++)t[n].Kv()}},n.Kv=function(){rs(this,!0);for(var t=this.V.j,e=t.length,n=0;n<e;n++)t[n].Kv()},n.sm=function(t,e,n,i){var o=this.sg;o.h(0,0,0,0);var r=this.desiredSize,a=this.minSize;void 0===n&&(n=a.width,i=a.height),n=Math.max(n,a.width),i=Math.max(i,a.height);var s=this.maxSize;isNaN(r.width)||(t=Math.min(r.width,s.width)),isNaN(r.height)||(e=Math.min(r.height,s.height)),t=Math.max(n,t),e=Math.max(i,e);var l=this.fb;t=Math.max(t-l.left-l.right,0),e=Math.max(e-l.top-l.bottom,0);var u=this.V.j;0!==u.length&&this.pa.measure(this,t,e,u,o,n,i),t=o.width+l.left+l.right,l=o.height+l.top+l.bottom,isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(l=r.height),t=Math.min(s.width,t),l=Math.min(s.height,l),t=Math.max(a.width,t),l=Math.max(a.height,l),Vt(o,t=Math.max(n,t),l=Math.max(i,l)),Vt(this.naturalBounds,t,l),Ga(this,0,0,t,l)},n.Ab=function(){if(null===this.Ji){var t=this.V.j,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var i=t[n];if(!0===i.isPanelMain)return this.Ji=i}this.Ji=t[0]}return this.Ji},n.Ch=function(t,e,n,i){var o=this.V.j;if(this.actualBounds.h(t,e,n,i),0!==o.length){if(!this.desiredSize.v()){t=Ja(this,!0);var r=this.measuredBounds;e=r.width,r=r.height;var a=this.bh,s=a.left+a.right;switch(a=a.top+a.bottom,e===n&&r===i&&(t=Kr),t){case Kr:(e>n||r>i)&&(this.o(),this.measure(e>n?n:e,r>i?i:r,0,0));break;case Gr:this.o(!0),this.measure(n+s,i+a,0,0);break;case qr:this.o(!0),this.measure(n+s,r+a,0,0);break;case Yr:this.o(!0),this.measure(e+s,i+a,0,0)}}this.pa.arrange(this,o,this.sg)}},n.Eh=function(t){var e=this.naturalBounds,n=Il(this);if(Ut(0,0,e.width,e.height,t.x,t.y)){for(var i=(e=this.V.j).length,o=ft.allocAt(0,0);i--;){var r=e[i];if((r.visible||r===n)&&(vt(o.set(t),r.transform),r.aa(o)))return ft.free(o),!0}return ft.free(o),null!==this.jb||null!==this.dc}return!1},n.mt=function(t){if(this.Lk===t)return this;for(var e=this.V.j,n=e.length,i=0;i<n;i++){var o=e[i].mt(t);if(null!==o)return o}return null},n.Km=function(t,e){if(e(this,t),t instanceof wl)for(var n=(t=t.V.j).length,i=0;i<n;i++)this.Km(t[i],e)},n.im=function(t){return function t(e,n,i){if(i(n))return n;if(n instanceof wl)for(var o=(n=n.V.j).length,r=0;r<o;r++){var a=t(e,n[r],i);if(null!==a)return a}return null}(this,this,t)},n.Za=function(t){if(this.name===t)return this;var e=this.V.j,n=e.length;null===this.si&&null===this.ne||(n=Nl(this));for(var i=0;i<n;i++){var o=e[i];if(o instanceof wl){var r=o.Za(t);if(null!==r)return r}if(o.name===t)return o}return null},n.be=function(){return!(this.type===wl.TableRow||this.type===wl.TableColumn)},n.Ub=function(t,e,n){if(!1===this.pickable)return null;if(void 0===e&&(e=null),void 0===n&&(n=null),ls(this))return null;var i=this.naturalBounds,o=1/this.vf(),r=this.be(),a=r?t:vt(ft.allocAt(t.x,t.y),this.transform),s=this.diagram,l=10,u=5;if(null!==s&&(u=(l=s.nm("extraTouchArea"))/2),Ut(-u*o,-u*o,i.width+l*o,i.height+l*o,a.x,a.y)){if(!this.isAtomic){var h=(o=this.V.j).length;if(s=ft.alloc(),u=(l=this.isClipping&&this.pa===wl.Spot)?this.Ab():null,l&&(u.be()?vt(s.set(t),u.transform):s.set(t),!u.aa(s)))return ft.free(s),r||ft.free(a),null;for(var c=Il(this);h--;){var d=o[h];if((d.visible||d===c)&&(d.be()?vt(s.set(t),d.transform):s.set(t),!l||d!==u)){var f=null;if(d instanceof wl?f=d.Ub(s,e,n):!0===d.pickable&&d.aa(s)&&(f=d),null!==f&&(null!==e&&(f=e(f)),null!==f&&(null===n||n(f))))return ft.free(s),r||ft.free(a),f}}ft.free(s)}return null===this.background&&null===this.areaBackground?(r||ft.free(a),null):(t=Ut(0,0,i.width,i.height,a.x,a.y)?this:null,r||ft.free(a),t)}return r||ft.free(a),null},n.Vi=function(t,e,n,i){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var o=this.naturalBounds,r=this.be(),a=r?t:vt(ft.allocAt(t.x,t.y),this.transform);if(o=Ut(0,0,o.width,o.height,a.x,a.y),this.type===wl.TableRow||this.type===wl.TableColumn||o){if(!this.isAtomic){for(var s=this.V.j,l=s.length,u=ft.alloc(),h=Il(this);l--;){var c=s[l];if(c.visible||c===h){c.be()?vt(u.set(t),c.transform):u.set(t);var d=c;(null!==(c=c instanceof wl?c:null)?c.Vi(u,e,n,i):d.aa(u))&&!1!==d.pickable&&(null!==e&&(d=e(d)),null===d||null!==n&&!n(d)||i.add(d))}}ft.free(u)}return r||ft.free(a),o&&(null!==this.background||null!==this.areaBackground)}return r||ft.free(a),!1},n.uf=function(t,e,n,i,o,r){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var a=r;if(void 0===r&&(a=Ke.alloc()).reset(),a.multiply(this.transform),this.Dh(t,a))return Ml(this,e,n,o),void 0===r&&Ke.free(a),!0;if(this.Hc(t,a)){if(!this.isAtomic)for(var s=Il(this),l=this.V.j,u=l.length;u--;){var h=l[u];if(h.visible||h===s){var c=h.actualBounds,d=this.naturalBounds;c.x>d.width||c.y>d.height||0>c.x+c.width||0>c.y+c.height||(c=h,h=h instanceof wl?h:null,(d=Ke.alloc()).set(a),(null!==h?h.uf(t,e,n,i,o,d):Ka(c,t,i,d))&&(null!==e&&(c=e(c)),null===c||null!==n&&!n(c)||o.add(c)),Ke.free(d))}}return void 0===r&&Ke.free(a),i}return void 0===r&&Ke.free(a),!1},n.xg=function(t,e,n,i,o,r){if(!1===this.pickable)return!1;void 0===n&&(n=null),void 0===i&&(i=null);var a=this.naturalBounds,s=this.be(),l=s?t:vt(ft.allocAt(t.x,t.y),this.transform),u=s?e:vt(ft.allocAt(e.x,e.y),this.transform),h=l.Ce(u),c=0<l.x&&l.x<a.width&&0<l.y&&l.y<a.height||yt(l.x,l.y,0,0,0,a.height)<=h||yt(l.x,l.y,0,a.height,a.width,a.height)<=h||yt(l.x,l.y,a.width,a.height,a.width,0)<=h||yt(l.x,l.y,a.width,0,0,0)<=h;if(a=l.dd(0,0)<=h&&l.dd(0,a.height)<=h&&l.dd(a.width,0)<=h&&l.dd(a.width,a.height)<=h,s||(ft.free(l),ft.free(u)),c){if(!this.isAtomic){l=ft.alloc(),u=ft.alloc(),h=Il(this);for(var d=this.V.j,f=d.length;f--;){var p=d[f];if(p.visible||p===h){var g=p.actualBounds,m=this.naturalBounds;s&&(g.x>m.width||g.y>m.height||0>g.x+g.width||0>g.y+g.height)||(p.be()?(g=p.transform,vt(l.set(t),g),vt(u.set(e),g)):(l.set(t),u.set(e)),g=p,(null!==(p=p instanceof wl?p:null)?p.xg(l,u,n,i,o,r):g.Px(l,u,o))&&(null!==n&&(g=n(g)),null===g||null!==i&&!i(g)||r.add(g)))}}ft.free(l),ft.free(u)}return o?c:a}return!1},n.add=function(t){this.tb(this.V.count,t)},n.L=function(t){return this.V.L(t)},n.tb=function(t,e){e instanceof Zu&&_("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.Ag(e))&&(this===e&&_("Cannot make a Panel contain itself: "+this.toString()),_("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var n=e.panel;if(null!==n&&n!==this&&_("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+n.toString()+", cannot be shared by this Panel: "+this.toString()),this.pa!==wl.Grid||e instanceof Yl||_("Can only add Shapes to a Grid Panel, not: "+e),this.pa!==wl.Graduated||e instanceof Yl||e instanceof ru||_("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.fj(this),e.Mj=null,null!==this.itemArray){var i=e.data;null!==i&&"object"===typeof i&&(null===this.Ld&&(this.Ld=new dt),this.Ld.add(i,e))}var o=this.V;if(i=-1,n===this){for(var r=-1,a=this.V.j,s=a.length,l=0;l<s;l++)if(a[l]===e){r=l;break}if(-1!==r){if(r===t||r+1>=o.count&&t>=o.count)return;o.ab(r),i=r}else _("element "+e.toString()+" has panel "+n.toString()+" but is not contained by it.")}(0>t||t>o.count)&&(t=o.count),o.tb(t,e),(0===t||e.isPanelMain)&&(this.Ji=null),as(this)||this.o(),e.o(!1),(null!==e.portId||e instanceof wl&&!0===e.Fh)&&(this.Fh=!0),this.Xg=null,null!==(n=this.part)&&(n.Ij=null,n.dh=NaN,this.Fh&&n instanceof yh&&(n.Fh=!0),n.Fh&&n instanceof yh&&(n.rc=null),null!==(o=this.diagram)&&o.undoManager.isUndoingRedoing||(-1!==i&&n.$a(En,"elements",this,e,null,i,null),n.$a(kn,"elements",this,null,e,null,t),this.Bg()||Vl(this,e,!1)))},n.remove=function(t){for(var e=this.V.j,n=e.length,i=-1,o=0;o<n;o++)if(e[o]===t){i=o;break}-1!==i&&this.Gc(i,!0)},n.ab=function(t){0<=t&&this.Gc(t,!0)},n.Gc=function(t,e){var n=this.V,i=n.L(t);if(i.Mj=null,i.fj(null),null!==this.Ld){var o=i.data;"object"===typeof o&&this.Ld.remove(o)}n.ab(t),ss(this,!1),this.o(),this.Ji===i&&(this.Ji=null),this.Xg=null;var r=this.part;null!==r&&(r.Ij=null,r.dh=NaN,r.Lb(),r instanceof yh&&(i instanceof wl?i.Km(i,(function(t,n){Th(r,n,e)})):Th(r,i,e)),null!==(n=this.diagram)&&n.undoManager.isUndoingRedoing||r.$a(En,"elements",this,i,null,t,null))},wl.prototype.getRowDefinition=function(t){0>t&&x(t,">= 0",wl,"getRowDefinition:idx"),t=Math.round(t);var e=this.sb;if(void 0===e)return null;if(void 0===e[t]){var n=new Gl;n.fj(this),n.isRow=!0,n.index=t,e[t]=n}return e[t]},wl.prototype.cw=function(t){0>t&&x(t,">= 0",wl,"removeRowDefinition:idx"),t=Math.round(t);var e=this.sb;void 0!==e&&(this.$a(En,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.o())},wl.prototype.getColumnDefinition=function(t){0>t&&x(t,">= 0",wl,"getColumnDefinition:idx"),t=Math.round(t);var e=this.ob;if(void 0===e)return null;if(void 0===e[t]){var n=new Gl;n.fj(this),n.isRow=!1,n.index=t,e[t]=n}return e[t]},(n=wl.prototype).aw=function(t){0>t&&x(t,">= 0",wl,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.ob;void 0!==e&&(this.$a(En,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.o())},n.uz=function(t){if(0>t||this.type!==wl.Table)return-1;for(var e=0,n=this.sb,i=n.length,o=this.Mi;o<i;o++){var r=n[o];if(void 0!==r&&t<(e+=r.total))break}return o},n.lz=function(t){if(0>t||this.type!==wl.Table)return-1;for(var e=0,n=this.ob,i=n.length,o=this.vi;o<i;o++){var r=n[o];if(void 0!==r&&t<(e+=r.total))break}return o},n.Oz=function(t,e){if(void 0===e&&(e=new ft(NaN,NaN)),this.type!==wl.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var n=this.Ab();return n.geometry.Dv((t-this.graduatedMin)/this.graduatedRange,e),n.transform.ra(e)},n.Pz=function(t){if(this.type!==wl.Graduated)return NaN;var e=this.Ab();return e.transform.Wd(t),e.geometry.Tx(t)*this.graduatedRange+this.graduatedMin},n.$y=function(){var t=this.copy();return Dl(t,(function(t){t instanceof wl&&(t.ci=null,t.kb=null);var e=t.cb;null!==e&&(t.cb=null,e.each((function(e){t.bind(e.copy())}))),null!==(e=t.Hg)&&(t.Hg=null,e.each((function(e){ds(t,e.value.copy())})))})),t},n.Ba=function(t){var e=this.ci;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var n=e.value,i=n.sourceProperty;if((""===t||""===i||i===t)&&(i=n.targetProperty,null!==n.converter||""!==i)){i=this.data;var o=n.sourceName;if(null!==o)i=""===o||"/"===o||"."===o||".."===o?this:this.Za(o);else{var r=this.diagram;null!==r&&n.isToModel&&(i=r.model.modelData)}if(null!==i){r=this;var a=n.jj;if(-1!==a){if(null===(r=this.mt(a)))continue}else null!==n.cd&&(r=n.cd);if("/"===o?i=r.part:"."===o?i=r:".."===o&&(i=r.panel),0!==(o=n.Sp)){if(!(r instanceof wl))continue;1===o?r=r.getColumnDefinition(n.Wl):2===o&&(r=r.getRowDefinition(n.Wl))}void 0!==r&&n.xw(r,i)}}}},n.Kt=function(){for(var t=Nl(this);this.V.length>t;)this.Gc(this.V.length-1,!1);if(null!==(t=this.itemArray))for(var e=t.length,n=0;n<e;n++)Fl(this,t[n],n)},n.Ox=function(t){return void 0===t||null===t||null===this.Ld?null:this.Ld.H(t)},d.Object.defineProperties(wl.prototype,{type:{get:function(){return this.pa},set:function(t){var e=this.pa;e!==t&&(this.pa=t,this.pa===wl.Grid?this.isAtomic=!0:this.pa===wl.Table&&Cl(this),this.o(),this.g("type",e,t))}},elements:{get:function(){return this.V.iterator}},naturalBounds:{get:function(){return this.pc}},padding:{get:function(){return this.fb},set:function(t){"number"===typeof t?(0>t&&x(t,">= 0",wl,"padding"),t=new Jt(t)):(0>t.left&&x(t.left,">= 0",wl,"padding:value.left"),0>t.right&&x(t.right,">= 0",wl,"padding:value.right"),0>t.top&&x(t.top,">= 0",wl,"padding:value.top"),0>t.bottom&&x(t.bottom,">= 0",wl,"padding:value.bottom"));var e=this.fb;e.w(t)||(this.fb=t=t.G(),this.o(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.vn},set:function(t){var e=this.vn;e.w(t)||(this.vn=t=t.G(),this.o(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Nf},set:function(t){var e=this.Nf;e!==t&&(this.Nf=t,this.o(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return void 0===this.qj?ee:this.qj},set:function(t){if(void 0!==this.qj){"number"===typeof t&&(t=new Jt(t));var e=this.qj;e.w(t)||(this.qj=t=t.G(),this.o(),this.g("defaultSeparatorPadding",e,t))}}},defaultRowSeparatorStroke:{get:function(){return void 0===this.ii?null:this.ii},set:function(t){var e=this.ii;e!==t&&(null===t||"string"===typeof t||t instanceof Ps)&&(t instanceof Ps&&t.freeze(),this.ii=t,this.M(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return void 0===this.Og?1:this.Og},set:function(t){if(void 0!==this.Og){var e=this.Og;e!==t&&isFinite(t)&&0<=t&&(this.Og=t,this.o(),this.g("defaultRowSeparatorStrokeWidth",e,t))}}},defaultRowSeparatorDashArray:{get:function(){return void 0===this.hi?null:this.hi},set:function(t){if(void 0!==this.hi){var e=this.hi;if(e!==t){if(null!==t){for(var n=t.length,i=0,o=0;o<n;o++){var r=t[o];"number"===typeof r&&0<=r&&isFinite(r)||_("defaultRowSeparatorDashArray value "+r+" at index "+o+" must be a positive number or zero."),i+=r}if(0===i){if(null===e)return;t=null}}this.hi=t,this.M(),this.g("defaultRowSeparatorDashArray",e,t)}}}},defaultColumnSeparatorStroke:{get:function(){return void 0===this.Mg?null:this.Mg},set:function(t){if(void 0!==this.Mg){var e=this.Mg;e!==t&&(null===t||"string"===typeof t||t instanceof Ps)&&(t instanceof Ps&&t.freeze(),this.Mg=t,this.M(),this.g("defaultColumnSeparatorStroke",e,t))}}},defaultColumnSeparatorStrokeWidth:{get:function(){return void 0===this.Ng?1:this.Ng},set:function(t){if(void 0!==this.Ng){var e=this.Ng;e!==t&&isFinite(t)&&0<=t&&(this.Ng=t,this.o(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}}},defaultColumnSeparatorDashArray:{get:function(){return void 0===this.gi?null:this.gi},set:function(t){if(void 0!==this.gi){var e=this.gi;if(e!==t){if(null!==t){for(var n=t.length,i=0,o=0;o<n;o++){var r=t[o];"number"===typeof r&&0<=r&&isFinite(r)||_("defaultColumnSeparatorDashArray value "+r+" at index "+o+" must be a positive number or zero."),i+=r}if(0===i){if(null===e)return;t=null}}this.gi=t,this.M(),this.g("defaultColumnSeparatorDashArray",e,t)}}}},viewboxStretch:{get:function(){return this.$p},set:function(t){var e=this.$p;e!==t&&(this.$p=t,this.o(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.Un},set:function(t){var e=this.Un;if(!e.w(t)){t.v()&&0!==t.width&&0!==t.height||_("Invalid Panel.gridCellSize: "+t),this.Un=t.G();var n=this.diagram;null!==n&&this===n.grid&&Sr(n),this.M(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.Vn},set:function(t){var e=this.Vn;if(!e.w(t)){t.v()||_("Invalid Panel.gridOrigin: "+t),this.Vn=t.G();var n=this.diagram;null!==n&&this===n.grid&&Sr(n),this.M(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return this.Rn},set:function(t){var e=this.Rn;e!==t&&(this.Rn=t,this.o(),this.g("graduatedMin",e,t),ns(this)&&(null!==(t=this.part)&&Wa(this,t,"graduatedRange")))}},graduatedMax:{get:function(){return this.Qn},set:function(t){var e=this.Qn;e!==t&&(this.Qn=t,this.o(),this.g("graduatedMax",e,t),ns(this)&&(null!==(t=this.part)&&Wa(this,t,"graduatedRange")))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.Tn},set:function(t){var e=this.Tn;e!==t&&0<t&&(this.Tn=t,this.o(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return this.Sn},set:function(t){var e=this.Sn;e!==t&&(this.Sn=t,this.o(),this.g("graduatedTickBase",e,t))}},Fh:{get:function(){return 0!==(8388608&this.F)},set:function(t){0!==(8388608&this.F)!==t&&(this.F^=8388608)}},rowCount:{get:function(){return void 0===this.sb?0:this.sb.length}},columnCount:{get:function(){return void 0===this.ob?0:this.ob.length}},rowSizing:{get:function(){return void 0===this.Pj?ql:this.Pj},set:function(t){if(void 0!==this.Pj){var e=this.Pj;e!==t&&(this.Pj=t,this.o(),this.g("rowSizing",e,t))}}},columnSizing:{get:function(){return void 0===this.nj?ql:this.nj},set:function(t){if(void 0!==this.nj){var e=this.nj;e!==t&&(this.nj=t,this.o(),this.g("columnSizing",e,t))}}},topIndex:{get:function(){return void 0===this.Mi?0:this.Mi},set:function(t){if(void 0!==this.Mi){var e=this.Mi;e!==t&&((!isFinite(t)||0>t)&&_("Panel.topIndex must be greater than zero and a real number, not: "+t),this.Mi=t,this.o(),this.g("topIndex",e,t))}}},leftIndex:{get:function(){return void 0===this.vi?0:this.vi},set:function(t){if(void 0!==this.vi){var e=this.vi;e!==t&&((!isFinite(t)||0>t)&&_("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.vi=t,this.o(),this.g("leftIndex",e,t))}}},data:{get:function(){return this.kb},set:function(t){var e=this.kb;if(e!==t){var n=this instanceof Zu&&!(this instanceof vh);Bl(this),this.kb=t;var i=this.diagram;null!==i&&(n?(n=i.partManager,this instanceof Nh?(null!==e&&n.Oe.remove(e),null!==t&&n.Oe.add(t,this)):this instanceof Zu&&(null!==e&&n.Pe.remove(e),null!==t&&n.Pe.add(t,this))):null!==(n=this.panel)&&null!==n.Ld&&(null!==e&&n.Ld.remove(e),null!==t&&n.Ld.add(t,this))),this.g("data",e,t),null!==i&&i.undoManager.isUndoingRedoing||null!==t&&this.Ba()}}},itemIndex:{get:function(){return this.ko},set:function(t){var e=this.ko;e!==t&&(this.ko=t,this.g("itemIndex",e,t))}},itemArray:{get:function(){return this.si},set:function(t){var e=this.si;if(e!==t||null!==t&&function(t,e){for(var n=(t=t.V.j).length,i=e.length,o=0,r=null;o<n&&!((r=t[o])instanceof wl&&null!==r.data);)r=t[++o];if(n-o!==i)return!0;if(null===r)return 0<i;for(var a=0;o<n&&a<i;){if(!((r=t[o])instanceof wl)||r.data!==e[a])return!0;o++,a++}return!1}(this,t)){var n=this.diagram;e!==t&&(null!==n&&null!==e&&dd(n.partManager,this,n),this.si=t,null!==n&&null!==t&&cd(n.partManager,this)),this.g("itemArray",e,t),null!==n&&n.undoManager.isUndoingRedoing||this.Kt()}}},itemTemplate:{get:function(){return null===this.ne?null:this.ne.H("")},set:function(t){if(null===this.ne){if(null===t)return;this.ne=new dt}var e=this.ne.H("");e!==t&&((t instanceof Zu||t.isPanelMain)&&_("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.ne.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.Kt())}},itemTemplateMap:{get:function(){return this.ne},set:function(t){var e=this.ne;if(e!==t){for(var n=t.iterator;n.next(););this.ne=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.Kt()}}},itemCategoryProperty:{get:function(){return this.rl},set:function(t){var e=this.rl;e!==t&&(this.rl=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!==(1048576&this.F)},set:function(t){var e=0!==(1048576&this.F);e!==t&&(this.F^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!==(2097152&this.F)},set:function(t){var e=0!==(2097152&this.F);e!==t&&(t&&this.type!==wl.Spot&&w("Warning: Panel.isClipping set on non-Spot Panel: "+this.toString()),this.F^=2097152,this.o(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!==(33554432&this.F)},set:function(t){var e=0!==(33554432&this.F);e!==t&&(this.F^=33554432,this.o(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!==(4194304&this.F)},set:function(t){var e=0!==(4194304&this.F);if(e!==t){var n=null===this.panel||this.panel.Bg();this.F^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||n&&Vl(this,this,t)}}},alignmentFocusName:{get:function(){return this.Gg},set:function(t){var e=this.Gg;e!==t&&(this.Gg=t,this.o(),this.g("alignmentFocusName",e,t))}}}),d.Object.defineProperties(wl,{Position:{get:function(){return Wl.H("Position")}},Horizontal:{get:function(){return Wl.H("Horizontal")}},Vertical:{get:function(){return Wl.H("Vertical")}},Spot:{get:function(){return Wl.H("Spot")}},Auto:{get:function(){return Wl.H("Auto")}},Table:{get:function(){return Wl.H("Table")}},Viewbox:{get:function(){return Wl.H("Viewbox")}},TableRow:{get:function(){return Wl.H("TableRow")}},TableColumn:{get:function(){return Wl.H("TableColumn")}},Link:{get:function(){return Wl.H("Link")}},Grid:{get:function(){return Wl.H("Grid")}},Graduated:{get:function(){return Wl.H("Graduated")}}}),wl.prototype.findItemPanelForData=wl.prototype.Ox,wl.prototype.rebuildItemElements=wl.prototype.Kt,wl.prototype.updateTargetBindings=wl.prototype.Ba,wl.prototype.copyTemplate=wl.prototype.$y,wl.prototype.graduatedValueForPoint=wl.prototype.Pz,wl.prototype.graduatedPointForValue=wl.prototype.Oz,wl.prototype.findColumnForLocalX=wl.prototype.lz,wl.prototype.findRowForLocalY=wl.prototype.uz,wl.prototype.removeColumnDefinition=wl.prototype.aw,wl.prototype.removeRowDefinition=wl.prototype.cw,wl.prototype.removeAt=wl.prototype.ab,wl.prototype.remove=wl.prototype.remove,wl.prototype.insertAt=wl.prototype.tb,wl.prototype.elt=wl.prototype.L,wl.prototype.add=wl.prototype.add,wl.prototype.findObject=wl.prototype.Za,wl.prototype.findInVisualTree=wl.prototype.im,wl.prototype.walkVisualTreeFrom=wl.prototype.Km,wl.prototype.findMainElement=wl.prototype.Ab;var zl=!1,Hl=null,Wl=new dt;function Gl(){it(this),this.kg=null,this.Ur=!0,this.Oa=0,this.Pc=NaN,this.fh=0,this.eh=1/0,this.wb=Te,this.ma=this.ha=0,this.cb=null,this.Jp=$l,this.xe=Ur,this.Dp=this.ng=null,this.Ep=NaN,this.jb=this.Qj=null,this.rn=!1}function Kl(t){if(t.sizing===$l){var e=t.kg;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}wl.className="Panel",wl.definePanelLayout=jl,jl("Position",new ll),jl("Vertical",new hl),jl("Auto",new dl),jl("Link",new _l),Gl.prototype.copy=function(){var t=new Gl;return t.Ur=this.Ur,t.Oa=this.Oa,t.Pc=this.Pc,t.fh=this.fh,t.eh=this.eh,t.wb=this.wb,t.ha=this.ha,t.ma=this.ma,t.xe=this.xe,t.Jp=this.Jp,null===this.ng?t.ng=null:t.ng=this.ng.G(),t.Dp=this.Dp,t.Ep=this.Ep,t.Qj=null,null!==this.Qj&&(t.separatorDashArray=E(this.separatorDashArray)),t.jb=this.jb,t.rn=this.rn,t.cb=this.cb,t},(n=Gl.prototype).it=function(t){t.isRow?this.height=t.height:this.width=t.width,this.minimum=t.minimum,this.maximum=t.maximum,this.alignment=t.alignment,this.stretch=t.stretch,this.sizing=t.sizing,this.ng=null===t.separatorPadding?null:t.separatorPadding.G(),this.separatorStroke=t.separatorStroke,this.separatorStrokeWidth=t.separatorStrokeWidth,this.Qj=null,t.separatorDashArray&&(this.Qj=E(t.separatorDashArray)),this.background=t.background,this.coversSeparators=t.coversSeparators,this.cb=t.cb},n.gb=function(t){t.classType===Gl&&(this.sizing=t)},n.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+rt(this)},n.fj=function(t){this.kg=t},n.nv=function(){var t=0,e=0,n=this.kg,i=this.isRow;if(null!==n&&n.type===wl.Table)for(var o=i?n.sb.length:n.ob.length,r=0;r<o;r++){var a=i?n.sb[r]:n.ob[r];if(void 0!==a){e=a.index;break}}if(this.index!==e&&(null===(e=this.separatorStroke)&&null!==n&&(e=this.isRow?n.defaultRowSeparatorStroke:n.defaultColumnSeparatorStroke),null!==e&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==n?this.isRow?n.defaultRowSeparatorStrokeWidth:n.defaultColumnSeparatorStrokeWidth:0))),null===(e=this.ng)){if(null===n)return t;e=n.defaultSeparatorPadding}return t+(this.isRow?e.top:e.left)},n.uc=function(){var t=0,e=this.kg,n=0,i=this.isRow;if(null!==e&&e.type===wl.Table)for(var o=i?e.sb.length:e.ob.length,r=0;r<o;r++){var a=i?e.sb[r]:e.ob[r];if(void 0!==a){n=a.index;break}}if(this.index!==n&&(null===(n=this.separatorStroke)&&null!==e&&(n=i?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==n&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?i?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(i=this.ng)){if(null===e)return t;i=e.defaultSeparatorPadding}return t+(this.isRow?i.top+i.bottom:i.left+i.right)},n.yb=function(t,e,n){var i=this.kg;if(null!==i&&(i.$a(Sn,t,this,e,n,void 0,void 0),null!==this.cb&&(null!==(e=i.diagram)&&!e.skipsModelSourceBindings&&(null!==(i=i.Wi())&&null!==(e=i.data)))))for(n=this.cb.iterator;n.next();)n.value.Tq(this,e,t,i)},n.bind=function(t){t.cd=this;var e=this.panel;if(null!==e){var n=e.Wi();null!==n&&Rl(n)&&_("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.cb&&(this.cb=new tt),this.cb.add(t)},d.Object.defineProperties(Gl.prototype,{panel:{get:function(){return this.kg}},isRow:{get:function(){return this.Ur},set:function(t){this.Ur=t}},index:{get:function(){return this.Oa},set:function(t){this.Oa=t}},height:{get:function(){return this.Pc},set:function(t){var e=this.Pc;e!==t&&(0>t&&x(t,">= 0",Gl,"height"),this.Pc=t,this.actual=this.ha,null!==this.panel&&this.panel.o(),this.yb("height",e,t))}},width:{get:function(){return this.Pc},set:function(t){var e=this.Pc;e!==t&&(0>t&&x(t,">= 0",Gl,"width"),this.Pc=t,this.actual=this.ha,null!==this.panel&&this.panel.o(),this.yb("width",e,t))}},minimum:{get:function(){return this.fh},set:function(t){var e=this.fh;e!==t&&((0>t||!isFinite(t))&&x(t,">= 0",Gl,"minimum"),this.fh=t,this.actual=this.ha,null!==this.panel&&this.panel.o(),this.yb("minimum",e,t))}},maximum:{get:function(){return this.eh},set:function(t){var e=this.eh;e!==t&&(0>t&&x(t,">= 0",Gl,"maximum"),this.eh=t,this.actual=this.ha,null!==this.panel&&this.panel.o(),this.yb("maximum",e,t))}},alignment:{get:function(){return this.wb},set:function(t){var e=this.wb;e.w(t)||(this.wb=t.G(),null!==this.panel&&this.panel.o(),this.yb("alignment",e,t))}},stretch:{get:function(){return this.xe},set:function(t){var e=this.xe;e!==t&&(this.xe=t,null!==this.panel&&this.panel.o(),this.yb("stretch",e,t))}},separatorPadding:{get:function(){return this.ng},set:function(t){"number"===typeof t&&(t=new Jt(t));var e=this.ng;null!==t&&null!==e&&e.w(t)||(null!==t&&(t=t.G()),this.ng=t,null!==this.panel&&this.panel.o(),this.yb("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.Dp},set:function(t){var e=this.Dp;e!==t&&(null!==t&&Gs(t,"RowColumnDefinition.separatorStroke"),t instanceof Ps&&t.freeze(),this.Dp=t,null!==this.panel&&this.panel.o(),this.yb("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.Ep},set:function(t){var e=this.Ep;e!==t&&(this.Ep=t,null!==this.panel&&this.panel.o(),this.yb("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.Qj},set:function(t){var e=this.Qj;if(e!==t){if(null!==t){for(var n=t.length,i=0,o=0;o<n;o++){var r=t[o];"number"===typeof r&&0<=r&&isFinite(r)||_("separatorDashArray value "+r+" at index "+o+" must be a positive number or zero."),i+=r}if(0===i){if(null===e)return;t=null}}this.Qj=t,null!==this.panel&&this.panel.M(),this.yb("separatorDashArray",e,t)}}},background:{get:function(){return this.jb},set:function(t){var e=this.jb;e!==t&&(null!==t&&Gs(t,"RowColumnDefinition.background"),t instanceof Ps&&t.freeze(),this.jb=t,null!==this.panel&&this.panel.M(),this.yb("background",e,t))}},coversSeparators:{get:function(){return this.rn},set:function(t){var e=this.rn;e!==t&&(this.rn=t,null!==this.panel&&this.panel.M(),this.yb("coversSeparators",e,t))}},sizing:{get:function(){return this.Jp},set:function(t){var e=this.Jp;e!==t&&(this.Jp=t,null!==this.panel&&this.panel.o(),this.yb("sizing",e,t))}},actual:{get:function(){return this.ha},set:function(t){this.ha=isNaN(this.Pc)?Math.max(Math.min(this.eh,t),this.fh):Math.max(Math.min(this.eh,this.Pc),this.fh)}},total:{get:function(){return this.ha+this.uc()},set:function(t){this.ha=isNaN(this.Pc)?Math.max(Math.min(this.eh,t),this.fh):Math.max(Math.min(this.eh,this.Pc),this.fh),this.ha=Math.max(0,this.ha-this.uc())}},position:{get:function(){return this.ma},set:function(t){this.ma=t}}}),Gl.prototype.bind=Gl.prototype.bind,Gl.prototype.computeEffectiveSpacing=Gl.prototype.uc,Gl.prototype.computeEffectiveSpacingTop=Gl.prototype.nv;var $l=new K(Gl,"Default",0),Ul=new K(Gl,"None",1),ql=new K(Gl,"ProportionalExtra",2);function Yl(){za.call(this),this.vd=this.ka=null,this.Hn="None",this.Pn=Ur,this.Ec=this.al="black",this.qh=1,this.Sl="butt",this.Tl="miter",this.Rj=10,this.oh=null,this.ph=0,this.kf=this.jf=Te,this.bp=this.ap=NaN,this.ao=!1,this.ep=null,this.bl=this.Zl="None",this.Kd=1,this.Hd=0,this.Fd=1,this.Gd=null}function Xl(t,e,n,i){var o=n.length;if(!(4>o)){var r=i.measuredBounds,a=Math.max(1,r.width);r=r.height;for(var s,l,u,h,c,d,f=n[0],p=n[1],g=0,m=D(),v=2;v<o;v+=2)0===(u=(s=n[v])-f)&&(u=.001),h=(f=(l=n[v+1])-p)/u,c=Math.atan2(f,u),d=Math.sqrt(u*u+f*f),m.push([u,c,h,d]),g+=d,f=s,p=l;f=n[0],p=n[1],u=i.measuredBounds.width,i instanceof Yl&&(u-=i.strokeWidth),1>u&&(u=1),o=n=u,l=0!==(s=a/2),u=(d=m[v=0])[0],c=d[1],h=d[2],d=d[3];for(var y=0;.1<=g;){if(0===y&&(l?(o=n,o-=s,g-=s,l=!1):o=n,0===o&&(o=1)),o>g)return void M(m);o>d?(y=o-d,o=d):y=0;var _=Math.sqrt(o*o/(1+h*h));if(0>u&&(_=-_),f+=_,p+=h*_,t.translate(f,p),t.rotate(c),t.translate(-a/2,-r/2),0===y&&i.Si(t,e),t.translate(a/2,r/2),t.rotate(-c),t.translate(-f,-p),g-=o,d-=o,0!==y){if(++v===m.length)return void M(m);u=(d=m[v])[0],c=d[1],h=d[2],d=d[3],o=y}}M(m)}}function Zl(t){var e=t.geometryStretch;return null!==t.vd?e===Ur?Gr:e:e===Ur?ou[t.figure].defaultStretch:e}function Jl(t,e,n,i,o){return(e=(t=n.x-t)*t+(e=n.y-e)*e)<i?(o.x=n.x,o.y=n.y,e):i}function Ql(t,e,n,i,o,r,a,s,l){var u=!1,h=(o-a)*(e-i)-(r-s)*(t-n);return 0!==h&&(l.x=((o*s-r*a)*(t-n)-(o-a)*(t*i-e*n))/h,l.y=((o*s-r*a)*(e-i)-(r-s)*(t*i-e*n))/h,(t>n?t-n:n-t)<(e>i?e-i:i-e)?(t=e<i?e:i,e=e<i?i:e,(l.y>t||Ue.$(l.y,t))&&(l.y<e||Ue.$(l.y,e))&&(u=!0)):(e=t<n?t:n,t=t<n?n:t,(l.x>e||Ue.$(l.x,e))&&(l.x<t||Ue.$(l.x,t))&&(u=!0)),u)}function tu(t,e,n,i){if(!t.Uc(e,n,i))return!1;t=e.x,e=e.y;var o=n.x,r=n.y;return n=i.x,i=i.y,t===o?(e<r?(t=e,e=r):t=r,i>=t&&i<=e):(t<o?(i=t,t=o):i=o,n>=i&&n<=t)}function eu(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=dc,"None"!==t.Zl?(t.segmentIndex=-1,t.alignmentFocus=Be):"None"!==t.bl&&(t.segmentIndex=0,t.alignmentFocus=new je(1-Be.x,Be.y)))}function nu(t){var e=iu[t];if(void 0===e){var n=t.toLowerCase();if("none"===n)return"None";if(void 0===(e=iu[n])){var i,o=null;for(i in Ue.Nm)if(i.toLowerCase()===n){o=i;break}if(null!==o)return t=Ze(Ue.Nm[o],!1),iu[o]=t,n!==o&&(iu[n]=o),o}}return"string"===typeof e?e:e instanceof qe?t:null}Gl.className="RowColumnDefinition",Gl.Default=$l,Gl.None=Ul,Gl.ProportionalExtra=ql,c(Yl,za),Yl.prototype.cloneProtected=function(t){za.prototype.cloneProtected.call(this,t),t.ka=this.ka,t.Hn=this.Hn,t.Pn=this.Pn,t.vd=this.vd,t.al=this.al,t.Ec=this.Ec,t.qh=this.qh,t.Sl=this.Sl,t.Tl=this.Tl,t.Rj=this.Rj,null!==this.oh&&(t.oh=E(this.oh)),t.ph=this.ph,t.jf=this.jf.G(),t.kf=this.kf.G(),t.ap=this.ap,t.bp=this.bp,t.ao=this.ao,t.ep=this.ep,t.Zl=this.Zl,t.bl=this.bl,t.Kd=this.Kd,t.Hd=this.Hd,t.Fd=this.Fd,t.Gd=this.Gd},(n=Yl.prototype).gb=function(t){t===Kr||t===$r||t===Xr||t===Ur?this.geometryStretch=t:za.prototype.gb.call(this,t)},n.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+rt(this)},n.Si=function(t,e){var n=this.Ec,i=this.al;if(null!==n||null!==i){var o=this.actualBounds,r=this.naturalBounds;null!==i&&qa(this,t,i,!0,!1,r,o);var a=this.part,s=this.qh;null!==n&&0===s&&null!==a&&(s=a.type===wl.Link&&a instanceof vh&&"Selection"===a.category&&a.adornedObject instanceof Yl&&a.adornedPart.Ab()===a.adornedObject?a.adornedObject.strokeWidth:0),null!==n&&0!==s&&(qa(this,t,n,!1,!1,r,o),t.lineWidth=s,t.lineJoin=this.Tl,t.lineCap=this.Sl,t.miterLimit=this.Rj),o=!1,a&&e.De("drawShadows")&&(o=a.isShadowed),a=!0,null===n||null!==i&&"transparent"!==i||(a=!1),r=!1;var l=this.strokeDashArray;null!==l&&(r=!0,t.lt(l,this.ph));var u=this.ka;if(null!==u){if(u.type===an)t.beginPath(),t.moveTo(u.startX,u.startY),t.lineTo(u.endX,u.endY),null!==i&&t.Vd(i),0!==s&&null!==n&&t.ij();else if(u.type===sn){var h=u.startX;l=u.startY;var c=u.endX,d=u.endY;u=Math.min(h,c);var f=Math.min(l,d);h=Math.abs(c-h),l=Math.abs(d-l),t.beginPath(),t.rect(u,f,h,l),null!==i&&t.Vd(i),null!==n&&(a&&o&&Es(t),0!==s&&(0!==h&&0!==l||(t.beginPath(),t.rect(u,f,Math.max(h,.1),Math.max(l,.1))),t.ij()),a&&o&&Is(t))}else if(u.type===ln)h=u.startX,l=u.startY,c=u.endX,d=u.endY,u=Math.abs(c-h)/2,f=Math.abs(d-l)/2,h=Math.min(h,c)+u,l=Math.min(l,d)+f,t.beginPath(),t.moveTo(h,l-f),t.bezierCurveTo(h+Ue.Fg*u,l-f,h+u,l-Ue.Fg*f,h+u,l),t.bezierCurveTo(h+u,l+Ue.Fg*f,h+Ue.Fg*u,l+f,h,l+f),t.bezierCurveTo(h-Ue.Fg*u,l+f,h-u,l+Ue.Fg*f,h-u,l),t.bezierCurveTo(h-u,l-Ue.Fg*f,h-Ue.Fg*u,l-f,h,l-f),t.closePath(),null!==i&&t.Vd(i),0!==s&&null!==n&&(a&&o?(Es(t),t.ij(),Is(t)):t.ij());else if(u.type===un)for(u=(l=u.figures).length,f=0;f<u;f++){h=l.j[f],t.beginPath(),t.moveTo(h.startX,h.startY),d=(c=h.segments.j).length;for(var p=null,g=0;g<d;g++){var m=c[g];switch(m.type){case pn:t.moveTo(m.endX,m.endY);break;case gn:t.lineTo(m.endX,m.endY);break;case mn:t.bezierCurveTo(m.point1X,m.point1Y,m.point2X,m.point2Y,m.endX,m.endY);break;case vn:t.quadraticCurveTo(m.point1X,m.point1Y,m.endX,m.endY);break;case yn:if(m.radiusX===m.radiusY){var v=Math.PI/180;t.arc(m.point1X,m.point1Y,m.radiusX,m.startAngle*v,(m.startAngle+m.sweepAngle)*v,0>m.sweepAngle,null!==p?p.endX:h.startX,null!==p?p.endY:h.startY)}else if(0===(v=(p=dn(m,h)).length))t.lineTo(m.centerX,m.centerY);else for(var y=0;y<v;y++){var b=p[y];0===y&&t.lineTo(b[0],b[1]),t.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7])}break;case _n:if(y=v=0,null!==p&&p.type===yn){if(0===(b=(p=dn(p,h)).length)){t.lineTo(m.centerX,m.centerY);break}null!==(p=p[b-1]||null)&&(v=p[6],y=p[7])}else v=null!==p?p.endX:h.startX,y=null!==p?p.endY:h.startY;if(0===(v=(p=fn(m,h,v,y)).length)){t.lineTo(m.centerX,m.centerY);break}for(y=0;y<v;y++)b=p[y],t.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7]);break;default:_("Segment not of valid type: "+m.type)}m.isClosed&&t.closePath(),p=m}o?h.isShadowed?(!0===h.isFilled&&"transparent"!==i&&null!==i&&t.Vd(i),0!==s&&null!==n&&(a&&Es(t),t.ij(),a&&Is(t))):(a&&Es(t),!0===h.isFilled&&"transparent"!==i&&null!==i&&t.Vd(i),0!==s&&null!==n&&t.ij(),a&&Is(t)):(!0===h.isFilled&&null!==i&&t.Vd(i),0!==s&&null!==n&&t.ij())}if(r&&t.jt(),null!==this.pathPattern){if((n=this.pathPattern).measure(1/0,1/0),i=n.measuredBounds,n.arrange(0,0,i.width,i.height),s=this.geometry,t.save(),t.beginPath(),i=D(),s.type===an)i.push(s.startX),i.push(s.startY),i.push(s.endX),i.push(s.endY),Xl(t,e,i,n);else if(s.type===un)for(s=s.figures.iterator;s.next();){for(o=s.value,i.length=0,i.push(o.startX),i.push(o.startY),l=a=o.startX,u=r=o.startY,h=(f=o.segments.j).length,c=0;c<h;c++){switch((d=f[c]).type){case pn:Xl(t,e,i,n),i.length=0,i.push(d.endX),i.push(d.endY),l=a=d.endX,u=r=d.endY;break;case gn:i.push(d.endX),i.push(d.endY),a=d.endX,r=d.endY;break;case mn:Ue.Ae(a,r,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,i),a=d.endX,r=d.endY;break;case vn:Ue.Fq(a,r,d.point1X,d.point1Y,d.endX,d.endY,.5,i),a=d.endX,r=d.endY;break;case yn:if(0===(m=(g=dn(d,o)).length)){i.push(d.centerX),i.push(d.centerY),a=d.centerX,r=d.centerY;break}for(p=0;p<m;p++)v=g[p],Ue.Ae(a,r,v[2],v[3],v[4],v[5],v[6],v[7],.5,i),a=v[6],r=v[7];break;case _n:if(0===(m=(g=fn(d,o,a,r)).length)){i.push(d.centerX),i.push(d.centerY),a=d.centerX,r=d.centerY;break}for(p=0;p<m;p++)v=g[p],Ue.Ae(a,r,v[2],v[3],v[4],v[5],v[6],v[7],.5,i),a=v[6],r=v[7];break;default:_("Segment not of valid type: "+d.type)}d.isClosed&&(i.push(l),i.push(u),Xl(t,e,i,n))}Xl(t,e,i,n)}else if(s.type===sn)i.push(s.startX),i.push(s.startY),i.push(s.endX),i.push(s.startY),i.push(s.endX),i.push(s.endY),i.push(s.startX),i.push(s.endY),i.push(s.startX),i.push(s.startY),Xl(t,e,i,n);else if(s.type===ln){if((r=new hn).startX=s.endX,r.startY=(s.startY+s.endY)/2,(a=new cn(yn)).startAngle=0,a.sweepAngle=360,a.centerX=(s.startX+s.endX)/2,a.centerY=(s.startY+s.endY)/2,a.radiusX=Math.abs(s.startX-s.endX)/2,a.radiusY=Math.abs(s.startY-s.endY)/2,r.add(a),0===(o=(s=dn(a,r)).length))i.push(a.centerX),i.push(a.centerY);else for(a=r.startX,r=r.startY,l=0;l<o;l++)u=s[l],Ue.Ae(a,r,u[2],u[3],u[4],u[5],u[6],u[7],.5,i),a=u[6],r=u[7];Xl(t,e,i,n)}M(i),t.restore(),t.sc(!1)}}}},n.ga=function(t,e){if(void 0===e&&(e=new ft),t instanceof je){t.kc()&&_("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var n=this.naturalBounds,i=this.strokeWidth;e.h(t.x*(n.width+i)-i/2+n.x+t.offsetX,t.y*(n.height+i)-i/2+n.y+t.offsetY)}else e.set(t);return this.wd.ra(e),e},n.mm=function(t){void 0===t&&(t=new Lt);var e=this.naturalBounds,n=this.wd;e=Lt.allocAt(e.x,e.y,e.width,e.height);var i=this.strokeWidth;return e.Vc(i/2,i/2),i=ft.allocAt(e.x,e.y).transform(n),t.h(i.x,i.y,0,0),i.h(e.right,e.y).transform(n),$t(t,i.x,i.y,0,0),i.h(e.right,e.bottom).transform(n),$t(t,i.x,i.y,0,0),i.h(e.x,e.bottom).transform(n),$t(t,i.x,i.y,0,0),Lt.free(e),ft.free(i),t},n.Eh=function(t,e){var n=this.geometry;if(null===n||null===this.fill&&null===this.stroke)return!1;var i=n.bounds,o=this.strokeWidth/2;n.type!==an||e||(o+=2);var r=Lt.alloc();if(r.assign(i),r.Vc(o+2,o+2),!r.aa(t))return Lt.free(r),!1;if(i=o+1e-4,n.type===an)return null!==this.stroke&&(i=(n.endX-n.startX)*(t.x-n.startX)+(n.endY-n.startY)*(t.y-n.startY),!(0>(n.startX-n.endX)*(t.x-n.endX)+(n.startY-n.endY)*(t.y-n.endY)||0>i)&&(Lt.free(r),Ue.Nb(n.startX,n.startY,n.endX,n.endY,o,t.x,t.y)));if(n.type===sn){e=n.startX;var a=n.startY,s=n.endX;if(n=n.endY,r.x=Math.min(e,s),r.y=Math.min(a,n),r.width=Math.abs(s-e),r.height=Math.abs(n-a),null===this.fill){if(r.Vc(-i,-i),r.aa(t))return Lt.free(r),!1;r.Vc(i,i)}return null!==this.stroke&&r.Vc(o,o),t=r.aa(t),Lt.free(r),t}if(n.type===ln){a=n.startX,o=n.startY,s=n.endX;var l=n.endY;if(n=Math.min(a,s),e=Math.min(o,l),a=Math.abs(s-a)/2,o=Math.abs(l-o)/2,n=t.x-(n+a),e=t.y-(e+o),null===this.fill){if(o-=i,0>=(a-=i)||0>=o||1>=n*n/(a*a)+e*e/(o*o))return Lt.free(r),!1;a+=i,o+=i}return null!==this.stroke&&(a+=i,o+=i),Lt.free(r),!(0>=a||0>=o)&&1>=n*n/(a*a)+e*e/(o*o)}return n.type===un?(Lt.free(r),null===this.fill?nn(n,t.x,t.y,o):tn(n,t,o,1<this.strokeWidth,e)):(_("Unknown Geometry type: "+n.type),!1)},n.sm=function(t,e,n,i){var o=this.desiredSize,r=this.qh;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.vd)var a=this.geometry.bounds;else{var s=this.figure,l=ou[s];if(void 0===l){var u=Ue.Je[s];"string"===typeof u&&(u=Ue.Je[u]),"function"===typeof u?(l=u(null,100,100),ou[s]=l):_("Unsupported Figure: "+s)}a=l.bounds}s=a.width,l=a.height,u=a.width;var h=a.height;switch(Ja(this,!0)){case Kr:i=n=0;break;case Gr:u=Math.max(t-r,0),h=Math.max(e-r,0);break;case qr:u=Math.max(t-r,0),i=0;break;case Yr:n=0,h=Math.max(e-r,0)}switch(isFinite(o.width)&&(u=o.width),isFinite(o.height)&&(h=o.height),o=this.maxSize,a=this.minSize,n=Math.max(n-r,a.width),i=Math.max(i-r,a.height),u=Math.min(o.width,u),h=Math.min(o.height,h),u=isFinite(u)?Math.max(n,u):Math.max(s,n),h=isFinite(h)?Math.max(i,h):Math.max(l,i),n=Zl(this)){case Kr:break;case Gr:s=u,l=h;break;case $r:n=Math.min(u/s,h/l),isFinite(n)||(n=1),s*=n,l*=n;break;default:_(n+" is not a valid geometryStretch.")}null!==this.vd?(o=s=Math.max(s,.01),i=l=Math.max(l,.01),n=(a=null!==this.vd?this.vd:this.ka).copy(),o/=(a=a.bounds).width,i/=a.height,isFinite(o)||(o=1),isFinite(i)||(i=1),1===o&&1===i||n.scale(o,i),this.ka=n):null!==this.ka&&Ue.$(this.ka.ll,t-r)&&Ue.$(this.ka.kl,e-r)||(this.ka=Yl.makeGeometry(this,s,l)),a=this.ka.bounds,1/0===t||1/0===e?Ga(this,a.x-r/2,a.y-r/2,0===t&&0===s?0:a.width+r,0===e&&0===l?0:a.height+r):Ga(this,-r/2,-r/2,u+r,h+r)},n.Ch=function(t,e,n,i){$a(this,t,e,n,i)},n.Uc=function(t,e,n){return this.jk(t.x,t.y,e.x,e.y,n)},n.jk=function(t,e,n,i,o){var r=this.transform,a=1/(r.m11*r.m22-r.m12*r.m21),s=r.m22*a,l=-r.m12*a,u=-r.m21*a,h=r.m11*a,c=a*(r.m21*r.dy-r.m22*r.dx),d=a*(r.m12*r.dx-r.m11*r.dy);if(r=t*s+e*u+c,a=t*l+e*h+d,s=n*s+i*u+c,l=n*l+i*h+d,c=this.qh/2,null===(u=this.ka)&&(this.measure(1/0,1/0),u=this.ka),d=u.bounds,h=!1,u.type===an)if(1.5>=this.strokeWidth)h=Ue.Fe(u.startX,u.startY,u.endX,u.endY,r,a,s,l,o);else{if(u.startX===u.endX?(i=c,h=0):(e=(u.endY-u.startY)/(u.endX-u.startX),i=(h=c/Math.sqrt(1+e*e))*e),e=D(),t=new ft,Ue.Fe(u.startX+i,u.startY+h,u.endX+i,u.endY+h,r,a,s,l,t)&&e.push(t),t=new ft,Ue.Fe(u.startX-i,u.startY-h,u.endX-i,u.endY-h,r,a,s,l,t)&&e.push(t),t=new ft,Ue.Fe(u.startX+i,u.startY+h,u.startX-i,u.startY-h,r,a,s,l,t)&&e.push(t),t=new ft,Ue.Fe(u.endX+i,u.endY+h,u.endX-i,u.endY-h,r,a,s,l,t)&&e.push(t),0===(s=e.length))return M(e),!1;for(h=!0,l=1/0,i=0;i<s;i++)(n=((t=e[i]).x-r)*(t.x-r)+(t.y-a)*(t.y-a))<l&&(l=n,o.x=t.x,o.y=t.y);M(e)}else if(u.type===sn)h=Ue.Uc(d.x-c,d.y-c,d.x+d.width+c,d.y+d.height+c,r,a,s,l,o);else if(u.type===ln){t:if(0===(e=Lt.allocAt(d.x,d.y,d.width,d.height).Vc(c,c)).width)h=Ue.Fe(e.x,e.y,e.x,e.y+e.height,r,a,s,l,o);else if(0===e.height)h=Ue.Fe(e.x,e.y,e.x+e.width,e.y,r,a,s,l,o);else{if(t=e.width/2,u=e.height/2,i=e.x+t,h=e.y+u,n=9999,r!==s&&(n=(a-l)/(r-s)),9999>Math.abs(n)){if(0>t*t*n*n+u*u-(l=a-h-n*(r-i))*l){o.x=NaN,o.y=NaN,h=!1;break t}s=(-t*t*n*l+t*u*(c=Math.sqrt(t*t*n*n+u*u-l*l)))/(u*u+t*t*n*n)+i,t=(-t*t*n*l-t*u*c)/(u*u+t*t*n*n)+i,u=n*(s-i)+l+h,l=n*(t-i)+l+h,Math.abs((r-s)*(r-s))+Math.abs((a-u)*(a-u))<Math.abs((r-t)*(r-t))+Math.abs((a-l)*(a-l))?(o.x=s,o.y=u):(o.x=t,o.y=l)}else{if(s=u*u,0>(s-=s/(t*t)*(l=r-i)*l)){o.x=NaN,o.y=NaN,h=!1;break t}s=h+(l=Math.sqrt(s)),l=h-l,Math.abs(s-a)<Math.abs(l-a)?(o.x=r,o.y=s):(o.x=r,o.y=l)}h=!0}Lt.free(e)}else if(u.type===un){d=ft.alloc();var f=s-r,p=l-a,g=f*f+p*p;o.x=s,o.y=l;for(var m=0;m<u.figures.count;m++)for(var v=u.figures.j[m],y=v.segments,b=f=v.startX,x=p=v.startY,w=0;w<y.count;w++){var C=y.j[w],S=C.type,k=C.endX,E=C.endY,I=!1;switch(S){case pn:b=k,x=E;break;case gn:I=Ql(f,p,k,E,r,a,s,l,d);break;case mn:I=Ue.hq(f,p,C.point1X,C.point1Y,C.point2X,C.point2Y,k,E,r,a,s,l,.6,d);break;case vn:I=Ue.hq(f,p,(f+2*C.point1X)/3,(p+2*C.point1Y)/3,(2*C.point1X+k)/3,(2*C.point1X+k)/3,k,E,r,a,s,l,.6,d);break;case yn:case _n:var T=(S=C.type===yn?dn(C,v):fn(C,v,f,p)).length;if(0===T){I=Ql(f,p,C.centerX,C.centerY,r,a,s,l,d);break}for(E=null,k=0;k<T;k++){if(E=S[k],0===k&&Ql(f,p,E[0],E[1],r,a,s,l,d)){var O=Jl(r,a,d,g,o);O<g&&(g=O,h=!0)}Ue.hq(E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],r,a,s,l,.6,d)&&((O=Jl(r,a,d,g,o))<g&&(g=O,h=!0))}k=E[6],E=E[7];break;default:_("Unknown Segment type: "+S)}f=k,p=E,I&&((I=Jl(r,a,d,g,o))<g&&(g=I,h=!0)),C.isClosed&&(Ql(f,p,k=b,E=x,r,a,s,l,d)&&((C=Jl(r,a,d,g,o))<g&&(g=C,h=!0)))}r=n-t,a=i-e,0!==(s=Math.sqrt(r*r+a*a))&&(r/=s,a/=s),o.x-=r*c,o.y-=a*c,ft.free(d)}else _("Unknown Geometry type: "+u.type);return!!h&&(this.transform.ra(o),!0)},n.Dh=function(t,e){if(void 0===e)return t.Be(this.actualBounds);var n=this.ka;null===n&&(this.measure(1/0,1/0),n=this.ka),n=n.bounds;var i=this.strokeWidth/2,o=!1,r=ft.alloc();return r.h(n.x-i,n.y-i),t.aa(e.ra(r))&&(r.h(n.x-i,n.bottom+i),t.aa(e.ra(r))&&(r.h(n.right+i,n.bottom+i),t.aa(e.ra(r))&&(r.h(n.right+i,n.y-i),t.aa(e.ra(r))&&(o=!0)))),ft.free(r),o},n.Hc=function(t,e){if(this.Dh(t,e)||void 0===e&&(e=this.transform,t.Be(this.actualBounds)))return!0;var n=Ke.alloc();n.set(e),n.xt();var i=t.left,o=t.right,r=t.top;t=t.bottom;var a=ft.alloc();if(a.h(i,r),n.ra(a),this.Eh(a,!0))return ft.free(a),!0;if(a.h(o,r),n.ra(a),this.Eh(a,!0))return ft.free(a),!0;if(a.h(i,t),n.ra(a),this.Eh(a,!0))return ft.free(a),!0;if(a.h(o,t),n.ra(a),this.Eh(a,!0))return ft.free(a),!0;var s=ft.alloc(),l=ft.alloc();return n.set(e),n.Qv(this.transform),n.xt(),s.x=o,s.y=r,s.transform(n),a.x=i,a.y=r,a.transform(n),e=!1,tu(this,a,s,l)?e=!0:(a.x=o,a.y=t,a.transform(n),tu(this,a,s,l)?e=!0:(s.x=i,s.y=t,s.transform(n),tu(this,a,s,l)?e=!0:(a.x=i,a.y=r,a.transform(n),tu(this,a,s,l)&&(e=!0)))),ft.free(a),Ke.free(n),ft.free(s),ft.free(l),e},n.Px=function(t,e,n){function i(t,e){for(var n=t.length,i=0;i<n;i+=2)if(e.dd(t[i],t[i+1])>o)return!0;return!1}if(n&&null!==this.fill&&this.Eh(t,!0))return!0;var o=t.Ce(e),r=o;if(1.5<this.strokeWidth&&(o=this.strokeWidth/2+Math.sqrt(o),o*=o),null===(e=this.ka)&&(this.measure(1/0,1/0),null===(e=this.ka)))return!1;if(!n){var a=e.bounds,s=a.x,l=a.y,u=a.x+a.width;if(a=a.y+a.height,_t(t.x,t.y,s,l)<=o&&_t(t.x,t.y,u,l)<=o&&_t(t.x,t.y,s,a)<=o&&_t(t.x,t.y,u,a)<=o)return!0}if(s=e.startX,l=e.startY,u=e.endX,a=e.endY,e.type===an){if(n=(s-u)*(t.x-u)+(l-a)*(t.y-a),yt(t.x,t.y,s,l,u,a)<=(0<=(u-s)*(t.x-s)+(a-l)*(t.y-l)&&0<=n?o:r))return!0}else{if(e.type===sn)return e=!1,n&&(e=yt(t.x,t.y,s,l,s,a)<=o||yt(t.x,t.y,s,l,u,l)<=o||yt(t.x,t.y,u,l,u,a)<=o||yt(t.x,t.y,s,a,u,a)<=o),e;if(e.type===ln){e=t.x-(s+u)/2,r=t.y-(l+a)/2;var h=Math.abs(u-s)/2,c=Math.abs(a-l)/2;if(0===h||0===c)return yt(t.x,t.y,s,l,u,a)<=o;if(!n)return!(_t(e,r,-h,0)>=o||_t(e,r,0,-c)>=o||_t(e,r,0,c)>=o||_t(e,r,h,0)>=o);if((t=Ue.fz(h,c,e,r))*t<=o)return!0}else if(e.type===un){if(r=(u=e.bounds).x,s=u.y,l=u.x+u.width,u=u.y+u.height,t.x>l&&t.x<r&&t.y>u&&t.y<s&&yt(t.x,t.y,r,s,r,u)>o&&yt(t.x,t.y,r,s,l,s)>o&&yt(t.x,t.y,l,u,r,u)>o&&yt(t.x,t.y,l,u,l,s)>o)return!1;if(r=Math.sqrt(o),!n){for(n=e.figures,e=0;e<n.count;e++){if(a=(r=n.j[e]).startX,h=r.startY,t.dd(a,h)>o)return!1;for(l=(s=r.segments.j).length,u=0;u<l;u++)switch((c=s[u]).type){case pn:case gn:if(a=c.endX,h=c.endY,t.dd(a,h)>o)return!1;break;case mn:var d=D();if(Ue.Ae(a,h,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.8,d),a=i(d,t),M(d),a)return!1;if(a=c.endX,h=c.endY,t.dd(a,h)>o)return!1;break;case vn:if(d=D(),Ue.Fq(a,h,c.point1X,c.point1Y,c.endX,c.endY,.8,d),a=i(d,t),M(d),a)return!1;if(a=c.endX,h=c.endY,t.dd(a,h)>o)return!1;break;case yn:case _n:var f=(d=c.type===yn?dn(c,r):fn(c,r,a,h)).length;if(0===f){if(a=c.centerX,h=c.centerY,t.dd(a,h)>o)return!1;break}c=null;for(var p=D(),g=0;g<f;g++)if(c=d[g],p.length=0,Ue.Ae(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.8,p),i(p,t))return M(p),!1;M(p),null!==c&&(a=c[6],h=c[7]);break;default:_("Unknown Segment type: "+c.type)}}return!0}if(null===this.fill?nn(e,t.x,t.y,r):tn(e,t,r,!0,!1))return!0}}return!1},n.cc=function(){this.ka=null},Yl.makeGeometry=function(t,e,n){if("None"!==t.toArrow)var i=iu[t.toArrow];else"None"!==t.fromArrow?i=iu[t.fromArrow]:("string"===typeof(i=Ue.Je[t.figure])&&(i=Ue.Je[i]),void 0===i&&_("Unknown Shape.figure: "+t.figure),(i=i(t,e,n)).ll=e,i.kl=n);if(null===i){var o=Ue.Je.Rectangle;"function"===typeof o&&(i=o(t,e,n))}return i},d.Object.defineProperties(Yl.prototype,{geometry:{get:function(){return null!==this.ka?this.ka:this.vd},set:function(t){var e=this.ka,n=this.vd;if(e!==t){this.vd=this.ka=null!==t?t.freeze():null;var i=this.part;null!==i&&(i.dh=NaN),this.o(),this.g("geometry",e||n,t),ns(this)&&(null!==(t=this.part)&&Wa(this,t,"geometryString"))}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=Ze(t)).normalize();this.geometry=t,this.position=t=ft.allocAt(-e.x,-e.y),ft.free(t)}},isGeometryPositioned:{get:function(){return this.ao},set:function(t){var e=this.ao;e!==t&&(this.ao=t,this.o(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.al},set:function(t){var e=this.al;e!==t&&(null!==t&&Gs(t,"Shape.fill"),t instanceof Ps&&t.freeze(),this.al=t,this.M(),this.g("fill",e,t))}},stroke:{get:function(){return this.Ec},set:function(t){var e=this.Ec;e!==t&&(null!==t&&Gs(t,"Shape.stroke"),t instanceof Ps&&t.freeze(),this.Ec=t,this.M(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.qh},set:function(t){var e=this.qh;if(e!==t)if(0<=t){this.qh=t,this.o();var n=this.part;null!==n&&(n.dh=NaN),this.g("strokeWidth",e,t)}else x(t,"value >= 0",Yl,"strokeWidth:value")}},strokeCap:{get:function(){return this.Sl},set:function(t){var e=this.Sl;e!==t&&("string"!==typeof t||"butt"!==t&&"round"!==t&&"square"!==t?x(t,'"butt", "round", or "square"',Yl,"strokeCap"):(this.Sl=t,this.M(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return this.Tl},set:function(t){var e=this.Tl;e!==t&&("string"!==typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?x(t,'"miter", "bevel", or "round"',Yl,"strokeJoin"):(this.Tl=t,this.M(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return this.Rj},set:function(t){var e=this.Rj;if(e!==t&&1<=t){this.Rj=t,this.M();var n=this.part;null!==n&&(n.dh=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.oh},set:function(t){var e=this.oh;if(e!==t){if(null!==t){for(var n=t.length,i=0,o=0;o<n;o++){var r=t[o];0<=r&&isFinite(r)||_("strokeDashArray:value "+r+" at index "+o+" must be a positive number or zero."),i+=r}if(0===i){if(null===e)return;t=null}}this.oh=t,this.M(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return this.ph},set:function(t){var e=this.ph;e!==t&&0<=t&&(this.ph=t,this.M(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.Hn},set:function(t){var e=this.Hn;if(e!==t){var n=Ue.Je[t];"function"===typeof n?n=t:(n=Ue.Je[t.toLowerCase()])||_("Unknown Shape.figure: "+t),e!==n&&(null!==(t=this.part)&&(t.dh=NaN),this.Hn=n,this.vd=null,this.cc(),this.o(),this.g("figure",e,n))}}},toArrow:{get:function(){return this.Zl},set:function(t){var e=this.Zl;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=nu(t);null===n?_("Unknown Shape.toArrow: "+t):e!==n&&(this.Zl=n,this.vd=null,this.cc(),this.o(),eu(this),this.g("toArrow",e,n))}}},fromArrow:{get:function(){return this.bl},set:function(t){var e=this.bl;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var n=nu(t);null===n?_("Unknown Shape.fromArrow: "+t):e!==n&&(this.bl=n,this.vd=null,this.cc(),this.o(),eu(this),this.g("fromArrow",e,n))}}},spot1:{get:function(){return this.jf},set:function(t){var e=this.jf;e.w(t)||(this.jf=t=t.G(),this.o(),this.g("spot1",e,t))}},spot2:{get:function(){return this.kf},set:function(t){var e=this.kf;e.w(t)||(this.kf=t=t.G(),this.o(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.ap},set:function(t){var e=this.ap;e!==t&&(this.ap=t,this.cc(),this.o(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.bp},set:function(t){var e=this.bp;e!==t&&(this.bp=t,this.cc(),this.o(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){if(null!==this.ka)return this.pc.assign(this.ka.bounds),this.pc;var t=this.desiredSize;return new Lt(0,0,t.width,t.height)}},pathPattern:{get:function(){return this.ep},set:function(t){var e=this.ep;e!==t&&(this.ep=t,this.M(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return this.Pn},set:function(t){var e=this.Pn;e!==t&&(this.Pn=t,this.g("geometryStretch",e,t))}},interval:{get:function(){return this.Kd},set:function(t){var e=this.Kd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Kd=t;var n=this.diagram;null!==n&&this.panel===n.grid&&Sr(n),this.o(),null!==(n=this.panel)&&(n.Xg=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Hd},set:function(t){var e=this.Hd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Hd=t,this.o(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Fd},set:function(t){var e=this.Fd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Fd=t,this.o(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return this.Gd},set:function(t){var e=this.Gd;e!==t&&(this.Gd=t,this.o(),this.g("graduatedSkip",e,t))}}}),Yl.prototype.intersectsRect=Yl.prototype.Hc,Yl.prototype.containedInRect=Yl.prototype.Dh,Yl.prototype.getNearestIntersectionPoint=Yl.prototype.Uc,Yl.prototype.getDocumentBounds=Yl.prototype.mm,Yl.prototype.getDocumentPoint=Yl.prototype.ga;var iu=new q,ou=new q;function ru(){za.call(this),Mu||(Du=oa?new Ts(null).context:null,Mu=!0),this.lx=this.Tb="",this.Ec="black",this.he="13px sans-serif",this.Ki="start",this.Ed=Kr,this.Oi=Oe,this.Aj=!0,this.pi=this.ri=!1,this.ig=bu,this.tg=yu,this.ds=this.qb=this.Nc=0,this.Ku=this.Lu=null,this.En=!1,this.Ac=this.fn=this.Tp=this.Li=this.Up=null,this.hf=this.gf=0,this.pe=1/0,this.ti=0,this.ie=null,this.ve=0,this.ge=this.ib=this.Qb=null,this.Kd=1,this.Hd=0,this.Fd=1,this.Gd=this.wj=null}function au(t,e){t.F=6144|e.F,t.rb=e.opacity,t.jb=e.background,t.dc=e.areaBackground,t.Mc=e.desiredSize.G(),t.bg=e.minSize.G(),t.ag=e.maxSize.G(),t.Zf=e.Zf.copy(),t.ya=e.scale,t.Yb=e.angle,t.xe=e.stretch,t.bh=e.margin.G(),t.wb=e.alignment.G(),t.Hk=e.alignmentFocus.G(),t.Il=e.segmentFraction,t.Jl=e.segmentOffset.G(),t.Kl=e.segmentOrientation,null!==e.md&&(t.md=e.md.copy()),t.Ml=e.shadowVisible,e instanceof ru&&(t.Tb=e.Tb,t.Ec=e.Ec,t.he=e.he,t.Ki=e.Ki,t.Ed=e.Ed,t.Oi=e.Oi,t.Aj=e.Aj,t.ri=e.ri,t.pi=e.pi,t.ig=e.ig,t.tg=e.tg,t.ie=null,t.gf=e.gf,t.hf=e.hf,t.pe=e.pe,t.ti=e.ti,t.Kd=e.Kd,t.Hd=e.Hd,t.Fd=e.Fd,t.wj=e.wj,t.Gd=e.Gd)}function su(t,e,n){null===t.ge?(t.ge=e,t.qb=n):(null!==t.ib&&null!==t.Qb||(t.ib=[],t.Qb=[],t.ib.push(t.ge),t.Qb.push(t.qb)),t.ib.push(e),t.Qb.push(n))}function lu(t,e,n,i){e=e.trim();var o=0,r=t.he,a=t.gf+t.hf;a=Math.max(0,cu(t)+a);var s=t.ig===xu?du(r):0;if(t.Nc>=t.pe)null!==i&&i.h(0,a);else{var l=e;if(t.tg===mu)if(t.ve=1,r=hu(e),0===s||r<=n)t.qb=Math.max(t.qb,r),su(t,e,t.qb),null!==i&&i.h(r,a);else{for(r=hu((o=uu(t,l))+(e=uu(t,l=l.substr(o.length))));0<e.length&&r<=n;)r=hu(((o+=e)+(e=uu(t,l=l.substr(e.length)))).trim());for(o+=e.trim(),n=Math.max(1,n-s);hu(o)>n&&1<o.length;)o=o.substr(0,o.length-1);e=hu(o+=Iu),t.qb=e,su(t,o,e),null!==i&&i.h(e,a)}else{for(s=0,0===l.length&&(s=1,su(t,l,0));0<l.length;){var u=uu(t,l);for(l=l.substr(u.length);hu(u)>n;){var h=1;for(r=hu(u.substr(0,h)),e=0;r<=n;)h++,e=r,r=hu(u.substr(0,h));if(1===h){var c=r;o=Math.max(o,r)}else c=e,o=Math.max(o,e);if(1>--h&&(h=1),su(t,u.substr(0,h),c),s++,u=u.substr(h),t.Nc+s>t.pe)break}for(r=hu(u+(e=uu(t,l)));0<e.length&&r<=n;)r=hu(((u+=e)+(e=uu(t,l=l.substr(e.length)))).trim());if(""!==(u=u.trim())&&("\xad"===u[u.length-1]&&(u=u.substring(0,u.length-1)+"\u2010"),0===e.length?(h=r,o=Math.max(o,r)):(h=e=hu(u),o=Math.max(o,e)),su(t,u,h),s++,t.Nc+s>t.pe))break}t.ve=Math.min(t.pe,s),t.qb=Math.max(t.qb,o),null!==i&&i.h(t.qb,a*t.ve)}}}function uu(t,e){if(t.tg===_u)return e.substr(0,1);t=e.length;for(var n=0,i=wu;n<t&&!i.test(e.charAt(n));)n++;for(;n<t&&i.test(e.charAt(n));)n++;return n>=t?e:e.substr(0,n)}function hu(t){return null===Du?8*t.length:Du.measureText(t).width}function cu(t){if(null!==t.ie)return t.ie;var e=t.he;if(null===Du){var n=16;return t.ie=n}return void 0!==Cu[e]&&5e3>Su?n=Cu[e]:(n=1.3*Du.measureText("M").width,Cu[e]=n,Su++),t.ie=n}function du(t){if(null===Du)return 6;if(void 0!==ku[t]&&5e3>Eu)var e=ku[t];else e=Du.measureText(Iu).width,ku[t]=e,Eu++;return e}function fu(t,e){var n=t.Tb.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),i=t.gf+t.hf;if(i=Math.max(0,cu(t)+i),0===n.length)return t.qb=0,t.Nc=1,i;if(!t.isMultiline){var o=n.indexOf("\n",0);0<=o&&(n=n.substr(0,o))}o=0;for(var r,a=t.Nc=0,s=!1;!s;){if(-1===(r=n.indexOf("\n",a))&&(r=n.length,s=!0),a<=r){if(a=n.substr(a,r-a),t.tg!==mu){t.ve=0;var l=Rt.alloc();lu(t,a,e,l),o+=l.height,Rt.free(l),t.Nc+=t.ve}else lu(t,a,e,null),o+=i,t.Nc++;t.Nc===t.pe&&(s=!0)}a=r+1}return t.ds=o}Yl.className="Shape",Yl.getFigureGenerators=function(){var t,e=new dt;for(t in Ue.Je)t!==t.toLowerCase()&&e.add(t,Ue.Je[t]);return e.freeze(),e},Yl.defineFigureGenerator=function(t,e){var n=t.toLowerCase(),i=Ue.Je;i[t]=e,i[n]=t},Yl.getArrowheadGeometries=function(){var t=new dt;for(i in Ue.Nm)if(void 0===iu[i]){var e=Ze(Ue.Nm[i],!1);iu[i]=e,(e=i.toLowerCase())!==i&&(iu[e]=i)}for(var n in iu)if(n!==n.toLowerCase()){var i=iu[n];i instanceof qe&&t.add(n,i)}return t.freeze(),t},Yl.defineArrowheadGeometry=function(t,e){var n=null;n="string"===typeof e?Ze(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||_("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var i=iu;i[t]=n,i[e]=t},c(ru,za),ru.prototype.cloneProtected=function(t){za.prototype.cloneProtected.call(this,t),t.Tb=this.Tb,t.lx=this.lx,t.Ec=this.Ec,t.he=this.he,t.Ki=this.Ki,t.Ed=this.Ed,t.Oi=this.Oi,t.Aj=this.Aj,t.ri=this.ri,t.pi=this.pi,t.ig=this.ig,t.tg=this.tg,t.Nc=this.Nc,t.ds=this.ds,t.qb=this.qb,t.Lu=this.Lu,t.Ku=this.Ku,t.En=this.En,t.Up=this.Up,t.Li=this.Li,t.Tp=this.Tp,t.fn=this.fn,t.Ac=this.Ac,t.gf=this.gf,t.hf=this.hf,t.pe=this.pe,t.ie=this.ie,t.ve=this.ve,t.Qb=this.Qb,t.ib=this.ib,t.ge=this.ge,t.ti=this.ti,t.Kd=this.Kd,t.Hd=this.Hd,t.Fd=this.Fd,t.wj=this.wj,t.Gd=this.Gd},(n=ru.prototype).gb=function(t){t.classType===ru?this.wrap=t:za.prototype.gb.call(this,t)},n.toString=function(){return 22<this.Tb.length?'TextBlock("'+this.Tb.substring(0,20)+'"...)':'TextBlock("'+this.Tb+'")'},n.o=function(){za.prototype.o.call(this),this.Ku=this.Lu=null},n.Si=function(t,e){if(null!==this.Ec&&0!==this.Tb.length&&null!==this.he){var n=this.naturalBounds,i=this.actualBounds,o=n.width,r=n.height,a=cu(this),s=t.textAlign=this.Ki,l=e.ol;"start"===s?s=l?"right":"left":"end"===s&&(s=l?"left":"right"),l=this.ri;var u=this.pi;qa(this,t,this.Ec,!0,!1,n,i),(l||u)&&qa(this,t,this.Ec,!1,!1,n,i),i=0,n=!1;var h=ft.allocAt(0,0);this.wd.ra(h);var c=ft.allocAt(0,a);this.wd.ra(c);var d=h.Ce(c);switch(ft.free(h),ft.free(c),8>d*(h=e.scale)*h&&(n=!0),e.Eb!==t&&(n=!1),!1===e.De("textGreeking")&&(n=!1),e=this.gf,d=this.hf,this.flip){case Jr:t.translate(o,0),t.scale(-1,1);break;case Zr:t.translate(0,r),t.scale(1,-1);break;case Qr:t.translate(o,r),t.scale(-1,-1)}if(r>(c=(e+a+d)*(h=this.Nc))&&(i=(i=this.Oi).y*r-i.y*c+i.offsetY),1===h&&null!==this.ge)(d=this.qb)>o&&(d=o),this.Ri(this.ge,t,0,i+e,o,a,d,n,s,l,u);else if(null!==this.Qb&&null!==this.ib)for(c=0;c<h;c++){var f=this.Qb[c];f>o&&(f=o),i+=e,this.Ri(this.ib[c],t,0,i,o,a,f,n,s,l,u),i+=a+d}switch(this.flip){case Jr:t.scale(-1,1),t.translate(-o,0);break;case Zr:t.scale(1,-1),t.translate(0,-r);break;case Qr:t.scale(-1,-1),t.translate(-o,-r)}}},n.Ri=function(t,e,n,i,o,r,a,s,l,u,h){var c=0;s?("left"===l?c=0:"right"===l?c=o-a:"center"===l&&(c=(o-a)/2),e.fillRect(n+c,i+.25*r,a,1)):("left"===l?c=0:"right"===l?c=o:"center"===l&&(c=o/2),o=null!==pu?pu(this,r):.75*r,e.fillText(t,n+c,i+o),0===(t=r/20|0)&&(t=1),"right"===l?c-=a:"center"===l&&(c-=a/2),u&&(l=null!==gu?gu(this,r):.8*r,e.beginPath(),e.lineWidth=t,e.moveTo(n+c,i+l),e.lineTo(n+c+a,i+l),e.stroke()),h&&(e.beginPath(),e.lineWidth=t,i=i+r-r/2.2|0,0!==t%2&&(i+=.5),e.moveTo(n+c,i),e.lineTo(n+c+a,i),e.stroke()))},n.sm=function(t,e,n,i){this.ti=t;var o,r=this.he;if(null!==Du&&Tu!==r&&(Tu=Du.font=r),this.qb=this.ve=0,this.ge=this.ib=this.Qb=this.ie=null,isNaN(this.desiredSize.width)){if(0===(r=this.Tb.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)r=0;else if(this.isMultiline){for(var a=o=0,s=!1;!s;){var l=r.indexOf("\n",a);-1===l&&(l=r.length,s=!0),o=Math.max(o,hu(r.substr(a,l-a).trim())),a=l+1}r=o}else 0<=(o=r.indexOf("\n",0))&&(r=r.substr(0,o)),r=hu(r);r=Math.min(r,t/this.scale),r=Math.max(8,r)}else r=this.desiredSize.width;if(null!==this.panel&&(r=Math.min(r,this.panel.maxSize.width)),o=fu(this,r),a=o=isNaN(this.desiredSize.height)?Math.min(o,e/this.scale):this.desiredSize.height,0!==this.qb&&null!==this.Qb&&null!==this.ib&&this.ig===xu&&(e=this.he,e=this.ig===xu?du(e):0,s=this.gf+this.hf,s=Math.max(0,cu(this)+s),!((a=Math.min(this.maxLines-1,Math.max(Math.floor(a/s+.01)-1,0)))+1>=this.ib.length))){for(s=this.ib[a],e=Math.max(1,t-e);hu(s)>e&&1<s.length;)s=s.substr(0,s.length-1);e=hu(s+=Iu),this.ib[a]=s,this.ib=this.ib.slice(0,a+1),this.Qb[a]=e,this.Qb=this.Qb.slice(0,a+1),this.ve=this.ib.length,this.qb=Math.max(this.qb,e),this.Nc=this.ve,1===this.Nc&&(this.ge=this.ib[0])}(this.wrap===vu||isNaN(this.desiredSize.width))&&(r=isNaN(t)?this.qb:Math.min(t,this.qb),isNaN(this.desiredSize.width)&&(r=Math.max(8,r))),r=Math.max(n,r),o=Math.max(i,o),Vt(this.pc,r,o),Ga(this,0,0,r,o)},n.Ch=function(t,e,n,i){$a(this,t,e,n,i)},d.Object.defineProperties(ru.prototype,{font:{get:function(){return this.he},set:function(t){var e=this.he;e!==t&&(this.he=t,this.ie=null,this.o(),this.g("font",e,t))}},text:{get:function(){return this.Tb},set:function(t){var e=this.Tb;e!==(t=null!==t&&void 0!==t?t.toString():"")&&(this.Tb=t,this.o(),this.g("text",e,t))}},textAlign:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(this.Ki=t,this.M(),this.g("textAlign",e,t))}},flip:{get:function(){return this.Ed},set:function(t){var e=this.Ed;e!==t&&(this.Ed=t,this.M(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return this.Oi},set:function(t){var e=this.Oi;e.w(t)||(this.Oi=t=t.G(),Za(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.pc.v()){var t=Rt.alloc();lu(this,this.Tb,999999,t);var e=t.width;Rt.free(t),t=fu(this,e);var n=this.desiredSize;isNaN(n.width)||(e=n.width),isNaN(n.height)||(t=n.height),Vt(this.pc,e,t)}return this.pc}},isMultiline:{get:function(){return this.Aj},set:function(t){var e=this.Aj;e!==t&&(this.Aj=t,this.o(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return this.ri},set:function(t){var e=this.ri;e!==t&&(this.ri=t,this.M(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return this.pi},set:function(t){var e=this.pi;e!==t&&(this.pi=t,this.M(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return this.tg},set:function(t){var e=this.tg;e!==t&&(this.tg=t,this.o(),this.g("wrap",e,t))}},overflow:{get:function(){return this.ig},set:function(t){var e=this.ig;e!==t&&(this.ig=t,this.o(),this.g("overflow",e,t))}},stroke:{get:function(){return this.Ec},set:function(t){var e=this.Ec;e!==t&&(null!==t&&Gs(t,"TextBlock.stroke"),t instanceof Ps&&t.freeze(),this.Ec=t,this.M(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.Nc}},editable:{get:function(){return this.En},set:function(t){var e=this.En;e!==t&&(this.En=t,this.g("editable",e,t))}},textEditor:{get:function(){return this.Up},set:function(t){var e=this.Up;e!==t&&(this.Up=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return this.Ac},set:function(t){var e=this.Ac;e!==t&&(this.Ac=t,this.g("errorFunction",e,t))}},interval:{get:function(){return this.Kd},set:function(t){var e=this.Kd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Kd=t,this.o();var n=this.panel;null!==n&&(n.Xg=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Hd},set:function(t){var e=this.Hd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Hd=t,this.o(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Fd},set:function(t){var e=this.Fd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Fd=t,this.o(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return this.wj},set:function(t){var e=this.wj;e!==t&&(this.wj=t,this.o(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return this.Gd},set:function(t){var e=this.Gd;e!==t&&(this.Gd=t,this.o(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return this.Li},set:function(t){var e=this.Li;e!==t&&(this.Li=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return this.Tp},set:function(t){var e=this.Tp;e!==t&&(this.Tp=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return this.gf},set:function(t){var e=this.gf;e!==t&&(this.gf=t,this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return this.hf},set:function(t){var e=this.hf;e!==t&&(this.hf=t,this.g("spacingBelow",e,t))}},maxLines:{get:function(){return this.pe},set:function(t){var e=this.pe;e!==t&&(0>=(t=Math.floor(t))&&x(t,"> 0",ru,"maxLines"),this.pe=t,this.g("maxLines",e,t),this.o())}},metrics:{get:function(){return{arrSize:null!==this.Qb?this.Qb:[this.qb],arrText:null!==this.ib?this.ib:[this.ge],maxLineWidth:this.qb,fontHeight:this.ie}}},choices:{get:function(){return this.fn},set:function(t){var e=this.fn;e!==t&&(this.fn=t,this.g("choices",e,t))}}});var pu=null,gu=null,mu=new K(ru,"None",0),vu=new K(ru,"WrapFit",1),yu=new K(ru,"WrapDesiredSize",2),_u=new K(ru,"WrapBreakAll",3),bu=new K(ru,"OverflowClip",0),xu=new K(ru,"OverflowEllipsis",1),wu=/[ \u200b\u00ad]/,Cu=new q,Su=0,ku=new q,Eu=0,Iu="...",Tu="",Du=null,Mu=!1;function Ou(){this.Qb=[],this.ib=[]}function Pu(){za.call(this),this.Sg=null,this.Lp="",this.nh=Xt,this.gl=Gr,this.lf=this.Ac=null,this.fl=le,this.Ed=Kr,this.Vl=null,this.yu=!1,this.Hr=!0,this.wl=!1,this.Ol=null}function Au(t){void 0===t&&(t=""),""!==t?Nu[t]&&(delete Nu[t],Fu--):(Nu=new q,Fu=0)}function Ru(t,e){t.Sr=!0,t.cl=!1;for(var n,i=B(),o=i.length,r=0;r<o;r++){var a=i[r];n=t.getAttribute("src");var s=a.Ei.H(n);if(null!==s)for(var l=s.length,u=0;u<l;u++)n=s[u],a.vs.add(n),a.Pb(),void 0===t.Uu&&(t.Uu=e,null!==n.lf&&n.lf(n,e))}}function Bu(t,e){t.cl=e;for(var n,i=B(),o=i.length,r=0;r<o;r++){var a=i[r],s=t.getAttribute("src");if(null!==(n=a.Ei.H(s))){a=n.length,s=D();for(var l=0;l<a;l++)s.push(n[l]);for(l=0;l<a;l++)null!==(n=s[l]).Ac&&n.Ac(n,e);M(s)}}}ru.className="TextBlock",ru.getEllipsis=function(){return Iu},ru.setEllipsis=function(t){Iu=t,ku=new q,Eu=0},ru.getBaseline=function(){return pu},ru.setBaseline=function(t){pu=t;for(var e=(t=B()).length,n=0;n<e;n++)t[n].Zd()},ru.getUnderline=function(){return gu},ru.setUnderline=function(t){gu=t;for(var e=(t=B()).length,n=0;n<e;n++)t[n].Zd()},ru.isValidFont=function(t){if(Mu||(Du=oa?new Ts(null).context:null,Mu=!0),null===Du)return!0;var e=Du.font;if(t===e||"10px sans-serif"===t)return!0;Du.font="10px sans-serif",Du.font=t;var n=Du.font;if("10px sans-serif"!==n)return Du.font=e,!0;Du.font="19px serif";var i=Du.font;return Du.font=t,n=Du.font,Du.font=e,n!==i},ru.None=mu,ru.WrapFit=vu,ru.WrapDesiredSize=yu,ru.WrapBreakAll=_u,ru.OverflowClip=bu,ru.OverflowEllipsis=xu,Ou.prototype.reset=function(){this.Qb=[],this.ib=[]},Ou.prototype.it=function(t){this.Qb=E(t.Qb),this.ib=E(t.ib)},Ou.className="TextBlockMetrics",c(Pu,za),Pu.prototype.cloneProtected=function(t){za.prototype.cloneProtected.call(this,t),t.element=this.Sg,t.Lp=this.Lp,t.nh=this.nh.G(),t.gl=this.gl,t.Ed=this.Ed,t.Ac=this.Ac,t.lf=this.lf,t.fl=this.fl.G(),t.Hr=this.Hr,t.Ol=this.Ol},(n=Pu.prototype).gb=function(t){t===Kr||t===$r||t===Xr?this.imageStretch=t:za.prototype.gb.call(this,t)},n.toString=function(){return"Picture("+this.source+")#"+rt(this)},n.oA=function(){if(""!==this.source){Au(this.source);var t=this.source;this.source="",this.source=t}},n.Zd=function(){this.M()},n.Si=function(t,e){var n=this.Sg;if(null!==n){var i=n.getAttribute("src");if(n instanceof HTMLImageElement&&(null===i||""===i)&&_('Element has no source ("src") attribute: '+n),!(n.cl instanceof Event)){i=this.naturalBounds;var o=0,r=0,a=this.yu,s=a?+n.width:n.naturalWidth;if(a=a?+n.height:n.naturalHeight,void 0===s&&n.videoWidth&&(s=n.videoWidth),void 0===a&&n.videoHeight&&(a=n.videoHeight),s=s||i.width,a=a||i.height,0!==s&&0!==a){var l=s,u=a;this.sourceRect.v()&&(o=this.nh.x,r=this.nh.y,s=this.nh.width,a=this.nh.height);var h=s,c=a,d=this.gl,f=this.fl;switch(d){case Kr:if(this.sourceRect.v())break;h>=i.width&&(o=o+f.offsetX+(h*f.x-i.width*f.x)),c>=i.height&&(r=r+f.offsetY+(c*f.y-i.height*f.y)),s=Math.min(i.width,h),a=Math.min(i.height,c);break;case Gr:h=i.width,c=i.height;break;case $r:case Xr:d===$r?(h*=d=Math.min(i.height/c,i.width/h),c*=d):d===Xr&&(c*=d=Math.max(i.height/c,i.width/h),(h*=d)>=i.width&&(o=(o+f.offsetX+(h*f.x-i.width*f.x)/h)*s),c>=i.height&&(r=(r+f.offsetY+(c*f.y-i.height*f.y)/c)*a),s*=1/(h/i.width),a*=1/(c/i.height),h=i.width,c=i.height)}var p=h*(d=this.vf()*e.scale)*c*d,g=s*a/p,m=n.__goCache;d=null;var v=Lu;if(n.Sr&&void 0!==m&&4<p&&g>v*v)for(null===m.Qi&&(ju(m,4,l,u,n),ju(m,16,l,u,n)),u=(l=m.Qi).length,p=0;p<u&&l[p].ratio*l[p].ratio<g;p++)d=l[p];if(!e.Zk){if(null===this.Vl)if(null===this.Sg)this.Vl=!1;else{(l=new Ts(null).context).drawImage(this.Sg,0,0);try{l.getImageData(0,0,1,1).data[3]&&(this.Vl=!1),this.Vl=!1}catch(y){this.Vl=!0}}if(this.Vl)return}switch(l=0,h<i.width&&(l=f.offsetX+(i.width*f.x-h*f.x)),u=0,c<i.height&&(u=f.offsetY+(i.height*f.y-c*f.y)),this.flip){case Jr:t.translate(Math.min(i.width,h),0),t.scale(-1,1);break;case Zr:t.translate(0,Math.min(i.height,c)),t.scale(1,-1);break;case Qr:t.translate(Math.min(i.width,h),Math.min(i.height,c)),t.scale(-1,-1)}if(e.De("pictureRatioOptimization")&&!e.ni&&void 0!==m&&null!==d&&1!==d.ratio){t.save(),e=d.ratio;try{t.drawImage(d.source,o/e,r/e,Math.min(d.source.width,s/e),Math.min(d.source.height,a/e),l,u,Math.min(i.width,h),Math.min(i.height,c))}catch(y){this.Hr=!1}t.restore()}else try{t.drawImage(n,o,r,s,a,l,u,Math.min(i.width,h),Math.min(i.height,c))}catch(y){this.Hr=!1}switch(this.flip){case Jr:t.scale(-1,1),t.translate(-Math.min(i.width,h),0);break;case Zr:t.scale(1,-1),t.translate(0,-Math.min(i.height,c));break;case Qr:t.scale(-1,-1),t.translate(-Math.min(i.width,h),-Math.min(i.height,c))}}}}},n.sm=function(t,e,n,i){var o=this.desiredSize,r=Ja(this,!0),a=this.Sg,s=this.yu;(s||!this.wl&&a&&a.complete)&&(this.wl=!0),null===a&&(isFinite(o.width)||(t=0),isFinite(o.height)||(e=0)),isFinite(o.width)||r===Gr||r===qr?(isFinite(t)||(t=this.sourceRect.v()?this.sourceRect.width:s?+a.width:a.naturalWidth),n=0):null!==a&&!1!==this.wl&&(t=this.sourceRect.v()?this.sourceRect.width:s?+a.width:a.naturalWidth),isFinite(o.height)||r===Gr||r===Yr?(isFinite(e)||(e=this.sourceRect.v()?this.sourceRect.height:s?+a.height:a.naturalHeight),i=0):null!==a&&!1!==this.wl&&(e=this.sourceRect.v()?this.sourceRect.height:s?+a.height:a.naturalHeight),isFinite(o.width)&&(t=o.width),isFinite(o.height)&&(e=o.height),o=this.maxSize,r=this.minSize,n=Math.max(n,r.width),i=Math.max(i,r.height),t=Math.min(o.width,t),e=Math.min(o.height,e),t=Math.max(n,t),e=Math.max(i,e),null===a||a.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),Vt(this.pc,t,e),Ga(this,0,0,t,e)},n.Ch=function(t,e,n,i){$a(this,t,e,n,i)},d.Object.defineProperties(Pu.prototype,{element:{get:function(){return this.Sg},set:function(t){var e=this.Sg;if(e!==t){if(null===t||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||_("Picture.element must be an instance of Image, Canvas, or Video, not: "+t),this.yu=t instanceof HTMLCanvasElement,this.Sg=t,null!==t)if(t instanceof HTMLCanvasElement||!0===t.complete)t.cl instanceof Event&&null!==this.Ac&&this.Ac(this,t.cl),!0===t.Sr&&null!==this.lf&&this.lf(this,t.Uu),t.Sr=!0,this.desiredSize.v()||(ss(this,!1),this.o());else{var n=this;t.Yw||(t.addEventListener("load",(function(e){Ru(t,e),n.desiredSize.v()||(ss(n,!1),n.o())})),t.addEventListener("error",(function(e){Bu(t,e)})),t.Yw=!0)}this.g("element",e,t),this.M()}}},source:{get:function(){return this.Lp},set:function(t){var e=this.Lp;if(e!==t){this.Lp=t;var n=Nu,i=this.diagram,o=null;if(void 0!==n[t])o=n[t];else{30<Fu&&(Au(),n=Nu),o=y("img");var r=this;o.addEventListener("load",(function(t){Ru(o,t),r.desiredSize.v()||(ss(r,!1),r.o())})),o.addEventListener("error",(function(t){Bu(o,t)})),o.Yw=!0;var a=this.Ol;null!==a&&(o.crossOrigin=a(this)),o.src=t,n[t]=o,Fu++}null!==i&&Tr(i,this),this.element=o,null!==i&&Ir(i,this),void 0===o.__goCache&&(o.__goCache=new Vu),this.o(),this.M(),this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.Ol},set:function(t){if(this.Ol!==t&&(this.Ol=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"===typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.nh},set:function(t){var e=this.nh;e.w(t)||(this.nh=t=t.G(),this.M(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.gl},set:function(t){var e=this.gl;e!==t&&(this.gl=t,this.M(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Ed},set:function(t){var e=this.Ed;e!==t&&(this.Ed=t,this.M(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.fl},set:function(t){var e=this.fl;e.w(t)||(this.fl=t=t.G(),this.o(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.Ac},set:function(t){var e=this.Ac;e!==t&&(this.Ac=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.lf},set:function(t){var e=this.lf;e!==t&&(this.lf=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.pc}}}),Pu.prototype.redraw=Pu.prototype.Zd,Pu.prototype.reloadSource=Pu.prototype.oA;var Nu=null,Fu=0,Lu=4;function Vu(){this.Qi=null}function ju(t,e,n,i,o){null===t.Qi&&(t.Qi=[]);var r=new Ts(null),a=r.context,s=1/e;r.width=n/e,r.height=i/e,0!==r.width&&0!==r.height&&(e=new zu(r.Ea,e),n=1,0<t.Qi.length&&(o=(n=t.Qi[t.Qi.length-1]).source,n=n.ratio),a.setTransform(s*n,0,0,s*n,0,0),a.drawImage(o,0,0),t.Qi.push(e))}function zu(t,e){this.source=t,this.ratio=e}function Hu(){this.qt=new qe,this.fc=null}function Wu(t,e,n,i,o){t.fc=new hn,t.fc.startX=e,t.fc.startY=n,t.fc.isFilled=i,t.qt.figures.add(t.fc),void 0!==o&&(t.fc.isShadowed=o)}function Gu(t){var e=t.fc.segments.length;0<e&&t.fc.segments.L(e-1).close()}function Ku(t,e,n,i,o,r,a){var s;void 0===s&&(s=!1);var l=new cn(mn);l.point1X=e,l.point1Y=n,l.point2X=i,l.point2Y=o,l.endX=r,l.endY=a,s&&l.close(),t.fc.segments.add(l)}function $u(t,e,n,i,o){var r;void 0===r&&(r=!1);var a=new cn(vn);a.point1X=e,a.point1Y=n,a.endX=i,a.endY=o,r&&a.close(),t.fc.segments.add(a)}function Uu(t,e,n,i,o,r,a,s){var l;void 0===l&&(l=!1),e=new cn(_n,a,s,e,n,i,o,r),l&&e.close(),t.fc.segments.add(e)}function qu(t){var e=Yu;return null!==e?(Yu=null,e.reset(t),e):((e=new Hu).reset(t),e)}Pu.className="Picture",Nu=new q,Pu.clearCache=Au,Vu.className="PictureCacheArray",zu.className="PictureCacheInstance",(n=Hu.prototype).reset=function(t){null!==t?(t.ea(),this.qt=t,t.figures.clear()):this.qt=new qe,this.fc=null},n.Oq=function(t){this.fc.isShadowed=t},n.moveTo=function(t,e,n){void 0===n&&(n=!1);var i=new cn(pn);i.endX=t,i.endY=e,n&&i.close(),this.fc.segments.add(i)},n.lineTo=function(t,e,n){void 0===n&&(n=!1);var i=new cn(gn);i.endX=t,i.endY=e,n&&i.close(),this.fc.segments.add(i)},n.arcTo=function(t,e,n,i,o,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var s=new cn(yn);s.startAngle=t,s.sweepAngle=e,s.centerX=n,s.centerY=i,s.radiusX=o,s.radiusY=0!==r?r:o,a&&s.close(),this.fc.segments.add(s)};var Yu=null;function Xu(t,e){var n=t.toLowerCase(),i=Ue.Je;i[t]=e,i[n]=t}function Zu(t){wl.call(this,t),this.D=2408959,this.ah=this.If="",this.op=this.kp=this.Ap=this.oo=null,this.Cp="",this.Ff=this.Yn=this.Bp=this.mh=null,this.mp="",this.lp=Pt,this.Tb=this.pp="",this.ui=this.jn=this.di=null,this.$f=new ft(NaN,NaN).freeze(),this.vo="",this.Ye=null,this.wo=oe,this.qp=Te,this.Fo=wt,this.xo=Ct,this.Bn=null,this.po=127,this.Gp=St,this.Fp="gray",this.ef=4,this.$w=-1,this.cq=NaN,this.Cy=new Lt,this.Ij=null,this.dh=NaN}function Ju(t){0!==(16384&t.D)!==!1&&(t.updateAdornments(),lh(t,!1))}function Qu(t){if(!1===uh(t)){hh(t,!0),t.nl();var e=t.diagram;null!==e&&(e.od.add(t),e.Pb())}}function th(t){if(t.D|=2097152,!1!==uh(t)){var e=t.position,n=t.location;n.v()&&e.v()||ih(t,e,n),n=t.vb;var i=Lt.alloc().assign(n);n.ea(),n.x=e.x,n.y=e.y,n.freeze(),t.It(i,n),Lt.free(i),hh(t,!1)}}function eh(t,e){var n=t.Cy;isNaN(t.dh)&&(t.dh=function t(e){for(var n=(e=e.V.j).length,i=0,o=0;o<n;o++){var r=e[o];r instanceof wl?i=Math.max(i,t(r)):r instanceof Yl&&(i=Math.max(i,r.qh/2*r.Rj*r.vf()))}return i}(t));var i=t.dh,o=2*i;if(!t.isShadowed)return n.h(e.x-1-i,e.y-1-i,e.width+2+o,e.height+2+o),n;i=e.x,o=e.y;var r=e.width;e=e.height;var a=t.shadowBlur;return r+=a,e+=a,i-=a/2,o-=a/2,0<(t=t.shadowOffset).x?r+=t.x:(i+=t.x,r-=t.x),0<t.y?e+=t.y:(o+=t.y,e-=t.y),n.h(i-1,o-1,r+2,e+2),n}function nh(t,e,n,i){null===e||t instanceof vh||(e=e.animationManager).$e&&oo(e,t,i.copy(),n.copy())}function ih(t,e,n){var i=ft.alloc(),o=t.locationSpot,r=t.locationObject;o.kc()&&_("determineOffset: Part's locationSpot must be real: "+o.toString());var a=r.naturalBounds,s=r instanceof Yl?r.strokeWidth:0;if(i.zk(0,0,a.width+s,a.height+s,o),r!==t)for(i.offset(-s/2,-s/2),r.transform.ra(i),o=r.panel;null!==o&&o!==t;)o.transform.ra(i),o=o.panel;t.Zf.ra(i),i.offset(-t.oc.x,-t.oc.y),o=t.diagram,r=n.v(),a=e.v(),r&&a?0!==(2097152&t.D)?oh(t,e,n,o,i):rh(t,e,n,o,i):r?oh(t,e,n,o,i):a&&rh(t,e,n,o,i),t.D|=2097152,ft.free(i),t.nl()}function oh(t,e,n,i,o){var r=e.x,a=e.y;e.h(n.x-o.x,n.y-o.y),null!==i&&((i=(n=i.animationManager).isAnimating)||!n.$e||t instanceof vh||oo(n,t,new ft(r,a),e),i||e.x===r&&e.y===a||t.g("position",new ft(r,a),e.copy()))}function rh(t,e,n,i,o){var r=n.copy();n.h(e.x+o.x,e.y+o.y),n.w(r)||null===i||t.g("location",r,n.copy())}function ah(t,e,n){ch(t,!1),t instanceof yh&&zr(n,t),t.layer.isTemporary||e||n.Na(),e=t.vb;var i=n.viewportBounds;i.v()?dh(t)?(Kt(e,i)||t.Ad(!1),t.updateAdornments()):e.Hc(i)?(t.Ad(!0),t.updateAdornments()):t.Lb():n.mi=!0}function sh(t,e,n,i){e.constructor===t.constructor||mh||(mh=!0,w('Should not change the class of the Part when changing category from "'+n+'" to "'+i+'"'),w("  Old class: "+O(t.constructor)+", new class: "+O(e.constructor)+", part: "+t.toString())),t.$j();var o=t.data;n=t.layerName;var r=t.isSelected,a=t.isHighlighted,s=!0,l=!0,u=!1;t instanceof yh&&(s=t.isTreeLeaf,l=t.isTreeExpanded,u=t.wasTreeExpanded),e.tf(t),e.cloneProtected(t),t.If=i,t.o(),t.M(),i=!0,null!==(e=t.diagram)&&(i=e.skipsUndoManager,e.skipsUndoManager=!0),t.kb=o,t.D=r?4096|t.D:-4097&t.D,t.D=a?524288|t.D:-524289&t.D,t instanceof yh&&(t.P=s?4|t.P:-5&t.P,t.P=l?1|t.P:-2&t.P,t.P=u?2|t.P:-3&t.P),null!==o&&t.Ba(),(o=t.layerName)!==n&&(t.ah=n,t.layerName=o),null!==e&&(e.skipsUndoManager=i),t.Wb()&&t.C(64)}function lh(t,e){t.D=e?16384|t.D:-16385&t.D}function uh(t){return 0!==(32768&t.D)}function hh(t,e){t.D=e?32768|t.D:-32769&t.D}function ch(t,e){t.D=e?65536|t.D:-65537&t.D}function dh(t){return 0!==(131072&t.D)}function fh(t,e){t.D=e?1048576|t.D:-1048577&t.D}function ph(t){return!!t.isVisible()&&(null===(t=t.layer)||!t.isTemporary)}function gh(t,e,n,i,o,r){if(void 0===r&&(r=null),!(t.contains(e)||null!==r&&!r(e)||e instanceof vh))if(t.add(e),e instanceof yh){if(n&&e instanceof Ph)for(var a=e.memberParts;a.next();)gh(t,a.value,n,i,o,r);if(!1!==o)for(a=e.linksConnected;a.next();){var s=a.value;if(!t.contains(s)){var l=s.fromNode,u=s.toNode;l=null===l||t.contains(l),u=null===u||t.contains(u),(o?l&&u:l||u)&&gh(t,s,n,i,o,r)}}if(1<i)for(e=e.Av();e.next();)gh(t,e.value,n,i-1,o,r)}else if(e instanceof Nh)for(e=e.labelNodes;e.next();)gh(t,e.value,n,i,o,r)}Hu.className="StreamGeometryContext",Xu("Rectangle",(function(t,e,n){t="r"+e+","+n;var i=Ue.Mh[t];return void 0!==i||((i=new qe(sn)).endX=e,i.endY=n,50>Ue.Nh&&(Ue.Mh[t]=i,Ue.Nh++)),i})),Xu("Square",(function(t,e,n){t="s"+e+","+n;var i=Ue.Mh[t];return void 0!==i||((i=new qe(sn)).endX=e,i.endY=n,i.defaultStretch=$r,50>Ue.Nh&&(Ue.Mh[t]=i,Ue.Nh++)),i})),Xu("RoundedRectangle",(function(t,e,n){var i=t?t.parameter1:NaN;return(isNaN(i)||0>i)&&(i=5),i=Math.min(i,e/3),t=(i=Math.min(i,n/3))*Ue.Fg,e=(new qe).add(new hn(i,0,!0).add(new cn(gn,e-i,0)).add(new cn(mn,e,i,e-t,0,e,t)).add(new cn(gn,e,n-i)).add(new cn(mn,e-i,n,e,n-t,e-t,n)).add(new cn(gn,i,n)).add(new cn(mn,0,n-i,t,n,0,n-t)).add(new cn(gn,0,i)).add(new cn(mn,i,0,0,t,t,0).close())),1<t&&(e.spot1=new je(0,0,t,t),e.spot2=new je(1,1,-t,-t)),e})),Xu("Border","RoundedRectangle"),Xu("Ellipse",(function(t,e,n){t="e"+e+","+n;var i=Ue.Mh[t];return void 0!==i||((i=new qe(ln)).endX=e,i.endY=n,i.spot1=Fe,i.spot2=Le,50>Ue.Nh&&(Ue.Mh[t]=i,Ue.Nh++)),i})),Xu("Circle",(function(t,e,n){t="c"+e+","+n;var i=Ue.Mh[t];return void 0!==i||((i=new qe(ln)).endX=e,i.endY=n,i.spot1=Fe,i.spot2=Le,i.defaultStretch=$r,50>Ue.Nh&&(Ue.Mh[t]=i,Ue.Nh++)),i})),Xu("TriangleRight",(function(t,e,n){return(new qe).add(new hn(0,0).add(new cn(gn,e,.5*n)).add(new cn(gn,0,n).close())).Jm(0,.25,.5,.75)})),Xu("TriangleDown",(function(t,e,n){return(new qe).add(new hn(0,0).add(new cn(gn,e,0)).add(new cn(gn,.5*e,n).close())).Jm(.25,0,.75,.5)})),Xu("TriangleLeft",(function(t,e,n){return(new qe).add(new hn(e,n).add(new cn(gn,0,.5*n)).add(new cn(gn,e,0).close())).Jm(.5,.25,1,.75)})),Xu("TriangleUp",(function(t,e,n){return(new qe).add(new hn(e,n).add(new cn(gn,0,n)).add(new cn(gn,.5*e,0).close())).Jm(.25,.5,.75,1)})),Xu("Triangle","TriangleUp"),Xu("Diamond",(function(t,e,n){return(new qe).add(new hn(.5*e,0).add(new cn(gn,0,.5*n)).add(new cn(gn,.5*e,n)).add(new cn(gn,e,.5*n).close())).Jm(.25,.25,.75,.75)})),Xu("LineH",(function(t,e,n){return(t=new qe(an)).startX=0,t.startY=n/2,t.endX=e,t.endY=n/2,t})),Xu("LineV",(function(t,e,n){return(t=new qe(an)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=n,t})),Xu("None","Rectangle"),Xu("BarH","Rectangle"),Xu("BarV","Rectangle"),Xu("MinusLine","LineH"),Xu("PlusLine",(function(t,e,n){return(new qe).add(new hn(0,n/2,!1).add(new cn(gn,e,n/2)).add(new cn(pn,e/2,0)).add(new cn(gn,e/2,n)))})),Xu("XLine",(function(t,e,n){return(new qe).add(new hn(0,n,!1).add(new cn(gn,e,0)).add(new cn(pn,0,0)).add(new cn(gn,e,n)))})),Ue.Nm={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},c(Zu,wl),Zu.prototype.cloneProtected=function(t){wl.prototype.cloneProtected.call(this,t),t.D=-4097&this.D|49152,t.If=this.If,t.ah=this.ah,t.oo=this.oo,t.Ap=this.Ap,t.kp=this.kp,t.op=this.op,t.Cp=this.Cp,t.Bp=this.Bp,t.Yn=this.Yn,t.Ff=null,t.mp=this.mp,t.lp=this.lp.G(),t.pp=this.pp,t.qp=this.qp.G(),t.Tb=this.Tb,t.jn=this.jn,t.$f.assign(this.$f),t.vo=this.vo,t.wo=this.wo.G(),t.Fo=this.Fo.G(),t.xo=this.xo.G(),t.Bn=this.Bn,t.po=this.po,t.Gp=this.Gp.G(),t.Fp=this.Fp,t.ef=this.ef,t.cq=this.cq},Zu.prototype.tf=function(t){wl.prototype.tf.call(this,t),t.Gh(),t.mh=null,t.Ye=null,t.Ij=null},Zu.prototype.toString=function(){var t=O(this.constructor)+"#"+rt(this);return null!==this.data&&(t+="("+P(this.data)+")"),t},Zu.prototype.xk=function(t,e,n,i,o,r,a){var s=this.diagram;null!==s&&(t===kn&&"elements"===e?o instanceof wl?Tl(o,(function(t){cd(s.partManager,t),Er(s,t)})):Ir(s,o):t===En&&"elements"===e&&(o instanceof wl?Tl(o,(function(t){dd(s.partManager,t,s)})):Tr(s,o)),s.$a(t,e,n,i,o,r,a))},Zu.prototype.Ba=function(t){if(wl.prototype.Ba.call(this,t),null!==this.data){for(var e=this.V.j,n=e.length,i=0;i<n;i++){var o=e[i];o instanceof wl&&Tl(o,(function(t){null!==t.data&&t.Ba()}))}for(e=this.adornments;e.next();)e.value.Ba(t)}},Zu.prototype.updateRelationshipsFromData=function(){null!==this.data&&this.diagram.partManager.updateRelationshipsFromData(this)},Zu.prototype.hk=function(t){var e=this.Ff;return null===e?null:e.H(t)},Zu.prototype.zh=function(t,e){if(null!==e){var n=null,i=this.Ff;if(null!==i&&(n=i.H(t)),n!==e){if(null!==n){var o=n.diagram;null!==o&&o.remove(n)}null===i&&(this.Ff=i=new dt),e.If!==t&&(e.category=t),i.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&(null!==(t=t.Wi())&&(e.data=t.data)))}}},Zu.prototype.Af=function(t){var e=this.Ff;if(null!==e){var n=e.H(t);if(null!==n){var i=n.diagram;null!==i&&i.remove(n)}e.remove(t),0===e.count&&(this.Ff=null)}},Zu.prototype.$j=function(){var t=this.Ff;if(null!==t){var e=D();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var n=0;n<t;n++)this.Af(e[n]);M(e)}},Zu.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var n=e.value;n.o(),n.placeholder&&n.placeholder.o()}t:{if(this.isSelected&&this.selectionAdorned&&(null!==(e=this.selectionObject)&&this.actualBounds.v()&&this.isVisible()&&e.zf()&&e.actualBounds.v())){if(null===(n=this.hk("Selection"))){if(null===(n=this.selectionAdornmentTemplate)&&(n=this.Hh()?t.linkSelectionAdornmentTemplate:this instanceof Ph?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(n instanceof vh))break t;Bl(n),null!==(n=n.copy())&&(this.Hh()&&this.selectionObject===this.path&&(n.type=wl.Link),n.adornedObject=e)}if(null!==n){n.type===wl.Link&&n.o(),this.zh("Selection",n);break t}}this.Af("Selection")}for(function(t,e){e.toolManager.mouseDownTools.each((function(e){e.isEnabled&&e.updateAdornments(t)})),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.Ba()}},Zu.prototype.Lb=function(){var t=this.diagram;null!==t&&(hr(t),0!==(16384&this.D)!==!0&&(lh(this,!0),t.Pb()))},Zu.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},Zu.prototype.moveTo=function(t,e,n){t=ft.allocAt(t,e),this.move(t,n),ft.free(t)},Zu.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t){if(!t.visible)return!1;if(null!==(t=t.diagram)&&t.animationManager.Ht(this))return!0}return!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible())},(n=Zu.prototype).Ob=function(t){var e=this.diagram;t?(this.C(4),this.Lb(),null!==e&&e.od.add(this)):(this.C(8),this.$j()),this.Gh(),null!==e&&(e.Na(),e.M())},n.Za=function(t){if(this.name===t)return this;var e=this.Ij;if(null===e&&(this.Ij=e=new dt),null!==e.H(t))return e.H(t);var n=wl.prototype.Za.call(this,t);return null!==n?(e.set(t,n),n):(e.set(t,null),null)},n.wf=function(t,e,n){void 0===n&&(n=new ft),e=e.kc()?le:e;var i=t.naturalBounds;if(n.h(i.width*e.x+e.offsetX,i.height*e.y+e.offsetY),null===t||t===this)return n;for(t.transform.ra(n),t=t.panel;null!==t&&t!==this;)t.transform.ra(n),t=t.panel;return this.Zf.ra(n),n.offset(-this.oc.x,-this.oc.y),n},n.mm=function(t){return void 0===t&&(t=new Lt),t.assign(this.actualBounds)},n.zb=function(){!0===as(this)&&this.measure(1/0,1/0),this.arrange()},Zu.prototype.arrange=function(){if(!1===ls(this))th(this);else{var t=this.vb,e=Lt.alloc();e.assign(t),t.ea();var n=dh(this);this.Ch(0,0,this.oc.width,this.oc.height);var i=this.position;ih(this,i,this.location),t.x=i.x,t.y=i.y,t.freeze(),this.It(e,t),us(this,!1),e.w(t)?this.Ad(n):!this.Wb()||Ue.A(e.width,t.width)&&Ue.A(e.height,t.height)||0<=this.$w&&this.C(16),Lt.free(e),hh(this,!1)}},(n=Zu.prototype).It=function(t,e){var n=this.diagram;if(null!==n){var i=!1;if(!1===n.ki&&t.v()){var o=Lt.alloc();o.assign(n.documentBounds),o.ow(n.padding),t.x>o.x&&t.y>o.y&&t.right<o.right&&t.bottom<o.bottom&&e.x>o.x&&e.y>o.y&&e.right<o.right&&e.bottom<o.bottom&&(i=!0),Lt.free(o)}0!==(65536&this.D)!==!0&&t.w(e)||ah(this,i,n),n.M(),Ht(t,e)||(this instanceof yh&&!n.undoManager.isUndoingRedoing&&this.fd(),this.Gh())}},n.lw=function(t,e){if(this.Hh()||!t.v())return!1;var n=this.diagram;null!==n&&nh(this,n,t,e),this.ma=t,this.D&=-2097153;var i=this.$f;return!i.v()||null!==n&&!n.animationManager.isTicking&&n.undoManager.isUndoingRedoing||(n=i.copy(),i.h(i.x+(t.x-e.x),i.y+(t.y-e.y)),this.g("location",n,i.copy())),!1===uh(this)&&!1===ls(this)&&(Qu(this),th(this)),!0},n.Nq=function(t,e,n){var i=this.$f,o=this.ma;if(n){if(i.x===t&&i.y===e)return;uh(this)||ls(this)?o.h(NaN,NaN):o.h(o.x+t-i.x,o.y+e-i.y),i.h(t,e)}else{if(o.x===t&&o.y===e)return;uh(this)||ls(this)?this.St():i.h(i.x+t-o.x,i.y+e-o.y),o.h(t,e)}Qu(this)},n.St=function(){this.D&=-2097153,Qu(this)},n.ej=function(){return!0},n.Wb=function(){return!0},n.Hh=function(){return!1},n.yf=function(){return!0},Zu.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},Zu.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},Zu.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},Zu.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},Zu.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},Zu.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},Zu.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},Zu.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},Zu.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(n=Zu.prototype).Ad=function(t){this.D=t?131072|this.D:-131073&this.D},n.Gh=function(){var t=this.containingGroup;null!==t&&(t.o(),null!==t.placeholder&&t.placeholder.o(),t.fd())},n.M=function(){var t=this.diagram;null!==t&&!ls(this)&&!uh(this)&&this.isVisible()&&this.vb.v()&&t.M(eh(this,this.vb))},n.o=function(){wl.prototype.o.call(this);var t=this.diagram;null!==t&&(t.od.add(this),this instanceof yh&&null!==this.labeledLink&&Za(this.labeledLink),t.Pb(!0))},n.tq=function(t){t||null!==(t=this.di)&&Ah(t,this)},n.uq=function(t){t||null!==(t=this.di)&&Rh(t,this)},n.fk=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&(null!==(e=e.model)&&e.Am(t))}},n.vz=function(){return function t(e,n){var i=n.containingGroup;return null!==i?1+t(e,i):n instanceof yh&&null!==(n=n.labeledLink)?t(e,n):0}(this,this)},n.yz=function(){return function t(e,n){var i=n.containingGroup;return null!==i||n instanceof yh&&null!==(i=n.labeledLink)?t(e,i):n}(this,this)},n.Xd=function(t){return t instanceof Ph&&function t(e,n,i){if(n===i||null===i)return!1;var o=n.containingGroup;return!(null===o||o!==i&&!t(e,o,i))||n instanceof yh&&null!==(n=n.labeledLink)&&t(e,n,i)}(this,this,t)},n.Mx=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof Ph&&fh(e,!0),e instanceof yh){var n=e.labeledLink;null!==n&&(e=n)}e=e.containingGroup}for(n=null,e=t;null!==e;){if(0!==(1048576&e.D)){n=e;break}e instanceof yh&&(null!==(t=e.labeledLink)&&(e=t)),e=e.containingGroup}for(e=this;null!==e;)e instanceof Ph&&fh(e,!1),e instanceof yh&&(null!==(t=e.labeledLink)&&(e=t)),e=e.containingGroup;return n},Zu.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof yh&&this.isLinkLabel)},Zu.prototype.C=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&0!==(t&this.layoutConditions)){var e=this.layer;null!==e&&e.isTemporary||this instanceof yh&&this.isLinkLabel?e=!1:e=null===(e=this.diagram)||!e.undoManager.isUndoingRedoing}else e=!1;if(e)if(null!==(e=this.di)){var n=e.layout;null!==n?n.C():e.C(t)}else null!==(t=this.diagram)&&(null!==(t=t.layout)&&t.C())},d.Object.defineProperties(Zu.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.ja(this.data)}},adornments:{get:function(){return null===this.Ff?X:this.Ff.iteratorValues}},layer:{get:function(){return this.ui}},diagram:{get:function(){var t=this.ui;return null!==t?t.diagram:null}},layerName:{get:function(){return this.ah},set:function(t){var e=this.ah;if(e!==t){var n=this.diagram;if((null===n||null!==n.jm(t)&&!n.partManager.addsToTemporaryLayer)&&(this.ah=t,null!==n&&n.Na(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&(null!==(n=e.diagram)&&(null!==(t=n.jm(t))&&t!==e)))){var i=e.Gc(-1,this,!0);if(0<=i&&n.$a(En,"parts",e,this,null,i,!0),i=t.cj(99999999,this,!0),e.visible!==t.visible&&this.Ob(t.visible),0<=i&&n.$a(kn,"parts",t,null,this,!0,i),null!==(i=this.layerChanged)){var o=n.Z;n.Z=!0,i(this,e,t),n.Z=o}}}}},layerChanged:{get:function(){return this.oo},set:function(t){var e=this.oo;e!==t&&(this.oo=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.cq},set:function(t){var e=this.cq;if(e!==t){this.cq=t;var n=this.layer;null!==n&&Oo(n,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.M()}}},locationObject:{get:function(){if(null===this.Ye){var t=this.locationObjectName;""!==t?(t=this.Za(t),this.Ye=null!==t?t:this):this instanceof vh&&this.type!==wl.Link&&null!==this.placeholder?this.Ye=this.placeholder:this.Ye=this}return this.Ye.visible?this.Ye:this}},minLocation:{get:function(){return this.Fo},set:function(t){var e=this.Fo;e.w(t)||(this.Fo=t=t.G(),this.g("minLocation",e,t))}},maxLocation:{get:function(){return this.xo},set:function(t){var e=this.xo;e.w(t)||(this.xo=t=t.G(),this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return this.vo},set:function(t){var e=this.vo;e!==t&&(this.vo=t,this.Ye=null,this.o(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return this.wo},set:function(t){var e=this.wo;e.w(t)||(this.wo=t=t.G(),this.o(),this.g("locationSpot",e,t))}},location:{get:function(){return this.$f},set:function(t){var e=t.x,n=t.y,i=this.$f,o=i.x,r=i.y;(o===e||isNaN(o)&&isNaN(e))&&(r===n||isNaN(r)&&isNaN(n))||(e=t=t.copy(),this.Hh()?e=!1:(this.$f=e,this.D|=2097152,!1===ls(this)&&(Qu(this),(n=this.ma).v()&&(null===(o=this.diagram)||o.animationManager.isTicking||!o.undoManager.isUndoingRedoing))&&(r=n.copy(),n.h(n.x+(e.x-i.x),n.y+(e.y-i.y)),nh(this,o,n,r),this.g("position",r,n.copy())),e=!0),e&&this.g("location",i.copy(),t.copy()))}},category:{get:function(){return this.If},set:function(t){var e=this.If;if(e!==t){var n=this.diagram,i=this.data,o=null;if(null!==n&&null!==i&&!(this instanceof vh)){var r=n.model.undoManager;r.isEnabled&&!r.isUndoingRedoing&&(o=this.clone()).V.addAll(this.V)}this.If=t,this.g("category",e,t),null===n||null===i||this instanceof vh?this instanceof vh&&(null!==(o=this.adornedPart)&&(null!==(t=o.Ff)&&t.remove(e),o.zh(this.category,this))):(r=n.model).undoManager.isUndoingRedoing||(this.Hh()?(n.partManager.setLinkCategoryForData(i,t),null!==(n=n.partManager.findLinkTemplateForCategory(t))&&(Bl(n),null!==(n=n.copy())&&sh(this,n,e,t))):(null!==r&&r.Mq(i,t),null!==(n=ld(n.partManager,i,t))&&(Bl(n),null===(n=n.copy())||n instanceof Nh||(i=this.location.copy(),sh(this,n,e,t),this.location.v()||(this.location=i)))),null!==o&&((e=this.clone()).V.addAll(this.V),this.g("self",o,e)))}}},self:{get:function(){return this},set:function(t){sh(this,t,this.category,t.category)}},copyable:{get:function(){return 0!==(1&this.D)},set:function(t){var e=0!==(1&this.D);e!==t&&(this.D^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!==(2&this.D)},set:function(t){var e=0!==(2&this.D);e!==t&&(this.D^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!==(4&this.D)},set:function(t){var e=0!==(4&this.D);e!==t&&(this.D^=4,this.g("textEditable",e,t),this.Lb())}},groupable:{get:function(){return 0!==(8&this.D)},set:function(t){var e=0!==(8&this.D);e!==t&&(this.D^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!==(16&this.D)},set:function(t){var e=0!==(16&this.D);e!==t&&(this.D^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!==(32&this.D)},set:function(t){var e=0!==(32&this.D);e!==t&&(this.D^=32,this.g("selectionAdorned",e,t),this.Lb())}},isInDocumentBounds:{get:function(){return 0!==(64&this.D)},set:function(t){var e=0!==(64&this.D);if(e!==t){this.D^=64;var n=this.diagram;null!==n&&n.Na(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!==(128&this.D)},set:function(t){var e=0!==(128&this.D);e!==t&&(this.D^=128,this.g("isLayoutPositioned",e,t),this.C(t?4:8))}},selectable:{get:function(){return 0!==(256&this.D)},set:function(t){var e=0!==(256&this.D);e!==t&&(this.D^=256,this.g("selectable",e,t),this.Lb())}},reshapable:{get:function(){return 0!==(512&this.D)},set:function(t){var e=0!==(512&this.D);e!==t&&(this.D^=512,this.g("reshapable",e,t),this.Lb())}},resizable:{get:function(){return 0!==(1024&this.D)},set:function(t){var e=0!==(1024&this.D);e!==t&&(this.D^=1024,this.g("resizable",e,t),this.Lb())}},rotatable:{get:function(){return 0!==(2048&this.D)},set:function(t){var e=0!==(2048&this.D);e!==t&&(this.D^=2048,this.g("rotatable",e,t),this.Lb())}},isSelected:{get:function(){return 0!==(4096&this.D)},set:function(t){var e=0!==(4096&this.D);if(e!==t){var n=this.diagram;if(!t||this.canSelect()&&!(null!==n&&n.selection.count>=n.maxSelectionCount)){this.D^=4096;var i=!1;if(null!==n){i=n.skipsUndoManager,n.skipsUndoManager=!0;var o=n.selection;o.ea(),t?o.add(this):o.remove(this),o.freeze()}this.g("isSelected",e,t),this.Lb(),null!==(t=this.selectionChanged)&&t(this),null!==n&&(n.Pb(),n.skipsUndoManager=i)}}}},isHighlighted:{get:function(){return 0!==(524288&this.D)},set:function(t){var e=0!==(524288&this.D);if(e!==t){this.D^=524288;var n=this.diagram;null!==n&&((n=n.highlighteds).ea(),t?n.add(this):n.remove(this),n.freeze()),this.g("isHighlighted",e,t),this.M(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!==(8192&this.D)},set:function(t){var e=0!==(8192&this.D);e!==t&&(this.D^=8192,this.g("isShadowed",e,t),this.M())}},isAnimated:{get:function(){return 0!==(262144&this.D)},set:function(t){var e=0!==(262144&this.D);e!==t&&(this.D^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return this.Yn},set:function(t){var e=this.Yn;e!==t&&(this.Yn=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return this.Cp},set:function(t){var e=this.Cp;e!==t&&(this.Cp=t,this.mh=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return this.Ap},set:function(t){var e=this.Ap;e!==t&&(this.Ap=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.mh){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.Za(t),this.mh=null!==t?t:this):this instanceof Nh?(t=this.path,this.mh=null!==t?t:this):this.mh=this}return this.mh}},selectionChanged:{get:function(){return this.Bp},set:function(t){var e=this.Bp;e!==t&&(this.Bp=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return this.kp},set:function(t){var e=this.kp;e!==t&&(this.kp=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return this.mp},set:function(t){var e=this.mp;e!==t&&(this.mp=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.Za(t))?t:this}},resizeCellSize:{get:function(){return this.lp},set:function(t){var e=this.lp;e.w(t)||(this.lp=t=t.G(),this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return this.op},set:function(t){var e=this.op;e!==t&&(this.op=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return this.pp},set:function(t){var e=this.pp;e!==t&&(this.pp=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.Za(t))?t:this}},rotationSpot:{get:function(){return this.qp},set:function(t){var e=this.qp;e.w(t)||(this.qp=t=t.G(),this.g("rotationSpot",e,t))}},text:{get:function(){return this.Tb},set:function(t){var e=this.Tb;e!==t&&(this.Tb=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.di},set:function(t){if(this.Wb()){var e=this.di;if(e!==t){null===t||this!==t&&!t.Xd(this)||(this===t&&_("Cannot make a Group a member of itself: "+this.toString()),_("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var n=this.diagram;if(null!==e?Rh(e,this):this instanceof Ph&&null!==n&&n.wh.remove(this),this.di=t,null!==t?Ah(t,this):this instanceof Ph&&null!==n&&n.wh.add(this),this.C(1),null!==n&&n.Z){var i=this.data,o=n.model;if(null!==i&&o.lk()){var r=o.ja(null!==t?t.data:null);o.Qt(i,r)}}if(null!==(i=this.containingGroupChanged)&&(o=!0,null!==n&&(o=n.Z,n.Z=!0),i(this,e,t),null!==n&&(n.Z=o)),this instanceof Ph)for(gh(n=new nt,this,!0,0,!0),n=n.iterator;n.next();)if((i=n.value)instanceof yh)for(i=i.linksConnected;i.next();)Fh(i.value);if(this instanceof yh){for(n=this.linksConnected;n.next();)Fh(n.value);null!==(n=this.labeledLink)&&Fh(n)}this.g("containingGroup",e,t),null!==t&&(null!==(e=t.layer)&&Oo(e,-1,t))}}else _("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.jn},set:function(t){var e=this.jn;e!==t&&(this.jn=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof yh&&null!==this.labeledLink)}},layoutConditions:{get:function(){return this.po},set:function(t){var e=this.po;e!==t&&(this.po=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return this.Bn},set:function(t){var e=this.Bn;e!==t&&(this.Bn=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return this.Gp},set:function(t){var e=this.Gp;e.w(t)||(this.Gp=t=t.G(),this.M(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return this.Fp},set:function(t){var e=this.Fp;e!==t&&(this.Fp=t,this.M(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return this.ef},set:function(t){var e=this.ef;e!==t&&(this.ef=t,this.M(),this.g("shadowBlur",e,t))}}}),Zu.prototype.invalidateLayout=Zu.prototype.C,Zu.prototype.findCommonContainingGroup=Zu.prototype.Mx,Zu.prototype.isMemberOf=Zu.prototype.Xd,Zu.prototype.findTopLevelPart=Zu.prototype.yz,Zu.prototype.findSubGraphLevel=Zu.prototype.vz,Zu.prototype.ensureBounds=Zu.prototype.zb,Zu.prototype.getDocumentBounds=Zu.prototype.mm,Zu.prototype.getRelativePoint=Zu.prototype.wf,Zu.prototype.findObject=Zu.prototype.Za,Zu.prototype.moveTo=Zu.prototype.moveTo,Zu.prototype.invalidateAdornments=Zu.prototype.Lb,Zu.prototype.clearAdornments=Zu.prototype.$j,Zu.prototype.removeAdornment=Zu.prototype.Af,Zu.prototype.addAdornment=Zu.prototype.zh,Zu.prototype.findAdornment=Zu.prototype.hk,Zu.prototype.updateTargetBindings=Zu.prototype.Ba;var mh=!1;function vh(t){Zu.call(this,t),this.D&=-257,this.ah="Adornment",this.ce=null,this.gx=0,this.vx=!1,this.l=[],this.Ra=null}function yh(t){Zu.call(this,t),this.P=13,this.Xa=new tt,this.Yp=this.sl=this.xi=this.ro=this.qo=null,this.Kk=ne,this.rc=this.Ne=null,this.hp=Mh,this.xh=!1}function _h(t,e){null!==e&&(null===t.Ne&&(t.Ne=new nt),t.Ne.add(e))}function bh(t,e,n,i){if(null===e||null===t.Ne)return null;for(var o=t.Ne.iterator;o.next();){var r=o.value;if(r.Ft===t&&r.Rv===e&&r.ey===n&&r.gy===i||r.Ft===e&&r.Rv===t&&r.ey===i&&r.gy===n)return r}return null}function xh(t,e){for(var n=t.linksConnected;n.next();){var i=n.value;i.fromPort!==e&&i.toPort!==e||(wh(t,i.fromPort),wh(t,i.toPort),i.Ta())}}function wh(t,e){null!==e&&(null!==(e=e.gp)&&e.om(),null===(t=t.containingGroup)||t.isSubGraphExpanded||wh(t,t.port))}function Ch(t,e,n){wh(t,n);var i=t.Xa.contains(e);if(i||t.Xa.add(e),!i||e.fromNode===e.toNode){var o=t.linkConnected;if(null!==o){var r=!0,a=t.diagram;null!==a&&(r=a.Z,a.Z=!0),o(t,e,n),null!==a&&(a.Z=r)}}!i&&e.isTreeLink&&(n=e.fromNode,e=e.toNode,null!==n&&null!==e&&n!==e&&(i=!0,null!==(t=t.diagram)&&(i=t.isTreePathToChildren),r=i?n:e,(o=i?e:n).xh||(o.xh=r),!r.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(i?n===r&&(r.isTreeLeaf=!1):e===r&&(r.isTreeLeaf=!1))))}function Sh(t,e,n){wh(t,n);var i=t.Xa.remove(e),o=null;if(i||e.toNode===e.fromNode){var r=t.linkDisconnected;if(o=t.diagram,null!==r){var a=!0;null!==o&&(a=o.Z,o.Z=!0),r(t,e,n),null!==o&&(o.Z=a)}}i&&e.isTreeLink&&(n=!0,null!==o&&(n=o.isTreePathToChildren),t=n?e.toNode:e.fromNode,e=n?e.fromNode:e.toNode,null!==t&&(t.xh=!1),null===e||e.isTreeLeaf||(0===e.Xa.count?(e.xh=null,null!==o&&o.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):kh(e)))}function kh(t){if(t.xh=!1,0!==t.Xa.count){var e=!0,n=t.diagram;if(null===n||!n.undoManager.isUndoingRedoing){for(null!==n&&(e=n.isTreePathToChildren),n=t.Xa.iterator;n.next();){var i=n.value;if(i.isTreeLink)if(e){if(i.fromNode===t)return void(t.isTreeLeaf=!1)}else if(i.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function Eh(t){null===t.rc?t.rc=new dt:t.rc.clear(),t.Km(t,(function(t,e){Ih(t,e)})),0===t.rc.count&&t.rc.add("",t)}function Ih(t,e){var n=e.portId;null!==n&&null!==t.rc&&t.rc.add(n,e)}function Th(t,e,n){var i=e.portId;if(null!==i&&(null!==t.rc&&t.rc.remove(i),null!==(e=t.diagram)&&n)){for(n=null,t=t.findLinksConnected(i);t.next();)i=t.value,null===n&&(n=D()),n.push(i);if(null!==n){for(t=0;t<n.length;t++)e.remove(n[t]);M(n)}}}Zu.className="Part",Zu.LayoutNone=0,Zu.LayoutAdded=1,Zu.LayoutRemoved=2,Zu.LayoutShown=4,Zu.LayoutHidden=8,Zu.LayoutNodeSized=16,Zu.LayoutGroupLayout=32,Zu.LayoutNodeReplaced=64,Zu.LayoutStandard=127,Zu.LayoutAll=16777215,c(vh,Zu),vh.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},vh.prototype.updateRelationshipsFromData=function(){},vh.prototype.qk=function(t){var e=this.adornedObject.part;if(e instanceof Nh&&this.adornedObject instanceof Yl){var n=e.path;e.qk(t),t=n.geometry,n=(e=this.V.j).length;for(var i=0;i<n;i++){var o=e[i];o.isPanelMain&&o instanceof Yl&&(o.ka=t)}}},vh.prototype.ej=function(){var t=this.ce;return null===t||(null===(t=t.part)||!ls(t))},vh.prototype.Wb=function(){return!1},vh.prototype.xk=function(t,e,n,i,o,r,a){if(t===kn&&"elements"===e){if(o instanceof Bh)null===this.Ra&&(this.Ra=o);else if(o instanceof wl){var s=o.im((function(t){return t instanceof Bh}));s instanceof Bh&&null===this.Ra&&(this.Ra=s)}}else t===En&&"elements"===e&&null!==this.Ra&&(i===this.Ra||i instanceof wl&&this.Ra.Ag(i))&&(this.Ra=null);Zu.prototype.xk.call(this,t,e,n,i,o,r,a)},vh.prototype.updateAdornments=function(){},vh.prototype.fk=function(){},d.Object.defineProperties(vh.prototype,{placeholder:{get:function(){return this.Ra}},adornedObject:{get:function(){return this.ce},set:function(t){var e=this.adornedPart,n=null;null!==t&&(n=t.part),null===e||null!==t&&e===n||e.Af(this.category),this.ce=t,null!==n&&n.zh(this.category,this)}},adornedPart:{get:function(){var t=this.ce;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}}),vh.className="Adornment",c(yh,Zu),yh.prototype.cloneProtected=function(t){Zu.prototype.cloneProtected.call(this,t),t.P=this.P,t.P=-17&this.P,t.qo=this.qo,t.ro=this.ro,t.xi=this.xi,t.Yp=this.Yp,t.Kk=this.Kk.G(),t.hp=this.hp},(n=yh.prototype).tf=function(t){Zu.prototype.tf.call(this,t),t.fd(),t.Ne=this.Ne,t.rc=null},n.Vz=function(t,e,n){void 0!==e&&null!==e||(e=""),void 0!==n&&null!==n||(n=""),null!==(t=bh(this,t,e,n))&&t.om()},n.xk=function(t,e,n,i,o,r,a){(t===kn&&"elements"===e||t===En&&"elements"===e)&&(this.rc=null),Zu.prototype.xk.call(this,t,e,n,i,o,r,a)},n.fd=function(t){void 0===t&&(t=null);for(var e=this.linksConnected;e.next();){var n=e.value;null!==t&&t.contains(n)||(wh(this,n.fromPort),wh(this,n.toPort),n.Ta())}},n.ej=function(){return!0},yh.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.fq(this.Kk),t},yh.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},yh.prototype.isVisible=function(){if(!Zu.prototype.isVisible.call(this))return!1;var t=!0,e=ya,n=this.diagram;if(null!==n){if(n.animationManager.Ht(this))return!0;t=n.isTreePathToChildren,e=n.treeCollapsePolicy}if(e===ya){if(null!==(t=this.yg())&&!t.isTreeExpanded)return!1}else if(e===_a){if(0<(t=t?this.xv():this.yv()).count&&t.all((function(t){return!t.isTreeExpanded})))return!1}else if(e===ba&&(0<(t=t?this.xv():this.yv()).count&&t.any((function(t){return!t.isTreeExpanded}))))return!1;return null===(t=this.labeledLink)||t.isVisible()},yh.prototype.Ob=function(t){Zu.prototype.Ob.call(this,t);for(var e=this.linksConnected;e.next();)e.value.Ob(t)},yh.prototype.Nx=function(){var t=new nt,e=new nt;return function t(e,n,i,o){if(!i.has(n)){i.add(n);var r=!0,a=e.diagram;null!==a&&(r=a.isTreePathToChildren),n.linksConnected.each((function(a){a.isTreeLink?(r?a.fromNode===n:a.toNode===n)&&t(e,r?a.toNode:a.fromNode,i,o):o.add(a)}))}}(this,this,t,e),e.iterator},yh.prototype.findLinksConnected=function(t){if(void 0===t&&(t=null),null===t)return this.Xa.iterator;var e=new J(this.Xa),n=this;return e.predicate=function(e){return e.fromNode===n&&e.fromPortId===t||e.toNode===n&&e.toPortId===t},e},(n=yh.prototype).oq=function(t){void 0===t&&(t=null);var e=new J(this.Xa),n=this;return e.predicate=function(e){return e.fromNode===n&&(null===t||e.fromPortId===t)},e},n.xd=function(t){void 0===t&&(t=null);var e=new J(this.Xa),n=this;return e.predicate=function(e){return e.toNode===n&&(null===t||e.toPortId===t)},e},n.wv=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.Xa.iterator;i.next();){var o=i.value;o.fromNode===this?null!==t&&o.fromPortId!==t||(o=o.toNode,null!==e?e.add(o):null!==n&&n!==o?((e=new nt).add(n),e.add(o)):n=o):o.toNode!==this||null!==t&&o.toPortId!==t||(o=o.fromNode,null!==e?e.add(o):null!==n&&n!==o?((e=new nt).add(n),e.add(o)):n=o)}return null!==e?e.iterator:null!==n?new Z(n):X},n.yv=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.Xa.iterator;i.next();){var o=i.value;o.fromNode!==this||null!==t&&o.fromPortId!==t||(o=o.toNode,null!==e?e.add(o):null!==n&&n!==o?((e=new nt).add(n),e.add(o)):n=o)}return null!==e?e.iterator:null!==n?new Z(n):X},n.xv=function(t){void 0===t&&(t=null);for(var e=null,n=null,i=this.Xa.iterator;i.next();){var o=i.value;o.toNode!==this||null!==t&&o.toPortId!==t||(o=o.fromNode,null!==e?e.add(o):null!==n&&n!==o?((e=new nt).add(n),e.add(o)):n=o)}return null!==e?e.iterator:null!==n?new Z(n):X},n.pz=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new J(this.Xa),o=this;return i.predicate=function(i){return!(i.fromNode!==o||i.toNode!==t||null!==e&&i.fromPortId!==e||null!==n&&i.toPortId!==n)||!(i.fromNode!==t||i.toNode!==o||null!==n&&i.fromPortId!==n||null!==e&&i.toPortId!==e)},i},n.qz=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new J(this.Xa),o=this;return i.predicate=function(i){return!(i.fromNode!==o||i.toNode!==t||null!==e&&i.fromPortId!==e||null!==n&&i.toPortId!==n)},i},yh.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(n=yh.prototype).tq=function(t){Zu.prototype.tq.call(this,t),t||(kh(this),null!==(t=this.sl)&&Lh(t,this))},n.uq=function(t){Zu.prototype.uq.call(this,t),t||null!==(t=this.sl)&&null!==t.bd&&(t.bd.remove(this),t.o())},n.fk=function(){if(0<this.Xa.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,n=this.Xa.copy().iterator;n.next();){var i=n.value;e?t.remove(i):(i.fromNode===this&&(i.fromNode=null),i.toNode===this&&(i.toNode=null))}}this.labeledLink=null,Zu.prototype.fk.call(this)},n.pt=function(t){if(null===this.rc){if(""===t&&!1===this.Fh)return this;Eh(this)}var e=this.rc.H(t);return null!==e||""!==t&&null!==(e=this.rc.H(""))?e:this},n.Xz=function(t){if(null===t||t===this)return!1;var e=!0,n=this.diagram;if(null!==n&&(e=n.isTreePathToChildren),n=this,e)for(;n!==t;){e=null;for(var i=n.Xa.iterator;i.next();){var o=i.value;if(o.isTreeLink&&((e=o.fromNode)!==n&&e!==this))break}if(e===this||null===e||e===n)return!1;n=e}else for(;n!==t;){for(e=null,i=n.Xa.iterator;i.next()&&(!(o=i.value).isTreeLink||((e=o.toNode)===n||e===this)););if(e===this||null===e||e===n)return!1;n=e}return!0},n.Cz=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var n=e.Xa.iterator;n.next();){var i=n.value;if(i.isTreeLink&&((t=i.fromNode)!==e&&t!==this))break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,n=e.Xa.iterator;n.next()&&(!(i=n.value).isTreeLink||((t=i.toNode)===e||t===this)););if(t===this)return this;if(null===t||t===e)return e;e=t}},n.mz=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)fh(e,!0),e=e.yg();var n=null;for(e=t;null!==e;){if(0!==(1048576&e.D)){n=e;break}e=e.yg()}for(e=this;null!==e;)fh(e,!1),e=e.yg();return n},n.Xi=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.Xa.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},n.yg=function(){var t=this.xh;if(null===t)return null;if(t instanceof yh)return t;var e=!0;if(null!==(t=this.diagram)&&(e=t.isTreePathToChildren),t=this.Xa.iterator,e){for(;t.next();)if((e=t.value).isTreeLink&&(e=e.fromNode)!==this)return this.xh=e}else for(;t.next();)if((e=t.value).isTreeLink&&(e=e.toNode)!==this)return this.xh=e;return this.xh=null},n.Az=function(){var t=new nt;return function t(e,n){if(null!==e){n.add(e);var i=e.Xi();null!==i&&(n.add(i),t(e.yg(),n))}}(this,t),t},n.zz=function(){return function t(e,n){return null===(n=n.yg())?0:1+t(e,n)}(this,this)},n.qq=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren),e=new J(this.Xa);var n=this;return e.predicate=t?function(t){return!(!t.isTreeLink||t.fromNode!==n)}:function(t){return!(!t.isTreeLink||t.toNode!==n)},e},n.Av=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var n=e=null,i=this.Xa.iterator;if(t)for(;i.next();)(t=i.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==n&&n!==t?((e=new tt).add(n),e.add(t)):n=t);else for(;i.next();)(t=i.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==n&&n!==t?((e=new tt).add(n),e.add(t)):n=t);return null!==e?e.iterator:null!==n?new Z(n):X},n.Bz=function(t){void 0===t&&(t=1/0);var e=new nt;return gh(e,this,!1,t,!0),e},yh.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.Ee){e.Ee=!0;var n=new nt;n.add(this),function t(e,n,i,o,r,a,s){if(1<o)for(var l=i?e.oq():e.xd();l.next();){var u=l.value;u.isTreeLink&&(null===(u=u.tt(e))||u===e||n.contains(u)||(n.add(u),t(u,n,i,o-1,r,a,s)))}else!function t(e,n,i,o,r,a){for(var s=r===e||e.isTreeExpanded,l=i?e.oq():e.xd();l.next();){var u=l.value;if(u.isTreeLink&&(null!==(u=u.tt(e))&&u!==e)){var h=n.contains(u);h||n.add(u),s&&(a&&o.Wj(u,r),u.Gh(),u.Ob(!1)),u.isTreeExpanded&&(u.wasTreeExpanded=u.isTreeExpanded,h||t(u,n,i,o,r,a))}}e.isTreeExpanded=!1}(e,n,i,r,a,s)}(this,n,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===ya),e.Ee=!1}},yh.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.Ee){e.Ee=!0;var n=new nt;n.add(this),function t(e,n,i,o,r,a,s){for(var l=a!==e&&e.isTreeExpanded,u=i?e.oq():e.xd();u.next();){var h=u.value;h.isTreeLink&&(l||h.ld||h.Ta(),null!==(h=h.tt(e))&&h!==e&&!n.contains(h)&&(n.add(h),l||(h.Ob(!0),h.Gh(),s&&r.Yj(h,a)),2<o||h.wasTreeExpanded))&&(h.wasTreeExpanded=!1,t(h,n,i,o-1,r,a,s))}e.isTreeExpanded=!0}(this,n,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===ya),e.Ee=!1}},d.Object.defineProperties(yh.prototype,{portSpreading:{get:function(){return this.hp},set:function(t){var e=this.hp;e!==t&&(this.hp=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.fd())}},avoidable:{get:function(){return 0!==(8&this.P)},set:function(t){var e=0!==(8&this.P);if(e!==t){this.P^=8;var n=this.diagram;null!==n&&zr(n,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return this.Kk},set:function(t){"number"===typeof t&&(t=new Jt(t));var e=this.Kk;if(!e.w(t)){this.Kk=t=t.G();var n=this.diagram;null!==n&&zr(n,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.Xa.iterator}},linkConnected:{get:function(){return this.qo},set:function(t){var e=this.qo;e!==t&&(this.qo=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return this.ro},set:function(t){var e=this.ro;e!==t&&(this.ro=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return this.xi},set:function(t){var e=this.xi;e!==t&&(this.xi=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.sl}},labeledLink:{get:function(){return this.sl},set:function(t){var e=this.sl;if(e!==t){var n=this.diagram,i=this.data;if(null!==e){if(null!==e.bd&&(e.bd.remove(this),e.o()),null!==n&&null!==i&&!n.undoManager.isUndoingRedoing){var o=e.data,r=n.model;if(null!==o&&r.dj()){var a=r.ja(i);void 0!==a&&r.hy(o,a)}}this.containingGroup=null}this.sl=t,null!==t&&(Lh(t,this),null===n||null===i||n.undoManager.isUndoingRedoing||(o=t.data,n=n.model,null!==o&&n.dj()&&(void 0!==(i=n.ja(i))&&n.iv(o,i))),this.containingGroup=t.containingGroup),Za(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.pt("")}},ports:{get:function(){return null===this.rc&&Eh(this),this.rc.iteratorValues}},isTreeExpanded:{get:function(){return 0!==(1&this.P)},set:function(t){var e=0!==(1&this.P);if(e!==t){this.P^=1;var n=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var i=!0;null!==n&&(i=n.Z,n.Z=!0),e(this),null!==n&&(n.Z=i)}null!==n&&n.undoManager.isUndoingRedoing?this.Ob(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!==(2&this.P)},set:function(t){var e=0!==(2&this.P);e!==t&&(this.P^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return this.Yp},set:function(t){var e=this.Yp;e!==t&&(this.Yp=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!==(4&this.P)},set:function(t){var e=0!==(4&this.P);e!==t&&(this.P^=4,this.g("isTreeLeaf",e,t))}}}),yh.prototype.expandTree=yh.prototype.expandTree,yh.prototype.collapseTree=yh.prototype.collapseTree,yh.prototype.findTreeParts=yh.prototype.Bz,yh.prototype.findTreeChildrenNodes=yh.prototype.Av,yh.prototype.findTreeChildrenLinks=yh.prototype.qq,yh.prototype.findTreeLevel=yh.prototype.zz,yh.prototype.findTreeParentChain=yh.prototype.Az,yh.prototype.findTreeParentNode=yh.prototype.yg,yh.prototype.findTreeParentLink=yh.prototype.Xi,yh.prototype.findCommonTreeParent=yh.prototype.mz,yh.prototype.findTreeRoot=yh.prototype.Cz,yh.prototype.isInTreeOf=yh.prototype.Xz,yh.prototype.findPort=yh.prototype.pt,yh.prototype.findLinksTo=yh.prototype.qz,yh.prototype.findLinksBetween=yh.prototype.pz,yh.prototype.findNodesInto=yh.prototype.xv,yh.prototype.findNodesOutOf=yh.prototype.yv,yh.prototype.findNodesConnected=yh.prototype.wv,yh.prototype.findLinksInto=yh.prototype.xd,yh.prototype.findLinksOutOf=yh.prototype.oq,yh.prototype.findExternalTreeLinksConnected=yh.prototype.Nx,yh.prototype.invalidateConnectedLinks=yh.prototype.fd,yh.prototype.invalidateLinkBundle=yh.prototype.Vz;var Dh=new K(yh,"SpreadingNone",10),Mh=new K(yh,"SpreadingEvenly",11),Oh=new K(yh,"SpreadingPacked",12);function Ph(t){yh.call(this,t),this.P|=4608,this.Bo=new nt,this.Al=new nt,this.Ra=this.Pp=this.yi=this.Co=this.Ao=null,this.ic=new Vc,this.ic.group=this}function Ah(t,e){if(t.Bo.add(e)){e instanceof Ph&&t.Al.add(e);var n=t.memberAdded;if(null!==n){var i=!0,o=t.diagram;null!==o&&(i=o.Z,o.Z=!0),n(t,e),null!==o&&(o.Z=i)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!1)}e instanceof Nh&&!t.computesBoundsIncludingLinks||(null===(e=t.Ra)&&(e=t),e.o())}function Rh(t,e){if(t.Bo.remove(e)){e instanceof Ph&&t.Al.remove(e);var n=t.memberRemoved;if(null!==n){var i=!0,o=t.diagram;null!==o&&(i=o.Z,o.Z=!0),n(t,e),null!==o&&(o.Z=i)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!0)}e instanceof Nh&&!t.computesBoundsIncludingLinks||(null===(e=t.Ra)&&(e=t),e.o())}function Bh(){za.call(this),this.fb=ee,this.wp=new Lt(NaN,NaN,NaN,NaN)}function Nh(){Zu.call(this,wl.Link),this.Pa=8,this.Re=null,this.Se="",this.mf=this.On=null,this.nf="",this.Xp=null,this.Fk=rc,this.qn=0,this.sn=rc,this.tn=NaN,this.Oj=ec,this.Kp=.5,this.bd=null,this.xb=(new tt).freeze(),this.lh=this.gh=null,this.Fl=new Lt,this.ka=new qe,this.$n=!0,this.I=this.u=this.Hf=this.Qf=null,this.l=[],this.av=new ft,this.Jr=this.px=this.ox=null,this.vu=NaN,this.O=null}function Fh(t){var e=t.fromNode,n=t.toNode,i=null;if(i=null!==e?null!==n?e.Mx(n):e.containingGroup:null!==n?n.containingGroup:null,e=i,(n=t.di)!==e){null!==n&&Rh(n,t),t.di=e,null!==e&&Ah(e,t);var o=t.containingGroupChanged;if(null!==o){var r=!0,a=t.diagram;null!==a&&(r=a.Z,a.Z=!0),o(t,n,e),null!==a&&(a.Z=r)}!t.ld||t.ox!==n&&t.px!==n||t.Ta()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=i}function Lh(t,e){null===t.bd&&(t.bd=new nt),t.bd.add(e),t.o()}function Vh(t,e,n){if(0!==e||0!==n){for(var i=t.ld,o=new tt,r=t.xb.iterator;r.next();){var a=r.value;o.add(new ft(a.x+e,a.y+n).freeze())}o.freeze(),r=t.xb,t.xb=o,a=t.diagram,isNaN(e)||isNaN(n)||null!==a&&a.animationManager.qc?t.o():(t.$f.h(t.$f.x+e,t.$f.y+n),t.ma.h(t.ma.x+e,t.ma.y+n),Za(t)),i&&jh(t),null!==a&&a.animationManager.qc&&(t.lh=o),t.g("points",r,o)}}function jh(t){0===t.xb.count?t.ld=!1:(t.ld=!0,t.Jr=null,t.vu=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),Zh(t,!1))}function zh(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x>=t.x?e.x=t.x+9e9:e.x=t.x-9e9,e.y=t.y):(e.y>=t.y?e.y=t.y+9e9:e.y=t.y-9e9,e.x=t.x),e}function Hh(t,e){var n=e.gp;return null===n&&((n=new Rc).port=e,n.node=e.part,e.gp=n),Nc(n,t)}function Wh(t){return t===ie||.5===t.x&&.5===t.y}function Gh(t){if(null===t.diagram||!t.isAvoiding||!Lr(t.diagram))return!1;var e=t.points.j,n=e.length;if(4>n)return!1;t=Vr(t.diagram,!0,t.containingGroup,null);for(var i=1;i<n-2;i++){var o=e[i],r=e[i+1];if(!t.nk(Math.min(o.x,r.x),Math.min(o.y,r.y),Math.abs(o.x-r.x),Math.abs(o.y-r.y)))return!0}return!1}function Kh(t,e,n,i){return t=n-t,isNaN(t)||1/0===t||-1/0===t?NaN:(0>t&&(t=-t),e=i-e,isNaN(e)||1/0===e||-1/0===e?NaN:(0>e&&(e=-e),Ue.$(t,0)?e:Ue.$(e,0)?t:Math.sqrt(t*t+e*e)))}function $h(t,e,n,i){var o=t.pointsCount;if(2>o)return e;if(n){var r=t.i(1);if(n=r.x-i.x,r=r.y-i.y,0===(i=Kh(e.x,e.y,n,r)))return e;o=2===o?.5*i:i,(t=t.computeShortLength(!0))>o&&(t=o),o=t*(r-e.y)/i,e.x+=t*(n-e.x)/i,e.y+=o}else{if(n=(r=t.i(o-2)).x-i.x,r=r.y-i.y,0===(i=Kh(e.x,e.y,n,r)))return e;o=2===o?.5*i:i,(t=t.computeShortLength(!1))>o&&(t=o),o=t*(e.y-r)/i,e.x-=t*(e.x-n)/i,e.y-=o}return e}function Uh(t,e,n,i){for(var o=t.pointsCount,r=e;Ue.$(e.x,r.x)&&Ue.$(e.y,r.y);){if(n>=o)return o-1;r=t.i(n++)}if(!Ue.$(e.x,r.x)&&!Ue.$(e.y,r.y))return n-1;for(var a=r;Ue.$(e.x,r.x)&&Ue.$(r.x,a.x)&&(!i||(e.y>=r.y?r.y>=a.y:r.y<=a.y))||Ue.$(e.y,r.y)&&Ue.$(r.y,a.y)&&(!i||(e.x>=r.x?r.x>=a.x:r.x<=a.x));){if(n>=o)return o-1;a=t.i(n++)}return n-2}function qh(t,e,n,i,o,r,a){if(!a&&Xh(t)){a=[];var s=0;if(t.isVisible()&&(s=function(t,e,n,i){var o=t.diagram;if(null===o||e.w(n))return 0;for(o=o.layers;o.next();){var r=o.value;if(null!==r&&r.visible)for(var a=(r=r.Ca.j).length,s=0;s<a;s++){var l=r[s];if(l instanceof Nh){if(l===t)return 0<i.length&&i.sort((function(t,e){return t-e})),i.length;if(l.isVisible()&&Xh(l)){var u=l.routeBounds;u.v()&&t.routeBounds.Hc(u)&&!t.usesSamePort(l)&&(null!==(u=l.path)&&u.zf()&&Yh(e,n,i,l))}}}}return 0<i.length&&i.sort((function(t,e){return t-e})),i.length}(t,o,r,a)),0<s)if(Ue.A(o.y,r.y))if(o.x<r.x)for(var l=0;l<s;){var u=Math.max(o.x,Math.min(a[l++]-5,r.x-10));e.lineTo(u+n,r.y+i);for(var h=u+n,c=Math.min(u+10,r.x);l<s&&(u=a[l])<c+10;)l++,c=Math.min(u+5,r.x);u=r.y-10+i,c+=n;var d=r.y+i;t.curve===sc?Wu(e,c,d,!1):Ku(e,h,u,c,u,c,d)}else for(--s;0<=s;){for(l=Math.min(o.x,Math.max(a[s--]+5,r.x+10)),e.lineTo(l+n,r.y+i),h=l+n,u=Math.max(l-10,r.x);0<=s&&(l=a[s])>u-10;)s--,u=Math.max(l-5,r.x);l=r.y-10+i,u+=n,c=r.y+i,t.curve===sc?Wu(e,u,c,!1):Ku(e,h,l,u,l,u,c)}else if(Ue.A(o.x,r.x))if(o.y<r.y)for(l=0;l<s;){for(u=Math.max(o.y,Math.min(a[l++]-5,r.y-10)),e.lineTo(r.x+n,u+i),h=u+i,u=Math.min(u+10,r.y);l<s&&(c=a[l])<u+10;)l++,u=Math.min(c+5,r.y);c=r.x-10+n,d=r.x+n,u+=i,t.curve===sc?Wu(e,d,u,!1):Ku(e,c,h,c,u,d,u)}else for(--s;0<=s;){for(l=Math.min(o.y,Math.max(a[s--]+5,r.y+10)),e.lineTo(r.x+n,l+i),h=l+i,l=Math.max(l-10,r.y);0<=s&&(u=a[s])>l-10;)s--,l=Math.max(u-5,r.y);u=r.x-10+n,c=r.x+n,l+=i,t.curve===sc?Wu(e,c,l,!1):Ku(e,u,h,u,l,c,l)}}e.lineTo(r.x+n,r.y+i)}function Yh(t,e,n,i){for(var o=Ue.A(t.y,e.y),r=i.pointsCount,a=i.i(0),s=ft.alloc(),l=1;l<r;l++){var u=i.i(l);if(l<r-1){var h=i.i(l+1);if(a.y===u.y&&u.y===h.y){if(u.x>a.x&&h.x>=u.x||u.x<a.x&&h.x<=u.x)continue}else if(a.x===u.x&&u.x===h.x&&(u.y>a.y&&h.y>=u.y||u.y<a.y&&h.y<=u.y))continue}t:{h=t.x;var c=t.y,d=e.x,f=e.y,p=a.x;a=a.y;var g=u.x,m=u.y;if(Ue.A(h,d)){if(!Ue.A(c,f)&&Ue.A(a,m)&&Math.min(c,f)<a&&Math.max(c,f)>a&&Math.min(p,g)<h&&Math.max(p,g)>h&&!Ue.A(p,g)){s.x=h,s.y=a,h=!0;break t}}else if(Ue.A(c,f)&&Ue.A(p,g)&&Math.min(h,d)<p&&Math.max(h,d)>p&&Math.min(a,m)<c&&Math.max(a,m)>c&&!Ue.A(a,m)){s.x=p,s.y=c,h=!0;break t}s.x=0,s.y=0,h=!1}h&&(o?n.push(s.x):n.push(s.y)),a=u}ft.free(s)}function Xh(t){return(t=t.curve)===lc||t===sc}function Zh(t,e){(e||Xh(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.Pg.contains(t)||0===t.Fl.width&&0===t.Fl.height||e.Pg.add(t,t.Fl.copy()))}function Jh(t,e,n){if(null!==e&&null!==e.ka&&Xh(e)){var i=e.routeBounds;i.v()&&(t.routeBounds.Hc(i)||n.Hc(i))&&(t.usesSamePort(e)||e.cc())}}function Qh(t){var e=t.Re;if(null!==e){var n=t.mf;if(null!==n){for(var i=t.Se,o=t.nf,r=t=null,a=e.Xa.j,s=a.length,l=0;l<s;l++){var u=a[l];(u.Re===e&&u.Se===i&&u.mf===n&&u.nf===o||u.Re===n&&u.Se===o&&u.mf===e&&u.nf===i)&&(null===r?r=u:(null===t&&(t=[]).push(r),t.push(u)))}if(null!==t){for(null===(r=bh(e,n,i,o))&&(_h(e,r=new bc(e,i,n,o)),_h(n,r)),r.links=t,e=0;e<t.length;e++)t[e].Hf=r;r.om()}}}}function tc(t){var e=t.Hf;null!==e&&(t.Hf=null,0<=(t=e.links.indexOf(t))&&(T(e.links,t),e.om()))}yh.className="Node",yh.SpreadingNone=Dh,yh.SpreadingEvenly=Mh,yh.SpreadingPacked=Oh,c(Ph,yh),Ph.prototype.cloneProtected=function(t){yh.prototype.cloneProtected.call(this,t),this.P=-32769&this.P,t.Ao=this.Ao,t.Co=this.Co,t.yi=this.yi,t.Pp=this.Pp;var e=t.im((function(t){return t instanceof Bh}));t.Ra=e instanceof Bh?e:null,null!==this.ic?(t.ic=this.ic.copy(),t.ic.group=t):(null!==t.ic&&(t.ic.group=null),t.ic=null)},(n=Ph.prototype).tf=function(t){yh.prototype.tf.call(this,t);var e=t.ik();for(t=t.memberParts;t.next();){var n=t.value;if(n.o(),n.C(8),n.$j(),n instanceof yh)n.fd(e);else if(n instanceof Nh)for(n=n.labelNodes;n.next();)n.value.fd(e)}},n.xk=function(t,e,n,i,o,r,a){if(t===kn&&"elements"===e){if(o instanceof Bh)null===this.Ra?this.Ra=o:this.Ra!==o&&_("Cannot insert a second Placeholder into the visual tree of a Group.");else if(o instanceof wl){var s=o.im((function(t){return t instanceof Bh}));s instanceof Bh&&(null===this.Ra?this.Ra=s:this.Ra!==s&&_("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===En&&"elements"===e&&null!==this.Ra&&(i===this.Ra||i instanceof wl&&this.Ra.Ag(i))&&(this.Ra=null);yh.prototype.xk.call(this,t,e,n,i,o,r,a)},n.Ch=function(t,e,n,i){this.Ye=this.Ra,yh.prototype.Ch.call(this,t,e,n,i)},n.zb=function(){this.memberParts.each((function(t){t.zb()})),yh.prototype.zb.call(this)},n.ej=function(){if(!yh.prototype.ej.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof yh){if(e.isVisible()&&ls(e))return!1}else if(e instanceof Nh&&e.isVisible()&&ls(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},n.fk=function(){if(0<this.Bo.count){var t=this.diagram;if(null!==t)for(var e=this.Bo.copy().iterator;e.next();)t.remove(e.value)}yh.prototype.fk.call(this)},Ph.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=ja(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Ph.prototype.addMembers=function(t,e){var n=this.diagram;if(null===n)return!1;n=n.commandHandler;var i=!0;for(t=ja(t).iterator;t.next();){var o=t.value;!e||n.isValidMember(this,o)?o.containingGroup=this:i=!1}return i},Ph.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null!==t&&!t.allowUngroup)&&!(null!==(t=t.diagram)&&!t.allowUngroup)},(n=Ph.prototype).fd=function(t){void 0===t&&(t=null);var e=0!==(65536&this.P);if(yh.prototype.fd.call(this,t),!e)for(0!==(65536&this.P)!==!0&&(this.P=65536^this.P),e=this.vv();e.next();){var n=e.value;if(null===t||!t.contains(n)){var i=n.fromNode;null!==i&&i!==this&&i.Xd(this)&&!i.isVisible()?(wh(i,n.fromPort),wh(i,n.toPort),n.Ta()):null!==(i=n.toNode)&&i!==this&&i.Xd(this)&&!i.isVisible()&&(wh(i,n.fromPort),wh(i,n.toPort),n.Ta())}}},n.vv=function(){var t=this.ik();t.add(this);for(var e=new nt,n=t.iterator;n.next();){var i=n.value;if(i instanceof yh)for(i=i.linksConnected;i.next();){var o=i.value;t.contains(o)||e.add(o)}}return e.iterator},n.oz=function(){var t=this.ik();t.add(this);for(var e=new nt,n=t.iterator;n.next();){var i=n.value;if(i instanceof yh)for(i=i.linksConnected;i.next();){var o=i.value,r=o.fromNode;t.contains(r)&&r!==this||e.add(r),o=o.toNode,t.contains(o)&&o!==this||e.add(o)}}return e.iterator},n.nz=function(){var t=new nt;return function t(e,n){null!==e&&(n.add(e),t(e.containingGroup,n))}(this,t),t},n.ik=function(){var t=new nt;return gh(t,this,!0,0,!0),t.remove(this),t},n.Ob=function(t){yh.prototype.Ob.call(this,t);for(var e=this.memberParts;e.next();)e.value.Ob(t)},Ph.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.Ee||(t.Ee=!0,function t(e,n,i,o){for(var r=e.memberParts;r.next();){var a=r.value;if(a.Ob(!1),a instanceof Ph&&a.isSubGraphExpanded&&(a.wasSubGraphExpanded=a.isSubGraphExpanded,t(a,n,i,o)),a instanceof yh)a.fd(n),i.Wj(a,o);else if(a instanceof Nh)for(a=a.labelNodes;a.next();)a.value.fd(n)}e.isSubGraphExpanded=!1}(this,this.ik(),t,this),t.Ee=!1)},Ph.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.Ee||(t.Ee=!0,function t(e,n,i,o){for(var r=e.memberParts;r.next();){var a=r.value;if(a.Ob(!0),a instanceof Ph&&a.wasSubGraphExpanded&&(a.wasSubGraphExpanded=!1,t(a,n,i,o)),a instanceof yh)a.fd(n),i.Yj(a,o);else if(a instanceof Nh)for(a=a.labelNodes;a.next();)a.value.fd(n)}e.isSubGraphExpanded=!0}(this,this.ik(),t,this),t.Ee=!1)},Ph.prototype.move=function(t,e){void 0===e&&(e=!1);var n=e?this.location:this.position,i=n.x;n=n.y;var o=t.x,r=t.y;if(!(i===o||isNaN(i)&&isNaN(o))||!(n===r||isNaN(n)&&isNaN(r))){for(i=o-(isNaN(i)?0:i),n=r-(isNaN(n)?0:n),r=ft.alloc(),yh.prototype.move.call(this,t,e),t=new nt,e=this.ik().iterator;e.next();)(o=e.value)instanceof Nh&&(o.suspendsRouting&&t.add(o),o.ld||o.fromNode!==this&&o.toNode!==this)&&(o.suspendsRouting=!0);for(e.reset();e.next();)if(!((o=e.value).Hh()||o instanceof yh&&o.isLinkLabel)){var a=o.position,s=o.location;a.v()?(r.x=a.x+i,r.y=a.y+n,o.position=r):s.v()&&(r.x=s.x+i,r.y=s.y+n,o.location=r)}for(e.reset();e.next();)(o=e.value)instanceof Nh&&(o.suspendsRouting=t.contains(o),o.ld||o.fromNode!==this&&o.toNode!==this)&&(a=o.position,r.x=a.x+i,r.y=a.y+n,r.v()?o.move(r):o.Ta(),Gh(o)&&o.Ta());ft.free(r)}},d.Object.defineProperties(Ph.prototype,{placeholder:{get:function(){return this.Ra}},computesBoundsAfterDrag:{get:function(){return 0!==(2048&this.P)},set:function(t){var e=0!==(2048&this.P);e!==t&&(this.P^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!==(4096&this.P)},set:function(t){var e=0!==(4096&this.P);e!==t&&(this.P^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!==(8192&this.P)},set:function(t){var e=0!==(8192&this.P);e!==t&&(this.P^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!==(16384&this.P)},set:function(t){var e=0!==(16384&this.P);e!==t&&(this.P^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.Bo.iterator}},layout:{get:function(){return this.ic},set:function(t){var e=this.ic;if(e!==t){null!==e&&(e.diagram=null,e.group=null),this.ic=t;var n=this.diagram;null!==t&&(t.diagram=n,t.group=this),null!==n&&(n.Le=!0),this.g("layout",e,t),null!==n&&n.Pb()}}},memberAdded:{get:function(){return this.Ao},set:function(t){var e=this.Ao;e!==t&&(this.Ao=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return this.Co},set:function(t){var e=this.Co;e!==t&&(this.Co=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return this.yi},set:function(t){var e=this.yi;e!==t&&(this.yi=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!==(256&this.P)},set:function(t){var e=0!==(256&this.P);e!==t&&(this.P^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!==(512&this.P)},set:function(t){var e=0!==(512&this.P);if(e!==t){this.P^=512;var n=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var i=!0;null!==n&&(i=n.Z,n.Z=!0),e(this),null!==n&&(n.Z=i)}null!==n&&n.undoManager.isUndoingRedoing?(null!==this.Ra&&this.Ra.o(),this.memberParts.each((function(t){t.updateAdornments()}))):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!==(1024&this.P)},set:function(t){var e=0!==(1024&this.P);e!==t&&(this.P^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return this.Pp},set:function(t){var e=this.Pp;e!==t&&(this.Pp=t,this.g("subGraphExpandedChanged",e,t))}},wk:{get:function(){return 0!==(32768&this.P)},set:function(t){0!==(32768&this.P)!==t&&(this.P^=32768)}}}),Ph.prototype.expandSubGraph=Ph.prototype.expandSubGraph,Ph.prototype.collapseSubGraph=Ph.prototype.collapseSubGraph,Ph.prototype.findSubGraphParts=Ph.prototype.ik,Ph.prototype.findContainingGroupChain=Ph.prototype.nz,Ph.prototype.findExternalNodesConnected=Ph.prototype.oz,Ph.prototype.findExternalLinksConnected=Ph.prototype.vv,Ph.prototype.ensureBounds=Ph.prototype.zb,Ph.className="Group",c(Bh,za),Bh.prototype.cloneProtected=function(t){za.prototype.cloneProtected.call(this,t),t.fb=this.fb.G(),t.wp=this.wp.copy()},Bh.prototype.Eh=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return Ut(0,0,e.width,e.height,t.x,t.y)},Bh.prototype.sm=function(){var t=this.part;if(null!==t&&(t instanceof Ph||t instanceof vh)||_("Placeholder is not inside a Group or Adornment."),t instanceof Ph){var e=this.computeBorder(this.wp),n=this.minSize,i=this.pc;for(Vt(i,(isFinite(n.width)?Math.max(n.width,e.width):e.width)||0,(isFinite(n.height)?Math.max(n.height,e.height):e.height)||0),Ga(this,0,0,i.width,i.height),i=t.memberParts,n=!1;i.next();)if(i.value.isVisible()){n=!0;break}i=t.diagram,!n||null===i||i.animationManager.Lv(t)||isNaN(e.x)||isNaN(e.y)||((n=ft.alloc()).gj(e,t.locationSpot),n.w(t.location)||(t.location=new ft(n.x,n.y)),ft.free(n))}else{e=this.pc,i=(n=this.fb).left+n.right;var o=n.top+n.bottom,r=t.adornedObject;t.angle=r.Zi();var a=0;r instanceof Yl&&(a=r.strokeWidth);var s=r.vf(),l=r.naturalBounds,u=(l.width+a)*s;a=(l.height+a)*s,t.type!==wl.Link&&(r=r.ga("Selection"===t.category?oe:t.locationSpot,ft.alloc()),t.location=r,ft.free(r)),isNaN(u)||isNaN(a)?(u=(t=t.adornedObject).ga(oe,ft.alloc()),(r=Lt.allocAt(u.x,u.y,0,0)).Ie(t.ga(de,u)),r.Ie(t.ga(ae,u)),r.Ie(t.ga(he,u)),Vt(e,r.width+i||0,r.height+o||0),Ga(this,-n.left,-n.top,e.width,e.height),ft.free(u),Lt.free(r)):(Vt(e,u+i||0,a+o||0),Ga(this,-n.left,-n.top,e.width,e.height))}},Bh.prototype.Ch=function(t,e,n,i){this.actualBounds.h(t,e,n,i)},Bh.prototype.computeBorder=function(t){var e=this.part,n=e.diagram;if(null!==n&&e instanceof Ph&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.wp.v()){var i=n.toolManager.findTool("Dragging");if(i===n.currentTool&&null!==(n=i.computeBorder(e,this.wp,t)))return n}n=Lt.alloc(),i=this.computeMemberBounds(n);var o=this.fb;return e instanceof Ph&&!e.isSubGraphExpanded?t.h(i.x-o.left,i.y-o.top,0,0):t.h(i.x-o.left,i.y-o.top,Math.max(i.width+o.left+o.right,0),Math.max(i.height+o.top+o.bottom,0)),Lt.free(n),e instanceof Ph&&e.computesBoundsIncludingLocation&&e.location.v()&&t.Ie(e.location),t},Bh.prototype.computeMemberBounds=function(t){if(!(this.part instanceof Ph))return t.h(0,0,0,0),t;for(var e=this.part,n=1/0,i=1/0,o=-1/0,r=-1/0,a=e.memberParts;a.next();){var s=a.value;if(s.isVisible()){if(s instanceof Nh){if(!e.computesBoundsIncludingLinks)continue;if(as(s))continue;if(s.fromNode===e||s.toNode===e)continue}(s=s.actualBounds).left<n&&(n=s.left),s.top<i&&(i=s.top),s.right>o&&(o=s.right),s.bottom>r&&(r=s.bottom)}}return isFinite(n)&&isFinite(i)?t.h(n,i,o-n,r-i):(e=e.location,t.h(e.x,e.y,0,0)),t},d.Object.defineProperties(Bh.prototype,{padding:{get:function(){return this.fb},set:function(t){"number"===typeof t&&(t=new Jt(t));var e=this.fb;e.w(t)||(this.fb=t=t.G(),this.g("padding",e,t),this.o())}}}),Bh.className="Placeholder",c(Nh,Zu),Nh.prototype.cloneProtected=function(t){Zu.prototype.cloneProtected.call(this,t),t.Pa=-113&this.Pa,t.Se=this.Se,t.On=this.On,t.nf=this.nf,t.Xp=this.Xp,t.Fk=this.Fk,t.qn=this.qn,t.sn=this.sn,t.tn=this.tn,t.Oj=this.Oj,t.Kp=this.Kp,null!==this.O&&(t.O=this.O.copy())},(n=Nh.prototype).tf=function(t){Zu.prototype.tf.call(this,t),this.Se=t.Se,this.nf=t.nf,t.gh=null,t.Ta(),t.Hf=this.Hf;var e=t.fromPort;null!==e&&wh(t.fromNode,e),null!==(e=t.toPort)&&wh(t.toNode,e)},n.gb=function(t){t.classType===Nh?2===(2&t.value)?this.routing=t:t===ac||t===sc||t===lc?this.curve=t:t===uc||t===hc||t===cc?this.adjusting=t:t!==ec&&t!==rc&&_("Unknown Link enum value for a Link property: "+t):Zu.prototype.gb.call(this,t)},n.Fc=function(){null===this.O&&(this.O=new Lc)},n.ej=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),ls(t)||uh(t))return!1}return null===(t=this.toNode)||(null!==(e=t.findVisibleNode())&&(t=e),!ls(t)&&!uh(t))},n.lw=function(){return!1},n.St=function(){},n.Wb=function(){return!1},Nh.prototype.computeAngle=function(t,e,n){return Nh.computeAngle(e,n)},Nh.computeAngle=function(t,e){switch(t){default:case rc:t=0;break;case dc:t=e;break;case fc:t=e+90;break;case pc:t=e-90;break;case gc:t=e+180;break;case mc:90<(t=Ue.Cq(e))&&270>t&&(t-=180);break;case vc:90<(t=Ue.Cq(e+90))&&270>t&&(t-=180);break;case yc:90<(t=Ue.Cq(e-90))&&270>t&&(t-=180);break;case _c:if(45<(t=Ue.Cq(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return Ue.Cq(t)},(n=Nh.prototype).Gh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&Zu.prototype.Gh.call(this)},n.tt=function(t){var e=this.fromNode;return t===e?this.toNode:e},n.Jz=function(t){var e=this.fromPort;return t===e?this.toPort:e},n.tq=function(t){if(Zu.prototype.tq.call(this,t),Xh(this)&&this.wq(this.actualBounds),!t){var e=null;null!==(t=this.Re)&&Ch(t,this,e=this.fromPort);var n=this.mf;if(null!==n){var i=this.toPort;n===t&&i===e||Ch(n,this,i)}Qh(this)}},n.uq=function(t){if(Zu.prototype.uq.call(this,t),Xh(this)&&this.wq(this.actualBounds),!t){var e=null;null!==(t=this.Re)&&Sh(t,this,e=this.fromPort);var n=this.mf;if(null!==n){var i=this.toPort;n===t&&i===e||Sh(n,this,i)}tc(this)}},n.fk=function(){if(this.ld=!0,null!==this.bd){var t=this.diagram;if(null!==t)for(var e=this.bd.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&(null!==(t=this.diagram)&&t.partManager.removeDataForLink(this))},Nh.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},Nh.prototype.move=function(t,e){var n=e?this.location:this.position,i=n.x;isNaN(i)&&(i=0);var o=n.y;for(isNaN(o)&&(o=0),i=t.x-i,o=t.y-o,!0===e?Zu.prototype.move.call(this,t,!1):(t=ft.allocAt(n.x+i,n.y+o),Zu.prototype.move.call(this,t,!1),ft.free(t)),Vh(this,i,o),t=this.labelNodes;t.next();)n=(e=t.value).position,e.moveTo(n.x+i,n.y+o)},Nh.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Nh.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Nh.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(kt),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var n=this.i(0),i=this.i(1);return t.h((n.x+i.x)/2,(n.y+i.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===ac))return this.ka.Dv(.5,t),t.add(this.i(0)),n=this.ka.figures.first(),t.offset(-n.startX,-n.startY),t;if(this.computeCurve()===ac){if(3===e)return this.i(1);if(n=3*((i=(e-1)/3|0)/2|0),1===i%2){i=this.i(n);var o=this.i(n+1),r=this.i(n+2);n=this.i(n+3),Ue.Uy(i.x,i.y,o.x,o.y,r.x,r.y,n.x,n.y,t)}else t.assign(this.i(n));return t}var a=this.flattenedLengths;for(n=this.flattenedTotalLength,o=r=i=0;i<n/2&&r<e&&!(i+(o=a[r])>n/2);)i+=o,r++;return e=this.i(r),r=this.i(r+1),1>Math.abs(e.x-r.x)?e.y>r.y?t.h(e.x,e.y-(n/2-i)):t.h(e.x,e.y+(n/2-i)):1>Math.abs(e.y-r.y)?e.x>r.x?t.h(e.x-(n/2-i),e.y):t.h(e.x+(n/2-i),e.y):(n=(n/2-i)/o,t.h(e.x+n*(r.x-e.x),e.y+n*(r.y-e.y))),t},Nh.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).Sa(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===ac))return this.ka.Sx(.5);if(this.computeCurve()===ac&&4<=t){var e=(t-1)/3|0,n=3*(e/2|0);if(1===e%2){n=Math.floor(n),t=this.i(n),e=this.i(n+1);var i=this.i(n+2);return n=this.i(n+3),Ue.Ty(t.x,t.y,e.x,e.y,i.x,i.y,n.x,n.y)}if(0<n&&n+1<t)return this.i(n-1).Sa(this.i(n+1))}e=this.flattenedLengths,i=this.flattenedTotalLength;var o,r=0;for(n=0;r<i/2&&n<t&&!(r+(o=e[n])>i/2);)r+=o,n++;if(e=this.i(n),i=this.i(n+1),1>Math.abs(e.x-i.x)&&1>Math.abs(e.y-i.y)){if(0<n&&n+2<t)return this.i(n-1).Sa(this.i(n+2))}else{if(1>Math.abs(e.x-i.x))return e.y>i.y?270:90;if(1>Math.abs(e.y-i.y))return e.x>i.x?180:0}return e.Sa(i)},(n=Nh.prototype).i=function(t){return this.xb.j[t]},n.jd=function(t,e){this.xb.hd(t,e)},n.K=function(t,e,n){this.xb.hd(t,new ft(e,n))},n.Tz=function(t,e){this.xb.tb(t,e)},n.m=function(t,e,n){this.xb.tb(t,new ft(e,n))},n.ze=function(t){this.xb.add(t)},n.rf=function(t,e){this.xb.add(new ft(t,e))},n.bw=function(t){this.xb.ab(t)},n.ak=function(){this.xb.clear()},n.Kh=function(){null===this.gh&&(this.gh=this.xb,this.xb=this.xb.copy())},n.sf=function(){if(null!==this.gh){for(var t=this.gh,e=this.xb,n=1/0,i=1/0,o=t.j,r=o.length,a=0;a<r;a++){var s=o[a];n=Math.min(s.x,n),i=Math.min(s.y,i)}s=a=1/0;for(var l=e.j,u=l.length,h=0;h<u;h++){var c=l[h];a=Math.min(c.x,a),s=Math.min(c.y,s),c.freeze()}if(e.freeze(),u===r){for(r=0;r<u;r++)if(h=o[r],c=l[r],h.x-n!==c.x-a||h.y-i!==c.y-s){this.o(),this.cc();break}}else this.o(),this.cc();this.gh=null,null!==(n=this.diagram)&&n.animationManager.qc&&(this.lh=e),jh(this),this.g("points",t,e)}},n.jy=function(){null!==this.gh&&(this.xb=this.gh,this.gh=null)},n.Ta=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.Ct.contains(this)||t.undoManager.isUndoingRedoing)return;if((t=t.animationManager).isTicking&&!t.isAnimating)return;null!==this.lh&&!t.isTicking&&t.isAnimating&&(this.lh=null)}null!==(t=this.path)&&(this.ld=!1,this.o(),t.o())}},n.kj=function(){if(!this.ld&&!this.ov){var t=!0;try{this.ov=!0,this.Kh(),t=this.computePoints()}finally{this.ov=!1,t?this.sf():this.jy()}}},Nh.prototype.computePoints=function(){var t=this.diagram;if(null===t)return!1;var e=this.fromNode,n=null;if(null===e?(t.jh||(t.Gl=new Yl,t.Gl.desiredSize=Et,t.Gl.strokeWidth=0,t.jh=new yh,t.jh.add(t.Gl),t.jh.zb()),this.defaultFromPoint&&(t.jh.position=t.jh.location=this.defaultFromPoint,t.jh.zb(),e=t.jh,n=t.Gl)):n=this.fromPort,null!==n&&!e.isVisible()){var i=e.findVisibleNode();null!==i&&i!==e?(e=i,n=i.port):e=i}if(this.ox=e,null===e||!e.location.v())return!1;for(;!(null===n||n.actualBounds.v()&&n.zf());)n=n.panel;if(null===n)return!1;var o=this.toNode,r=null;if(null===o?(t.kh||(t.Hl=new Yl,t.Hl.desiredSize=Et,t.Hl.strokeWidth=0,t.kh=new yh,t.kh.add(t.Hl),t.kh.zb()),this.defaultToPoint&&(t.kh.position=t.kh.location=this.defaultToPoint,t.kh.zb(),o=t.kh,r=t.Hl)):r=this.toPort,null===r||o.isVisible()||(null!==(t=o.findVisibleNode())&&t!==o?(o=t,r=t.port):o=t),this.px=o,null===o||!o.location.v())return!1;for(;!(null===r||r.actualBounds.v()&&r.zf());)r=r.panel;if(null===r)return!1;var a=this.pointsCount;i=this.computeSpot(!0,n),t=this.computeSpot(!1,r);var s=Wh(i),l=Wh(t),u=n===r&&null!==n,h=this.isOrthogonal,c=this.curve===ac;this.Qf=!(!u||h)&&(c=!0);var d=this.computeAdjusting()===rc||u;if(!h&&!u&&s&&l){if(s=!1,!d&&3<=a&&(d=this.getLinkPoint(e,n,i,!0,!1,o,r),l=this.getLinkPoint(o,r,t,!1,!1,e,n),s=this.adjustPoints(0,d,a-1,l))&&(d=this.getLinkPoint(e,n,i,!0,!1,o,r),l=this.getLinkPoint(o,r,t,!1,!1,e,n),this.adjustPoints(0,d,a-1,l)),!s)if(this.ak(),c){a=this.getLinkPoint(e,n,i,!0,!1,o,r),s=(d=this.getLinkPoint(o,r,t,!1,!1,e,n)).x-a.x,l=d.y-a.y,u=this.computeCurviness(),c=h=0;var f=a.x+s/3,p=a.y+l/3,g=f,m=p;Ue.A(l,0)?m=0<s?m-u:m+u:(h=-s/l,c=Math.sqrt(u*u/(h*h+1)),0>u&&(c=-c),m=h*((g=(0>l?-1:1)*c+f)-f)+p);var v=f=a.x+2*s/3,y=p=a.y+2*l/3;Ue.A(l,0)?y=0<s?y-u:y+u:y=h*((v=(0>l?-1:1)*c+f)-f)+p,this.ak(),this.ze(a),this.rf(g,m),this.rf(v,y),this.ze(d),this.jd(0,this.getLinkPoint(e,n,i,!0,!1,o,r)),this.jd(3,this.getLinkPoint(o,r,t,!1,!1,e,n))}else i=this.getLinkPoint(e,n,i,!0,!1,o,r),t=this.getLinkPoint(o,r,t,!1,!1,e,n),this.hasCurviness()?(d=t.x-i.x,o=t.y-i.y,r=this.computeCurviness(),a=e=i.x+d/2,s=n=i.y+o/2,Ue.A(o,0)?s=0<d?s-r:s+r:(d=-d/o,a=Math.sqrt(r*r/(d*d+1)),0>r&&(a=-a),s=d*((a=(0>o?-1:1)*a+e)-e)+n),this.ze(i),this.rf(a,s)):this.ze(i),this.ze(t)}else{c=this.isAvoiding,d&&(h&&c||u)&&this.ak();var _=u?this.computeCurviness():0;c=this.getLinkPoint(e,n,i,!0,h,o,r),f=g=p=0,(h||!s||u)&&(m=this.computeEndSegmentLength(e,n,i,!0),f=this.getLinkDirection(e,n,c,i,!0,h,o,r),u&&(s||i.w(t)||!h&&1===i.x+t.x&&1===i.y+t.y)&&(f-=h?90:30,0>_&&(f-=180)),0>f?f+=360:360<=f&&(f-=360),u&&(m+=Math.abs(_)*(h?1:2)),0===f?p=m:90===f?g=m:180===f?p=-m:270===f?g=-m:(p=m*Math.cos(f*Math.PI/180),g=m*Math.sin(f*Math.PI/180)),i.kc()&&u&&(m=n.ga(le,ft.alloc()),v=ft.allocAt(m.x+1e3*p,m.y+1e3*g),this.getLinkPointFromPoint(e,n,m,v,!0,c),ft.free(m),ft.free(v))),m=this.getLinkPoint(o,r,t,!1,h,e,n);var b=y=v=0;if(h||!l||u){var x=this.computeEndSegmentLength(o,r,t,!1);b=this.getLinkDirection(o,r,m,t,!1,h,e,n),u&&(l||i.w(t)||!h&&1===i.x+t.x&&1===i.y+t.y)&&(b+=h?0:30,0>_&&(b+=180)),0>b?b+=360:360<=b&&(b-=360),u&&(x+=Math.abs(_)*(h?1:2)),0===b?v=x:90===b?y=x:180===b?v=-x:270===b?y=-x:(v=x*Math.cos(b*Math.PI/180),y=x*Math.sin(b*Math.PI/180)),t.kc()&&u&&(t=r.ga(le,ft.alloc()),i=ft.allocAt(t.x+1e3*v,t.y+1e3*y),this.getLinkPointFromPoint(o,r,t,i,!1,m),ft.free(t),ft.free(i))}t=c,(h||!s||u)&&(t=new ft(c.x+p,c.y+g)),i=m,(h||!l||u)&&(i=new ft(m.x+v,m.y+y)),!d&&!h&&s&&3<a&&this.adjustPoints(0,c,a-2,i)?this.jd(a-1,m):!d&&!h&&l&&3<a&&this.adjustPoints(1,t,a-1,m)?this.jd(0,c):!d&&(h?6<=a:4<a)&&this.adjustPoints(1,t,a-2,i)?(this.jd(0,c),this.jd(a-1,m)):(this.ak(),this.ze(c),(h||!s||u)&&this.ze(t),h&&this.addOrthoPoints(t,f,i,b,e,o),(h||!l||u)&&this.ze(i),this.ze(m))}return!0},Nh.prototype.getLinkPointFromPoint=function(t,e,n,i,o,r){if(void 0===r&&(r=new ft),null===t||null===e)return r.assign(n),r;if(t.isVisible()||null!==(o=t.findVisibleNode())&&o!==t&&(e=o.port),t=null,null===(o=e.panel)||o.be()||(o=o.panel),null===o){o=i.x,i=i.y;var a=n.x;n=n.y}else{o=1/((t=o.wd).m11*t.m22-t.m12*t.m21),a=t.m22*o;var s=-t.m12*o,l=-t.m21*o,u=t.m11*o,h=o*(t.m21*t.dy-t.m22*t.dx),c=o*(t.m12*t.dx-t.m11*t.dy);o=i.x*a+i.y*l+h,i=i.x*s+i.y*u+c,a=n.x*a+n.y*l+h,n=n.x*s+n.y*u+c}return e.jk(o,i,a,n,r),null!==t&&r.transform(t),r},Nh.prototype.getLinkPoint=function(t,e,n,i,o,r,a,s){if(void 0===s&&(s=new ft),n.hb()&&!Wh(n))return e.ga(n,s),s;if(n.gd()){var l=Hh(this,e);if(null!==l){if(s.assign(l.zq),o&&this.routing===oc){var u=Hh(this,a);if(null!==u&&l.fm<u.fm){l=ft.alloc(),u=ft.alloc();var h=new Lt(e.ga(oe,l),e.ga(de,u)),c=this.computeSpot(!i,a);t=this.getLinkPoint(r,a,c,!i,o,t,e,u),(n.xf(pe)||n.xf(ge))&&t.y>=h.y&&t.y<=h.y+h.height?s.y=t.y:(n.xf(fe)||n.xf(me))&&t.x>=h.x&&t.x<=h.x+h.width&&(s.x=t.x),ft.free(l),ft.free(u)}}return s}}return n=e.ga(.5===n.x&&.5===n.y?n:le,ft.alloc()),this.pointsCount>(o?6:2)?(a=i?this.i(1):this.i(this.pointsCount-2),o&&(a=zh(n,a.copy()))):(l=this.computeSpot(!i,a),r=ft.alloc(),a=a.ga(.5===l.x&&.5===l.y?l:le,r),o&&(a=zh(n,a)),ft.free(r)),this.getLinkPointFromPoint(t,e,n,a,i,s),ft.free(n),s},Nh.prototype.getLinkDirection=function(t,e,n,i,o,r,a,s){t:if(i.hb())var l=i.x>i.y?i.x>1-i.y?0:i.x<1-i.y?270:315:i.x<i.y?i.x>1-i.y?90:i.x<1-i.y?180:135:.5>i.x?225:.5<i.x?45:0;else{if(i.gd()&&null!==(l=Hh(this,e)))switch(l.zc){case 1:l=270;break t;case 2:l=180;break t;default:case 4:l=0;break t;case 8:l=90;break t}l=e.ga(le,ft.alloc()),this.pointsCount>(r?6:2)?(s=o?this.i(1):this.i(this.pointsCount-2),s=r?zh(l,s.copy()):n):(n=ft.alloc(),s=s.ga(le,n),ft.free(n)),n=Math.abs(s.x-l.x)>Math.abs(s.y-l.y)?s.x>=l.x?0:180:s.y>=l.y?90:270,ft.free(l),l=n}return i.kc()&&a.Xd(t)&&(360<=(l+=180)&&(l-=360)),Wh(i)||0===(t=e.Zi())||(45<=t&&135>t?l+=90:135<=t&&225>t?l+=180:225<=t&&315>t&&(l+=270),360<=l&&(l-=360)),l},Nh.prototype.computeEndSegmentLength=function(t,e,n,i){return null!==e&&n.gd()&&null!==(t=Hh(this,e))?t.tv:(t=i?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=i?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},Nh.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=le:((e=this.fromSpot).Mb()&&(e=t.fromSpot),t=e===Te?ie:e):null===(t=e||this.toPort)?t=le:((e=this.toSpot).Mb()&&(e=t.toSpot),t=e===Te?ie:e),t},Nh.prototype.computeOtherPoint=function(t,e){return this.computeAdjusting()!==rc&&4<this.pointsCount?this.computeMidPoint(new ft):(t=e.ga(le),null!==(e=null!==(e=e.gp)?Nc(e,this):null)&&(t=e.zq),t)},Nh.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&(null!==(e=this.toPort)&&(t=e.toShortLength)),isNaN(t)?0:t},Nh.prototype.uf=function(t,e,n,i,o,r){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===n&&(n=null);var a=r;if(void 0===r&&(a=Ke.alloc()).reset(),a.multiply(this.transform),this.Dh(t,a))return Ml(this,e,n,o),void 0===r&&Ke.free(a),!0;if(this.Hc(t,a)){var s=!1;if(!this.isAtomic)for(var l=this.V.j,u=l.length;u--;){var h=l[u];if(h.visible||h===this.locationObject){var c=h.actualBounds,d=this.naturalBounds;if(!(c.x>d.width||c.y>d.height||0>c.x+c.width||0>c.y+c.height)){if((c=Ke.alloc()).set(a),h instanceof wl)s=h.uf(t,e,n,i,o,c);else if(this.path===h){if(h instanceof Yl)if(s=t,d=i,!1===h.pickable)s=!1;else if(c.multiply(h.transform),d)t:{var f=s,p=c;if(h.Dh(f,p))s=!0;else{if(void 0===p&&(p=h.transform,f.Be(h.actualBounds))){s=!0;break t}s=f.left,d=f.right;var g=f.top;f=f.bottom;var m=ft.alloc(),v=ft.alloc(),y=ft.alloc(),_=Ke.alloc();_.set(p),_.Qv(h.transform),_.xt(),v.x=d,v.y=g,v.transform(_),m.x=s,m.y=g,m.transform(_),p=!1,tu(h,m,v,y)?p=!0:(m.x=d,m.y=f,m.transform(_),tu(h,m,v,y)?p=!0:(v.x=s,v.y=f,v.transform(_),tu(h,m,v,y)?p=!0:(m.x=s,m.y=g,m.transform(_),tu(h,m,v,y)&&(p=!0)))),Ke.free(_),ft.free(m),ft.free(v),ft.free(y),s=p}}else s=h.Dh(s,c)}else s=Ka(h,t,i,c);s&&(d=h,null!==e&&(d=e(h)),d&&(null===n||n(d))&&o.add(d)),Ke.free(c)}}}return void 0===r&&Ke.free(a),s||null!==this.background||null!==this.areaBackground}return void 0===r&&Ke.free(a),!1},Nh.prototype.computeCurve=function(){if(null===this.Qf){var t=this.fromPort,e=this.isOrthogonal;this.Qf=null!==t&&t===this.toPort&&!e}return this.Qf?ac:this.curve},Nh.prototype.computeCorner=function(){if(this.curve===ac)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},Nh.prototype.findMidLabel=function(){for(var t=this.path,e=this.V.j,n=e.length,i=0;i<n;i++){var o=e[i];if(o!==t&&!o.isPanelMain&&(-1/0===o.segmentIndex||isNaN(o.segmentIndex)))return o}for(t=this.labelNodes;t.next();)if(-1/0===(e=t.value).segmentIndex||isNaN(e.segmentIndex))return e;return null},Nh.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=Math.max(14,this.computeThickness()),e=this.fromPort,n=this.toPort;if(null!==e&&null!==n){var i=this.findMidLabel();if(null!==i){var o=i.naturalBounds,r=i.margin,a=isNaN(o.width)?30:o.width*i.scale+r.left+r.right;o=isNaN(o.height)?14:o.height*i.scale+r.top+r.bottom,(i=i.segmentOrientation)===dc||i===mc||i===gc?t=Math.max(t,o):i===pc||i===yc||i===fc||i===vc?t=Math.max(t,a):(e=e.ga(le).Sa(n.ga(le))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*a)+Math.abs(Math.cos(e)*o)+1)),this.curve===ac&&(t*=1.333)}}return t},Nh.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var n=t[e];n.computeAdjusting()===rc&&n.Ta()}},Nh.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=16;var e=this.Hf;if(null!==e){for(var n=D(),i=0,o=e.links,r=0;r<o.length;r++){var a=o[r].computeSpacing();n.push(a),i+=a}for(i=-i/2,r=0;r<o.length;r++){if(o[r]===this){t=i+n[r]/2;break}i+=n[r]}e.Ft===this.fromNode&&(t=-t),M(n)}}return t},Nh.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},Nh.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Hf},Nh.prototype.adjustPoints=function(t,e,n,i){var o=this.computeAdjusting();if(this.isOrthogonal){if(o===hc)return!1;o===cc&&(o=uc)}switch(o){case hc:var r=this.i(t),a=this.i(n);if(!r.Ma(e)||!a.Ma(i)){o=r.x,r=r.y;var s=a.x-o,l=a.y-r,u=Math.sqrt(s*s+l*l);if(!Ue.$(u,0)){if(Ue.$(s,0))var h=0>l?-Math.PI/2:Math.PI/2;else h=Math.atan(l/Math.abs(s)),0>s&&(h=Math.PI-h);a=e.x;var c=e.y;s=i.x-a;var d=i.y-c;for(l=Math.sqrt(s*s+d*d),Ue.$(s,0)?d=0>d?-Math.PI/2:Math.PI/2:(d=Math.atan(d/Math.abs(s)),0>s&&(d=Math.PI-d)),u=l/u,h=d-h,this.jd(t,e),t+=1;t<n;t++)s=(e=this.i(t)).x-o,l=e.y-r,e=Math.sqrt(s*s+l*l),Ue.$(e,0)||(Ue.$(s,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(s)),0>s&&(l=Math.PI-l)),s=l+h,e*=u,this.K(t,a+e*Math.cos(s),c+e*Math.sin(s)));this.jd(n,i)}}return!0;case cc:if(r=this.i(t),c=this.i(n),!r.Ma(e)||!c.Ma(i)){o=r.x,r=r.y,u=((a=c.x)-o)*(a-o)+((c=c.y)-r)*(c-r),s=e.x,h=e.y,l=i.x,d=i.y;var f=1;if(0!==l-s){var p=(d-h)/(l-s);f=Math.sqrt(1+1/(p*p))}else p=9e9;for(this.jd(t,e),t+=1;t<n;t++){var g=(e=this.i(t)).x,m=e.y,v=.5;0!==u&&(v=((o-g)*(o-a)+(r-m)*(r-c))/u);var y=o+v*(a-o),_=r+v*(c-r);e=Math.sqrt((g-y)*(g-y)+(m-_)*(m-_)),m<p*(g-y)+_&&(e=-e),0<p&&(e=-e),g=s+v*(l-s),v=h+v*(d-h),0!==p?(e=g+e/f,this.K(t,e,v-(e-g)/p)):this.K(t,g,v+e)}this.jd(n,i)}return!0;case uc:return this.isOrthogonal&&(o=this.i(t),r=this.i(t+1),a=this.i(t+2),c=s=r.x,u=h=r.y,Ue.A(o.y,r.y)?Ue.A(r.x,a.x)?h=e.y:Ue.A(r.y,a.y)&&(s=e.x):Ue.A(o.x,r.x)&&(Ue.A(r.y,a.y)?s=e.x:Ue.A(r.x,a.x)&&(h=e.y)),this.K(t+1,s,h),o=this.i(n),r=this.i(n-1),a=this.i(n-2),l=s=r.x,d=h=r.y,Ue.A(o.y,r.y)?Ue.A(r.x,a.x)?h=i.y:Ue.A(r.y,a.y)&&(s=i.x):Ue.A(o.x,r.x)&&(Ue.A(r.y,a.y)?s=i.x:Ue.A(r.x,a.x)&&(h=i.y)),this.K(n-1,s,h),Gh(this))?(this.K(t+1,c,u),this.K(n-1,l,d),n=!1):(this.jd(t,e),this.jd(n,i),n=!0),n;default:return!1}},Nh.prototype.addOrthoPoints=function(t,e,n,i,o,r){e=-45<=e&&45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,i=-45<=i&&45>i?0:45<=i&&135>i?90:135<=i&&225>i?180:270;var a=o.actualBounds.copy(),s=r.actualBounds.copy();if(a.v()&&s.v()){if(a.Vc(8,8),s.Vc(8,8),a.Ie(t),s.Ie(n),0===e)if(n.x>t.x||270===i&&n.y<t.y&&s.right>t.x||90===i&&n.y>t.y&&s.right>t.x){var l=new ft(n.x,t.y),u=new ft(n.x,(t.y+n.y)/2);180===i?(l.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1),u.x=l.x,u.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(l.x=t.x<s.left?this.computeMidOrthoPosition(t.x,t.y,s.left,n.y,!1):t.x<s.right&&(270===i&&t.y<s.top||90===i&&t.y>s.bottom)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):s.right,u.x=l.x,u.y=n.y):0===i&&t.x<s.left&&t.y>s.top&&t.y<s.bottom&&(l.x=t.x,l.y=t.y<n.y?Math.min(n.y,s.top):Math.max(n.y,s.bottom),u.y=l.y)}else l=new ft(t.x,n.y),u=new ft((t.x+n.x)/2,n.y),(180===i||90===i&&n.y<a.top||270===i&&n.y>a.bottom)&&(180===i&&(s.aa(t)||a.aa(n))?l.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):n.y<t.y&&(180===i||90===i)?l.y=this.computeMidOrthoPosition(t.x,a.top,n.x,Math.max(n.y,s.bottom),!0):n.y>t.y&&(180===i||270===i)&&(l.y=this.computeMidOrthoPosition(t.x,a.bottom,n.x,Math.min(n.y,s.top),!0)),u.x=n.x,u.y=l.y),l.y>a.top&&l.y<a.bottom&&(n.x>=a.left&&n.x<=t.x||t.x<=s.right&&t.x>=n.x?90!==i&&270!==i||(l=new ft(Math.max((t.x+n.x)/2,t.x),t.y),u=new ft(l.x,n.y)):(l.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,0===i?a.top:Math.min(a.top,s.top)):Math.max(n.y,0===i?a.bottom:Math.max(a.bottom,s.bottom)),u.x=n.x,u.y=l.y));else 180===e?n.x<t.x||270===i&&n.y<t.y&&s.left<t.x||90===i&&n.y>t.y&&s.left<t.x?(l=new ft(n.x,t.y),u=new ft(n.x,(t.y+n.y)/2),0===i?(l.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1),u.x=l.x,u.y=n.y):270===i&&n.y<t.y||90===i&&n.y>t.y?(l.x=t.x>s.right?this.computeMidOrthoPosition(t.x,t.y,s.right,n.y,!1):t.x>s.left&&(270===i&&t.y<s.top||90===i&&t.y>s.bottom)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):s.left,u.x=l.x,u.y=n.y):180===i&&t.x>s.right&&t.y>s.top&&t.y<s.bottom&&(l.x=t.x,l.y=t.y<n.y?Math.min(n.y,s.top):Math.max(n.y,s.bottom),u.y=l.y)):(l=new ft(t.x,n.y),u=new ft((t.x+n.x)/2,n.y),(0===i||90===i&&n.y<a.top||270===i&&n.y>a.bottom)&&(0===i&&(s.aa(t)||a.aa(n))?l.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):n.y<t.y&&(0===i||90===i)?l.y=this.computeMidOrthoPosition(t.x,a.top,n.x,Math.max(n.y,s.bottom),!0):n.y>t.y&&(0===i||270===i)&&(l.y=this.computeMidOrthoPosition(t.x,a.bottom,n.x,Math.min(n.y,s.top),!0)),u.x=n.x,u.y=l.y),l.y>a.top&&l.y<a.bottom&&(n.x<=a.right&&n.x>=t.x||t.x>=s.left&&t.x<=n.x?90!==i&&270!==i||(l=new ft(Math.min((t.x+n.x)/2,t.x),t.y),u=new ft(l.x,n.y)):(l.y=270===i||(0===i||180===i)&&n.y<t.y?Math.min(n.y,180===i?a.top:Math.min(a.top,s.top)):Math.max(n.y,180===i?a.bottom:Math.max(a.bottom,s.bottom)),u.x=n.x,u.y=l.y))):90===e?n.y>t.y||180===i&&n.x<t.x&&s.bottom>t.y||0===i&&n.x>t.x&&s.bottom>t.y?(l=new ft(t.x,n.y),u=new ft((t.x+n.x)/2,n.y),270===i?(l.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0),u.x=n.x,u.y=l.y):180===i&&n.x<t.x||0===i&&n.x>t.x?(l.y=t.y<s.top?this.computeMidOrthoPosition(t.x,t.y,n.x,s.top,!0):t.y<s.bottom&&(180===i&&t.x<s.left||0===i&&t.x>s.right)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):s.bottom,u.x=n.x,u.y=l.y):90===i&&t.y<s.top&&t.x>s.left&&t.x<s.right&&(l.x=t.x<n.x?Math.min(n.x,s.left):Math.max(n.x,s.right),l.y=t.y,u.x=l.x)):(l=new ft(n.x,t.y),u=new ft(n.x,(t.y+n.y)/2),(270===i||0===i&&n.x<a.left||180===i&&n.x>a.right)&&(270===i&&(s.aa(t)||a.aa(n))?l.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):n.x<t.x&&(270===i||0===i)?l.x=this.computeMidOrthoPosition(a.left,t.y,Math.max(n.x,s.right),n.y,!1):n.x>t.x&&(270===i||180===i)&&(l.x=this.computeMidOrthoPosition(a.right,t.y,Math.min(n.x,s.left),n.y,!1)),u.x=l.x,u.y=n.y),l.x>a.left&&l.x<a.right&&(n.y>=a.top&&n.y<=t.y||t.y<=s.bottom&&t.y>=n.y?0!==i&&180!==i||(l=new ft(t.x,Math.max((t.y+n.y)/2,t.y)),u=new ft(n.x,l.y)):(l.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,90===i?a.left:Math.min(a.left,s.left)):Math.max(n.x,90===i?a.right:Math.max(a.right,s.right)),u.x=l.x,u.y=n.y))):n.y<t.y||180===i&&n.x<t.x&&s.top<t.y||0===i&&n.x>t.x&&s.top<t.y?(l=new ft(t.x,n.y),u=new ft((t.x+n.x)/2,n.y),90===i?(l.y=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0),u.x=n.x,u.y=l.y):180===i&&n.x<t.x||0===i&&n.x>=t.x?(l.y=t.y>s.bottom?this.computeMidOrthoPosition(t.x,t.y,n.x,s.bottom,!0):t.y>s.top&&(180===i&&t.x<s.left||0===i&&t.x>s.right)?this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!0):s.top,u.x=n.x,u.y=l.y):270===i&&t.y>s.bottom&&t.x>s.left&&t.x<s.right&&(l.x=t.x<n.x?Math.min(n.x,s.left):Math.max(n.x,s.right),l.y=t.y,u.x=l.x)):(l=new ft(n.x,t.y),u=new ft(n.x,(t.y+n.y)/2),(90===i||0===i&&n.x<a.left||180===i&&n.x>a.right)&&(90===i&&(s.aa(t)||a.aa(n))?l.x=this.computeMidOrthoPosition(t.x,t.y,n.x,n.y,!1):n.x<t.x&&(90===i||0===i)?l.x=this.computeMidOrthoPosition(a.left,t.y,Math.max(n.x,s.right),n.y,!1):n.x>t.x&&(90===i||180===i)&&(l.x=this.computeMidOrthoPosition(a.right,t.y,Math.min(n.x,s.left),n.y,!1)),u.x=l.x,u.y=n.y),l.x>a.left&&l.x<a.right&&(n.y<=a.bottom&&n.y>=t.y||t.y>=s.top&&t.y<=n.y?0!==i&&180!==i||(l=new ft(t.x,Math.min((t.y+n.y)/2,t.y)),u=new ft(n.x,l.y)):(l.x=180===i||(90===i||270===i)&&n.x<t.x?Math.min(n.x,270===i?a.left:Math.min(a.left,s.left)):Math.max(n.x,270===i?a.right:Math.max(a.right,s.right)),u.x=l.x,u.y=n.y)));var h=l,c=u,d=n;if(this.isAvoiding){var f=this.diagram;if(null===f||!Lr(f)||a.aa(d)&&!r.Xd(o)||s.aa(t)&&!o.Xd(r)||o===r||this.layer.isTemporary)e=!1;else{var p=Vr(f,!0,this.containingGroup,null);if(17!==this.segmentIndex&&p.nk(Math.min(t.x,h.x),Math.min(t.y,h.y),Math.abs(t.x-h.x),Math.abs(t.y-h.y))&&p.nk(Math.min(h.x,c.x),Math.min(h.y,c.y),Math.abs(h.x-c.x),Math.abs(h.y-c.y))&&p.nk(Math.min(c.x,d.x),Math.min(c.y,d.y),Math.abs(c.x-d.x),Math.abs(c.y-d.y)))e=!1;else{o=t,r=d;var g=n=null;if(f.isVirtualized){(f=p.bounds.copy()).Vc(-p.em,-p.dm);var m=ft.alloc();wc(p,t.x,t.y)||(Ue.Uc(f.x,f.y,f.x+f.width,f.y+f.height,t.x,t.y,h.x,h.y,m)?(n=t=m.copy(),e=m.Sa(h)):Ue.Uc(f.x,f.y,f.x+f.width,f.y+f.height,h.x,h.y,c.x,c.y,m)?(n=t=m.copy(),e=m.Sa(c)):Ue.Uc(f.x,f.y,f.x+f.width,f.y+f.height,c.x,c.y,d.x,d.y,m)&&(n=t=m.copy(),e=m.Sa(d))),wc(p,d.x,d.y)||(Ue.Uc(f.x,f.y,f.x+f.width,f.y+f.height,d.x,d.y,c.x,c.y,m)?(g=d=m.copy(),i=c.Sa(m)):Ue.Uc(f.x,f.y,f.x+f.width,f.y+f.height,c.x,c.y,h.x,h.y,m)?(g=d=m.copy(),i=h.Sa(m)):Ue.Uc(f.x,f.y,f.x+f.width,f.y+f.height,h.x,h.y,t.x,t.y,m)&&(g=d=m.copy(),i=t.Sa(m))),ft.free(m)}a=a.copy().Ic(s),s=p.yA,a.Vc(p.em*s,p.dm*s),Dc(p,t,e,d,i,a),s=Cc(p,d.x,d.y),!p.abort&&s>=Pc&&(kc(p),s=p.bA,a.Vc(p.em*s,p.dm*s),Dc(p,t,e,d,i,a),s=Cc(p,d.x,d.y)),!p.abort&&s>=Pc&&p.FA&&(kc(p),Dc(p,t,e,d,i,p.bounds),s=Cc(p,d.x,d.y)),!p.abort&&s<Pc&&Cc(p,d.x,d.y)!==Mc?(!function t(e,n,i,o,r,a){var s=n.em,l=n.dm,u=Cc(n,i,o),h=i,c=o;for(0===r?h+=s:90===r?c+=l:180===r?h-=s:c-=l;u>Oc&&Cc(n,h,c)===u-1;)i=h,o=c,0===r?h+=s:90===r?c+=l:180===r?h-=s:c-=l,--u;a?u>Oc&&(180===r||0===r?i=Math.floor(i/s)*s+s/2:90!==r&&270!==r||(o=Math.floor(o/l)*l+l/2)):(i=Math.floor(i/s)*s+s/2,o=Math.floor(o/l)*l+l/2);u>Oc&&(a=r,h=i,c=o,0===r?(a=90,c+=l):90===r?(a=180,h-=s):180===r?(a=270,c-=l):270===r&&(a=0,h+=s),Cc(n,h,c)===u-1?t(e,n,h,c,a,!1):(h=i,c=o,0===r?(a=270,c-=l):90===r?(a=0,h+=s):180===r?(a=90,c+=l):270===r&&(a=180,h-=s),Cc(n,h,c)===u-1&&t(e,n,h,c,a,!1))),e.rf(i,o)}(this,p,d.x,d.y,i,!0),a=this.i(2),4>this.pointsCount?(0===e||180===e?(a.x=t.x,a.y=d.y):(a.x=d.x,a.y=t.y),this.K(2,a.x,a.y),this.m(3,a.x,a.y)):(d=this.i(3),0===e||180===e?Ue.A(a.x,d.x)?(a=0===e?Math.max(a.x,t.x):Math.min(a.x,t.x),this.K(2,a,t.y),this.K(3,a,d.y)):Ue.A(a.y,d.y)?(Math.abs(t.y-a.y)<=p.dm/2&&(this.K(2,a.x,t.y),this.K(3,d.x,t.y)),this.m(2,a.x,t.y)):this.K(2,t.x,a.y):90!==e&&270!==e||(Ue.A(a.y,d.y)?(a=90===e?Math.max(a.y,t.y):Math.min(a.y,t.y),this.K(2,t.x,a),this.K(3,d.x,a)):Ue.A(a.x,d.x)?(Math.abs(t.x-a.x)<=p.em/2&&(this.K(2,t.x,a.y),this.K(3,t.x,d.y)),this.m(2,t.x,a.y)):this.K(2,a.x,t.y))),null!==n&&(t=this.i(1),d=this.i(2),t.x!==d.x&&t.y!==d.y?0===e||180===e?this.m(2,t.x,d.y):this.m(2,d.x,t.y):0===e||180===e?this.m(2,o.x,n.y):this.m(2,n.x,o.y)),null!==g&&(0===i||180===i?this.rf(r.x,g.y):this.rf(g.x,r.y)),e=!0):e=!1}}}else e=!1;e||(this.ze(l),this.ze(u))}},Nh.prototype.computeMidOrthoPosition=function(t,e,n,i,o){var r=0;return this.hasCurviness()&&(r=this.computeCurviness()),o?(e+i)/2+r:(t+n)/2+r},Nh.prototype.kz=function(t){var e=t.x;t=t.y;for(var n=this.i(0),i=this.i(1),o=yt(e,t,n.x,n.y,i.x,i.y),r=0,a=1;a<this.pointsCount-1;a++){n=this.i(a+1);var s=yt(e,t,i.x,i.y,n.x,n.y);i=n,s<o&&(r=a,o=s)}return r},Nh.prototype.cc=function(){this.$n=!0},Nh.prototype.qk=function(t){if(!t){if(!1===this.ld)return;if(t=this.Ab(),!this.$n&&(null===t||null!==t.geometry))return}if(this.ka=this.makeGeometry(),null!==(t=this.path)){t.ka=this.ka;for(var e=this.V.j,n=e.length,i=0;i<n;i++){var o=e[i];o!==t&&o.isPanelMain&&o instanceof Yl&&(o.ka=this.ka)}}},Nh.prototype.makeGeometry=function(){var t=this.ka,e=this.pointsCount;if(2>e)return t.type=an,this.$n=!1,t;var n=!1,i=this.diagram;null!==i&&Xh(this)&&i.Pg.contains(this)&&(0!==this.Fl.width||0!==this.Fl.height)&&(n=!0);var o=this.i(0).copy(),r=o.copy();i=this.xb.j;var a=this.computeCurve();if(a===ac&&3<=e&&!Ue.$(this.smoothness,0))if(3===e){var s=this.i(1);i=Math.min(o.x,s.x);var l=Math.min(o.y,s.y);s=this.i(2),i=Math.min(i,s.x),l=Math.min(l,s.y)}else{if(this.isOrthogonal)for(l=0;l<e;l++)s=i[l],r.x=Math.min(s.x,r.x),r.y=Math.min(s.y,r.y);else for(i=3;i<e;i+=3)i+3>=e&&(i=e-1),l=this.i(i),r.x=Math.min(l.x,r.x),r.y=Math.min(l.y,r.y);i=r.x,l=r.y}else{for(l=0;l<e;l++)s=i[l],r.x=Math.min(s.x,r.x),r.y=Math.min(s.y,r.y);i=r.x,l=r.y}if(i-=this.av.x,l-=this.av.y,o.x-=i,o.y-=l,2!==e||Xh(this)){if(t.type=un,s=qu(t),0!==this.computeShortLength(!0)&&(o=$h(this,o,!0,r)),Wu(s,o.x,o.y,!1),a===ac&&3<=e&&!Ue.$(this.smoothness,0))if(3===e)e=(n=this.i(1)).x-i,n=n.y-l,(o=this.i(2).copy()).x-=i,o.y-=l,0!==this.computeShortLength(!1)&&(o=$h(this,o,!1,r)),Ku(s,e,n,e,n,o.x,o.y);else if(this.isOrthogonal){r=new ft(i,l),o=this.i(1).copy(),a=new ft(i,l),e=new ft(i,l),n=this.i(0);for(var u,h=this.smoothness/3,c=1;c<this.pointsCount-1;c++){var d=n,f=u=this.i(c),p=this.i(Uh(this,u,c,!1));if((!Ue.$(d.x,f.x)||!Ue.$(f.x,p.x))&&(!Ue.$(d.y,f.y)||!Ue.$(f.y,p.y))){var g=h;isNaN(g)&&(g=this.smoothness/3);var m=d.x;d=d.y;var v=f.x;f=f.y;var y=p.x;p=p.y;var _=g*Kh(m,d,v,f);g*=Kh(v,f,y,p),Ue.$(d,f)&&Ue.$(v,y)&&(v>m?p>f?(a.x=v-_,a.y=f-_,e.x=v+g,e.y=f+g):(a.x=v-_,a.y=f+_,e.x=v+g,e.y=f-g):p>f?(a.x=v+_,a.y=f-_,e.x=v-g,e.y=f+g):(a.x=v+_,a.y=f+_,e.x=v-g,e.y=f-g)),Ue.$(m,v)&&Ue.$(f,p)&&(f>d?(y>v?(a.x=v-_,a.y=f-_,e.x=v+g):(a.x=v+_,a.y=f-_,e.x=v-g),e.y=f+g):(y>v?(a.x=v-_,a.y=f+_,e.x=v+g):(a.x=v+_,a.y=f+_,e.x=v-g),e.y=f-g)),(Ue.$(m,v)&&Ue.$(v,y)||Ue.$(d,f)&&Ue.$(f,p))&&(m=.5*(m+y),d=.5*(d+p),a.x=m,a.y=d,e.x=m,e.y=d),(1===c||2===c&&Ue.$(n.x,this.i(0).x)&&Ue.$(n.y,this.i(0).y))&&(o.x=.5*(n.x+u.x),o.y=.5*(n.y+u.y)),Ku(s,o.x-i,o.y-l,a.x-i,a.y-l,u.x-i,u.y-l),r.set(a),o.set(e),n=u}}r=n.x,n=n.y,o=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(o=$h(this,o.copy(),!1,xt)),r=.5*(r+o.x),n=.5*(n+o.y),Ku(s,e.x-i,e.y-l,r-i,n-l,o.x-i,o.y-l)}else for(n=3;n<e;n+=3)r=this.i(n-2),n+3>=e&&(n=e-1),o=this.i(n-1),a=this.i(n),n===e-1&&0!==this.computeShortLength(!1)&&(a=$h(this,a.copy(),!1,xt)),Ku(s,r.x-i,r.y-l,o.x-i,o.y-l,a.x-i,a.y-l);else{for((r=ft.alloc()).assign(this.i(0)),(o=ft.alloc()).assign(r),a=this.computeCorner(),c=1,u=0;c<e;){if(c=Uh(this,r,c,1<c),h=this.i(c),c>=e-1){if(r.w(h)){if(0===u)for(c=1;c<e;)o.assign(r),qh(this,s,-i,-l,r,h=this.i(c++),n),r.assign(h)}else 0!==this.computeShortLength(!1)&&(h=$h(this,h.copy(),!1,xt)),qh(this,s,-i,-l,r,h,n);break}if(u=Uh(this,h,c+1,c<e-3),c=-i,m=-l,d=h,g=this.i(u),v=n,Ue.A(r.y,d.y)&&Ue.A(d.x,g.x))if(f=Math.min(a,Math.abs(d.x-o.x)/2),f=y=Math.min(f,Math.abs(g.y-d.y)/2),Ue.A(f,0))qh(this,s,c,m,r,d,v),r.assign(d);else{var b=p=d.x,x=_=d.y;p=d.x>r.x?d.x-f:d.x+f,x=g.y>d.y?d.y+y:d.y-y,qh(this,s,c,m,r,new ft(p,_),v),$u(s,d.x+c,d.y+m,b+c,x+m),r.h(b,x)}else Ue.A(r.x,d.x)&&Ue.A(d.y,g.y)?(f=Math.min(a,Math.abs(d.y-o.y)/2),f=y=Math.min(f,Math.abs(g.x-d.x)/2),Ue.A(y,0)?(qh(this,s,c,m,r,d,v),r.assign(d)):(b=p=d.x,x=_=d.y,_=d.y>r.y?d.y-f:d.y+f,b=g.x>d.x?d.x+y:d.x-y,qh(this,s,c,m,r,new ft(p,_),v),$u(s,d.x+c,d.y+m,b+c,x+m),r.h(b,x))):(qh(this,s,c,m,r,d,v),r.assign(d));o.assign(h),c=u}ft.free(r)}Yu=s}else(s=this.i(1).copy()).x-=i,s.y-=l,0!==this.computeShortLength(!0)&&(o=$h(this,o,!0,r)),0!==this.computeShortLength(!1)&&(s=$h(this,s,!1,r)),t.type=an,t.startX=o.x,t.startY=o.y,t.endX=s.x,t.endY=s.y;return this.$n=!1,t},Nh.prototype.wq=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var n=e.diagram;if(null!==n&&!n.animationManager.isTicking){var i=!1;for(n=n.layers;n.next();){var o=n.value;if(o.visible)if(o===e){i=!0;for(var r=!1,a=(o=o.Ca.j).length,s=0;s<a;s++){var l=o[s];l instanceof Nh&&(l===this?r=!0:r&&Jh(this,l,t))}}else if(i)for(o=(r=o.Ca.j).length,a=0;a<o;a++)(s=r[a])instanceof Nh&&Jh(this,s,t)}}}},Nh.prototype.usesSamePort=function(t){var e=this.pointsCount,n=t.pointsCount;if(0<e&&0<n){var i=this.i(0),o=t.i(0);if(i.Ma(o))return!0;if(e=this.i(e-1),t=t.i(n-1),e.Ma(t)||i.Ma(t)||e.Ma(o))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},Nh.prototype.isVisible=function(){if(!Zu.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,n=this.diagram;if(null!==n&&(e=n.isTreePathToChildren),null!==(n=this.fromNode)){if(this.isTreeLink&&e&&!n.isTreeExpanded)return!1;if(n===t)return!0;for(var i=n;null!==i;){if(i.labeledLink===this)return!0;i=i.containingGroup}if(null===(n=n.findVisibleNode())||n===t)return!1}if(null!==(n=this.toNode)){if(this.isTreeLink&&!e&&!n.isTreeExpanded)return!1;if(n===t)return!0;for(e=n;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=n.findVisibleNode())||e===t)return!1}return!0},Nh.prototype.Ob=function(t){if(Zu.prototype.Ob.call(this,t),null!==this.Hf&&this.Hf.om(),null!==this.bd)for(var e=this.bd.iterator;e.next();)e.value.Ob(t)},Nh.prototype.computeAdjusting=function(){return null!==this.diagram&&this.diagram.animationManager.isAnimating?uc:this.Fk},Nh.prototype.Hh=function(){return!0},d.Object.defineProperties(Nh.prototype,{fromNode:{get:function(){return this.Re},set:function(t){var e=this.Re;if(e!==t){var n=this.fromPort;null!==e&&(this.mf!==e&&Sh(e,this,n),tc(this),this.C(2)),this.Re=t,null!==t&&this.Ob(t.isVisible()),this.Qf=null,this.Ta();var i=this.diagram;null!==i&&i.Z&&i.partManager.setFromNodeForLink(this,t,e);var o=this.fromPort,r=this.fromPortChanged;if(null!==r){var a=!0;null!==i&&(a=i.Z,i.Z=!0),r(this,n,o),null!==i&&(i.Z=a)}null!==t&&(this.mf!==t&&Ch(t,this,o),Qh(this),this.C(1)),this.g("fromNode",e,t),Fh(this)}}},fromPortId:{get:function(){return this.Se},set:function(t){var e=this.Se;if(e!==t){var n=this.fromPort;null!==n&&wh(this.fromNode,n),tc(this),this.Se=t;var i=this.fromPort;null!==i&&wh(this.fromNode,i);var o=this.diagram;if(null!==o){var r=this.data,a=o.model;null!==r&&a.dj()&&a.ny(r,t)}n!==i&&(this.Qf=null,this.Ta(),null!==(r=this.fromPortChanged)&&(a=!0,null!==o&&(a=o.Z,o.Z=!0),r(this,n,i),null!==o&&(o.Z=a))),Qh(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.Re;return null===t?null:t.pt(this.Se)}},fromPortChanged:{get:function(){return this.On},set:function(t){var e=this.On;e!==t&&(this.On=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.mf},set:function(t){var e=this.mf;if(e!==t){var n=this.toPort;null!==e&&(this.Re!==e&&Sh(e,this,n),tc(this),this.C(2)),this.mf=t,null!==t&&this.Ob(t.isVisible()),this.Qf=null,this.Ta();var i=this.diagram;null!==i&&i.Z&&i.partManager.setToNodeForLink(this,t,e);var o=this.toPort,r=this.toPortChanged;if(null!==r){var a=!0;null!==i&&(a=i.Z,i.Z=!0),r(this,n,o),null!==i&&(i.Z=a)}null!==t&&(this.Re!==t&&Ch(t,this,o),Qh(this),this.C(1)),this.g("toNode",e,t),Fh(this)}}},toPortId:{get:function(){return this.nf},set:function(t){var e=this.nf;if(e!==t){var n=this.toPort;null!==n&&wh(this.toNode,n),tc(this),this.nf=t;var i=this.toPort;null!==i&&wh(this.toNode,i);var o=this.diagram;if(null!==o){var r=this.data,a=o.model;null!==r&&a.dj()&&a.sy(r,t)}n!==i&&(this.Qf=null,this.Ta(),null!==(r=this.toPortChanged)&&(a=!0,null!==o&&(a=o.Z,o.Z=!0),r(this,n,i),null!==o&&(o.Z=a))),Qh(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.mf;return null===t?null:t.pt(this.nf)}},toPortChanged:{get:function(){return this.Xp},set:function(t){var e=this.Xp;e!==t&&(this.Xp=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.Vg:Te},set:function(t){this.Fc();var e=this.O.Vg;e.w(t)||(t=t.G(),this.O.Vg=t,this.g("fromSpot",e,t),(e.gd()||t.gd())&&(null!==(t=this.fromNode)&&wh(t,this.fromPort)),this.Ta())}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.Tg:NaN},set:function(t){this.Fc();var e=this.O.Tg;e!==t&&(0>t&&x(t,">= 0",Nh,"fromEndSegmentLength"),this.O.Tg=t,this.g("fromEndSegmentLength",e,t),this.Ta())}},fromShortLength:{get:function(){return null!==this.O?this.O.Ug:NaN},set:function(t){this.Fc();var e=this.O.Ug;e!==t&&(this.O.Ug=t,this.g("fromShortLength",e,t),this.cc())}},toSpot:{get:function(){return null!==this.O?this.O.vh:Te},set:function(t){this.Fc();var e=this.O.vh;e.w(t)||(t=t.G(),this.O.vh=t,this.g("toSpot",e,t),(e.gd()||t.gd())&&(null!==(t=this.toNode)&&wh(t,this.toPort)),this.Ta())}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.th:NaN},set:function(t){this.Fc();var e=this.O.th;e!==t&&(0>t&&x(t,">= 0",Nh,"toEndSegmentLength"),this.O.th=t,this.g("toEndSegmentLength",e,t),this.Ta())}},toShortLength:{get:function(){return null!==this.O?this.O.uh:NaN},set:function(t){this.Fc();var e=this.O.uh;e!==t&&(this.O.uh=t,this.g("toShortLength",e,t),this.cc())}},isLabeledLink:{get:function(){return null!==this.bd&&0<this.bd.count}},labelNodes:{get:function(){return null===this.bd?X:this.bd.iterator}},relinkableFrom:{get:function(){return 0!==(1&this.Pa)},set:function(t){var e=0!==(1&this.Pa);e!==t&&(this.Pa^=1,this.g("relinkableFrom",e,t),this.Lb())}},relinkableTo:{get:function(){return 0!==(2&this.Pa)},set:function(t){var e=0!==(2&this.Pa);e!==t&&(this.Pa^=2,this.g("relinkableTo",e,t),this.Lb())}},resegmentable:{get:function(){return 0!==(4&this.Pa)},set:function(t){var e=0!==(4&this.Pa);e!==t&&(this.Pa^=4,this.g("resegmentable",e,t),this.Lb())}},isTreeLink:{get:function(){return 0!==(8&this.Pa)},set:function(t){var e=0!==(8&this.Pa);e!==t&&(this.Pa^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&kh(this.fromNode),null!==this.toNode&&kh(this.toNode))}},path:{get:function(){var t=this.Ab();return t instanceof Yl?t:null}},routeBounds:{get:function(){this.kj();var t=this.Fl,e=1/0,n=1/0,i=this.pointsCount;if(0===i)t.h(NaN,NaN,0,0);else{if(1===i)i=this.i(0),e=Math.min(i.x,e),n=Math.min(i.y,n),t.h(i.x,i.y,0,0);else if(2===i){i=this.i(0);var o=this.i(1);e=Math.min(i.x,o.x),n=Math.min(i.y,o.y),t.h(i.x,i.y,0,0),t.Ie(o)}else if(this.computeCurve()===ac&&3<=i&&!this.isOrthogonal)if(e=(o=this.i(0)).x,n=o.y,t.h(e,n,0,0),3===i){i=this.i(1),e=Math.min(i.x,e),n=Math.min(i.y,n);var r=this.i(2);e=Math.min(r.x,e),n=Math.min(r.y,n),Ue.cm(o.x,o.y,i.x,i.y,i.x,i.y,r.x,r.y,.5,t)}else for(r=3;r<i;r+=3){var a=this.i(r-2);r+3>=i&&(r=i-1);var s=this.i(r-1),l=this.i(r);Ue.cm(o.x,o.y,a.x,a.y,s.x,s.y,l.x,l.y,.5,t),e=Math.min(l.x,e),n=Math.min(l.y,n),o=l}else for(o=this.i(0),r=this.i(1),e=Math.min(o.x,r.x),n=Math.min(o.y,r.y),t.h(o.x,o.y,0,0),t.Ie(r),o=2;o<i;o++)r=this.i(o),e=Math.min(r.x,e),n=Math.min(r.y,n),t.Ie(r);this.av.h(e-t.x,n-t.y)}return t}},midPoint:{get:function(){return this.kj(),this.computeMidPoint(new ft)}},midAngle:{get:function(){return this.kj(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.Jr){this.ld||jh(this);for(var t=this.Jr=[],e=this.pointsCount,n=0;n<e-1;n++){var i=this.i(n),o=this.i(n+1);Ue.$(i.x,o.x)?0>(i=o.y-i.y)&&(i=-i):Ue.$(i.y,o.y)?0>(i=o.x-i.x)&&(i=-i):i=Math.sqrt(i.Ce(o)),t.push(i)}}return this.Jr}},flattenedTotalLength:{get:function(){var t=this.vu;if(isNaN(t)){for(var e=this.flattenedLengths,n=e.length,i=t=0;i<n;i++)t+=e[i];this.vu=t}return t}},points:{get:function(){return this.xb},set:function(t){var e=this.xb;if(e!==t){var n=null;if(Array.isArray(t)){var i=0===t.length%2;if(i)for(var o=0;o<t.length;o++)if("number"!==typeof t[o]||isNaN(t[o])){i=!1;break}if(i)for(n=new tt,i=0;i<t.length/2;i++)o=new ft(t[2*i],t[2*i+1]).freeze(),n.add(o);else{for(i=!0,o=0;o<t.length;o++){var r=t[o];if(!S(r)||"number"!==typeof r.x||isNaN(r.x)||"number"!==typeof r.y||isNaN(r.y)){i=!1;break}}if(i)for(n=new tt,i=0;i<t.length;i++)o=t[i],n.add(new ft(o.x,o.y).freeze())}}else if(t instanceof tt)for(n=t.copy(),t=n.iterator;t.next();)t.value.freeze();else _("Link.points value is not an instance of List or Array: "+t);n.freeze(),this.xb=n,this.cc(),this.o(),jh(this),null!==(t=this.diagram)&&(t.mk||t.undoManager.isUndoingRedoing||t.Ct.add(this),t.animationManager.qc&&(this.lh=n)),this.g("points",e,n)}}},pointsCount:{get:function(){return this.xb.count}},ld:{get:function(){return 0!==(16&this.Pa)},set:function(t){0!==(16&this.Pa)!==t&&(this.Pa^=16)}},suspendsRouting:{get:function(){return 0!==(32&this.Pa)},set:function(t){0!==(32&this.Pa)!==t&&(this.Pa^=32)}},ov:{get:function(){return 0!==(64&this.Pa)},set:function(t){0!==(64&this.Pa)!==t&&(this.Pa^=64)}},defaultFromPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},defaultToPoint:{get:function(){return this.I},set:function(t){this.I=t.copy()}},isOrthogonal:{get:function(){return 2===(2&this.Oj.value)}},isAvoiding:{get:function(){return 4===(4&this.Oj.value)}},geometry:{get:function(){return this.$n&&(this.kj(),this.ka=this.makeGeometry()),this.ka}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!Wh(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!Wh(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.Fk},set:function(t){var e=this.Fk;e!==t&&(this.Fk=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.qn},set:function(t){var e=this.qn;e!==t&&(this.qn=t,this.cc(),this.g("corner",e,t))}},curve:{get:function(){return this.sn},set:function(t){var e=this.sn;e!==t&&(this.sn=t,this.Ta(),this.cc(),Zh(this,e===sc||e===lc||t===sc||t===lc),this.g("curve",e,t))}},curviness:{get:function(){return this.tn},set:function(t){var e=this.tn;e!==t&&(this.tn=t,this.Ta(),this.cc(),this.g("curviness",e,t))}},routing:{get:function(){return this.Oj},set:function(t){var e=this.Oj;e!==t&&(this.Oj=t,this.Qf=null,this.Ta(),Zh(this,2===(2&e.value)||2===(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.Kp},set:function(t){var e=this.Kp;e!==t&&(this.Kp=t,this.cc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.dj())return t.model.Vb(this.data)}}}),Nh.prototype.invalidateOtherJumpOvers=Nh.prototype.wq,Nh.prototype.findClosestSegment=Nh.prototype.kz,Nh.prototype.updateRoute=Nh.prototype.kj,Nh.prototype.invalidateRoute=Nh.prototype.Ta,Nh.prototype.rollbackRoute=Nh.prototype.jy,Nh.prototype.commitRoute=Nh.prototype.sf,Nh.prototype.startRoute=Nh.prototype.Kh,Nh.prototype.clearPoints=Nh.prototype.ak,Nh.prototype.removePoint=Nh.prototype.bw,Nh.prototype.addPointAt=Nh.prototype.rf,Nh.prototype.addPoint=Nh.prototype.ze,Nh.prototype.insertPointAt=Nh.prototype.m,Nh.prototype.insertPoint=Nh.prototype.Tz,Nh.prototype.setPointAt=Nh.prototype.K,Nh.prototype.setPoint=Nh.prototype.jd,Nh.prototype.getPoint=Nh.prototype.i,Nh.prototype.getOtherPort=Nh.prototype.Jz,Nh.prototype.getOtherNode=Nh.prototype.tt;var ec=new K(Nh,"Normal",1),nc=new K(Nh,"Orthogonal",2),ic=new K(Nh,"AvoidsNodes",6),oc=new K(Nh,"AvoidsNodesStraight",7),rc=new K(Nh,"None",0),ac=new K(Nh,"Bezier",9),sc=new K(Nh,"JumpGap",10),lc=new K(Nh,"JumpOver",11),uc=new K(Nh,"End",17),hc=new K(Nh,"Scale",18),cc=new K(Nh,"Stretch",19),dc=new K(Nh,"OrientAlong",21),fc=new K(Nh,"OrientPlus90",22),pc=new K(Nh,"OrientMinus90",23),gc=new K(Nh,"OrientOpposite",24),mc=new K(Nh,"OrientUpright",25),vc=new K(Nh,"OrientPlus90Upright",26),yc=new K(Nh,"OrientMinus90Upright",27),_c=new K(Nh,"OrientUpright45",28);function bc(t,e,n,i){it(this),this.me=this.Qr=!1,this.Ft=t,this.ey=e,this.Rv=n,this.gy=i,this.links=[]}function xc(){it(this),this.ty=this.group=null,this.wt=!0,this.abort=!1,this.Pd=this.Od=1,this.zo=this.yo=-1,this.mc=this.lc=8,this.Cb=[[]],this.Vj=this.Uj=0,this.FA=!1,this.yA=22,this.bA=111}function wc(t,e,n){return t.Od<=e&&e<=t.yo&&t.Pd<=n&&n<=t.zo}function Cc(t,e,n){return wc(t,e,n)?(e-=t.Od,e/=t.lc,n-=t.Pd,n/=t.mc,t.Cb[0|e][0|n]):Ac}function Sc(t,e,n){wc(t,e,n)&&(e-=t.Od,e/=t.lc,n-=t.Pd,n/=t.mc,t.Cb[0|e][0|n]=Mc)}function kc(t){if(null!==t.Cb)for(var e=0;e<=t.Uj;e++)for(var n=0;n<=t.Vj;n++)t.Cb[e][n]>=Oc&&(t.Cb[e][n]=Ac)}function Ec(t,e,n,i,o,r,a,s,l){if(!(e<r||e>a||n<s||n>l)){var u=0|e,h=0|n,c=t.Cb[u][h];if(c>=Oc&&c<Pc)for(o?h+=i:u+=i,c+=1;r<=u&&u<=a&&s<=h&&h<=l&&!(c>=t.Cb[u][h]);)t.Cb[u][h]=c,c+=1,o?h+=i:u+=i;if(u=o?h:u,o)if(0<i)for(n+=i;n<u;n+=i)Ec(t,e,n,1,!o,r,a,s,l),Ec(t,e,n,-1,!o,r,a,s,l);else for(n+=i;n>u;n+=i)Ec(t,e,n,1,!o,r,a,s,l),Ec(t,e,n,-1,!o,r,a,s,l);else if(0<i)for(e+=i;e<u;e+=i)Ec(t,e,n,1,!o,r,a,s,l),Ec(t,e,n,-1,!o,r,a,s,l);else for(e+=i;e>u;e+=i)Ec(t,e,n,1,!o,r,a,s,l),Ec(t,e,n,-1,!o,r,a,s,l)}}function Ic(t,e,n,i,o,r,a,s,l){e|=0,n|=0;var u=Mc,h=Oc;for(t.Cb[e][n]=h;u===Mc&&e>r&&e<a&&n>s&&n<l;)h+=1,t.Cb[e][n]=h,o?n+=i:e+=i,u=t.Cb[e][n]}function Tc(t,e,n,i,o,r,a,s,l){e|=0,n|=0;var u=Mc,h=Pc;for(t.Cb[e][n]=h;u===Mc&&e>r&&e<a&&n>s&&n<l;)t.Cb[e][n]=h,o?n+=i:e+=i,u=t.Cb[e][n]}function Dc(t,e,n,i,o,r){if(null!==t.Cb){t.abort=!1;var a=e.x,s=e.y;if(wc(t,a,s)&&(a-=t.Od,a/=t.lc,s-=t.Pd,s/=t.mc,wc(t,e=i.x,i=i.y)))if(e-=t.Od,e/=t.lc,i-=t.Pd,i/=t.mc,1>=Math.abs(a-e)&&1>=Math.abs(s-i))t.abort=!0;else{var l=r.x,u=r.y,h=r.x+r.width,c=r.y+r.height;l-=t.Od,l/=t.lc,u-=t.Pd,u/=t.mc,h-=t.Od,h/=t.lc,c-=t.Pd,c/=t.mc,r=Math.max(0,Math.min(t.Uj,0|l)),h=Math.min(t.Uj,Math.max(0,0|h)),u=Math.max(0,Math.min(t.Vj,0|u)),c=Math.min(t.Vj,Math.max(0,0|c)),a|=0,s|=0,e|=0,i|=0,l=0===n||90===n?1:-1,n=90===n||270===n,t.Cb[a][s]===Mc?(Ic(t,a,s,l,n,r,h,u,c),Ic(t,a,s,1,!n,r,h,u,c),Ic(t,a,s,-1,!n,r,h,u,c)):Ic(t,a,s,l,n,a,s,a,s),t.Cb[e][i]===Mc?(Tc(t,e,i,0===o||90===o?1:-1,90===o||270===o,r,h,u,c),Tc(t,e,i,1,!(90===o||270===o),r,h,u,c),Tc(t,e,i,-1,!(90===o||270===o),r,h,u,c)):Tc(t,e,i,l,n,e,i,e,i),t.abort||(Ec(t,a,s,1,!1,r,h,u,c),Ec(t,a,s,-1,!1,r,h,u,c),Ec(t,a,s,1,!0,r,h,u,c),Ec(t,a,s,-1,!0,r,h,u,c))}}}Nh.className="Link",Nh.Normal=ec,Nh.Orthogonal=nc,Nh.AvoidsNodes=ic,Nh.AvoidsNodesStraight=oc,Nh.None=rc,Nh.Bezier=ac,Nh.JumpGap=sc,Nh.JumpOver=lc,Nh.End=uc,Nh.Scale=hc,Nh.Stretch=cc,Nh.OrientAlong=dc,Nh.OrientPlus90=fc,Nh.OrientMinus90=pc,Nh.OrientOpposite=gc,Nh.OrientUpright=mc,Nh.OrientPlus90Upright=vc,Nh.OrientMinus90Upright=yc,Nh.OrientUpright45=_c,bc.prototype.om=function(){if(!this.Qr){var t=this.links;0<t.length&&(null!==(t=t[0].diagram)&&(t.xu.add(this),this.me=t.undoManager.isUndoingRedoing))}this.Qr=!0},bc.prototype.yw=function(){if(this.Qr){this.Qr=!1;var t=this.links;if(0<t.length){var e=t[0],n=e.diagram;n=null===n||n.mk&&!this.me,this.me=!1,e.arrangeBundledLinks(t,n),1===t.length&&(e.Hf=null,t.length=0)}0===t.length&&(t=this.Ft,null!==this&&null!==t.Ne&&t.Ne.remove(this),t=this.Rv,null!==this&&null!==t.Ne&&t.Ne.remove(this))}},bc.className="LinkBundle",xc.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,n=t.x+t.width,i=t.y+t.height;if(this.Od=Math.floor((t.x-this.lc)/this.lc)*this.lc,this.Pd=Math.floor((e-this.mc)/this.mc)*this.mc,this.yo=Math.ceil((n+2*this.lc)/this.lc)*this.lc,this.zo=Math.ceil((i+2*this.mc)/this.mc)*this.mc,t=1+(0|Math.ceil((this.yo-this.Od)/this.lc)),e=1+(0|Math.ceil((this.zo-this.Pd)/this.mc)),null===this.Cb||this.Uj<t-1||this.Vj<e-1){for(n=[],i=0;i<=t;i++)n[i]=[];this.Cb=n,this.Uj=t-1,this.Vj=e-1}if(t=Ac,null!==this.Cb)for(e=0;e<=this.Uj;e++)for(n=0;n<=this.Vj;n++)this.Cb[e][n]=t}},xc.prototype.nk=function(t,e,n,i){if(t>this.yo||t+n<this.Od||e>this.zo||e+i<this.Pd)return!0;t=(t-this.Od)/this.lc|0,e=(e-this.Pd)/this.mc|0,n=Math.max(0,n)/this.lc+1|0;var o=Math.max(0,i)/this.mc+1|0;if(0>t&&(n+=t,t=0),0>e&&(o+=e,e=0),0>n||0>o)return!0;for(i=0|Math.min(t+n-1,this.Uj),n=0|Math.min(e+o-1,this.Vj);t<=i;t++)for(o=e;o<=n;o++)if(this.Cb[t][o]===Mc)return!1;return!0},d.Object.defineProperties(xc.prototype,{bounds:{get:function(){return new Lt(this.Od,this.Pd,this.yo-this.Od,this.zo-this.Pd)}},em:{get:function(){return this.lc},set:function(t){0<t&&t!==this.lc&&(this.lc=t,this.initialize(this.bounds))}},dm:{get:function(){return this.mc},set:function(t){0<t&&t!==this.mc&&(this.mc=t,this.initialize(this.bounds))}}});var Mc=0,Oc=1,Pc=999999,Ac=Pc+1;function Rc(){it(this),this.port=this.node=null,this.Yd=[],this.Bq=!1}function Bc(t,e,n,i){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<n?270:90;case 6:return 90<n&&270>=n?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return n>t&&n<=180+t?180:270;case 5:return n>180-t&&n<=360-t?270:0;case 12:return n>t&&n<=180+t?90:0;case 10:return n>180-t&&n<=360-t?180:90;case 7:return 90<n&&n<=180+t?180:n>180+t&&n<=360-t?270:0;case 13:return 180<n&&n<=360-t?270:n>t&&180>=n?90:0;case 14:return n>t&&n<=180-t?90:n>180-t&&270>=n?180:0;case 11:return n>180-t&&n<=180+t?180:n>180+t?270:90}return i&&15!==e&&(0>(n-=15)&&(n+=360)),n>t&&n<180-t?90:n>=180-t&&n<=180+t?180:n>180+t&&n<360-t?270:0}function Nc(t,e){var n=t.Yd;if(0===n.length){t:if(!t.Bq){n=t.Bq,t.Bq=!0;var i=null,o=t.node,r=o instanceof Ph?o:null;if(null===r||r.isSubGraphExpanded)var a=o.isTreeExpanded?o.findLinksConnected(t.port.portId):o.Nx();else{if(!r.actualBounds.v()){t.Bq=n;break t}a=(i=r).vv()}r=t.Yd.length=0;var s=t.port.ga(oe,ft.alloc()),l=t.port.ga(de,ft.alloc());for((o=Lt.allocAt(s.x,s.y,0,0)).Ie(l),ft.free(s),ft.free(l),s=ft.allocAt(o.x+o.width/2,o.y+o.height/2),l=t.port.Zi(),a=a.iterator;a.next();){var u=a.value;if(u.isVisible()&&u.fromPort!==u.toPort){var h=u.fromPort===t.port||null!==u.fromNode&&u.fromNode.Xd(i),c=u.computeSpot(h,t.port);if(c.gd()&&null!==(h=h?u.toPort:u.fromPort)){var d=h.part;if(null!==d){var f=d.findVisibleNode();null!==f&&f!==d&&(h=(d=f).port),h=u.computeOtherPoint(d,h),d=s.Sa(h),0>(d-=l)?d+=360:360<=d&&(d-=360),0===(c=Bc(o,c,d,u.isOrthogonal))?(c=4,180<d&&(d-=360)):90===c?(c=8,270<d&&(d-=360)):180===c?c=2:(c=1,90>d&&(d+=360)),void 0===(f=t.Yd[r])?(f=new Fc(u,d,c),t.Yd[r]=f):(f.link=u,f.angle=d,f.zc=c),f.Vv.set(h),r++}}}}for(ft.free(s),t.Yd.sort(Rc.prototype.l),l=t.Yd.length,i=-1,r=s=0;r<l;r++)void 0!==(a=t.Yd[r])&&(a.zc!==i&&(i=a.zc,s=0),a.sq=s,s++);for(i=-1,s=0,r=l-1;0<=r;r--)void 0!==(l=t.Yd[r])&&(l.zc!==i&&(i=l.zc,s=l.sq+1),l.fm=s);if(r=t.Yd,c=t.port,i=t.node.portSpreading,s=ft.alloc(),l=ft.alloc(),a=ft.alloc(),u=ft.alloc(),c.ga(oe,s),c.ga(ae,l),c.ga(de,a),c.ga(he,u),f=d=h=c=0,i===Oh)for(var p=0;p<r.length;p++){var g=r[p];if(null!==g){var m=g.link.computeThickness();switch(g.zc){case 8:d+=m;break;case 2:f+=m;break;case 1:c+=m;break;default:case 4:h+=m}}}var v=p=0,y=1,_=g=0;for(m=0;m<r.length;m++){var b=r[m];if(null!==b){if(p!==b.zc){switch(p=b.zc){case 8:var x=a;v=u;break;case 2:x=u,v=s;break;case 1:x=s,v=l;break;default:case 4:x=l,v=a}switch(g=v.x-x.x,_=v.y-x.y,p){case 8:d>Math.abs(g)?(y=Math.abs(g)/d,d=Math.abs(g)):y=1;break;case 2:f>Math.abs(_)?(y=Math.abs(_)/f,f=Math.abs(_)):y=1;break;case 1:c>Math.abs(g)?(y=Math.abs(g)/c,c=Math.abs(g)):y=1;break;default:case 4:h>Math.abs(_)?(y=Math.abs(_)/h,h=Math.abs(_)):y=1}v=0}var w=b.zq;if(i===Oh){switch(b=b.link.computeThickness(),b*=y,w.set(x),p){case 8:w.x=x.x+g/2+d/2-v-b/2;break;case 2:w.y=x.y+_/2+f/2-v-b/2;break;case 1:w.x=x.x+g/2-c/2+v+b/2;break;default:case 4:w.y=x.y+_/2-h/2+v+b/2}v+=b}else{var C=.5;i===Mh&&(C=(b.sq+1)/(b.fm+1)),w.x=x.x+g*C,w.y=x.y+_*C}}}for(ft.free(s),ft.free(l),ft.free(a),ft.free(u),x=t.Yd,r=0;r<x.length;r++)null!==(i=x[r])&&(i.tv=t.computeEndSegmentLength(i));t.Bq=n,Lt.free(o)}n=t.Yd}for(t=0;t<n.length;t++)if(null!==(o=n[t])&&o.link===e)return o;return null}function Fc(t,e,n){this.link=t,this.angle=e,this.zc=n,this.Vv=new ft,this.fm=this.sq=0,this.zq=new ft,this.tv=0}function Lc(){this.vh=this.Vg=Te,this.uh=this.Ug=this.th=this.Tg=NaN,this.Vp=this.Mn=null,this.Wp=this.Nn=1/0}function Vc(){it(this),this.I=this.B=null,this.oi=this.co=!0,this.jo=!1,this.Xm=new ft(0,0).freeze(),this.fo=!0,this.eo=null,this.Tw="",this.u=null,this.io=!1,this.l=null}function jc(t,e,n,i,o,r,a,s){for(n=n.iterator;n.next();){var l=n.value;i&&!l.isTopLevel||null!==o&&!o(l)||!l.canLayout()||(r&&l instanceof yh?l.isLinkLabel||(l instanceof Ph&&null===l.layout?jc(t,e,l.memberParts,!1,o,r,a,s):(zc(l),e.add(l))):a&&l instanceof Nh?e.add(l):!s||!l.Wb()||l instanceof yh||(zc(l),e.add(l)))}}function zc(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.zb()}function Hc(t){it(this),this.ic=t,this.pf=new nt,this.fe=new nt,this.Gt=new dt,this.Bt=new dt}function Wc(t,e){if(null===e)return!1;var n=t.pf.remove(e);return n&&(null!==(e=e.node)&&t.Gt.remove(e)),n}function Gc(t,e){if(null!==e){t.fe.add(e);var n=e.link;null!==n&&null===t.nq(n)&&t.Bt.add(n,e),e.network=t}}function Kc(t,e){null!==e&&t.fe.remove(e)&&(null!==(e=e.link)&&t.Bt.remove(e))}function $c(t,e,n){if(null!==n&&n.network!==e){Wc(t,n),e.Bh(n);for(var i=n.sourceEdges;i.next();){var o=i.value;o.network!==e&&(Kc(t,o),Gc(e,o),$c(t,e,o.fromVertex))}for(i=n.destinationEdges;i.next();)(n=i.value).network!==e&&(Kc(t,n),Gc(e,n),$c(t,e,n.toVertex))}}function Uc(t){it(this),this.Yc=t,this.l=new Lt(0,0,10,10).freeze(),this.u=new ft(5,5).freeze(),this.Ai=this.kb=null,this.Dg=new tt,this.vg=new tt}function qc(t,e){return t=t.Ai,e=e.Ai,t?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function Yc(t){it(this),this.kd=t,this.qg=this.Sf=this.vl=this.kb=null}function Xc(){Vc.call(this),this.isViewportSized=!0,this.aq=this.bq=NaN,this.Kg=new Rt(NaN,NaN).freeze(),this.ff=new Rt(10,10).freeze(),this.wb=Qc,this.Bb=td,this.Qc=od,this.Lc=Zc}function Zc(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}xc.className="PositionArray",Rc.prototype.toString=function(){for(var t=this.Yd,e=this.node.toString()+" "+t.length.toString()+":",n=0;n<t.length;n++){var i=t[n];null!==i&&(e+="\n  "+i.toString())}return e},Rc.prototype.om=function(){this.Yd.length=0},Rc.prototype.l=function(t,e){return t===e?0:null===t?-1:null===e?1:t.zc<e.zc?-1:t.zc>e.zc?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Rc.prototype.computeEndSegmentLength=function(t){var e=t.link,n=e.computeEndSegmentLength(this.node,this.port,ie,e.fromPort===this.port),i=t.sq;if(0>i)return n;var o=t.fm;if(1>=o||!e.isOrthogonal)return n;e=t.Vv;var r=t.zq;return 2!==t.zc&&8!==t.zc||(i=o-1-i),((t=2===t.zc||4===t.zc)?e.y<r.y:e.x<r.x)?n+8*i:(t?e.y===r.y:e.x===r.x)?n:n+8*(o-1-i)},Rc.className="Knot",Fc.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.zc.toString()+":"+this.sq.toString()+"/"+this.fm.toString()+" "+this.zq.toString()+" "+this.tv.toString()+" "+this.Vv.toString()},Fc.className="LinkInfo",Lc.prototype.copy=function(){var t=new Lc;return t.Vg=this.Vg.G(),t.vh=this.vh.G(),t.Tg=this.Tg,t.th=this.th,t.Ug=this.Ug,t.uh=this.uh,t.Mn=this.Mn,t.Vp=this.Vp,t.Nn=this.Nn,t.Wp=this.Wp,t},Lc.className="LinkSettings",Vc.prototype.cloneProtected=function(t){t.co=this.co,t.oi=this.oi,t.jo=this.jo,t.Xm.assign(this.Xm),t.fo=this.fo,t.eo=this.eo,t.Tw=this.Tw,t.io=!0},Vc.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Vc.prototype.gb=function(){},Vc.prototype.toString=function(){var t=O(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Vc.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.Xc(),this.isOngoing&&t.mk||this.isInitial&&!t.mk)&&(this.isValidLayout=!1,t.Pb())}}},Vc.prototype.createNetwork=function(){return new Hc(this)},Vc.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof Po?(e.ug(t.nodes,!0),e.ug(t.links,!0)):t instanceof Ph?e.ug(t.memberParts):e.ug(t.iterator),e},Vc.prototype.updateParts=function(){var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var n=e.value.node;if(null!==n&&null!==(t=n.diagram))break}this.isValidLayout=!0;try{null!==t&&t.ua("Layout"),this.commitLayout()}finally{null!==t&&t.Va("Layout")}},Vc.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Vc.prototype.doLayout=function(t){var e=new nt;t instanceof Po?(jc(this,e,t.nodes,!0,this.wk,!0,!1,!0),jc(this,e,t.parts,!0,this.wk,!0,!1,!0)):t instanceof Ph?jc(this,e,t.memberParts,!1,this.wk,!0,!1,!0):e.addAll(t.iterator);var n=e.count;if(0<n){null!==(t=this.diagram)&&t.ua("Layout"),n=Math.ceil(Math.sqrt(n)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var i=this.arrangementOrigin.x,o=i,r=this.arrangementOrigin.y,a=0,s=0;for(e=e.iterator;e.next();){var l=e.value;zc(l);var u=l.measuredBounds,h=u.width;u=u.height,l.moveTo(o,r),l instanceof Ph&&(l.wk=!1),o+=Math.max(h,50)+20,s=Math.max(s,Math.max(u,50)),a>=n-1?(a=0,o=i,r+=s+20,s=0):a++}null!==t&&t.Va("Layout")}this.isValidLayout=!0},Vc.prototype.wk=function(t){return!(t.location.v()&&!(t instanceof Ph&&t.wk))},Vc.prototype.aj=function(t,e){var n=this.boundsComputation;return null!==n?(e||(e=new Lt),n(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Vc.prototype.Cx=function(t){var e=new nt;return t instanceof Po?(jc(this,e,t.nodes,!0,null,!0,!0,!0),jc(this,e,t.links,!0,null,!0,!0,!0),jc(this,e,t.parts,!0,null,!0,!0,!0)):jc(this,e,t instanceof Ph?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Vc.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var n=e.position.copy();return(isNaN(n.x)||isNaN(n.y))&&n.set(t),null!==(e=e.placeholder)&&(n=e.ga(oe),(isNaN(n.x)||isNaN(n.y))&&n.set(t),t=e.padding,n.x+=t.left,n.y+=t.top),n}return t},d.Object.defineProperties(Vc.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},group:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t,null!==t&&(this.B=t.diagram))}},isOngoing:{get:function(){return this.co},set:function(t){this.co!==t&&(this.co=t)}},isInitial:{get:function(){return this.oi},set:function(t){this.oi=t,t||(this.io=!0)}},isViewportSized:{get:function(){return this.jo},set:function(t){this.jo!==t&&(this.jo=t)&&this.C()}},isRouting:{get:function(){return this.fo},set:function(t){this.fo!==t&&(this.fo=t)}},isRealtime:{get:function(){return this.eo},set:function(t){this.eo!==t&&(this.eo=t)}},isValidLayout:{get:function(){return this.io},set:function(t){this.io!==t&&(this.io=t,t||null!==(t=this.diagram)&&(t.Le=!0))}},network:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,this.C())}},arrangementOrigin:{get:function(){return this.Xm},set:function(t){this.Xm.w(t)||(this.Xm.assign(t),this.C())}}}),Vc.prototype.collectParts=Vc.prototype.Cx,Vc.prototype.getLayoutBounds=Vc.prototype.aj,Vc.prototype.invalidateLayout=Vc.prototype.C,Vc.className="Layout",Hc.prototype.clear=function(){if(this.pf)for(var t=this.pf.iterator;t.next();)t.value.clear();if(this.fe)for(t=this.fe.iterator;t.next();)t.value.clear();this.pf=new nt,this.fe=new nt,this.Gt=new dt,this.Bt=new dt},Hc.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.pf.count+" edges: "+this.fe.count,1<t){for(var n=this.pf.iterator;n.next();)e+="\n    "+n.value.toString(t-1);for(n=this.fe.iterator;n.next();)e+="\n    "+n.value.toString(t-1)}return e},Hc.prototype.createVertex=function(){return new Uc(this)},Hc.prototype.createEdge=function(){return new Yc(this)},Hc.prototype.ug=function(t,e,n){if(null!==t){for(void 0===e&&(e=!1),void 0===n&&(n=null),null===n&&(n=function(t){if(t instanceof yh)return!t.isLinkLabel;if(t instanceof Nh){var e=t.fromNode;return null!==e&&!e.isLinkLabel&&(null!==(t=t.toNode)&&!t.isLinkLabel)}return!1}),t=t.iterator;t.next();){var i=t.value;if(i instanceof yh&&(!e||i.isTopLevel)&&i.canLayout()&&n(i))if(i instanceof Ph&&null===i.layout)this.ug(i.memberParts,!1);else if(null===this.Yi(i)){var o=this.createVertex();o.node=i,this.Bh(o)}}for(t.reset();t.next();)if((i=t.value)instanceof Nh&&(!e||i.isTopLevel)&&i.canLayout()&&n(i)&&null===this.nq(i)){var r=i.fromNode;o=i.toNode,null!==r&&null!==o&&r!==o&&(r=this.findGroupVertex(r),o=this.findGroupVertex(o),null!==r&&null!==o&&this.pk(r,o,i))}}},Hc.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.Yi(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.Yi(e)))return t;e=e.containingGroup}return null},(n=Hc.prototype).Bh=function(t){if(null!==t){this.pf.add(t);var e=t.node;null!==e&&this.Gt.add(e,t),t.network=this}},n.bm=function(t){if(null===t)return null;var e=this.Yi(t);return null===e&&((e=this.createVertex()).node=t,this.Bh(e)),e},n.sv=function(t){if(null!==t&&Wc(this,t)){for(var e=t.Dg,n=e.count-1;0<=n;n--){var i=e.L(n);this.gk(i)}for(t=(e=t.vg).count-1;0<=t;t--)n=e.L(t),this.gk(n)}},n.ez=function(t){null!==t&&(null!==(t=this.Yi(t))&&this.sv(t))},n.Yi=function(t){return null===t?null:this.Gt.H(t)},n.eq=function(t){if(null!==t){Gc(this,t);var e=t.toVertex;null!==e&&e.jv(t),null!==(e=t.fromVertex)&&e.hv(t)}},n.Ly=function(t){if(null===t)return null;var e=t.fromNode,n=t.toNode,i=this.nq(t);return null===i?((i=this.createEdge()).link=t,null!==e&&(i.fromVertex=this.bm(e)),null!==n&&(i.toVertex=this.bm(n)),this.eq(i)):(i.fromVertex=null!==e?this.bm(e):null,i.toVertex=null!==n?this.bm(n):null),i},n.gk=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.rv(t),null!==(e=t.fromVertex)&&e.qv(t),Kc(this,t)}},n.dz=function(t){null!==t&&(null!==(t=this.nq(t))&&this.gk(t))},n.nq=function(t){return null===t?null:this.Bt.H(t)},n.pk=function(t,e,n){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var i=this.createEdge();return i.link=n,i.fromVertex=t,i.toVertex=e,this.eq(i),i}return null},n.Em=function(t){if(null!==t){var e=t.fromVertex,n=t.toVertex;null!==e&&null!==n&&(e.qv(t),n.rv(t),t.Em(),e.jv(t),n.hv(t))}},n.lq=function(){for(var t=D(),e=this.fe.iterator;e.next();){var n=e.value;n.fromVertex===n.toVertex&&t.push(n)}for(e=t.length,n=0;n<e;n++)this.gk(t[n]);M(t)},Hc.prototype.deleteArtificialVertexes=function(){for(var t=D(),e=this.pf.iterator;e.next();){var n=e.value;null===n.node&&t.push(n)}for(n=t.length,e=0;e<n;e++)this.sv(t[e]);for(e=D(),n=this.fe.iterator;n.next();){var i=n.value;null===i.link&&e.push(i)}for(n=e.length,i=0;i<n;i++)this.gk(e[i]);M(t),M(e)},Hc.prototype.uy=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function(t){for(var e=D(),n=t.fe.iterator;n.next();){var i=n.value;null!==i.fromVertex&&null!==i.toVertex||e.push(i)}for(n=e.length,i=0;i<n;i++)t.gk(e[i]);M(e)}(this),this.lq()),t=new tt;for(var e=!0;e;){e=!1;for(var n=this.pf.iterator;n.next();){var i=n.value;if(0<i.Dg.count||0<i.vg.count){e=this.layout.createNetwork(),t.add(e),$c(this,e,i),e=!0;break}}}return t.sort((function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count})),t},Hc.prototype.jz=function(){for(var t=new nt,e=this.pf.iterator;e.next();)t.add(e.value.node);for(e=this.fe.iterator;e.next();)t.add(e.value.link);return t},d.Object.defineProperties(Hc.prototype,{layout:{get:function(){return this.ic},set:function(t){null!==t&&(this.ic=t)}},vertexes:{get:function(){return this.pf}},edges:{get:function(){return this.fe}}}),Hc.prototype.findAllParts=Hc.prototype.jz,Hc.prototype.splitIntoSubNetworks=Hc.prototype.uy,Hc.prototype.deleteSelfEdges=Hc.prototype.lq,Hc.prototype.reverseEdge=Hc.prototype.Em,Hc.prototype.linkVertexes=Hc.prototype.pk,Hc.prototype.findEdge=Hc.prototype.nq,Hc.prototype.deleteLink=Hc.prototype.dz,Hc.prototype.deleteEdge=Hc.prototype.gk,Hc.prototype.addLink=Hc.prototype.Ly,Hc.prototype.addEdge=Hc.prototype.eq,Hc.prototype.findVertex=Hc.prototype.Yi,Hc.prototype.deleteNode=Hc.prototype.ez,Hc.prototype.deleteVertex=Hc.prototype.sv,Hc.prototype.addNode=Hc.prototype.bm,Hc.prototype.addVertex=Hc.prototype.Bh,Hc.prototype.addParts=Hc.prototype.ug,Hc.className="LayoutNetwork",Uc.prototype.clear=function(){this.Ai=this.kb=null,this.Dg=new tt,this.vg=new tt},Uc.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+rt(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var n=!0,i=this.Dg.iterator;i.next();){var o=i.value;n?n=!1:t+=",",t+=o.toString(0)}for(o="",n=!0,i=this.vg.iterator;i.next();){n?n=!1:o+=",",o+=i.value.toString(0)}e+=" sources: "+t+" destinations: "+o}return e},Uc.prototype.commit=function(){var t=this.kb;if(null!==t){var e=this.bounds,n=t.bounds;S(n)?(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof Ph)){n=Lt.alloc();var i=this.network.layout.aj(t,n),o=t.locationObject.ga(le);if(i.v()&&o.v())return t.moveTo(e.x+this.focusX-(o.x-i.x),e.y+this.focusY-(o.y-i.y)),void Lt.free(n);Lt.free(n)}t.moveTo(e.x,e.y)}},Uc.prototype.jv=function(t){null!==t&&(this.Dg.contains(t)||this.Dg.add(t))},Uc.prototype.rv=function(t){null!==t&&this.Dg.remove(t)},Uc.prototype.hv=function(t){null!==t&&(this.vg.contains(t)||this.vg.add(t))},Uc.prototype.qv=function(t){null!==t&&this.vg.remove(t)},d.Object.defineProperties(Uc.prototype,{sourceEdgesArrayAccess:{get:function(){return this.Dg._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.vg._dataArray}},data:{get:function(){return this.kb},set:function(t){if(this.kb=t,null!==t){var e=t.bounds;t=e.x;var n=e.y,i=e.width;e=e.height,this.u.h(i/2,e/2),this.l.h(t,n,i,e)}}},node:{get:function(){return this.Ai},set:function(t){if(this.Ai!==t){this.Ai=t,t.zb();var e=this.network.layout,n=Lt.alloc(),i=e.aj(t,n);e=i.x;var o=i.y,r=i.width;if(i=i.height,isNaN(e)&&(e=0),isNaN(o)&&(o=0),this.l.h(e,o,r,i),Lt.free(n),!(t instanceof Ph)&&(t=t.locationObject.ga(le)).v())return void this.u.h(t.x-e,t.y-o);this.u.h(r/2,i/2)}}},bounds:{get:function(){return this.l},set:function(t){this.l.w(t)||this.l.assign(t)}},focus:{get:function(){return this.u},set:function(t){this.u.w(t)||this.u.assign(t)}},centerX:{get:function(){return this.l.x+this.u.x},set:function(t){var e=this.l;e.x+this.u.x!==t&&(e.ea(),e.x=t-this.u.x,e.freeze())}},centerY:{get:function(){return this.l.y+this.u.y},set:function(t){var e=this.l;e.y+this.u.y!==t&&(e.ea(),e.y=t-this.u.y,e.freeze())}},focusX:{get:function(){return this.u.x},set:function(t){var e=this.u;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},focusY:{get:function(){return this.u.y},set:function(t){var e=this.u;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},x:{get:function(){return this.l.x},set:function(t){var e=this.l;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},y:{get:function(){return this.l.y},set:function(t){var e=this.l;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},width:{get:function(){return this.l.width},set:function(t){var e=this.l;e.width!==t&&(e.ea(),e.width=t,e.freeze())}},height:{get:function(){return this.l.height},set:function(t){var e=this.l;e.height!==t&&(e.ea(),e.height=t,e.freeze())}},network:{get:function(){return this.Yc},set:function(t){this.Yc=t}},sourceVertexes:{get:function(){for(var t=new nt,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new nt,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new nt,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.Dg.iterator}},destinationEdges:{get:function(){return this.vg.iterator}},edges:{get:function(){for(var t=new tt,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.Dg.count+this.vg.count}}}),Uc.prototype.deleteDestinationEdge=Uc.prototype.qv,Uc.prototype.addDestinationEdge=Uc.prototype.hv,Uc.prototype.deleteSourceEdge=Uc.prototype.rv,Uc.prototype.addSourceEdge=Uc.prototype.jv,Uc.className="LayoutVertex",Uc.standardComparer=qc,Uc.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.Ai;var n=e.Ai;if(null!==t){if(null!==n){for(e=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),t=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=0;n<e.length;n++)if(""!==t[n]&&void 0!==t[n]){var i=parseFloat(e[n]),o=parseFloat(t[n]);if(isNaN(i)){if(!isNaN(o))return 1;if(0!==e[n].localeCompare(t[n]))return e[n].localeCompare(t[n])}else{if(isNaN(o))return-1;if(0!==i-o)return i-o}}else if(""!==e[n])return 1;return""!==t[n]&&void 0!==t[n]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0},Yc.prototype.clear=function(){this.qg=this.Sf=this.vl=this.kb=null},Yc.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+rt(this);return 0<t&&(e+=null!==this.vl?"("+this.vl.toString()+")":"",1<t&&(e+=" "+(this.Sf?this.Sf.toString():"null")+" --\x3e "+(this.qg?this.qg.toString():"null"))),e},Yc.prototype.Em=function(){var t=this.Sf;this.Sf=this.qg,this.qg=t},Yc.prototype.commit=function(){},Yc.prototype.Ux=function(t){return this.qg===t?this.Sf:this.Sf===t?this.qg:null},d.Object.defineProperties(Yc.prototype,{network:{get:function(){return this.kd},set:function(t){this.kd=t}},data:{get:function(){return this.kb},set:function(t){this.kb!==t&&(this.kb=t)}},link:{get:function(){return this.vl},set:function(t){this.vl!==t&&(this.vl=t)}},fromVertex:{get:function(){return this.Sf},set:function(t){this.Sf!==t&&(this.Sf=t)}},toVertex:{get:function(){return this.qg},set:function(t){this.qg!==t&&(this.qg=t)}}}),Yc.prototype.getOtherVertex=Yc.prototype.Ux,Yc.className="LayoutEdge",c(Xc,Vc),Xc.prototype.cloneProtected=function(t){Vc.prototype.cloneProtected.call(this,t),t.bq=this.bq,t.aq=this.aq,t.Kg.assign(this.Kg),t.ff.assign(this.ff),t.wb=this.wb,t.Bb=this.Bb,t.Qc=this.Qc,t.Lc=this.Lc},Xc.prototype.gb=function(t){t.classType===Xc?t===od||t===rd||t===nd||t===id?this.sorting=t:t===td||t===ed?this.arrangement=t:t===Qc||t===Jc?this.alignment=t:_("Unknown enum value: "+t):Vc.prototype.gb.call(this,t)},Xc.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.Cx(t);t=this.diagram;for(var n=e.copy().iterator;n.next();){var i=n.value;if(!i.Hh()||null===i.fromNode&&null===i.toNode){if(i.zb(),i instanceof Ph)for(i=i.memberParts;i.next();)e.remove(i.value)}else e.remove(i)}var o=e.na();if(0!==o.length){switch(this.sorting){case id:o.reverse();break;case od:o.sort(this.comparer);break;case rd:o.sort(this.comparer),o.reverse()}var r=this.wrappingColumn;isNaN(r)&&(r=0);var a=this.wrappingWidth;switch(isNaN(a)&&null!==t?(e=t.padding,a=Math.max(t.viewportBounds.width-e.left-e.right,0)):a=Math.max(this.wrappingWidth,0),0>=r&&0>=a&&(r=1),e=this.spacing.width,isFinite(e)||(e=0),n=this.spacing.height,isFinite(n)||(n=0),null!==t&&t.ua("Layout"),i=[],this.alignment){case Jc:var s=e,l=n,u=Lt.alloc(),h=Math.max(this.cellSize.width,1);if(!isFinite(h))for(var c=h=0;c<o.length;c++){var d=this.aj(o[c],u);h=Math.max(h,d.width)}if(h=Math.max(h+s,1),c=Math.max(this.cellSize.height,1),!isFinite(c))for(d=c=0;d<o.length;d++){var f=this.aj(o[d],u);c=Math.max(c,f.height)}c=Math.max(c+l,1),d=this.arrangement;for(var p=f=this.arrangementOrigin.x,g=this.arrangementOrigin.y,m=0,v=0,y=0;y<o.length;y++){var _=o[y],b=this.aj(_,u),x=Math.ceil((b.width+s)/h)*h,w=Math.ceil((b.height+l)/c)*c;switch(d){case ed:var C=Math.abs(p-b.width);break;default:C=p+b.width}switch((0<r&&m>r-1||0<a&&0<m&&C-f>a)&&(i.push(new Lt(0,g,a+s,v)),m=0,p=f,g+=v,v=0),v=Math.max(v,w),d){case ed:b=-b.width;break;default:b=0}switch(_.moveTo(p+b,g),d){case ed:p-=x;break;default:p+=x}m++}i.push(new Lt(0,g,a+s,v)),Lt.free(u);break;case Qc:for(l=a,h=r,c=e,d=n,a=Lt.alloc(),f=Math.max(this.cellSize.width,1),r=g=u=0,s=ft.alloc(),p=0;p<o.length;p++)v=o[p],m=this.aj(v,a),v=v.wf(v.locationObject,v.locationSpot,s),u=Math.max(u,v.x),g=Math.max(g,m.width-v.x),r=Math.max(r,v.y);switch(p=this.arrangement){case ed:u+=c;break;default:g+=c}f=isFinite(f)?Math.max(f+c,1):Math.max(u+g,1);var S=v=this.arrangementOrigin.x;for(y=this.arrangementOrigin.y,g=0,l>=u&&(l-=u),u=_=0,x=Math.max(this.cellSize.height,1),b=r=0,w=!0,m=ft.alloc(),C=0;C<o.length;C++){var k=o[C],E=this.aj(k,a),I=k.wf(k.locationObject,k.locationSpot,s);if(0<g)switch(p){case ed:S=(S-v-(E.width-I.x))/f,S=(S=Ue.$(Math.round(S),S)?Math.round(S):Math.floor(S))*f+v;break;default:S=(S-v+I.x)/f,S=(S=Ue.$(Math.round(S),S)?Math.round(S):Math.ceil(S))*f+v}else switch(p){case ed:_=S+I.x+E.width;break;default:_=S-I.x}switch(p){case ed:var T=-(S+I.x)+_;break;default:T=S+E.width-I.x-_}if(0<h&&g>h-1||0<l&&0<g&&T>l){for(i.push(new Lt(0,w?y-r:y,l+c,b+r+d)),S=0;S<g&&C!==g;S++){var D=(T=o[C-g+S]).wf(T.locationObject,T.locationSpot,m);T.moveTo(T.position.x,T.position.y+r-D.y)}b+=d,y=w?y+b:y+(b+r),g=b=r=0,S=v,w=!1}switch(S===v&&(u=p===ed?Math.max(u,E.width-I.x):Math.min(u,-I.x)),r=Math.max(r,I.y),b=Math.max(b,E.height-I.y),isFinite(x)&&(b=Math.max(b,Math.max(E.height,x)-I.y)),w?k.moveTo(S-I.x,y-I.y):k.moveTo(S-I.x,y),p){case ed:S-=I.x+c;break;default:S+=E.width-I.x+c}g++}if(i.push(new Lt(0,y,l+c,(w?b:b+r)+d)),o.length!==g)for(l=0;l<g;l++)c=(h=o[o.length-g+l]).wf(h.locationObject,h.locationSpot,s),h.moveTo(h.position.x,h.position.y+r-c.y);if(ft.free(s),ft.free(m),p===ed)for(o=0;o<i.length;o++)(r=i[o]).width+=u,r.x-=u;else for(o=0;o<i.length;o++)(r=i[o]).x>u&&(r.width+=r.x-u,r.x=u);Lt.free(a)}for(s=r=a=o=0;s<i.length;s++)l=i[s],o=Math.min(o,l.x),a=Math.min(a,l.y),r=Math.max(r,l.x+l.width);this.arrangement===ed?this.commitLayers(i,new ft(o+e/2-(r+o),a-n/2)):this.commitLayers(i,new ft(o-e/2,a-n/2)),null!==t&&t.Va("Layout"),this.isValidLayout=!0}},Xc.prototype.commitLayers=function(){},d.Object.defineProperties(Xc.prototype,{wrappingWidth:{get:function(){return this.bq},set:function(t){this.bq!==t&&(0<t||isNaN(t))&&(this.bq=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.aq},set:function(t){this.aq!==t&&(0<t||isNaN(t))&&(this.aq=t,this.C())}},cellSize:{get:function(){return this.Kg},set:function(t){this.Kg.w(t)||(this.Kg.assign(t),this.C())}},spacing:{get:function(){return this.ff},set:function(t){this.ff.w(t)||(this.ff.assign(t),this.C())}},alignment:{get:function(){return this.wb},set:function(t){this.wb===t||t!==Qc&&t!==Jc||(this.wb=t,this.C())}},arrangement:{get:function(){return this.Bb},set:function(t){this.Bb===t||t!==td&&t!==ed||(this.Bb=t,this.C())}},sorting:{get:function(){return this.Qc},set:function(t){this.Qc===t||t!==nd&&t!==id&&t!==od&&t!==rd||(this.Qc=t,this.C())}},comparer:{get:function(){return this.Lc},set:function(t){this.Lc!==t&&(this.Lc=t,this.C())}}});var Jc=new K(Xc,"Position",0),Qc=new K(Xc,"Location",1),td=new K(Xc,"LeftToRight",2),ed=new K(Xc,"RightToLeft",3),nd=new K(Xc,"Forward",4),id=new K(Xc,"Reverse",5),od=new K(Xc,"Ascending",6),rd=new K(Xc,"Descending",7);function ad(){this.Uo=new nt,this.uo=new nt,this.Ca=new nt,this.Pe=new dt,this.Oe=new dt,this.Bj=new dt,this.B=null,this.Wq=!1}function sd(t,e,n){if(void 0!==e&&null!==e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Pe.contains(e)){void 0===n&&(n=!0);t:{if(void 0!==e&&null!==e&&!t.B.undoManager.isUndoingRedoing&&!t.Pe.contains(e)){var i=t.rt(e),o=ld(t,e,i);if(null!==o&&(Bl(o),null!==(o=o.copy()))){var r=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,o.If=i,o.kb=e,t.Wq&&(o.ah="Tool"),t.diagram.add(o),o.kb=null,o.data=e,t.diagram.skipsModelSourceBindings=r,i=o;break t}}i=null}null!==i&&n&&t.resolveReferencesForData(e)}}function ld(t,e,n){var i=(t=t.B).model;return i.lk()&&i.Mv(e)?null===(e=t.groupTemplateMap.H(n))&&(null===(e=t.groupTemplateMap.H(""))&&(gd||(gd=!0,w('No Group template found for category "'+n+'"'),w("  Using default group template")),e=t.ju)):null===(e=t.nodeTemplateMap.H(n))&&(null===(e=t.nodeTemplateMap.H(""))&&(pd||(pd=!0,w('No Node template found for category "'+n+'"'),w("  Using default node template")),e=t.lu)),e}function ud(t,e,n){for(var i in n){var o=e[i],r=n[i];if(k(r)){if(!k(o)||o.length<r.length)return!1;for(var a=0;a<o.length;a++){var s=r[a];if(void 0!==s&&!hd(t,o[a],s))return!1}}else if(!hd(t,o,r))return!1}return!0}function hd(t,e,n){if("function"===typeof n){if(!n(e))return!1}else if(n instanceof RegExp){if(!e||!n.test(e.toString()))return!1}else if(S(e)&&S(n)){if(!ud(t,e,n))return!1}else if(e!==n)return!1;return!0}function cd(t,e){var n=e.si;if(k(n)){var i=t.Bj.H(n);if(null===i)(i=[]).push(e),t.Bj.add(n,i);else{for(t=0;t<i.length;t++)if(i[t]===e)return;i.push(e)}}}function dd(t,e,n){Tl(e,(function(t){for(var e=(t=t.V.j).length,i=0;i<e;i++)Tr(n,t[i])}));var i=e.si;if(k(i)){var o=t.Bj.H(i);if(null!==o)for(var r=0;r<o.length;r++)if(o[r]===e){o.splice(r,1),0===o.length&&t.Bj.remove(i);break}}}function fd(t,e,n,i,o){if(null===e||o&&!e.canCopy())return null;if(i.contains(e))return i.H(e);var r=t.copyPartData(e,n);if(!(r instanceof Zu))return null;if(r.isSelected=!1,r.isHighlighted=!1,i.add(e,r),e instanceof yh){for(var a=e.linksConnected;a.next();){var s=a.value;if(s.fromNode===e){var l=i.H(s);null!==l&&(l.fromNode=r)}s.toNode===e&&(null!==(s=i.H(s))&&(s.toNode=r))}if(e instanceof Ph&&r instanceof Ph)for(e=e.memberParts;e.next();)(a=fd(t,e.value,n,i,o))instanceof Nh||null===a||(a.containingGroup=r)}else if(e instanceof Nh&&r instanceof Nh)for(null!==(a=e.fromNode)&&(null!==(a=i.H(a))&&(r.fromNode=a)),null!==(a=e.toNode)&&(null!==(a=i.H(a))&&(r.toNode=a)),e=e.labelNodes;e.next();)null!==(a=fd(t,e.value,n,i,o))&&a instanceof yh&&(a.labeledLink=r);return r}Xc.className="GridLayout",Xc.standardComparer=Zc,Xc.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/);for(var n=0;n<t.length;n++)if(""!==e[n]&&void 0!==e[n]){var i=parseFloat(t[n]),o=parseFloat(e[n]);if(isNaN(i)){if(!isNaN(o))return 1;if(0!==t[n].localeCompare(e[n]))return t[n].localeCompare(e[n])}else{if(isNaN(o))return-1;if(0!==i-o)return i-o}}else if(""!==t[n])return 1;return""!==e[n]&&void 0!==e[n]?-1:0}return 1}return null!==e?-1:0},Xc.Position=Jc,Xc.Location=Qc,Xc.LeftToRight=td,Xc.RightToLeft=ed,Xc.Forward=nd,Xc.Reverse=id,Xc.Ascending=od,Xc.Descending=rd,(n=ad.prototype).clear=function(){this.Uo.clear(),this.uo.clear(),this.Ca.clear(),this.Pe.clear(),this.Oe.clear(),this.Bj.clear()},n.$d=function(t){this.B=t},n.cj=function(t){if(t instanceof yh){if(this.Uo.add(t),t instanceof Ph){var e=t.containingGroup;null===e?this.B.wh.add(t):e.Al.add(t),null!==(e=t.layout)&&(e.diagram=this.B)}}else t instanceof Nh?this.uo.add(t):t instanceof vh||this.Ca.add(t);null===(e=t.data)||t instanceof vh||(t instanceof Nh?this.Oe.add(e,t):this.Pe.add(e,t))},n.Gc=function(t){if(t.$j(),t instanceof yh){if(this.Uo.remove(t),t instanceof Ph){var e=t.containingGroup;null===e?this.B.wh.remove(t):e.Al.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof Nh?this.uo.remove(t):t instanceof vh||this.Ca.remove(t);null===(e=t.data)||t instanceof vh||(t instanceof Nh?this.Oe.remove(e):this.Pe.remove(e))},n.zd=function(){for(var t=this.B.nodeTemplateMap.iterator;t.next();){var e=t.value,n=t.key;(!e.Wb()||e instanceof Ph)&&_('Invalid node template in Diagram.nodeTemplateMap: template for "'+n+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.B.groupTemplateMap.iterator;t.next();)e=t.value,n=t.key,e instanceof Ph||_('Invalid group template in Diagram.groupTemplateMap: template for "'+n+'" must be a Group, not a normal Node or Link: '+e);for(t=this.B.linkTemplateMap.iterator;t.next();)e=t.value,n=t.key,e instanceof Nh||_('Invalid link template in Diagram.linkTemplateMap: template for "'+n+'" must be a Link, not a normal Node or simple Part: '+e);for(t=D(),e=this.B.selection.iterator;e.next();)(n=e.value.data)&&t.push(n);for(e=D(),n=this.B.highlighteds.iterator;n.next();){var i=n.value.data;i&&e.push(i)}for(n=D(),i=this.nodes.iterator;i.next();){var o=i.value;null!==o.data&&(n.push(o.data),n.push(o.location))}for(i=this.links.iterator;i.next();)null!==(o=i.value).data&&(n.push(o.data),n.push(o.location));for(i=this.parts.iterator;i.next();)null!==(o=i.value).data&&(n.push(o.data),n.push(o.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),i=0;i<t.length;i++)null!==(o=this.xc(t[i]))&&(o.isSelected=!0);for(i=0;i<e.length;i++)null!==(o=this.xc(e[i]))&&(o.isHighlighted=!0);for(i=0;i<n.length;i+=2)null!==(o=this.xc(n[i]))&&(o.location=n[i+1]);M(t),M(e),M(n)},ad.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},ad.prototype.addModeledParts=function(t,e){var n=this,i=this.diagram.model;t.forEach((function(t){i.Ya(t)&&sd(n,t,!1)})),t.forEach((function(t){i.Ya(t)&&n.resolveReferencesForData(t)})),!1!==e&&Or(this.diagram,!1)},ad.prototype.insertLink=function(){return null},ad.prototype.resolveReferencesForData=function(){},ad.prototype.rt=function(t){return this.B.model.rt(t)},ad.prototype.getLinkCategoryForData=function(){return""},ad.prototype.setLinkCategoryForData=function(){},ad.prototype.setFromNodeForLink=function(){},ad.prototype.setToNodeForLink=function(){},ad.prototype.findLinkTemplateForCategory=function(t){var e=this.B.linkTemplateMap.H(t);return null===e&&(null===(e=this.B.linkTemplateMap.H(""))&&(md||(md=!0,w('No Link template found for category "'+t+'"'),w("  Using default link template")),e=this.B.ku)),e},ad.prototype.removeAllModeledParts=function(){this.Mt(this.diagram.model.nodeDataArray)},ad.prototype.Mt=function(t){var e=this;t.forEach((function(t){e.Jq(t)}))},ad.prototype.Jq=function(t){null!==(t=this.xc(t))&&(pr(this.diagram,t,!1),this.unresolveReferencesForPart(t))},ad.prototype.unresolveReferencesForPart=function(){},ad.prototype.removeDataForLink=function(){},ad.prototype.findPartForKey=function(t){return null===t||void 0===t?null:null!==(t=this.B.model.Jb(t))?this.Pe.H(t):null},ad.prototype.Kb=function(t){return null===t||void 0===t||null===(t=this.B.model.Jb(t))?null:(t=this.Pe.H(t))instanceof yh?t:null},ad.prototype.findLinkForKey=function(){return null},(n=ad.prototype).xc=function(t){if(null===t)return null;var e=this.Pe.H(t);return null!==e?e:e=this.Oe.H(t)},n.Ui=function(t){return null===t?null:(t=this.Pe.H(t))instanceof yh?t:null},n.wc=function(t){return null===t?null:this.Oe.H(t)},n.ot=function(t){for(var e=0;e<arguments.length;++e);e=new nt;for(var n=this.Uo.iterator;n.next();){var i=n.value,o=i.data;if(null!==o)for(var r=0;r<arguments.length;r++){var a=arguments[r];if(S(a)&&ud(this,o,a)){e.add(i);break}}}return e.iterator},n.nt=function(t){for(var e=0;e<arguments.length;++e);e=new nt;for(var n=this.uo.iterator;n.next();){var i=n.value,o=i.data;if(null!==o)for(var r=0;r<arguments.length;r++){var a=arguments[r];if(S(a)&&ud(this,o,a)){e.add(i);break}}}return e.iterator},ad.prototype.doModelChanged=function(t){if(this.B){var e=this.B;if(t.model===e.model){var n=t.change;if(e.doModelChanged(t),e.Z){e.Z=!1;try{var i=t.modelChange;if(""!==i)if(n===Sn){if("nodeCategory"===i){var o=this.xc(t.object),r=t.newValue;null!==o&&"string"===typeof r&&(o.category=r)}else"nodeDataArray"===i&&(this.Mt(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(n===kn){var a=t.newValue;"nodeDataArray"===i&&S(a)&&sd(this,a),e.isModified=!0}else if(n===En){var s=t.oldValue;"nodeDataArray"===i&&S(s)&&this.Jq(s),e.isModified=!0}else n===Cn&&("SourceChanged"===i?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.Sq(),this.updateAllTargetBindings()):"ModelDisplaced"===i&&this.zd());else if(n===Sn){var l=t.propertyName,u=t.object;u===e.model?"nodeKeyProperty"!==l&&"nodeCategoryProperty"!==l||e.undoManager.isUndoingRedoing||this.zd():this.updateDataBindings(u,l),e.isModified=!0}else if(n===kn||n===En){var h=t.change===kn,c=h?t.newParam:t.oldParam,d=h?t.newValue:t.oldValue,f=this.Bj.H(t.object);if(Array.isArray(f))for(t=0;t<f.length;t++){var p=f[t];if(h)Fl(p,d,c);else if(!(0>c)){var g=c+Nl(p);p.Gc(g,!0),Ll(p,g,c)}}e.isModified=!0}}finally{e.Z=!0}}}}},ad.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.Ba(t);for(e=this.nodes.iterator;e.next();)e.value.Ba(t);for(e=this.links.iterator;e.next();)e.value.Ba(t)},ad.prototype.Sq=function(){for(var t=this.B.model,e=new nt,n=t.nodeDataArray,i=0;i<n.length;i++)e.add(n[i]);var o=[];for(this.nodes.each((function(t){null===t.data||e.contains(t.data)||o.push(t.data)})),this.parts.each((function(t){null===t.data||e.contains(t.data)||o.push(t.data)})),o.forEach((function(e){Vd(t,e,!1)})),i=0;i<n.length;i++){var r=n[i];null===this.xc(r)&&Ld(t,r,!1)}for(this.refreshDataBoundLinks(),n=this.parts.iterator;n.next();)n.value.updateRelationshipsFromData();for(n=this.nodes.iterator;n.next();)n.value.updateRelationshipsFromData();for(n=this.links.iterator;n.next();)n.value.updateRelationshipsFromData()},ad.prototype.refreshDataBoundLinks=function(){},ad.prototype.updateRelationshipsFromData=function(){},ad.prototype.updateDataBindings=function(t,e){if("string"===typeof e){var n=this.xc(t);if(null!==n)n.Ba(e);else{n=null;for(var i=this.Bj.iterator;i.next();){for(var o=i.value,r=0;r<o.length;r++){var a=o[r].Ox(t);null!==a&&(null===n&&(n=D()),n.push(a))}if(null!==n)break}if(null!==n){for(i=0;i<n.length;i++)n[i].Ba(e);M(n)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},ad.prototype.ek=function(t,e,n){var i=new dt;if(k(t))for(var o=0;o<t.length;o++)fd(this,t[o],e,i,n);else for(t=t.iterator;t.next();)fd(this,t.value,e,i,n);if(null!==e){n=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.Sk.dragsLink,o=new nt;for(var r=new dt,a=i.iterator;a.next();){var s=a.value;if(s instanceof Nh)t||null!==s.fromNode&&null!==s.toNode||o.add(s);else if(s instanceof yh&&null!==s.data&&n.qm()){var l=s,u=(s=a.key).yg();null!==u&&(null!==(u=i.H(u))?(n.He(l.data,n.ja(u.data)),l=e.wc(l.data),null!==(s=s.Xi())&&null!==l&&r.add(s,l)):n.He(l.data,void 0))}}if(0<o.count&&e.Nt(o,!1),0<r.count)for(n=r.iterator;n.next();)i.add(n.key,n.value)}if(null!==e&&null!==this.B&&null!==(n=(e=e.model).afterCopyFunction)){var h=new dt;i.each((function(t){null!==t.key.data&&h.add(t.key.data,t.value.data)})),n(h,e,this.B.model)}for(e=i.iterator;e.next();)e.value.Ba();return i},ad.prototype.copyPartData=function(t,e){var n=null,i=t.data;if(null!==i&&null!==e){var o=e.model;t instanceof Nh||S(i=o.copyNodeData(i))&&(o.qf(i),n=e.xc(i))}else Bl(t),null!==(n=t.copy())&&(o=this.B,null!==e?e.add(n):null!==i&&null!==o&&null!==o.commandHandler&&o.commandHandler.copiesClipboardData&&(e=o.model,o=null,n instanceof Nh||(o=e.copyNodeData(i)),S(o)&&(n.data=o)));return n},d.Object.defineProperties(ad.prototype,{nodes:{get:function(){return this.Uo}},links:{get:function(){return this.uo}},parts:{get:function(){return this.Ca}},diagram:{get:function(){return this.B}},addsToTemporaryLayer:{get:function(){return this.Wq},set:function(t){this.Wq=t}}}),ad.prototype.updateAllRelationshipsFromData=ad.prototype.Sq,ad.prototype.findLinksByExample=ad.prototype.nt,ad.prototype.findNodesByExample=ad.prototype.ot,ad.prototype.findLinkForData=ad.prototype.wc,ad.prototype.findNodeForData=ad.prototype.Ui,ad.prototype.findPartForData=ad.prototype.xc,ad.prototype.findNodeForKey=ad.prototype.Kb,ad.prototype.removeModeledPart=ad.prototype.Jq,ad.prototype.removeModeledParts=ad.prototype.Mt,ad.prototype.rebuildParts=ad.prototype.zd;var pd=!1,gd=!1,md=!1;function vd(t){ad.apply(this,arguments)}function yd(t,e){e.forEach((function(e){_d(t,e)})),Or(t.diagram,!1)}function _d(t,e){if(void 0!==e&&null!==e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Oe.contains(e)){var n=t.getLinkCategoryForData(e),i=t.findLinkTemplateForCategory(n);if(null!==i){Bl(i);var o=i.copy();if(null!==o){i=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,o.If=n,o.kb=e;var r=af(n=t.diagram.model,e,!0);""!==r&&(o.fromPortId=r),void 0!==(r=of(n,e,!0))&&((r=t.Kb(r))instanceof yh&&(o.fromNode=r)),""!==(r=af(n,e,!1))&&(o.toPortId=r),void 0!==(r=of(n,e,!1))&&((r=t.Kb(r))instanceof yh&&(o.toNode=r)),n=n.zg(e),Array.isArray(n)&&n.forEach((function(e){null!==(e=t.Kb(e))&&(e.labeledLink=o)})),t.Wq&&(o.ah="Tool"),t.diagram.add(o),o.kb=null,o.data=e,t.diagram.skipsModelSourceBindings=i}}}}function bd(t,e){e.forEach((function(e){t.Jq(e)}))}function xd(){ad.apply(this,arguments),this.ih=null}function wd(t,e,n){if(null!==e&&null!==n){var i=t.diagram.toolManager.findTool("Linking"),o=e,r=n;if(t.diagram.isTreePathToChildren){for(e=r.linksConnected;e.next();)if(e.value.toNode===r)return}else for(r=e,e=(o=n).linksConnected;e.next();)if(e.value.fromNode===o)return;if((null===i||!li(i,o,r,null,!0))&&(i=t.getLinkCategoryForData(n.data),null!==(e=t.findLinkTemplateForCategory(i))&&(Bl(e),null!==(e=e.copy())))){var a=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,e.If=i,e.kb=n.data,e.fromNode=o,e.toNode=r,t.diagram.add(e),e.kb=null,e.data=n.data,t.diagram.skipsModelSourceBindings=a}}}function Cd(t){this.Ci=new nt,this.zi=new nt,this.Zt=',\n  "insertedNodeKeys": ',this.Mw=',\n  "modifiedNodeData": ',this.au=',\n  "removedNodeKeys": ',this.Ph=null,it(this),this.un=this.Qa="",this.Wf=!1,this.l={},this.Dc=[],this.Ua=new dt,this.Bi="key",this.Qk=this.xl=null,this.ln=this.mn=!1,this.on=!0,this.Tm=null,this.Jj="category",this.Of=new dt,this.Iu=new tt,this.pg=!1,this.u=null,this.undoManager=new Tn,void 0!==t&&(this.nodeDataArray=t)}function Sd(t){return',\n  "modelData": '+Rd(t,t.modelData)}function kd(t,e){S(e=e.modelData)&&(t.Bm(e),t.modelData=e)}function Ed(t,e,n,i){if(e===n)return!0;if(typeof e!==typeof n||"function"===typeof e||"function"===typeof n)return!1;if(Array.isArray(e)&&Array.isArray(n)){if(i.H(e)===n)return!0;if(i.add(e,n),e.length!==n.length)return!1;for(var o=0;o<e.length;o++)if(!Ed(t,e[o],n[o],i))return!1;return!0}if(S(e)&&S(n)){if(i.H(e)===n)return!0;for(var r in i.add(e,n),e){var a=e[r];if(!Pd(r,a)){var s=n[r];if(void 0===s||!Ed(t,a,s,i))return!1}}for(o in n)if(!Pd(o,r=n[o])&&(void 0===(a=e[o])||!Ed(t,a,r,i)))return!1;return!0}return!1}function Id(t,e,n){t[n]!==e[n]&&_("Model.computeJsonDifference: Model."+n+' is not the same in both models: "'+t[n]+'" and "'+e[n]+'"')}function Td(t,e){function n(t,e){if((e=e.part)&&t!==(e=e.data)){var n=i.get(t);null===n?((n=new nt).add(e),i.add(t,n)):n.add(e)}}var i=t.Ph;null===i&&(i=new dt,e.changes.each((function(t){if(null!==t.diagram){var e=t.change;e===Sn?(t=t.object.panel)&&(e=t.data)&&n(e,t):e!==kn&&e!==En||(e=(t=t.object).itemArray)&&n(e,t)}})),t.Ph=i)}function Dd(t,e){for(var n=new nt,i=0;i<t.nodeDataArray.length;i++){var o=t.nodeDataArray[i];Md(t,e,o,o,n)}return n}function Md(t,e,n,i,o){if(Array.isArray(n))for(var r=0;r<n.length;r++){var a=n[r];if(a===e)return o.add(i),!0;if(Md(t,e,a,i,o))return!0}else if(S(n)&&Object.getPrototypeOf(n)===Object.prototype)for(r in n){if((a=n[r])===e)return o.add(i),!0;if(Md(t,e,a,i,o))return!0}return!1}function Od(t,e,n){void 0===n&&(n=!1);var i=e.length;if(0>=i)return"[]";var o=new U;o.add("[ "),n&&1<i&&o.add("\n");for(var r=0;r<i;r++){var a=e[r];void 0!==a&&(0<r&&(o.add(","),n&&o.add("\n")),o.add(t.Lm(a)))}return n&&1<i&&o.add("\n"),o.add(" ]"),o.toString()}function Pd(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"===typeof e}function Ad(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-1/0===t?"-9e9999":t}function Rd(t,e){var n=e;if(n instanceof ft)e={class:"go.Point",x:Ad(n.x),y:Ad(n.y)};else if(n instanceof Rt)e={class:"go.Size",width:Ad(n.width),height:Ad(n.height)};else if(n instanceof Lt)e={class:"go.Rect",x:Ad(n.x),y:Ad(n.y),width:Ad(n.width),height:Ad(n.height)};else if(n instanceof Jt)e={class:"go.Margin",top:Ad(n.top),right:Ad(n.right),bottom:Ad(n.bottom),left:Ad(n.left)};else if(n instanceof je)e=n.hb()?{class:"go.Spot",x:Ad(n.x),y:Ad(n.y),offsetX:Ad(n.offsetX),offsetY:Ad(n.offsetY)}:{class:"go.Spot",enum:n.toString()};else if(n instanceof Ps){if(e={class:"go.Brush",type:n.type.name},n.type===$s?e.color=n.color:n.type!==Us&&n.type!==qs||(e.start=n.start,e.end=n.end,n.type===qs&&(0!==n.startRadius&&(e.startRadius=Ad(n.startRadius)),isNaN(n.endRadius)||(e.endRadius=Ad(n.endRadius)))),null!==n.colorStops){var i={};for(n=n.colorStops.iterator;n.next();)i[n.key]=n.value;e.colorStops=i}}else n instanceof qe?(e={class:"go.Geometry",type:n.type.name},0!==n.startX&&(e.startX=Ad(n.startX)),0!==n.startY&&(e.startY=Ad(n.startY)),0!==n.endX&&(e.endX=Ad(n.endX)),0!==n.endY&&(e.endY=Ad(n.endY)),n.spot1.w(oe)||(e.spot1=n.spot1),n.spot2.w(de)||(e.spot2=n.spot2),n.type===un&&(e.path=Xe(n))):n instanceof K&&(e={class:"go.EnumValue",classType:Kd(t,n.classType),name:n.name});for(var o in i="{",n=!0,e){var r=Ud(e,o);if(!Pd(o,r))if(n?n=!1:i+=", ",i+='"'+o+'":',"points"===o&&r instanceof tt){var a="[";for(r=r.iterator;r.next();){var s=r.value;1<a.length&&(a+=","),a+=t.Lm(s.x),a+=",",a+=t.Lm(s.y)}i+=a+="]"}else i+=t.Lm(r)}return i+"}"}function Bd(t){return"number"===typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function Nd(t,e,n,i,o,r,a,s,l){void 0===s&&(s=null),void 0===l&&(l=null);var u=new wn;u.model=t,u.change=n,u.modelChange=e,u.propertyName=i,u.object=o,u.oldValue=r,u.oldParam=s,u.newValue=a,u.newParam=l,t.ft(u)}function Fd(t){return"number"===typeof t||"string"===typeof t}function Ld(t,e,n){var i=t.ja(e);void 0!==i&&t.Ua.H(i)===e||(t.Dt(e),void 0===(i=t.ja(e))?_("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Ua.add(i,e),i=null,n&&(i=t.Dc.length,I(t.Dc,i,e)),Nd(t,"nodeDataArray",kn,"nodeDataArray",t,null,e,null,i),t.Dm(e),t.Cm(e)))}function Vd(t,e,n){var i=t.ja(e);if(void 0!==i&&t.Ua.remove(i),i=null,n){t:if(n=t.Dc,Array.isArray(n))i=n.indexOf(e);else{i=n.length;for(var o=0;o<i;o++)if(n[o]===e){i=o;break t}i=-1}if(0>i)return;T(t.Dc,i)}Nd(t,"nodeDataArray",En,"nodeDataArray",t,e,null,i,null),t.Rq(e)}function jd(t,e,n){if(void 0!==e){var i=t.Of.H(e);null===i&&(i=new nt,t.Of.add(e,i)),i.add(n)}}function zd(t,e,n){if(void 0!==e){var i=t.Of.H(e);i instanceof nt&&(void 0===n||null===n?t.Of.remove(e):(i.remove(n),0===i.count&&t.Of.remove(e)))}}function Hd(t,e){return void 0===e?null:(t=t.Of.H(e))instanceof nt?t:null}function Wd(t,e,n){if(t.copiesArrays&&Array.isArray(e)){var i=[];for(n=0;n<e.length;n++){var o=Wd(t,e[n],t.copiesArrayObjects);i.push(o)}return it(i),i}if(n&&S(e)){for(i in n=(n=e.constructor)?new n:{},o=t.copiesKey||"string"!==typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===i)n.__gohashid=void 0;else if(i===o)n[o]=void 0;else{var r=Ud(e,i),a=Kd(t,r);"GraphObject"===a||"Diagram"===a||"Layer"===a||"RowColumnDefinition"===a||"AnimationManager"===a||"Tool"===a||"CommandHandler"===a||"Layout"===a||"InputEvent"===a||"DiagramEvent"===a||r instanceof Cd||r instanceof Tn||r instanceof In||r instanceof wn||(r=Wd(t,r,!1)),qd(n,i,r)}return it(n),n}return e instanceof ft||e instanceof Rt||e instanceof Lt||e instanceof je||e instanceof Jt?e.copy():e}function Gd(){return new Cd}function Kd(t,e){if("function"===typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"===typeof e&&null!==e&&e.constructor)return Kd(t,e.constructor);return typeof e}function $d(t){return Xd[t]?Xd[t]:void 0!==p.go&&p.go[t]?p.go[t]:null}function Ud(t,e){if(!t||!e)return null;try{if("function"===typeof e)var n=e(t);else"function"===typeof t.getAttribute?null===(n=t.getAttribute(e))&&(n=void 0):n=t[e]}catch(i){}return n}function qd(t,e,n){if(t&&e)try{"function"===typeof e?e(t,n):"function"===typeof t.setAttribute?t.setAttribute(e,n):t[e]=n}catch(i){}}ad.className="PartManager",c(vd,ad),vd.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),yd(this,t.linkDataArray)},vd.prototype.addModeledParts=function(t){for(ad.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)Fh(t.value);Or(this.diagram,!1)},vd.prototype.removeAllModeledParts=function(){var t=this.diagram.model;bd(this,t.linkDataArray),this.Mt(t.nodeDataArray)},vd.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Bv(t)},vd.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.Pt(t,e)},vd.prototype.setFromNodeForLink=function(t,e){var n=this.diagram.model;n.my(t.data,n.ja(null!==e?e.data:null))},vd.prototype.setToNodeForLink=function(t,e){var n=this.diagram.model;n.qy(t.data,n.ja(null!==e?e.data:null))},vd.prototype.removeDataForLink=function(t){this.diagram.model.zm(t.data)},vd.prototype.findPartForKey=function(t){var e=ad.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.wg(t))?this.Oe.H(t):e},vd.prototype.findLinkForKey=function(t){return null===t||void 0===t?null:null!==(t=this.diagram.model.wg(t))?this.Oe.H(t):null},vd.prototype.doModelChanged=function(t){var e=this;if(ad.prototype.doModelChanged.call(this,t),this.diagram){var n=this.diagram;if(t.model===n.model){var i=t.change;if(n.Z){n.Z=!1;try{var o=t.modelChange;if(""!==o){if(i===Sn){if("linkFromKey"===o){var r=this.wc(t.object);if(null!==r){var a=this.Kb(t.newValue);r.fromNode=a}}else if("linkToKey"===o){var s=this.wc(t.object);if(null!==s){var l=this.Kb(t.newValue);s.toNode=l}}else if("linkFromPortId"===o){var u=this.wc(t.object);if(null!==u){var h=t.newValue;"string"===typeof h&&(u.fromPortId=h)}}else if("linkToPortId"===o){var c=this.wc(t.object);if(null!==c){var d=t.newValue;"string"===typeof d&&(c.toPortId=d)}}else if("nodeGroupKey"===o){var f=this.xc(t.object);if(null!==f){var p=t.newValue;if(void 0!==p){var g=this.Kb(p);f.containingGroup=g instanceof Ph?g:null}else f.containingGroup=null}}else if("linkLabelKeys"===o){var m=this.wc(t.object);if(null!==m){var v=t.oldValue,y=t.newValue;Array.isArray(v)&&v.forEach((function(t){0<=y.indexOf(t)||null!==(t=e.Kb(t))&&(t.labeledLink=null)})),Array.isArray(y)&&y.forEach((function(t){null!==(t=e.Kb(t))&&(t.labeledLink=m)}))}}else if("linkCategory"===o){var _=this.wc(t.object),b=t.newValue;null!==_&&"string"===typeof b&&(_.category=b)}else"linkDataArray"===o&&(bd(this,t.oldValue),yd(this,t.newValue));n.isModified=!0}else if(i===kn){var x=t.newValue;if("linkDataArray"===o&&"object"===typeof x&&null!==x)_d(this,x);else if("linkLabelKeys"===o&&Fd(x)){var w=this.wc(t.object),C=this.Kb(x);null!==w&&null!==C&&(C.labeledLink=w)}n.isModified=!0}else if(i===En){var S=t.oldValue;if("linkDataArray"===o&&"object"===typeof S&&null!==S)this.Jq(S);else if("linkLabelKeys"===o&&Fd(S)){var k=this.Kb(S);null!==k&&(k.labeledLink=null)}n.isModified=!0}}else if(i===Sn){var E=t.propertyName;t.object!==n.model||"linkFromKeyProperty"!==E&&"linkToKeyProperty"!==E&&"linkFromPortIdProperty"!==E&&"linkToPortIdProperty"!==E&&"linkLabelKeysProperty"!==E&&"nodeIsGroupProperty"!==E&&"nodeGroupKeyProperty"!==E&&"linkCategoryProperty"!==E||n.undoManager.isUndoingRedoing||this.zd(),n.isModified=!0}}finally{n.Z=!0}}}}},vd.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,n=new nt,i=e.linkDataArray;i.forEach((function(t){n.add(t)}));var o=[];this.links.each((function(t){null===t.data||n.contains(t.data)||o.push(t.data)})),o.forEach((function(t){uf(e,t,!1)})),i.forEach((function(n){null===t.wc(n)&&lf(e,n,!1)}))},vd.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var n=t.diagram;if(null!==n){var i=n.model;if(t instanceof Nh){var o=of(i,e,!0);if(o=n.Kb(o),t.fromNode=o,o=of(i,e,!1),o=n.Kb(o),t.toNode=o,0<(e=i.zg(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){o=e[0];var r=t.labelNodes.first();if(i.ja(r.data)===o)return}o=(new nt).addAll(e);var a=new nt;t.labelNodes.each((function(t){null!==t.data&&(void 0!==(t=i.ja(t.data))&&a.add(t))})),(e=a.copy()).Iq(o),(o=o.copy()).Iq(a),(0<e.count||0<o.count)&&(e.each((function(e){null!==(e=n.Kb(e))&&e.labeledLink===t&&(e.labeledLink=null)})),o.each((function(e){null!==(e=n.Kb(e))&&e.labeledLink!==t&&(e.labeledLink=t)})))}}else!(t instanceof vh)&&(e=i.$i(e),null===(e=n.findPartForKey(e))||e instanceof Ph)&&(t.containingGroup=e)}}},vd.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,n=e.ja(t);if(void 0!==n){var i=Hd(e,n),o=this.xc(t);if(null!==i&&null!==o){i=i.iterator;for(var r={};i.next();){var a=i.value;e.Ya(a)?o instanceof Ph&&e.$i(a)===n&&(null!==(a=this.xc(a))&&(a.containingGroup=o)):(r.link=this.wc(a),null!==r.link&&o instanceof yh&&(of(e,a,!0)===n&&(r.link.fromNode=o),of(e,a,!1)===n&&(r.link.toNode=o),a=e.zg(a),Array.isArray(a)&&a.some(function(t){return function(e){return e===n&&(o.labeledLink=t.link,!0)}}(r)))),r={link:r.link}}zd(e,n)}void 0!==(t=e.$i(t))&&((t=this.Kb(t))instanceof Ph&&(o.containingGroup=t))}},vd.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof yh){var n=e.ja(t.data);if(void 0!==n){for(var i=t.linksConnected;i.next();)jd(e,n,i.value.data);if(t.isLinkLabel&&(null!==(i=t.labeledLink)&&jd(e,n,i.data)),t instanceof Ph)for(t=t.memberParts;t.next();)i=t.value.data,e.Ya(i)&&jd(e,n,i)}}},vd.prototype.copyPartData=function(t,e){var n=ad.prototype.copyPartData.call(this,t,e);if(t instanceof Nh)if(null!==(t=t.data)&&null!==e){var i=e.model;"object"===typeof(t=i.kq(t))&&null!==t&&(i.Pi(t),n=e.wc(t))}else null!==n&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&("object"===typeof(e=e.model.kq(t))&&null!==e&&(n.data=e)));return n},vd.prototype.insertLink=function(t,e,n,i){var o=this.diagram,r=o.model,a=o.toolManager.findTool("Linking"),s="";if(null!==t&&(null===e&&(e=t),null===(s=e.portId)&&(s="")),e="",null!==n&&(null===i&&(i=n),null===(e=i.portId)&&(e="")),(i=a.archetypeLinkData)instanceof Nh){if(Bl(i),null!==(r=i.copy()))return r.fromNode=t,r.fromPortId=s,r.toNode=n,r.toPortId=e,o.add(r),(t=a.archetypeLabelNodeData)instanceof yh&&(Bl(t),null!==(t=t.copy())&&(t.labeledLink=r,o.add(t))),r}else if(null!==i&&("object"===typeof(i=r.kq(i))&&null!==i))return null!==t&&rf(r,i,r.ja(t.data),!0),sf(r,i,s,!0),null!==n&&rf(r,i,r.ja(n.data),!1),sf(r,i,e,!1),r.Pi(i),null===(t=a.archetypeLabelNodeData)||t instanceof yh||"object"===typeof(t=r.copyNodeData(t))&&null!==t&&(r.qf(t),void 0!==(t=r.ja(t))&&r.iv(i,t)),o.wc(i);return null},vd.prototype.findLinkForKey=vd.prototype.findLinkForKey,vd.prototype.findPartForKey=vd.prototype.findPartForKey,vd.prototype.removeAllModeledParts=vd.prototype.removeAllModeledParts,vd.prototype.addModeledParts=vd.prototype.addModeledParts,vd.prototype.addAllModeledParts=vd.prototype.addAllModeledParts,vd.className="GraphLinksPartManager",c(xd,ad),xd.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Cv(t)},xd.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.jw(t,e)},xd.prototype.setFromNodeForLink=function(t,e,n){var i=this.diagram.model;if(void 0===n&&(n=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)i.He(t.data,i.ja(e));else{var o=this.ih;this.ih=t,null!==n&&i.He(n.data,void 0),i.He(e,i.ja(null!==t.toNode?t.toNode.data:null)),this.ih=o}},xd.prototype.setToNodeForLink=function(t,e,n){var i=this.diagram.model;if(void 0===n&&(n=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var o=this.ih;this.ih=t,null!==n&&i.He(n.data,void 0),i.He(e,i.ja(null!==t.fromNode?t.fromNode.data:null)),this.ih=o}else i.He(t.data,i.ja(e))},xd.prototype.removeDataForLink=function(t){this.diagram.model.He(t.data,void 0)},xd.prototype.findLinkForKey=function(t){return null===t||void 0===t?null:null!==(t=this.diagram.model.Jb(t))?this.Oe.H(t):null},xd.prototype.doModelChanged=function(t){if(ad.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var n=t.change;if(e.Z){e.Z=!1;try{var i=t.modelChange;if(""!==i){if(n===Sn){if("nodeParentKey"===i){var o=t.object,r=this.Kb(t.newValue),a=this.Ui(o);if(null!==this.ih)null!==r&&(this.ih.data=o,this.ih.category=this.getLinkCategoryForData(o));else if(null!==a){var s=a.Xi();null!==s?null===r?e.remove(s):e.isTreePathToChildren?s.fromNode=r:s.toNode=r:wd(this,r,a)}}else if("parentLinkCategory"===i){var l=this.Ui(t.object),u=t.newValue;if(null!==l&&"string"===typeof u){var h=l.Xi();null!==h&&(h.category=u)}}e.isModified=!0}}else if(n===Sn){var c=t.propertyName;t.object===e.model&&"nodeParentKeyProperty"===c&&(e.undoManager.isUndoingRedoing||this.zd()),e.isModified=!0}}finally{e.Z=!0}}}}},xd.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var n=t.diagram;if(null!==n){var i=n.model;t instanceof yh&&(e=i.bj(e),(e=n.Kb(e))!==(i=t.yg())&&(i=t.Xi(),null!==e?null!==i?n.isTreePathToChildren?i.fromNode=e:i.toNode=e:wd(this,e,t):null!==i&&pr(n,i,!1)))}}},xd.prototype.updateDataBindings=function(t,e){ad.prototype.updateDataBindings.call(this,t,e),"string"===typeof e&&null!==this.xc(t)&&(null!==(t=this.wc(t))&&t.Ba(e))},xd.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,n=e.ja(t);if(void 0!==n){var i=Hd(e,n),o=this.xc(t);if(null!==i&&null!==o){for(i=i.iterator;i.next();){var r=i.value;e.Ya(r)&&o instanceof yh&&e.bj(r)===n&&wd(this,o,this.Ui(r))}zd(e,n)}void 0!==(t=e.bj(t))&&o instanceof yh&&wd(this,t=this.Kb(t),o)}},xd.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof yh){var n=e.ja(t.data),i=this.wc(t.data);if(null!==i){i.isSelected=!1,i.isHighlighted=!1;var o=i.layer;if(null!==o){var r=o.Gc(-1,i,!1);0<=r&&this.diagram.$a(En,"parts",o,i,null,r,null),null!==(r=i.layerChanged)&&r(i,o,null)}}for(i=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)o=t.value,o=(i?o.toNode:o.fromNode).data,e.Ya(o)&&jd(e,n,o)}},xd.prototype.insertLink=function(t,e,n){e=this.diagram.model;var i=t,o=n;return this.diagram.isTreePathToChildren||(i=n,o=t),null!==i&&null!==o?(e.He(o.data,e.ja(i.data)),o.Xi()):null},xd.prototype.findLinkForKey=xd.prototype.findLinkForKey,xd.className="TreePartManager",Cd.prototype.cloneProtected=function(t){t.Qa=this.Qa,t.un=this.un,t.Wf=this.Wf,t.Bi=this.Bi,t.xl=this.xl,t.Qk=this.Qk,t.mn=this.mn,t.ln=this.ln,t.on=this.on,t.Tm=this.Tm,t.Jj=this.Jj},Cd.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Cd.prototype.clear=function(){this.Dc=[],this.Ua.clear(),this.Of.clear(),this.undoManager.clear()},Cd.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.Pq();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var n=(t=this.nodeDataArray).length,i=0;i<n;i++){var o=t[i];e+=" "+this.ja(o)+":"+P(o)}}return e},Cd.prototype.CA=function(t){t.change!==Cn&&_("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof In?(Td(this,e),t=this.Bw(e,"FinishedUndo"===t.propertyName),this.Ph=null,t):null},Cd.prototype.Bw=function(t,e){var n=this,i=!1,o=new nt,r=new nt,a=new nt,s=this.Ph;t.changes.each((function(t){t.model===n&&("nodeDataArray"===t.modelChange?t.change===kn?o.add(t.newValue):t.change===En&&a.add(t.oldValue):n.Ya(t.object)?r.add(t.object):t.change!==Sn||n.modelData!==t.object&&"modelData"!==t.propertyName?null!==t.object&&(s&&s.contains(t.object)?s.get(t.object).each((function(t){n.Ya(t)&&r.add(t)})):t.object instanceof Cd||n.dj()&&n.vc(t.object)||Dd(n,t.object).each((function(t){r.add(t)}))):i=!0)}));var l=this.zi;l.clear(),o.each((function(t){l.add(n.ja(t)),e||r.add(t)}));var u=this.Ci;u.clear(),a.each((function(t){u.add(n.ja(t)),e&&r.add(t)})),t=n.cloneDeep(r.na());var h=null;return i&&(null===h&&(h={}),h.modelData=this.cloneDeep(this.modelData)),0<l.count&&(null===h&&(h={}),e?h.removedNodeKeys=l.na():h.insertedNodeKeys=l.na()),0<t.length&&(null===h&&(h={}),h.modifiedNodeData=t),0<u.count&&(null===h&&(h={}),e?h.insertedNodeKeys=u.na():h.removedNodeKeys=u.na()),u.clear(),l.clear(),h},Cd.prototype.cloneDeep=function(t){return function t(e,n,i,o,r,a){function s(t,e){l?(void 0===t.__gohashid&&a.push(t),o.set(t,e)):(t=at++,o.set(t,e),r.set(t,n))}if(!S(n))return n;a||(a=[]);var l=Object.isExtensible(n);if(o||(o=new dt),l){var u=o.get(n);if(u)return u}else for(r||(r=new dt),u=r.iterator;u.next();){var h=u.key;if(u.value===n&&(h=o.get(h)))return h}if(Array.isArray(n)){s(n,u=[]);for(var c=0;c<n.length;c++)u.push(t(e,n[c],!1,o,r,a))}else if(n instanceof ft||n instanceof Rt||n instanceof Lt||n instanceof Jt||n instanceof je)u=n.copy(),s(n,u);else{if(n instanceof Ps||n instanceof qe||n instanceof K)return n;if(n instanceof tt)u=(new tt).addAll(t(e,n.na(),!1,o,r,a)),s(n,u);else if(n instanceof nt)u=(new nt).addAll(t(e,n.na(),!1,o,r,a)),s(n,u);else if(n instanceof dt)u=(new dt).addAll(t(e,n.na(),!1,o,r,a)),s(n,u);else if(n instanceof Date)u=new Date(n.getTime()),s(n,u);else if(n instanceof RegExp)u=new RegExp(n),s(n,u),u.lastIndex=n.lastIndex;else if("function"===typeof n.copy)u=n.copy(),s(n,u);else for(c in s(n,u={}),n)"__gohashid"!==c&&(u[c]=t(e,n[c],!1,o,r,a))}return i&&a.forEach((function(t){delete t.__gohashid})),u}(this,t,!0)},(n=Cd.prototype).Bk=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"===typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"===typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},n.Hq=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},n.Cw=function(){var t,e=this.modelData,n=!1;for(t in e)if(!Pd(t,e[t])){n=!0;break}return e="",n&&(e=Sd(this)),e+',\n  "nodeDataArray": '+Od(this,this.nodeDataArray,!0)},n.Yv=function(t){kd(this,t),k(t=t.nodeDataArray)&&(this.Bm(t),this.nodeDataArray=t)},n.Uq=function(t){Id(this,t,"nodeKeyProperty");var e=this.zi;e.clear();var n=new nt,i=this.Ci;i.clear(),i.addAll(this.Ua.iteratorKeys);for(var o=new dt,r=t.nodeDataArray,a=r.length,s=0;s<a;s++){var l=r[s],u=t.ja(l);if(void 0!==u){i.remove(u);var h=this.Jb(u);null===h?(e.add(u),n.add(l)):Ed(this,h,l,o)||n.add(l)}else this.Dt(l),u=this.ja(l),e.add(u),n.add(l)}return r="",Ed(this,this.modelData,t.modelData,o)||(r+=Sd(this)),0<e.count&&(r+=this.Zt+Od(this,e.na(),!0)),0<n.count&&(r+=this.Mw+Od(this,n.na(),!0)),0<i.count&&(r+=this.au+Od(this,i.na(),!0)),i.clear(),e.clear(),r},n.Xy=function(t,e){return void 0===e&&(e=Kd(this,this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Bk()+this.Uq(t)+"}"},n.Aw=function(t,e){var n=this,i=!1,o=new nt,r=new nt,a=new nt,s=this.Ph;t.changes.each((function(t){t.model===n&&("nodeDataArray"===t.modelChange?t.change===kn?o.add(t.newValue):t.change===En&&a.add(t.oldValue):n.Ya(t.object)?r.add(t.object):t.change!==Sn||n.modelData!==t.object&&"modelData"!==t.propertyName?null!==t.object&&(s&&s.contains(t.object)?s.get(t.object).each((function(t){n.Ya(t)&&r.add(t)})):t.object instanceof Cd||n.dj()&&n.vc(t.object)||Dd(n,t.object).each((function(t){r.add(t)}))):i=!0)}));var l=this.zi;l.clear(),o.each((function(t){l.add(n.ja(t)),e||r.add(t)}));var u=this.Ci;return u.clear(),a.each((function(t){u.add(n.ja(t)),e&&r.add(t)})),t="",i&&(t+=Sd(this)),0<l.count&&(t+=(e?this.au:this.Zt)+Od(this,l.na(),!0)),0<r.count&&(t+=this.Mw+Od(this,r.na(),!0)),0<u.count&&(t+=(e?this.Zt:this.au)+Od(this,u.na(),!0)),u.clear(),l.clear(),t},n.Gq=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&_("applyIncrementalJson cannot change Model properties"),kd(this,t);var e=t.insertedNodeKeys,n=t.modifiedNodeData,i=new dt;if(Array.isArray(n))for(var o=0;o<n.length;o++){var r=n[o],a=this.ja(r);void 0!==a&&null!==a&&i.set(a,r)}if(Array.isArray(e))for(o=e.length,r=0;r<o;r++){a=e[r];var s=this.Jb(a);null===s&&(s=(s=i.get(a))?s:this.copyNodeData({}),this.Hm(s,a),this.qf(s))}if(Array.isArray(n))for(e=n.length,i=0;i<e;i++)if(o=n[i],r=this.ja(o),null!==(r=this.Jb(r)))for(var l in o)"__gohashid"===l||l===this.nodeKeyProperty||this.kk()&&l===this.nodeIsGroupProperty||this.setDataProperty(r,l,o[l]);if(t=t.removedNodeKeys,Array.isArray(t))for(n=t.length,l=0;l<n;l++)null!==(e=this.Jb(t[l]))&&this.Am(e)},n.vy=function(t,e){t.change!==Cn&&_("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var n=t.object;return t.isTransactionFinished&&n instanceof In?(void 0===e&&(e=Kd(this,this)),Td(this,n),t=this.Aw(n,"FinishedUndo"===t.propertyName),this.Ph=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.Bk()+t+"}"):'{ "incremental": 0 }'},n.DA=function(t,e){return this.vy(t,e)},n.Pq=function(t){return void 0===t&&(t=Kd(this,this)),'{ "class": '+this.quote(t)+this.Bk()+this.Cw()+"}"},n.toJSON=function(t){return this.Pq(t)},n.Ax=function(t){var e=null;if("string"===typeof t)try{e=p.JSON.parse(t)}catch(i){}else"object"===typeof t?e=t:_("Unable to modify a Model from: "+t);var n=e.incremental;"number"!==typeof n&&_("Unable to apply non-incremental changes to Model: "+t),0!==n&&(this.ua("applyIncrementalJson"),this.Gq(e),this.Va("applyIncrementalJson"))},n.Ry=function(t){return this.Ax(t)},Cd.constructGraphLinksModel=function(){return new Cd},(n=Cd.prototype).Bm=function(t){if(k(t))for(var e=t.length,n=0;n<e;n++){var i=t[n];if(S(i)){var o=n;i=this.Bm(i),Array.isArray(t)?t[o]=i:_("Cannot replace an object in an HTMLCollection or NodeList at "+o)}}else if(S(t)){for(n in t)if(S(o=t[n])&&(o=this.Bm(o),t[n]=o,"points"===n&&Array.isArray(o))){i=0===o.length%2;for(var r=0;r<o.length;r++)if("number"!==typeof o[r]){i=!1;break}if(i){for(i=new tt,r=0;r<o.length/2;r++)i.add(new ft(o[2*r],o[2*r+1]));i.freeze(),t[n]=i}}if("object"===typeof t){if(n=t,0===(o=t.class||"").indexOf("go.")&&(o=o.substr(3)),"NaN"===o)n=NaN;else if("Date"===o)n=new Date(t.value);else if("Point"===o)n=new ft(Bd(t.x),Bd(t.y));else if("Size"===o)n=new Rt(Bd(t.width),Bd(t.height));else if("Rect"===o)n=new Lt(Bd(t.x),Bd(t.y),Bd(t.width),Bd(t.height));else if("Margin"===o)n=new Jt(Bd(t.top),Bd(t.right),Bd(t.bottom),Bd(t.left));else if("Spot"===o)n="string"===typeof t.enum?He(t.enum):new je(Bd(t.x),Bd(t.y),Bd(t.offsetX),Bd(t.offsetY));else if("Brush"===o){if((n=new Ps).type=$(Ps,t.type),"string"===typeof t.color&&(n.color=t.color),t.start instanceof je&&(n.start=t.start),t.end instanceof je&&(n.end=t.end),"number"===typeof t.startRadius&&(n.startRadius=Bd(t.startRadius)),"number"===typeof t.endRadius&&(n.endRadius=Bd(t.endRadius)),S(t=t.colorStops))for(e in t)n.addColorStop(parseFloat(e),t[e])}else"Geometry"===o?(e=null,(e="string"===typeof t.path?Ze(t.path):new qe).type=$(qe,t.type),"number"===typeof t.startX&&(e.startX=Bd(t.startX)),"number"===typeof t.startY&&(e.startY=Bd(t.startY)),"number"===typeof t.endX&&(e.endX=Bd(t.endX)),"number"===typeof t.endY&&(e.endY=Bd(t.endY)),t.spot1 instanceof je&&(e.spot1=t.spot1),t.spot2 instanceof je&&(e.spot2=t.spot2),n=e):"EnumValue"===o&&(0===(e=t.classType).indexOf("go.")&&(e=e.substr(3)),"function"===typeof(e=$d(e))&&(n=$(e,t.name)));t=n}}return t},n.quote=function(t){for(var e="",n=t.length,i=0;i<n;i++){var o=t[i];if('"'===o||"\\"===o)e+="\\"+o;else if("\b"===o)e+="\\b";else if("\f"===o)e+="\\f";else if("\n"===o)e+="\\n";else if("\r"===o)e+="\\r";else if("\t"===o)e+="\\t";else{var r=t.charCodeAt(i);e=16>r?e+"\\u000"+t.charCodeAt(i).toString(16):32>r?e+"\\u00"+t.charCodeAt(i).toString(16):8232===r?e+"\\u2028":8233===r?e+"\\u2029":e+o}}return'"'+e+'"'},n.Lm=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"===typeof t?this.quote(t):"number"===typeof t?1/0===t?"9e9999":-1/0===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.Lm(t.valueOf()):k(t)?Od(this,t):S(t)?Rd(this,t):"function"===typeof t?"null":t.toString()},n.Ah=function(t){this.Iu.add(t)},n.yk=function(t){this.Iu.remove(t)},n.ft=function(t){this.skipsUndoManager||this.undoManager.Hv(t);for(var e=this.Iu,n=e.length,i=0;i<n;i++)e.L(i)(t)},n.$a=function(t,e,n,i,o,r,a){Nd(this,"",t,e,n,i,o,r,a)},n.g=function(t,e,n,i,o){Nd(this,"",Sn,t,this,e,n,i,o)},n.Jt=function(t,e,n,i,o,r){Nd(this,"",Sn,e,t,n,i,o,r)},Cd.prototype.changeState=function(t,e){if(null!==t&&t.model===this)if(t.change===Sn){var n=t.object,i=t.propertyName,o=t.H(e);i===this.nodeKeyProperty&&this.Ya(n)&&(void 0!==(e=t.H(!e))&&this.Ua.remove(e),void 0!==o&&this.Ua.add(o,n)),qd(n,i,o)}else t.change===kn?(n=t.newParam,"nodeDataArray"===t.modelChange?S(t=t.newValue)&&"number"===typeof n&&(i=this.ja(t),e?(this.Dc[n]===t&&T(this.Dc,n),void 0!==i&&this.Ua.remove(i)):(this.Dc[n]!==t&&I(this.Dc,n,t),void 0!==i&&this.Ua.add(i,t))):""===t.modelChange?((i=t.object)&&!k(i)&&t.propertyName&&(i=Ud(t.object,t.propertyName)),k(i)&&"number"===typeof n&&(t=t.newValue,e?T(i,n):I(i,n,t))):_("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===En?(n=t.oldParam,"nodeDataArray"===t.modelChange?S(t=t.oldValue)&&"number"===typeof n&&(i=this.ja(t),e?(this.Dc[n]!==t&&I(this.Dc,n,t),void 0!==i&&this.Ua.add(i,t)):(this.Dc[n]===t&&T(this.Dc,n),void 0!==i&&this.Ua.remove(i))):""===t.modelChange?((i=t.object)&&!k(i)&&t.propertyName&&(i=Ud(t.object,t.propertyName)),k(i)&&"number"===typeof n&&(t=t.oldValue,e?I(i,n,t):T(i,n))):_("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==Cn&&_("unknown ChangedEvent: "+t.toString())},Cd.prototype.ua=function(t){return this.undoManager.ua(t)},Cd.prototype.Va=function(t){return this.undoManager.Va(t)},Cd.prototype.Bf=function(){return this.undoManager.Bf()},Cd.prototype.commit=function(t,e){void 0===e&&(e="");var n=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.ua(e);var i=!1;try{t(this),i=!0}finally{i?this.undoManager.Va(e):this.undoManager.Bf(),this.skipsUndoManager=n}},(n=Cd.prototype).Ba=function(t,e){void 0===e&&(e=""),Nd(this,"SourceChanged",Cn,e,t,null,null)},n.ja=function(t){if(null!==t){var e=this.Bi;if(""!==e&&void 0!==(e=Ud(t,e))){if(Fd(e))return e;_("Key value for node data "+t+" is not a number or a string: "+e)}}},n.Hm=function(t,e){if(null!==t){var n=this.Bi;if(""!==n)if(this.Ya(t)){var i=Ud(t,n);i!==e&&null===this.Jb(e)&&(qd(t,n,e),void 0!==i&&this.Ua.remove(i),this.Ua.add(e,t),Nd(this,"nodeKey",Sn,n,t,i,e),"string"===typeof n&&this.Ba(t,n),this.Kq(i,e))}else qd(t,n,e)}},n.Ya=function(t){var e=this.ja(t);return void 0!==e&&this.Ua.H(e)===t},n.Jb=function(t){return null===t&&_("Model.findNodeDataForKey:key must not be null"),void 0!==t&&Fd(t)?this.Ua.H(t):null},n.Dt=function(t){if(null!==t){var e=this.Bi;if(""!==e){var n=this.ja(t);if(void 0===n||this.Ua.contains(n)){var i=this.xl;if(null!==i&&(void 0!==(n=i(this,t))&&null!==n&&!this.Ua.contains(n)))return void qd(t,e,n);if("string"===typeof n){for(i=2;this.Ua.contains(n+i);)i++;qd(t,e,n+i)}else if(void 0===n||"number"===typeof n){for(n=-this.Ua.count-1;this.Ua.contains(n);)n--;qd(t,e,n)}}}}},n.qf=function(t){null!==t&&(ot(t),this.Ya(t)||Ld(this,t,!0))},n.Ny=function(t){if(k(t))for(var e=t.length,n=0;n<e;n++)this.qf(t[n]);else for(t=t.iterator;t.next();)this.qf(t.value)},n.Am=function(t){null!==t&&Vd(this,t,!0)},n.sA=function(t){if(k(t))for(var e=t.length,n=0;n<e;n++)this.Am(t[n]);else for(t=t.iterator;t.next();)this.Am(t.value)},n.iA=function(t){if(t!==this.nodeDataArray&&k(t)){var e=this.Ci;e.clear(),e.addAll(this.Ua.iteratorKeys);var n=this.zi;n.clear();for(var i=t.length,o=0;o<i;o++){var r=t[o],a=this.ja(r);if(void 0!==a){n.add(a);var s=this.Jb(a);s!==r&&(null!==s?this.gq(s,r):(r=this.cloneDeep(r),this.Hm(r,a),this.qf(r)))}else a=this.cloneDeep(r),this.qf(a),n.add(this.ja(a))}for(t=e.iterator;t.next();)i=t.value,n.contains(i)||(i=this.Jb(i))&&this.Am(i);this.jq(),e.clear(),n.clear()}},n.Kq=function(t,e){void 0!==e&&((t=Hd(this,t))instanceof nt&&this.Of.add(e,t))},n.ww=function(){},n.Dm=function(){},n.Cm=function(){},n.Rq=function(){},n.jq=function(t){void 0===t?this.Of.clear():this.Of.remove(t)},Cd.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.Qk;return S(t=null!==e?e(t,this):Wd(this,t,!0))&&it(t),t},Cd.prototype.setDataProperty=function(t,e,n){if(this.Ya(t)){if(e===this.nodeKeyProperty)return void this.Hm(t,n);if(e===this.nodeCategoryProperty)return void this.Mq(t,n)}else!Yd&&t instanceof za&&(Yd=!0,w('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),w("  Is that really your intent?"));var i=Ud(t,e);i!==n&&(qd(t,e,n),this.Jt(t,e,i,n))},(n=Cd.prototype).set=function(t,e,n){this.setDataProperty(t,e,n)},n.gq=function(t,e){if(e){var n,i=this.Ya(t);for(n in e)"__gohashid"===n||i&&n===this.nodeKeyProperty||this.setDataProperty(t,n,e[n])}},n.Jy=function(t,e){this.ut(t,-1,e)},n.ut=function(t,e,n){0>e&&(e=t.length),I(t,e,n),Nd(this,"",kn,"",t,null,n,null,e)},n.$v=function(t,e){void 0===e&&(e=-1),t===this.Dc&&_("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var n=t[e];T(t,e),Nd(this,"",En,"",t,n,null,e,null)},n.rt=function(t){if(null===t)return"";var e=this.Jj;return""===e||void 0===(e=Ud(t,e))?"":"string"===typeof e?e:(_("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},n.Mq=function(t,e){if(null!==t){var n=this.Jj;if(""!==n)if(this.Ya(t)){var i=Ud(t,n);void 0===i&&(i=""),i!==e&&(qd(t,n,e),Nd(this,"nodeCategory",Sn,n,t,i,e))}else qd(t,n,e)}},n.qm=function(){return!1},n.kk=function(){return!1},n.dj=function(){return!1},n.zt=function(){return!1},n.lk=function(){return!1},d.Object.defineProperties(Cd.prototype,{name:{get:function(){return this.Qa},set:function(t){var e=this.Qa;e!==t&&(this.Qa=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.un},set:function(t){var e=this.un;e!==t&&(this.un=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.Wf},set:function(t){var e=this.Wf;e!==t&&(this.Wf=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.g("modelData",e,t),this.Ba(t))}},undoManager:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(null!==e&&e.iy(this),this.u=t,null!==t&&t.yx(this))}},skipsUndoManager:{get:function(){return this.pg},set:function(t){this.pg=t}},nodeKeyProperty:{get:function(){return this.Bi},set:function(t){var e=this.Bi;e!==t&&(""===t&&_("Model.nodeKeyProperty may not be the empty string"),0<this.Ua.count&&_("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Bi=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.xl},set:function(t){var e=this.xl;e!==t&&(this.xl=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Dc},set:function(t){var e=this.Dc;if(e!==t){this.Ua.clear(),this.ww();for(var n=t.length,i=0;i<n;i++){var o=t[i];if(!S(o))return void _("Model.nodeDataArray must only contain Objects, not: "+o);ot(o)}for(this.Dc=t,i=new tt,o=0;o<n;o++){var r=t[o],a=this.ja(r);void 0===a||null!==this.Ua.H(a)?i.add(r):this.Ua.add(a,r)}for(i=i.iterator;i.next();)o=i.value,this.Dt(o),void 0!==(r=this.ja(o))&&this.Ua.add(r,o);for(Nd(this,"nodeDataArray",Sn,"nodeDataArray",this,e,t),e=0;e<n;e++)i=t[e],this.Dm(i),this.Cm(i);this.jq(),Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.Qk},set:function(t){var e=this.Qk;e!==t&&(this.Qk=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.mn},set:function(t){var e=this.mn;e!==t&&(this.mn=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.ln},set:function(t){var e=this.ln;e!==t&&(this.ln=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.on},set:function(t){var e=this.on;e!==t&&(this.on=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.Tm},set:function(t){var e=this.Tm;e!==t&&(this.Tm=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.Jj},set:function(t){var e=this.Jj;e!==t&&(this.Jj=t,this.g("nodeCategoryProperty",e,t))}}}),d.Object.defineProperties(Cd,{type:{get:function(){return"Model"}}}),Cd.prototype.setCategoryForNodeData=Cd.prototype.Mq,Cd.prototype.getCategoryForNodeData=Cd.prototype.rt,Cd.prototype.removeArrayItem=Cd.prototype.$v,Cd.prototype.insertArrayItem=Cd.prototype.ut,Cd.prototype.addArrayItem=Cd.prototype.Jy,Cd.prototype.assignAllDataProperties=Cd.prototype.gq,Cd.prototype.set=Cd.prototype.set,Cd.prototype.clearUnresolvedReferences=Cd.prototype.jq,Cd.prototype.mergeNodeDataArray=Cd.prototype.iA,Cd.prototype.removeNodeDataCollection=Cd.prototype.sA,Cd.prototype.removeNodeData=Cd.prototype.Am,Cd.prototype.addNodeDataCollection=Cd.prototype.Ny,Cd.prototype.addNodeData=Cd.prototype.qf,Cd.prototype.makeNodeDataKeyUnique=Cd.prototype.Dt,Cd.prototype.findNodeDataForKey=Cd.prototype.Jb,Cd.prototype.containsNodeData=Cd.prototype.Ya,Cd.prototype.setKeyForNodeData=Cd.prototype.Hm,Cd.prototype.getKeyForNodeData=Cd.prototype.ja,Cd.prototype.updateTargetBindings=Cd.prototype.Ba,Cd.prototype.commit=Cd.prototype.commit,Cd.prototype.rollbackTransaction=Cd.prototype.Bf,Cd.prototype.commitTransaction=Cd.prototype.Va,Cd.prototype.startTransaction=Cd.prototype.ua,Cd.prototype.raiseDataChanged=Cd.prototype.Jt,Cd.prototype.raiseChanged=Cd.prototype.g,Cd.prototype.raiseChangedEvent=Cd.prototype.$a,Cd.prototype.removeChangedListener=Cd.prototype.yk,Cd.prototype.addChangedListener=Cd.prototype.Ah,Cd.prototype.writeJsonValue=Cd.prototype.Lm,Cd.prototype.replaceJsonObjects=Cd.prototype.Bm,Cd.prototype.applyIncrementalJSON=Cd.prototype.Ry,Cd.prototype.applyIncrementalJson=Cd.prototype.Ax,Cd.prototype.toJSON=Cd.prototype.toJSON,Cd.prototype.toJson=Cd.prototype.Pq,Cd.prototype.toIncrementalJSON=Cd.prototype.DA,Cd.prototype.toIncrementalJson=Cd.prototype.vy,Cd.prototype.computeJsonDifference=Cd.prototype.Xy,Cd.prototype.toIncrementalData=Cd.prototype.CA,Cd.prototype.clear=Cd.prototype.clear;var Yd=!1,Xd={};function Zd(t,e,n){it(this),this.s=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===n&&(n=null),this.l=-1,this.cd=null,this.Xl=t,this.Wl=this.Sp=0,this.Qs=null,this.ho=!1,this.Pl=e,this.kn=n,this.Go=Qd,this.dn=null,this.tu=new nt}function Jd(t,e,n){return null===(t=t.sourceName)||""===t?e:"/"===t?n.part:"."===t?n:".."===t?n.panel:e.Za(t)}Cd.className="Model",Cd.fromJSON=Cd.fromJson=function(t,e){void 0===e&&(e=null);var n=null;if("string"===typeof t)try{n=p.JSON.parse(t)}catch(r){}else"object"===typeof t?n=t:_("Unable to construct a Model from: "+t);if(null===e){t=null;var i=n.class;if("string"===typeof i)try{var o=null;0===i.indexOf("go.")?o=$d(i=i.substr(3)):null===(o=$d(i))&&(o=p[i]),"function"===typeof o&&(t=new o)}catch(r){}null===t||t instanceof Cd?e=t:_("Unable to construct a Model of declared class: "+n.class)}return null===e&&(e=Cd.constructGraphLinksModel()),e.Hq(n),e.Yv(n),e},Cd.safePropertyValue=Ud,Cd.safePropertySet=qd,Xd.Brush=Ps,Xd.ChangedEvent=wn,Xd.Geometry=qe,Xd.Margin=Jt,Xd.Panel=wl,Xd.Point=ft,Xd.Rect=Lt,Xd.Size=Rt,Xd.Spot=je,Xd.Transaction=In,Xd.UndoManager=Tn,Zd.prototype.copy=function(){var t=new Zd;return t.Xl=this.Xl,t.Sp=this.Sp,t.Wl=this.Wl,t.Qs=this.Qs,t.ho=this.ho,t.Pl=this.Pl,t.kn=this.kn,t.Go=this.Go,t.dn=this.dn,t},(n=Zd.prototype).gb=function(t){t.classType===Zd&&(this.mode=t)},n.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.jj?" "+this.jj:"")+" "+this.mode.name+")"},n.freeze=function(){return this.s=!0,this},n.ea=function(){return this.s=!1,this},n.Zx=function(t){return void 0===t&&(t=null),this.mode=tf,this.backConverter=t,this},n.Dq=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},n.kA=function(){return this.sourceName=null,this.isToModel=!0,this},n.xw=function(t,e,n){var i=this.Pl;if(void 0===n||""===i||i===n){n=this.Xl;var o=this.kn;if(null===o&&""===n)w("Binding error: target property is the empty string: "+this.toString());else{var r=e;if(""!==i&&(r=Ud(e,i)),void 0!==r)if(null===o)""!==n&&qd(t,n,r);else try{if(""!==n)qd(t,n,o(r,t));else o(r,t)}catch(a){}}}},n.Tq=function(t,e,n,i){if(this.Go===tf){var o=this.Xl;if(void 0===n||o===n){n=this.Pl;var r=this.dn,a=t;if(""!==o&&(a=Ud(t,o)),void 0!==a&&!this.tu.contains(t))try{this.tu.add(t);var s=null!==i?i.diagram:null,l=null!==s?s.model:null;if(null===r){if(""!==n)null!==l?l.setDataProperty(e,n,a):qd(e,n,a);else if(null!==l&&null!==i&&0<=i.itemIndex&&null!==i.panel&&Array.isArray(i.panel.itemArray)){var u=i.itemIndex,h=i.panel.itemArray;l.$v(h,u),l.ut(h,u,a)}}else try{if(""!==n){var c=r(a,e,l);null!==l?l.setDataProperty(e,n,c):qd(e,n,c)}else{var d=r(a,e,l);if(void 0!==d&&null!==l&&null!==i&&0<=i.itemIndex&&null!==i.panel&&Array.isArray(i.panel.itemArray)){var f=i.itemIndex,p=i.panel.itemArray;l.$v(p,f),l.ut(p,f,d)}}}catch(g){}}finally{this.tu.remove(t)}}}},d.Object.defineProperties(Zd.prototype,{jj:{get:function(){return this.l},set:function(t){this.s&&b(this),this.l=t}},targetProperty:{get:function(){return this.Xl},set:function(t){this.s&&b(this),this.Xl=t}},sourceName:{get:function(){return this.Qs},set:function(t){this.s&&b(this),this.Qs=t,null!==t&&(this.ho=!1)}},isToModel:{get:function(){return this.ho},set:function(t){this.s&&b(this),this.ho=t}},sourceProperty:{get:function(){return this.Pl},set:function(t){this.s&&b(this),this.Pl=t}},converter:{get:function(){return this.kn},set:function(t){this.s&&b(this),this.kn=t}},backConverter:{get:function(){return this.dn},set:function(t){this.s&&b(this),this.dn=t}},mode:{get:function(){return this.Go},set:function(t){this.s&&b(this),this.Go=t}}}),Zd.prototype.updateSource=Zd.prototype.Tq,Zd.prototype.updateTarget=Zd.prototype.xw,Zd.prototype.ofModel=Zd.prototype.kA,Zd.prototype.ofObject=Zd.prototype.Dq,Zd.prototype.makeTwoWay=Zd.prototype.Zx;var Qd=new K(Zd,"OneWay",1),tf=new K(Zd,"TwoWay",2);function ef(t,e){Cd.call(this),this.Yt=',\n  "insertedLinkKeys": ',this.Lw=',\n  "modifiedLinkData": ',this.$t=',\n  "removedLinkKeys": ',this.Oc=[],this.Xf=new nt,this.eb=new dt,this.wi="",this.lj=this.Pk=this.yl=null,this.We="from",this.Xe="to",this.Gj=this.Fj="",this.Ej="category",this.Nd="",this.Cl="isGroup",this.te="group",this.nn=!1,void 0!==t&&(this.nodeDataArray=t),void 0!==e&&(this.linkDataArray=e)}function nf(t,e){for(var n=new nt,i=0;i<t.linkDataArray.length;i++){var o=t.linkDataArray[i];Md(t,e,o,o,n)}return n}function of(t,e,n){if(null!==e&&(""!==(t=n?t.We:t.Xe)&&void 0!==(t=Ud(e,t)))){if(Fd(t))return t;_((n?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function rf(t,e,n,i){if(null===n&&(n=void 0),null!==e){var o=i?t.We:t.Xe;if(""!==o)if(n=t.rm(n),t.vc(e)){var r=Ud(e,o);r!==n&&(zd(t,r,e),qd(e,o,n),null===t.Jb(n)&&jd(t,n,e),Nd(t,i?"linkFromKey":"linkToKey",Sn,o,e,r,n),"string"===typeof o&&t.Ba(e,o))}else qd(e,o,n)}}function af(t,e,n){return null===e||""===(t=n?t.Fj:t.Gj)||void 0===(e=Ud(e,t))?"":e}function sf(t,e,n,i){if(null!==e){var o=i?t.Fj:t.Gj;if(""!==o)if(t.vc(e)){var r=Ud(e,o);void 0===r&&(r=""),r!==n&&(qd(e,o,n),Nd(t,i?"linkFromPortId":"linkToPortId",Sn,o,e,r,n),"string"===typeof o&&t.Ba(e,o))}else qd(e,o,n)}}function lf(t,e,n){if(""!==t.linkKeyProperty){var i=t.Vb(e);if(void 0!==i&&t.eb.H(i)===e)return;if(t.Aq(e),void 0===(i=t.Vb(e)))return void _("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.eb.add(i,e)}t.Xf.add(e),i=null,n&&(i=t.Oc.length,t.Oc.splice(i,0,e)),Nd(t,"linkDataArray",kn,"linkDataArray",t,null,e,null,i),hf(t,e)}function uf(t,e,n){t.Xf.remove(e);var i=t.Vb(e);if(void 0!==i&&t.eb.remove(i),i=null,n){if(0>(i=t.Oc.indexOf(e)))return;t.Oc.splice(i,1)}if(Nd(t,"linkDataArray",En,"linkDataArray",t,e,null,i,null),zd(t,n=of(t,e,!0),e),zd(t,n=of(t,e,!1),e),i=t.zg(e),Array.isArray(i))for(var o=i.length,r=0;r<o;r++)zd(t,n=i[r],e)}function hf(t,e){var n=of(t,e,!0);n=t.rm(n),null===t.Jb(n)&&jd(t,n,e),n=of(t,e,!1),n=t.rm(n),null===t.Jb(n)&&jd(t,n,e);var i=t.zg(e);if(Array.isArray(i))for(var o=i.length,r=0;r<o;r++)n=i[r],null===t.Jb(n)&&jd(t,n,e)}Zd.className="Binding",Zd.parseEnum=function(t,e){return function(n){return null===(n=$(t,n))?e:n}},Zd.toString=P,Zd.OneWay=Qd,Zd.TwoWay=tf,c(ef,Cd),ef.constructGraphLinksModel=Cd.constructGraphLinksModel,ef.prototype.cloneProtected=function(t){Cd.prototype.cloneProtected.call(this,t),t.wi=this.wi,t.yl=this.yl,t.Pk=this.Pk,t.We=this.We,t.Xe=this.Xe,t.Fj=this.Fj,t.Gj=this.Gj,t.Ej=this.Ej,t.Nd=this.Nd,t.Cl=this.Cl,t.te=this.te,t.nn=this.nn},(n=ef.prototype).clear=function(){Cd.prototype.clear.call(this),this.Oc=[],this.eb.clear(),this.Xf.clear()},n.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.Pq();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var n,i=(t=this.nodeDataArray).length;for(n=0;n<i;n++){var o=t[n];e+=" "+this.ja(o)+":"+P(o)}for(e+="\n link data:",i=(t=this.linkDataArray).length,n=0;n<i;n++)e+=" "+of(this,o=t[n],!0)+"--\x3e"+of(this,o,!1)}return e},n.Bw=function(t,e){""===this.linkKeyProperty&&_("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var n=Cd.prototype.Bw.call(this,t,e),i=this,o=new nt,r=new nt,a=new nt,s=this.Ph;t.changes.each((function(t){t.model===i&&("linkDataArray"===t.modelChange?t.change===kn?o.add(t.newValue):t.change===En&&a.add(t.oldValue):i.vc(t.object)?r.add(t.object):null!==t.object&&(null!==t.object&&s&&s.contains(t.object)?s.get(t.object).each((function(t){i.vc(t)&&r.add(t)})):t.object instanceof Cd||i.Ya(t.object)||nf(i,t.object).each((function(t){r.add(t)}))))}));var l=this.zi;l.clear(),o.each((function(t){l.add(i.Vb(t)),e||r.add(t)}));var u=this.Ci;return u.clear(),a.each((function(t){u.add(i.Vb(t)),e&&r.add(t)})),t=i.cloneDeep(r.na()),0<l.count&&(null===n&&(n={}),e?n.removedLinkKeys=l.na():n.insertedLinkKeys=l.na()),0<t.length&&(null===n&&(n={}),n.modifiedLinkData=t),0<u.count&&(null===n&&(n={}),e?n.insertedLinkKeys=u.na():n.removedLinkKeys=u.na()),u.clear(),l.clear(),n},n.Bk=function(){var t=Cd.prototype.Bk.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"===typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"===typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"===typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"===typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"===typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"===typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"===typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"===typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"===typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},n.Hq=function(t){Cd.prototype.Hq.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},n.Cw=function(){return Cd.prototype.Cw.call(this)+(',\n  "linkDataArray": '+Od(this,this.linkDataArray,!0))},n.Yv=function(t){Cd.prototype.Yv.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.Bm(t),this.linkDataArray=t)},n.Uq=function(t){if(!(t instanceof ef))return _("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.linkKeyProperty&&_("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=Cd.prototype.Uq.call(this,t);Id(this,t,"linkKeyProperty"),Id(this,t,"linkFromKeyProperty"),Id(this,t,"linkToKeyProperty"),Id(this,t,"linkLabelKeysProperty"),Id(this,t,"nodeIsGroupProperty"),Id(this,t,"nodeGroupKeyProperty");var n=this.zi;n.clear();var i=new nt,o=this.Ci;o.clear(),o.addAll(this.eb.iteratorKeys);for(var r=new dt,a=t.linkDataArray,s=a.length,l=0;l<s;l++){var u=a[l],h=t.Vb(u);if(void 0!==h){o.remove(h);var c=this.wg(h);null===c?(n.add(h),i.add(u)):Ed(this,c,u,r)||i.add(u)}else this.Aq(u),h=this.Vb(u),n.add(h),i.add(u)}return t=e,0<n.count&&(t+=this.Yt+Od(this,n.na(),!0)),0<i.count&&(t+=this.Lw+Od(this,i.na(),!0)),0<o.count&&(t+=this.$t+Od(this,o.na(),!0)),o.clear(),n.clear(),t},n.Aw=function(t,e){""===this.linkKeyProperty&&_("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var n=Cd.prototype.Aw.call(this,t,e),i=this,o=new nt,r=new nt,a=new nt,s=this.Ph;t.changes.each((function(t){t.model===i&&("linkDataArray"===t.modelChange?t.change===kn?o.add(t.newValue):t.change===En&&a.add(t.oldValue):i.vc(t.object)?r.add(t.object):null!==t.object&&(null!==t.object&&s&&s.contains(t.object)?s.get(t.object).each((function(t){i.vc(t)&&r.add(t)})):t.object instanceof Cd||i.Ya(t.object)||nf(i,t.object).each((function(t){r.add(t)}))))}));var l=this.zi;l.clear(),o.each((function(t){l.add(i.Vb(t)),e||r.add(t)}));var u=this.Ci;return u.clear(),a.each((function(t){u.add(i.Vb(t)),e&&r.add(t)})),t=n,0<l.count&&(t+=(e?this.$t:this.Yt)+Od(this,l.na(),!0)),0<r.count&&(t+=this.Lw+Od(this,r.na(),!0)),0<u.count&&(t+=(e?this.Yt:this.$t)+Od(this,u.na(),!0)),u.clear(),l.clear(),t},n.Gq=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&_("applyIncrementalJson cannot change Model properties"),Cd.prototype.Gq.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var n=e.length,i=0;i<n;i++){var o=e[i],r=this.wg(o);null===r&&(r=this.kq({}),this.Rt(r,o),this.Pi(r))}if(e=t.modifiedLinkData,Array.isArray(e))for(n=e.length,i=0;i<n;i++)if(o=e[i],r=this.Vb(o),null!==(r=this.wg(r)))for(var a in o)"__gohashid"!==a&&a!==this.linkKeyProperty&&this.setDataProperty(r,a,o[a]);if(t=t.removedLinkKeys,Array.isArray(t))for(a=t.length,e=0;e<a;e++)null!==(n=this.wg(t[e]))&&this.zm(n)},ef.prototype.changeState=function(t,e){if(null!==t&&t.model===this){if(t.change===Sn){var n=t.object,i=t.propertyName;if(i===this.linkKeyProperty&&this.vc(n)){var o=t.H(e);return void 0!==(e=t.H(!e))&&this.eb.remove(e),void 0!==o&&this.eb.add(o,n),void qd(n,i,o)}}else if(t.change===kn){if(n=t.newParam,"linkDataArray"===t.modelChange)return void(S(t=t.newValue)&&"number"===typeof n&&(i=this.Vb(t),e?(this.Xf.remove(t),this.Oc[n]===t&&this.Oc.splice(n,1),void 0!==i&&this.eb.remove(i)):(this.Xf.add(t),this.Oc[n]!==t&&this.Oc.splice(n,0,t),void 0!==i&&this.eb.add(i,t))));if("linkLabelKeys"===t.modelChange)return i=this.zg(t.object),void(Array.isArray(i)&&"number"===typeof n&&(e?(n=i.indexOf(t.newValue),0<=n&&i.splice(n,1)):0>i.indexOf(t.newValue)&&i.splice(n,0,t.newValue)))}else if(t.change===En){if(n=t.oldParam,"linkDataArray"===t.modelChange)return void(S(t=t.oldValue)&&"number"===typeof n&&(i=this.Vb(t),e?(this.Xf.add(t),this.Oc[n]!==t&&this.Oc.splice(n,0,t),void 0!==i&&this.eb.add(i,t)):(this.Xf.remove(t),this.Oc[n]===t&&this.Oc.splice(n,1),void 0!==i&&this.eb.remove(i))));if("linkLabelKeys"===t.modelChange)return i=this.zg(t.object),void(Array.isArray(i)&&"number"===typeof n&&(e?0>i.indexOf(t.newValue)&&i.splice(n,0,t.newValue):(n=i.indexOf(t.newValue),0<=n&&i.splice(n,1))))}Cd.prototype.changeState.call(this,t,e)}},(n=ef.prototype).rm=function(t){if(void 0!==t){var e=this.lj;if(null!==e){var n=this.Jb(t);null===n&&(qd(n=this.copyNodeData(e),this.nodeKeyProperty,t),this.qf(n))}return t}},n.Gz=function(t){return of(this,t,!0)},n.my=function(t,e){rf(this,t,e,!0)},n.Mz=function(t){return of(this,t,!1)},n.qy=function(t,e){rf(this,t,e,!1)},n.Hz=function(t){return af(this,t,!0)},n.ny=function(t,e){sf(this,t,e,!0)},n.Nz=function(t){return af(this,t,!1)},n.sy=function(t,e){sf(this,t,e,!1)},n.zg=function(t){if(null===t)return cf;var e=this.Nd;return""===e||void 0===(t=Ud(t,e))?cf:t},n.iw=function(t,e){if(null!==t){var n=this.Nd;if(""!==n)if(this.vc(t)){var i=Ud(t,n);if(void 0===i&&(i=cf),i!==e){if(Array.isArray(i))for(var o=i.length,r=0;r<o;r++)zd(this,i[r],t);for(qd(t,n,e),o=e.length,r=0;r<o;r++){var a=e[r];null===this.Jb(a)&&jd(this,a,t)}Nd(this,"linkLabelKeys",Sn,n,t,i,e),"string"===typeof n&&this.Ba(t,n)}}else qd(t,n,e)}},n.iv=function(t,e){if(null!==e&&void 0!==e&&null!==t){var n=this.Nd;if(""!==n){var i=Ud(t,n);if(void 0===i)(n=[]).push(e),this.iw(t,n);else if(Array.isArray(i)){var o=i.indexOf(e);0<=o||(o=i.length,i.push(e),this.vc(t)&&(null===this.Jb(e)&&jd(this,e,t),Nd(this,"linkLabelKeys",kn,n,t,null,e,null,o)))}else _(n+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},n.hy=function(t,e){if(null!==e&&void 0!==e&&null!==t){var n=this.Nd;if(""!==n){var i=Ud(t,n);if(Array.isArray(i)){var o=i.indexOf(e);0>o||(i.splice(o,1),this.vc(t)&&(zd(this,e,t),Nd(this,"linkLabelKeys",En,n,t,e,null,o,null)))}else void 0!==i&&_(n+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},n.Vb=function(t){if(null!==t){var e=this.wi;if(""!==e&&void 0!==(e=Ud(t,e))){if(Fd(e))return e;_("Key value for link data "+t+" is not a number or a string: "+e)}}},n.Rt=function(t,e){if(null!==t){var n=this.wi;if(""!==n)if(this.vc(t)){var i=Ud(t,n);i!==e&&null===this.wg(e)&&(qd(t,n,e),void 0!==i&&this.eb.remove(i),this.eb.add(e,t),Nd(this,"linkKey",Sn,n,t,i,e),"string"===typeof n&&this.Ba(t,n))}else qd(t,n,e)}},n.wg=function(t){return null===t&&_("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&Fd(t)?this.eb.H(t):null},n.Aq=function(t){if(null!==t){var e=this.wi;if(""!==e){var n=this.Vb(t);if(void 0===n||this.eb.contains(n)){var i=this.yl;if(null!==i&&(void 0!==(n=i(this,t))&&null!==n&&!this.eb.contains(n)))return void qd(t,e,n);if("string"===typeof n){for(i=2;this.eb.contains(n+i);)i++;qd(t,e,n+i)}else if(void 0===n||"number"===typeof n){for(n=-this.eb.count-1;this.eb.contains(n);)n--;qd(t,e,n)}}}}},n.vc=function(t){return null!==t&&this.Xf.contains(t)},n.Pi=function(t){null!==t&&(ot(t),this.vc(t)||lf(this,t,!0))},n.My=function(t){if(Array.isArray(t))for(var e=t.length,n=0;n<e;n++)this.Pi(t[n]);else for(t=t.iterator;t.next();)this.Pi(t.value)},n.zm=function(t){null!==t&&uf(this,t,!0)},n.qA=function(t){if(Array.isArray(t))for(var e=t.length,n=0;n<e;n++)this.zm(t[n]);else for(t=t.iterator;t.next();)this.zm(t.value)},n.hA=function(t){if(""===this.linkKeyProperty&&_("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&k(t)){var e=this.Ci;e.clear(),e.addAll(this.eb.iteratorKeys);var n=this.zi;n.clear();for(var i=t.length,o=0;o<i;o++){var r=t[o],a=this.Vb(r);if(void 0!==a){n.add(a);var s=this.wg(a);s!==r&&(null!==s?this.gq(s,r):(r=this.cloneDeep(r),this.Rt(r,a),this.Pi(r)))}else a=this.cloneDeep(r),this.Pi(a),n.add(this.Vb(a))}for(t=e.iterator;t.next();)i=t.value,n.contains(i)||(i=this.wg(i))&&this.zm(i);this.jq(),e.clear(),n.clear()}},n.kq=function(t){if(null===t)return null;var e=this.Pk;return S(t=null!==e?e(t,this):Wd(this,t,!0))&&(it(t),""!==this.We&&qd(t,this.We,void 0),""!==this.Xe&&qd(t,this.Xe,void 0),""!==this.Nd&&qd(t,this.Nd,[])),t},n.Mv=function(t){if(null===t)return!1;var e=this.Cl;return""!==e&&!!Ud(t,e)},n.$i=function(t){if(null!==t){var e=this.te;if(""!==e&&void 0!==(e=Ud(t,e))){if(Fd(e))return e;_("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},n.Qt=function(t,e){if(null===e&&(e=void 0),null!==t){var n=this.te;if(""!==n)if(this.Ya(t)){var i=Ud(t,n);i!==e&&(zd(this,i,t),qd(t,n,e),null===this.Jb(e)&&jd(this,e,t),Nd(this,"nodeGroupKey",Sn,n,t,i,e),"string"===typeof n&&this.Ba(t,n))}else qd(t,n,e)}},ef.prototype.copyNodeData=function(t){return null===t?null:(t=Cd.prototype.copyNodeData.call(this,t),this.ck||""===this.te||void 0===Ud(t,this.te)||qd(t,this.te,void 0),t)},ef.prototype.setDataProperty=function(t,e,n){if(this.Ya(t)){if(e===this.nodeKeyProperty)return void this.Hm(t,n);if(e===this.nodeCategoryProperty)return void this.Mq(t,n);if(e===this.nodeGroupKeyProperty)return void this.Qt(t,n)}else if(this.vc(t)){if(e===this.linkFromKeyProperty)return void rf(this,t,n,!0);if(e===this.linkToKeyProperty)return void rf(this,t,n,!1);if(e===this.linkFromPortIdProperty)return void sf(this,t,n,!0);if(e===this.linkToPortIdProperty)return void sf(this,t,n,!1);if(e===this.linkKeyProperty)return void this.Rt(t,n);if(e===this.linkCategoryProperty)return void this.Pt(t,n);if(e===this.linkLabelKeysProperty)return void this.iw(t,n)}var i=Ud(t,e);i!==n&&(qd(t,e,n),this.Jt(t,e,i,n))},(n=ef.prototype).gq=function(t,e){if(e){var n,i=this.Ya(t),o=this.vc(t);for(n in e)"__gohashid"===n||i&&n===this.nodeKeyProperty||i&&n===this.nodeIsGroupProperty&&Ud(t,n)===e[n]||o&&n===this.linkKeyProperty||this.setDataProperty(t,n,e[n])}},n.Kq=function(t,e){Cd.prototype.Kq.call(this,t,e);for(var n=this.Ua.iterator;n.next();)this.dw(n.value,t,e);for(n=this.Xf.iterator;n.next();){var i=n.value,o=t,r=e;if(of(this,i,!0)===o){var a=this.We;qd(i,a,r),Nd(this,"linkFromKey",Sn,a,i,o,r),"string"===typeof a&&this.Ba(i,a)}if(of(this,i,!1)===o&&(qd(i,a=this.Xe,r),Nd(this,"linkToKey",Sn,a,i,o,r),"string"===typeof a&&this.Ba(i,a)),a=this.zg(i),Array.isArray(a))for(var s=a.length,l=this.Nd,u=0;u<s;u++)a[u]===o&&(a[u]=r,Nd(this,"linkLabelKeys",kn,l,i,o,r,u,u))}},n.dw=function(t,e,n){if(this.$i(t)===e){var i=this.te;qd(t,i,n),Nd(this,"nodeGroupKey",Sn,i,t,e,n),"string"===typeof i&&this.Ba(t,i)}},n.ww=function(){Cd.prototype.ww.call(this);for(var t=this.linkDataArray,e=t.length,n=0;n<e;n++)hf(this,t[n])},n.Dm=function(t){Cd.prototype.Dm.call(this,t);var e=Hd(this,t=this.ja(t));if(null!==e){var n=D();for(e=e.iterator;e.next();){var i=e.value;if(this.Ya(i)){if(this.$i(i)===t){var o=this.te;Nd(this,"nodeGroupKey",Sn,o,i,t,t),"string"===typeof o&&this.Ba(i,o),n.push(i)}}else if(of(this,i,!0)===t&&(o=this.We,Nd(this,"linkFromKey",Sn,o,i,t,t),"string"===typeof o&&this.Ba(i,o),n.push(i)),of(this,i,!1)===t&&(o=this.Xe,Nd(this,"linkToKey",Sn,o,i,t,t),"string"===typeof o&&this.Ba(i,o),n.push(i)),o=this.zg(i),Array.isArray(o))for(var r=o.length,a=this.Nd,s=0;s<r;s++)o[s]===t&&(Nd(this,"linkLabelKeys",kn,a,i,t,t,s,s),n.push(i))}for(e=0;e<n.length;e++)zd(this,t,n[e]);M(n)}},n.Cm=function(t){Cd.prototype.Cm.call(this,t);var e=this.$i(t);null===this.Jb(e)&&jd(this,e,t)},n.Rq=function(t){Cd.prototype.Rq.call(this,t),zd(this,this.$i(t),t)},n.Bv=function(t){if(null===t)return"";var e=this.Ej;return""===e||void 0===(e=Ud(t,e))?"":"string"===typeof e?e:(_("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},ef.prototype.getLinkCategoryForData=function(t){return this.Bv(t)},ef.prototype.Pt=function(t,e){if(null!==t){var n=this.Ej;if(""!==n)if(this.vc(t)){var i=Ud(t,n);void 0===i&&(i=""),i!==e&&(qd(t,n,e),Nd(this,"linkCategory",Sn,n,t,i,e),"string"===typeof n&&this.Ba(t,n))}else qd(t,n,e)}},ef.prototype.setLinkCategoryForData=function(t,e){this.Pt(t,e)},ef.prototype.kk=function(){return!0},ef.prototype.dj=function(){return!0},ef.prototype.zt=function(){return!0},ef.prototype.lk=function(){return!0},d.Object.defineProperties(ef.prototype,{archetypeNodeData:{get:function(){return this.lj},set:function(t){var e=this.lj;e!==t&&(this.lj=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.We},set:function(t){var e=this.We;e!==t&&(this.We=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.Xe},set:function(t){var e=this.Xe;e!==t&&(this.Xe=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.Fj},set:function(t){var e=this.Fj;e!==t&&(this.Fj=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.Gj},set:function(t){var e=this.Gj;e!==t&&(this.Gj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.Nd},set:function(t){var e=this.Nd;e!==t&&(this.Nd=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.Oc},set:function(t){var e=this.Oc;if(e!==t){this.eb.clear();for(var n=t.length,i=0;i<n;i++){var o=t[i];if(!S(o))return void _("GraphLinksModel.linkDataArray must only contain Objects, not: "+o);ot(o)}if(this.Oc=t,""!==this.linkKeyProperty){for(i=new tt,o=0;o<n;o++){var r=t[o],a=this.Vb(r);void 0===a||null!==this.eb.H(a)?i.add(r):this.eb.add(a,r)}for(i=i.iterator;i.next();)o=i.value,this.Aq(o),void 0!==(r=this.Vb(o))&&this.eb.add(r,o)}for(i=new nt,o=0;o<n;o++)i.add(t[o]);for(this.Xf=i,Nd(this,"linkDataArray",Sn,"linkDataArray",this,e,t),e=0;e<n;e++)hf(this,t[e])}}},linkKeyProperty:{get:function(){return this.wi},set:function(t){var e=this.wi;if(e!==t){this.wi=t,this.eb.clear();for(var n=this.linkDataArray.length,i=0;i<n;i++){var o=this.linkDataArray[i],r=this.Vb(o);void 0===r&&(this.Aq(o),r=this.Vb(o)),void 0!==r&&this.eb.add(r,o)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.yl},set:function(t){var e=this.yl;e!==t&&(this.yl=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.Pk},set:function(t){var e=this.Pk;e!==t&&(this.Pk=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.Cl},set:function(t){var e=this.Cl;e!==t&&(this.Cl=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.te},set:function(t){var e=this.te;e!==t&&(this.te=t,this.g("nodeGroupKeyProperty",e,t))}},ck:{get:function(){return this.nn},set:function(t){this.nn!==t&&(this.nn=t)}},linkCategoryProperty:{get:function(){return this.Ej},set:function(t){var e=this.Ej;e!==t&&(this.Ej=t,this.g("linkCategoryProperty",e,t))}}}),d.Object.defineProperties(ef,{type:{get:function(){return"GraphLinksModel"}}}),ef.prototype.setCategoryForLinkData=ef.prototype.Pt,ef.prototype.getCategoryForLinkData=ef.prototype.Bv,ef.prototype.assignAllDataProperties=ef.prototype.gq,ef.prototype.setGroupKeyForNodeData=ef.prototype.Qt,ef.prototype.getGroupKeyForNodeData=ef.prototype.$i,ef.prototype.isGroupForNodeData=ef.prototype.Mv,ef.prototype.copyLinkData=ef.prototype.kq,ef.prototype.mergeLinkDataArray=ef.prototype.hA,ef.prototype.removeLinkDataCollection=ef.prototype.qA,ef.prototype.removeLinkData=ef.prototype.zm,ef.prototype.addLinkDataCollection=ef.prototype.My,ef.prototype.addLinkData=ef.prototype.Pi,ef.prototype.containsLinkData=ef.prototype.vc,ef.prototype.makeLinkDataKeyUnique=ef.prototype.Aq,ef.prototype.findLinkDataForKey=ef.prototype.wg,ef.prototype.setKeyForLinkData=ef.prototype.Rt,ef.prototype.getKeyForLinkData=ef.prototype.Vb,ef.prototype.removeLabelKeyForLinkData=ef.prototype.hy,ef.prototype.addLabelKeyForLinkData=ef.prototype.iv,ef.prototype.setLabelKeysForLinkData=ef.prototype.iw,ef.prototype.getLabelKeysForLinkData=ef.prototype.zg,ef.prototype.setToPortIdForLinkData=ef.prototype.sy,ef.prototype.getToPortIdForLinkData=ef.prototype.Nz,ef.prototype.setFromPortIdForLinkData=ef.prototype.ny,ef.prototype.getFromPortIdForLinkData=ef.prototype.Hz,ef.prototype.setToKeyForLinkData=ef.prototype.qy,ef.prototype.getToKeyForLinkData=ef.prototype.Mz,ef.prototype.setFromKeyForLinkData=ef.prototype.my,ef.prototype.getFromKeyForLinkData=ef.prototype.Gz,ef.prototype.clear=ef.prototype.clear;var cf=Object.freeze([]);function df(t){Cd.call(this),this.ue="parent",this.pn=!1,this.Lj="parentLinkCategory",void 0!==t&&(this.nodeDataArray=t)}function ff(){Vc.call(this),this.Ww=this.Dn=this.$b=0,this.Dr=360,this.Vw=Cf,this.tj=0,this.Nw=new ft,this.pr=this.Td=0,this.bt=new Lf,this.gu=this.Kj=0,this.Dy=600,this.ip=NaN,this.Zm=1,this.Np=0,this.Ul=360,this.Bb=Cf,this.J=If,this.Qc=Bf,this.Lc=qc,this.ff=6,this.So=Nf}function pf(t,e,n,i,o){var r=t.Dr,a=t.$b;t=t.Td,i=i*Math.PI/180,n=n*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var u=i+(o===If?l*n/(360<=r?s:s-1):-l*n/s),h=e.L(l),c=a*Math.tan(u)/t;c=Math.sqrt((a*a+t*t*c*c)/(1+c*c)),h.centerX=c*Math.cos(u),h.centerY=c*Math.sin(u),h.actualAngle=180*u/Math.PI}}function gf(t,e,n,i){var o=t.$b,r=t.Td,a=t.tj;n=n*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var u=e.L(l),h=e.L(l===s-1?0:l+1),c=r*Math.sin(n);u.centerX=o*Math.cos(n),u.centerY=c,u.actualAngle=180*n/Math.PI,isNaN(u.diameter)&&zf(u,0),isNaN(h.diameter)&&zf(h,0),u=wf(t,o,r,i===If?n:-n,(u.diameter+h.diameter)/2+a),n+=i===If?u:-u}}function mf(t,e,n,i){var o=t.$b,r=t.Td,a=t.pr;n=n*Math.PI/180;for(var s=e.length,l=0;l<s;l++){var u=e.L(l);u.centerX=o*Math.cos(n),u.centerY=r*Math.sin(n),u.actualAngle=180*n/Math.PI,u=wf(t,o,r,i===If?n:-n,a),n+=i===If?u:-u}}function vf(t,e,n,i,o){var r=t.Dr;if(t.Kj=0,t.bt=new Lf,360>n){for(r=i+(o===If?r:-r);0>r;)r+=360;180<(r%=360)&&(r-=360),r*=Math.PI/180,t.gu=r,function t(e,n,i,o,r){for(var a=e.$b,s=e.Td,l=e.Dn,u=a*Math.cos(o*Math.PI/180),h=s*Math.sin(o*Math.PI/180),c=ft.alloc(),d=n.na(),f=0;f<d.length&&(d[f].centerX=u,d[f].centerY=h,!(f>=d.length-1));f++)yf(e,u,h,d,f,r,c)||_f(e,u,h,d,f,r,c),u=c.x,h=c.y;if(ft.free(c),e.Kj++,!(23<e.Kj)){if(u=Math.atan2(h,u),u=r===If?e.gu-u:u-e.gu,u=Math.abs(u)<Math.abs(u-2*Math.PI)?u:u-2*Math.PI,a=u*(a+s)/2,s=e.bt,Math.abs(a)<Math.abs(s.lm))for(s.lm=a,s.Ck=[],s.Mm=[],u=0;u<d.length;u++)s.Ck[u]=d[u].bounds.x,s.Mm[u]=d[u].bounds.y;1<Math.abs(a)&&(e.$b=8>e.Kj?e.$b-a/(2*Math.PI):e.$b-(0<a?1.7:-2.3),e.Td=e.$b*l,t(e,n,i,o,r))}}(t,e,n,i,o)}else!function t(e,n,i,o,r){var a=e.$b,s=e.tj,l=e.Dn,u=a*Math.cos(o*Math.PI/180),h=e.Td*Math.sin(o*Math.PI/180),c=n.na();if(3===c.length)c[0].centerX=a,c[0].centerY=0,c[1].centerX=c[0].centerX-c[0].width/2-c[1].width/2-s,c[1].y=c[0].y,c[2].centerX=(c[0].centerX+c[1].centerX)/2,c[2].y=c[0].y-c[2].height-s;else if(4===c.length)c[0].centerX=a,c[0].centerY=0,c[2].centerX=-c[0].centerX,c[2].centerY=c[0].centerY,c[1].centerX=0,c[1].y=Math.min(c[0].y,c[2].y)-c[1].height-s,c[3].centerX=0,c[3].y=Math.max(c[0].y+c[0].height+s,c[2].y+c[2].height+s);else{a=ft.alloc();for(var d=0;d<c.length&&(c[d].centerX=u,c[d].centerY=h,!(d>=c.length-1));d++)yf(e,u,h,c,d,r,a)||_f(e,u,h,c,d,r,a),u=a.x,h=a.y;if(ft.free(a),e.Kj++,!(23<e.Kj)){u=c[0].centerX,h=c[0].centerY,a=c[c.length-1].centerX,d=c[c.length-1].centerY;var f=Math.abs(u-a)-((c[0].width+c[c.length-1].width)/2+s),p=Math.abs(h-d)-((c[0].height+c[c.length-1].height)/2+s);s=0,1>Math.abs(p)?Math.abs(u-a)<(c[0].width+c[c.length-1].width)/2&&(s=0):s=0<p?p:1>Math.abs(f)?0:f,u=Math.abs(a)>Math.abs(d)?0<a!==h>d:0<d!==u<a,(u=r===If?u:!u)&&(s=-Math.abs(s),s=Math.min(s,-c[c.length-1].width),s=Math.min(s,-c[c.length-1].height)),e.bt.compare(s,c),1<Math.abs(s)&&(e.$b=8>e.Kj?e.$b-s/(2*Math.PI):5>c.length&&10<s?e.$b/2:e.$b-(0<s?1.7:-2.3),e.Td=e.$b*l,t(e,n,i,o,r))}}}(t,e,n,i,o);t.bt.commit(e)}function yf(t,e,n,i,o,r,a){var s=t.$b,l=t.Td,u=0;t=(i[o].width+i[o+1].width)/2+t.tj;var h=!1;if(0<=n!==(r===If)){if((r=e+t)>s){if((r=e-t)<-s)return a.x=r,a.y=u,!1;h=!0}}else if((r=e-t)<-s){if((r=e+t)>s)return a.x=r,a.y=u,!1;h=!0}return u=Math.sqrt(1-Math.min(1,r*r/(s*s)))*l,0>n!==h&&(u=-u),Math.abs(n-u)>(i[o].height+i[o+1].height)/2?(a.x=r,a.y=u,!1):(a.x=r,a.y=u,!0)}function _f(t,e,n,i,o,r,a){var s=t.$b,l=t.Td,u=0;if(t=(i[o].height+i[o+1].height)/2+t.tj,i=!1,0<=e!==(r===If)){if((r=n-t)<-l){if((r=n+t)>l)return a.x=u,void(a.y=r);i=!0}}else if((r=n+t)>l){if((r=n-t)<-l)return a.x=u,void(a.y=r);i=!0}u=Math.sqrt(1-Math.min(1,r*r/(l*l)))*s,0>e!==i&&(u=-u),a.x=u,a.y=r}function bf(t,e,n,i,o){var r=t.Dy;if(.001>Math.abs(t.Dn-1))return void 0!==i&&void 0!==o?o*e:2*Math.PI*e;t=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;for(var a=0,s=void 0!==i&&void 0!==o?o/(r+1):Math.PI/(2*(r+1)),l=0,u=0;u<=r;u++){l=void 0!==i&&void 0!==o?i+u*o/r:u*Math.PI/(2*r);var h=Math.sin(l);a+=Math.sqrt(1-t*t*h*h)*s}return void 0!==i&&void 0!==o?(e>n?e:n)*a:4*(e>n?e:n)*a}function xf(t,e,n,i,o){return e/(void 0!==i&&void 0!==o?bf(t,1,n,i,o):bf(t,1,n))}function wf(t,e,n,i,o){if(.001>Math.abs(t.Dn-1))return o/e;var r=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n,a=0;t=2*Math.PI/(700*t.network.vertexes.count),e>n&&(i+=Math.PI/2);for(var s=0;;s++){var l=Math.sin(i+s*t);if((a+=(e>n?e:n)*Math.sqrt(1-r*r*l*l)*t)>=o)return s*t}}ef.className="GraphLinksModel",Xd.GraphLinksModel=ef,Cd.constructGraphLinksModel=Cd.constructGraphLinksModel=function(){return new ef},Cd.initDiagramModel=Gd=function(){return new ef},c(df,Cd),df.constructGraphLinksModel=Cd.constructGraphLinksModel,df.prototype.cloneProtected=function(t){Cd.prototype.cloneProtected.call(this,t),t.ue=this.ue,t.pn=this.pn,t.Lj=this.Lj},(n=df.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.Pq();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var n=(t=this.nodeDataArray).length,i=0;i<n;i++){var o=t[i];e+=" "+this.ja(o)+":"+P(o)}}return e},n.Bk=function(){var t=Cd.prototype.Bk.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"===typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},n.Hq=function(t){Cd.prototype.Hq.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},n.Uq=function(t){return Id(this,t,"nodeParentKeyProperty"),Cd.prototype.Uq.call(this,t)},n.Gq=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&_("applyIncrementalJson cannot change Model properties"),Cd.prototype.Gq.call(this,t)},n.rm=function(t){return t},n.bj=function(t){if(null!==t){var e=this.ue;if(""!==e&&void 0!==(e=Ud(t,e))){if(Fd(e))return e;_("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},n.He=function(t,e){if(null===e&&(e=void 0),null!==t){var n=this.ue;if(""!==n)if(e=this.rm(e),this.Ya(t)){var i=Ud(t,n);i!==e&&(zd(this,i,t),qd(t,n,e),null===this.Jb(e)&&jd(this,e,t),Nd(this,"nodeParentKey",Sn,n,t,i,e),"string"===typeof n&&this.Ba(t,n))}else qd(t,n,e)}},n.Cv=function(t){if(null===t)return"";var e=this.Lj;return""===e||void 0===(e=Ud(t,e))?"":"string"===typeof e?e:(_("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},df.prototype.getLinkCategoryForData=function(t){return this.Cv(t)},df.prototype.jw=function(t,e){if(null!==t){var n=this.Lj;if(""!==n)if(this.Ya(t)){var i=Ud(t,n);void 0===i&&(i=""),i!==e&&(qd(t,n,e),Nd(this,"parentLinkCategory",Sn,n,t,i,e),"string"===typeof n&&this.Ba(t,n))}else qd(t,n,e)}},df.prototype.setLinkCategoryForData=function(t,e){this.jw(t,e)},df.prototype.copyNodeData=function(t){return null===t?null:(t=Cd.prototype.copyNodeData.call(this,t),this.dk||""===this.ue||void 0===Ud(t,this.ue)||qd(t,this.ue,void 0),t)},df.prototype.setDataProperty=function(t,e,n){if(this.Ya(t)){if(e===this.nodeKeyProperty)return void this.Hm(t,n);if(e===this.nodeCategoryProperty)return void this.Mq(t,n);if(e===this.nodeParentKeyProperty)return void this.He(t,n)}var i=Ud(t,e);i!==n&&(qd(t,e,n),this.Jt(t,e,i,n))},(n=df.prototype).Kq=function(t,e){Cd.prototype.Kq.call(this,t,e);for(var n=this.Ua.iterator;n.next();)this.dw(n.value,t,e)},n.dw=function(t,e,n){if(this.bj(t)===e){var i=this.ue;qd(t,i,n),Nd(this,"nodeParentKey",Sn,i,t,e,n),"string"===typeof i&&this.Ba(t,i)}},n.Dm=function(t){Cd.prototype.Dm.call(this,t);var e=Hd(this,t=this.ja(t));if(null!==e){var n=D();for(e=e.iterator;e.next();){var i=e.value;if(this.Ya(i)&&this.bj(i)===t){var o=this.ue;Nd(this,"nodeParentKey",Sn,o,i,t,t),"string"===typeof o&&this.Ba(i,o),n.push(i)}}for(e=0;e<n.length;e++)zd(this,t,n[e]);M(n)}},n.Cm=function(t){Cd.prototype.Cm.call(this,t);var e=this.bj(t);e=this.rm(e),null===this.Jb(e)&&jd(this,e,t)},n.Rq=function(t){Cd.prototype.Rq.call(this,t),zd(this,this.bj(t),t)},n.qm=function(){return!0},n.zt=function(){return!0},d.Object.defineProperties(df.prototype,{nodeParentKeyProperty:{get:function(){return this.ue},set:function(t){var e=this.ue;e!==t&&(this.ue=t,this.g("nodeParentKeyProperty",e,t))}},dk:{get:function(){return this.pn},set:function(t){this.pn!==t&&(this.pn=t)}},parentLinkCategoryProperty:{get:function(){return this.Lj},set:function(t){var e=this.Lj;e!==t&&(this.Lj=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}}}),d.Object.defineProperties(df,{type:{get:function(){return"TreeModel"}}}),df.prototype.setParentLinkCategoryForNodeData=df.prototype.jw,df.prototype.getParentLinkCategoryForNodeData=df.prototype.Cv,df.prototype.setParentKeyForNodeData=df.prototype.He,df.prototype.getParentKeyForNodeData=df.prototype.bj,df.className="TreeModel",Xd.TreeModel=df,c(ff,Vc),ff.prototype.cloneProtected=function(t){Vc.prototype.cloneProtected.call(this,t),t.ip=this.ip,t.Zm=this.Zm,t.Np=this.Np,t.Ul=this.Ul,t.Bb=this.Bb,t.J=this.J,t.Qc=this.Qc,t.Lc=this.Lc,t.ff=this.ff,t.So=this.So},ff.prototype.gb=function(t){t.classType===ff?t===Af||t===Rf||t===Of||t===Pf||t===Bf?this.sorting=t:t===Df||t===Mf||t===If||t===Tf?this.direction=t:t===kf||t===Sf||t===Cf||t===Ef?this.arrangement=t:t!==Ff&&t!==Nf||(this.nodeDiameterFormula=t):Vc.prototype.gb.call(this,t)},ff.prototype.createNetwork=function(){return new Vf(this)},ff.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new tt;e.addAll(t.iterator),t=new tt;var n,i,o=new tt,r=this.sort(e),a=this.pr,s=this.arrangement,l=this.nodeDiameterFormula,u=this.radius;(!isFinite(u)||0>=u)&&(u=NaN);var h=this.aspectRatio;(!isFinite(h)||0>=h)&&(h=1);var c=this.startAngle;isFinite(c)||(c=0);var d=this.sweepAngle;if((!isFinite(d)||360<d||1>d)&&(d=360),e=this.spacing,isFinite(e)||(e=NaN),s===Ef&&l===Ff?s=Cf:s===Ef&&l!==Ff&&(s=this.arrangement),(this.direction===Df||this.direction===Mf)&&this.sorting!==Bf){for(l=0;!(l>=r.length)&&(t.add(r.L(l)),!(l+1>=r.length));l+=2)o.add(r.L(l+1));this.direction===Df?(this.arrangement===Ef&&t.reverse(),(r=new tt).addAll(t),r.addAll(o)):(this.arrangement===Ef&&o.reverse(),(r=new tt).addAll(o),r.addAll(t))}l=r.length;for(var f=i=n=0;f<r.length;f++){var p=c+d*i*(this.direction===If?1:-1)/l,g=r.L(f).diameter;isNaN(g)&&(g=zf(r.L(f),p)),360>d&&(0===f||f===r.length-1)&&(g/=2),n+=g,i++}if(isNaN(u)||s===Ef){if(isNaN(e)&&(e=6),s!==Cf&&s!==Ef){for(i=-1/0,a=0;a<l;a++)f=r.L(a),n=r.L(a===l-1?0:a+1),isNaN(f.diameter)&&zf(f,0),isNaN(n.diameter)&&zf(n,0),i=Math.max(i,(f.diameter+n.diameter)/2);a=i+e,u=s===kf?(i+e)/(2*Math.PI/l):xf(this,a*(360<=d?l:l-1),h,c*Math.PI/180,d*Math.PI/180)}else u=xf(this,n+(360<=d?l:l-1)*(s!==Ef?e:1.6*e),h,c*Math.PI/180,d*Math.PI/180);i=u*h}else if(f=bf(this,u,i=u*h,c*Math.PI/180,d*Math.PI/180),isNaN(e))s!==Cf&&s!==Ef||(e=(f-n)/(360<=d?l:l-1));else if(s===Cf||s===Ef)(f=(f-n)/(360<=d?l:l-1))<e?i=(u=xf(this,n+e*(360<=d?l:l-1),h,c*Math.PI/180,d*Math.PI/180))*h:e=f;else{for(a=-1/0,n=0;n<l;n++)p=r.L(n),g=r.L(n===l-1?0:n+1),isNaN(p.diameter)&&zf(p,0),isNaN(g.diameter)&&zf(g,0),a=Math.max(a,(p.diameter+g.diameter)/2);(n=xf(this,(a+=e)*(360<=d?l:l-1),h,c*Math.PI/180,d*Math.PI/180))>u?i=(u=n)*h:a=f/(360<=d?l:l-1)}if(this.Vw=s,this.$b=u,this.Dn=h,this.Ww=c,this.Dr=d,this.tj=e,this.Td=i,this.pr=a,e=r,r=this.Vw,s=this.$b,u=this.Ww,h=this.Dr,c=this.tj,d=this.Td,l=this.pr,this.direction!==Df&&this.direction!==Mf||r!==Ef)if(this.direction===Df||this.direction===Mf){switch(a=0,r){case Sf:a=180*wf(this,s,d,u,l)/Math.PI;break;case Cf:l=e=0,null!==(a=t.first())&&(e=zf(a,Math.PI/2)),null!==(a=o.first())&&(l=zf(a,Math.PI/2)),a=180*wf(this,s,d,u,c+(e+l)/2)/Math.PI;break;case kf:a=h/e.length}if(this.direction===Df){switch(r){case Sf:mf(this,t,u,Tf);break;case Cf:gf(this,t,u,Tf);break;case kf:pf(this,t,h/2,u,Tf)}switch(r){case Sf:mf(this,o,u+a,If);break;case Cf:gf(this,o,u+a,If);break;case kf:pf(this,o,h/2,u+a,If)}}else{switch(r){case Sf:mf(this,o,u,Tf);break;case Cf:gf(this,o,u,Tf);break;case kf:pf(this,o,h/2,u,Tf)}switch(r){case Sf:mf(this,t,u+a,If);break;case Cf:gf(this,t,u+a,If);break;case kf:pf(this,t,h/2,u+a,If)}}}else switch(r){case Sf:mf(this,e,u,this.direction);break;case Cf:gf(this,e,u,this.direction);break;case kf:pf(this,e,h,u,this.direction);break;case Ef:vf(this,e,h,u,this.direction)}else vf(this,e,h,u-h/2,If)}this.updateParts(),this.network=null,this.isValidLayout=!0},ff.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},ff.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,n=this.actualCenter;t?n=new ft(0,0):(n.x=this.arrangementOrigin.x+this.$b,n.y=this.arrangementOrigin.y+this.Td);for(var i=this.network.vertexes.iterator;i.next();){var o=i.value;o.x+=n.x,o.y+=n.y,o.commit()}t&&(this.group.zb(),t=this.group.position.copy(),n=this.group.location.copy(),e=e.ae(n.ae(t)),this.group.move(e),this.Nw=e.ae(t))},ff.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},ff.prototype.sort=function(t){switch(this.sorting){case Of:break;case Pf:t.reverse();break;case Af:t.sort(this.comparer);break;case Rf:t.sort(this.comparer),t.reverse();break;case Bf:for(var e=[],n=0;n<t.length;n++)e.push(0);n=new tt;for(var i=0;i<t.length;i++){var o=-1,r=-1;if(0===i)for(var a=0;a<t.length;a++){var s=t.L(a).edgesCount;s>o&&(o=s,r=a)}else for(a=0;a<t.length;a++)(s=e[a])>o&&(o=s,r=a);for(n.add(t.L(r)),e[r]=-1,a=(r=t.L(r)).sourceEdges;a.next();)0>(o=t.indexOf(a.value.fromVertex))||0<=e[o]&&e[o]++;for(r=r.destinationEdges;r.next();)0>(o=t.indexOf(r.value.toVertex))||0<=e[o]&&e[o]++}for(t=[],e=0;e<n.length;e++){for(o=n.L(e),t[e]=[],r=o.destinationEdges;r.next();)(i=n.indexOf(r.value.toVertex))!==e&&0>t[e].indexOf(i)&&t[e].push(i);for(o=o.sourceEdges;o.next();)(i=n.indexOf(o.value.fromVertex))!==e&&0>t[e].indexOf(i)&&t[e].push(i)}for(r=[],e=0;e<t.length;e++)r[e]=0;e=[],a=[],s=[],o=[],i=new tt;for(var l=0,u=0;u<t.length;u++){var h=t[u].length;if(1===h)o.push(u);else if(0===h)i.add(n.L(u));else{if(0===l)e.push(u);else{for(var c=h=1/0,d=-1,f=[],p=0;p<e.length;p++)0>t[e[p]].indexOf(e[p===e.length-1?0:p+1])&&f.push(p===e.length-1?0:p+1);if(0===f.length)for(p=0;p<e.length;p++)f.push(p);for(p=0;p<f.length;p++){for(var g=f[p],m=t[u],v=0,y=0;y<a.length;y++){var b=r[a[y]],x=r[s[y]];if(b<x){var w=b;b=x}else w=x;if(w<g&&g<=b)for(x=0;x<m.length;x++){var C=m[x];0>e.indexOf(C)||w<r[C]&&r[C]<b||w===r[C]||b===r[C]||v++}else for(x=0;x<m.length;x++)C=m[x],0>e.indexOf(C)||w<r[C]&&r[C]<b&&w!==r[C]&&b!==r[C]&&v++}for(m=v,y=v=0;y<t[u].length;y++)0<=(w=e.indexOf(t[u][y]))&&(v+=(w=Math.abs(g-(w>=g?w+1:w)))<e.length+1-w?w:e.length+1-w);for(y=0;y<a.length;y++)(w=r[a[y]])>=g&&w++,(b=r[s[y]])>=g&&b++,w>b&&(x=b,b=w,w=x),b-w<(e.length+2)/2===(w<g&&g<=b)&&v++;(m<h||m===h&&v<c)&&(h=m,c=v,d=g)}for(e.splice(d,0,u),h=0;h<e.length;h++)r[e[h]]=h;for(h=0;h<t[u].length;h++)c=t[u][h],0<=e.indexOf(c)&&(a.push(u),s.push(c))}l++}}for(a=e.length;;){for(r=!0,s=0;s<o.length;s++)if(u=t[l=o[s]][0],0<=(h=e.indexOf(u))){for(d=c=0;d<t[u].length;d++)0>(f=e.indexOf(t[u][d]))||f===h||(c+=f<h!==(p=f>h?f-h:h-f)>a-p?1:-1);e.splice(0>c?h:h+1,0,l),o.splice(s,1),s--}else r=!1;if(r)break;e.push(o[0]),o.splice(0,1)}for(t=0;t<e.length;t++)i.add(n.L(e[t]));return i;default:_("Invalid sorting type.")}return t},d.Object.defineProperties(ff.prototype,{radius:{get:function(){return this.ip},set:function(t){this.ip!==t&&(0<t||isNaN(t))&&(this.ip=t,this.C())}},aspectRatio:{get:function(){return this.Zm},set:function(t){this.Zm!==t&&0<t&&(this.Zm=t,this.C())}},startAngle:{get:function(){return this.Np},set:function(t){this.Np!==t&&(this.Np=t,this.C())}},sweepAngle:{get:function(){return this.Ul},set:function(t){this.Ul!==t&&(this.Ul=0<t&&360>=t?t:360,this.C())}},arrangement:{get:function(){return this.Bb},set:function(t){this.Bb===t||t!==Ef&&t!==Cf&&t!==Sf&&t!==kf||(this.Bb=t,this.C())}},direction:{get:function(){return this.J},set:function(t){this.J===t||t!==If&&t!==Tf&&t!==Df&&t!==Mf||(this.J=t,this.C())}},sorting:{get:function(){return this.Qc},set:function(t){this.Qc===t||t!==Of&&t!==Pf&&t!==Af&&!Rf&&t!==Bf||(this.Qc=t,this.C())}},comparer:{get:function(){return this.Lc},set:function(t){this.Lc!==t&&(this.Lc=t,this.C())}},spacing:{get:function(){return this.ff},set:function(t){this.ff!==t&&(this.ff=t,this.C())}},nodeDiameterFormula:{get:function(){return this.So},set:function(t){this.So===t||t!==Nf&&t!==Ff||(this.So=t,this.C())}},actualXRadius:{get:function(){return this.$b}},actualYRadius:{get:function(){return this.Td}},actualSpacing:{get:function(){return this.tj}},actualCenter:{get:function(){return this.Nw}}});var Cf=new K(ff,"ConstantSpacing",0),Sf=new K(ff,"ConstantDistance",1),kf=new K(ff,"ConstantAngle",2),Ef=new K(ff,"Packed",3),If=new K(ff,"Clockwise",4),Tf=new K(ff,"Counterclockwise",5),Df=new K(ff,"BidirectionalLeft",6),Mf=new K(ff,"BidirectionalRight",7),Of=new K(ff,"Forwards",8),Pf=new K(ff,"Reverse",9),Af=new K(ff,"Ascending",10),Rf=new K(ff,"Descending",11),Bf=new K(ff,"Optimized",12),Nf=new K(ff,"Pythagorean",13),Ff=new K(ff,"Circular",14);function Lf(){this.lm=-1/0,this.Mm=this.Ck=null}function Vf(t){Hc.call(this,t)}function jf(t){Uc.call(this,t),this.I=this.rj=NaN}function zf(t,e){var n=t.network;if(null===n)return NaN;if(null===(n=n.layout))return NaN;if(n.arrangement===Ef)if(n.nodeDiameterFormula===Ff)t.rj=Math.max(t.width,t.height);else{if(n=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===n)return t.width;if(0===e)return t.height;t.rj=Math.min(t.height/n,t.width/e)}else t.rj=n.nodeDiameterFormula===Ff?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.rj}function Hf(t){Yc.call(this,t)}function Wf(){Vc.call(this),this.yh=null,this.lo=0,this.Bd=new Rt(100,100).freeze(),this.Ym=!1,this.df=!0,this.Zc=!1,this.zl=100,this.Gn=1,this.Tf=1e3,this.Jo=10,this.jp=Math,this.Wk=.05,this.Vk=50,this.Tk=150,this.Uk=0,this.xn=10,this.wn=5}function Gf(t,e,n){if(function(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.yh=t.network.vertexes.na(),(t=t.yh).sort((function(t,e){return null===t||null===e||t===e?0:e.yd-t.yd})),e=t.length-1;0<=e&&1>=t[e].yd;)e--;return 1<t.length-e}(t,e)){var i=t.Tf;t.Tf*=1+1/(e+1);var o=function(t,e){for(var n=t.network,i=new Zf(t),o=0;o<t.yh.length;o++){var r=t.yh[o];if(!(1<r.yd))break;i.Bh(r);var a=new Xf;a.Wt=r.yd,a.Xt=r.width,a.Vt=r.height,a.Dw=r.focus.x,a.Ew=r.focus.y,null===r.Ge&&(r.Ge=new tt),r.Ge.add(a),r.gw=r.Ge.count-1}for(r=n.edges.iterator;r.next();){var s=r.value;o=s.fromVertex,a=s.toVertex,o.network===i&&a.network===i?i.eq(s):o.network===i?(null===(s=o.bk)&&(s=new tt,o.bk=s),s.add(a),o.yd--,o.Jh+=a.Jh):a.network===i&&(null===(s=a.bk)&&(s=new tt,a.bk=s),s.add(o),a.yd--,a.Jh+=o.Jh)}for(o=i.edges.iterator;o.next();)(r=o.value).length*=Math.max(1,Ue.sqrt((r.fromVertex.Jh+r.toVertex.Jh)/(4*e+1)));for(e=i.vertexes.iterator;e.next();){var l=(o=e.value).bk;if(null!==l&&0<l.count&&!(0>=(a=o.Ge.L(o.Ge.count-1).Wt-o.yd))){for(var u=s=0,h=l.count-a;h<l.count;h++){var c=l.L(h),d=null;for(r=c.edges.iterator;r.next();){var f=r.value;if(f.Ux(c)===o){d=f;break}}null!==d&&(u+=d.length,s+=c.width*c.height)}r=o.centerX,l=o.centerY,h=o.width,c=o.height,d=o.focus,1>(f=h*c)&&(f=1),s=Ue.sqrt((s+f+u*u*4/(a*a))/f),a=(s-1)*h/2,s=(s-1)*c/2,o.bounds=new Lt(r-d.x-a,l-d.y-s,h+2*a,c+2*s),o.focus=new ft(d.x+a,d.y+s)}}return t.network=i,n}(t,e),r=Math.max(0,Math.max(Math.min(t.network.vertexes.count,n*(e+1)/11),10));for(t.maxIterations+=r,Gf(t,e+1,n),qf(t,r),function(t,e){for(var n=t.network.vertexes.iterator;n.next();){var i=n.value;if(i.network=e,null!==i.Ge){var o=i.Ge.L(i.gw);i.yd=o.Wt;var r=o.Dw,a=o.Ew;i.bounds=new Lt(i.centerX-r,i.centerY-a,o.Xt,o.Vt),i.focus=new ft(r,a),i.gw--}}for(n=t.network.edges.iterator;n.next();)n.value.network=e;t.network=e}(t,o),(e=o.vertexes.na()).sort((function(t,e){return null===t||null===e||t===e?0:e.yd-t.yd})),n=0;n<e.length;n++)Kf(t,e[n]);t.Tf=i}}function Kf(t,e){var n=e.bk;if(null!==n&&0!==n.count){var i=e.centerX,o=e.centerY,r=e.width,a=e.height;null!==e.Ge&&0<e.Ge.count&&(r=(a=e.Ge.L(0)).Xt,a=a.Vt),r=Ue.sqrt(r*r+a*a)/2;for(var s=!1,l=a=0,u=0,h=e.vertexes.iterator;h.next();){var c=h.value;1>=c.yd?l++:(s=!0,u++,a+=Math.atan2(e.centerY-c.centerY,e.centerX-c.centerX))}if(0!==l)for(0<u&&(a/=u),u=e=0,e=s?2*Math.PI/(l+1):2*Math.PI/l,0===l%2&&(u=e/2),1<n.count&&n.sort((function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height})),s=0===l%2?0:1,n=n.iterator;n.next();)if(!(1<(l=n.value).yd||t.isFixed(l))){for(h=null,c=l.edges.iterator;c.next();){h=c.value;break}c=l.width;var d=l.height;c=Ue.sqrt(c*c+d*d)/2,h=r+h.length+c,c=a+(e*(s/2>>1)+u)*(0===s%2?1:-1),l.centerX=i+h*Math.cos(c),l.centerY=o+h*Math.sin(c),s++}}}function $f(t,e,n,i,o,r,a){var s=9e19,l=-1,u=0;t:for(;u<e;u++){var h=t[u],c=h.x-n,d=h.y-i;if((c=c*c+d*d)<s){for(d=u-1;0<=d;d--)if(t[d].y>h.y&&t[d].x-h.x<o+a.width)continue t;for(d=u+1;d<e;d++)if(t[d].x>h.x&&t[d].y-h.y<r+a.height)continue t;l=u,s=c}}return l}function Uf(t,e){var n=t.bounds,i=n.x;t=n.y;var o=n.width;n=n.height;var r=e.bounds,a=r.x;e=r.y;var s=r.width;return r=r.height,i+o<a?t>e+r?(n=i+o-a,t=t-e-r,Ue.sqrt(n*n+t*t)):t+n<e?(i=i+o-a,t=t+n-e,Ue.sqrt(i*i+t*t)):a-(i+o):i>a+s?t>e+r?(n=i-a-s,t=t-e-r,Ue.sqrt(n*n+t*t)):t+n<e?(i=i-a-s,t=t+n-e,Ue.sqrt(i*i+t*t)):i-(a+s):t>e+r?t-(e+r):t+n<e?e-(t+n):.1}function qf(t,e){for(t.yh=null,e=t.lo+e;t.lo<e&&(t.lo++,Yf(t)););t.yh=null}function Yf(t){null===t.yh&&(t.yh=t.network.vertexes.na());var e=t.yh;if(0>=e.length)return!1;var n=e[0];n.forceX=0,n.forceY=0;for(var i=n.centerX,o=i,r=n=n.centerY,a=1;a<e.length;a++){var s=e[a];s.forceX=0,s.forceY=0;var l=s.centerX;s=s.centerY,i=Math.min(i,l),o=Math.max(o,l),n=Math.min(n,s),r=Math.max(r,s)}(o=o-i>r-n)?e.sort((function(t,e){return null===t||null===e||t===e?0:t.centerX-e.centerX})):e.sort((function(t,e){return null===t||null===e||t===e?0:t.centerY-e.centerY})),n=t.Tf;var u=i=s=0;for(r=0;r<e.length;r++){i=(a=e[r]).bounds,s=a.focus,l=i.x+s.x;var h=i.y+s.y;i=a.charge*t.electricalFieldX(l,h),u=a.charge*t.electricalFieldY(l,h),i+=a.mass*t.gravitationalFieldX(l,h),u+=a.mass*t.gravitationalFieldY(l,h),a.forceX+=i,a.forceY+=u;for(var c=r+1;c<e.length;c++){var d=e[c];if(d!==a){i=d.bounds,s=d.focus,u=i.x+s.x;var f=i.y+s.y;if(l-u>n||u-l>n){if(o)break}else if(h-f>n||f-h>n){if(!o)break}else{var p=Uf(a,d);1>p?(null===(i=t.randomNumberGenerator)&&(t.randomNumberGenerator=i=new tp),p=i.random(),s=i.random(),l>u?i=(1+(i=Math.abs(d.bounds.right-a.bounds.x)))*p:l<u?i=-(1+(i=Math.abs(d.bounds.x-a.bounds.right)))*p:i=(1+(i=Math.max(d.width,a.width)))*p-i/2,h>f?u=(1+(u=Math.abs(d.bounds.bottom-a.bounds.y)))*s:l<u?u=-(1+(u=Math.abs(d.bounds.y-a.bounds.bottom)))*s:u=(1+(u=Math.max(d.height,a.height)))*s-u/2):(i=(u-l)/p*(s=-a.charge*d.charge/(p*p)),u=(f-h)/p*s),a.forceX+=i,a.forceY+=u,d.forceX-=i,d.forceY-=u}}}}for(o=t.network.edges.iterator;o.next();)n=(s=o.value).fromVertex,r=s.toVertex,a=n.bounds,l=n.focus,i=a.x+l.x,a=a.y+l.y,h=r.bounds,c=r.focus,l=h.x+c.x,h=h.y+c.y,1>(c=Uf(n,r))?(null===(c=t.randomNumberGenerator)&&(t.randomNumberGenerator=c=new tp),s=c.random(),c=c.random(),i=(i>l?1:-1)*(1+(r.width>n.width?r.width:n.width))*s,u=(a>h?1:-1)*(1+(r.height>n.height?r.height:n.height))*c):(i=(l-i)/c*(s=s.stiffness*(c-s.length)),u=(h-a)/c*s),n.forceX+=i,n.forceY+=u,r.forceX-=i,r.forceY-=u;for(o=i=0;o<e.length;o++)n=e[o],t.isFixed(n)?t.moveFixedVertex(n):i=Math.max(i,t.moveVertex(n)||0);return i>t.epsilonDistance*t.epsilonDistance}function Xf(){this.Ew=this.Dw=this.Vt=this.Xt=this.Wt=0}function Zf(t){Hc.call(this,t)}function Jf(t){Uc.call(this,t),this.Ia=!1,this.bb=this.I=NaN,this.Jh=this.yd=this.Ha=this.W=0,this.Ge=this.bk=null,this.gw=0}function Qf(t){Yc.call(this,t),this.l=this.u=NaN}function tp(){var t=0;void 0===t&&(t=42),this.seed=t,this.wy=48271,this.yy=2147483647,this.Q=44488.07041494893,this.Ay=3399,this.xy=1/2147483647,this.random()}function ep(){Vc.call(this),this.Zb=this.oe=25,this.J=0,this.Rk=Rp,this.ul=Fp,this.jl=jp,this.Cj=4,this.Gk=Gp,this.jg=7,this.df=!0,this.to=4,this.Da=this.cs=this.xa=-1,this.sd=this.Eo=0,this.Ga=this.qd=this.rd=this.Md=this.gc=null,this.Oo=0,this.No=this.Hj=null,this.Qd=0,this.Po=null,this.Gf=new ft,this.re=[],this.re.length=100}function np(t){var e=t.fromVertex.node;return t=t.toVertex.node,null===e&&null===t?8:null===e||null===t?4:1}function ip(t){null===t.Hj&&(t.Hj=[]);for(var e=0,n=t.network.vertexes.iterator;n.next();){var i=n.value;t.Hj[e]=i.layer,e++,t.Hj[e]=i.column,e++,t.Hj[e]=i.index,e++}return t.Hj}function op(t,e){var n=0;for(t=t.network.vertexes.iterator;t.next();){var i=t.value;i.layer=e[n],n++,i.column=e[n],n++,i.index=e[n],n++}}function rp(t,e,n){var i=Pp(t,e),o=t.gc[e];(null===t.No||t.No.length<o*o)&&(t.No=[]);for(var r=t.No,a=0;a<o;a++){var s,l=0,u=i[a],h=u.near;if(null!==h&&h.layer===u.layer)if((u=h.index)>a)for(var c=a+1;c<u;c++){var d=i[c];d.near===h&&d.Zj===h.Zj||l++}else for(c=a-1;c>u;c--)(d=i[c]).near===h&&d.Zj===h.Zj||l++;if(0<=n)for(u=i[a].sourceEdgesArrayAccess,h=0;h<u.length;h++){var f=u[h];if(f.valid&&f.fromVertex.layer!==e)for(d=f.fromVertex.index,c=f.portToPos,f=f.portFromPos,s=h+1;s<u.length;s++){var p=u[s];if(p.valid&&p.fromVertex.layer!==e){var g=p.fromVertex.index,m=p.portToPos;p=p.portFromPos,c<m&&(d>g||d===g&&f>p)&&l++,m<c&&(g>d||g===d&&p>f)&&l++}}}if(0>=n)for(u=i[a].destinationEdgesArrayAccess,h=0;h<u.length;h++)if((f=u[h]).valid&&f.toVertex.layer!==e)for(d=f.toVertex.index,c=f.portToPos,f=f.portFromPos,s=h+1;s<u.length;s++)(p=u[s]).valid&&p.toVertex.layer!==e&&(g=p.toVertex.index,m=p.portToPos,f<(p=p.portFromPos)&&(d>g||d===g&&c>m)&&l++,p<f&&(g>d||g===d&&m>c)&&l++);for(r[a*o+a]=l,u=a+1;u<o;u++){var v=0,y=0;if(0<=n){l=i[a].sourceEdgesArrayAccess;var _=i[u].sourceEdgesArrayAccess;for(h=0;h<l.length;h++)if((f=l[h]).valid&&f.fromVertex.layer!==e)for(d=f.fromVertex.index,f=f.portFromPos,s=0;s<_.length;s++)(p=_[s]).valid&&p.fromVertex.layer!==e&&(g=p.fromVertex.index,p=p.portFromPos,(d<g||d===g&&f<p)&&y++,(g<d||g===d&&p<f)&&v++)}if(0>=n)for(l=i[a].destinationEdgesArrayAccess,_=i[u].destinationEdgesArrayAccess,h=0;h<l.length;h++)if((f=l[h]).valid&&f.toVertex.layer!==e)for(d=f.toVertex.index,c=f.portToPos,s=0;s<_.length;s++)(p=_[s]).valid&&p.toVertex.layer!==e&&(g=p.toVertex.index,m=p.portToPos,(d<g||d===g&&c<m)&&y++,(g<d||g===d&&m<c)&&v++);r[a*o+u]=v,r[u*o+a]=y}}return Ap(t,e,i),r}function ap(t){for(var e=0,n=0;n<=t.xa;n++){for(var i=t,o=n,r=Pp(i,o),a=i.gc[o],s=0,l=0;l<a;l++){var u=r[l].destinationEdgesArrayAccess;if(null!==u)for(var h=0;h<u.length;h++){var c=u[h];if(c.valid&&c.toVertex.layer!==o){var d=c.fromVertex.column+c.portFromColOffset,f=c.toVertex.column+c.portToColOffset;s+=(Math.abs(d-f)+1)*np(c)}}}Ap(i,o,r),e+=s}return e}function sp(t,e,n){for(var i=Pp(t,e),o=t.gc[e],r=[],a=0;a<o;a++){var s=i[a],l=null;0>=n&&(l=s.sourceEdgesArrayAccess);var u=null;0<=n&&(u=s.destinationEdgesArrayAccess);var h=0,c=0,d=s.near;if(null!==d&&d.layer===s.layer&&(h+=d.column-1,c++),null!==l)for(d=0;d<l.length;d++){var f=(s=l[d]).fromVertex;s.valid&&!s.rev&&f.layer!==e&&(h+=f.column,c++)}if(null!==u)for(l=0;l<u.length;l++)d=(s=u[l]).toVertex,s.valid&&!s.rev&&d.layer!==e&&(h+=d.column,c++);r[a]=0===c?-1:h/c}return Ap(t,e,i),r}function lp(t,e,n){for(var i=Pp(t,e),o=t.gc[e],r=[],a=0;a<o;a++){var s=i[a],l=null;0>=n&&(l=s.sourceEdgesArrayAccess);var u=null;0<=n&&(u=s.destinationEdgesArrayAccess);var h=0,c=[],d=s.near;if(null!==d&&d.layer===s.layer&&(c[h]=d.column-1,h++),s=void 0,null!==l)for(d=0;d<l.length;d++){var f=(s=l[d]).fromVertex;s.valid&&!s.rev&&f.layer!==e&&(c[h]=f.column+s.portFromColOffset,h++)}if(null!==u)for(l=0;l<u.length;l++)d=(s=u[l]).toVertex,s.valid&&!s.rev&&d.layer!==e&&(c[h]=d.column+s.portToColOffset,h++);0===h?r[a]=-1:(c.sort((function(t,e){return t-e})),u=h>>1,r[a]=0!==(1&h)?c[u]:c[u-1]+c[u]>>1)}return Ap(t,e,i),r}function up(t,e,n,i,o,r){if(e.component===i){if(e.component=n,o)for(var a=e.destinationEdges;a.next();){var s=a.value,l=s.toVertex,u=e.layer-l.layer;u===(s=t.linkMinLength(s))&&up(t,l,n,i,o,r)}if(r)for(a=e.sourceEdges;a.next();)(u=(l=(s=a.value).fromVertex).layer-e.layer)===(s=t.linkMinLength(s))&&up(t,l,n,i,o,r)}}function hp(t,e,n,i,o,r){if(e.component===i){if(e.component=n,o)for(var a=e.destinationEdges;a.next();)hp(t,a.value.toVertex,n,i,o,r);if(r)for(e=e.sourceEdges;e.next();)hp(t,e.value.fromVertex,n,i,o,r)}}function cp(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function dp(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.destinationEdges;i.next();)if(i.value.toVertex.valid){n=!1;break}if(n)return e}}return null}function fp(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var n=!0,i=e.sourceEdges;i.next();)if(i.value.fromVertex.valid){n=!1;break}if(n)return e}}return null}function pp(t,e){e.gm=t.Oo,t.Oo++;for(var n=e.destinationEdges;n.next();){var i=n.value,o=i.toVertex;-1===o.gm&&(i.forest=!0,pp(t,o))}e.finish=t.Oo,t.Oo++}function gp(t){for(var e=t.network.vertexes.iterator;e.next();){var n=mp(t,e.value);t.xa=Math.max(n,t.xa)}}function mp(t,e){var n=0;if(-1===e.layer){for(var i=e.destinationEdges;i.next();){var o=i.value,r=o.toVertex;o=t.linkMinLength(o),n=Math.max(n,mp(t,r)+o)}e.layer=n}else n=e.layer;return n}function vp(t,e){var n=0;if(-1===e.layer){for(var i=e.sourceEdges;i.next();){var o=i.value,r=o.fromVertex;o=t.linkMinLength(o),n=Math.max(n,vp(t,r)+o)}e.layer=n}else n=e.layer;return n}function yp(t,e){if(!e.valid){e.valid=!0;for(var n=e.destinationEdges;n.next();)yp(t,n.value.toVertex);for(n=t.network.vertexes.iterator;n.next();)n.value.component=-1;for(var i=e.sourceEdgesArrayAccess,o=i.length,r=0;r<o;r++){var a=i[r],s=a.fromVertex,l=a.toVertex;a=t.linkMinLength(a),s.layer-l.layer>a&&up(t,s,0,-1,!0,!1)}for(up(t,e,1,-1,!0,!0);0!==e.component;){for(r=0,i=1/0,s=0,l=null,a=t.network.vertexes.iterator;a.next();){var u=a.value;if(1===u.component){var h=0,c=!1,d=u.sourceEdgesArrayAccess;o=d.length;for(var f=0;f<o;f++){var p=d[f],g=p.fromVertex;h+=1,1!==g.component&&(r+=1,g=g.layer-u.layer,p=t.linkMinLength(p),i=Math.min(i,g-p))}for(o=(d=u.destinationEdgesArrayAccess).length,f=0;f<o;f++)--h,1!==(p=d[f].toVertex).component?--r:c=!0;(null===l||h<s)&&!c&&(l=u,s=h)}}if(0<r){for(n.reset();n.next();)1===(o=n.value).component&&(o.layer+=i);e.component=0}else l.component=0}for(n=t.network.vertexes.iterator;n.next();)n.value.component=-1;for(up(t,e,1,-1,!0,!1);0!==e.component;){for(i=0,o=1/0,r=0,s=null,l=t.network.vertexes.iterator;l.next();)if(1===(a=l.value).component){for(u=0,h=!1,c=(d=a.sourceEdgesArrayAccess).length,f=0;f<c;f++)u+=1,1!==(p=d[f].fromVertex).component?i+=1:h=!0;for(c=(d=a.destinationEdgesArrayAccess).length,f=0;f<c;f++)--u,1!==(g=(p=d[f]).toVertex).component&&(--i,g=a.layer-g.layer,p=t.linkMinLength(p),o=Math.min(o,g-p));(null===s||u>r)&&!h&&(s=a,r=u)}if(0>i){for(n.reset();n.next();)1===(i=n.value).component&&(i.layer-=o);e.component=0}else s.component=0}}}function _p(t,e,n){return 90===t.J?n&&!e.rev||!n&&e.rev?270:90:180===t.J?n&&!e.rev||!n&&e.rev?0:180:270===t.J?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}function bp(t,e){var n=e.layer;for(e.index=t.gc[n],t.gc[n]++,e=e.destinationEdgesArrayAccess,n=!0;n;){n=!1;for(var i=0;i<e.length-1;i++){var o=e[i],r=e[i+1];o.portFromColOffset>r.portFromColOffset&&(n=!0,e[i]=r,e[i+1]=o)}}for(n=0;n<e.length;n++)(i=e[n]).valid&&(-1===(i=i.toVertex).index&&bp(t,i))}function xp(t,e){var n=e.layer;e.index=t.gc[n],t.gc[n]++,e=e.sourceEdgesArrayAccess;for(var i=!0;i;)for(i=!1,n=0;n<e.length-1;n++){var o=e[n],r=e[n+1];o.portToColOffset>r.portToColOffset&&(i=!0,e[n]=r,e[n+1]=o)}for(n=0;n<e.length;n++)(i=e[n]).valid&&(-1===(i=i.fromVertex).index&&xp(t,i))}function wp(t,e,n){var i=Pp(t,e),o=t.gc[e],r=lp(t,e,n),a=sp(t,e,n);for(n=0;n<o;n++)-1===a[n]&&(a[n]=i[n].column),-1===r[n]&&(r[n]=i[n].column);for(var s,l=!0;l;)for(l=!1,n=0;n<o-1;n++)(r[n+1]<r[n]||r[n+1]===r[n]&&a[n+1]<a[n])&&(l=!0,s=r[n],r[n]=r[n+1],r[n+1]=s,s=a[n],a[n]=a[n+1],a[n+1]=s,s=i[n],i[n]=i[n+1],i[n+1]=s);for(n=r=0;n<o;n++)(s=i[n]).index=n,r+=t.nodeMinColumnSpace(s,!0),s.column=r,r+=1,r+=t.nodeMinColumnSpace(s,!1);Ap(t,e,i)}function Cp(t,e,n){var i,o=Pp(t,e),r=t.gc[e];n=rp(t,e,n);var a=[];for(i=0;i<r;i++)a[i]=-1;var s=[];for(i=0;i<r;i++)s[i]=-1;for(var l=!1,u=!0;u;)for(u=!1,i=0;i<r-1;i++){var h=n[o[i].index*r+o[i+1].index],c=n[o[i+1].index*r+o[i].index],d=0,f=0,p=o[i].column,g=o[i+1].column,m=t.nodeMinColumnSpace(o[i],!0),v=t.nodeMinColumnSpace(o[i],!1),y=t.nodeMinColumnSpace(o[i+1],!0),_=t.nodeMinColumnSpace(o[i+1],!1);m=p-m+y,v=g-v+_;var b=o[i].sourceEdges.iterator;for(b.reset();b.next();)if(_=(y=b.value).fromVertex,y.valid&&_.layer===e){for(y=0;o[y]!==_;)y++;y<i&&(d+=2*(i-y),f+=2*(i+1-y)),y===i+1&&(d+=1),y>i+1&&(d+=4*(y-i),f+=4*(y-(i+1)))}for((b=o[i].destinationEdges.iterator).reset();b.next();)if(_=(y=b.value).toVertex,y.valid&&_.layer===e){for(y=0;o[y]!==_;)y++;y===i+1&&(f+=1)}for((b=o[i+1].sourceEdges.iterator).reset();b.next();)if(_=(y=b.value).fromVertex,y.valid&&_.layer===e){for(y=0;o[y]!==_;)y++;y<i&&(d+=2*(i+1-y),f+=2*(i-y)),y===i&&(f+=1),y>i+1&&(d+=4*(y-(i+1)),f+=4*(y-i))}for((b=o[i+1].destinationEdges.iterator).reset();b.next();)if(_=(y=b.value).toVertex,y.valid&&_.layer===e){for(y=0;o[y]!==_;)y++;y===i&&(d+=1)}y=_=0,b=a[o[i].index];var x=s[o[i].index],w=a[o[i+1].index],C=s[o[i+1].index];-1!==b&&(_+=Math.abs(b-p),y+=Math.abs(b-v)),-1!==x&&(_+=Math.abs(x-p),y+=Math.abs(x-v)),-1!==w&&(_+=Math.abs(w-g),y+=Math.abs(w-m)),-1!==C&&(_+=Math.abs(C-g),y+=Math.abs(C-m)),(f<d-.5||f===d&&c<h-.5||f===d&&c===h&&y<_-.5)&&(u=l=!0,o[i].column=v,o[i+1].column=m,h=o[i],o[i]=o[i+1],o[i+1]=h)}for(i=0;i<r;i++)o[i].index=i;return Ap(t,e,o),l}function Sp(t,e,n){for(var i=!1;kp(t,e,n);)i=!0;return i}function kp(t,e,n){var i,o=Pp(t,e),r=t.gc[e],a=sp(t,e,-1);if(0<n)for(i=0;i<r;i++)a[i]=-1;var s=sp(t,e,1);if(0>n)for(i=0;i<r;i++)s[i]=-1;for(var l=!1,u=!0;u;)for(u=!1,i=0;i<r;i++){var h=o[i].column,c=t.nodeMinColumnSpace(o[i],!0),d=t.nodeMinColumnSpace(o[i],!1),f=0;f=0>i-1||h-o[i-1].column-1>c+t.nodeMinColumnSpace(o[i-1],!1)?h-1:h,c=i+1>=r||o[i+1].column-h-1>d+t.nodeMinColumnSpace(o[i+1],!0)?h+1:h;var p=d=0,g=0;if(0>=n)for(var m=o[i].sourceEdges.iterator;m.next();){var v=m.value,y=v.fromVertex;if(v.valid&&y.layer!==e){var _=np(v),b=v.portFromColOffset;v=v.portToColOffset,y=y.column,d+=(Math.abs(h+v-(y+b))+1)*_,p+=(Math.abs(f+v-(y+b))+1)*_,g+=(Math.abs(c+v-(y+b))+1)*_}}if(0<=n)for(m=o[i].destinationEdges.iterator;m.next();)y=(v=m.value).toVertex,v.valid&&y.layer!==e&&(_=np(v),b=v.portFromColOffset,v=v.portToColOffset,y=y.column,d+=(Math.abs(h+b-(y+v))+1)*_,p+=(Math.abs(f+b-(y+v))+1)*_,g+=(Math.abs(c+b-(y+v))+1)*_);v=b=_=0,m=a[o[i].index],y=s[o[i].index],-1!==m&&(_+=Math.abs(m-h),b+=Math.abs(m-f),v+=Math.abs(m-c)),-1!==y&&(_+=Math.abs(y-h),b+=Math.abs(y-f),v+=Math.abs(y-c)),p<d||p===d&&b<_?(u=l=!0,o[i].column=f):(g<d||g===d&&v<_)&&(u=l=!0,o[i].column=c)}return Ap(t,e,o),t.normalize(),l}function Ep(t,e,n){var i=Pp(t,e),o=t.gc[e],r=lp(t,e,n),a=[];for(n=0;n<o;n++)a[n]=r[n];for(r=!0;r;)for(r=!1,n=0;n<o;n++){var s=i[n].column,l=t.nodeMinColumnSpace(i[n],!0),u=t.nodeMinColumnSpace(i[n],!1),h=0;if(-1===a[n])if(0===n&&n===o-1)h=s;else if(0===n){var c=i[n+1].column;h=c-s===u+t.nodeMinColumnSpace(i[n+1],!0)?s-1:s}else n===o-1?h=s-(c=i[n-1].column)===l+t.nodeMinColumnSpace(i[n-1],!1)?s+1:s:h=((l=(c=i[n-1].column)+t.nodeMinColumnSpace(i[n-1],!1)+l+1)+(u=(c=i[n+1].column)-t.nodeMinColumnSpace(i[n+1],!0)-u-1))/2|0;else 0===n&&n===o-1?h=a[n]:0===n?(u=(c=i[n+1].column)-t.nodeMinColumnSpace(i[n+1],!0)-u-1,h=Math.min(a[n],u)):n===o-1?(l=(c=i[n-1].column)+t.nodeMinColumnSpace(i[n-1],!1)+l+1,h=Math.max(a[n],l)):(l=(c=i[n-1].column)+t.nodeMinColumnSpace(i[n-1],!1)+l+1,u=(c=i[n+1].column)-t.nodeMinColumnSpace(i[n+1],!0)-u-1,l<a[n]&&a[n]<u?h=a[n]:l>=a[n]?h=l:u<=a[n]&&(h=u));h!==s&&(r=!0,i[n].column=h)}Ap(t,e,i),t.normalize()}function Ip(t,e){for(var n=!0,i=t.network.vertexes.iterator;i.next();){var o=i.value,r=t.nodeMinColumnSpace(o,!0),a=t.nodeMinColumnSpace(o,!1);if(o.column-r<=e&&o.column+a>=e){n=!1;break}}if(t=!1,n)for(i.reset();i.next();)(n=i.value).column>e&&(--n.column,t=!0);return t}function Tp(t,e){var n,i=e+1,o=[],r=[];for(n=0;n<=t.xa;n++)o[n]=!1,r[n]=!1;for(var a=t.network.vertexes.iterator;a.next();){var s=(n=a.value).column-t.nodeMinColumnSpace(n,!0),l=n.column+t.nodeMinColumnSpace(n,!1);s<=e&&l>=e&&(o[n.layer]=!0),s<=i&&l>=i&&(r[n.layer]=!0)}for(s=!0,i=!1,n=0;n<=t.xa;n++)s=s&&!(o[n]&&r[n]);if(s)for(a.reset();a.next();)(t=a.value).column>e&&(--t.column,i=!0);return i}function Dp(t,e){for(var n=0;n<=t.Da;n++)for(;Ip(t,n););for(t.normalize(),n=0;n<t.Da;n++)for(;Tp(t,n););var i;if(t.normalize(),0<e)for(n=0;n<=t.Da;n++){var o=ip(t),r=ap(t);for(i=r+1;r<i;){i=r,Mp(t,n,1);var a=ap(t);a>r?op(t,o):a<r&&(r=a,o=ip(t))}}if(0>e)for(n=t.Da;0<=n;n--)for(o=ip(t),i=(r=ap(t))+1;r<i;)i=r,Mp(t,n,-1),(a=ap(t))>r?op(t,o):a<r&&(r=a,o=ip(t));t.normalize()}function Mp(t,e,n){t.Qd=0;for(var i=t.network.vertexes.iterator;i.next();)i.value.component=-1;if(0<n)for(i.reset();i.next();){var o=i.value;o.column-t.nodeMinColumnSpace(o,!0)<=e&&(o.component=t.Qd)}if(0>n)for(i.reset();i.next();)(o=i.value).column+t.nodeMinColumnSpace(o,!1)>=e&&(o.component=t.Qd);for(t.Qd++,i.reset();i.next();)-1===(e=i.value).component&&(hp(t,e,t.Qd,-1,!0,!0),t.Qd++);var r;for(e=[],r=0;r<t.Qd*t.Qd;r++)e[r]=!1;for(o=[],r=0;r<(t.xa+1)*(t.Da+1);r++)o[r]=-1;for(i.reset();i.next();)for(var a=(r=i.value).layer,s=Math.max(0,r.column-t.nodeMinColumnSpace(r,!0)),l=Math.min(t.Da,r.column+t.nodeMinColumnSpace(r,!1));s<=l;s++)o[a*(t.Da+1)+s]=r.component;for(r=0;r<=t.xa;r++){if(0<n)for(a=0;a<t.Da;a++)-1!==o[r*(t.Da+1)+a]&&-1!==o[r*(t.Da+1)+a+1]&&o[r*(t.Da+1)+a]!==o[r*(t.Da+1)+a+1]&&(e[o[r*(t.Da+1)+a]*t.Qd+o[r*(t.Da+1)+a+1]]=!0);if(0>n)for(a=t.Da;0<a;a--)-1!==o[r*(t.Da+1)+a]&&-1!==o[r*(t.Da+1)+a-1]&&o[r*(t.Da+1)+a]!==o[r*(t.Da+1)+a-1]&&(e[o[r*(t.Da+1)+a]*t.Qd+o[r*(t.Da+1)+a-1]]=!0)}for(o=[],r=0;r<t.Qd;r++)o[r]=!0;for((a=[]).push(0);0!==a.length;)if(l=a[a.length-1],a.pop(),o[l])for(o[l]=!1,r=0;r<t.Qd;r++)e[l*t.Qd+r]&&a.splice(0,0,r);if(0<n)for(i.reset();i.next();)o[(t=i.value).component]&&--t.column;if(0>n)for(i.reset();i.next();)o[(n=i.value).component]&&(n.column+=1)}function Op(t,e){return 270===t.J?e?Ae:Ne:90===t.J?e?Ne:Ae:180===t.J?e?Re:Be:e?Be:Re}function Pp(t,e){var n=t.gc[e];if(n>=t.re.length){for(var i=[],o=0;o<t.re.length;o++)i[o]=t.re[o];t.re=i}for(void 0===t.re[n]||null===t.re[n]?i=[]:(i=t.re[n],t.re[n]=null),t=t.Po[e],e=0;e<t.length;e++)i[(n=t[e]).index]=n;return i}function Ap(t,e,n){t.re[t.gc[e]]=n}ff.className="CircularLayout",ff.ConstantSpacing=Cf,ff.ConstantDistance=Sf,ff.ConstantAngle=kf,ff.Packed=Ef,ff.Clockwise=If,ff.Counterclockwise=Tf,ff.BidirectionalLeft=Df,ff.BidirectionalRight=Mf,ff.Forwards=Of,ff.Reverse=Pf,ff.Ascending=Af,ff.Descending=Rf,ff.Optimized=Bf,ff.Pythagorean=Nf,ff.Circular=Ff,Lf.prototype.compare=function(t,e){if(0<t&&0>this.lm||Math.abs(t)<Math.abs(this.lm)&&!(0>t&&0<this.lm))for(this.lm=t,this.Ck=[],this.Mm=[],t=0;t<e.length;t++)this.Ck[t]=e[t].bounds.x,this.Mm[t]=e[t].bounds.y},Lf.prototype.commit=function(t){if(null!==this.Ck&&null!==this.Mm)for(var e=0;e<this.Ck.length;e++){var n=t.L(e);n.x=this.Ck[e],n.y=this.Mm[e]}},Lf.className="VertexArrangement",c(Vf,Hc),Vf.prototype.createVertex=function(){return new jf(this)},Vf.prototype.createEdge=function(){return new Hf(this)},Vf.className="CircularNetwork",c(jf,Uc),d.Object.defineProperties(jf.prototype,{diameter:{get:function(){return this.rj},set:function(t){this.rj!==t&&(this.rj=t)}},actualAngle:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}}}),jf.className="CircularVertex",c(Hf,Yc),Hf.className="CircularEdge",c(Wf,Vc),Wf.prototype.cloneProtected=function(t){Vc.prototype.cloneProtected.call(this,t),t.Bd.assign(this.Bd),t.Ym=this.Ym,t.df=this.df,t.Zc=this.Zc,t.zl=this.zl,t.Gn=this.Gn,t.Tf=this.Tf,t.Jo=this.Jo,t.jp=this.jp,t.Wk=this.Wk,t.Vk=this.Vk,t.Tk=this.Tk,t.Uk=this.Uk,t.xn=this.xn,t.wn=this.wn},Wf.prototype.createNetwork=function(){return new Zf(this)},Wf.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),t=this.maxIterations,0<this.network.vertexes.count){this.network.lq();for(var e=this.network.vertexes.iterator;e.next();){var n=e.value;n.charge=this.electricalCharge(n),n.mass=this.gravitationalMass(n)}for(e=this.network.edges.iterator;e.next();)(n=e.value).stiffness=this.springStiffness(n),n.length=this.springLength(n);if(this.kv(),this.lo=0,this.needsClusterLayout()){for(n=(e=this.network).uy().iterator;n.next();){this.network=n.value;for(var i=this.network.vertexes.iterator;i.next();){var o=i.value;o.yd=o.vertexes.count,o.Jh=1,o.bk=null,o.Ge=null}Gf(this,0,t)}this.network=e,n.reset(),i=this.arrangementSpacing;for(var r=n.count,a=!0,s=o=0,l=D(),u=0;u<r+e.vertexes.count+2;u++)l[u]=null;r=0,n.reset();for(var h=Lt.alloc();n.next();)if(u=n.value,this.computeBounds(u,h),a)a=!1,o=h.x+h.width/2,s=h.y+h.height/2,l[0]=new ft(h.x+h.width+i.width,h.y),l[1]=new ft(h.x,h.y+h.height+i.height),r=2;else{var c=$f(l,r,o,s,h.width,h.height,i),d=l[c],f=new ft(d.x+h.width+i.width,d.y),p=new ft(d.x,d.y+h.height+i.height);for(c+1<r&&l.splice(c+1,0,null),l[c]=f,l[c+1]=p,r++,c=d.x-h.x,d=d.y-h.y,u=u.vertexes.iterator;u.next();)(f=u.value).centerX+=c,f.centerY+=d}for(Lt.free(h),u=e.vertexes.iterator;u.next();)f=(a=u.value).bounds,2>r?(o=f.x+f.width/2,s=f.y+f.height/2,l[0]=new ft(f.x+f.width+i.width,f.y),l[1]=new ft(f.x,f.y+f.height+i.height),r=2):(c=new ft((d=l[h=$f(l,r,o,s,f.width,f.height,i)]).x+f.width+i.width,d.y),f=new ft(d.x,d.y+f.height+i.height),h+1<r&&l.splice(h+1,0,null),l[h]=c,l[h+1]=f,r++,a.centerX=d.x+a.width/2,a.centerY=d.y+a.height/2);for(M(l),n.reset();n.next();){for(o=(i=n.value).vertexes.iterator;o.next();)e.Bh(o.value);for(i=i.edges.iterator;i.next();)e.eq(i.value)}}qf(this,t),this.updateParts()}this.zl=t,this.network=null,this.isValidLayout=!0},Wf.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,n=this.network.vertexes.first().bounds,i=this.network.vertexes.iterator;i.next();){if(i.value.bounds.Hc(n)&&2<++t)return!0;if(10<e)break;e++}return!1},Wf.prototype.computeBounds=function(t,e){var n=!0;for(t=t.vertexes.iterator;t.next();){var i=t.value;n?(n=!1,e.set(i.bounds)):e.Ic(i.bounds)}return e},Wf.prototype.kv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Wf.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.wv();e.next();){var n=e.value;if("Comment"===n.category&&n.isVisible()){var i=this.network.Yi(n);null===i&&(i=this.network.bm(n)),i.charge=this.defaultCommentElectricalCharge,n=null;for(var o=i.destinationEdges;o.next();){var r=o.value;if(r.toVertex===t){n=r;break}}if(null===n)for(o=i.sourceEdges;o.next();)if((r=o.value).fromVertex===t){n=r;break}null===n&&(n=this.network.pk(t,i,null)),n.length=this.defaultCommentSpringLength}}},Wf.prototype.moveVertex=function(t){var e=t.forceX,n=t.forceY,i=this.moveLimit;return e<-i?e=-i:e>i&&(e=i),n<-i?n=-i:n>i&&(n=i),t.centerX+=e,t.centerY+=n,e*e+n*n},Wf.prototype.moveFixedVertex=function(){},Wf.prototype.commitLayout=function(){this.kw(),this.commitNodes(),this.isRouting&&this.commitLinks()},Wf.prototype.kw=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=Te,e.toSpot=Te)}},Wf.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var n=Lt.alloc();this.computeBounds(this.network,n),t=(e=this.arrangementOrigin).x-n.x,e=e.y-n.y,Lt.free(n)}n=Lt.alloc();for(var i=this.network.vertexes.iterator;i.next();){var o=i.value;0===t&&0===e||(n.assign(o.bounds),n.x+=t,n.y+=e,o.bounds=n),o.commit()}Lt.free(n)},Wf.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Wf.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Wk:t},Wf.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Vk:t},Wf.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Tk:t},Wf.prototype.electricalFieldX=function(){return 0},Wf.prototype.electricalFieldY=function(){return 0},Wf.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Uk:t},Wf.prototype.gravitationalFieldX=function(){return 0},Wf.prototype.gravitationalFieldY=function(){return 0},Wf.prototype.isFixed=function(t){return t.isFixed},d.Object.defineProperties(Wf.prototype,{currentIteration:{get:function(){return this.lo}},arrangementSpacing:{get:function(){return this.Bd},set:function(t){this.Bd.w(t)||(this.Bd.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.Ym},set:function(t){this.Ym!==t&&(this.Ym=t,this.C())}},setsPortSpots:{get:function(){return this.df},set:function(t){this.df!==t&&(this.df=t,this.C())}},comments:{get:function(){return this.Zc},set:function(t){this.Zc!==t&&(this.Zc=t,this.C())}},maxIterations:{get:function(){return this.zl},set:function(t){this.zl!==t&&0<=t&&(this.zl=t,this.C())}},epsilonDistance:{get:function(){return this.Gn},set:function(t){this.Gn!==t&&0<t&&(this.Gn=t,this.C())}},infinityDistance:{get:function(){return this.Tf},set:function(t){this.Tf!==t&&1<t&&(this.Tf=t,this.C())}},moveLimit:{get:function(){return this.Jo},set:function(t){this.Jo!==t&&1<t&&(this.Jo=t,this.C())}},randomNumberGenerator:{get:function(){return this.jp},set:function(t){this.jp!==t&&(null!==t&&"function"!==typeof t.random&&_('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.jp=t)}},defaultSpringStiffness:{get:function(){return this.Wk},set:function(t){this.Wk!==t&&(this.Wk=t,this.C())}},defaultSpringLength:{get:function(){return this.Vk},set:function(t){this.Vk!==t&&(this.Vk=t,this.C())}},defaultElectricalCharge:{get:function(){return this.Tk},set:function(t){this.Tk!==t&&(this.Tk=t,this.C())}},defaultGravitationalMass:{get:function(){return this.Uk},set:function(t){this.Uk!==t&&(this.Uk=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.xn},set:function(t){this.xn!==t&&(this.xn=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.wn},set:function(t){this.wn!==t&&(this.wn=t,this.C())}}}),Wf.className="ForceDirectedLayout",Xf.className="ForceDirectedSubnet",c(Zf,Hc),Zf.prototype.createVertex=function(){return new Jf(this)},Zf.prototype.createEdge=function(){return new Qf(this)},Zf.className="ForceDirectedNetwork",c(Jf,Uc),d.Object.defineProperties(Jf.prototype,{isFixed:{get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t)}},charge:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},mass:{get:function(){return this.bb},set:function(t){this.bb!==t&&(this.bb=t)}},forceX:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t)}},forceY:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}}}),Jf.className="ForceDirectedVertex",c(Qf,Yc),d.Object.defineProperties(Qf.prototype,{stiffness:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},length:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}}}),Qf.className="ForceDirectedEdge",tp.prototype.random=function(){var t=this.seed%this.Q*this.wy-this.seed/this.Q*this.Ay;return this.seed=0<t?t:t+this.yy,this.seed*this.xy},tp.className="RandomNumberGenerator",c(ep,Vc),ep.prototype.cloneProtected=function(t){Vc.prototype.cloneProtected.call(this,t),t.oe=this.oe,t.Zb=this.Zb,t.J=this.J,t.Rk=this.Rk,t.ul=this.ul,t.jl=this.jl,t.Cj=this.Cj,t.Gk=this.Gk,t.jg=this.jg,t.df=this.df,t.to=this.to},ep.prototype.gb=function(t){t.classType===ep?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:_("Unknown enum value: "+t):Vc.prototype.gb.call(this,t)},ep.prototype.createNetwork=function(){return new Up(this)},ep.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.cs=-1,this.sd=this.Eo=0,this.Po=this.No=this.Hj=null,t=0;t<this.re.length;t++)this.re[t]=null;if(0<this.network.vertexes.count){for(this.network.lq(),this.cycleRemoveOption!==Np&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.xa=-1,this.assignLayers(),t.reset();t.next();)this.xa=Math.max(this.xa,t.value.layer);this.cycleRemoveOption===Np&&this.removeCycles();for(var e=[],n=(t=this.network).edges.iterator;n.next();){var i=n.value;i.valid=!1,e.push(i)}for(n=0;n<e.length;n++){var o=(i=e[n]).fromVertex,r=i.toVertex;if(!i.valid&&(null!==o.node&&null!==r.node||o.layer!==r.layer)){var a=0,s=0,l=0,u=0;if(null!==i.link){if(null===(s=i.link))continue;var h=o.node;if(a=r.node,null===h||null===a)continue;var c=s.fromNode;l=s.toNode;var d=s.fromPort;if(s=s.toPort,i.rev){u=c;var f=d;c=l,d=s,l=u,s=f}var p=o.focus;u=r.focus;var g=i.rev?r.bounds:o.bounds;f=ft.alloc(),h!==c?g.v()&&c.isVisible()?c.actualBounds.v()?(c.wf(d,le,f),f.x+=c.actualBounds.x-g.x,f.y+=c.actualBounds.y-g.y):(c.wf(d,le,f),f.v()||f.assign(p)):f.assign(p):g.v()?(c.wf(d,le,f),f.v()||f.assign(p)):f.assign(p),c=i.rev?o.bounds:r.bounds,h=ft.alloc(),a!==l?c.v()&&l.isVisible()?l.actualBounds.v()?(l.wf(s,le,h),h.x+=l.actualBounds.x-c.x,h.y+=l.actualBounds.y-c.y):(l.wf(s,le,h),h.v()||h.assign(u)):h.assign(u):c.v()?(l.wf(s,le,h),h.v()||h.assign(u)):h.assign(u),90===this.J||270===this.J?(a=Math.round((f.x-p.x)/this.Zb),l=f.x,s=Math.round((h.x-u.x)/this.Zb),u=h.x):(a=Math.round((f.y-p.y)/this.Zb),l=f.y,s=Math.round((h.y-u.y)/this.Zb),u=h.y),ft.free(f),ft.free(h),i.portFromColOffset=a,i.portFromPos=l,i.portToColOffset=s,i.portToPos=u}else i.portFromColOffset=0,i.portFromPos=0,i.portToColOffset=0,i.portToPos=0;if(f=o.layer,h=r.layer,c=0,null!==(g=i.link)){var m=g.fromPort,v=g.toPort;if(null!==m&&null!==v){var y=g.fromNode;if(d=g.toNode,null!==y&&null!==d){var _=Op(this,!0),b=Op(this,!1),x=this.setsPortSpots?_:g.computeSpot(!0,m);p=this.setsPortSpots?b:g.computeSpot(!1,v);var w=g.isOrthogonal;x.gd()&&x.xf(b)&&p.gd()&&p.xf(_)?c=0:(_=g.getLinkPoint(y,m,x,!0,w,d,v,ft.alloc()),b=g.getLinkDirection(y,m,_,x,!0,w,d,v),ft.free(_),x.At()||b!==_p(this,i,!0)?this.setsPortSpots&&null!==y&&1===y.ports.count&&i.rev&&(c+=1):c+=1,x=g.getLinkPoint(d,v,p,!1,w,y,m,ft.alloc()),g=g.getLinkDirection(d,v,x,p,!1,w,y,m),ft.free(x),p.At()||g!==_p(this,i,!1)?this.setsPortSpots&&null!==d&&1===d.ports.count&&i.rev&&(c+=2):c+=2)}}}if(c=1===(d=c)||3===d,(d=2===d||3===d)&&((p=t.createVertex()).node=null,p.Zj=1,p.layer=f,p.near=o,t.Bh(p),(o=t.pk(o,p,i.link)).valid=!1,o.rev=i.rev,o.portFromColOffset=a,o.portToColOffset=0,o.portFromPos=l,o.portToPos=0,o=p),g=1,c&&g--,f-h>g&&0<f){for(i.valid=!1,(p=t.createVertex()).node=null,p.Zj=2,p.layer=f-1,t.Bh(p),(o=t.pk(o,p,i.link)).valid=!0,o.rev=i.rev,o.portFromColOffset=d?0:a,o.portToColOffset=0,o.portFromPos=d?0:l,o.portToPos=0,o=p,f--;f-h>g&&0<f;)(p=t.createVertex()).node=null,p.Zj=3,p.layer=f-1,t.Bh(p),(o=t.pk(o,p,i.link)).valid=!0,o.rev=i.rev,o.portFromColOffset=0,o.portToColOffset=0,o.portFromPos=0,o.portToPos=0,o=p,f--;(o=t.pk(p,r,i.link)).valid=!c,c&&(p.near=r),o.rev=i.rev,o.portFromColOffset=0,o.portToColOffset=s,o.portFromPos=0,o.portToPos=u}else i.valid=!0}}for(t=this.gc=[],e=0;e<=this.xa;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.cs=-1,n=this.sd=this.Eo=0;n<=this.xa;n++)t[n]>t[this.sd]&&(this.cs=t[n]-1,this.sd=n),t[n]<t[this.Eo]&&(this.Eo=n);for(this.Po=[],n=0;n<t.length;n++)this.Po[n]=[];for(e.reset();e.next();)t=e.value,this.Po[t.layer][t.index]=t;for(this.Da=-1,t=0;t<=this.xa;t++){for(e=Pp(this,t),n=0,i=this.gc[t],r=0;r<i;r++)o=e[r],n+=this.nodeMinColumnSpace(o,!0),o.column=n,n+=1,n+=this.nodeMinColumnSpace(o,!1);this.Da=Math.max(this.Da,n-1),Ap(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},ep.prototype.linkMinLength=function(){return 1},ep.prototype.nodeMinLayerSpace=function(t,e){return null===t.node?0:90===this.J||270===this.J?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},ep.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node)return 0;var n=e?t.Tv:t.Sv;return null!==n?n:90===(n=this.J)||270===n?e?t.Tv=t.focus.x/this.Zb+1|0:t.Sv=(t.bounds.width-t.focus.x)/this.Zb+1|0:e?t.Tv=t.focus.y/this.Zb+1|0:t.Sv=(t.bounds.height-t.focus.y)/this.Zb+1|0},ep.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.xa;e++)for(var n=rp(this,e,1),i=this.gc[e],o=0;o<i;o++)for(var r=o;r<i;r++)t+=n[o*i+r];return t},ep.prototype.normalize=function(){var t=1/0;this.Da=-1;for(var e=this.network.vertexes.iterator;e.next();){var n=e.value;t=Math.min(t,n.column-this.nodeMinColumnSpace(n,!0)),this.Da=Math.max(this.Da,n.column+this.nodeMinColumnSpace(n,!1))}for(e.reset();e.next();)e.value.column-=t;this.Da-=t},ep.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.Rk){default:case Bp:var e=0,n=(t=this.network).vertexes.count-1,i=[];i.length=n+1;for(var o=t.vertexes.iterator;o.next();)o.value.valid=!0;for(;null!==cp(t);){for(o=dp(t);null!==o;)i[n]=o,n--,o.valid=!1,o=dp(t);for(o=fp(t);null!==o;)i[e]=o,e++,o.valid=!1,o=fp(t);o=null;for(var r=0,a=this.network.vertexes.iterator;a.next();){var s=a.value;if(s.valid){for(var l=0,u=s.destinationEdges;u.next();)u.value.toVertex.valid&&l++;u=0;for(var h=s.sourceEdges;h.next();)h.value.fromVertex.valid&&u++;(null===o||r<l-u)&&(o=s,r=l-u)}}null!==o&&(i[e]=o,e++,o.valid=!1)}for(e=0;e<t.vertexes.count;e++)i[e].index=e;for(i=t.edges.iterator;i.next();)(e=i.value).fromVertex.index>e.toVertex.index&&(t.Em(e),e.rev=!0);break;case Rp:for(i=this.network.vertexes.iterator;i.next();)(t=i.value).gm=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.Oo=0,i.reset();i.next();)0===(e=i.value).sourceEdges.count&&pp(this,e);for(i.reset();i.next();)-1===(e=i.value).gm&&pp(this,e);for(t.reset();t.next();)(i=t.value).forest||(n=(e=i.fromVertex).finish,r=(o=i.toVertex).finish,o.gm<e.gm&&n<r&&(this.network.Em(i),i.rev=!0));break;case Np:for(e=(t=this.network).vertexes.iterator,i=1/0;e.next();)i=Math.min(i,e.value.layer);if(1/0>i){if(0>i)for(e.reset();e.next();)e.value.layer-=i;for(i=[],e.reset();e.next();)void 0===(o=i[(n=e.value).layer])?i[n.layer]=[n]:o.push(n);for(n=e=0;n<i.length;n++)if((o=i[n])&&0!==o.length){if(0<n)for(r=0;r<o.length;r++)o[r].layer-=e}else e++;for(i=t.edges.iterator;i.next();)(e=i.value).fromVertex.layer<e.toVertex.layer&&(t.Em(e),e.rev=!0)}}},ep.prototype.assignLayers=function(){switch(this.ul){case Lp:gp(this);break;case Vp:for(var t,e=this.network.vertexes.iterator;e.next();)t=vp(this,e.value),this.xa=Math.max(t,this.xa);for(e.reset();e.next();)(t=e.value).layer=this.xa-t.layer;break;default:case Fp:for(gp(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&yp(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.xa=-1,e.reset();e.next();){var n=e.value;n.layer-=t,this.xa=Math.max(this.xa,n.layer)}}},ep.prototype.initializeIndices=function(){switch(this.jl){default:case Hp:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,n=e.layer;e.index=this.gc[n],this.gc[n]++}break;case jp:for(t=this.network.vertexes.iterator,e=this.xa;0<=e;e--)for(t.reset();t.next();)(n=t.value).layer===e&&-1===n.index&&bp(this,n);break;case zp:for(t=this.network.vertexes.iterator,e=0;e<=this.xa;e++)for(t.reset();t.next();)(n=t.value).layer===e&&-1===n.index&&xp(this,n)}},ep.prototype.reduceCrossings=function(){var t,e,n,i,o,r=this.countCrossings(),a=ip(this);for(t=0;t<this.Cj;t++){for(e=0;e<=this.xa;e++)wp(this,e,1),Cp(this,e,1);var s=this.countCrossings();for(s<r&&(r=s,a=ip(this)),e=this.xa;0<=e;e--)wp(this,e,-1),Cp(this,e,-1);(s=this.countCrossings())<r&&(r=s,a=ip(this))}for(op(this,a),t=0;t<this.Cj;t++){for(e=0;e<=this.xa;e++)wp(this,e,0),Cp(this,e,0);for((s=this.countCrossings())<r&&(r=s,a=ip(this)),e=this.xa;0<=e;e--)wp(this,e,0),Cp(this,e,0);(s=this.countCrossings())<r&&(r=s,a=ip(this))}switch(op(this,a),this.Gk){case Wp:break;case Kp:for(o=r+1;(e=this.countCrossings())<o;)for(o=e,t=this.xa;0<=t;t--)for(i=0;i<=t;i++){for(n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Cp(this,e,-1)||n;for((s=this.countCrossings())>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Cp(this,e,1)||n;for((s=this.countCrossings())>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Cp(this,e,1)||n;for(s>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Cp(this,e,-1)||n;for(s>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Cp(this,e,0)||n;for(s>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Cp(this,e,0)||n;s>=r?op(this,a):(r=s,a=ip(this))}break;default:case Gp:for(t=this.xa,i=0,o=r+1;(e=this.countCrossings())<o;){for(o=e,n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Cp(this,e,-1)||n;for((s=this.countCrossings())>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Cp(this,e,1)||n;for((s=this.countCrossings())>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Cp(this,e,1)||n;for(s>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Cp(this,e,-1)||n;for(s>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=t;e>=i;e--)n=Cp(this,e,0)||n;for(s>=r?op(this,a):(r=s,a=ip(this)),n=!0;n;)for(n=!1,e=i;e<=t;e++)n=Cp(this,e,0)||n;s>=r?op(this,a):(r=s,a=ip(this))}}op(this,a)},ep.prototype.straightenAndPack=function(){var t=0!==(1&this.jg),e=7===this.jg;if(1e3<this.network.edges.count&&!e&&(t=!1),t){var n=[];for(e=0;e<=this.xa;e++)n[e]=0;for(var i,o=this.network.vertexes.iterator;o.next();){var r=o.value;e=r.layer,i=r.column,r=this.nodeMinColumnSpace(r,!1),n[e]=Math.max(n[e],i+r)}for(o.reset();o.next();)e=(r=o.value).layer,i=r.column,r.column=(8*(this.Da-n[e])>>1)+8*i;this.Da*=8}if(0!==(2&this.jg))for(n=!0;n;){for(n=!1,e=this.sd+1;e<=this.xa;e++)n=Sp(this,e,1)||n;for(e=this.sd-1;0<=e;e--)n=Sp(this,e,-1)||n;n=Sp(this,this.sd,0)||n}if(0!==(4&this.jg)){for(e=this.sd+1;e<=this.xa;e++)Ep(this,e,1);for(e=this.sd-1;0<=e;e--)Ep(this,e,-1);Ep(this,this.sd,0)}if(t&&(Dp(this,-1),Dp(this,1)),0!==(2&this.jg))for(n=!0;n;){for(n=!1,n=Sp(this,this.sd,0)||n,e=this.sd+1;e<=this.xa;e++)n=Sp(this,e,0)||n;for(e=this.sd-1;0<=e;e--)n=Sp(this,e,0)||n}},ep.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=Op(this,!0),e=Op(this,!1),n=this.network.edges.iterator;n.next();){var i=n.value.link;null!==i&&(i.fromSpot=t,i.toSpot=e)}this.commitNodes(),this.mv(),this.isRouting&&this.commitLinks()},ep.prototype.commitNodes=function(){this.Md=[],this.rd=[],this.qd=[],this.Ga=[];for(var t=0;t<=this.xa;t++)this.Md[t]=0,this.rd[t]=0,this.qd[t]=0,this.Ga[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,n=e.layer;this.Md[n]=Math.max(this.Md[n],this.nodeMinLayerSpace(e,!0)),this.rd[n]=Math.max(this.rd[n],this.nodeMinLayerSpace(e,!1))}e=0,n=this.oe;for(var i=0;i<=this.xa;i++){var o=n;0>=this.Md[i]+this.rd[i]&&(o=0),0<i&&(e+=o/2),90===this.J||0===this.J?(e+=this.rd[i],this.qd[i]=e,e+=this.Md[i]):(e+=this.Md[i],this.qd[i]=e,e+=this.rd[i]),i<this.xa&&(e+=o/2),this.Ga[i]=e}for(n=e,e=this.arrangementOrigin,i=0;i<=this.xa;i++)270===this.J?this.qd[i]=e.y+this.qd[i]:90===this.J?(this.qd[i]=e.y+n-this.qd[i],this.Ga[i]=n-this.Ga[i]):180===this.J?this.qd[i]=e.x+this.qd[i]:(this.qd[i]=e.x+n-this.qd[i],this.Ga[i]=n-this.Ga[i]);for(t.reset(),n=i=1/0;t.next();){var r=(o=t.value).layer,a=0|o.column;if(270===this.J||90===this.J){var s=e.x+this.Zb*a;r=this.qd[r]}else s=this.qd[r],r=e.y+this.Zb*a;o.centerX=s,o.centerY=r,i=Math.min(o.x,i),n=Math.min(o.y,n)}for(i=e.x-i,e=e.y-n,this.Gf=new ft(i,e),t.reset();t.next();)(n=t.value).x+=i,n.y+=e,n.commit()},ep.prototype.mv=function(){for(var t=0,e=this.oe,n=0;n<=this.xa;n++)t+=this.Md[n],t+=this.rd[n];t+=this.xa*e,e=[],n=this.Zb*this.Da;for(var i=this.maxLayer;0<=i;i--)270===this.J?0===i?e.push(new Lt(0,0,n,Math.abs(this.Ga[0]))):e.push(new Lt(0,this.Ga[i-1],n,Math.abs(this.Ga[i-1]-this.Ga[i]))):90===this.J?0===i?e.push(new Lt(0,this.Ga[0],n,Math.abs(this.Ga[0]-t))):e.push(new Lt(0,this.Ga[i],n,Math.abs(this.Ga[i-1]-this.Ga[i]))):180===this.J?0===i?e.push(new Lt(0,0,Math.abs(this.Ga[0]),n)):e.push(new Lt(this.Ga[i-1],0,Math.abs(this.Ga[i-1]-this.Ga[i]),n)):0===i?e.push(new Lt(this.Ga[0],0,Math.abs(this.Ga[0]-t),n)):e.push(new Lt(this.Ga[i],0,Math.abs(this.Ga[i-1]-this.Ga[i]),n));this.commitLayers(e,this.Gf)},ep.prototype.commitLayers=function(){},ep.prototype.commitLinks=function(){for(var t,e=this.network.edges.iterator;e.next();)null!==(t=e.value.link)&&(t.Kh(),t.ak(),t.sf());for(e.reset();e.next();)null!==(t=e.value.link)&&t.kj();for(e.reset();e.next();){var n=e.value;if(null!==(t=n.link)){t.Kh();var i=t,o=i.fromNode,r=i.toNode,a=i.fromPort,s=i.toPort;if(null!==o){var l=o.findVisibleNode();null!==l&&l!==o&&(o=l,a=l.port)}null!==r&&(null!==(l=r.findVisibleNode())&&l!==r&&(r=l,s=l.port));var u=t.computeSpot(!0,a);l=t.computeSpot(!1,s);var h=n.fromVertex,c=n.toVertex;if(n.valid){if(t.curve===ac&&4===t.pointsCount)if(h.column===c.column)n=t.getLinkPoint(o,a,u,!0,!1,r,s),a=t.getLinkPoint(r,s,l,!1,!1,o,a),n.v()||n.set(o.actualBounds.center),a.v()||a.set(r.actualBounds.center),t.ak(),t.rf(n.x,n.y),t.rf((2*n.x+a.x)/3,(2*n.y+a.y)/3),t.rf((n.x+2*a.x)/3,(n.y+2*a.y)/3),t.rf(a.x,a.y);else{var d=!1,f=!1;if(null!==a&&u===ie&&(d=!0),null!==s&&l===ie&&(f=!0),d||f){var p=t.i(0).x;n=t.i(0).y,h=t.i(3).x,i=t.i(3).y,d&&(90===this.J||270===this.J?(d=p,c=(n+i)/2):(d=(p+h)/2,c=n),t.K(1,d,c),(u=t.getLinkPoint(o,a,u,!0,!1,r,s)).v()||u.set(o.actualBounds.center),t.K(0,u.x,u.y)),f&&(90===this.J||270===this.J?(u=h,n=(n+i)/2):(u=(p+h)/2,n=i),t.K(2,u,n),(o=t.getLinkPoint(r,s,l,!1,!1,o,a)).v()||o.set(r.actualBounds.center),t.K(3,o.x,o.y))}}t.sf()}else if(h.layer===c.layer)t.sf();else{if(d=f=!1,p=t.firstPickIndex+1,t.isOrthogonal){d=!0;var g=t.pointsCount;4<g&&t.points.removeRange(2,g-3)}else if(t.curve===ac)f=!0,4<(g=t.pointsCount)&&t.points.removeRange(2,g-3),4===g&&(p=2);else{g=t.pointsCount;var m=u===ie,v=l===ie;2<g&&m&&v?t.points.removeRange(1,g-2):3<g&&m&&!v?t.points.removeRange(1,g-3):3<g&&!m&&v?t.points.removeRange(2,g-2):4<g&&!m&&!v&&t.points.removeRange(2,g-3)}if(n.rev){for(;null!==c&&h!==c;){var y=g=null;for(m=c.sourceEdges.iterator;m.next()&&((v=m.value).link!==n.link||(g=v.fromVertex,y=v.toVertex,null!==g.node)););if(g!==h){m=t.i(p-1).x,v=t.i(p-1).y;var _=g.centerX,b=g.centerY;if(d)180===this.J||0===this.J?p===t.firstPickIndex+1?(t.m(p++,m,v),t.m(p++,m,b)):(null!==y?y.centerY:v)!==b&&(y=this.Ga[g.layer-1]+this.Gf.x,t.m(p++,y,v),t.m(p++,y,b)):p===t.firstPickIndex+1?(t.m(p++,m,v),t.m(p++,_,v)):(null!==y?y.centerX:m)!==_&&(y=this.Ga[g.layer-1]+this.Gf.y,t.m(p++,m,y),t.m(p++,_,y));else if(p===t.firstPickIndex+1){y=Math.max(10,this.Md[c.layer]);var x=Math.max(10,this.rd[c.layer]);if(f)180===this.J?_<=c.bounds.x?(c=c.bounds.x,t.m(p++,c-y,b),t.m(p++,c,b),t.m(p++,c+x,b)):(t.m(p++,_-y,b),t.m(p++,_,b),t.m(p++,_+x,b)):90===this.J?b>=c.bounds.bottom?(c=c.bounds.y+c.bounds.height,t.m(p++,_,c+x),t.m(p++,_,c),t.m(p++,_,c-y)):(t.m(p++,_,b+x),t.m(p++,_,b),t.m(p++,_,b-y)):270===this.J?b<=c.bounds.y?(c=c.bounds.y,t.m(p++,_,c-y),t.m(p++,_,c),t.m(p++,_,c+x)):(t.m(p++,_,b-y),t.m(p++,_,b),t.m(p++,_,b+x)):0===this.J&&(_>=c.bounds.right?(c=c.bounds.x+c.bounds.width,t.m(p++,c+x,b),t.m(p++,c,b),t.m(p++,c-y,b)):(t.m(p++,_+x,b),t.m(p++,_,b),t.m(p++,_-y,b)));else{t.m(p++,m,v);var w=0;180===this.J||0===this.J?((180===this.J?_>=c.bounds.right:_<=c.bounds.x)&&(w=(0===this.J?-y:x)/2),t.m(p++,m+w,b)):((270===this.J?b>=c.bounds.bottom:b<=c.bounds.y)&&(w=(90===this.J?-y:x)/2),t.m(p++,_,v+w)),t.m(p++,_,b)}}else y=Math.max(10,this.Md[g.layer]),x=Math.max(10,this.rd[g.layer]),180===this.J?(f&&t.m(p++,_-y,b),t.m(p++,_,b),f&&t.m(p++,_+x,b)):90===this.J?(f&&t.m(p++,_,b+x),t.m(p++,_,b),f&&t.m(p++,_,b-y)):270===this.J?(f&&t.m(p++,_,b-y),t.m(p++,_,b),f&&t.m(p++,_,b+x)):(f&&t.m(p++,_+x,b),t.m(p++,_,b),f&&t.m(p++,_-y,b))}c=g}(null===s||u!==ie||d)&&(m=t.i(p-1).x,v=t.i(p-1).y,_=t.i(p).x,b=t.i(p).y,d?(c=this.rd[h.layer],180===this.J||0===this.J?((d=v)>=h.bounds.y&&d<=h.bounds.bottom&&(180===this.J?_>=h.bounds.x:_<=h.bounds.right)&&(c=h.centerX+(180===this.J?-c:c),d=d<h.bounds.y+h.bounds.height/2?h.bounds.y-this.Zb/2:h.bounds.bottom+this.Zb/2,t.m(p++,c,v),t.m(p++,c,d)),t.m(p++,_,d)):((d=m)>=h.bounds.x&&d<=h.bounds.right&&(270===this.J?b>=h.bounds.y:b<=h.bounds.bottom)&&(c=h.centerY+(270===this.J?-c:c),d=d<h.bounds.x+h.bounds.width/2?h.bounds.x-this.Zb/2:h.bounds.right+this.Zb/2,t.m(p++,m,c),t.m(p++,d,c)),t.m(p++,d,b)),t.m(p++,_,b)):f?(y=Math.max(10,this.Md[h.layer]),x=Math.max(10,this.rd[h.layer]),180===this.J&&_>=h.bounds.x?(c=h.bounds.x+h.bounds.width,t.K(p-2,c,v),t.K(p-1,c+x,v)):90===this.J&&b<=h.bounds.bottom?(c=h.bounds.y,t.K(p-2,m,c),t.K(p-1,m,c-y)):270===this.J&&b>=h.bounds.y?(c=h.bounds.y+h.bounds.height,t.K(p-2,m,c),t.K(p-1,m,c+x)):0===this.J&&_<=h.bounds.right&&(c=h.bounds.x,t.K(p-2,c,v),t.K(p-1,c-y,v))):(y=Math.max(10,this.Md[h.layer]),x=Math.max(10,this.rd[h.layer]),d=0,180===this.J||0===this.J?((180===this.J?_<=h.bounds.x:_>=h.bounds.right)&&(d=(0===this.J?x:-y)/2),t.m(p++,_+d,v)):((270===this.J?b<=h.bounds.y:b>=h.bounds.bottom)&&(d=(90===this.J?x:-y)/2),t.m(p++,m,b+d)),t.m(p++,_,b)))}else{for(;null!==h&&h!==c;){for(y=g=null,h=h.destinationEdges.iterator;h.next()&&((m=h.value).link!==n.link||(g=m.toVertex,null!==(y=m.fromVertex).node&&(y=null),null!==g.node)););g!==c&&(m=t.i(p-1).x,v=t.i(p-1).y,_=g.centerX,b=g.centerY,d?180===this.J||0===this.J?(null!==y?y.centerY:v)!==b&&(y=this.Ga[g.layer]+this.Gf.x,p===t.firstPickIndex+1&&(y=0===this.J?Math.max(y,m):Math.min(y,m)),t.m(p++,y,v),t.m(p++,y,b)):(null!==y?y.centerX:m)!==_&&(y=this.Ga[g.layer]+this.Gf.y,p===t.firstPickIndex+1&&(y=90===this.J?Math.max(y,v):Math.min(y,v)),t.m(p++,m,y),t.m(p++,_,y)):(y=Math.max(10,this.Md[g.layer]),x=Math.max(10,this.rd[g.layer]),180===this.J?(t.m(p++,_+x,b),f&&t.m(p++,_,b),t.m(p++,_-y,b)):90===this.J?(t.m(p++,_,b-y),f&&t.m(p++,_,b),t.m(p++,_,b+x)):270===this.J?(t.m(p++,_,b+x),f&&t.m(p++,_,b),t.m(p++,_,b-y)):(t.m(p++,_-y,b),f&&t.m(p++,_,b),t.m(p++,_+x,b)))),h=g}d&&(m=t.i(p-1).x,v=t.i(p-1).y,_=t.i(p).x,b=t.i(p).y,180===this.J||0===this.J?v!==b&&(y=0===this.J?Math.min(Math.max((_+m)/2,this.Ga[c.layer]+this.Gf.x),_):Math.max(Math.min((_+m)/2,this.Ga[c.layer]+this.Gf.x),_),t.m(p++,y,v),t.m(p++,y,b)):m!==_&&(y=90===this.J?Math.min(Math.max((b+v)/2,this.Ga[c.layer]+this.Gf.y),b):Math.max(Math.min((b+v)/2,this.Ga[c.layer]+this.Gf.y),b),t.m(p++,m,y),t.m(p++,_,y)))}null!==i&&f&&(null!==a&&(u===ie&&(u=t.i(0),i=t.i(2),u.w(i)||t.K(1,(u.x+i.x)/2,(u.y+i.y)/2)),(u=t.getLinkPoint(o,a,ie,!0,!1,r,s)).v()||u.set(o.actualBounds.center),t.K(0,u.x,u.y)),null!==s&&(l===ie&&(l=t.i(t.pointsCount-1),u=t.i(t.pointsCount-3),l.w(u)||t.K(t.pointsCount-2,(l.x+u.x)/2,(l.y+u.y)/2)),(o=t.getLinkPoint(r,s,ie,!1,!1,o,a)).v()||o.set(r.actualBounds.center),t.K(t.pointsCount-1,o.x,o.y))),t.sf(),n.commit()}}}this.avoidOrthogonalOverlaps()},ep.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new tt,e=this.network.edges.iterator;e.next();){var n=e.value.link;null!==n&&n.isOrthogonal&&!t.contains(n)&&t.add(n)}if(0<t.count)if(90===this.J||270===this.J){for(e=0,n=[],t=t.iterator;t.next();){var i=t.value;if(null!==i&&i.isOrthogonal)for(var o=2;o<i.pointsCount-3;o++){var r=i.i(o),a=i.i(o+1);if(this.A(r.y,a.y)&&!this.A(r.x,a.x)){var s=new $p;s.layer=Math.floor(r.y/2);var l=i.i(0),u=i.i(i.pointsCount-1);if(s.first=l.x*l.x+l.y,s.Xb=u.x*u.x+u.y,s.Tc=Math.min(r.x,a.x),s.tc=Math.max(r.x,a.x),s.index=o,s.link=i,o+2<i.pointsCount){l=i.i(o-1),u=i.i(o+2);var h=0;l.y<r.y?h=u.y<r.y?3:r.x<a.x?2:1:l.y>r.y&&(h=u.y>r.y?0:a.x<r.x?2:1),s.l=h}n.push(s)}}}if(1<n.length)for(n.sort(this.ly),t=0;t<n.length;){for(r=n[t].layer,i=t+1;i<n.length&&n[i].layer===r;)i++;if(1<i-t)for(r=t;r<i;){for(a=n[r].tc,o=t+1;o<i&&n[o].Tc<a;)a=Math.max(a,n[o].tc),o++;if(1<(a=o-r)){for(this.hj(n,this.Ot,r,r+a),h=1,s=n[r].Xb,l=r;l<o;l++)(u=n[l]).Xb!==s&&(h++,s=u.Xb);this.hj(n,this.ky,r,r+a);var c=1;for(s=n[r].first,l=r;l<o;l++)(u=n[l]).first!==s&&(c++,s=u.first);for(l=!0,u=c,h<c?(l=!1,u=h,s=n[r].Xb,this.hj(n,this.Ot,r,r+a)):s=n[r].first,h=0,c=r;c<o;c++){var d=n[c];(l?d.first:d.Xb)!==s&&(h++,s=l?d.first:d.Xb);var f=d.link;r=f.i(d.index),a=f.i(d.index+1);var p=this.linkSpacing*(h-(u-1)/2);e++,f.Kh(),f.K(d.index,r.x,r.y+p),f.K(d.index+1,a.x,a.y+p),f.sf()}}r=o}t=i}}else{for(e=0,n=[],t=t.iterator;t.next();)if(null!==(i=t.value)&&i.isOrthogonal)for(o=2;o<i.pointsCount-3;o++)r=i.i(o),a=i.i(o+1),this.A(r.x,a.x)&&!this.A(r.y,a.y)&&((s=new $p).layer=Math.floor(r.x/2),l=i.i(0),u=i.i(i.pointsCount-1),s.first=l.x+l.y*l.y,s.Xb=u.x+u.y*u.y,s.Tc=Math.min(r.y,a.y),s.tc=Math.max(r.y,a.y),s.index=o,s.link=i,o+2<i.pointsCount&&(l=i.i(o-1),u=i.i(o+2),h=0,l.x<r.x?h=u.x<r.x?3:r.y<a.y?2:1:l.x>r.x&&(h=u.x>r.x?0:a.y<r.y?2:1),s.l=h),n.push(s));if(1<n.length)for(n.sort(this.ly),t=0;t<n.length;){for(r=n[t].layer,i=t+1;i<n.length&&n[i].layer===r;)i++;if(1<i-t)for(r=t;r<i;){for(a=n[r].tc,o=t+1;o<i&&n[o].Tc<a;)a=Math.max(a,n[o].tc),o++;if(1<(a=o-r)){for(this.hj(n,this.Ot,r,r+a),h=1,s=n[r].Xb,l=r;l<o;l++)(u=n[l]).Xb!==s&&(h++,s=u.Xb);for(this.hj(n,this.ky,r,r+a),c=1,s=n[r].first,l=r;l<o;l++)(u=n[l]).first!==s&&(c++,s=u.first);for(l=!0,u=c,h<c?(l=!1,u=h,s=n[r].Xb,this.hj(n,this.Ot,r,r+a)):s=n[r].first,h=0,c=r;c<o;c++)d=n[c],(l?d.first:d.Xb)!==s&&(h++,s=l?d.first:d.Xb),r=(f=d.link).i(d.index),a=f.i(d.index+1),p=this.linkSpacing*(h-(u-1)/2),e++,f.Kh(),f.K(d.index,r.x+p,r.y),f.K(d.index+1,a.x+p,a.y),f.sf()}r=o}t=i}}}},(n=ep.prototype).ly=function(t,e){return t instanceof $p&&e instanceof $p&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.Tc<e.Tc?-1:t.Tc>e.Tc?1:t.tc<e.tc?-1:t.tc>e.tc?1:0:0},n.ky=function(t,e){return t instanceof $p&&e instanceof $p&&t!==e?t.first<e.first?-1:t.first>e.first||t.l<e.l?1:t.l>e.l||t.Tc<e.Tc?-1:t.Tc>e.Tc?1:t.tc<e.tc?-1:t.tc>e.tc?1:0:0},n.Ot=function(t,e){return t instanceof $p&&e instanceof $p&&t!==e?t.Xb<e.Xb?-1:t.Xb>e.Xb||t.l<e.l?1:t.l>e.l||t.Tc<e.Tc?-1:t.Tc>e.Tc?1:t.tc<e.tc?-1:t.tc>e.tc?1:0:0},n.A=function(t,e){return-1<(t-=e)&&1>t},n.hj=function(t,e,n,i){var o=t.length,r=i-n;if(!(1>=r))if((0>n||n>=o-1)&&_("not in range 0 <= from < length: "+n),2===r)0<e(i=t[n],o=t[n+1])&&(t[n]=o,t[n+1]=i);else if(0===n)if(i>=o)t.sort(e);else for((n=t.slice(0,i)).sort(e),e=0;e<i;e++)t[e]=n[e];else if(i>=o)for((i=t.slice(n)).sort(e),e=n;e<o;e++)t[e]=i[e-n];else for((o=t.slice(n,i)).sort(e),e=n;e<i;e++)t[e]=o[e-n]},d.Object.defineProperties(ep.prototype,{layerSpacing:{get:function(){return this.oe},set:function(t){this.oe!==t&&0<=t&&(this.oe=t,this.C())}},columnSpacing:{get:function(){return this.Zb},set:function(t){this.Zb!==t&&0<t&&(this.Zb=t,this.C())}},direction:{get:function(){return this.J},set:function(t){this.J!==t&&(0===t||90===t||180===t||270===t?(this.J=t,this.C()):_("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.Rk},set:function(t){this.Rk===t||t!==Bp&&t!==Rp&&t!==Np||(this.Rk=t,this.C())}},layeringOption:{get:function(){return this.ul},set:function(t){this.ul===t||t!==Fp&&t!==Lp&&t!==Vp||(this.ul=t,this.C())}},initializeOption:{get:function(){return this.jl},set:function(t){this.jl===t||t!==jp&&t!==zp&&t!==Hp||(this.jl=t,this.C())}},iterations:{get:function(){return this.Cj},set:function(t){this.Cj!==t&&0<=t&&(this.Cj=t,this.C())}},aggressiveOption:{get:function(){return this.Gk},set:function(t){this.Gk===t||t!==Wp&&t!==Gp&&t!==Kp||(this.Gk=t,this.C())}},packOption:{get:function(){return this.jg},set:function(t){this.jg!==t&&0<=t&&8>t&&(this.jg=t,this.C())}},setsPortSpots:{get:function(){return this.df},set:function(t){this.df!==t&&(this.df=t,this.C())}},linkSpacing:{get:function(){return this.to},set:function(t){this.to!==t&&0<=t&&(this.to=t,this.C())}},maxLayer:{get:function(){return this.xa}},maxIndex:{get:function(){return this.cs}},maxColumn:{get:function(){return this.Da}},minIndexLayer:{get:function(){return this.Eo}},maxIndexLayer:{get:function(){return this.sd}}});var Rp=new K(ep,"CycleDepthFirst",0),Bp=new K(ep,"CycleGreedy",1),Np=new K(ep,"CycleFromLayers",2),Fp=new K(ep,"LayerOptimalLinkLength",0),Lp=new K(ep,"LayerLongestPathSink",1),Vp=new K(ep,"LayerLongestPathSource",2),jp=new K(ep,"InitDepthFirstOut",0),zp=new K(ep,"InitDepthFirstIn",1),Hp=new K(ep,"InitNaive",2),Wp=new K(ep,"AggressiveNone",0),Gp=new K(ep,"AggressiveLess",1),Kp=new K(ep,"AggressiveMore",2);function $p(){this.index=this.tc=this.Tc=this.Xb=this.first=this.layer=0,this.link=null,this.l=0}function Up(t){Hc.call(this,t)}function qp(t){Uc.call(this,t),this.Oa=this.Lg=this.ui=-1,this.I=NaN,this.W=null,this.valid=!1,this.finish=this.gm=NaN,this.Zj=0,this.Sv=this.Tv=null}function Yp(t){Yc.call(this,t),this.l=this.Ia=this.bb=!1,this.Ha=this.I=NaN,this.W=this.u=0}function Xp(){Vc.call(this),this.Ib=new nt,this.cp=Ig,this.$c=Tg,this.Zp=Gg,this.bs=Zg,this.Ow=[],this.Zc=!0,this.Bb=qg,this.Bd=new Rt(10,10).freeze();var t=new tm(this);this.T=new em(t),this.U=new em(t),this.$u=[]}function Zp(t){var e=new nt;for(t=t.iterator;t.next();){var n=t.value;n.initialized||e.add(n)}return e}function Jp(t,e){var n=999999,i=null;for(e=e.iterator;e.next();){var o=e.value;switch(t.$c){case Tg:o.sourceEdges.count<n&&(n=o.sourceEdges.count,i=o);break;case Dg:o.destinationEdges.count<n&&(n=o.destinationEdges.count,i=o);break;default:_("Unhandled path value "+t.$c.toString())}}return i}function Qp(t,e){if(null!==e){switch(t.$c){case Tg:if(0<e.destinationEdges.count){for(var n=new tt,i=e.destinationVertexes;i.next();){var o=i.value;tg(t,e,o)&&n.add(o)}0<n.count&&(e.children=n.na())}break;case Dg:if(0<e.sourceEdges.count){for(n=new tt,i=e.sourceVertexes;i.next();)tg(t,e,o=i.value)&&n.add(o);0<n.count&&(e.children=n.na())}break;default:_("Unhandled path value"+t.$c.toString())}for(i=(n=e.children).length,o=0;o<i;o++){var r=n[o];r.initialized=!0,r.level=e.level+1,r.parent=e,t.Ib.remove(r)}for(e=0;e<i;e++)Qp(t,n[e])}}function tg(t,e,n){if(n.initialized){if(null===e)var i=!1;else{for(i=e.parent;null!==i&&i!==n;)i=i.parent;i=i===n}if(i||n.level>e.level)return!1;t.removeChild(n.parent,n)}return!0}function eg(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===Vg&&t.sortTreeVertexChildren(e);for(var n=0,i=e.childrenCount,o=0,r=e.children,a=r.length,s=0;s<a;s++){var l=r[s];eg(t,l),n+=l.descendantCount+1,i=Math.max(i,l.maxChildrenCount),o=Math.max(o,l.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=i,e.maxGenerationCount=0<i?o+1:0}}function ng(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var n=(e=e.children).length,i=0;i<n;i++)ng(t,e[i])}}function ig(t,e){if(null!==e){e.alignment!==Vg&&t.sortTreeVertexChildren(e);for(var n=(e=e.children).length,i=0;i<n;i++)ig(t,e[i])}}function og(t){return t===Lg||t===Vg||t===jg||t===zg}function rg(t){return t===Lg||t===Vg}function ag(t){var e=t.parent;if(null!==e){var n=e.alignment;if(og(n)){if(rg(n)){for(e=e.children,n=0;n<e.length&&t!==e[n];)n++;return 0===n%2}if(n===jg)return!0}}return!1}function sg(t,e){if(0===e.childrenCount){var n=!1,i=0;null!==e.parent&&(i=e.parent.angle,n=og(n=e.parent.alignment));var o=ag(e);e.S.h(0,0),e.ta.h(e.width,e.height),null===e.parent||null===e.comments||(180!==i&&270!==i||n)&&!o?e.da.h(0,0):180===i&&!n||(90===i||270===i)&&o?e.da.h(e.width-2*e.focus.x,0):e.da.h(0,e.height-2*e.focus.y)}else{n=90===(i=Sg(e))||270===i;for(var r=0,a=(o=e.children).length,s=0;s<a;s++){var l=o[s];r=Math.max(r,n?l.ta.width:l.ta.height)}var u=e.alignment,h=u===Ng,c=u===Fg;s=og(u);var d=Math.max(0,e.breadthLimit);l=kg(e);var f=e.nodeSpacing,p=Eg(e),g=h||c?0:p/2,m=e.rowSpacing,v=0;(h||c||e.Fm||e.Gm&&1===e.maxGenerationCount)&&(v=Math.max(0,e.rowIndent)),h=e.width;var y=e.height,b=0,x=0,w=0,C=0,S=0,k=0,E=0,I=0,T=0;if(s&&!rg(u)&&135<i&&o.reverse(),rg(u))if(1<a)for(var D=0;D<a;D++){var M=o[D],O=M.ta;0===D%2&&D!==a-1&&(T=Math.max(T,(n?O.width:O.height)+hg(M)-f))}else 1===a&&(T=n?o[0].ta.width:o[0].ta.height);if(s)switch(u){case Lg:case Vg:T=(x=135>i?lg(e,o,T,b,x):ug(e,o,T,b,x)).x,b=x.width,x=x.height;break;case jg:for(t=0;t<a;t++)g=(d=o[t]).ta,w=0===E?0:m,n?(d.S.h(r-g.width,S+w),b=Math.max(b,g.width),x=Math.max(x,S+w+g.height),S+=w+g.height):(d.S.h(C+w,r-g.height),b=Math.max(b,C+w+g.width),x=Math.max(x,g.height),C+=w+g.width),E++;break;case zg:for(r=0;r<a;r++)d=(t=o[r]).ta,g=0===E?0:m,n?(t.S.h(f/2+e.focus.x,S+g),b=Math.max(b,d.width),x=Math.max(x,S+g+d.height),S+=g+d.height):(t.S.h(C+g,f/2+e.focus.y),b=Math.max(b,C+g+d.width),x=Math.max(x,d.height),C+=g+d.width),E++}else for(D=0;D<a;D++){if(O=(M=o[D]).ta,n){0<d&&0<E&&C+f+O.width>d&&(C<r&&gg(e,u,r-C,0,I,D-1),k++,E=0,I=D,w=x,C=0,S=135<i?-x-m:x+m);var P=0===E?g:f;vg(t,M,0,S),M.S.h(C+P,S),b=Math.max(b,C+P+O.width),x=Math.max(x,w+(0===k?0:m)+O.height),C+=P+O.width}else 0<d&&0<E&&S+f+O.height>d&&(S<r&&gg(e,u,0,r-S,I,D-1),k++,E=0,I=D,w=b,S=0,C=135<i?-b-m:b+m),P=0===E?g:f,vg(t,M,C,0),M.S.h(C,S+P),x=Math.max(x,S+P+O.height),b=Math.max(b,w+(0===k?0:m)+O.width),S+=P+O.height;E++}switch(0<k&&(n?(x+=Math.max(0,l),C<b&&gg(e,u,b-C,0,I,a-1),0<v&&(c||mg(e,v,0,0,a-1),b+=v)):(b+=Math.max(0,l),S<x&&gg(e,u,0,x-S,I,a-1),0<v&&(c||mg(e,0,v,0,a-1),x+=v))),v=c=0,u){case Rg:n?c+=b/2-e.focus.x-p/2:v+=x/2-e.focus.y-p/2;break;case Bg:0<k?n?c+=b/2-e.focus.x-p/2:v+=x/2-e.focus.y-p/2:n?c+=(u=o[0].S.x+o[0].da.x)+(o[a-1].S.x+o[a-1].da.x+2*o[a-1].focus.x-u)/2-e.focus.x-p/2:v+=(u=o[0].S.y+o[0].da.y)+(o[a-1].S.y+o[a-1].da.y+2*o[a-1].focus.y-u)/2-e.focus.y-p/2;break;case Ng:n?(c-=p,b+=p):(v-=p,x+=p);break;case Fg:n?(c+=b-e.width+p,b+=p):(v+=x-e.height+p,x+=p);break;case Lg:case Vg:n?c+=1<a?T+f/2-e.focus.x:o[0].focus.x-e.focus.x+o[0].da.x:v+=1<a?T+f/2-e.focus.y:o[0].focus.y-e.focus.y+o[0].da.y;break;case jg:n?c+=b+f/2-e.focus.x:v+=x+f/2-e.focus.y;break;case zg:break;default:_("Unhandled alignment value "+u.toString())}for(p=0;p<a;p++)u=o[p],n?u.S.h(u.S.x+u.da.x-c,u.S.y+(135<i?(s?-x:-u.ta.height)+u.da.y-l:y+l+u.da.y)):u.S.h(u.S.x+(135<i?(s?-b:-u.ta.width)+u.da.x-l:h+l+u.da.x),u.S.y+u.da.y-v);n?(b=dg(e,b,c),0>c&&(c=0),135<i&&(v+=x+l),x=Math.max(Math.max(x,y),x+y+l)):(135<i&&(c+=b+l),b=Math.max(Math.max(b,h),b+h+l),x=fg(e,x,v),0>v&&(v=0)),e.da.h(c,v),e.ta.h(b,x)}}function lg(t,e,n,i,o){var r=e.length;if(0===r)return new Lt(n,0,i,o);if(1===r)return new Lt(n,0,i=(t=e[0]).ta.width,o=t.ta.height);for(var a=t.nodeSpacing,s=t.rowSpacing,l=90===Sg(t),u=0,h=0,c=0,d=0;d<r;d++)if(!(0!==d%2||1<r&&d===r-1)){var f=e[d],p=f.ta,g=0===u?0:s;if(l){var m=hg(f)-a;f.S.h(n-(p.width+m),c+g),i=Math.max(i,p.width+m),o=Math.max(o,c+g+p.height),c+=g+p.height}else m=hg(f)-a,f.S.h(h+g,n-(p.height+m)),o=Math.max(o,p.height+m),i=Math.max(i,h+g+p.width),h+=g+p.width;u++}for(u=0,f=h,d=c,l?(h=n+a,c=0):(h=0,c=n+a),p=0;p<r;p++)if(0!==p%2){m=(g=e[p]).ta;var v=0===u?0:s;if(l){var y=hg(g)-a;g.S.h(h+y,c+v),i=Math.max(i,h+m.width+y),o=Math.max(o,c+v+m.height),c+=v+m.height}else y=hg(g)-a,g.S.h(h+v,c+y),i=Math.max(i,h+v+m.width),o=Math.max(o,c+m.height+y),h+=v+m.width;u++}return 1<r&&1===r%2&&(r=(e=e[r-1]).ta,s=null===e.parent?0:e.parent.rowSpacing,l?(e.S.h(n+a/2-e.focus.x-e.da.x,o+s),l=n+a/2-e.focus.x-e.da.x,i=Math.max(i,l+r.width),0>l&&(i-=l),o=Math.max(o,Math.max(d,c)+s+r.height),0>e.S.x&&(n=cg(t,e.S.x,!1,n,a))):(e.S.h(i+s,n+a/2-e.focus.y-e.da.y),i=Math.max(i,Math.max(f,h)+s+r.width),c=n+a/2-e.focus.y-e.da.y,o=Math.max(o,c+r.height),0>c&&(o-=c),0>e.S.y&&(n=cg(t,e.S.y,!0,n,a)))),new Lt(n,0,i,o)}function ug(t,e,n,i,o){var r=e.length;if(0===r)return new Lt(n,0,i,o);if(1===r)return new Lt(n,0,i=(e=e[0]).ta.width,o=e.ta.height);for(var a=t.nodeSpacing,s=t.rowSpacing,l=270===Sg(t),u=0,h=0,c=0,d=0;d<r;d++)if(!(0!==d%2||1<r&&d===r-1)){var f=e[d],p=f.ta,g=0===u?0:s;if(l){var m=hg(f)-a;c-=g+p.height,f.S.h(n-(p.width+m),c),i=Math.max(i,p.width+m),o=Math.max(o,Math.abs(c))}else m=hg(f)-a,h-=g+p.width,f.S.h(h,n-(p.height+m)),o=Math.max(o,p.height+m),i=Math.max(i,Math.abs(h));u++}for(u=0,f=h,d=c,l?(h=n+a,c=0):(h=0,c=n+a),p=0;p<r;p++)if(0!==p%2){m=(g=e[p]).ta;var v=0===u?0:s;if(l){var y=hg(g)-a;c-=v+m.height,g.S.h(h+y,c),i=Math.max(i,h+m.width+y),o=Math.max(o,Math.abs(c))}else y=hg(g)-a,h-=v+m.width,g.S.h(h,c+y),o=Math.max(o,c+m.height+y),i=Math.max(i,Math.abs(h));u++}for(1<r&&1===r%2&&(u=(s=e[r-1]).ta,p=null===s.parent?0:s.parent.rowSpacing,l?(s.S.h(n+a/2-s.focus.x-s.da.x,-o-u.height-p),h=n+a/2-s.focus.x-s.da.x,i=Math.max(i,h+u.width),0>h&&(i-=h),o=Math.max(o,Math.abs(Math.min(d,c))+p+u.height),0>s.S.x&&(n=cg(t,s.S.x,!1,n,a))):(s.S.h(-i-u.width-p,n+a/2-s.focus.y-s.da.y),i=Math.max(i,Math.abs(Math.min(f,h))+p+u.width),c=n+a/2-s.focus.y-s.da.y,o=Math.max(o,c+u.height),0>c&&(o-=c),0>s.S.y&&(n=cg(t,s.S.y,!0,n,a)))),t=0;t<r;t++)a=e[t],l?a.S.h(a.S.x,a.S.y+o):a.S.h(a.S.x+i,a.S.y);return new Lt(n,0,i,o)}function hg(t){return null===t.parent?0:t.parent.nodeSpacing}function cg(t,e,n,i,o){for(var r=(t=t.children).length,a=0;a<r;a++)n?t[a].S.h(t[a].S.x,t[a].S.y-e):t[a].S.h(t[a].S.x-e,t[a].S.y);return e=t[r-1],Math.max(i,n?e.da.y+e.focus.y-o/2:e.da.x+e.focus.x-o/2)}function dg(t,e,n){switch(t.alignment){case Bg:case Rg:return n+t.width>e&&(e=n+t.width),0>n&&(e-=n),e;case Ng:return t.width>e?t.width:e;case Fg:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case Lg:case Vg:return Math.max(t.width,Math.max(e,n+t.width)-Math.min(0,n));case jg:return t.width-t.focus.x+t.nodeSpacing/2+e;case zg:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function fg(t,e,n){switch(t.alignment){case Bg:case Rg:return n+t.height>e&&(e=n+t.height),0>n&&(e-=n),e;case Ng:return t.height>e?t.height:e;case Fg:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case Lg:case Vg:return Math.max(t.height,Math.max(e,n+t.height)-Math.min(0,n));case jg:return t.height-t.focus.y+t.nodeSpacing/2+e;case zg:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function pg(t,e,n){switch(t){case Rg:case Bg:e/=2,n/=2;break;case Ng:n=e=0;break;case Fg:break;default:_("Unhandled alignment value "+t.toString())}return new ft(e,n)}function gg(t,e,n,i,o,r){mg(t,(e=pg(e,n,i)).x,e.y,o,r)}function mg(t,e,n,i,o){if(0!==e||0!==n)for(t=t.children;i<=o;i++){var r=t[i].S;r.x+=e,r.y+=n}}function vg(t,e,n,i){var o=e.parent;switch(t.$c){case Tg:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===o&&e.relativePoint.h(n,i);break;case Dg:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===o&&e.relativePoint.h(n,i);break;default:_("Unhandled path value "+t.$c.toString())}}function yg(t,e,n){for(var i=0;i<t.length;i++){var o=t[i];o.x+=e,o.y+=n}}function _g(t,e,n,i,o,r,a,s){var l=Sg(e),u=90===l||270===l,h=e.nodeSpacing;e=i;var c=o;i=r;var d=a,f=n.yq,p=n.Lq;a=n.ta;var g=u?Math.max(d,a.height):Math.max(i,a.width);if(null!==f&&l===Sg(n)||(f=bg(t,2),p=bg(t,2),u?(f[0].h(0,0),f[1].h(0,a.height),p[0].h(a.width,0),p[1].h(p[0].x,f[1].y)):(f[0].h(0,0),f[1].h(a.width,0),p[0].h(0,a.height),p[1].h(f[1].x,p[0].y))),u){if(d=9999999,!(null===c||2>c.length||null===f||2>f.length))for(o=n=0;n<c.length&&o<f.length;){r=c[n];var m=f[o];l=m.x,u=m.y,l+=i;var v=r;n+1<c.length&&(v=c[n+1]);var y=m;m=y.x,y=y.y,o+1<f.length&&(m=(y=f[o+1]).x,y=y.y,m+=i);var _=d;r.y===u?_=l-r.x:r.y>u&&r.y<y?_=l+(r.y-u)/(y-u)*(m-l)-r.x:u>r.y&&u<v.y&&(_=l-(r.x+(u-r.y)/(v.y-r.y)*(v.x-r.x))),_<d&&(d=_),v.y<=r.y?n++:y<=u?o++:(v.y<=y&&n++,y<=v.y&&o++)}if(d=i-d,n=f,o=d+=h,null===e||2>e.length||null===n||2>n.length)i=null;else{for(h=bg(t,e.length+n.length),i=r=l=0;r<n.length&&n[r].y<e[0].y;)u=n[r++],h[i++].h(u.x+o,u.y);for(;l<e.length;)u=e[l++],h[i++].h(u.x,u.y);for(l=e[e.length-1].y;r<n.length&&n[r].y<=l;)r++;for(;r<n.length&&n[r].y>l;)u=n[r++],h[i++].h(u.x+o,u.y);for(n=bg(t,i),l=0;l<i;l++)n[l].assign(h[l]);xg(t,h),i=n}if(r=p,l=d,null===c||2>c.length||null===r||2>r.length)o=null;else{for(h=bg(t,c.length+r.length),o=u=n=0;n<c.length&&c[n].y<r[0].y;)v=c[n++],h[o++].h(v.x,v.y);for(;u<r.length;)v=r[u++],h[o++].h(v.x+l,v.y);for(r=r[r.length-1].y;n<c.length&&c[n].y<=r;)n++;for(;n<c.length&&c[n].y>r;)l=c[n++],h[o++].h(l.x,l.y);for(r=bg(t,o),n=0;n<o;n++)r[n].assign(h[n]);xg(t,h),o=r}return r=Math.max(0,d)+a.width,a=g,xg(t,e),xg(t,f),xg(t,c),xg(t,p),s[0]=i,s[1]=o,new Lt(d,0,r,a)}if(i=9999999,!(null===c||2>c.length||null===f||2>f.length))for(o=n=0;n<c.length&&o<f.length;)r=c[n],l=(m=f[o]).x,u=m.y,u+=d,v=r,n+1<c.length&&(v=c[n+1]),m=(y=m).x,y=y.y,o+1<f.length&&(m=(y=f[o+1]).x,y=y.y,y+=d),_=i,r.x===l?_=u-r.y:r.x>l&&r.x<m?_=u+(r.x-l)/(m-l)*(y-u)-r.y:l>r.x&&l<v.x&&(_=u-(r.y+(l-r.x)/(v.x-r.x)*(v.y-r.y))),_<i&&(i=_),v.x<=r.x?n++:m<=l?o++:(v.x<=m&&n++,m<=v.x&&o++);if(d-=i,n=f,o=d+=h,null===e||2>e.length||null===n||2>n.length)i=null;else{for(h=bg(t,e.length+n.length),i=r=l=0;r<n.length&&n[r].x<e[0].x;)u=n[r++],h[i++].h(u.x,u.y+o);for(;l<e.length;)u=e[l++],h[i++].h(u.x,u.y);for(l=e[e.length-1].x;r<n.length&&n[r].x<=l;)r++;for(;r<n.length&&n[r].x>l;)u=n[r++],h[i++].h(u.x,u.y+o);for(n=bg(t,i),l=0;l<i;l++)n[l].assign(h[l]);xg(t,h),i=n}if(r=p,l=d,null===c||2>c.length||null===r||2>r.length)o=null;else{for(h=bg(t,c.length+r.length),o=u=n=0;n<c.length&&c[n].x<r[0].x;)v=c[n++],h[o++].h(v.x,v.y);for(;u<r.length;)v=r[u++],h[o++].h(v.x,v.y+l);for(r=r[r.length-1].x;n<c.length&&c[n].x<=r;)n++;for(;n<c.length&&c[n].x>r;)l=c[n++],h[o++].h(l.x,l.y);for(r=bg(t,o),n=0;n<o;n++)r[n].assign(h[n]);xg(t,h),o=r}return r=g,a=Math.max(0,d)+a.height,xg(t,e),xg(t,f),xg(t,c),xg(t,p),s[0]=i,s[1]=o,new Lt(d,0,r,a)}function bg(t,e){if(void 0!==(t=t.$u[e])&&void 0!==(t=t.pop()))return t;t=[];for(var n=0;n<e;n++)t[n]=new ft;return t}function xg(t,e){var n=e.length,i=t.$u[n];void 0===i&&(i=[],t.$u[n]=i),i.push(e)}function wg(t,e,n,i){if(null!==e){e.x=n,e.y=i;for(var o=(e=e.children).length,r=0;r<o;r++){var a=e[r];wg(t,a,n+a.S.x,i+a.S.y)}}}function Cg(t,e){if(null!==e){t.setPortSpots(e);for(var n=(e=e.children).length,i=0;i<n;i++)Cg(t,e[i])}}function Sg(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}function kg(t){var e=Sg(t);e=90===e||270===e;var n=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var i=Math.min(1,t.layerSpacingParentOverlap);n-=e?t.height*i:t.width*i}return n<(e?-t.height:-t.width)&&(n=e?-t.height:-t.width),n}function Eg(t){var e=Sg(t),n=t.nodeIndent;if(0<t.nodeIndentPastParent){var i=Math.min(1,t.nodeIndentPastParent);n+=90===e||270===e?t.width*i:t.height*i}return Math.max(0,n)}ep.className="LayeredDigraphLayout",ep.CycleDepthFirst=Rp,ep.CycleGreedy=Bp,ep.CycleFromLayers=Np,ep.LayerOptimalLinkLength=Fp,ep.LayerLongestPathSink=Lp,ep.LayerLongestPathSource=Vp,ep.InitDepthFirstOut=jp,ep.InitDepthFirstIn=zp,ep.InitNaive=Hp,ep.AggressiveNone=Wp,ep.AggressiveLess=Gp,ep.AggressiveMore=Kp,ep.PackNone=0,ep.PackExpand=1,ep.PackStraighten=2,ep.PackMedian=4,ep.PackAll=7,$p.className="SegInfo",c(Up,Hc),Up.prototype.createVertex=function(){return new qp(this)},Up.prototype.createEdge=function(){return new Yp(this)},Up.className="LayeredDigraphNetwork",c(qp,Uc),d.Object.defineProperties(qp.prototype,{layer:{get:function(){return this.ui},set:function(t){this.ui!==t&&(this.ui=t)}},column:{get:function(){return this.Lg},set:function(t){this.Lg!==t&&(this.Lg=t)}},index:{get:function(){return this.Oa},set:function(t){this.Oa!==t&&(this.Oa=t)}},component:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},near:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t)}}}),qp.className="LayeredDigraphVertex",c(Yp,Yc),d.Object.defineProperties(Yp.prototype,{valid:{get:function(){return this.bb},set:function(t){this.bb!==t&&(this.bb=t)}},rev:{get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t)}},forest:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},portFromPos:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},portToPos:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},portFromColOffset:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToColOffset:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t)}}}),Yp.className="LayeredDigraphEdge",c(Xp,Vc),Xp.prototype.cloneProtected=function(t){Vc.prototype.cloneProtected.call(this,t),t.cp=this.cp,t.Zp=this.Zp,t.bs=this.bs,t.Zc=this.Zc,t.Bb=this.Bb,t.Bd.assign(this.Bd),t.T.copyInheritedPropertiesFrom(this.T),t.U.copyInheritedPropertiesFrom(this.U)},Xp.prototype.gb=function(t){t.classType===Xp?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:_("Unknown enum value: "+t):Vc.prototype.gb.call(this,t)},Xp.prototype.createNetwork=function(){return new tm(this)},Xp.prototype.makeNetwork=function(t){function e(t){if(t instanceof yh)return!t.isLinkLabel&&"Comment"!==t.category;if(t instanceof Nh){var e=t.fromNode;return null!==e&&!e.isLinkLabel&&"Comment"!==e.category&&(null!==(t=t.toNode)&&!t.isLinkLabel&&"Comment"!==t.category)}return!1}var n=this.createNetwork();return t instanceof Po?(n.ug(t.nodes,!0,e),n.ug(t.links,!0,e)):t instanceof Ph?n.ug(t.memberParts,!1,e):n.ug(t.iterator,!1,e),n},Xp.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==Xg&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof Po&&(e=t),this.path===Ig&&null!==e?this.$c=e.isTreePathToChildren?Tg:Dg:this.$c=this.path===Ig?Tg:this.path,0<this.network.vertexes.count){for(this.network.lq(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Ib.count){for(t=new nt,e=this.Ib.iterator;e.next();){var n=e.value;n instanceof yh?null!==(n=this.network.Yi(n))&&t.add(n):n instanceof em&&t.add(n)}this.Ib=t}for(0===this.Ib.count&&this.findRoots(),t=this.Ib.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,Qp(this,e));for(e=this.network.vertexes,t=null;0<(t=Zp(e)).count;)null!==(e=Jp(this,t))&&this.Ib.add(e),e.initialized=!0,Qp(this,e),e=t;for(t=this.Ib.iterator;t.next();)(e=t.value)instanceof em&&eg(this,e);for(t=this.Ib.iterator;t.next();)(e=t.value)instanceof em&&ng(this,e);for(t=this.Ib.iterator;t.next();)(e=t.value)instanceof em&&ig(this,e);if(this.kv(),this.layerStyle===Qg){for(t=[],e=this.network.vertexes.iterator;e.next();){var i=(n=e.value).parent;null===i&&(i=n),i=0===i.angle||180===i.angle;var o=t[n.level];void 0===o&&(o=0),t[n.level]=Math.max(o,i?n.width:n.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.Ow=t,e=this.network.vertexes.iterator;e.next();)null===(i=(n=e.value).parent)&&(i=n),0===i.angle||180===i.angle?(180===i.angle&&(n.focusX+=t[n.level]-n.width),n.width=t[n.level]):(270===i.angle&&(n.focusY+=t[n.level]-n.height),n.height=t[n.level])}else if(this.layerStyle===Jg)for(t=this.network.vertexes.iterator;t.next();){for(n=0===(e=t.value).angle||180===e.angle,i=-1,o=0;o<e.children.length;o++){var r=e.children[o];i=Math.max(i,n?r.width:r.height)}if(0<=i)for(o=0;o<e.children.length;o++)r=e.children[o],n?(180===e.angle&&(r.focusX+=i-r.width),r.width=i):(270===e.angle&&(r.focusY+=i-r.height),r.height=i)}for(t=this.Ib.iterator;t.next();)(e=t.value)instanceof em&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Ib=new nt,this.isValidLayout=!0},Xp.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var n=e.value;switch(this.$c){case Tg:0===n.sourceEdges.count&&this.Ib.add(n);break;case Dg:0===n.destinationEdges.count&&this.Ib.add(n);break;default:_("Unhandled path value "+this.$c.toString())}}0===this.Ib.count&&(null!==(t=Jp(this,t))&&this.Ib.add(t))},Xp.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var n=t.children,i=0,o=0;o<n.length;o++)n[o]===e&&i++;if(0<i){i=Array(n.length-i);for(var r=o=0;r<n.length;r++)n[r]!==e&&(i[o++]=n[r]);t.children=i}}},Xp.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function(t,e){switch(t.Zp){default:case Gg:return null!==e.parent?e.parent:t.T;case Ug:return null===e.parent?t.T:null===e.parent.parent?t.U:e.parent;case $g:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.U:t.T;case Kg:var n=!0;if(0===e.childrenCount)n=!1;else for(var i=e.children,o=i.length,r=0;r<o;r++)if(0<i[r].childrenCount){n=!1;break}return n&&null!==e.parent?t.U:null!==e.parent?e.parent:t.T}}(this,t)),null!==t.parent&&t.parent.alignment===Vg){for(var e=t.angle,n=t.parent.children,i=0;i<n.length&&t!==n[i];)i++;0===i%2?i!==n.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},Xp.prototype.assignTreeVertexValues=function(){},Xp.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case Mg:break;case Og:t.children.reverse();break;case Pg:t.children.sort(t.comparer);break;case Ag:t.children.sort(t.comparer),t.children.reverse();break;default:_("Unhandled sorting value "+t.sorting.toString())}},Xp.prototype.kv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Xp.prototype.addComments=function(t){var e=t.angle,n=t.parent,i=0,o=!1;null!==n&&(i=n.angle,o=og(o=n.alignment)),e=90===e||270===e,i=90===i||270===i,n=0===t.childrenCount;var r=0,a=0,s=0,l=t.commentSpacing;if(null!==t.node)for(var u=t.node.wv();u.next();){var h=u.value;"Comment"===h.category&&h.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(h),h.zb(),h=h.measuredBounds,e&&!n||!o&&!i&&n||o&&i&&n?(r=Math.max(r,h.width),a+=h.height+Math.abs(s)):(r+=h.width+Math.abs(s),a=Math.max(a,h.height)),s=l)}null!==t.comments&&(e&&!n||!o&&!i&&n||o&&i&&n?(r+=Math.abs(t.commentMargin),a=Math.max(0,a-t.height)):(a+=Math.abs(t.commentMargin),r=Math.max(0,r-t.width)),o=Lt.allocAt(0,0,t.bounds.width+r,t.bounds.height+a),t.bounds=o,Lt.free(o))},Xp.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,n=t.parent,i=t.angle,o=0,r=!1;null!==n&&(o=n.angle,r=og(r=n.alignment)),i=90===i||270===i,n=90===o||270===o;for(var a=0===t.childrenCount,s=ag(t),l=0,u=t.comments,h=u.length,c=ft.alloc(),d=0;d<h;d++){var f=u[d],p=f.measuredBounds;if(i&&!a||!r&&!n&&a||r&&n&&a){if(135<o&&!r||n&&s)if(0<=t.commentMargin)for(c.h(t.bounds.x-t.commentMargin-p.width,t.bounds.y+l),f.move(c),f=f.xd();f.next();){var g=f.value;g.fromSpot=Re,g.toSpot=Be}else for(c.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+l),f.move(c),f=f.xd();f.next();)(g=f.value).fromSpot=Be,g.toSpot=Re;else if(0<=t.commentMargin)for(c.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+l),f.move(c),f=f.xd();f.next();)(g=f.value).fromSpot=Be,g.toSpot=Re;else for(c.h(t.bounds.x+t.commentMargin-p.width,t.bounds.y+l),f.move(c),f=f.xd();f.next();)(g=f.value).fromSpot=Re,g.toSpot=Be;l=0<=t.commentSpacing?l+(p.height+t.commentSpacing):l+(t.commentSpacing-p.height)}else{if(135<o&&!r||!n&&s)if(0<=t.commentMargin)for(c.h(t.bounds.x+l,t.bounds.y-t.commentMargin-p.height),f.move(c),f=f.xd();f.next();)(g=f.value).fromSpot=Ae,g.toSpot=Ne;else for(c.h(t.bounds.x+l,t.bounds.y+2*t.focus.y-t.commentMargin),f.move(c),f=f.xd();f.next();)(g=f.value).fromSpot=Ne,g.toSpot=Ae;else if(0<=t.commentMargin)for(c.h(t.bounds.x+l,t.bounds.y+2*t.focus.y+t.commentMargin),f.move(c),f=f.xd();f.next();)(g=f.value).fromSpot=Ne,g.toSpot=Ae;else for(c.h(t.bounds.x+l,t.bounds.y+t.commentMargin-p.height),f.move(c),f=f.xd();f.next();)(g=f.value).fromSpot=Ae,g.toSpot=Ne;l=0<=t.commentSpacing?l+(p.width+t.commentSpacing):l+(t.commentSpacing-p.width)}}if(ft.free(c),e=l-t.commentSpacing-(i?e.height:e.width),this.$c===Tg)for(t=t.destinationEdges;t.next();)null===(o=t.value.link)||o.isAvoiding||(o.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(o=t.value.link)||o.isAvoiding||(o.toEndSegmentLength=0<e?e:NaN)}},Xp.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,n=e.length,i=0;i<n;i++)this.layoutTree(e[i]);switch(t.compaction){case Hg:sg(this,t);break;case Wg:if(t.alignment===Vg)sg(this,t);else if(0===t.childrenCount)n=!1,e=0,null!==(i=t.parent)&&(e=i.angle,n=og(n=i.alignment)),i=ag(t),t.S.h(0,0),t.ta.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||n)&&!i?t.da.h(0,0):180===e&&!n||(90===e||270===e)&&i?t.da.h(t.width-2*t.focus.x,0):t.da.h(0,t.height-2*t.focus.y),t.yq=null,t.Lq=null;else{var o=Sg(t);e=90===o||270===o;var r=0,a=t.children,s=a.length;for(n=0;n<s;n++)i=a[n],r=Math.max(r,e?i.ta.width:i.ta.height);var l=t.alignment,u=l===Fg,h=og(l),c=Math.max(0,t.breadthLimit);n=kg(t);var d=t.nodeSpacing,f=Eg(t),p=t.rowSpacing,g=0;(l===Ng||u||t.Fm||t.Gm&&1===t.maxGenerationCount)&&(g=Math.max(0,t.rowIndent)),i=t.width;var m=t.height,v=0,y=0,b=0,x=null,w=null,C=0,S=0,k=0,E=0,I=0,T=0,O=0,P=0;if(h&&!rg(l)&&135<o&&a.reverse(),rg(l))if(1<s)for(var A=0;A<s;A++)0===A%2&&A!==s-1&&(P=Math.max(P,e?a[A].ta.width:a[A].ta.height));else 1===s&&(P=e?a[0].ta.width:a[0].ta.height);if(h){switch(l){case Lg:P=(y=135>o?lg(t,a,P,v,y):ug(t,a,P,v,y)).x,v=y.width,y=y.height;break;case jg:for(x=0;x<s;x++)c=(w=a[x]).ta,b=0===T?0:p,e?(w.S.h(r-c.width,E+b),v=Math.max(v,c.width),y=Math.max(y,E+b+c.height),E+=b+c.height):(w.S.h(k+b,r-c.height),v=Math.max(v,k+b+c.width),y=Math.max(y,c.height),k+=b+c.width),T++;break;case zg:for(x=0;x<s;x++)r=(w=a[x]).ta,c=0===T?0:p,e?(w.S.h(d/2+t.focus.x,E+c),v=Math.max(v,r.width),y=Math.max(y,E+c+r.height),E+=c+r.height):(w.S.h(k+c,d/2+t.focus.y),v=Math.max(v,k+c+r.width),y=Math.max(y,r.height),k+=c+r.width),T++}x=bg(this,2),w=bg(this,2),e?(x[0].h(0,0),x[1].h(0,y),w[0].h(v,0)):(x[0].h(0,0),x[1].h(v,0),w[0].h(0,y)),w[1].h(v,y)}else for(A=0;A<s;A++){var R=a[A],B=R.ta;if(e){0<c&&0<T&&k+d+B.width>c&&(k<r&&gg(t,l,r-k,0,O,A-1),I++,T=0,O=A,b=y,k=0,E=135<o?-y-p:y+p),vg(this,R,0,E);var N=0;if(0===T)x=R.yq,w=R.Lq,C=B.width,S=B.height,(null===x||null===w||o!==Sg(R))&&(x=bg(this,2),w=bg(this,2),x[0].h(0,0),x[1].h(0,S),w[0].h(C,0),w[1].h(C,S));else{var F=D();N=(S=_g(this,t,R,x,w,C,S,F)).x,x=F[0],w=F[1],C=S.width,S=S.height,M(F),k<B.width&&0>N&&(mg(t,-N,0,O,A-1),yg(x,-N,0),yg(w,-N,0),N=0)}R.S.h(N,E),v=Math.max(v,C),y=Math.max(y,b+(0===I?0:p)+B.height),k=C}else 0<c&&0<T&&E+d+B.height>c&&(E<r&&gg(t,l,0,r-E,O,A-1),I++,T=0,O=A,b=v,E=0,k=135<o?-v-p:v+p),vg(this,R,k,0),N=0,0===T?(x=R.yq,w=R.Lq,C=B.width,S=B.height,(null===x||null===w||o!==Sg(R))&&(x=bg(this,2),w=bg(this,2),x[0].h(0,0),x[1].h(C,0),w[0].h(0,S),w[1].h(C,S))):(N=(S=_g(this,t,R,x,w,C,S,F=D())).x,x=F[0],w=F[1],C=S.width,S=S.height,M(F),E<B.height&&0>N&&(mg(t,0,-N,O,A-1),yg(x,0,-N),yg(w,0,-N),N=0)),R.S.h(k,N),y=Math.max(y,S),v=Math.max(v,b+(0===I?0:p)+B.width),E=S;T++}switch(0<I&&(e?(y+=Math.max(0,n),k<v&&gg(t,l,v-k,0,O,s-1),0<g&&(u||mg(t,g,0,0,s-1),v+=g)):(v+=Math.max(0,n),E<y&&gg(t,l,0,y-E,O,s-1),0<g&&(u||mg(t,0,g,0,s-1),y+=g))),g=u=0,l){case Rg:e?u+=v/2-t.focus.x-f/2:g+=y/2-t.focus.y-f/2;break;case Bg:0<I?e?u+=v/2-t.focus.x-f/2:g+=y/2-t.focus.y-f/2:e?u+=(P=a[0].S.x+a[0].da.x)+(a[s-1].S.x+a[s-1].da.x+2*a[s-1].focus.x-P)/2-t.focus.x-f/2:g+=(P=a[0].S.y+a[0].da.y)+(a[s-1].S.y+a[s-1].da.y+2*a[s-1].focus.y-P)/2-t.focus.y-f/2;break;case Ng:e?(u-=f,v+=f):(g-=f,y+=f);break;case Fg:e?(u+=v-t.width+f,v+=f):(g+=y-t.height+f,y+=f);break;case Lg:e?u+=1<s?P+d/2-t.focus.x:a[0].focus.x-t.focus.x+a[0].da.x:g+=1<s?P+d/2-t.focus.y:a[0].focus.y-t.focus.y+a[0].da.y;break;case jg:e?u+=v+d/2-t.focus.x:g+=y+d/2-t.focus.y;break;case zg:break;default:_("Unhandled alignment value "+l.toString())}for(f=0;f<s;f++)P=a[f],e?P.S.h(P.S.x+P.da.x-u,P.S.y+(135<o?(h?-y:-P.ta.height)+P.da.y-n:m+n+P.da.y)):P.S.h(P.S.x+(135<o?(h?-v:-P.ta.width)+P.da.x-n:i+n+P.da.x),P.S.y+P.da.y-g);if(s=a=0,h?e?(v=dg(t,v,u),0>u&&(u=0),135<o&&(g+=y+n),y+=m+n,l===zg&&(a+=d/2+t.focus.x),s+=m+n):(135<o&&(u+=v+n),v+=i+n,y=fg(t,y,g),0>g&&(g=0),l===zg&&(s+=d/2+t.focus.y),a+=i+n):e?(null===t.comments?i>v&&(a=(v=pg(l,i-v,0)).x,s=v.y,v=i,u=0):v=dg(t,v,u),0>u&&(a-=u,u=0),135<o&&(g+=y+n),y=Math.max(Math.max(y,m),y+m+n),s+=m+n):(135<o&&(u+=v+n),v=Math.max(Math.max(v,i),v+i+n),null===t.comments?m>y&&(a=(y=pg(l,0,m-y)).x,s=y.y,y=m,g=0):y=fg(t,y,g),0>g&&(s-=g,g=0),a+=i+n),0<I)o=bg(this,4),I=bg(this,4),e?(o[2].h(0,m+n),o[3].h(o[2].x,y),I[2].h(v,o[2].y),I[3].h(I[2].x,o[3].y)):(o[2].h(i+n,0),o[3].h(v,o[2].y),I[2].h(o[2].x,y),I[3].h(o[3].x,I[2].y));else{for(o=bg(this,x.length+2),I=bg(this,w.length+2),l=0;l<x.length;l++)h=x[l],o[l+2].h(h.x+a,h.y+s);for(l=0;l<w.length;l++)h=w[l],I[l+2].h(h.x+a,h.y+s)}e?(o[0].h(u,0),o[1].h(o[0].x,m),o[2].y<o[1].y&&(o[2].x>o[0].x?o[2].assign(o[1]):o[1].assign(o[2])),o[3].y<o[2].y&&(o[3].x>o[0].x?o[3].assign(o[2]):o[2].assign(o[3])),I[0].h(u+i,0),I[1].h(I[0].x,m),I[2].y<I[1].y&&(I[2].x<I[0].x?I[2].assign(I[1]):I[1].assign(I[2])),I[3].y<I[2].y&&(I[3].x<I[0].x?I[3].assign(I[2]):I[2].assign(I[3])),o[2].y-=n/2,I[2].y-=n/2):(o[0].h(0,g),o[1].h(i,o[0].y),o[2].x<o[1].x&&(o[2].y>o[0].y?o[2].assign(o[1]):o[1].assign(o[2])),o[3].x<o[2].x&&(o[3].y>o[0].y?o[3].assign(o[2]):o[2].assign(o[3])),I[0].h(0,g+m),I[1].h(i,I[0].y),I[2].x<I[1].x&&(I[2].y<I[0].y?I[2].assign(I[1]):I[1].assign(I[2])),I[3].x<I[2].x&&(I[3].y<I[0].y?I[3].assign(I[2]):I[2].assign(I[3])),o[2].x-=n/2,I[2].x-=n/2),xg(this,x),xg(this,w),t.yq=o,t.Lq=I,t.da.h(u,g),t.ta.h(v,y)}break;default:_("Unhandled compaction value "+t.compaction.toString())}}},Xp.prototype.arrangeTrees=function(){if(this.Bb===Xg)for(var t=this.Ib.iterator;t.next();){var e=t.value;if(e instanceof em){var n=e.node;if(null!==n){var i=n.position;n=i.x,i=i.y,isFinite(n)||(n=0),isFinite(i)||(i=0),wg(this,e,n,i)}}}else{for(t=[],e=this.Ib.iterator;e.next();)(n=e.value)instanceof em&&t.push(n);switch(this.sorting){case Mg:break;case Og:t.reverse();break;case Pg:t.sort(this.comparer);break;case Ag:t.sort(this.comparer),t.reverse();break;default:_("Unhandled sorting value "+this.sorting.toString())}for(e=(n=this.arrangementOrigin).x,n=n.y,i=0;i<t.length;i++){var o=t[i];switch(wg(this,o,e+o.da.x,n+o.da.y),this.Bb){case qg:n+=o.ta.height+this.Bd.height;break;case Yg:e+=o.ta.width+this.Bd.width;break;default:_("Unhandled arrangement value "+this.Bb.toString())}}}},Xp.prototype.commitLayout=function(){this.kw(),this.commitNodes(),this.mv(),this.isRouting&&this.commitLinks()},Xp.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},Xp.prototype.mv=function(){if(this.layerStyle===Qg){for(var t=this.Ow,e=[],n=null,i=this.network.vertexes.iterator;i.next();){var o=i.value;null===n?n=o.bounds.copy():n.Ic(o.bounds);var r=e[o.level];r=void 0===r?kg(o):Math.max(r,kg(o)),e[o.level]=r}for(i=0;i<e.length;i++)void 0===e[i]&&(e[i]=0);if(90===this.angle||270===this.angle?(n.Vc(this.nodeSpacing/2,this.layerSpacing),i=new ft(-this.nodeSpacing/2,-this.layerSpacing/2)):(n.Vc(this.layerSpacing,this.nodeSpacing/2),i=new ft(-this.layerSpacing/2,-this.nodeSpacing/2)),o=[],n=90===this.angle||270===this.angle?n.width:n.height,r=0,180===this.angle||270===this.angle)for(var a=0;a<t.length;a++)r+=t[a]+e[a];for(a=0;a<t.length;a++){var s=t[a]+e[a];270===this.angle?(r-=s,o.push(new Lt(0,r,n,s))):90===this.angle?(o.push(new Lt(0,r,n,s)),r+=s):180===this.angle?(r-=s,o.push(new Lt(r,0,s,n))):(o.push(new Lt(r,0,s,n)),r+=s)}this.commitLayers(o,i)}},Xp.prototype.commitLayers=function(){},Xp.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Xp.prototype.kw=function(){for(var t=this.Ib.iterator;t.next();){var e=t.value;e instanceof em&&Cg(this,e)}},Xp.prototype.setPortSpots=function(t){var e=t.alignment;if(og(e)){var n=this.$c===Tg,i=Sg(t);switch(i){case 0:var o=Be;break;case 90:o=Ne;break;case 180:o=Re;break;default:o=Ae}var r=t.children,a=r.length;switch(e){case Lg:case Vg:for(e=0;e<a;e++){var s=r[e];if(null!==(s=(n?s.sourceEdges:s.destinationEdges).first())&&null!==(s=s.link)){var l=90===i||270===i?Re:Ae;if(1===a||e===a-1&&1===a%2)switch(i){case 0:l=Re;break;case 90:l=Ae;break;case 180:l=Be;break;default:l=Ne}else 0===e%2&&(l=90===i||270===i?Be:Ne);n?(t.setsPortSpot&&(s.fromSpot=o),t.setsChildPortSpot&&(s.toSpot=l)):(t.setsPortSpot&&(s.fromSpot=l),t.setsChildPortSpot&&(s.toSpot=o))}}break;case jg:for(i=90===i||270===i?Be:Ne,r=n?t.destinationEdges:t.sourceEdges;r.next();)null!==(a=r.value.link)&&(n?(t.setsPortSpot&&(a.fromSpot=o),t.setsChildPortSpot&&(a.toSpot=i)):(t.setsPortSpot&&(a.fromSpot=i),t.setsChildPortSpot&&(a.toSpot=o)));break;case zg:for(i=90===i||270===i?Re:Ae,r=n?t.destinationEdges:t.sourceEdges;r.next();)null!==(a=r.value.link)&&(n?(t.setsPortSpot&&(a.fromSpot=o),t.setsChildPortSpot&&(a.toSpot=i)):(t.setsPortSpot&&(a.fromSpot=i),t.setsChildPortSpot&&(a.toSpot=o)))}}else if(n=Sg(t),this.$c===Tg){for(o=t.destinationEdges;o.next();)if(null!==(i=o.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(n){case 0:i.fromSpot=Be;break;case 90:i.fromSpot=Ne;break;case 180:i.fromSpot=Re;break;default:i.fromSpot=Ae}else i.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(n){case 0:i.toSpot=Re;break;case 90:i.toSpot=Ae;break;case 180:i.toSpot=Be;break;default:i.toSpot=Ne}else i.toSpot=t.childPortSpot}}else for(o=t.sourceEdges;o.next();)if(null!==(i=o.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(n){case 0:i.toSpot=Be;break;case 90:i.toSpot=Ne;break;case 180:i.toSpot=Re;break;default:i.toSpot=Ae}else i.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(n){case 0:i.fromSpot=Re;break;case 90:i.fromSpot=Ae;break;case 180:i.fromSpot=Be;break;default:i.fromSpot=Ne}else i.fromSpot=t.childPortSpot}},d.Object.defineProperties(Xp.prototype,{roots:{get:function(){return this.Ib},set:function(t){this.Ib!==t&&(this.Ib=t,this.C())}},path:{get:function(){return this.cp},set:function(t){this.cp!==t&&(this.cp=t,this.C())}},treeStyle:{get:function(){return this.Zp},set:function(t){this.Bb===t||t!==Gg&&t!==$g&&t!==Kg&&t!==Ug||(this.Zp=t,this.C())}},layerStyle:{get:function(){return this.bs},set:function(t){this.Bb===t||t!==Zg&&t!==Jg&&t!==Qg||(this.bs=t,this.C())}},comments:{get:function(){return this.Zc},set:function(t){this.Zc!==t&&(this.Zc=t,this.C())}},arrangement:{get:function(){return this.Bb},set:function(t){this.Bb===t||t!==qg&&t!==Yg&&t!==Xg||(this.Bb=t,this.C())}},arrangementSpacing:{get:function(){return this.Bd},set:function(t){this.Bd.w(t)||(this.Bd.assign(t),this.C())}},rootDefaults:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t,this.C())}},alternateDefaults:{get:function(){return this.U},set:function(t){this.U!==t&&(this.U=t,this.C())}},sorting:{get:function(){return this.T.sorting},set:function(t){this.T.sorting===t||t!==Mg&&t!==Og&&t!==Pg&&!Ag||(this.T.sorting=t,this.C())}},comparer:{get:function(){return this.T.comparer},set:function(t){this.T.comparer!==t&&(this.T.comparer=t,this.C())}},angle:{get:function(){return this.T.angle},set:function(t){this.T.angle!==t&&(0===t||90===t||180===t||270===t?(this.T.angle=t,this.C()):_("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.T.alignment},set:function(t){this.T.alignment!==t&&(this.T.alignment=t,this.C())}},nodeIndent:{get:function(){return this.T.nodeIndent},set:function(t){this.T.nodeIndent!==t&&0<=t&&(this.T.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.T.nodeIndentPastParent},set:function(t){this.T.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.T.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.T.nodeSpacing},set:function(t){this.T.nodeSpacing!==t&&(this.T.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.T.layerSpacing},set:function(t){this.T.layerSpacing!==t&&(this.T.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.T.layerSpacingParentOverlap},set:function(t){this.T.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.T.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.T.compaction},set:function(t){this.T.compaction===t||t!==Hg&&t!==Wg||(this.T.compaction=t,this.C())}},breadthLimit:{get:function(){return this.T.breadthLimit},set:function(t){this.T.breadthLimit!==t&&0<=t&&(this.T.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.T.rowSpacing},set:function(t){this.T.rowSpacing!==t&&(this.T.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.T.rowIndent},set:function(t){this.T.rowIndent!==t&&0<=t&&(this.T.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.T.commentSpacing},set:function(t){this.T.commentSpacing!==t&&(this.T.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.T.commentMargin},set:function(t){this.T.commentMargin!==t&&(this.T.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.T.setsPortSpot},set:function(t){this.T.setsPortSpot!==t&&(this.T.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.T.portSpot},set:function(t){this.T.portSpot.w(t)||(this.T.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.T.setsChildPortSpot},set:function(t){this.T.setsChildPortSpot!==t&&(this.T.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.T.childPortSpot},set:function(t){this.T.childPortSpot.w(t)||(this.T.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.U.sorting},set:function(t){this.U.sorting===t||t!==Mg&&t!==Og&&t!==Pg&&!Ag||(this.U.sorting=t,this.C())}},alternateComparer:{get:function(){return this.U.comparer},set:function(t){this.U.comparer!==t&&(this.U.comparer=t,this.C())}},alternateAngle:{get:function(){return this.U.angle},set:function(t){this.U.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.U.angle=t,this.C())}},alternateAlignment:{get:function(){return this.U.alignment},set:function(t){this.U.alignment!==t&&(this.U.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.U.nodeIndent},set:function(t){this.U.nodeIndent!==t&&0<=t&&(this.U.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.U.nodeIndentPastParent},set:function(t){this.U.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.U.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.U.nodeSpacing},set:function(t){this.U.nodeSpacing!==t&&(this.U.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.U.layerSpacing},set:function(t){this.U.layerSpacing!==t&&(this.U.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.U.layerSpacingParentOverlap},set:function(t){this.U.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.U.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.U.compaction},set:function(t){this.U.compaction===t||t!==Hg&&t!==Wg||(this.U.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.U.breadthLimit},set:function(t){this.U.breadthLimit!==t&&0<=t&&(this.U.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.U.rowSpacing},set:function(t){this.U.rowSpacing!==t&&(this.U.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.U.rowIndent},set:function(t){this.U.rowIndent!==t&&0<=t&&(this.U.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.U.commentSpacing},set:function(t){this.U.commentSpacing!==t&&(this.U.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.U.commentMargin},set:function(t){this.U.commentMargin!==t&&(this.U.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.U.setsPortSpot},set:function(t){this.U.setsPortSpot!==t&&(this.U.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.U.portSpot},set:function(t){this.U.portSpot.w(t)||(this.U.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.U.setsChildPortSpot},set:function(t){this.U.setsChildPortSpot!==t&&(this.U.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.U.childPortSpot},set:function(t){this.U.childPortSpot.w(t)||(this.U.childPortSpot=t,this.C())}}});var Ig=new K(Xp,"PathDefault",-1),Tg=new K(Xp,"PathDestination",0),Dg=new K(Xp,"PathSource",1),Mg=new K(Xp,"SortingForwards",10),Og=new K(Xp,"SortingReverse",11),Pg=new K(Xp,"SortingAscending",12),Ag=new K(Xp,"SortingDescending",13),Rg=new K(Xp,"AlignmentCenterSubtrees",20),Bg=new K(Xp,"AlignmentCenterChildren",21),Ng=new K(Xp,"AlignmentStart",22),Fg=new K(Xp,"AlignmentEnd",23),Lg=new K(Xp,"AlignmentBus",24),Vg=new K(Xp,"AlignmentBusBranching",25),jg=new K(Xp,"AlignmentTopLeftBus",26),zg=new K(Xp,"AlignmentBottomRightBus",27),Hg=new K(Xp,"CompactionNone",30),Wg=new K(Xp,"CompactionBlock",31),Gg=new K(Xp,"StyleLayered",40),Kg=new K(Xp,"StyleLastParents",41),$g=new K(Xp,"StyleAlternating",42),Ug=new K(Xp,"StyleRootOnly",43),qg=new K(Xp,"ArrangementVertical",50),Yg=new K(Xp,"ArrangementHorizontal",51),Xg=new K(Xp,"ArrangementFixedRoots",52),Zg=new K(Xp,"LayerIndividual",60),Jg=new K(Xp,"LayerSiblings",61),Qg=new K(Xp,"LayerUniform",62);function tm(t){Hc.call(this,t)}function em(t){Uc.call(this,t),this.Ha=!1,this.Jc=null,this.I=[],this.kd=this.bb=this.W=this.Ia=0,this.Zc=null,this.S=new ft(0,0),this.ta=new Rt(0,0),this.da=new ft(0,0),this.Gm=this.Fm=this.uA=!1,this.Lq=this.yq=null,this.Qc=Mg,this.Lc=qc,this.Yb=0,this.wb=Bg,this.ns=this.ms=0,this.os=20,this.oe=50,this.$r=0,this.mr=Wg,this.er=0,this.Bs=25,this.lr=this.As=10,this.kr=20,this.Os=!0,this.xs=Te,this.Ns=!0,this.hr=Te}function nm(t){Yc.call(this,t),this.Qu=new ft(0,0)}Xp.className="TreeLayout",Xp.PathDefault=Ig,Xp.PathDestination=Tg,Xp.PathSource=Dg,Xp.SortingForwards=Mg,Xp.SortingReverse=Og,Xp.SortingAscending=Pg,Xp.SortingDescending=Ag,Xp.AlignmentCenterSubtrees=Rg,Xp.AlignmentCenterChildren=Bg,Xp.AlignmentStart=Ng,Xp.AlignmentEnd=Fg,Xp.AlignmentBus=Lg,Xp.AlignmentBusBranching=Vg,Xp.AlignmentTopLeftBus=jg,Xp.AlignmentBottomRightBus=zg,Xp.CompactionNone=Hg,Xp.CompactionBlock=Wg,Xp.StyleLayered=Gg,Xp.StyleLastParents=Kg,Xp.StyleAlternating=$g,Xp.StyleRootOnly=Ug,Xp.ArrangementVertical=qg,Xp.ArrangementHorizontal=Yg,Xp.ArrangementFixedRoots=Xg,Xp.LayerIndividual=Zg,Xp.LayerSiblings=Jg,Xp.LayerUniform=Qg,c(tm,Hc),tm.prototype.createVertex=function(){return new em(this)},tm.prototype.createEdge=function(){return new nm(this)},tm.className="TreeNetwork",c(em,Uc),em.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.Qc=t.sorting,this.Lc=t.comparer,this.Yb=t.angle,this.wb=t.alignment,this.ms=t.nodeIndent,this.ns=t.nodeIndentPastParent,this.os=t.nodeSpacing,this.oe=t.layerSpacing,this.$r=t.layerSpacingParentOverlap,this.mr=t.compaction,this.er=t.breadthLimit,this.Bs=t.rowSpacing,this.As=t.rowIndent,this.lr=t.commentSpacing,this.kr=t.commentMargin,this.Os=t.setsPortSpot,this.xs=t.portSpot,this.Ns=t.setsChildPortSpot,this.hr=t.childPortSpot)},d.Object.defineProperties(em.prototype,{initialized:{get:function(){return this.Ha},set:function(t){this.Ha!==t&&(this.Ha=t)}},parent:{get:function(){return this.Jc},set:function(t){this.Jc!==t&&(this.Jc=t)}},children:{get:function(){return this.I},set:function(t){if(this.I!==t){if(null!==t)for(var e=t.length,n=0;n<e;n++);this.I=t}}},level:{get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t)}},descendantCount:{get:function(){return this.W},set:function(t){this.W!==t&&(this.W=t)}},maxChildrenCount:{get:function(){return this.bb},set:function(t){this.bb!==t&&(this.bb=t)}},maxGenerationCount:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},comments:{get:function(){return this.Zc},set:function(t){if(this.Zc!==t){if(null!==t)for(var e=t.length,n=0;n<e;n++);this.Zc=t}}},sorting:{get:function(){return this.Qc},set:function(t){this.Qc!==t&&(this.Qc=t)}},comparer:{get:function(){return this.Lc},set:function(t){this.Lc!==t&&(this.Lc=t)}},angle:{get:function(){return this.Yb},set:function(t){this.Yb!==t&&(this.Yb=t)}},alignment:{get:function(){return this.wb},set:function(t){this.wb!==t&&(this.wb=t)}},nodeIndent:{get:function(){return this.ms},set:function(t){this.ms!==t&&(this.ms=t)}},nodeIndentPastParent:{get:function(){return this.ns},set:function(t){this.ns!==t&&(this.ns=t)}},nodeSpacing:{get:function(){return this.os},set:function(t){this.os!==t&&(this.os=t)}},layerSpacing:{get:function(){return this.oe},set:function(t){this.oe!==t&&(this.oe=t)}},layerSpacingParentOverlap:{get:function(){return this.$r},set:function(t){this.$r!==t&&(this.$r=t)}},compaction:{get:function(){return this.mr},set:function(t){this.mr!==t&&(this.mr=t)}},breadthLimit:{get:function(){return this.er},set:function(t){this.er!==t&&(this.er=t)}},rowSpacing:{get:function(){return this.Bs},set:function(t){this.Bs!==t&&(this.Bs=t)}},rowIndent:{get:function(){return this.As},set:function(t){this.As!==t&&(this.As=t)}},commentSpacing:{get:function(){return this.lr},set:function(t){this.lr!==t&&(this.lr=t)}},commentMargin:{get:function(){return this.kr},set:function(t){this.kr!==t&&(this.kr=t)}},setsPortSpot:{get:function(){return this.Os},set:function(t){this.Os!==t&&(this.Os=t)}},portSpot:{get:function(){return this.xs},set:function(t){this.xs.w(t)||(this.xs=t)}},setsChildPortSpot:{get:function(){return this.Ns},set:function(t){this.Ns!==t&&(this.Ns=t)}},childPortSpot:{get:function(){return this.hr},set:function(t){this.hr.w(t)||(this.hr=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.ta},set:function(t){this.ta.set(t)}},subtreeOffset:{get:function(){return this.da},set:function(t){this.da.set(t)}}}),em.className="TreeVertex",c(nm,Yc),nm.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,n=null,i=null;switch(e.$c){case Tg:n=this.fromVertex,i=this.toVertex;break;case Dg:n=this.toVertex,i=this.fromVertex;break;default:_("Unhandled path value "+e.$c.toString())}if(null!==n&&null!==i)if(0!==(e=this.Qu).x||0!==e.y||n.uA){i=n.bounds;var o=Sg(n),r=kg(n),a=n.rowSpacing;t.kj();var s,l=t.curve===ac,u=t.isOrthogonal;if(t.Kh(),u||l){for(s=2;4<t.pointsCount;)t.bw(2);var h=t.i(1),c=t.i(2)}else{for(s=1;3<t.pointsCount;)t.bw(1);h=t.i(0),c=t.i(t.pointsCount-1)}var d=t.i(t.pointsCount-1);0===o?(n.alignment===Fg?(o=i.bottom+e.y,0===e.y&&h.y>d.y+n.rowIndent&&(o=Math.min(o,Math.max(h.y,o-Eg(n))))):n.alignment===Ng?(o=i.top+e.y,0===e.y&&h.y<d.y-n.rowIndent&&(o=Math.max(o,Math.min(h.y,o+Eg(n))))):o=n.Fm||n.Gm&&1===n.maxGenerationCount?i.top-n.da.y+e.y:i.y+i.height/2+e.y,l?(t.m(s,h.x,o),s++,t.m(s,i.right+r,o),s++,t.m(s,i.right+r+(e.x-a)/3,o),s++,t.m(s,i.right+r+2*(e.x-a)/3,o),s++,t.m(s,i.right+r+(e.x-a),o),s++,t.m(s,c.x,o)):(u&&(t.m(s,i.right+r/2,h.y),s++),t.m(s,i.right+r/2,o),s++,t.m(s,i.right+r+e.x-(u?a/2:a),o),s++,u&&t.m(s,t.i(s-1).x,c.y))):90===o?(n.alignment===Fg?(o=i.right+e.x,0===e.x&&h.x>d.x+n.rowIndent&&(o=Math.min(o,Math.max(h.x,o-Eg(n))))):n.alignment===Ng?(o=i.left+e.x,0===e.x&&h.x<d.x-n.rowIndent&&(o=Math.max(o,Math.min(h.x,o+Eg(n))))):o=n.Fm||n.Gm&&1===n.maxGenerationCount?i.left-n.da.x+e.x:i.x+i.width/2+e.x,l?(t.m(s,o,h.y),s++,t.m(s,o,i.bottom+r),s++,t.m(s,o,i.bottom+r+(e.y-a)/3),s++,t.m(s,o,i.bottom+r+2*(e.y-a)/3),s++,t.m(s,o,i.bottom+r+(e.y-a)),s++,t.m(s,o,c.y)):(u&&(t.m(s,h.x,i.bottom+r/2),s++),t.m(s,o,i.bottom+r/2),s++,t.m(s,o,i.bottom+r+e.y-(u?a/2:a)),s++,u&&t.m(s,c.x,t.i(s-1).y))):180===o?(n.alignment===Fg?(o=i.bottom+e.y,0===e.y&&h.y>d.y+n.rowIndent&&(o=Math.min(o,Math.max(h.y,o-Eg(n))))):n.alignment===Ng?(o=i.top+e.y,0===e.y&&h.y<d.y-n.rowIndent&&(o=Math.max(o,Math.min(h.y,o+Eg(n))))):o=n.Fm||n.Gm&&1===n.maxGenerationCount?i.top-n.da.y+e.y:i.y+i.height/2+e.y,l?(t.m(s,h.x,o),s++,t.m(s,i.left-r,o),s++,t.m(s,i.left-r+(e.x+a)/3,o),s++,t.m(s,i.left-r+2*(e.x+a)/3,o),s++,t.m(s,i.left-r+(e.x+a),o),s++,t.m(s,c.x,o)):(u&&(t.m(s,i.left-r/2,h.y),s++),t.m(s,i.left-r/2,o),s++,t.m(s,i.left-r+e.x+(u?a/2:a),o),s++,u&&t.m(s,t.i(s-1).x,c.y))):270===o?(n.alignment===Fg?(o=i.right+e.x,0===e.x&&h.x>d.x+n.rowIndent&&(o=Math.min(o,Math.max(h.x,o-Eg(n))))):n.alignment===Ng?(o=i.left+e.x,0===e.x&&h.x<d.x-n.rowIndent&&(o=Math.max(o,Math.min(h.x,o+Eg(n))))):o=n.Fm||n.Gm&&1===n.maxGenerationCount?i.left-n.da.x+e.x:i.x+i.width/2+e.x,l?(t.m(s,o,h.y),s++,t.m(s,o,i.top-r),s++,t.m(s,o,i.top-r+(e.y+a)/3),s++,t.m(s,o,i.top-r+2*(e.y+a)/3),s++,t.m(s,o,i.top-r+(e.y+a)),s++,t.m(s,o,c.y)):(u&&(t.m(s,h.x,i.top-r/2),s++),t.m(s,o,i.top-r/2),s++,t.m(s,o,i.top-r+e.y+(u?a/2:a)),s++,u&&t.m(s,c.x,t.i(s-1).y))):_("Invalid angle "+o),t.sf()}else t=this.link,(r=Sg(n))!==Sg(i)&&(a=kg(n),l=n.bounds,n=i.bounds,0===r&&n.left-l.right<a+1||90===r&&n.top-l.bottom<a+1||180===r&&l.left-n.right<a+1||270===r&&l.top-n.bottom<a+1||(t.kj(),n=t.curve===ac,e=t.isOrthogonal,i=og(this.fromVertex.alignment),t.Kh(),0===r?(r=l.right+a/2,n?4===t.pointsCount&&(n=t.i(3).y,t.K(1,r-20,t.i(1).y),t.m(2,r-20,n),t.m(3,r,n),t.m(4,r+20,n),t.K(5,t.i(5).x,n)):e?i?t.K(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.K(2,r,t.i(2).y),t.K(3,r,t.i(3).y)):4===t.pointsCount?t.m(2,r,t.i(2).y):3===t.pointsCount?t.K(1,r,t.i(2).y):2===t.pointsCount&&t.m(1,r,t.i(1).y)):90===r?(r=l.bottom+a/2,n?4===t.pointsCount&&(n=t.i(3).x,t.K(1,t.i(1).x,r-20),t.m(2,n,r-20),t.m(3,n,r),t.m(4,n,r+20),t.K(5,n,t.i(5).y)):e?i?t.K(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.K(2,t.i(2).x,r),t.K(3,t.i(3).x,r)):4===t.pointsCount?t.m(2,t.i(2).x,r):3===t.pointsCount?t.K(1,t.i(2).x,r):2===t.pointsCount&&t.m(1,t.i(1).x,r)):180===r?(r=l.left-a/2,n?4===t.pointsCount&&(n=t.i(3).y,t.K(1,r+20,t.i(1).y),t.m(2,r+20,n),t.m(3,r,n),t.m(4,r-20,n),t.K(5,t.i(5).x,n)):e?i?t.K(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.K(2,r,t.i(2).y),t.K(3,r,t.i(3).y)):4===t.pointsCount?t.m(2,r,t.i(2).y):3===t.pointsCount?t.K(1,r,t.i(2).y):2===t.pointsCount&&t.m(1,r,t.i(1).y)):270===r&&(r=l.top-a/2,n?4===t.pointsCount&&(n=t.i(3).x,t.K(1,t.i(1).x,r+20),t.m(2,n,r+20),t.m(3,n,r),t.m(4,n,r-20),t.K(5,n,t.i(5).y)):e?i?t.K(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.K(2,t.i(2).x,r),t.K(3,t.i(3).x,r)):4===t.pointsCount?t.m(2,t.i(2).x,r):3===t.pointsCount?t.K(1,t.i(2).x,r):2===t.pointsCount&&t.m(1,t.i(1).x,r)),t.sf()))}},d.Object.defineProperties(nm.prototype,{relativePoint:{get:function(){return this.Qu},set:function(t){this.Qu.set(t)}}}),nm.className="TreeEdge",On.prototype.initializeStandardTools=function(){this.Wa("Action",new Si,this.mouseDownTools),this.Wa("Relinking",new fi,this.mouseDownTools),this.Wa("LinkReshaping",new gi,this.mouseDownTools),this.Wa("Rotating",new wi,this.mouseDownTools),this.Wa("Resizing",new xi,this.mouseDownTools),this.Wa("Linking",new ui,this.mouseMoveTools),this.Wa("Dragging",new Vn,this.mouseMoveTools),this.Wa("DragSelecting",new Ei,this.mouseMoveTools),this.Wa("Panning",new Ii,this.mouseMoveTools),this.Wa("ContextMenu",new Mi,this.mouseUpTools),this.Wa("TextEditing",new Li,this.mouseUpTools),this.Wa("ClickCreating",new ki,this.mouseUpTools),this.Wa("ClickSelecting",new Ci,this.mouseUpTools)},jl("Horizontal",new ul),jl("Spot",new cl),jl("Table",new fl),jl("Viewbox",new ml),jl("TableRow",new pl),jl("TableColumn",new gl),jl("Graduated",new xl),jl("Grid",new vl),ea.add(ef.type,vd),ea.add(df.type,xd);var im=p.go,om={get licenseKey(){return Po.licenseKey},set licenseKey(t){Po.licenseKey=t},get version(){return Po.version},Group:Ph,EnumValue:K,List:tt,Set:nt,Map:dt,Point:ft,Size:Rt,Rect:Lt,Margin:Jt,Spot:je,Geometry:qe,PathFigure:hn,PathSegment:cn,InputEvent:bn,DiagramEvent:xn,ChangedEvent:wn,Model:Cd,GraphLinksModel:ef,TreeModel:df,Binding:Zd,Transaction:In,UndoManager:Tn,CommandHandler:Va,Tool:Mn,DraggingTool:Vn,DraggingInfo:Da,DraggingOptions:Oa,LinkingBaseTool:si,LinkingTool:ui,RelinkingTool:fi,LinkReshapingTool:gi,ResizingTool:xi,RotatingTool:wi,ClickSelectingTool:Ci,ActionTool:Si,ClickCreatingTool:ki,HTMLInfo:Ti,ContextMenuTool:Mi,DragSelectingTool:Ei,PanningTool:Ii,TextEditingTool:Li,ToolManager:On,Animation:mo,AnimationManager:to,AnimationTrigger:ko,Layer:Do,Diagram:Po,Palette:Pa,Overview:Ra,Brush:Ps,GraphObject:za,Panel:wl,RowColumnDefinition:Gl,Shape:Yl,TextBlock:ru,TextBlockMetrics:Ou,Picture:Pu,Part:Zu,Adornment:vh,Node:yh,Link:Nh,Placeholder:Bh,Layout:Vc,LayoutNetwork:Hc,LayoutVertex:Uc,LayoutEdge:Yc,GridLayout:Xc,PanelLayout:sl,CircularLayout:ff,CircularNetwork:Vf,CircularVertex:jf,CircularEdge:Hf,ForceDirectedLayout:Wf,ForceDirectedNetwork:Zf,ForceDirectedVertex:Jf,ForceDirectedEdge:Qf,LayeredDigraphLayout:ep,LayeredDigraphNetwork:Up,LayeredDigraphVertex:qp,LayeredDigraphEdge:Yp,TreeLayout:Xp,TreeNetwork:tm,TreeVertex:em,TreeEdge:nm};im&&im.version!==om.version&&_("WARNING: a `go` object on the root object is already defined with a version mismatch."+im.version+". Replaced with version: "+om.version),p.go=om,("undefined"===typeof p||"undefined"===typeof p.module||"object"!==typeof p.module.exports)&&p.define&&"function"===typeof p.define&&p.define.amd&&p.define(om),"object"===typeof t.exports&&(t.exports="undefined"!==typeof e?e.go:self.go)}()}).call(this,n(53))},function(t,e,n){"use strict";e.reverseEach=e.each=e.map=void 0;e.map=function(t,e){if(Array.isArray(t))return t.map(e);var n=[];for(var i in t)n.push(e(t[i],i));return n};e.each=function(t,e){if(t){if("length"in t)for(var n=0;n<t.length&&!1!==e.call(t[n],n,t[n]);n++);else for(var i in t)if(!1===e.call(t[i],i,t[i]))break;return t}};e.reverseEach=function(t,e){if(t&&"length"in t&&0!==t.length)for(var n=t.length-1;n>=0&&!1!==e.call(t[n],n,t[n]);n--);}},function(t,e,n){"use strict";e.equalByValue=e.grep=e.asyncNoop=e.noop=e.applyServerDecimalSeparator=e.escapeRegExp=e.getKeyHash=e.pairToObject=e.denormalizeKey=e.normalizeKey=e.splitPair=e.findBestMatches=e.deferUpdater=e.deferRenderer=e.deferUpdate=e.deferRender=e.executeAsync=e.ensureDefined=void 0;var i=u(n(46)),o=u(n(50)),r=n(8),a=n(29),s=n(5),l=n(2);function u(t){return t&&t.__esModule?t:{default:t}}e.ensureDefined=function(t,e){return(0,l.isDefined)(t)?t:e};e.executeAsync=function(t,e){var n=new r.Deferred,i=e||this,o={promise:n.promise(),abort:function(){clearTimeout(s),n.rejectWith(i)}},a=function(){var e=t.call(i);e&&e.done&&(0,l.isFunction)(e.done)?e.done((function(){n.resolveWith(i)})):n.resolveWith(i)},s=(arguments[2]||setTimeout)(a,"number"===typeof e?e:0);return o};var h,c=[],d=[],f=[],p=function(t,e,n){if(h&&h!==t)return c.push(e),d.push(t),n=n||new r.Deferred,f.push(n),n;var i=h,o=f.length;h=t;var a=e();return a||(f.length>o?a=r.when.apply(this,f.slice(o)):n&&n.resolve()),h=i,n&&a&&a.done&&a.done(n.resolve).fail(n.reject),!h&&c.length&&("render"===d.shift()?g:m)(c.shift(),f.shift()),a||(0,r.when)()},g=function(t,e){return p("render",t,e)};e.deferRender=g;var m=function(t,e){return p("update",t,e)};e.deferUpdate=m;e.deferRenderer=function(t){return function(){var e=this;return p("render",(function(){return t.call(e)}))}};e.deferUpdater=function(t){return function(){var e=this;return p("update",(function(){return t.call(e)}))}};e.findBestMatches=function(t,e,n){var i=[],o=0;return(0,s.each)(e,(function(e,r){var a=0,l=n?n(r):r;(0,s.each)(t,(function(t,e){var n=l[t];if(void 0!==n){if(!v(n,e))return a=-1,!1;a++}})),a<o||(a>o&&(i.length=0,o=a),i.push(r))})),i};var v=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){var n=!1;return(0,s.each)(t,(function(t,i){if(i!==e[t])return n=!0,!1})),!n}return t===e},y=function(t){var e,n;switch((0,l.type)(t)){case"string":return t.split(/\s+/,2);case"object":return[null!==(e=t.x)&&void 0!==e?e:t.h,null!==(n=t.y)&&void 0!==n?n:t.v];case"number":return[t];case"array":return t;default:return null}};e.splitPair=y;e.normalizeKey=function(t){var e=(0,l.isString)(t)?t:t.toString(),n=e.match(/[^a-zA-Z0-9_]/g);return n&&(0,s.each)(n,(function(t,n){e=e.replace(n,"__"+n.charCodeAt()+"__")})),e};e.denormalizeKey=function(t){var e=t.match(/__\d+__/g);return e&&e.forEach((function(e){var n=parseInt(e.replace("__",""));t=t.replace(e,String.fromCharCode(n))})),t};e.pairToObject=function(t,e){var n=y(t),i=e?parseFloat(n&&n[0]):parseInt(n&&n[0],10),o=e?parseFloat(n&&n[1]):parseInt(n&&n[1],10);return isFinite(i)||(i=0),isFinite(o)||(o=i),{h:i,v:o}};e.getKeyHash=function(t){if(t instanceof o.default)return t.toString();if((0,l.isObject)(t)||Array.isArray(t))try{var e=JSON.stringify(t);return"{}"===e?t:e}catch(n){return t}return t};e.escapeRegExp=function(t){return t.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")};e.applyServerDecimalSeparator=function(t){var e=(0,i.default)().serverDecimalSeparator;return(0,l.isDefined)(t)&&(t=t.toString().replace(".",e)),t};e.noop=function(){};e.asyncNoop=function(){return(new r.Deferred).resolve().promise()};e.grep=function(t,e,n){for(var i=[],o=!n,r=0;r<t.length;r++)!!e(t[r],r)===o&&i.push(t[r]);return i};var _=function(t,e,n){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!x(t[i],e[i],n+1))return!1;return!0},b=function(t,e,n,i){for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&!x(t[o],e[o],n+1,i))return!1;for(var r in e)if(!(r in t))return!1;return!0},x=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t=(0,a.toComparable)(t,!0),e=(0,a.toComparable)(e,!0);var o=i?t===e:t==e;return!!(o||n>=3)||((0,l.isObject)(t)&&(0,l.isObject)(e)?b(t,e,n,i):!(!Array.isArray(t)||!Array.isArray(e))&&_(t,e,n))};e.equalByValue=x},function(t,e,n){"use strict";e.default=void 0;var i=p(n(207)),o=n(3),r=p(n(16)),a=n(14),s=p(n(64)),l=n(2),u=p(n(38)),h=p(n(37)),c=p(n(163)),d=p(n(320)),f=p(n(87));function p(t){return t&&t.__esModule?t:{default:t}}function g(t){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=(0,a.getWindow)(),v={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},y={focusin:"focus",focusout:"blur"},_=["blur","focus","load"],b=["touchmove","wheel","mousewheel","touchstart"];function x(t,e){return!(0,l.isWindow)(t)&&"#document"!==t.nodeName&&r.default.elementMatches(t,e)}var w,C,S=new c.default,k=0,E=function(){var t={};return i.default.add((function(e,n){t[e]=n})),{getField:function(e,n){return t[e]&&t[e][n]},callMethod:function(e,n,i,o){return t[e]&&t[e][n]&&t[e][n].apply(i,o)}}}(),I=(0,s.default)({on:D(A(B((function(t,e,n,i,o){O(t,e).addHandler(o,n,i)})))),one:D(A((function(t,e,n,i,o){I.on(t,e,n,i,(function i(){I.off(t,e,n,i),o.apply(this,arguments)}))}))),off:D((C=B((function(t,e,n,i){O(t,e).removeHandler(i,n)})),function(t,e,n,i){"function"===typeof n&&(i=n,n=void 0),C(t,e,n,i)})),trigger:D(R((function(t,e,n){var i=e.type,r=O(t,e.type);if(E.callMethod(i,"trigger",t,[e,n]),r.callHandlers(e,n),!(E.getField(i,"noBubble")||e.isPropagationStopped()||-1!==_.indexOf(i))){var a=[];!function t(e){var n=e.parentNode;n&&(a.push(n),t(n))}(t),a.push(m);for(var s=0;a[s]&&!e.isPropagationStopped();){O(a[s],e.type).callHandlers((0,o.extend)(e,{currentTarget:a[s]}),n),s++}}(t.nodeType||(0,l.isWindow)(t))&&(E.callMethod(i,"_default",t,[e,n]),function(t,e){var n=y[t]||t;if(function(t,e){return"click"===t&&"a"===e.localName}(t,e))return;(0,l.isFunction)(e[n])&&(w=t,e[n](),w=void 0)}(i,t))}))),triggerHandler:D(R((function(t,e,n){O(t,e.type).callHandlers(e,n)})))});function T(t,e){var n=t[0];if(n)if(r.default.isNode(n)||(0,l.isWindow)(n))e.apply(I,t);else{if((0,l.isString)(n)||!("length"in n))throw h.default.Error("E0025");var i=Array.prototype.slice.call(t,0);Array.prototype.forEach.call(n,(function(t){i[0]=t,T(i,e)}))}}function D(t){return function(){T(arguments,t)}}var M=(0,f.default)((function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});m.addEventListener("test",null,e)}catch(n){}return t}));function O(t,e){var n=S.get(t),i=(e=e||"").split("."),o=i.slice(1),a=!!i[0];e=i[0]||"dxEmptyEventType",n||(n={},S.set(t,n)),n[e]||(n[e]={handleObjects:[],nativeHandler:null});var s=n[e];return{addHandler:function(n,i,u){var h=function(i,o){var r,a,s=[i],h=i.currentTarget,c=i.relatedTarget;e in v&&(r=c&&h&&(c===h||function t(e,n){return(0,l.isWindow)(e)?t(e.document,n):e.contains?e.contains(n):!!(n.compareDocumentPosition(e)&n.DOCUMENT_POSITION_CONTAINS)}(h,c))),void 0!==o&&s.push(o),E.callMethod(e,"handle",t,[i,u]),r||(a=n.apply(h,s)),!1===a&&(i.preventDefault(),i.stopPropagation())},c={handler:n,wrappedHandler:function(e,n){if(!w||e.type!==w)if(e.data=u,e.delegateTarget=t,i)for(var o=e.target;o&&o!==t;)x(o,i)&&(e.currentTarget=o,h(e,n)),o=o.parentNode;else e.currentTarget=e.delegateTarget||e.target,h(e,n)},selector:i,type:e,data:u,namespace:o.join("."),namespaces:o,guid:++k};s.handleObjects.push(c);var d,f,p=1===s.handleObjects.length&&a;p&&(p=!E.callMethod(e,"setup",t,[u,o,n])),p&&(s.nativeHandler=(f=e,function(t,e){var n=O(this,f);t=I.Event(t),n.callHandlers(t,e)}),M()&&b.indexOf(e)>-1&&(d={passive:!1}),s.removeListener=r.default.listen(t,v[e]||e,s.nativeHandler,d)),E.callMethod(e,"add",t,[c])},removeHandler:function(i,r){var s=function(e){var a,s=n[e];s.handleObjects.length?(s.handleObjects=s.handleObjects.filter((function(n){var s=o.length&&!P(n.namespaces,o)||i&&n.handler!==i||r&&n.selector!==r;return s||(a=n.handler,E.callMethod(e,"remove",t,[n])),s})),!s.handleObjects.length&&"dxEmptyEventType"!==e&&(E.callMethod(e,"teardown",t,[o,a]),s.nativeHandler&&s.removeListener(),delete n[e])):delete n[e]};if(a)s(e);else for(var l in n)s(l);0===Object.keys(n).length&&S.delete(t)},callHandlers:function(t,e){var i=!1,r=function(n){i||o.length&&!P(n.namespaces,o)||(n.wrappedHandler(t,e),i=t.isImmediatePropagationStopped())};s.handleObjects.forEach(r),o.length&&n.dxEmptyEventType&&n.dxEmptyEventType.handleObjects.forEach(r)}}}function P(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return!1;return!0}function A(t){return function(e,n,i,o,r){r||(r=o,o=void 0),"string"!==typeof i&&(o=i,i=void 0),r||"string"!==typeof n||(r=o||i,i=void 0,o=void 0),t(e,n,i,o,r)}}function R(t){return function(e,n,i){"string"===typeof n&&(n={type:n}),n.target||(n.target=e),n.currentTarget=e,n.delegateTarget||(n.delegateTarget=e),!n.type&&n.originalEvent&&(n.type=n.originalEvent.type),t(e,n instanceof I.Event?n:I.Event(n),i)}}function B(t){var e=function(e,n){if(n&&n.indexOf(" ")>-1){var i=Array.prototype.slice.call(arguments,0);n.split(" ").forEach((function(e){i[1]=e,t.apply(this,i)}))}else t.apply(this,arguments)};return function(t,n){if("object"===g(n)){var i=Array.prototype.slice.call(arguments,0);for(var o in n)i[1]=o,i[i.length-1]=n[o],e.apply(this,i)}else e.apply(this,arguments)}}function N(t){if(function(t){return null==t.which&&0===t.type.indexOf("key")}(t))return null!=t.charCode?t.charCode:t.keyCode;if(function(t){return!t.which&&void 0!==t.button&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(t.type)}(t)){return{1:1,2:3,3:1,4:2}[t.button]}return t.which}function F(t){t&&(I.Event=t,I.Event.prototype=t.prototype)}function L(t,e,n){Object.defineProperty(n||I.Event.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&e(this.originalEvent)},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})}F(function(t){return function(e,n){if(!(this instanceof I.Event))return new I.Event(e,n);e||(e={}),"string"===typeof e&&(e={type:e}),n||(n={}),t.call(this,e,n)}}((function(t,e){var n=this,i=!1,r=!1,s=!1;(0,o.extend)(n,t),(t instanceof I.Event||(0,a.hasWindow)()&&t instanceof m.Event)&&(n.originalEvent=t,n.currentTarget=void 0),t instanceof I.Event||(0,o.extend)(n,{isPropagationStopped:function(){return!!(i||n.originalEvent&&n.originalEvent.propagationStopped)},stopPropagation:function(){i=!0,n.originalEvent&&n.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return r},stopImmediatePropagation:function(){this.stopPropagation(),r=!0,n.originalEvent&&n.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(s||n.originalEvent&&n.originalEvent.defaultPrevented)},preventDefault:function(){s=!0,n.originalEvent&&n.originalEvent.preventDefault()}}),L("which",N,n),0===t.type.indexOf("touch")&&(delete e.pageX,delete e.pageY),(0,o.extend)(n,e),n.guid=++k}))),(0,d.default)(L);var V=(0,u.default)(),j=(0,u.default)();I.set=function(t){V.fire(),I.inject(t),F(t.Event),j.fire()},I.subscribeGlobal=function(){T(arguments,A((function(){var t=arguments;I.on.apply(this,t),V.add((function(){var e=Array.prototype.slice.call(t,0);e.splice(3,1),I.off.apply(this,e)})),j.add((function(){I.on.apply(this,t)}))})))},I.forcePassiveFalseEventNames=b,I.passiveEventHandlersSupported=M;var z=I;e.default=z,t.exports=e.default},function(t,e,n){"use strict";e.fromPromise=u,e.setStrategy=function(t){l=t.Deferred,h=t.when},e.Deferred=function(){return new l},e.when=function(){return h.apply(this,arguments)};var i,o=n(2),r=n(3),a=(i=n(38))&&i.__esModule?i:{default:i};var s=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],l=function(){var t=this;this._state="pending",this._promise={},s.forEach(function(e){var n=e.method;this[n+"Callbacks"]=new a.default,this[n]=function(){return this[n+"With"](this._promise,arguments)}.bind(this),this._promise[e.handler]=function(e){if(!e)return this;var i=t[n+"Callbacks"];return i.fired()?e.apply(t[n+"Context"],t[n+"Args"]):i.add(function(t,n){e.apply(t,n)}.bind(this)),this}}.bind(this)),this._promise.always=function(t){return this.done(t).fail(t)},this._promise.catch=function(t){return this.then(null,t)},this._promise.then=function(t,e){var n=new l;return["done","fail"].forEach(function(i){var r="done"===i?t:e;this[i]((function(){if(r){var t=r&&r.apply(this,arguments);(0,o.isDeferred)(t)?t.done(n.resolve).fail(n.reject):(0,o.isPromise)(t)?t.then(n.resolve,n.reject):n.resolve.apply(this,(0,o.isDefined)(t)?[t]:arguments)}else n["done"===i?"resolve":"reject"].apply(this,arguments)}))}.bind(this)),n.promise()},this._promise.state=function(){return t._state},this._promise.promise=function(e){return e?(0,r.extend)(e,t._promise):t._promise},this._promise.promise(this)};function u(t,e){if((0,o.isDeferred)(t))return t;if((0,o.isPromise)(t)){var n=new l;return t.then((function(){n.resolveWith.apply(n,[e].concat([[].slice.call(arguments)]))}),(function(){n.rejectWith.apply(n,[e].concat([[].slice.call(arguments)]))})),n}return(new l).resolveWith(e,[t])}s.forEach((function(t){var e=t.method,n=t.state;l.prototype[e+"With"]=function(t,i){var o=this[e+"Callbacks"];return"pending"===this.state()&&(this[e+"Args"]=i,this[e+"Context"]=t,n&&(this._state=n),o.fire(t,i)),this}}));var h=function(){if(1===arguments.length)return u(arguments[0]);for(var t=[].slice.call(arguments),e=[],n=0,i=new l,r=function(o){return function(r){e[o]=this,t[o]=arguments.length>1?[].slice.call(arguments):r,++n===t.length&&i.resolveWith(e,t)}},a=0;a<t.length;a++)(0,o.isDeferred)(t[a])?t[a].promise().done(r(a)).fail(i.reject):n++;return n===t.length&&i.resolveWith(e,t),i.promise()}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return l}));var a=n(43);function s(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?Object(a.a)(t):e}function l(t){return function(){var e,n=i(t);if(o()){var r=i(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)}}},function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";e.addNamespace=e.getChar=e.normalizeKeyName=e.fireEvent=e.createEvent=e.setEventFixMethod=e.needSkipEvent=e.stopEventsSkipping=e.forceSkipEvents=e.hasTouches=e.eventDelta=e.eventData=e.isFakeClickEvent=e.isKeyboardEvent=e.isTouchEvent=e.isDxMouseWheelEvent=e.isMouseEvent=e.isPointerEvent=e.eventSource=void 0;var i=u(n(1)),o=u(n(330)),r=u(n(7)),a=n(5),s=n(3),l=n(68);function u(t){return t&&t.__esModule?t:{default:t}}var h={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},c={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},d={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},f=function(t){return t},p=function(t){return"dx"===m(t)},g=function(t){return"touch"===m(t)},m=function(t){var e=t.type,n="other";return(0,a.each)(d,(function(t){if(this.test(e))return n=t,!1})),n};e.eventSource=m;var v=function(t){return"pointer"===m(t)};e.isPointerEvent=v;var y=function(t){return function(t){return"mouse"===m(t)}(t)||(v(t)||p(t))&&"mouse"===t.pointerType};e.isMouseEvent=y;var _=function(t){return t&&"dxmousewheel"===t.type};e.isDxMouseWheelEvent=_;var b=function(t){return g(t)||(v(t)||p(t))&&"touch"===t.pointerType};e.isTouchEvent=b;e.isKeyboardEvent=function(t){return"keyboard"===m(t)};e.isFakeClickEvent=function(t){var e=t.screenX,n=t.offsetX,i=t.pageX;return 0===e&&!n&&0===i};e.eventData=function(t){return{x:t.pageX,y:t.pageY,time:t.timeStamp}};e.eventDelta=function(t,e){return{x:e.x-t.x,y:e.y-t.y,time:e.time-t.time||1}};e.hasTouches=function(t){var e=t.originalEvent,n=t.pointers;return g(t)?(e.touches||[]).length:p(t)?(n||[]).length:0};var x=!1;e.forceSkipEvents=function(){return x=!0};e.stopEventsSkipping=function(){return x=!1};e.needSkipEvent=function(t){if(x)return!0;var e=t.target,n=(0,i.default)(e),o=n.is("input, textarea, select");return!!n.is(".dx-skip-gesture-event *, .dx-skip-gesture-event")||(_(t)?(!n.is("textarea")||!n.hasClass("dx-texteditor-input"))&&(!e.isContentEditable&&!e.hasAttribute("contenteditable")&&(n.is("input[type='number'], textarea, select")&&n.is(":focus"))):y(t)?o||t.which>1:b(t)?o&&(0,l.focused)(n):void 0)};e.setEventFixMethod=function(t){return f=t};var w=function(t,e){var n=function(t){return f(r.default.Event(t,t),t)}(t);return e&&(0,s.extend)(n,e),n};e.createEvent=w;e.fireEvent=function(t){var e=t.originalEvent,n=t.delegateTarget,i=w(e,t);return r.default.trigger(n||i.target,i),i};e.normalizeKeyName=function(t){var e=t.key,n=t.which,i=!!e;if(e=i?e:n)return e=i?h[e.toLowerCase()]||e:c[e]||String.fromCharCode(e)};e.getChar=function(t){var e=t.key,n=t.which;return e||String.fromCharCode(n)};var C=o.default;e.addNamespace=C},function(t,e,n){"use strict";e.getNavigator=e.getCurrentScreenFactor=e.defaultScreenFactorFunc=e.hasProperty=e.getWindow=e.hasWindow=void 0;var i,o=(i=n(16))&&i.__esModule?i:{default:i};var r=function(){return"undefined"!==typeof window};e.hasWindow=r;var a=r()&&window;a||((a={}).window=a);e.getWindow=function(){return a};e.hasProperty=function(t){return r()&&t in a};var s=function(t){return t<768?"xs":t<992?"sm":t<1200?"md":"lg"};e.defaultScreenFactorFunc=s;e.getCurrentScreenFactor=function(t){return(t||s)(o.default.getDocumentElement().clientWidth)};e.getNavigator=function(){return r()?a.navigator:{userAgent:""}}},function(t,e,n){"use strict";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(64))&&i.__esModule?i:{default:i},r=n(6);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s={querySelectorAll:function(t,e){return t.querySelectorAll(e)},elementMatches:function(t,e){var n=this;return(t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(e){var i=t.document||t.ownerDocument;if(!i)return!1;for(var o=n.querySelectorAll(i,e),r=0;r<o.length;r++)if(o[r]===t)return!0}).call(t,e)},createElement:function(t,e){return(e=e||this._document).createElement(t)},createElementNS:function(t,e,n){return(n=n||this._document).createElementNS(t,e)},createTextNode:function(t,e){return(e=e||this._document).createTextNode(t)},isNode:function(t){return"object"===a(t)&&"nodeType"in t},isElementNode:function(t){return t&&1===t.nodeType},isTextNode:function(t){return t&&3===t.nodeType},isDocument:function(t){return t&&9===t.nodeType},removeElement:function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},insertElement:function(t,e,n){t&&e&&t!==e&&(n?t.insertBefore(e,n):t.appendChild(e))},getAttribute:function(t,e){return t.getAttribute(e)},setAttribute:function(t,e,n){t.setAttribute(e,n)},removeAttribute:function(t,e){t.removeAttribute(e)},setProperty:function(t,e,n){t[e]=n},setText:function(t,e){t&&(t.textContent=e)},setClass:function(t,e,n){if(1===t.nodeType&&e)if(t.classList)n?t.classList.add(e):t.classList.remove(e);else{var i,o="string"===typeof t.className,r=o?t.className:this.getAttribute(t,"class")||"",a=r.split(" "),s=a.indexOf(e);n&&s<0&&(i=r?r+" "+e:e),!n&&s>=0&&(a.splice(s,1),i=a.join(" ")),void 0!==i&&(o?t.className=i:this.setAttribute(t,"class",i))}},setStyle:function(t,e,n){t.style[e]=n||""},_document:"undefined"===typeof document?void 0:document,getDocument:function(){return this._document},getActiveElement:function(){return this._document.activeElement},getBody:function(){return this._document.body},createDocumentFragment:function(){return this._document.createDocumentFragment()},getDocumentElement:function(){return this._document.documentElement},getLocation:function(){return this._document.location},getSelection:function(){return this._document.selection},getReadyState:function(){return this._document.readyState},getHead:function(){return this._document.head},hasDocumentProperty:function(t){return t in this._document},listen:function(t,e,n,i){return t&&"addEventListener"in t?(t.addEventListener(e,n,i),function(){t.removeEventListener(e,n)}):r.noop}},l=(0,o.default)(s);e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=m(n(1)),o=n(14),r=n(3),a=n(2),s=n(5),l=m(n(37)),u=m(n(38)),h=m(n(67)),c=m(n(210)),d=n(118),f=n(212),p=n(103),g=m(n(46));function m(t){return t&&t.__esModule?t:{default:t}}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var y=(0,o.getNavigator)(),_=(0,o.getWindow)(),b={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},x={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},w={generic:function(t){var e=/windows phone/i.test(t)||t.match(/WPDesktop/),n=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(t),i=!e&&!n&&/msapphost/i.test(t),o=/((intel|ppc) mac os x)/.test(t.toLowerCase());if(e||n||i||o)return{deviceType:e?"phone":n?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:o}},ios:function(t){if(/ip(hone|od|ad)/i.test(t)){var e=/ip(hone|od)/i.test(t),n=t.match(/os (\d+)_(\d+)_?(\d+)?/i);return{deviceType:e?"phone":"tablet",platform:"ios",version:n?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||0,10)]:[],grade:480===_.screen.height?"B":"A"}}},android:function(t){if(/android|htc_|silk/i.test(t)){var e=/mobile/i.test(t),n=t.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),i=n?[parseInt(n[1],10),parseInt(n[2]||0,10),parseInt(n[3]||0,10)]:[];return{deviceType:e?"phone":"tablet",platform:"android",version:i,grade:i.length>1&&(i[0]<4||4===i[0]&&i[1]<4)?"B":"A"}}}},C=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._window=(null===e||void 0===e?void 0:e.window)||_,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new d.EventsStrategy(this),this.changed=(0,u.default)(),(0,o.hasWindow)()&&(h.default.add(this._recalculateOrientation.bind(this)),c.default.add(this._recalculateOrientation.bind(this)))}var e,n,p;return e=t,(n=[{key:"current",value:function(t){if(t)return this._currentDevice=this._getDevice(t),this._forced=!0,void this.changed.fire();if(!this._currentDevice){t=void 0;try{t=this._getDeviceOrNameFromWindowScope()}catch(e){t=this._getDeviceNameFromSessionStorage()}finally{t||(t=this._getDeviceNameFromSessionStorage()),t&&(this._forced=!0)}this._currentDevice=this._getDevice(t)}return this._currentDevice}},{key:"real",value:function(t){return(0,r.extend)({},this._realDevice)}},{key:"orientation",value:function(){return this._currentOrientation}},{key:"isForced",value:function(){return this._forced}},{key:"isRippleEmulator",value:function(){return!!this._window.tinyHippos}},{key:"_getCssClasses",value:function(t){var e=[],n=this._realDevice;return(t=t||this.current()).deviceType&&(e.push("dx-device-".concat(t.deviceType)),"desktop"!==t.deviceType&&e.push("dx-device-mobile")),e.push("dx-device-".concat(n.platform)),n.version&&n.version.length&&e.push("dx-device-".concat(n.platform,"-").concat(n.version[0])),this.isSimulator()&&e.push("dx-simulator"),(0,g.default)().rtlEnabled&&e.push("dx-rtl"),e}},{key:"attachCssClasses",value:function(t,e){this._deviceClasses=this._getCssClasses(e).join(" "),(0,i.default)(t).addClass(this._deviceClasses)}},{key:"detachCssClasses",value:function(t){(0,i.default)(t).removeClass(this._deviceClasses)}},{key:"isSimulator",value:function(){try{return this._isSimulator||(0,o.hasWindow)()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch(t){return!1}}},{key:"forceSimulator",value:function(){this._isSimulator=!0}},{key:"_getDevice",value:function(t){if("genericPhone"===t&&(t={deviceType:"phone",platform:"generic",generic:!0}),(0,a.isPlainObject)(t))return this._fromConfig(t);var e;if(t){if(!(e=b[t]))throw l.default.Error("E0005")}else e=y.userAgent;return this._fromUA(e)}},{key:"_getDeviceOrNameFromWindowScope",value:function(){var t;return(0,o.hasWindow)()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(t=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),t}},{key:"_getDeviceNameFromSessionStorage",value:function(){var t=(0,f.sessionStorage)();if(t){var e=t.getItem("dx-force-device");try{return JSON.parse(e)}catch(n){return e}}}},{key:"_fromConfig",value:function(t){var e=(0,r.extend)({},x,this._currentDevice,t),n={phone:"phone"===e.deviceType,tablet:"tablet"===e.deviceType,android:"android"===e.platform,ios:"ios"===e.platform,generic:"generic"===e.platform};return(0,r.extend)(e,n)}},{key:"_fromUA",value:function(t){var e;return(0,s.each)(w,(function(n,i){return!(e=i(t))})),e?this._fromConfig(e):x}},{key:"_changeOrientation",value:function(){var t=(0,i.default)(this._window),e=t.height()>t.width()?"portrait":"landscape";this._currentOrientation!==e&&(this._currentOrientation=e,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:e}]))}},{key:"_recalculateOrientation",value:function(){var t=(0,i.default)(this._window).width();this._currentWidth!==t&&(this._currentWidth=t,this._changeOrientation())}},{key:"on",value:function(t,e){return this._eventsStrategy.on(t,e),this}},{key:"off",value:function(t,e){return this._eventsStrategy.off(t,e),this}}])&&v(e.prototype,n),p&&v(e,p),t}());p.changeCallback.add((function(t,e){C.detachCssClasses(e),C.attachCssClasses(t)}));var S=C;e.default=S,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=c(n(64)),r=n(3),a=n(5),s=n(55),l=n(60),u=c(n(123)),h=c(n(335));function c(t){return t&&t.__esModule?t:{default:t}}var d=(0,r.extend)(!0,{},h.default),f={},p=(0,o.default)({engine:function(){return"base"},_dictionary:d,load:function(t){(0,r.extend)(!0,this._dictionary,t)},_localizablePrefix:"@",setup:function(t){this._localizablePrefix=t},localizeString:function(t){var e=this,n=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),i=e._localizablePrefix+e._localizablePrefix;return t.replace(n,(function(t,n,o,r){var a,s=e._localizablePrefix+r;return o!==i&&(a=e.format(r)),a||(f[r]=(0,l.humanize)(r)),n+(a||s)}))},localizeNode:function(t){var e=this;(0,i.default)(t).each((function(t,n){n.nodeType&&(3===n.nodeType?n.nodeValue=e.localizeString(n.nodeValue):(0,i.default)(n).is("iframe")||((0,a.each)(n.attributes||[],(function(t,n){if("string"===typeof n.value){var i=e.localizeString(n.value);n.value!==i&&(n.value=i)}})),(0,i.default)(n).contents().each((function(t,n){e.localizeNode(n)}))))}))},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(t){return t?f:(0,r.extend)({},f,this.getMessagesByLocales()[u.default.locale()])},getFormatter:function(t){return this._getFormatterBase(t)||this._getFormatterBase(t,"en")},_getFormatterBase:function(t,e){var n=this,i=u.default.getValueByClosestLocale((function(e){return function(t,e){return t[e]||{}}(n._dictionary,e)[t]}));if(i)return function(){var t=1===arguments.length&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return t.unshift(i),s.format.apply(this,t)}},format:function(t){var e=this.getFormatter(t),n=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,n)||""}});e.default=p,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=s(n(1)),o=s(n(321)),r=s(n(37)),a=n(115);function s(t){return t&&t.__esModule?t:{default:t}}o.default.add((function(t,e){i.default.fn[t]=function(n){var i,o="string"===typeof n;if(o){var a=n,s=[].slice.call(arguments).slice(1);this.each((function(){var n=e.getInstance(this);if(!n)throw r.default.Error("E0009",t);var o=n[a].apply(n,s);void 0===i&&(i=o)}))}else this.each((function(){var t=e.getInstance(this);t?t.option(n):new e(this,n)})),i=this;return i}}));var l=function(t,e,n){n?e[t]=n:n=e,(0,a.name)(n,t),o.default.fire(t,n)};e.default=l,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(37))&&i.__esModule?i:{default:i},r=n(2);var a=function(t,e,n){return function(){var i=this.callBase;this.callBase=t[e];try{return n.apply(this,arguments)}finally{this.callBase=i}}},s=function(t){var e,n,i;if(!t)return this;for(n in t)i=t[n],e="function"===typeof this.prototype[n]&&"function"===typeof i,this.prototype[n]=e?a(this.parent.prototype,n,i):i;return this},l=function(){var t,e,n,i=this,o=Object.prototype.hasOwnProperty.bind(i),r=!o("_includedCtors")&&!o("_includedPostCtors");for(r&&(i._includedCtors=i._includedCtors.slice(0),i._includedPostCtors=i._includedPostCtors.slice(0)),n=0;n<arguments.length;n++)for(e in(t=arguments[n]).ctor&&i._includedCtors.push(t.ctor),t.postCtor&&i._includedPostCtors.push(t.postCtor),t)"ctor"!==e&&"postCtor"!==e&&(i.prototype[e]=t[e]);return i},u=function(t){if(!Object.prototype.hasOwnProperty.bind(this)("parent")&&this.parent){var e=Object.getPrototypeOf(this);return e===t||e.subclassOf(t)}return this.parent===t||!(!this.parent||!this.parent.subclassOf)&&this.parent.subclassOf(t)},h=function(){throw o.default.Error("E0001")},c=function(){var t=Object.prototype.hasOwnProperty;return function(e,n){for(var i in e){if(!t.call(e,i))return;n[i]=e[i]}}}(),d=function(){};d.inherit=function(t){var e=function(){if(!this||(0,r.isWindow)(this)||"function"!==typeof this.constructor)throw o.default.Error("E0003");var t,e=this,n=e.ctor,i=e.constructor._includedCtors,a=e.constructor._includedPostCtors;for(t=0;t<i.length;t++)i[t].call(e);for(n&&n.apply(e,arguments),t=0;t<a.length;t++)a[t].call(e)};return e.prototype=function(t){var e=function(){};return e.prototype=t.prototype,new e}(this),c(this,e),e.inherit=this.inherit,e.abstract=h,e.redefine=s,e.include=l,e.subclassOf=u,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(t),e},d.abstract=h;var f=d;e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.groupBy=e.find=e.merge=e.normalizeIndexes=e.removeDuplicates=e.intersection=e.inArray=e.wrapToArray=e.isEmpty=void 0;var i,o=n(2),r=n(5),a=n(114),s=(i=n(46))&&i.__esModule?i:{default:i};function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.isEmpty=function(t){return Array.isArray(t)&&!t.length};e.wrapToArray=function(t){return Array.isArray(t)?t:[t]};var f=function(t,e){return e?(Array.isArray(e)?e:e.toArray()).indexOf(t):-1};e.inArray=f;e.intersection=function(t,e){if(!Array.isArray(t)||0===t.length||!Array.isArray(e)||0===e.length)return[];var n=[];return(0,r.each)(t,(function(t,i){-1!==f(i,e)&&n.push(i)})),n};e.removeDuplicates=function(t,e){if(!Array.isArray(t)||0===t.length)return[];if(!Array.isArray(e)||0===e.length)return t.slice();var n=[];return(0,r.each)(t,(function(t,i){-1===f(i,e)&&n.push(i)})),n};e.normalizeIndexes=function(t,e,n,i){var l={},u=0,h=(0,s.default)().useLegacyVisibleIndex;return(0,r.each)(t,(function(t,i){(t=i[e])>=0?(l[t]=l[t]||[],i===n?l[t].unshift(i):l[t].push(i)):i[e]=void 0})),h||(0,r.each)(t,(function(){if(!(0,o.isDefined)(this[e])&&(!i||i(this))){for(;l[u];)u++;l[u]=[this],u++}})),u=0,(0,a.orderEach)(l,(function(t,n){(0,r.each)(n,(function(){t>=0&&(this[e]=u++)}))})),h&&(0,r.each)(t,(function(){(0,o.isDefined)(this[e])||i&&!i(this)||(this[e]=u++)})),u};e.merge=function(t,e){for(var n=0;n<e.length;n++)t[t.length]=e[n];return t};e.find=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]};e.groupBy=function(t,e){return t.reduce((function(t,n){return c(c({},t),{},d({},e(n),[].concat(l(t[e(n)]||[]),[n])))}),{})}},function(t,e,n){"use strict";e.default=void 0;var i=o(n(31));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=a(a(a({},o(n(35)).default),i.default),{},{modules:[]});e.default=l,t.exports=e.default},function(t,e,n){t.exports=n(294)()},function(t,e,n){"use strict";e.default=void 0;var i=n(3),o=(0,n(14).getNavigator)(),r=/(webkit)[ /]([\w.]+)/,a=/(msie) (\d{1,2}\.\d)/,s=/(trident).*rv:(\d{1,2}\.\d)/,l=/(edge)\/((\d+)?[\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))/,h=function(t){t=t.toLowerCase();var e={},n=a.exec(t)||s.exec(t)||l.exec(t)||t.indexOf("compatible")<0&&u.exec(t)||r.exec(t)||[],i=n[1],o=n[2];return"webkit"===i&&(e.webkit=!0,t.indexOf("chrome")>=0||t.indexOf("crios")>=0?(i="chrome",o=(o=/(?:chrome|crios)\/(\d+\.\d+)/.exec(t))&&o[1]):t.indexOf("fxios")>=0?(i="mozilla",o=(o=/fxios\/(\d+\.\d+)/.exec(t))&&o[1]):t.indexOf("safari")>=0&&/version|phantomjs/.test(t)?(i="safari",o=(o=/(?:version|phantomjs)\/([0-9.]+)/.exec(t))&&o[1]):(i="unknown",o=(o=/applewebkit\/([0-9.]+)/.exec(t))&&o[1])),"trident"!==i&&"edge"!==i||(i="msie"),i&&(e[i]=!0,e.version=o),e},c=(0,i.extend)({_fromUA:h},h(o.userAgent));e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=r(n(164)),o=r(n(37));function r(t){return t&&t.__esModule?t:{default:t}}var a=(0,i.default)(o.default.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1030:"Unknown ScrollView refresh strategy: '{0}'",E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created because of an internal error: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:'HtmlEditor\'s valueType is "{0}", but the {0} converter was not imported.',E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" must be earlier than the "endDayHour"',E1059:"All column names must be different",E1060:"All editable columns must have names",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1015:'The "cellDuration" should divide the range from the "startDayHour" to the "endDayHour" into even intervals'});e.default=a,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";e.getPublicElement=function(t){return i(t)},e.setPublicElementWrapper=function(t){i=t};var i=function(t){return t&&t.get(0)}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ValueFormat=e.ValidationRule=e.TotalItem=e.ToolbarItem=e.Texts=e.SummaryTexts=e.Summary=e.StringLengthRule=e.StateStoring=e.Sorting=e.SortByGroupSummaryInfo=e.Show=e.Selection=e.SearchPanel=e.Scrolling=e.RowDragging=e.RequiredRule=e.RemoteOperations=e.RangeRule=e.Position=e.Popup=e.PatternRule=e.Paging=e.Pager=e.OperationDescriptions=e.Offset=e.NumericRule=e.My=e.MasterDetail=e.Lookup=e.LoadPanel=e.Label=e.KeyboardNavigation=e.Hide=e.HeaderFilter=e.GroupPanel=e.GroupOperationDescriptions=e.GroupItem=e.GroupingTexts=e.Grouping=e.FormItem=e.Format=e.Form=e.FilterRow=e.FilterPanelTexts=e.FilterPanel=e.FilterOperationDescriptions=e.FilterBuilderPopup=e.FilterBuilder=e.FieldLookup=e.Field=e.ExportTexts=e.Export=e.EmailRule=e.EditingTexts=e.Editing=e.DataGridHeaderFilterTexts=e.DataGridHeaderFilter=e.CustomRule=e.CustomOperation=e.CursorOffset=e.CompareRule=e.ColumnLookup=e.ColumnHeaderFilter=e.ColumnFixingTexts=e.ColumnFixing=e.ColumnChooser=e.Column=e.Collision=e.ColCountByScreen=e.Button=e.BoundaryOffset=e.At=e.AsyncRule=e.Animation=e.DataGrid=void 0;var o=n(316),r=n(23),a=n(265),s=n(271),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=o.default,e._defaults={defaultColumns:"columns",defaultEditing:"editing",defaultFilterPanel:"filterPanel",defaultFilterValue:"filterValue",defaultFocusedColumnIndex:"focusedColumnIndex",defaultFocusedRowIndex:"focusedRowIndex",defaultFocusedRowKey:"focusedRowKey",defaultPaging:"paging",defaultSearchPanel:"searchPanel",defaultSelectedRowKeys:"selectedRowKeys",defaultSelectionFilter:"selectionFilter"},e._expectedChildren={column:{optionName:"columns",isCollectionItem:!0},columnChooser:{optionName:"columnChooser",isCollectionItem:!1},columnFixing:{optionName:"columnFixing",isCollectionItem:!1},dataGridHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},editing:{optionName:"editing",isCollectionItem:!1},export:{optionName:"export",isCollectionItem:!1},filterBuilder:{optionName:"filterBuilder",isCollectionItem:!1},filterBuilderPopup:{optionName:"filterBuilderPopup",isCollectionItem:!1},filterPanel:{optionName:"filterPanel",isCollectionItem:!1},filterRow:{optionName:"filterRow",isCollectionItem:!1},grouping:{optionName:"grouping",isCollectionItem:!1},groupPanel:{optionName:"groupPanel",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},keyboardNavigation:{optionName:"keyboardNavigation",isCollectionItem:!1},loadPanel:{optionName:"loadPanel",isCollectionItem:!1},masterDetail:{optionName:"masterDetail",isCollectionItem:!1},pager:{optionName:"pager",isCollectionItem:!1},paging:{optionName:"paging",isCollectionItem:!1},remoteOperations:{optionName:"remoteOperations",isCollectionItem:!1},rowDragging:{optionName:"rowDragging",isCollectionItem:!1},scrolling:{optionName:"scrolling",isCollectionItem:!1},searchPanel:{optionName:"searchPanel",isCollectionItem:!1},selection:{optionName:"selection",isCollectionItem:!1},sortByGroupSummaryInfo:{optionName:"sortByGroupSummaryInfo",isCollectionItem:!0},sorting:{optionName:"sorting",isCollectionItem:!1},stateStoring:{optionName:"stateStoring",isCollectionItem:!1},summary:{optionName:"summary",isCollectionItem:!1}},e._templateProps=[{tmplOption:"rowTemplate",render:"rowRender",component:"rowComponent",keyFn:"rowKeyFn"}],e}return i(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(a.Component);e.DataGrid=l,l.propTypes={accessKey:r.string,activeStateEnabled:r.bool,allowColumnReordering:r.bool,allowColumnResizing:r.bool,autoNavigateToFocusedRow:r.bool,cacheEnabled:r.bool,cellHintEnabled:r.bool,columnAutoWidth:r.bool,columnChooser:r.object,columnFixing:r.object,columnHidingEnabled:r.bool,columnMinWidth:r.number,columnResizingMode:r.oneOf(["nextColumn","widget"]),columns:r.array,columnWidth:r.number,customizeColumns:r.func,dataSource:r.oneOfType([r.array,r.object,r.string]),dateSerializationFormat:r.string,disabled:r.bool,editing:r.object,elementAttr:r.object,errorRowEnabled:r.bool,export:r.object,filterBuilder:r.object,filterBuilderPopup:r.object,filterPanel:r.object,filterRow:r.object,filterSyncEnabled:r.oneOfType([r.bool,r.oneOf(["auto"])]),filterValue:r.oneOfType([r.array,r.func,r.string]),focusedColumnIndex:r.number,focusedRowEnabled:r.bool,focusedRowIndex:r.number,focusStateEnabled:r.bool,grouping:r.object,groupPanel:r.object,headerFilter:r.object,height:r.oneOfType([r.func,r.number,r.string]),highlightChanges:r.bool,hint:r.string,hoverStateEnabled:r.bool,keyboardNavigation:r.object,keyExpr:r.oneOfType([r.array,r.string]),loadPanel:r.object,masterDetail:r.object,noDataText:r.string,onAdaptiveDetailRowPreparing:r.func,onCellClick:r.oneOfType([r.func,r.string]),onCellDblClick:r.func,onCellHoverChanged:r.func,onCellPrepared:r.func,onContentReady:r.func,onContextMenuPreparing:r.func,onDataErrorOccurred:r.func,onDisposing:r.func,onEditCanceled:r.func,onEditCanceling:r.func,onEditingStart:r.func,onEditorPrepared:r.func,onEditorPreparing:r.func,onExporting:r.func,onFocusedCellChanged:r.func,onFocusedCellChanging:r.func,onFocusedRowChanged:r.func,onFocusedRowChanging:r.func,onInitialized:r.func,onInitNewRow:r.func,onKeyDown:r.func,onOptionChanged:r.func,onRowClick:r.oneOfType([r.func,r.string]),onRowCollapsed:r.func,onRowCollapsing:r.func,onRowDblClick:r.func,onRowExpanded:r.func,onRowExpanding:r.func,onRowInserted:r.func,onRowInserting:r.func,onRowPrepared:r.func,onRowRemoved:r.func,onRowRemoving:r.func,onRowUpdated:r.func,onRowUpdating:r.func,onRowValidating:r.func,onSaved:r.func,onSaving:r.func,onSelectionChanged:r.func,onToolbarPreparing:r.func,pager:r.object,paging:r.object,remoteOperations:r.oneOfType([r.bool,r.object,r.oneOf(["auto"])]),renderAsync:r.bool,repaintChangesOnly:r.bool,rowAlternationEnabled:r.bool,rowDragging:r.object,rtlEnabled:r.bool,scrolling:r.object,searchPanel:r.object,selectedRowKeys:r.array,selection:r.object,selectionFilter:r.oneOfType([r.array,r.func,r.string]),showBorders:r.bool,showColumnHeaders:r.bool,showColumnLines:r.bool,showRowLines:r.bool,sortByGroupSummaryInfo:r.array,sorting:r.object,stateStoring:r.object,summary:r.object,tabIndex:r.number,twoWayBindingEnabled:r.bool,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string]),wordWrapEnabled:r.bool};var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="animation",e.ExpectedChildren={hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}},e}(s.default);e.Animation=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"async"},e}(s.default);e.AsyncRule=h;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="at",e}(s.default);e.At=c;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="boundaryOffset",e}(s.default);e.BoundaryOffset=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="buttons",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.Button=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="colCountByScreen",e}(s.default);e.ColCountByScreen=p;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="collision",e}(s.default);e.Collision=g;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="columns",e.IsCollectionItem=!0,e.DefaultsProps={defaultFilterValue:"filterValue",defaultFilterValues:"filterValues",defaultGroupIndex:"groupIndex",defaultSelectedFilterOperation:"selectedFilterOperation",defaultSortIndex:"sortIndex",defaultSortOrder:"sortOrder",defaultVisible:"visible",defaultVisibleIndex:"visibleIndex"},e.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},button:{optionName:"buttons",isCollectionItem:!0},columnHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},columnLookup:{optionName:"lookup",isCollectionItem:!1},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},format:{optionName:"format",isCollectionItem:!1},formItem:{optionName:"formItem",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"cellTemplate",render:"cellRender",component:"cellComponent",keyFn:"cellKeyFn"},{tmplOption:"editCellTemplate",render:"editCellRender",component:"editCellComponent",keyFn:"editCellKeyFn"},{tmplOption:"groupCellTemplate",render:"groupCellRender",component:"groupCellComponent",keyFn:"groupCellKeyFn"},{tmplOption:"headerCellTemplate",render:"headerCellRender",component:"headerCellComponent",keyFn:"headerCellKeyFn"}],e}(s.default);e.Column=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="columnChooser",e}(s.default);e.ColumnChooser=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="columnFixing",e.ExpectedChildren={columnFixingTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(s.default);e.ColumnFixing=y;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="texts",e}(s.default);e.ColumnFixingTexts=_;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="headerFilter",e}(s.default);e.ColumnHeaderFilter=b;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="lookup",e}(s.default);e.ColumnLookup=x;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"compare"},e}(s.default);e.CompareRule=w;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="cursorOffset",e}(s.default);e.CursorOffset=C;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="customOperations",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent",keyFn:"editorKeyFn"}],e}(s.default);e.CustomOperation=S;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"custom"},e}(s.default);e.CustomRule=k;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="headerFilter",e.ExpectedChildren={dataGridHeaderFilterTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(s.default);e.DataGridHeaderFilter=E;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="texts",e}(s.default);e.DataGridHeaderFilterTexts=I;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="editing",e.DefaultsProps={defaultChanges:"changes",defaultEditColumnName:"editColumnName",defaultEditRowKey:"editRowKey"},e.ExpectedChildren={editingTexts:{optionName:"texts",isCollectionItem:!1},form:{optionName:"form",isCollectionItem:!1},popup:{optionName:"popup",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(s.default);e.Editing=T;var D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="texts",e}(s.default);e.EditingTexts=D;var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"email"},e}(s.default);e.EmailRule=M;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="export",e.ExpectedChildren={exportTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(s.default);e.Export=O;var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="texts",e}(s.default);e.ExportTexts=P;var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="fields",e.IsCollectionItem=!0,e.ExpectedChildren={fieldLookup:{optionName:"lookup",isCollectionItem:!1},format:{optionName:"format",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1}},e.TemplateProps=[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent",keyFn:"editorKeyFn"}],e}(s.default);e.Field=A;var R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="lookup",e}(s.default);e.FieldLookup=R;var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="filterBuilder",e.DefaultsProps={defaultValue:"value"},e.ExpectedChildren={customOperation:{optionName:"customOperations",isCollectionItem:!0},field:{optionName:"fields",isCollectionItem:!0},filterOperationDescriptions:{optionName:"filterOperationDescriptions",isCollectionItem:!1},groupOperationDescriptions:{optionName:"groupOperationDescriptions",isCollectionItem:!1}},e}(s.default);e.FilterBuilder=B;var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="filterBuilderPopup",e.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e}(s.default);e.FilterBuilderPopup=N;var F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="filterOperationDescriptions",e}(s.default);e.FilterOperationDescriptions=F;var L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="filterPanel",e.DefaultsProps={defaultFilterEnabled:"filterEnabled"},e.ExpectedChildren={filterPanelTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(s.default);e.FilterPanel=L;var V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="texts",e}(s.default);e.FilterPanelTexts=V;var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="filterRow",e.ExpectedChildren={operationDescriptions:{optionName:"operationDescriptions",isCollectionItem:!1}},e}(s.default);e.FilterRow=j;var z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="form",e.DefaultsProps={defaultFormData:"formData"},e.ExpectedChildren={colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}},e}(s.default);e.Form=z;var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="format",e}(s.default);e.Format=H;var W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="formItem",e.ExpectedChildren={AsyncRule:{optionName:"validationRules",isCollectionItem:!0},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},label:{optionName:"label",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.FormItem=W;var G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="grouping",e.ExpectedChildren={groupingTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}},e}(s.default);e.Grouping=G;var K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="texts",e}(s.default);e.GroupingTexts=K;var $=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="groupItems",e.IsCollectionItem=!0,e.ExpectedChildren={valueFormat:{optionName:"valueFormat",isCollectionItem:!1}},e}(s.default);e.GroupItem=$;var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="groupOperationDescriptions",e}(s.default);e.GroupOperationDescriptions=U;var q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="groupPanel",e}(s.default);e.GroupPanel=q;var Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="headerFilter",e}(s.default);e.HeaderFilter=Y;var X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="hide",e}(s.default);e.Hide=X;var Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="keyboardNavigation",e}(s.default);e.KeyboardNavigation=Z;var J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="label",e}(s.default);e.Label=J;var Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="loadPanel",e}(s.default);e.LoadPanel=Q;var tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="lookup",e}(s.default);e.Lookup=tt;var et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="masterDetail",e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.MasterDetail=et;var nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="my",e}(s.default);e.My=nt;var it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"numeric"},e}(s.default);e.NumericRule=it;var ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="offset",e}(s.default);e.Offset=ot;var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="operationDescriptions",e}(s.default);e.OperationDescriptions=rt;var at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="pager",e}(s.default);e.Pager=at;var st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="paging",e.DefaultsProps={defaultPageIndex:"pageIndex",defaultPageSize:"pageSize"},e}(s.default);e.Paging=st;var lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"pattern"},e}(s.default);e.PatternRule=lt;var ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="popup",e.DefaultsProps={defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},e.ExpectedChildren={animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},e.TemplateProps=[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent",keyFn:"contentKeyFn"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent",keyFn:"titleKeyFn"}],e}(s.default);e.Popup=ut;var ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="position",e.ExpectedChildren={at:{optionName:"at",isCollectionItem:!1},boundaryOffset:{optionName:"boundaryOffset",isCollectionItem:!1},collision:{optionName:"collision",isCollectionItem:!1},my:{optionName:"my",isCollectionItem:!1},offset:{optionName:"offset",isCollectionItem:!1}},e}(s.default);e.Position=ht;var ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"range"},e}(s.default);e.RangeRule=ct;var dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="remoteOperations",e}(s.default);e.RemoteOperations=dt;var ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"required"},e}(s.default);e.RequiredRule=ft;var pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="rowDragging",e.ExpectedChildren={cursorOffset:{optionName:"cursorOffset",isCollectionItem:!1}},e.TemplateProps=[{tmplOption:"dragTemplate",render:"dragRender",component:"dragComponent",keyFn:"dragKeyFn"}],e}(s.default);e.RowDragging=pt;var gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="scrolling",e}(s.default);e.Scrolling=gt;var mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="searchPanel",e.DefaultsProps={defaultText:"text"},e}(s.default);e.SearchPanel=mt;var vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="selection",e}(s.default);e.Selection=vt;var yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="show",e}(s.default);e.Show=yt;var _t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="sortByGroupSummaryInfo",e.IsCollectionItem=!0,e}(s.default);e.SortByGroupSummaryInfo=_t;var bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="sorting",e}(s.default);e.Sorting=bt;var xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="stateStoring",e}(s.default);e.StateStoring=xt;var wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"stringLength"},e}(s.default);e.StringLengthRule=wt;var Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="summary",e.ExpectedChildren={groupItem:{optionName:"groupItems",isCollectionItem:!0},summaryTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1},totalItem:{optionName:"totalItems",isCollectionItem:!0}},e}(s.default);e.Summary=Ct;var St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="texts",e}(s.default);e.SummaryTexts=St;var kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="texts",e}(s.default);e.Texts=kt;var Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="toolbarItems",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.ToolbarItem=Et;var It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="totalItems",e.IsCollectionItem=!0,e.ExpectedChildren={valueFormat:{optionName:"valueFormat",isCollectionItem:!1}},e}(s.default);e.TotalItem=It;var Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="validationRules",e.IsCollectionItem=!0,e.PredefinedProps={type:"required"},e}(s.default);e.ValidationRule=Tt;var Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="valueFormat",e}(s.default);e.ValueFormat=Dt,e.default=l},function(t,e,n){"use strict";e.toComparable=e.compileSetter=e.compileGetter=void 0;var i=u(n(37)),o=u(n(20)),r=n(114),a=n(2),s=n(5),l=u(n(86));function u(t){return t&&t.__esModule?t:{default:t}}var h=l.default.unwrap,c=l.default.isWrapped,d=l.default.assign,f=function(t){return t.replace(/\[/g,".").replace(/\]/g,"")},p=function(t,e,n,o){if("this"===e)throw new i.default.Error("E4016");var r=t[e];o.unwrapObservables&&c(r)?d(r,n):t[e]=n},g=function(t){return(t=t||{}).unwrapObservables=void 0===t.unwrapObservables||t.unwrapObservables,t};function m(t,e){return e.unwrapObservables?h(t):t}var v=function(t){if(arguments.length>1&&(t=[].slice.call(arguments)),!t||"this"===t)return function(t){return t};if("string"===typeof t){var e=(t=f(t)).split(".");return function(t,n){for(var i=(n=g(n)).functionsAsIs,o=("defaultValue"in n),r=m(t,n),s=0;s<e.length;s++){if(!r){if(null==r&&o)return n.defaultValue;break}var l=e[s];if(o&&(0,a.isObject)(r)&&!(l in r))return n.defaultValue;var u=m(r[l],n);!i&&(0,a.isFunction)(u)&&(u=u.call(r)),r=u}return r}}return Array.isArray(t)?y(t):(0,a.isFunction)(t)?t:void 0};function y(t){for(var e={},n=0,i=t.length;n<i;n++){var o=t[n];e[o]=v(o)}return function(t,n){var i;return(0,s.each)(e,(function(e){var o=this(t,n);if(void 0!==o){for(var r=i||(i={}),a=e.split("."),s=a.length-1,l=0;l<s;l++){var u=a[l];u in r||(r[u]={}),r=r[u]}r[a[s]]=o}})),i}}e.compileGetter=v;var _=function(t,e,n,i){if((0,a.isDefined)(n))return n;var o={};return p(t,e,o,i),o};e.compileSetter=function(t){var e=(t=f(t||"this").split(".")).length-1;return function(n,i,o){var s=m(n,o=g(o));t.forEach((function(t,n){var l=function(t,e,n){return n=n||{},m("this"===e?t:t[e],n)}(s,t,o),u=!o.functionsAsIs&&(0,a.isFunction)(l)&&!c(l);n===e?o.merge&&(0,a.isPlainObject)(i)&&(!(0,a.isDefined)(l)||(0,a.isPlainObject)(l))?(l=_(s,t,l,o),(0,r.deepExtendArraySafe)(l,i,!1,!0)):u?s[t](i):p(s,t,i,o):(l=_(s,t,l,o),u&&(l=l.call(s)),s=l)}))}};e.toComparable=function(t,e){return t instanceof Date?t.getTime():t&&t instanceof o.default&&t.valueOf?t.valueOf():e||"string"!==typeof t?t:t.toLowerCase()}},function(t,e,n){"use strict";e.name=void 0;var i=p(n(1)),o=p(n(7)),r=p(n(17)),a=p(n(16)),s=n(44),l=n(134),u=n(13),h=p(n(33)),c=p(n(136)),d=p(n(105)),f=n(121);function p(t){return t&&t.__esModule?t:{default:t}}e.name="dxclick";var g=Math.abs,m=function(t){return(0,i.default)(t).is("input, textarea, select, button ,:focus, :focus *")},v={requestAnimationFrame:l.requestAnimationFrame,cancelAnimationFrame:l.cancelAnimationFrame},y=c.default.inherit({ctor:function(t){this.callBase(t),this._makeElementClickable((0,i.default)(t))},_makeElementClickable:function(t){t.attr("onclick")||t.attr("onclick","void(0)")},start:function(t){this._blurPrevented=t.isDefaultPrevented(),this._startTarget=t.target,this._startEventData=(0,u.eventData)(t)},end:function(t){this._eventOutOfElement(t,this.getElement().get(0))||t.type===h.default.cancel?this._cancel(t):(m(t.target)||this._blurPrevented||(0,s.resetActiveElement)(),this._accept(t),this._clickAnimationFrame=v.requestAnimationFrame(function(){this._fireClickEvent(t)}.bind(this)))},_eventOutOfElement:function(t,e){var n=t.target,i=!(0,s.contains)(e,n)&&e!==n,o=(0,u.eventDelta)((0,u.eventData)(t),this._startEventData),r=g(o.x)>10||g(o.y)>10;return i||r},_fireClickEvent:function(t){this._fireEvent("dxclick",t,{target:(0,s.closestCommonParent)(this._startTarget,t.target)})},dispose:function(){v.cancelAnimationFrame(this._clickAnimationFrame)}}),_=r.default.real(),b=_.generic||_.ios&&(0,f.compare)(_.version,[9,3])>=0||_.android&&(0,f.compare)(_.version,[5])>=0;!function(){var t=function(t){return b||(0,i.default)(t).closest(".dx-native-click").length},e=null,n=null,r=function(i){var o=i.originalEvent,r=n===o||o&&o.DXCLICK_FIRED;(!i.which||1===i.which)&&!e&&t(i.target)&&!r&&(o&&(o.DXCLICK_FIRED=!0),n=o,(0,u.fireEvent)({type:"dxclick",originalEvent:i}))};y=y.inherit({_makeElementClickable:function(e){t(e)||this.callBase(e),o.default.on(e,"click",r)},configure:function(t){this.callBase(t),t.useNative&&this.getElement().addClass("dx-native-click")},start:function(n){e=null,t(n.target)||this.callBase(n)},end:function(e){t(e.target)||this.callBase(e)},cancel:function(){e=!0},dispose:function(){this.callBase(),o.default.off(this.getElement(),"click",r)}})}(),function(){if(!r.default.real().generic){var t=null,e=!1,n=a.default.getDocument();o.default.subscribeGlobal(n,(0,u.addNamespace)(h.default.down,"NATIVE_CLICK_FIXER"),(function(n){t=n.target,e=n.isDefaultPrevented()})),o.default.subscribeGlobal(n,(0,u.addNamespace)("click","NATIVE_CLICK_FIXER"),(function(n){var o=(0,i.default)(n.target);e||!t||o.is(t)||(0,i.default)(t).is("label")||!m(o)||(0,s.resetActiveElement)(),t=null,e=!1}))}}(),(0,d.default)({emitter:y,bubble:!0,events:["dxclick"]})},function(t,e,n){"use strict";e.default=void 0;var i=y(n(1)),o=n(2),r=n(8),a=y(n(122)),s=n(55),l=n(5),u=n(3),h=n(34),c=n(29),d=n(6),f=y(n(218)),p=y(n(51)),g=y(n(220)),m=n(14),v=y(n(7));function y(t){return t&&t.__esModule?t:{default:t}}var _={year:function(t){return t&&t.getFullYear()},month:function(t){return t&&t.getMonth()+1},day:function(t){return t&&t.getDate()},quarter:function(t){return t&&Math.floor(t.getMonth()/3)+1},hour:function(t){return t&&t.getHours()},minute:function(t){return t&&t.getMinutes()},second:function(t){return t&&t.getSeconds()}},b=function(){var t=arguments[1],e=this.calculateCellValue(t);if(!(0,o.isDefined)(e))return null;if(x(this.dataType)){var n=arguments[0];return _[n](e)}if("number"===this.dataType){var i=arguments[0];return Math.floor(Number(e)/i)*i}};function x(t){return"date"===t||"datetime"===t}var w=function(t){t.get(0).textContent="\xa0"},C=function(t){t=t||[];for(var e=p.default.normalizeSortingInfo(t),n=0;n<t.length;n++)t&&t[n]&&void 0!==t[n].isExpanded&&(e[n].isExpanded=t[n].isExpanded),t&&t[n]&&void 0!==t[n].groupInterval&&(e[n].groupInterval=t[n].groupInterval);return e},S=function(t,e){var n=g.default.format(t,e.format)||t&&t.toString()||"",i={value:t,valueText:e.getDisplayFormat?e.getDisplayFormat(n):n,target:e.target||"row",groupInterval:e.groupInterval};return e.customizeText?e.customizeText.call(e,i):i.valueText},k=function(t,e){var n=t.displayFormat||t.columnCaption&&e[t.summaryType+"OtherColumn"]||e[t.summaryType];return S(t.value,{format:t.valueFormat,getDisplayFormat:function(e){return n?(0,s.format)(n,e,t.columnCaption):e},customizeText:t.customizeText})},E=function(t){var e=t.data&&t.data(),n=e&&e.dxComponents,i=n&&n[0];return i&&e[i]},I={renderNoDataText:function(t){if(t=t||this.element()){var e=this.addWidgetPrefix("nodata"),n=t.find("."+e).last(),o=this._dataController.isEmpty(),r=this._dataController.isLoading();n.length||(n=(0,i.default)("<span>").addClass(e).appendTo(t)),o&&!r?n.removeClass("dx-hidden").text(this._getNoDataText()):n.addClass("dx-hidden")}},renderLoadPanel:function(t,e,n){var o;this._loadPanel&&this._loadPanel.$element().remove(),(o=this.option("loadPanel"))&&("auto"===o.enabled?!n:o.enabled)?(o=(0,u.extend)({shading:!1,message:o.text,position:function(){var e=(0,i.default)((0,m.getWindow)());return t.height()>e.height()?{of:e,boundary:t,collision:"fit"}:{of:t}},container:e},o),this._loadPanel=this._createComponent((0,i.default)("<div>").appendTo(e),f.default,o)):this._loadPanel=null},getIndexByKey:function(t,e,n){var i=-1;if(void 0!==t&&Array.isArray(e)){n=arguments.length<=2?"key":n;for(var r=0;r<e.length;r++){var a=(0,o.isDefined)(n)?e[r][n]:e[r];if((0,d.equalByValue)(t,a)){i=r;break}}}return i},combineFilters:function(t,e){var n=[];e=e||"and";for(var i=0;i<t.length;i++)t[i]&&(n.length&&n.push(e),n.push(t[i]));if(1===n.length&&(n=n[0]),n.length)return n},checkChanges:function(t,e){for(var n=0,i=0;i<e.length;i++)t[e[i]]&&n++;return t.length&&t.length===n},equalFilterParameters:function t(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}return(0,o.isFunction)(e)&&e.columnIndex>=0&&(0,o.isFunction)(n)&&n.columnIndex>=0?e.columnIndex===n.columnIndex&&(0,c.toComparable)(e.filterValue)===(0,c.toComparable)(n.filterValue):(0,c.toComparable)(e)==(0,c.toComparable)(n)},proxyMethod:function(t,e,n){t[e]||(t[e]=function(){var t=this._dataSource;return t?t[e].apply(t,arguments):n})},formatValue:S,getFormatOptionsByColumn:function(t,e){return{format:t.format,getDisplayFormat:t.getDisplayFormat,customizeText:t.customizeText,target:e,trueText:t.trueText,falseText:t.falseText}},getDisplayValue:function(t,e,n,i){return t.displayValueMap&&void 0!==t.displayValueMap[e]?t.displayValueMap[e]:t.calculateDisplayValue&&n&&"group"!==i?t.calculateDisplayValue(n):!t.lookup||"group"===i&&(t.calculateGroupValue||t.calculateDisplayValue)?e:t.lookup.calculateCellValue(e)},getGroupRowSummaryText:function(t,e){for(var n="(",i=0;i<t.length;i++){var o=t[i];n+=(i>0?", ":"")+k(o,e)}return n+")"},getSummaryText:k,normalizeSortingInfo:C,getFormatByDataType:function(t){switch(t){case"date":return"shortDate";case"datetime":return"shortDateShortTime"}},getHeaderFilterGroupParameters:function(t,e){var n=[],i=t.dataField||t.name,o=a.default.getGroupInterval(t);return o?((0,l.each)(o,(function(r,a){n.push(e?{selector:i,groupInterval:a,isExpanded:r<o.length-1}:b.bind(t,a))})),n):(e?n=[{selector:i,isExpanded:!1}]:(n=function(e){var n=t.calculateCellValue(e);return void 0!==n&&""!==n||(n=null),n},t.sortingMethod&&(n=[{selector:n,compare:t.sortingMethod.bind(t)}])),n)},equalSortParameters:function(t,e,n){if(t=C(t),e=C(e),Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(r=t[i].selector,a=e[i].selector,!((0,o.isFunction)(r)&&(0,o.isFunction)(a)&&r.originalCallback&&a.originalCallback?r.originalCallback===a.originalCallback&&r.columnIndex===a.columnIndex:r===a)||t[i].desc!==e[i].desc||t[i].groupInterval!==e[i].groupInterval||!n&&Boolean(t[i].isExpanded)!==Boolean(e[i].isExpanded))return!1;return!0}return(!t||!t.length)===(!e||!e.length);var r,a},getPointsByColumns:function(t,e,n,i){for(var o,r,a,s=t.length,l=!1,u=i||0,c=[],d=0;d<=s;d++){d<s&&(r=(o=t.eq(d)).offset(),a="rtl"===o.css("direction"));var f={index:u,x:r?r.left+(!n&&a^d===s?(0,h.getBoundingRect)(o[0]).width:0):0,y:r?r.top+(n&&d===s?(0,h.getBoundingRect)(o[0]).height:0):0,columnIndex:u};if(!n&&d>0){var p=t.eq(d-1).offset();p.top<f.y&&(f.y=p.top)}e&&(l=e(f)),l||c.push(f),u++}return c},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(t,e){var n=(0,i.default)(t);if(!(0,o.isDefined)(e.value)||e.data&&e.data.isContinuation||e.row.isNewRow)w(n);else{var r=e.component.getView("rowsView");n.addClass("dx-datagrid-expand").addClass("dx-selection-disabled"),(0,i.default)("<div>").addClass(e.value?"dx-datagrid-group-opened":"dx-datagrid-group-closed").appendTo(n),r.setAria("label",e.value?r.localize("dxDataGrid-ariaCollapse"):r.localize("dxDataGrid-ariaExpand"),n)}}}},setEmptyText:w,isDateType:x,getSelectionRange:function(t){try{if(t)return{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}}catch(e){}return{}},setSelectionRange:function(t,e){try{t&&t.setSelectionRange&&t.setSelectionRange(e.selectionStart,e.selectionEnd)}catch(n){}},focusAndSelectElement:function(t,e){v.default.trigger(e,"focus");var n=t.option("editing.selectTextOnEditStart"),i=t.getController("keyboardNavigation"),o=i&&i._isFastEditingStarted(),a=e.get(0);if(n&&!o&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){var s=E(e.closest(".dx-texteditor"));(0,r.when)(s&&s._loadItemDeferred).done((function(){a.select()}))}},getWidgetInstance:E,getLastResizableColumnIndex:function(t,e){var n,i=t.some((function(t){return t&&!t.command&&!t.fixed&&!1!==t.allowResizing}));for(n=t.length-1;t[n];n--){var o=t[n],r=e&&e[n],a=!i||!1!==o.allowResizing;if(!o.command&&!o.fixed&&"adaptiveHidden"!==r&&a)break}return n},isElementInCurrentGrid:function(t,e){return!(!e||!e.length)&&e.closest("."+t.getWidgetContainerClass()).parent().is(t.component.$element())}};e.default=I,t.exports=e.default},function(t,e,n){t.exports=n(552)},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=p();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=o?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=t[r]}n.default=t,e&&e.set(t,n);return n}(n(56)),r=n(5),a=f(n(24)),s=f(n(17)),l=f(n(78)),u=f(n(215)),h=f(n(331)),c=f(n(217)),d=f(n(332));function f(t){return t&&t.__esModule?t:{default:t}}function p(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return p=function(){return t},t}var g=function(t,e,n){if(t.pointerEvents&&n.msie)return h.default;var i=e.tablet,o=e.phone;return!t.touch||i||o?t.touch?u.default:c.default:d.default}(o,s.default.real(),a.default);(0,r.each)(g.map,(function(t,e){(0,l.default)(t,new g(t,e))}));var m={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"};e.default=m,t.exports=e.default},function(t,e,n){"use strict";e.getDefaultAlignment=e.getBoundingRect=void 0;var i,o=(i=n(46))&&i.__esModule?i:{default:i},r=n(2);e.getDefaultAlignment=function(t){return(null!==t&&void 0!==t?t:(0,o.default)().rtlEnabled)?"right":"left"};e.getBoundingRect=function(t){if((0,r.isWindow)(t))return{width:t.outerWidth,height:t.outerHeight};var e;try{e=t.getBoundingClientRect()}catch(n){e={width:0,height:0,bottom:0,top:0,left:0,right:0}}return e}},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=p(n(7)),r=p(n(20)),a=p(n(38)),s=n(6),l=n(2),u=n(21),h=n(5),c=p(n(25)),d=p(n(18)),f=n(14);function p(t){return t&&t.__esModule?t:{default:t}}var g=r.default.inherit({_endUpdateCore:function(){},ctor:function(t){var e=this;e._updateLockCount=0,e.component=t,e._actions={},e._actionConfigs={},(0,h.each)(this.callbackNames()||[],(function(t,n){var i=e.callbackFlags(n)||{};i.unique=!0,i.syncStrategy=!0,e[this]=(0,a.default)(i)}))},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(t){var e=this.component,n=e._optionCache;return 1===arguments.length&&n?(t in n||(n[t]=e.option(t)),n[t]):e.option.apply(e,arguments)},_silentOption:function(t,e){var n=this.component,i=n._optionCache;return i&&(i[t]=e),n._setOptionWithoutOptionChange(t,e)},localize:function(t){var e=this.component._optionCache;return e?(t in e||(e[t]=d.default.format(t)),e[t]):d.default.format(t)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(t){t.name in this._actions&&(this.createAction(t.name,this._actionConfigs[t.name]),t.handled=!0)},getAction:function(t){return this._actions[t]},setAria:function(t,e,n){var i=n.get(0),o="role"!==t&&"id"!==t?"aria-":"";i.setAttribute?i.setAttribute(o+t,e):n.attr(o+t,e)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(t){return this.component._controllers[t]},createAction:function(t,e){if((0,l.isFunction)(t)){var n=this.component._createAction(t.bind(this),e);return function(t){n({event:t})}}this._actions[t]=this.component._createActionByOption(t,e),this._actionConfigs[t]=e},executeAction:function(t,e){var n=this._actions[t];return n&&n(e)},dispose:function(){var t=this;(0,h.each)(t.callbackNames()||[],(function(){t[this].empty()}))},addWidgetPrefix:function(t){return"dx-"+this.component.NAME.slice(2).toLowerCase()+(t?"-"+t:"")},getWidgetContainerClass:function(){var t="dxDataGrid"===this.component.NAME?null:"container";return this.addWidgetPrefix(t)}}),m=g,v=m.inherit({getView:function(t){return this.component._views[t]},getViews:function(){return this.component._views}}),y=g.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(t,e){this._requireRender=!0,this.component._requireResize=(0,f.hasWindow)()&&(this.component._requireResize||t),this._requireReady=this._requireReady||e},_renderCore:function(){},_resizeCore:function(){},_afterRender:function(){},_parentElement:function(){return this._$parent},ctor:function(t){this.callBase(t),this.renderCompleted=(0,a.default)(),this.resizeCompleted=(0,a.default)()},element:function(){return this._$element},getElementHeight:function(){var t=this.element();if(!t)return 0;var e=parseFloat(t.css("marginTop"))||0,n=parseFloat(t.css("marginBottom"))||0;return t.get(0).offsetHeight+e+n},isVisible:function(){return!0},getTemplate:function(t){return this.component._getTemplate(t)},render:function(t,e){var n=this._$element,o=this.isVisible();(n||t)&&(this._requireReady=!1,n||(n=this._$element=(0,i.default)("<div>").appendTo(t),this._$parent=t),n.toggleClass("dx-hidden",!o),o&&(this.component._optionCache={},this._renderCore(e),this.component._optionCache=void 0,this._afterRender(t),this.renderCompleted.fire(e)))},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(){o.default.trigger(this.element(),"focus")}}),_={modules:[],View:y,ViewController:v,Controller:m,registerModule:function(t,e){for(var n=this.modules,i=0;i<n.length;i++)if(n[i].name===t)return;e.name=t,n.push(e),delete this.controllerTypes,delete this.viewTypes},registerModulesOrder:function(t){this.modulesOrder=t},unregisterModule:function(t){this.modules=(0,s.grep)(this.modules,(function(e){return e.name!==t})),delete this.controllerTypes,delete this.viewTypes},processModules:function(t,e){var n=e.modules,i=e.modulesOrder,o=e.controllerTypes||{},r=e.viewTypes||{};e.controllerTypes||(i&&n.sort((function(t,e){var n=(0,u.inArray)(t.name,i),o=(0,u.inArray)(e.name,i);return n<0&&(n=1e6),o<0&&(o=1e6),n-o})),(0,h.each)(n,(function(){var t=this.controllers,e=this.name,n=this.views;t&&(0,h.each)(t,(function(t,n){if(o[t])throw c.default.Error("E1001",e,t);if(!(n&&n.subclassOf&&n.subclassOf(m)))throw n.subclassOf(m),c.default.Error("E1002",e,t);o[t]=n})),n&&(0,h.each)(n,(function(t,n){if(r[t])throw c.default.Error("E1003",e,t);if(!(n&&n.subclassOf&&n.subclassOf(y)))throw c.default.Error("E1004",e,t);r[t]=n}))})),(0,h.each)(n,(function(){var t=this.extenders;t&&(t.controllers&&(0,h.each)(t.controllers,(function(t,e){o[t]&&(o[t]=o[t].inherit(e))})),t.views&&(0,h.each)(t.views,(function(t,e){r[t]&&(r[t]=r[t].inherit(e))})))})),e.controllerTypes=o,e.viewTypes=r);var a=function(e){var n={};return(0,h.each)(e,(function(e,i){var o=new i(t);o.name=e,function(t,e,n){var i=n.publicMethods();i&&(0,h.each)(i,(function(i,o){if(!n[o])throw c.default.Error("E1006",e,o);if(t[o])throw c.default.Error("E1005",o);t[o]=function(){return n[o].apply(n,arguments)}}))}(t,e,o),n[e]=o})),n};t._controllers=a(o),t._views=a(r)},callModuleItemsMethod:function(t,e,n){n=n||[],t._controllers&&(0,h.each)(t._controllers,(function(){this[e]&&this[e].apply(this,n)})),t._views&&(0,h.each)(t._views,(function(){this[e]&&this[e].apply(this,n)}))}};e.default=_,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var i;e.default=void 0;var o=(0,((i=n(164))&&i.__esModule?i:{default:i}).default)({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' field of the 'onCustomItemCreating' function's parameter should contain a custom item or Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v.{2}. {3}.'});e.default=o,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=function(t){this._options=t||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};i.prototype._fireCore=function(t,e){var n=this._firingIndexes,i=this._list,o=this._options.stopOnFalse,r=n.length;for(n[r]=0;n[r]<i.length;n[r]++){if(!1===i[n[r]].apply(t,e)&&o)break}n.pop()},i.prototype.add=function(t){return"function"!==typeof t||this._options.unique&&this.has(t)||this._list.push(t),this},i.prototype.remove=function(t){var e=this._list,n=this._firingIndexes,i=e.indexOf(t);if(i>-1&&(e.splice(i,1),this._firing&&n.length))for(var o=0;o<n.length;o++)i<=n[o]&&n[o]--;return this},i.prototype.has=function(t){var e=this._list;return t?e.indexOf(t)>-1:!!e.length},i.prototype.empty=function(t){return this._list=[],this},i.prototype.fireWith=function(t,e){var n=this._queue;if(e=(e=e||[]).slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(t,e);else{if(n.push([t,e]),this._firing)return;for(this._firing=!0;n.length;){var i=n.shift();this._fireCore(i[0],i[1])}}return this._firing=!1,this._fired=!0,this},i.prototype.fire=function(){this.fireWith(this,arguments)},i.prototype.fired=function(){return this._fired};var o=function(t){return new i(t)};e.default=o,t.exports=e.default},function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return I}));var i=n(26),o=n(0),r=n.n(o),a=(n(23),n(63)),s=n(191),l=n(59),u=n(15),h=n(192),c=n.n(h),d=(n(198),n(36)),f=n(277),p=n.n(f),g=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History"),m=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),v=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(i.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return r.a.createElement(m.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.a.createElement(g.Provider,{children:this.props.children||null,value:this.props.history}))},e}(r.a.Component);r.a.Component;r.a.Component;var y={},_=0;function b(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,o=n.exact,r=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l;return[].concat(i).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var i=function(t,e){var n=""+e.end+e.strict+e.sensitive,i=y[n]||(y[n]={});if(i[t])return i[t];var o=[],r={regexp:c()(t,o,e),keys:o};return _<1e4&&(i[t]=r,_++),r}(n,{end:r,strict:s,sensitive:u}),o=i.regexp,a=i.keys,l=o.exec(t);if(!l)return null;var h=l[0],d=l.slice(1),f=t===h;return r&&!f?null:{path:n,url:"/"===n&&""===h?"/":h,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=d[n],t}),{})}}),null)}var x=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e.prototype.render=function(){var t=this;return r.a.createElement(m.Consumer,null,(function(e){e||Object(l.a)(!1);var n=t.props.location||e.location,i=t.props.computedMatch?t.props.computedMatch:t.props.path?b(n.pathname,t.props):e.match,o=Object(u.a)({},e,{location:n,match:i}),a=t.props,s=a.children,h=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),r.a.createElement(m.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:h?r.a.createElement(h,o):c?c(o):null:"function"===typeof s?s(o):null)}))},e}(r.a.Component);function w(t){return"/"===t.charAt(0)?t:"/"+t}function C(t,e){if(!t)return e;var n=w(t);return 0!==e.pathname.indexOf(n)?e:Object(u.a)({},e,{pathname:e.pathname.substr(n.length)})}function S(t){return"string"===typeof t?t:Object(a.e)(t)}function k(t){return function(){Object(l.a)(!1)}}function E(){}r.a.Component;r.a.Component;function I(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(e){var n=e.wrappedComponentRef,i=Object(d.a)(e,["wrappedComponentRef"]);return r.a.createElement(m.Consumer,null,(function(e){return e||Object(l.a)(!1),r.a.createElement(t,Object(u.a)({},i,e,{ref:n}))}))};return n.displayName=e,n.WrappedComponent=t,p()(n,t)}r.a.useContext},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";e.parseTranslate=e.resetPosition=e.move=e.getTranslate=e.getTranslateCss=e.clearCache=e.locate=void 0;var i=n(54),o=n(2),r=/matrix(3d)?\((.+?)\)/,a=/translate(?:3d)?\((.+?)\)/;function s(t){return"string"===(0,o.type)(t)&&"%"===t[t.length-1]}function l(t,e){t.length&&(0,i.data)(t.get(0),"dxTranslator",e)}e.locate=function(t){var e=c(t);return{left:e.x,top:e.y}};var u=function(t){t.length&&(0,i.removeData)(t.get(0),"dxTranslator")};e.clearCache=u;var h=function(t){return t.x=t.x||0,t.y=t.y||0,"translate("+(s(t.x)?t.x:t.x+"px")+", "+(s(t.y)?t.y:t.y+"px")+")"};e.getTranslateCss=h;var c=function(t){var e=t.length?(0,i.data)(t.get(0),"dxTranslator"):null;if(!e){var n=(t.css("transform")||h({x:0,y:0})).match(r),o=n&&n[1];n?(n=n[2].split(","),"3d"===o?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],l(t,e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])})}return e};e.getTranslate=c;e.move=function(t,e){var n,i=e.left,o=e.top;void 0===i?(n=c(t)).y=o||0:void 0===o?(n=c(t)).x=i||0:l(t,n={x:i||0,y:o||0,z:0}),t.css({transform:h(n)}),(s(i)||s(o))&&u(t)};e.resetPosition=function(t,e){var n,i={left:0,top:0,transform:"none"};e&&(n=t.css("transition"),i.transition="none"),t.css(i),u(t),e&&(t.get(0).offsetHeight,t.css("transition",n))};e.parseTranslate=function(t){var e=t.match(a);if(e&&e[1])return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])}}},function(t,e,n){var i;!function(o,r){t.exports?(r.default=r,t.exports=o.document?r(o):r):void 0===(i=function(){return r(o)}.call(e,n,e,t))||(t.exports=i)}("undefined"!==typeof window?window:this,(function(t){function e(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n))}var n={};return e(n,"Core/Globals.js",[],(function(){var e="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},n=e.document,i=e.navigator&&e.navigator.userAgent||"",o=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=/(edge|msie|trident)/i.test(i)&&!e.opera,a=-1!==i.indexOf("Firefox"),s=-1!==i.indexOf("Chrome"),l=a&&4>parseInt(i.split("Firefox/")[1],10);return{product:"Highcharts",version:"8.2.2",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:!!e.TouchEvent,isMS:r,isWebKit:-1!==i.indexOf("AppleWebKit"),isFirefox:a,isChrome:s,isSafari:!s&&-1!==i.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[],dateFormats:{}}})),e(n,"Core/Utilities.js",[n["Core/Globals.js"]],(function(t){function e(t,n,i,o){var r=n?"Highcharts error":"Highcharts warning";32===t&&(t=r+": Deprecated member");var a=g(t),s=a?r+" #"+t+": www.highcharts.com/errors/"+t+"/":t.toString();if(r=function(){if(n)throw Error(s);u.console&&-1===e.messages.indexOf(s)&&console.log(s)},"undefined"!==typeof o){var l="";a&&(s+="?"),W(o,(function(t,e){l+="\n - "+e+": "+t,a&&(s+=encodeURI(e)+"="+encodeURI(t))})),s+=l}i?U(i,"displayError",{code:t,message:s,params:o},r):r(),e.messages.push(s)}function n(){var t,e=arguments,n={},o=function t(e,n){return"object"!==typeof e&&(e={}),W(n,(function(o,r){!i(o,!0)||p(o)||f(o)?e[r]=n[r]:e[r]=t(e[r]||{},o)})),e};!0===e[0]&&(n=e[1],e=Array.prototype.slice.call(e,2));var r=e.length;for(t=0;t<r;t++)n=o(n,e[t]);return n}function i(t,e){return!!t&&"object"===typeof t&&(!e||!d(t))}function o(t,e,n){var i;return c(e)?v(n)?t.setAttribute(e,n):t&&t.getAttribute&&((i=t.getAttribute(e))||"class"!==e||(i=t.getAttribute(e+"Name"))):W(e,(function(e,n){t.setAttribute(n,e)})),i}function r(){for(var t=arguments,e=t.length,n=0;n<e;n++){var i=t[n];if("undefined"!==typeof i&&null!==i)return i}}function a(t,e){if(!t)return e;var n=t.split(".").reverse();if(1===n.length)return e[t];for(t=n.pop();"undefined"!==typeof t&&"undefined"!==typeof e&&null!==e;)e=e[t],t=n.pop();return e}t.timers=[];var s=t.charts,l=t.doc,u=t.win;(e||(e={})).messages=[],t.error=e,t.merge=n;var h=t.pInt=function(t,e){return parseInt(t,e||10)},c=t.isString=function(t){return"string"===typeof t},d=t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t};t.isObject=i;var f=t.isDOMElement=function(t){return i(t)&&"number"===typeof t.nodeType},p=t.isClass=function(t){var e=t&&t.constructor;return!(!i(t,!0)||f(t)||!e||!e.name||"Object"===e.name)},g=t.isNumber=function(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},m=t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},v=t.defined=function(t){return"undefined"!==typeof t&&null!==t};t.attr=o;var y=t.splat=function(t){return d(t)?t:[t]},_=t.syncTimeout=function(t,e,n){return 0<e?setTimeout(t,e,n):(t.call(0,n),-1)},b=t.clearTimeout=function(t){v(t)&&clearTimeout(t)},x=t.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t};t.pick=r;var w=t.css=function(e,n){t.isMS&&!t.svg&&n&&"undefined"!==typeof n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),x(e.style,n)},C=t.createElement=function(t,e,n,i,o){return t=l.createElement(t),e&&x(t,e),o&&w(t,{padding:"0",border:"none",margin:"0"}),n&&w(t,n),i&&i.appendChild(t),t},S=t.extendClass=function(t,e){var n=function(){};return n.prototype=new t,x(n.prototype,e),n},k=t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||"0")+t},E=t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},I=t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,o=this;return o.proceed=function(){i.apply(o,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),o.proceed=null,t}},T=t.format=function(e,n,i){var o="{",r=!1,s=[],l=/f$/,u=/\.([0-9])/,h=t.defaultOptions.lang,c=i&&i.time||t.time;for(i=i&&i.numberFormatter||L;e;){var d=e.indexOf(o);if(-1===d)break;var f=e.slice(0,d);if(r){if(o=a((f=f.split(":")).shift()||"",n),f.length&&"number"===typeof o)if(f=f.join(":"),l.test(f)){var p=parseInt((f.match(u)||["","-1"])[1],10);null!==o&&(o=i(o,p,h.decimalPoint,-1<f.indexOf(",")?h.thousandsSep:""))}else o=c.dateFormat(f,o);s.push(o)}else s.push(f);e=e.slice(d+1),o=(r=!r)?"}":"{"}return s.push(e),s.join("")},D=t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},M=t.normalizeTickInterval=function(t,e,n,i,o){var a=t,s=t/(n=r(n,1));for(e||(e=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===i&&(1===n?e=e.filter((function(t){return 0===t%1})):.1>=n&&(e=[1/n]))),i=0;i<e.length&&(a=e[i],!(o&&a*n>=t||!o&&s<=(e[i]+(e[i+1]||e[i]))/2));i++);return N(a*n,-Math.round(Math.log(.001)/Math.LN10))},O=t.stableSort=function(t,e){var n,i,o=t.length;for(i=0;i<o;i++)t[i].safeI=i;for(t.sort((function(t,i){return 0===(n=e(t,i))?t.safeI-i.safeI:n})),i=0;i<o;i++)delete t[i].safeI},P=t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},A=t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},R=t.destroyObjectProperties=function(t,e){W(t,(function(n,i){n&&n!==e&&n.destroy&&n.destroy(),delete t[i]}))},B=t.discardElement=function(e){var n=t.garbageBin;n||(n=C("div")),e&&n.appendChild(e),n.innerHTML=""},N=t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},F=t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},L=t.numberFormat=function(e,n,i,o){e=+e||0,n=+n;var a=t.defaultOptions.lang,s=(e.toString().split(".")[1]||"").split("e")[0].length,l=e.toString().split("e");if(-1===n)n=Math.min(s,20);else if(g(n)){if(n&&l[1]&&0>l[1]){var u=n+ +l[1];0<=u?(l[0]=(+l[0]).toExponential(u).split("e")[0],n=u):(l[0]=l[0].split(".")[0]||0,e=20>n?(l[0]*Math.pow(10,l[1])).toFixed(n):0,l[1]=0)}}else n=2;var c=(Math.abs(l[1]?l[0]:e)+Math.pow(10,-Math.max(n,s)-1)).toFixed(n);return u=3<(s=String(h(c))).length?s.length%3:0,i=r(i,a.decimalPoint),o=r(o,a.thousandsSep),e=(0>e?"-":"")+(u?s.substr(0,u)+o:""),e+=s.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o),n&&(e+=i+c.slice(-n)),l[1]&&0!==+e&&(e+="e"+l[1]),e};Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var V=t.getStyle=function(n,i,o){return"width"===i?(i=Math.min(n.offsetWidth,n.scrollWidth),(o=n.getBoundingClientRect&&n.getBoundingClientRect().width)<i&&o>=i-1&&(i=Math.floor(o)),Math.max(0,i-t.getStyle(n,"padding-left")-t.getStyle(n,"padding-right"))):"height"===i?Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-t.getStyle(n,"padding-top")-t.getStyle(n,"padding-bottom")):(u.getComputedStyle||e(27,!0),(n=u.getComputedStyle(n,void 0))&&(n=n.getPropertyValue(i),r(o,"opacity"!==i)&&(n=h(n))),n)},j=t.inArray=function(t,n,i){return e(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),n.indexOf(t,i)},z=t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]};t.keys=function(t){return e(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)};var H=t.offset=function(t){var e=l.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(u.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(u.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},W=t.objectEach=function(t,e,n){for(var i in t)Object.hasOwnProperty.call(t,i)&&e.call(n||t[i],t[i],i,t)};W({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(n,i){t[i]=function(t){var o;return e(32,!1,void 0,((o={})["Highcharts."+i]="use Array."+n,o)),Array.prototype[n].apply(t,[].slice.call(arguments,1))}}));var G,K=t.addEvent=function(e,n,i,o){void 0===o&&(o={});var r=e.addEventListener||t.addEventListenerPolyfill,a="function"===typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{};return t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),r&&r.call(e,n,i,!1),a[n]||(a[n]=[]),a[n].push({fn:i,order:"number"===typeof o.order?o.order:1/0}),a[n].sort((function(t,e){return t.order-e.order})),function(){$(e,n,i)}},$=t.removeEvent=function(e,n,i){function o(n,i){var o=e.removeEventListener||t.removeEventListenerPolyfill;o&&o.call(e,n,i,!1)}function r(t){var i;if(e.nodeName){if(n){var r={};r[n]=!0}else r=t;W(r,(function(e,n){if(t[n])for(i=t[n].length;i--;)o(n,t[n][i].fn)}))}}var a;["protoEvents","hcEvents"].forEach((function(t,s){var l=(s=s?e:e.prototype)&&s[t];l&&(n?(a=l[n]||[],i?(l[n]=a.filter((function(t){return i!==t.fn})),o(n,i)):(r(l),l[n]=[])):(r(l),s[t]={}))}))},U=t.fireEvent=function(t,e,n,i){var o;if(n=n||{},l.createEvent&&(t.dispatchEvent||t.fireEvent)){var r=l.createEvent("Events");r.initEvent(e,!0,!0),x(r,n),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(e,r)}else n.target||x(n,{preventDefault:function(){n.defaultPrevented=!0},target:t,type:e}),function(e,i){void 0===e&&(e=[]),void 0===i&&(i=[]);var r=0,a=0,s=e.length+i.length;for(o=0;o<s;o++)!1===(e[r]?i[a]?e[r].order<=i[a].order?e[r++]:i[a++]:e[r++]:i[a++]).fn.call(t,n)&&n.preventDefault()}(t.protoEvents&&t.protoEvents[e],t.hcEvents&&t.hcEvents[e]);i&&!n.defaultPrevented&&i.call(t,n)},q=t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9)+"-",e=0;return function(){return"highcharts-"+(G?"":t)+e++}}(),Y=t.useSerialIds=function(t){return G=r(t,G)},X=t.isFunction=function(t){return"function"===typeof t},Z=t.getOptions=function(){return t.defaultOptions},J=t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),(e.time||e.global)&&t.time.update(n(t.defaultOptions.global,t.defaultOptions.time,e.global,e.time)),t.defaultOptions};return u.jQuery&&(u.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[c(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):s[o(this[0],"data-highcharts-chart")]}),{addEvent:K,arrayMax:A,arrayMin:P,attr:o,clamp:function(t,e,n){return t>e?t<n?t:n:e},clearTimeout:b,correctFloat:N,createElement:C,css:w,defined:v,destroyObjectProperties:R,discardElement:B,erase:m,error:e,extend:x,extendClass:S,find:z,fireEvent:U,format:T,getMagnitude:D,getNestedProperty:a,getOptions:Z,getStyle:V,inArray:j,isArray:d,isClass:p,isDOMElement:f,isFunction:X,isNumber:g,isObject:i,isString:c,merge:n,normalizeTickInterval:M,numberFormat:L,objectEach:W,offset:H,pad:k,pick:r,pInt:h,relativeLength:E,removeEvent:$,setOptions:J,splat:y,stableSort:O,syncTimeout:_,timeUnits:F,uniqueKey:q,useSerialIds:Y,wrap:I}})),e(n,"Core/Color/Color.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.isNumber,i=e.merge,o=e.pInt;return e=function(){function e(n){return this.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],this.rgba=[],t.Color!==e?new t.Color(n):this instanceof e?void this.init(n):new e(n)}return e.parse=function(t){return new e(t)},e.prototype.init=function(t){var n,i;if((this.input=t=e.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=t.stops.map((function(t){return new e(t[1])}));else{if(t&&t.charAt&&"#"===t.charAt()){var o=t.length;t=parseInt(t.substr(1),16),7===o?n=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===o&&(n=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])}if(!n)for(i=this.parsers.length;i--&&!n;){var r=this.parsers[i];(o=r.regex.exec(t))&&(n=r.parse(o))}}this.rgba=n||[]},e.prototype.get=function(t){var e=this.input,o=this.rgba;if("undefined"!==typeof this.stops){var r=i(e);r.stops=[].concat(r.stops),this.stops.forEach((function(e,n){r.stops[n]=[r.stops[n][0],e.get(t)]}))}else r=o&&n(o[0])?"rgb"===t||!t&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?o[3]:"rgba("+o.join(",")+")":e;return r},e.prototype.brighten=function(t){var e,i=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(n(t)&&0!==t)for(e=0;3>e;e++)i[e]+=o(255*t),0>i[e]&&(i[e]=0),255<i[e]&&(i[e]=255);return this},e.prototype.setOpacity=function(t){return this.rgba[3]=t,this},e.prototype.tweenTo=function(t,e){var n=this.rgba,i=t.rgba;return i.length&&n&&n.length?e=((t=1!==i[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-e))+","+Math.round(i[1]+(n[1]-i[1])*(1-e))+","+Math.round(i[2]+(n[2]-i[2])*(1-e))+(t?","+(i[3]+(n[3]-i[3])*(1-e)):"")+")":e=t.input||"none",e},e.names={white:"#ffffff",black:"#000000"},e}(),t.Color=e,t.color=e.parse,e})),e(n,"Core/Animation/Fx.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){var n=t.win,i=e.isNumber,o=e.objectEach;return e=function(){function e(t,e,n){this.pos=NaN,this.options=e,this.elem=t,this.prop=n}return e.prototype.dSetter=function(){var t=this.paths,e=t&&t[0];t=t&&t[1];var n=[],i=this.now||0;if(1!==i&&e&&t)if(e.length===t.length&&1>i)for(var o=0;o<t.length;o++){for(var r=e[o],a=t[o],s=[],l=0;l<a.length;l++){var u=r[l],h=a[l];s[l]="number"===typeof u&&"number"===typeof h&&("A"!==a[0]||4!==l&&5!==l)?u+i*(h-u):h}n.push(s)}else n=t;else n=this.toD||[];this.elem.attr("d",n,void 0,!0)},e.prototype.update=function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},e.prototype.run=function(e,i,o){var r=this,a=r.options,s=function t(e){return!t.stopped&&r.step(e)},l=n.requestAnimationFrame||function(t){setTimeout(t,13)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=o,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&l((function e(){for(var n=0;n<t.timers.length;n++)t.timers[n]()||t.timers.splice(n--,1);t.timers.length&&l(e)}))):(delete a.curAnim[this.prop],a.complete&&0===Object.keys(a.curAnim).length&&a.complete.call(this.elem))},e.prototype.step=function(t){var e=+new Date,n=this.options,i=this.elem,r=n.complete,a=n.duration,s=n.curAnim;if(i.attr&&!i.element)t=!1;else if(t||e>=a+this.startTime){this.now=this.end,this.pos=1,this.update();var l=s[this.prop]=!0;o(s,(function(t){!0!==t&&(l=!1)})),l&&r&&r.call(i),t=!1}else this.pos=n.easing((e-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},e.prototype.initPath=function(t,e,n){function o(t,e){for(;t.length<d;){var n=t[0],i=e[d-t.length];i&&"M"===n[0]&&(t[0]="C"===i[0]?["C",n[1],n[2],n[1],n[2],n[1],n[2]]:["L",n[1],n[2]]),t.unshift(n),l&&t.push(t[t.length-1])}}function r(t,e){for(;t.length<d;)if("C"===(e=t[t.length/u-1].slice())[0]&&(e[1]=e[5],e[2]=e[6]),l){var n=t[t.length/u].slice();t.splice(t.length/2,0,e,n)}else t.push(e)}var a=t.startX,s=t.endX;e=e&&e.slice(),n=n.slice();var l=t.isArea,u=l?2:1;if(!e)return[n,n];if(a&&s){for(t=0;t<a.length;t++){if(a[t]===s[0]){var h=t;break}if(a[0]===s[s.length-a.length+t]){h=t;var c=!0;break}if(a[a.length-1]===s[s.length-a.length+t]){h=a.length-t;break}}"undefined"===typeof h&&(e=[])}if(e.length&&i(h)){var d=n.length+h*u;c?(o(e,n),r(n,e)):(o(n,e),r(e,n))}return[e,n]},e.prototype.fillSetter=function(){e.prototype.strokeSetter.apply(this,arguments)},e.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},e}(),t.Fx=e})),e(n,"Core/Animation/AnimationUtilities.js",[n["Core/Animation/Fx.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){var i=n.defined,o=n.getStyle,r=n.isArray,a=n.isNumber,s=n.isObject,l=n.merge,u=n.objectEach,h=n.pick;n=e.setAnimation=function(t,e){e.renderer.globalAnimation=h(t,e.options.chart.animation,!0)};var c=e.animObject=function(t){return s(t)?e.merge({duration:500,defer:0},t):{duration:t?500:0,defer:0}},d=e.getDeferredAnimation=function(t,e,n){var o=c(e),r=0,a=0;return(n?[n]:t.series).forEach((function(t){t=c(t.options.animation),r=e&&i(e.defer)?o.defer:Math.max(r,t.duration+t.defer),a=Math.min(o.duration,t.duration)})),t.renderer.forExport&&(r=0),{defer:Math.max(0,r-a),duration:Math.min(r,a)}},f=e.animate=function(e,n,i){var h,c,d,f="";if(!s(i)){var g=arguments;i={duration:g[2],easing:g[3],complete:g[4]}}a(i.duration)||(i.duration=400),i.easing="function"===typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=l(n),u(n,(function(a,s){p(e,s),d=new t(e,i,s),c=null,"d"===s&&r(n.d)?(d.paths=d.initPath(e,e.pathArray,n.d),d.toD=n.d,h=0,c=1):e.attr?h=e.attr(s):(h=parseFloat(o(e,s))||0,"opacity"!==s&&(f="px")),c||(c=a),c&&c.match&&c.match("px")&&(c=c.replace(/px/g,"")),d.run(h,c,f)}))},p=e.stop=function(t,n){for(var i=e.timers.length;i--;)e.timers[i].elem!==t||n&&n!==e.timers[i].prop||(e.timers[i].stopped=!0)};return{animate:f,animObject:c,getDeferredAnimation:d,setAnimation:n,stop:p}})),e(n,"Core/Renderer/SVG/SVGElement.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n,i){var o=t.animate,r=t.animObject,a=t.stop,s=n.deg2rad,l=n.doc,u=n.hasTouch,h=n.isFirefox,c=n.noop,d=n.svg,f=n.SVG_NS,p=n.win,g=i.attr,m=i.createElement,v=i.css,y=i.defined,_=i.erase,b=i.extend,x=i.fireEvent,w=i.isArray,C=i.isFunction,S=i.isNumber,k=i.isString,E=i.merge,I=i.objectEach,T=i.pick,D=i.pInt,M=i.syncTimeout,O=i.uniqueKey;return(t=function(){function t(){this.height=this.element=void 0,this.opacity=1,this.renderer=void 0,this.SVG_NS=f,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" "),this.width=void 0}return t.prototype._defaultGetter=function(t){return t=T(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},t.prototype._defaultSetter=function(t,e,n){n.setAttribute(e,t)},t.prototype.add=function(t){var e=this.renderer,n=this.element;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,"undefined"!==typeof this.textStr&&"text"===this.element.nodeName&&e.buildText(this),this.added=!0,!t||t.handleZ||this.zIndex)var i=this.zIndexSetter();return i||(t?t.element:e.box).appendChild(n),this.onAdd&&this.onAdd(),this},t.prototype.addClass=function(t,e){var n=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce((function(t,e){return-1===n.indexOf(e)&&t.push(e),t}),n?[n]:[]).join(" "))!==n&&this.attr("class",t),this},t.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},t.prototype.align=function(t,e,n){var i,o,r,a={},s=this.renderer,l=s.alignedObjects;t?(this.alignOptions=t,this.alignByTranslate=e,(!n||k(n))&&(this.alignTo=i=n||"renderer",_(l,this),l.push(this),n=void 0)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=T(n,s[i],s),i=t.align,s=t.verticalAlign,l=(n.x||0)+(t.x||0);var u=(n.y||0)+(t.y||0);return"right"===i?o=1:"center"===i&&(o=2),o&&(l+=(n.width-(t.width||0))/o),a[e?"translateX":"x"]=Math.round(l),"bottom"===s?r=1:"middle"===s&&(r=2),r&&(u+=(n.height-(t.height||0))/r),a[e?"translateY":"y"]=Math.round(u),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},t.prototype.alignSetter=function(t){var e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))},t.prototype.animate=function(t,e,n){var i=this,a=r(T(e,this.renderer.globalAnimation,!0));return e=a.defer,T(l.hidden,l.msHidden,l.webkitHidden,!1)&&(a.duration=0),0!==a.duration?(n&&(a.complete=n),M((function(){i.element&&o(i,t,a)}),e)):(this.attr(t,void 0,n),I(t,(function(t,e){a.step&&a.step.call(this,t,{prop:e,pos:1})}),this)),this},t.prototype.applyTextOutline=function(t){var e,i=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill)));var o=(t=t.split(" "))[t.length-1];if((e=t[0])&&"none"!==e&&n.svg){this.fakeTS=!0,t=[].slice.call(i.getElementsByTagName("tspan")),this.ySetter=this.xSetter,e=e.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,n){return 2*e+n})),this.removeTextOutline(t);var r=!!i.textContent&&/^[\u0591-\u065F\u066A-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(i.textContent),a=i.firstChild;t.forEach((function(t,n){0===n&&(t.setAttribute("x",i.getAttribute("x")),n=i.getAttribute("y"),t.setAttribute("y",n||0),null===n&&i.setAttribute("y",0)),n=t.cloneNode(!0),g(r&&!h?t:n,{class:"highcharts-text-outline",fill:o,stroke:o,"stroke-width":e,"stroke-linejoin":"round"}),i.insertBefore(n,a)})),r&&h&&t[0]&&((t=t[0].cloneNode(!0)).textContent=" ",i.insertBefore(t,a))}},t.prototype.attr=function(t,e,n,i){var o,r,s,l=this.element,u=this,h=this.symbolCustomAttribs;if("string"===typeof t&&"undefined"!==typeof e){var c=t;(t={})[c]=e}return"string"===typeof t?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(I(t,(function(e,n){r=!1,i||a(this,n),this.symbolName&&-1!==h.indexOf(n)&&(o||(this.symbolAttr(t),o=!0),r=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),r||((s=this[n+"Setter"]||this._defaultSetter).call(this,e,n,l),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,s))}),this),this.afterSetters()),n&&n.call(this),u},t.prototype.clip=function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},t.prototype.crisp=function(t,e){e=e||t.strokeWidth||0;var n=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),y(t.strokeWidth)&&(t.strokeWidth=e),t},t.prototype.complexColor=function(t,n,i){var o,r,a,s,l,u,h,c,d,f,p,g=this.renderer,m=[];x(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?r="radialGradient":t.linearGradient&&(r="linearGradient"),r){if(a=t[r],l=g.gradients,u=t.stops,d=i.radialReference,w(a)&&(t[r]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&d&&!y(a.gradientUnits)&&(s=a,a=E(a,g.getRadialAttr(d,s),{gradientUnits:"userSpaceOnUse"})),I(a,(function(t,e){"id"!==e&&m.push(e,t)})),I(u,(function(t){m.push(t)})),m=m.join(","),l[m])f=l[m].attr("id");else{a.id=f=O();var v=l[m]=g.createElement(r).attr(a).add(g.defs);v.radAttr=s,v.stops=[],u.forEach((function(t){0===t[1].indexOf("rgba")?(o=e.parse(t[1]),h=o.get("rgb"),c=o.get("a")):(h=t[1],c=1),t=g.createElement("stop").attr({offset:t[0],"stop-color":h,"stop-opacity":c}).add(v),v.stops.push(t)}))}p="url("+g.url+"#"+f+")",i.setAttribute(n,p),i.gradient=m,t.toString=function(){return p}}}))},t.prototype.css=function(t){var e=this.styles,n={},i=this.element,o="",r=!e,a=["textOutline","textOverflow","width"];if(t&&t.color&&(t.fill=t.color),e&&I(t,(function(t,i){e&&e[i]!==t&&(n[i]=t,r=!0)})),r){if(e&&(t=b(e,n)),t)if(null===t.width||"auto"===t.width)delete this.textWidth;else if("text"===i.nodeName.toLowerCase()&&t.width)var s=this.textWidth=D(t.width);if(this.styles=t,s&&!d&&this.renderer.forExport&&delete t.width,i.namespaceURI===this.SVG_NS){var l=function(t,e){return"-"+e.toLowerCase()};I(t,(function(t,e){-1===a.indexOf(e)&&(o+=e.replace(/([A-Z])/g,l)+":"+t+";")})),o&&g(i,"style",o)}else v(i,t);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))}return this},t.prototype.dashstyleSetter=function(t){var e=this["stroke-width"];if("inherit"===e&&(e=1),t=t&&t.toLowerCase()){var n=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=n.length;t--;)n[t]=""+D(n[t])*T(e,NaN);t=n.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},t.prototype.destroy=function(){var t=this,e=t.element||{},n=t.renderer,i=n.isSVG&&"SPAN"===e.nodeName&&t.parentGroup||void 0,o=e.ownerSVGElement;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,a(t),t.clipPath&&o){var r=t.clipPath;[].forEach.call(o.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(r.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=r.destroy()}if(t.stops){for(o=0;o<t.stops.length;o++)t.stops[o].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e),n.styledMode||t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;t.alignTo&&_(n.alignedObjects,t),I(t,(function(e,n){t[n]&&t[n].parentGroup===t&&t[n].destroy&&t[n].destroy(),delete t[n]}))},t.prototype.destroyShadows=function(){(this.shadows||[]).forEach((function(t){this.safeRemoveChild(t)}),this),this.shadows=void 0},t.prototype.destroyTextPath=function(t,e){var n=t.getElementsByTagName("text")[0];if(n){if(n.removeAttribute("dx"),n.removeAttribute("dy"),e.element.setAttribute("id",""),this.textPathWrapper&&n.getElementsByTagName("textPath").length){for(t=this.textPathWrapper.element.childNodes;t.length;)n.appendChild(t[0]);n.removeChild(this.textPathWrapper.element)}}else(t.getAttribute("dx")||t.getAttribute("dy"))&&(t.removeAttribute("dx"),t.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},t.prototype.dSetter=function(t,e,n){w(t)&&("string"===typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((function(t,e,n){return e&&e.join?(n?t+" ":"")+e.join(" "):(e||"").toString()}),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},t.prototype.fadeOut=function(t){var e=this;e.animate({opacity:0},{duration:T(t,150),complete:function(){e.attr({y:-9999}).hide()}})},t.prototype.fillSetter=function(t,e,n){"string"===typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},t.prototype.getBBox=function(e,n){var i,o=this.renderer,r=this.element,a=this.styles,l=this.textStr,u=o.cache,h=o.cacheKeys,c=r.namespaceURI===this.SVG_NS;n=T(n,this.rotation,0);var d=o.styledMode?r&&t.prototype.getStyle.call(r,"font-size"):a&&a.fontSize;if(y(l)){var f=l.toString();-1===f.indexOf("<")&&(f=f.replace(/[0-9]/g,"0")),f+=["",n,d,this.textWidth,a&&a.textOverflow,a&&a.fontWeight].join()}if(f&&!e&&(i=u[f]),!i){if(c||o.forExport){try{var p=this.fakeTS&&function(t){[].forEach.call(r.querySelectorAll(".highcharts-text-outline"),(function(e){e.style.display=t}))};C(p)&&p("none"),i=r.getBBox?b({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight},C(p)&&p("")}catch(g){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(o.isSVG&&(e=i.width,o=i.height,c&&(i.height=o={"11px,17":14,"13px,20":16}[a&&a.fontSize+","+Math.round(o)]||o),n&&(a=n*s,i.width=Math.abs(o*Math.sin(a))+Math.abs(e*Math.cos(a)),i.height=Math.abs(o*Math.cos(a))+Math.abs(e*Math.sin(a)))),f&&0<i.height){for(;250<h.length;)delete u[h.shift()];u[f]||h.push(f),u[f]=i}}return i},t.prototype.getStyle=function(t){return p.getComputedStyle(this.element||this,"").getPropertyValue(t)},t.prototype.hasClass=function(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)},t.prototype.hide=function(t){return t?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},t.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},t.prototype.init=function(t,e){this.element="span"===e?m(e):l.createElementNS(this.SVG_NS,e),this.renderer=t,x(this,"afterInit")},t.prototype.invert=function(t){return this.inverted=t,this.updateTransform(),this},t.prototype.on=function(t,e){var n,i,o,r=this.element;return u&&"click"===t?(r.ontouchstart=function(t){n=t.touches[0].clientX,i=t.touches[0].clientY},r.ontouchend=function(t){n&&4<=Math.sqrt(Math.pow(n-t.changedTouches[0].clientX,2)+Math.pow(i-t.changedTouches[0].clientY,2))||e.call(r,t),o=!0,!1!==t.cancelable&&t.preventDefault()},r.onclick=function(t){o||e.call(r,t)}):r["on"+t]=e,this},t.prototype.opacitySetter=function(t,e,n){this.opacity=t=Number(Number(t).toFixed(3)),n.setAttribute(e,t)},t.prototype.removeClass=function(t){return this.attr("class",(""+this.attr("class")).replace(k(t)?new RegExp("(^| )"+t+"( |$)"):t," ").replace(/ +/g," ").trim())},t.prototype.removeTextOutline=function(t){for(var e,n=t.length;n--;)"highcharts-text-outline"===(e=t[n]).getAttribute("class")&&_(t,this.element.removeChild(e))},t.prototype.safeRemoveChild=function(t){var e=t.parentNode;e&&e.removeChild(t)},t.prototype.setRadialReference=function(t){var e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},t.prototype.setTextPath=function(t,e){var n=this.element,i={textAnchor:"text-anchor"},o=!1,r=this.textPathWrapper,a=!r,s=(e=E(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e)).attributes;if(t&&e&&e.enabled){r&&null===r.element.parentNode?(a=!0,r=r.destroy()):r&&this.removeTextOutline.call(r.parentGroup,[].slice.call(n.getElementsByTagName("tspan"))),this.options&&this.options.padding&&(s.dx=-this.options.padding),r||(this.textPathWrapper=r=this.renderer.createElement("textPath"),o=!0);var l=r.element;if((e=t.element.getAttribute("id"))||t.element.setAttribute("id",e=O()),a)for(t=n.getElementsByTagName("tspan");t.length;)t[0].setAttribute("y",0),S(s.dx)&&t[0].setAttribute("x",-s.dx),l.appendChild(t[0]);o&&r&&r.add({element:this.text?this.text.element:n}),l.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+e),y(s.dy)&&(l.parentNode.setAttribute("dy",s.dy),delete s.dy),y(s.dx)&&(l.parentNode.setAttribute("dx",s.dx),delete s.dx),I(s,(function(t,e){l.setAttribute(i[e]||e,t)})),n.removeAttribute("transform"),this.removeTextOutline.call(r,[].slice.call(n.getElementsByTagName("tspan"))),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=c}else r&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(n,t),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},t.prototype.shadow=function(t,e,n){var i,o=[],r=this.element,a=!1,s=this.oldShadowOptions,l={color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:3};if(!0===t?i=l:"object"===typeof t&&(i=b(l,t)),i&&(i&&s&&I(i,(function(t,e){t!==s[e]&&(a=!0)})),a&&this.destroyShadows(),this.oldShadowOptions=i),i){if(!this.shadows){var u=i.opacity/i.width,h=this.parentInverted?"translate(-1,-1)":"translate("+i.offsetX+", "+i.offsetY+")";for(l=1;l<=i.width;l++){var c=r.cloneNode(!1),d=2*i.width+1-2*l;g(c,{stroke:t.color||"#000000","stroke-opacity":u*l,"stroke-width":d,transform:h,fill:"none"}),c.setAttribute("class",(c.getAttribute("class")||"")+" highcharts-shadow"),n&&(g(c,"height",Math.max(g(c,"height")-d,0)),c.cutHeight=d),e?e.element.appendChild(c):r.parentNode&&r.parentNode.insertBefore(c,r),o.push(c)}this.shadows=o}}else this.destroyShadows();return this},t.prototype.show=function(t){return this.attr({visibility:t?"inherit":"visible"})},t.prototype.strokeSetter=function(e,n,i){this[n]=e,this.stroke&&this["stroke-width"]?(t.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===e&&this.hasStroke?(i.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},t.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var t=this.getStyle("stroke-width"),e=0;if(t.indexOf("px")===t.length-2)e=D(t);else if(""!==t){var n=l.createElementNS(f,"rect");g(n,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(n),e=n.getBBox().width,n.parentNode.removeChild(n)}return e},t.prototype.symbolAttr=function(t){var e=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach((function(n){e[n]=T(t[n],e[n])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},t.prototype.textSetter=function(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))},t.prototype.titleSetter=function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=l.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(l.createTextNode(String(T(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},t.prototype.toFront=function(){var t=this.element;return t.parentNode.appendChild(t),this},t.prototype.translate=function(t,e){return this.attr({translateX:t,translateY:e})},t.prototype.updateShadows=function(t,e,n){var i=this.shadows;if(i)for(var o=i.length;o--;)n.call(i[o],"height"===t?Math.max(e-(i[o].cutHeight||0),0):"d"===t?this.d:e,t,i[o])},t.prototype.updateTransform=function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,o=this.inverted,r=this.rotation,a=this.matrix,s=this.element;o&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],y(a)&&t.push("matrix("+a.join(",")+")"),o?t.push("rotate(90) scale(-1,1)"):r&&t.push("rotate("+r+" "+T(this.rotationOriginX,s.getAttribute("x"),0)+" "+T(this.rotationOriginY,s.getAttribute("y")||0)+")"),(y(n)||y(i))&&t.push("scale("+T(n,1)+" "+T(i,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},t.prototype.visibilitySetter=function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},t.prototype.xGetter=function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},t.prototype.zIndexSetter=function(t,e){var n=this.renderer,i=this.parentGroup,o=(i||n).element||n.box,r=this.element,a=!1;n=o===n.box;var s,l=this.added;if(y(t)?(r.setAttribute("data-z-index",t),t=+t,this[e]===t&&(l=!1)):y(this[e])&&r.removeAttribute("data-z-index"),this[e]=t,l){for((t=this.zIndex)&&i&&(i.handleZ=!0),s=(e=o.childNodes).length-1;0<=s&&!a;s--){l=(i=e[s]).getAttribute("data-z-index");var u=!y(l);i!==r&&(0>t&&u&&!n&&!s?(o.insertBefore(r,e[s]),a=!0):(D(l)<=t||u&&(!y(t)||0<=t))&&(o.insertBefore(r,e[s+1]||null),a=!0))}a||(o.insertBefore(r,e[n?3:0]||null),a=!0)}return a},t}()).prototype["stroke-widthSetter"]=t.prototype.strokeSetter,t.prototype.yGetter=t.prototype.xGetter,t.prototype.matrixSetter=t.prototype.rotationOriginXSetter=t.prototype.rotationOriginYSetter=t.prototype.rotationSetter=t.prototype.scaleXSetter=t.prototype.scaleYSetter=t.prototype.translateXSetter=t.prototype.translateYSetter=t.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},n.SVGElement=t,n.SVGElement})),e(n,"Core/Renderer/SVG/SVGLabel.js",[n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(t,e){var n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i=e.defined,o=e.extend,r=e.isNumber,a=e.merge,s=e.removeEvent;return function(e){function l(t,n,i,o,r,a,s,u,h,c){var d=e.call(this)||this;if(d.init(t,"g"),d.textStr=n,d.x=i,d.y=o,d.anchorX=a,d.anchorY=s,d.baseline=h,d.className=c,"button"!==c&&d.addClass("highcharts-label"),c&&d.addClass("highcharts-"+c),d.text=t.text("",0,0,u).attr({zIndex:1}),"string"===typeof r){var f=/^url\((.*?)\)$/.test(r);(d.renderer.symbols[r]||f)&&(d.symbolKey=r)}return d.bBox=l.emptyBBox,d.padding=3,d.paddingLeft=0,d.baselineOffset=0,d.needsBox=t.styledMode||f,d.deferredAttr={},d.alignFactor=0,d}return n(l,e),l.prototype.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==this.alignFactor&&(this.alignFactor=t,this.bBox&&r(this.xSetting)&&this.attr({x:this.xSetting}))},l.prototype.anchorXSetter=function(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)},l.prototype.anchorYSetter=function(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)},l.prototype.boxAttr=function(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e},l.prototype.css=function(e){if(e){var n={};e=a(e),l.textProps.forEach((function(t){"undefined"!==typeof e[t]&&(n[t]=e[t],delete e[t])})),this.text.css(n);var i="fontSize"in n||"fontWeight"in n;("width"in n||i)&&(this.updateBoxSize(),i&&this.updateTextPadding())}return t.prototype.css.call(this,e)},l.prototype.destroy=function(){s(this.element,"mouseenter"),s(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)},l.prototype.fillSetter=function(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)},l.prototype.getBBox=function(){var t=this.bBox,e=this.padding;return{width:t.width+2*e,height:t.height+2*e,x:t.x-e,y:t.y-e}},l.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},l.prototype.heightSetter=function(t){this.heightSetting=t},l.prototype.on=function(e,n){var i=this,o=i.text,r=o&&"SPAN"===o.element.tagName?o:void 0;if(r){var a=function(t){("mouseenter"===e||"mouseleave"===e)&&t.relatedTarget instanceof Element&&(i.element.contains(t.relatedTarget)||r.element.contains(t.relatedTarget))||n.call(i.element,t)};r.on(e,a)}return t.prototype.on.call(i,e,a||n),i},l.prototype.onAdd=function(){var t=this.textStr;this.text.add(this),this.attr({text:i(t)?t:"",x:this.x,y:this.y}),this.box&&i(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},l.prototype.paddingSetter=function(t){i(t)&&t!==this.padding&&(this.padding=t,this.updateTextPadding())},l.prototype.paddingLeftSetter=function(t){i(t)&&t!==this.paddingLeft&&(this.paddingLeft=t,this.updateTextPadding())},l.prototype.rSetter=function(t,e){this.boxAttr(e,t)},l.prototype.shadow=function(t){return t&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(t)),this},l.prototype.strokeSetter=function(t,e){this.stroke=t,this.boxAttr(e,t)},l.prototype["stroke-widthSetter"]=function(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)},l.prototype["text-alignSetter"]=function(t){this.textAlign=t},l.prototype.textSetter=function(t){"undefined"!==typeof t&&this.text.attr({text:t}),this.updateBoxSize(),this.updateTextPadding()},l.prototype.updateBoxSize=function(){var t=this.text.element.style,e={},n=this.padding,a=this.paddingLeft,s=r(this.widthSetting)&&r(this.heightSetting)&&!this.textAlign||!i(this.text.textStr)?l.emptyBBox:this.text.getBBox();this.width=(this.widthSetting||s.width||0)+2*n+a,this.height=(this.heightSetting||s.height||0)+2*n,this.baselineOffset=n+Math.min(this.renderer.fontMetrics(t&&t.fontSize,this.text).b,s.height||1/0),this.needsBox&&(this.box||((t=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),t.add(this),t=this.getCrispAdjust(),e.x=t,e.y=(this.baseline?-this.baselineOffset:0)+t),e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(o(e,this.deferredAttr)),this.deferredAttr={}),this.bBox=s},l.prototype.updateTextPadding=function(){var t=this.text,e=this.baseline?0:this.baselineOffset,n=this.paddingLeft+this.padding;i(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(n+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),n===t.x&&e===t.y||(t.attr("x",n),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0),this.updateBoxSize()),"undefined"!==typeof e&&t.attr("y",e)),t.x=n,t.y=e},l.prototype.widthSetter=function(t){this.widthSetting=r(t)?t:void 0},l.prototype.xSetter=function(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*((this.widthSetting||this.bBox.width)+2*this.padding),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)},l.prototype.ySetter=function(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)},l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps="color cursor direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),l}(t)})),e(n,"Core/Renderer/SVG/SVGRenderer.js",[n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGLabel.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o){var r=o.addEvent,a=o.attr,s=o.createElement,l=o.css,u=o.defined,h=o.destroyObjectProperties,c=o.extend,d=o.isArray,f=o.isNumber,p=o.isObject,g=o.isString,m=o.merge,v=o.objectEach,y=o.pick,_=o.pInt,b=o.splat,x=o.uniqueKey,w=e.charts,C=e.deg2rad,S=e.doc,k=e.isFirefox,E=e.isMS,I=e.isWebKit;o=e.noop;var T=e.svg,D=e.SVG_NS,M=e.symbolSizes,O=e.win,P=function(){function e(t,e,n,i,o,r,a){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(t,e,n,i,o,r,a)}return e.prototype.init=function(t,e,n,i,o,s,u){var h,c=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"});u||c.css(this.getStyle(i)),i=c.element,t.appendChild(i),a(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&a(i,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=i,this.boxWrapper=c,this.alignedObjects=[],this.url=(k||I)&&S.getElementsByTagName("base").length?O.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(S.createTextNode("Created with Highcharts 8.2.2")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.styledMode=u,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),k&&t.getBoundingClientRect&&((e=function(){l(t,{left:0,top:0}),h=t.getBoundingClientRect(),l(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})})(),this.unSubPixelFix=r(O,"resize",e))},e.prototype.definition=function(t){var e=this;return function t(n,i){var o;return b(n).forEach((function(n){var r=e.createElement(n.tagName),a={};v(n,(function(t,e){"tagName"!==e&&"children"!==e&&"textContent"!==e&&(a[e]=t)})),r.attr(a),r.add(i||e.defs),n.textContent&&r.element.appendChild(S.createTextNode(n.textContent)),t(n.children||[],r),o=r})),o}(t)},e.prototype.getStyle=function(t){return this.style=c({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},e.prototype.setStyle=function(t){this.boxWrapper.css(this.getStyle(t))},e.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},e.prototype.destroy=function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},e.prototype.createElement=function(t){var e=new this.Element;return e.init(this,t),e},e.prototype.getRadialAttr=function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},e.prototype.truncate=function(t,e,n,i,o,r,a){var s,l,u=this,h=t.rotation,c=i?1:0,d=(n||i).length,f=d,p=[],g=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(S.createTextNode(t))},m=function(r,s){if("undefined"===typeof p[s=s||r])if(e.getSubStringLength)try{p[s]=o+e.getSubStringLength(0,i?s+1:s)}catch(l){}else u.getSpanWidth&&(g(a(n||i,r)),p[s]=o+u.getSpanWidth(t,e));return p[s]};t.rotation=0;var v=m(e.textContent.length);if(l=o+v>r){for(;c<=d;)f=Math.ceil((c+d)/2),i&&(s=a(i,f)),v=m(f,s&&s.length-1),c===d?c=d+1:v>r?d=f-1:c=f;0===d?g(""):n&&d===n.length-1||g(s||a(n||i,f))}return i&&i.splice(0,f),t.actualWidth=v,t.rotation=h,l},e.prototype.buildText=function(t){var e,n,i=t.element,o=this,r=o.forExport,s=y(t.textStr,"").toString(),u=-1!==s.indexOf("<"),h=i.childNodes,c=a(i,"x"),d=t.styles,f=t.textWidth,p=d&&d.lineHeight,m=d&&d.textOutline,b=d&&"ellipsis"===d.textOverflow,x=d&&"nowrap"===d.whiteSpace,w=d&&d.fontSize,C=h.length;d=f&&!t.added&&this.box;var k=function(t){var e;return o.styledMode||(e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:w||o.style.fontSize||12),p?_(p):o.fontMetrics(e,t.getAttribute("style")?t:i).h},E=function(t,e){return v(o.escapes,(function(n,i){e&&-1!==e.indexOf(n)||(t=t.toString().replace(new RegExp(n,"g"),i))})),t},I=function(t,e){var n=t.indexOf("<");if(-1!==(n=(t=t.substring(n,t.indexOf(">")-n)).indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return(t=t.substring(n+1)).substring(0,t.indexOf(e))},M=/<br.*?>/g,O=[s,b,x,p,m,w,f].join();if(O!==t.textCache){for(t.textCache=O;C--;)i.removeChild(h[C]);u||m||b||f||-1!==s.indexOf(" ")&&(!x||M.test(s))?(d&&d.appendChild(i),u?s=(s=o.styledMode?s.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">'):s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">')).replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(M):s=[s],(s=s.filter((function(t){return""!==t}))).forEach((function(s,u){var h=0,d=0,p=(s=s.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||")).split("|||");p.forEach((function(s){if(""!==s||1===p.length){var g,m,v={},y=S.createElementNS(o.SVG_NS,"tspan");if((g=I(s,"class"))&&a(y,"class",g),(g=I(s,"style"))&&(g=g.replace(/(;| |^)color([ :])/,"$1fill$2"),a(y,"style",g)),(m=I(s,"href"))&&!r&&-1===m.split(":")[0].toLowerCase().indexOf("javascript")){var _=S.createElementNS(o.SVG_NS,"a");a(_,"href",m),a(y,"class","highcharts-anchor"),_.appendChild(y),o.styledMode||l(y,{cursor:"pointer"})}if(" "!==(s=E(s.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(y.appendChild(S.createTextNode(s)),h?v.dx=0:u&&null!==c&&(v.x=c),a(y,v),i.appendChild(_||y),!h&&n&&(!T&&r&&l(y,{display:"block"}),a(y,"dy",k(y))),f){var C=s.replace(/([^\^])-/g,"$1- ").split(" ");if(v=!x&&(1<p.length||u||1<C.length),_=0,m=k(y),b)e=o.truncate(t,y,s,void 0,0,Math.max(0,f-parseInt(w||12,10)),(function(t,e){return t.substring(0,e)+"\u2026"}));else if(v)for(;C.length;)C.length&&!x&&0<_&&(y=S.createElementNS(D,"tspan"),a(y,{dy:m,x:c}),g&&a(y,"style",g),y.appendChild(S.createTextNode(C.join(" ").replace(/- /g,"-"))),i.appendChild(y)),o.truncate(t,y,null,C,0===_?d:0,f,(function(t,e){return C.slice(0,e).join(" ").replace(/- /g,"-")})),d=t.actualWidth,_++}h++}}})),n=n||i.childNodes.length})),b&&e&&t.attr("title",E(t.textStr||"",["&lt;","&gt;"])),d&&d.removeChild(i),g(m)&&t.applyTextOutline&&t.applyTextOutline(m)):i.appendChild(S.createTextNode(E(s)))}},e.prototype.getContrast=function(e){return(e=t.parse(e).rgba)[0]*=1,e[1]*=1.2,e[2]*=.5,459<e[0]+e[1]+e[2]?"#000000":"#FFFFFF"},e.prototype.button=function(t,e,n,i,o,a,s,l,u,h){var d=this.label(t,e,n,u,void 0,void 0,h,void 0,"button"),f=0,p=this.styledMode;if(t=(o=o?m(o):o)&&o.style||{},o&&o.style&&delete o.style,d.attr(m({padding:8,r:2},o)),!p){var g=(o=m({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:t},o)).style;delete o.style;var v=(a=m(o,{fill:"#e6e6e6"},a)).style;delete a.style;var y=(s=m(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s)).style;delete s.style;var _=(l=m(o,{style:{color:"#cccccc"}},l)).style;delete l.style}return r(d.element,E?"mouseover":"mouseenter",(function(){3!==f&&d.setState(1)})),r(d.element,E?"mouseout":"mouseleave",(function(){3!==f&&d.setState(f)})),d.setState=function(t){1!==t&&(d.state=f=t),d.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),p||d.attr([o,a,s,l][t||0]).css([g,v,y,_][t||0])},p||d.attr(o).css(c({cursor:"default"},g)),d.on("click",(function(t){3!==f&&i.call(d,t)}))},e.prototype.crispLine=function(t,e,n){void 0===n&&(n="round");var i=t[0],o=t[1];return i[1]===o[1]&&(i[1]=o[1]=Math[n](i[1])-e%2/2),i[2]===o[2]&&(i[2]=o[2]=Math[n](i[2])+e%2/2),t},e.prototype.path=function(t){var e=this.styledMode?{}:{fill:"none"};return d(t)?e.d=t:p(t)&&c(e,t),this.createElement("path").attr(e)},e.prototype.circle=function(t,e,n){return t=p(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},e.prototype.arc=function(t,e,n,i,o,r){return p(t)?(e=(i=t).y,n=i.r,t=i.x):i={innerR:i,start:o,end:r},(t=this.symbol("arc",t,e,n,n,i)).r=n,t},e.prototype.rect=function(t,e,n,i,o,r){o=p(t)?t.r:o;var s=this.createElement("rect");return t=p(t)?t:"undefined"===typeof t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},this.styledMode||("undefined"!==typeof r&&(t.strokeWidth=r,t=s.crisp(t)),t.fill="none"),o&&(t.r=o),s.rSetter=function(t,e,n){s.r=t,a(n,{rx:t,ry:t})},s.rGetter=function(){return s.r},s.attr(t)},e.prototype.setSize=function(t,e,n){var i=this.alignedObjects,o=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:y(n,!0)?void 0:0});o--;)i[o].align()},e.prototype.g=function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},e.prototype.image=function(t,e,n,i,o,a){var s={preserveAspectRatio:"none"},l=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},u=function(e){l(h.element,t),a.call(h,e)};1<arguments.length&&c(s,{x:e,y:n,width:i,height:o});var h=this.createElement("image").attr(s);return a?(l(h.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),s=new O.Image,r(s,"load",u),s.src=t,s.complete&&u({})):l(h.element,t),h},e.prototype.symbol=function(t,e,n,i,o,r){var a,h=this,d=/^url\((.*?)\)$/,f=d.test(t),p=!f&&(this.symbols[t]?t:"circle"),g=p&&this.symbols[p];if(g){"number"===typeof e&&(a=g.call(this.symbols,Math.round(e||0),Math.round(n||0),i||0,o||0,r));var m=this.path(a);h.styledMode||m.attr("fill","none"),c(m,{symbolName:p,x:e,y:n,width:i,height:o}),r&&c(m,r)}else if(f){var v=t.match(d)[1];(m=this.image(v)).imgwidth=y(M[v]&&M[v].width,r&&r.width),m.imgheight=y(M[v]&&M[v].height,r&&r.height);var _=function(){m.attr({width:m.width,height:m.height})};["width","height"].forEach((function(t){m[t+"Setter"]=function(t,e){var n={},i=this["img"+e],o="width"===e?"translateX":"translateY";this[e]=t,u(i)&&(r&&"within"===r.backgroundSize&&this.width&&this.height&&(i=Math.round(i*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[o]=((this[e]||0)-i)/2,this.attr(n)))}})),u(e)&&m.attr({x:e,y:n}),m.isImg=!0,u(m.imgwidth)&&u(m.imgheight)?_():(m.attr({width:0,height:0}),s("img",{onload:function(){var t=w[h.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),S.body.appendChild(this)),M[v]={width:this.width,height:this.height},m.imgwidth=this.width,m.imgheight=this.height,m.element&&_(),this.parentNode&&this.parentNode.removeChild(this),h.imgCount--,h.imgCount||!t||t.hasLoaded||t.onload()},src:v}),this.imgCount++)}return m},e.prototype.clipRect=function(t,e,n,i){var o=x()+"-",r=this.createElement("clipPath").attr({id:o}).add(this.defs);return(t=this.rect(t,e,n,i,0).add(r)).id=o,t.clipPath=r,t.count=0,t},e.prototype.text=function(t,e,n,i){var o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),u(t)&&(o.text=t),t=this.createElement("text").attr(o),i||(t.xSetter=function(t,e,n){var i,o=n.getElementsByTagName("tspan"),r=n.getAttribute(e);for(i=0;i<o.length;i++){var a=o[i];a.getAttribute(e)===r&&a.setAttribute(e,t)}n.setAttribute(e,t)}),t):this.html(t,e,n)},e.prototype.fontMetrics=function(t,e){return t=!this.styledMode&&/px/.test(t)||!O.getComputedStyle?t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize:e&&n.prototype.getStyle.call(e,"font-size"),{h:e=24>(t=/px/.test(t)?_(t):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},e.prototype.rotCorr=function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*C),4)),{x:-t/3*Math.sin(e*C),y:i}},e.prototype.pathToSegments=function(t){for(var e=[],n=[],i={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},o=0;o<t.length;o++)g(n[0])&&f(t[o])&&n.length===i[n[0].toUpperCase()]&&t.splice(o,0,n[0].replace("M","L").replace("m","l")),"string"===typeof t[o]&&(n.length&&e.push(n.slice(0)),n.length=0),n.push(t[o]);return e.push(n.slice(0)),e},e.prototype.label=function(t,e,n,o,r,a,s,l,u){return new i(this,t,e,n,o,r,a,s,l,u)},e}();return P.prototype.Element=n,P.prototype.SVG_NS=D,P.prototype.draw=o,P.prototype.escapes={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},P.prototype.symbols={circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},square:function(t,e,n,i){return[["M",t,e],["L",t+n,e],["L",t+n,e+i],["L",t,e+i],["Z"]]},triangle:function(t,e,n,i){return[["M",t+n/2,e],["L",t+n,e+i],["L",t,e+i],["Z"]]},"triangle-down":function(t,e,n,i){return[["M",t,e],["L",t+n,e],["L",t+n/2,e+i],["Z"]]},diamond:function(t,e,n,i){return[["M",t+n/2,e],["L",t+n,e+i/2],["L",t+n/2,e+i],["L",t,e+i/2],["Z"]]},arc:function(t,e,n,i,o){var r=[];if(o){var a=o.start||0,s=o.end||0,l=o.r||n;n=o.r||i||n;var h=.001>Math.abs(s-a-2*Math.PI);s-=.001,i=o.innerR,h=y(o.open,h);var c=Math.cos(a),d=Math.sin(a),f=Math.cos(s),p=Math.sin(s);a=y(o.longArc,.001>s-a-Math.PI?0:1),r.push(["M",t+l*c,e+n*d],["A",l,n,0,a,y(o.clockwise,1),t+l*f,e+n*p]),u(i)&&r.push(h?["M",t+i*f,e+i*p]:["L",t+i*f,e+i*p],["A",i,i,0,a,u(o.clockwise)?1-o.clockwise:0,t+i*c,e+i*d]),h||r.push(["Z"])}return r},callout:function(t,e,n,i,o){var r=Math.min(o&&o.r||0,n,i),a=r+6,s=o&&o.anchorX||0;o=o&&o.anchorY||0;var l=[["M",t+r,e],["L",t+n-r,e],["C",t+n,e,t+n,e,t+n,e+r],["L",t+n,e+i-r],["C",t+n,e+i,t+n,e+i,t+n-r,e+i],["L",t+r,e+i],["C",t,e+i,t,e+i,t,e+i-r],["L",t,e+r],["C",t,e,t,e,t+r,e]];return s&&s>n?o>e+a&&o<e+i-a?l.splice(3,1,["L",t+n,o-6],["L",t+n+6,o],["L",t+n,o+6],["L",t+n,e+i-r]):l.splice(3,1,["L",t+n,i/2],["L",s,o],["L",t+n,i/2],["L",t+n,e+i-r]):s&&0>s?o>e+a&&o<e+i-a?l.splice(7,1,["L",t,o+6],["L",t-6,o],["L",t,o-6],["L",t,e+r]):l.splice(7,1,["L",t,i/2],["L",s,o],["L",t,i/2],["L",t,e+r]):o&&o>i&&s>t+a&&s<t+n-a?l.splice(5,1,["L",s+6,e+i],["L",s,e+i+6],["L",s-6,e+i],["L",t+r,e+i]):o&&0>o&&s>t+a&&s<t+n-a&&l.splice(1,1,["L",s-6,e],["L",s,e-6],["L",s+6,e],["L",n-r,e]),l}},e.SVGRenderer=P,e.Renderer=e.SVGRenderer,e.Renderer})),e(n,"Core/Renderer/HTML/HTMLElement.js",[n["Core/Globals.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(t,e,n){var i=n.css,o=n.defined,r=n.extend,a=n.pick,s=n.pInt,l=t.isFirefox;return r(e.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,n=a(e&&t.width,void 0);if(e){delete t.width,this.textWidth=n;var o=!0}return t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=r(this.styles,t),i(this.element,t),o&&this.htmlUpdateTransform(),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,r=this.translateY||0,a=this.x||0,l=this.y||0,u=this.textAlign||"left",h={left:0,center:.5,right:1}[u],c=this.styles,d=c&&c.whiteSpace;if(i(e,{marginLeft:n,marginTop:r}),!t.styledMode&&this.shadows&&this.shadows.forEach((function(t){i(t,{marginLeft:n+1,marginTop:r+1})})),this.inverted&&[].forEach.call(e.childNodes,(function(n){t.invertChild(n,e)})),"SPAN"===e.tagName){c=this.rotation;var f,p=this.textWidth&&s(this.textWidth),g=[c,u,e.innerHTML,this.textWidth,this.textAlign].join();(f=p!==this.oldTextWidth)&&!(f=p>this.oldTextWidth)&&((f=this.textPxLength)||(i(e,{width:"",whiteSpace:d||"nowrap"}),f=e.offsetWidth),f=f>p),f&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)?(i(e,{width:p+"px",display:"block",whiteSpace:d||"normal"}),this.oldTextWidth=p,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(d=t.fontMetrics(e.style.fontSize,e).b,!o(c)||c===(this.oldRotation||0)&&u===this.oldAlign||this.setSpanRotation(c,h,d),this.getSpanCorrection(!o(c)&&this.textPxLength||e.offsetWidth,d,h,c,u)),i(e,{left:a+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=c,this.oldAlign=u}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var o={},r=this.renderer.getTransformKey();o[r]=o.transform="rotate("+t+"deg)",o[r+(l?"Origin":"-origin")]=o.transformOrigin=100*e+"% "+n+"px",i(this.element,o)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),e})),e(n,"Core/Renderer/HTML/HTMLRenderer.js",[n["Core/Globals.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Utilities.js"]],(function(t,e,n,i){var o=t.isFirefox,r=t.isMS,a=t.isWebKit,s=t.win,l=i.attr,u=i.createElement,h=i.extend,c=i.pick;return h(n.prototype,{getTransformKey:function(){return r&&!/Edge/.test(s.navigator.userAgent)?"-ms-transform":a?"-webkit-transform":o?"MozTransform":s.opera?"-o-transform":""},html:function(t,n,i){var o=this.createElement("span"),r=o.element,a=o.renderer,s=a.isSVG,d=function(t,n){["opacity","visibility"].forEach((function(i){t[i+"Setter"]=function(o,r,a){var s=t.div?t.div.style:n;e.prototype[i+"Setter"].call(this,o,r,a),s&&(s[r]=o)}})),t.addedSetters=!0};return o.textSetter=function(t){t!==r.innerHTML&&(delete this.bBox,delete this.oldTextWidth),this.textStr=t,r.innerHTML=c(t,""),o.doTransform=!0},s&&d(o,o.element.style),o.xSetter=o.ySetter=o.alignSetter=o.rotationSetter=function(t,e){"align"===e?o.alignValue=o.textAlign=t:o[e]=t,o.doTransform=!0},o.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},o.attr({text:t,x:Math.round(n),y:Math.round(i)}).css({position:"absolute"}),a.styledMode||o.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",o.css=o.htmlCss,s&&(o.add=function(t){var e=a.box.parentNode,n=[];if(this.parentGroup=t){var i=t.div;if(!i){for(;t;)n.push(t),t=t.parentGroup;n.reverse().forEach((function(t){function r(e,n){t[n]=e,"translateX"===n?s.left=e+"px":s.top=e+"px",t.doTransform=!0}var a=l(t.element,"class"),s=(i=t.div=t.div||u("div",a?{className:a}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||e)).style;h(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(i),on:function(){return n[0].div&&o.on.apply({element:n[0].div},arguments),t},translateXSetter:r,translateYSetter:r}),t.addedSetters||d(t)}))}}else i=e;return i.appendChild(r),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}}),n})),e(n,"Core/Axis/Tick.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.clamp,i=e.correctFloat,o=e.defined,r=e.destroyObjectProperties,a=e.extend,s=e.fireEvent,l=e.isNumber,u=e.merge,h=e.objectEach,c=e.pick,d=t.deg2rad;return e=function(){function t(t,e,n,i,o){this.isNewLabel=this.isNew=!0,this.axis=t,this.pos=e,this.type=n||"",this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,s(this,"init"),n||i||this.addLabel()}return t.prototype.addLabel=function(){var t=this,e=t.axis,n=e.options,r=e.chart,s=e.categories,l=e.logarithmic,u=e.names,h=t.pos,d=c(t.options&&t.options.labels,n.labels),f=e.tickPositions,p=h===f[0],g=h===f[f.length-1];u=this.parameters.category||(s?c(s[h],u[h],h):h);var m,v,y=t.label;if(s=(!d.step||1===d.step)&&1===e.tickInterval,f=f.info,e.dateTime&&f)var _=r.time.resolveDTLFormat(n.dateTimeLabelFormats[!n.grid&&f.higherRanks[h]||f.unitName]),b=_.main;t.isFirst=p,t.isLast=g,t.formatCtx={axis:e,chart:r,isFirst:p,isLast:g,dateTimeLabelFormat:b,tickPositionInfo:f,value:l?i(l.lin2log(u)):u,pos:h},n=e.labelFormatter.call(t.formatCtx,this.formatCtx),(v=_&&_.list)&&(t.shortenLabel=function(){for(m=0;m<v.length;m++)if(y.attr({text:e.labelFormatter.call(a(t.formatCtx,{dateTimeLabelFormat:v[m]}))}),y.getBBox().width<e.getSlotWidth(t)-2*c(d.padding,5))return;y.attr({text:""})}),s&&e._addedPlotLB&&t.moveLabel(n,d),o(y)||t.movedLabel?y&&y.textStr!==n&&!s&&(!y.textWidth||d.style&&d.style.width||y.styles.width||y.css({width:null}),y.attr({text:n}),y.textPxLength=y.getBBox().width):(t.label=y=t.createLabel({x:0,y:0},n,d),t.rotation=0)},t.prototype.createLabel=function(t,e,n){var i=this.axis,r=i.chart;return(t=o(e)&&n.enabled?r.renderer.text(e,t.x,t.y,n.useHTML).add(i.labelGroup):null)&&(r.styledMode||t.css(u(n.style)),t.textPxLength=t.getBBox().width),t},t.prototype.destroy=function(){r(this,this.axis)},t.prototype.getPosition=function(t,e,o,r){var a=this.axis,l=a.chart,u=r&&l.oldChartHeight||l.chartHeight;return(t={x:t?i(a.translate(e+o,null,null,r)+a.transB):a.left+a.offset+(a.opposite?(r&&l.oldChartWidth||l.chartWidth)-a.right-a.left:0),y:t?u-a.bottom+a.offset-(a.opposite?a.height:0):i(u-a.translate(e+o,null,null,r)-a.transB)}).y=n(t.y,-1e5,1e5),s(this,"afterGetPosition",{pos:t}),t},t.prototype.getLabelPosition=function(t,e,n,i,r,a,l,u){var h=this.axis,c=h.transA,f=h.isLinked&&h.linkedParent?h.linkedParent.reversed:h.reversed,p=h.staggerLines,g=h.tickRotCorr||{x:0,y:0},m=r.y,v=i||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),y={};return o(m)||(m=0===h.side?n.rotation?-8:-n.getBBox().height:2===h.side?g.y+8:Math.cos(n.rotation*d)*(g.y-n.getBBox(!1,0).height/2)),t=t+r.x+v+g.x-(a&&i?a*c*(f?-1:1):0),e=e+m-(a&&!i?a*c*(f?1:-1):0),p&&(n=l/(u||1)%p,h.opposite&&(n=p-n-1),e+=h.labelOffset/p*n),y.x=t,y.y=Math.round(e),s(this,"afterGetLabelPosition",{pos:y,tickmarkOffset:a,index:l}),y},t.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},t.prototype.getMarkPath=function(t,e,n,i,o,r){return r.crispLine([["M",t,e],["L",t+(o?0:-n),e+(o?n:0)]],i)},t.prototype.handleOverflow=function(t){var e=this.axis,n=e.options.labels,i=t.x,o=e.chart.chartWidth,r=e.chart.spacing,a=c(e.labelLeft,Math.min(e.pos,r[3]));r=c(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,o-r[1]));var s,l=this.label,u=this.rotation,h={left:0,center:.5,right:1}[e.labelAlign||l.attr("align")],f=l.getBBox().width,p=e.getSlotWidth(this),g=p,m=1,v={};u||"justify"!==c(n.overflow,"justify")?0>u&&i-h*f<a?s=Math.round(i/Math.cos(u*d)-a):0<u&&i+h*f>r&&(s=Math.round((o-i)/Math.cos(u*d))):(o=i+(1-h)*f,i-h*f<a?g=t.x+g*(1-h)-a:o>r&&(g=r-t.x+g*h,m=-1),(g=Math.min(p,g))<p&&"center"===e.labelAlign&&(t.x+=m*(p-g-h*(p-Math.min(f,g)))),(f>g||e.autoRotation&&(l.styles||{}).width)&&(s=g)),s&&(this.shortenLabel?this.shortenLabel():(v.width=Math.floor(s)+"px",(n.style||{}).textOverflow||(v.textOverflow="ellipsis"),l.css(v)))},t.prototype.moveLabel=function(t,e){var n=this,i=n.label,o=!1,r=n.axis,a=r.reversed;if(i&&i.textStr===t?(n.movedLabel=i,o=!0,delete n.label):h(r.ticks,(function(e){o||e.isNew||e===n||!e.label||e.label.textStr!==t||(n.movedLabel=e.label,o=!0,e.labelPos=n.movedLabel.xy,delete e.label)})),!o&&(n.labelPos||i)){var s=n.labelPos||i.xy;i=r.horiz?a?0:r.width+r.left:s.x,r=r.horiz?s.y:a?r.width+r.left:0,n.movedLabel=n.createLabel({x:i,y:r},t,e),n.movedLabel&&n.movedLabel.attr({opacity:0})}},t.prototype.render=function(t,e,n){var i=this.axis,o=i.horiz,r=this.pos,a=c(this.tickmarkOffset,i.tickmarkOffset);a=(r=this.getPosition(o,r,a,e)).x;var l=r.y;i=o&&a===i.pos+i.len||!o&&l===i.pos?-1:1,n=c(n,1),this.isActive=!0,this.renderGridLine(e,n,i),this.renderMark(r,n,i),this.renderLabel(r,e,n,t),this.isNew=!1,s(this,"afterRender")},t.prototype.renderGridLine=function(t,e,n){var i=this.axis,o=i.options,r=this.gridLine,a={},s=this.pos,l=this.type,u=c(this.tickmarkOffset,i.tickmarkOffset),h=i.chart.renderer,d=l?l+"Grid":"grid",f=o[d+"LineWidth"],p=o[d+"LineColor"];o=o[d+"LineDashStyle"],r||(i.chart.styledMode||(a.stroke=p,a["stroke-width"]=f,o&&(a.dashstyle=o)),l||(a.zIndex=1),t&&(e=0),this.gridLine=r=h.path().attr(a).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(i.gridGroup)),r&&(n=i.getPlotLinePath({value:s+u,lineWidth:r.strokeWidth()*n,force:"pass",old:t}))&&r[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},t.prototype.renderMark=function(t,e,n){var i=this.axis,o=i.options,r=i.chart.renderer,a=this.type,s=a?a+"Tick":"tick",l=i.tickSize(s),u=this.mark,h=!u,d=t.x;t=t.y;var f=c(o[s+"Width"],!a&&i.isXAxis?1:0);o=o[s+"Color"],l&&(i.opposite&&(l[0]=-l[0]),h&&(this.mark=u=r.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(i.axisGroup),i.chart.styledMode||u.attr({stroke:o,"stroke-width":f})),u[h?"attr":"animate"]({d:this.getMarkPath(d,t,l[0],u.strokeWidth()*n,i.horiz,r),opacity:e}))},t.prototype.renderLabel=function(t,e,n,i){var o=this.axis,r=o.horiz,a=o.options,s=this.label,u=a.labels,h=u.step;o=c(this.tickmarkOffset,o.tickmarkOffset);var d=!0,f=t.x;t=t.y,s&&l(f)&&(s.xy=t=this.getLabelPosition(f,t,s,r,u,o,i,h),this.isFirst&&!this.isLast&&!c(a.showFirstLabel,1)||this.isLast&&!this.isFirst&&!c(a.showLastLabel,1)?d=!1:!r||u.step||u.rotation||e||0===n||this.handleOverflow(t),h&&i%h&&(d=!1),d&&l(t.y)?(t.opacity=n,s[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(s.attr("y",-9999),this.isNewLabel=!0))},t.prototype.replaceMovedLabel=function(){var t=this.label,e=this.axis,n=e.reversed;if(t&&!this.isNew){var i=e.horiz?n?e.left:e.width+e.left:t.xy.x;n=e.horiz?t.xy.y:n?e.width+e.top:e.top,t.animate({x:i,y:n,opacity:0},void 0,t.destroy),delete this.label}e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},t}(),t.Tick=e,t.Tick})),e(n,"Core/Time.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.defined,i=e.error,o=e.extend,r=e.isObject,a=e.merge,s=e.objectEach,l=e.pad,u=e.pick,h=e.splat,c=e.timeUnits,d=t.win;return e=function(){function e(t){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=d.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}return e.prototype.get=function(t,e){if(this.variableTimezone||this.timezoneOffset){var n=e.getTime(),i=n-this.getTimezoneOffset(e);return e.setTime(i),t=e["getUTC"+t](),e.setTime(n),t}return this.useUTC?e["getUTC"+t]():e["get"+t]()},e.prototype.set=function(t,e,n){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t)return e["setUTC"+t](n);var i=this.getTimezoneOffset(e);return i=e.getTime()-i,e.setTime(i),e["setUTC"+t](n),t=this.getTimezoneOffset(e),i=e.getTime()+t,e.setTime(i)}return this.useUTC?e["setUTC"+t](n):e["set"+t](n)},e.prototype.update=function(t){var e=u(t&&t.useUTC,!0);this.options=t=a(!0,this.options||{},t),this.Date=t.Date||d.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone)},e.prototype.makeTime=function(e,n,i,o,r,a){if(this.useUTC){var s=this.Date.UTC.apply(0,arguments),l=this.getTimezoneOffset(s);s+=l;var h=this.getTimezoneOffset(s);l!==h?s+=h-l:l-36e5!==this.getTimezoneOffset(s-36e5)||t.isSafari||(s-=36e5)}else s=new this.Date(e,n,u(i,1),u(o,0),u(r,0),u(a,0)).getTime();return s},e.prototype.timezoneOffsetFunction=function(){var t=this,e=this.options,n=e.moment||d.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(n)return function(t){return 6e4*-n.tz(t,e.timezone).utcOffset()};i(25)}return this.useUTC&&e.getTimezoneOffset?function(t){return 6e4*e.getTimezoneOffset(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}},e.prototype.dateFormat=function(e,i,r){var a;if(!n(i)||isNaN(i))return(null===(a=t.defaultOptions.lang)||void 0===a?void 0:a.invalidDate)||"";e=u(e,"%Y-%m-%d %H:%M:%S");var h=this;a=new this.Date(i);var c=this.get("Hours",a),d=this.get("Day",a),f=this.get("Date",a),p=this.get("Month",a),g=this.get("FullYear",a),m=t.defaultOptions.lang,v=null===m||void 0===m?void 0:m.weekdays,y=null===m||void 0===m?void 0:m.shortWeekdays;return a=o({a:y?y[d]:v[d].substr(0,3),A:v[d],d:l(f),e:l(f,2," "),w:d,b:m.shortMonths[p],B:m.months[p],m:l(p+1),o:p+1,y:g.toString().substr(2,2),Y:g,H:l(c),k:c,I:l(c%12||12),l:c%12||12,M:l(this.get("Minutes",a)),p:12>c?"AM":"PM",P:12>c?"am":"pm",S:l(a.getSeconds()),L:l(Math.floor(i%1e3),3)},t.dateFormats),s(a,(function(t,n){for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"===typeof t?t.call(h,i):t)})),r?e.substr(0,1).toUpperCase()+e.substr(1):e},e.prototype.resolveDTLFormat=function(t){return r(t,!0)?t:{main:(t=h(t))[0],from:t[1],to:t[2]}},e.prototype.getTimeTicks=function(t,e,i,r){var a,s=this,l=[],h={},d=new s.Date(e),f=t.unitRange,p=t.count||1;if(r=u(r,1),n(e)){if(s.set("Milliseconds",d,f>=c.second?0:p*Math.floor(s.get("Milliseconds",d)/p)),f>=c.second&&s.set("Seconds",d,f>=c.minute?0:p*Math.floor(s.get("Seconds",d)/p)),f>=c.minute&&s.set("Minutes",d,f>=c.hour?0:p*Math.floor(s.get("Minutes",d)/p)),f>=c.hour&&s.set("Hours",d,f>=c.day?0:p*Math.floor(s.get("Hours",d)/p)),f>=c.day&&s.set("Date",d,f>=c.month?1:Math.max(1,p*Math.floor(s.get("Date",d)/p))),f>=c.month){s.set("Month",d,f>=c.year?0:p*Math.floor(s.get("Month",d)/p));var g=s.get("FullYear",d)}f>=c.year&&s.set("FullYear",d,g-g%p),f===c.week&&(g=s.get("Day",d),s.set("Date",d,s.get("Date",d)-g+r+(g<r?-7:0))),g=s.get("FullYear",d),r=s.get("Month",d);var m=s.get("Date",d),v=s.get("Hours",d);for(e=d.getTime(),s.variableTimezone&&(a=i-e>4*c.month||s.getTimezoneOffset(e)!==s.getTimezoneOffset(i)),e=d.getTime(),d=1;e<i;)l.push(e),e=f===c.year?s.makeTime(g+d*p,0):f===c.month?s.makeTime(g,r+d*p):!a||f!==c.day&&f!==c.week?a&&f===c.hour&&1<p?s.makeTime(g,r,m,v+d*p):e+f*p:s.makeTime(g,r,m+d*p*(f===c.day?1:7)),d++;l.push(e),f<=c.hour&&1e4>l.length&&l.forEach((function(t){0===t%18e5&&"000000000"===s.dateFormat("%H%M%S%L",t)&&(h[t]="day")}))}return l.info=o(t,{higherRanks:h,totalRange:f*p}),l},e}(),t.Time=e,t.Time})),e(n,"Core/Options.js",[n["Core/Globals.js"],n["Core/Color/Color.js"],n["Core/Time.js"],n["Core/Utilities.js"]],(function(t,e,n,i){var o=t.isTouchDevice,r=t.svg;return e=e.parse,i=i.merge,t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:r,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:o?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.time=new n(i(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,i){return t.time.dateFormat(e,n,i)},{dateFormat:t.dateFormat,defaultOptions:t.defaultOptions,time:t.time}})),e(n,"Core/Axis/Axis.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Axis/Tick.js"],n["Core/Utilities.js"],n["Core/Options.js"]],(function(t,e,n,i,o,r){var a=t.animObject,s=o.addEvent,l=o.arrayMax,u=o.arrayMin,h=o.clamp,c=o.correctFloat,d=o.defined,f=o.destroyObjectProperties,p=o.error,g=o.extend,m=o.fireEvent,v=o.format,y=o.getMagnitude,_=o.isArray,b=o.isFunction,x=o.isNumber,w=o.isString,C=o.merge,S=o.normalizeTickInterval,k=o.objectEach,E=o.pick,I=o.relativeLength,T=o.removeEvent,D=o.splat,M=o.syncTimeout,O=r.defaultOptions,P=n.deg2rad;return t=function(){function t(t,e){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.oldMin=this.oldMax=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(t,e)}return t.prototype.init=function(t,e){var n=e.isX,i=this;i.chart=t,i.horiz=t.inverted&&!i.isZAxis?!n:n,i.isXAxis=n,i.coll=i.coll||(n?"xAxis":"yAxis"),m(this,"init",{userOptions:e}),i.opposite=e.opposite,i.side=e.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(e);var o=this.options,r=o.type;i.labelFormatter=o.labels.formatter||i.defaultLabelFormatter,i.userOptions=e,i.minPixelPadding=0,i.reversed=o.reversed,i.visible=!1!==o.visible,i.zoomEnabled=!1!==o.zoomEnabled,i.hasNames="category"===r||!0===o.categories,i.categories=o.categories||i.hasNames,i.names||(i.names=[],i.names.keys={}),i.plotLinesAndBandsGroups={},i.positiveValuesOnly=!!i.logarithmic,i.isLinked=d(o.linkedTo),i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=o.minRange||o.maxZoom,i.range=o.range,i.offset=o.offset||0,i.max=null,i.min=null,i.crosshair=E(o.crosshair,D(t.options.tooltip.crosshairs)[n?0:1],!1),e=i.options.events,-1===t.axes.indexOf(i)&&(n?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&!i.isZAxis&&n&&"undefined"===typeof i.reversed&&(i.reversed=!0),i.labelRotation=i.options.labels.rotation,k(e,(function(t,e){b(t)&&s(i,e,t)})),m(this,"afterInit")},t.prototype.setOptions=function(e){this.options=C(t.defaultOptions,"yAxis"===this.coll&&t.defaultYAxisOptions,[t.defaultTopAxisOptions,t.defaultRightAxisOptions,t.defaultBottomAxisOptions,t.defaultLeftAxisOptions][this.side],C(O[this.coll],e)),m(this,"afterSetOptions",{userOptions:e})},t.prototype.defaultLabelFormatter=function(){var t=this.axis,e=x(this.value)?this.value:NaN,n=t.chart.time,i=t.categories,o=this.dateTimeLabelFormat,r=O.lang,a=r.numericSymbols;r=r.numericSymbolMagnitude||1e3;var s=a&&a.length,l=t.options.labels.format;t=t.logarithmic?Math.abs(e):t.tickInterval;var u=this.chart,h=u.numberFormatter;if(l)var c=v(l,this,u);else if(i)c=""+this.value;else if(o)c=n.dateFormat(o,e);else if(s&&1e3<=t)for(;s--&&"undefined"===typeof c;)t>=(n=Math.pow(r,s+1))&&0===10*e%n&&null!==a[s]&&0!==e&&(c=h(e/n,-1)+a[s]);return"undefined"===typeof c&&(c=1e4<=Math.abs(e)?h(e,-1):h(e,-1,void 0,"")),c},t.prototype.getSeriesExtremes=function(){var t,e=this,n=e.chart;m(this,"getSeriesExtremes",null,(function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.stacking&&e.stacking.buildStacks(),e.series.forEach((function(i){if(i.visible||!n.options.chart.ignoreHiddenSeries){var o=i.options,r=o.threshold;if(e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=r&&(r=null),e.isXAxis){if((o=i.xData).length){o=e.logarithmic?o.filter(e.validatePositiveValue):o;var a=(t=i.getXExtremes(o)).min,s=t.max;x(a)||a instanceof Date||(o=o.filter(x),a=(t=i.getXExtremes(o)).min,s=t.max),o.length&&(e.dataMin=Math.min(E(e.dataMin,a),a),e.dataMax=Math.max(E(e.dataMax,s),s))}}else i=i.applyExtremes(),x(i.dataMin)&&(a=i.dataMin,e.dataMin=Math.min(E(e.dataMin,a),a)),x(i.dataMax)&&(s=i.dataMax,e.dataMax=Math.max(E(e.dataMax,s),s)),d(r)&&(e.threshold=r),(!o.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}}))})),m(this,"afterGetSeriesExtremes")},t.prototype.translate=function(t,e,n,i,o,r){var a=this.linkedParent||this,s=1,l=0,u=i?a.oldTransA:a.transA;i=i?a.oldMin:a.min;var h=a.minPixelPadding;return o=(a.isOrdinal||a.brokenAxis&&a.brokenAxis.hasBreaks||a.logarithmic&&o)&&a.lin2val,u||(u=a.transA),n&&(s*=-1,l=a.len),a.reversed&&(l-=(s*=-1)*(a.sector||a.len)),e?(t=(t*s+l-h)/u+i,o&&(t=a.lin2val(t))):(o&&(t=a.val2lin(t)),t=x(i)?s*(t-i)*u+l+s*h+(x(r)?u*r:0):void 0),t},t.prototype.toPixels=function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},t.prototype.toValue=function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},t.prototype.getPlotLinePath=function(t){function e(t,e,n){return("pass"!==v&&t<e||t>n)&&(v?t=h(t,e,n):a=!0),t}var n,i,o,r,a,s=this,l=s.chart,u=s.left,c=s.top,d=t.old,f=t.value,p=t.translatedValue,g=t.lineWidth,v=t.force,y=d&&l.oldChartHeight||l.chartHeight,_=d&&l.oldChartWidth||l.chartWidth,b=s.transB;return t={value:f,lineWidth:g,old:d,force:v,acrossPanes:t.acrossPanes,translatedValue:p},m(this,"getPlotLinePath",t,(function(t){p=E(p,s.translate(f,null,null,d)),p=h(p,-1e5,1e5),n=o=Math.round(p+b),i=r=Math.round(y-p-b),x(p)?s.horiz?(i=c,r=y-s.bottom,n=o=e(n,u,u+s.width)):(n=u,o=_-s.right,i=r=e(i,c,c+s.height)):(a=!0,v=!1),t.path=a&&!v?null:l.renderer.crispLine([["M",n,i],["L",o,r]],g||1)})),t.path},t.prototype.getLinearTickPositions=function(t,e,n){var i=c(Math.floor(e/t)*t);n=c(Math.ceil(n/t)*t);var o,r=[];if(c(i+t)===i&&(o=20),this.single)return[e];for(e=i;e<=n&&(r.push(e),(e=c(e+t,o))!==a);)var a=e;return r},t.prototype.getMinorTickInterval=function(){var t=this.options;return!0===t.minorTicks?E(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},t.prototype.getMinorTickPositions=function(){var t=this.options,e=this.tickPositions,n=this.minorTickInterval,i=[],o=this.pointRangePadding||0,r=this.min-o,a=(o=this.max+o)-r;if(a&&a/n<this.len/3){var s=this.logarithmic;if(s)this.paddedTicks.forEach((function(t,e,o){e&&i.push.apply(i,s.getLogTickPositions(n,o[e-1],o[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())i=i.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(n),r,o,t.startOfWeek));else for(t=r+(e[0]-r)%n;t<=o&&t!==i[0];t+=n)i.push(t)}return 0!==i.length&&this.trimTicks(i),i},t.prototype.adjustForMinRange=function(){var t,e,n,i,o=this.options,r=this.min,a=this.max,s=this.logarithmic;if(this.isXAxis&&"undefined"===typeof this.minRange&&!s&&(d(o.min)||d(o.max)?this.minRange=null:(this.series.forEach((function(o){for(i=o.xData,e=o.xIncrement?1:i.length-1;0<e;e--)n=i[e]-i[e-1],("undefined"===typeof t||n<t)&&(t=n)})),this.minRange=Math.min(5*t,this.dataMax-this.dataMin))),a-r<this.minRange){var h=this.dataMax-this.dataMin>=this.minRange,c=this.minRange,f=(c-a+r)/2;f=[r-f,E(o.min,r-f)],h&&(f[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),a=[(r=l(f))+c,E(o.max,r+c)],h&&(a[2]=s?s.log2lin(this.dataMax):this.dataMax),(a=u(a))-r<c&&(f[0]=a-c,f[1]=E(o.min,a-c),r=l(f))}this.min=r,this.max=a},t.prototype.getClosest=function(){var t;return this.categories?t=1:this.series.forEach((function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&d(n)&&i&&(t=d(t)?Math.min(t,n):n)})),t},t.prototype.nameToX=function(t){var e=_(this.categories),n=e?this.categories:this.names,i=t.options.x;if(t.series.requireSorting=!1,d(i)||(i=!1===this.options.uniqueNames?t.series.autoIncrement():e?n.indexOf(t.name):E(n.keys[t.name],-1)),-1===i){if(!e)var o=n.length}else o=i;return"undefined"!==typeof o&&(this.names[o]=t.name,this.names.keys[t.name]=o),o},t.prototype.updateNames=function(){var t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(n,i){if(n&&n.options&&"undefined"!==typeof n.name){var o=t.nameToX(n);"undefined"!==typeof o&&o!==n.x&&(n.x=o,e.xData[i]=o)}}))})))},t.prototype.setAxisTranslation=function(t){var e=this,n=e.max-e.min,i=e.axisPointRange||0,o=0,r=0,a=e.linkedParent,s=!!e.categories,l=e.transA,u=e.isXAxis;if(u||s||i){var h=e.getClosest();a?(o=a.minPointOffset,r=a.pointRangePadding):e.series.forEach((function(t){var n=s?1:u?E(t.options.pointRange,h,0):e.axisPointRange||0,a=t.options.pointPlacement;i=Math.max(i,n),e.single&&!s||(t=t.is("xrange")?!u:u,o=Math.max(o,t&&w(a)?0:n/2),r=Math.max(r,t&&"on"===a?0:n))})),a=e.ordinal&&e.ordinal.slope&&h?e.ordinal.slope/h:1,e.minPointOffset=o*=a,e.pointRangePadding=r*=a,e.pointRange=Math.min(i,e.single&&s?1:n),u&&(e.closestPointRange=h)}t&&(e.oldTransA=l),e.translationSlope=e.transA=l=e.staticScale||e.len/(n+r||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=l*o,m(this,"afterSetAxisTranslation")},t.prototype.minFromRange=function(){return this.max-this.range},t.prototype.setTickInterval=function(t){var e=this,n=e.chart,i=e.logarithmic,o=e.options,r=e.isXAxis,a=e.isLinked,s=o.maxPadding,l=o.minPadding,u=o.tickInterval,h=o.tickPixelInterval,f=e.categories,g=x(e.threshold)?e.threshold:null,v=e.softThreshold;e.dateTime||f||a||this.getTickAmount();var _=E(e.userMin,o.min),b=E(e.userMax,o.max);if(a){e.linkedParent=n[e.coll][o.linkedTo];var w=e.linkedParent.getExtremes();e.min=E(w.min,w.dataMin),e.max=E(w.max,w.dataMax),o.type!==e.linkedParent.options.type&&p(11,1,n)}else{if(v&&d(g))if(e.dataMin>=g)w=g,l=0;else if(e.dataMax<=g){var C=g;s=0}e.min=E(_,w,e.dataMin),e.max=E(b,C,e.dataMax)}i&&(e.positiveValuesOnly&&!t&&0>=Math.min(e.min,E(e.dataMin,e.min))&&p(10,1,n),e.min=c(i.log2lin(e.min),16),e.max=c(i.log2lin(e.max),16)),e.range&&d(e.max)&&(e.userMin=e.min=_=Math.max(e.dataMin,e.minFromRange()),e.userMax=b=e.max,e.range=null),m(e,"foundExtremes"),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),!(f||e.axisPointRange||e.stacking&&e.stacking.usePercentage||a)&&d(e.min)&&d(e.max)&&(n=e.max-e.min)&&(!d(_)&&l&&(e.min-=n*l),!d(b)&&s&&(e.max+=n*s)),x(e.userMin)||(x(o.softMin)&&o.softMin<e.min&&(e.min=_=o.softMin),x(o.floor)&&(e.min=Math.max(e.min,o.floor))),x(e.userMax)||(x(o.softMax)&&o.softMax>e.max&&(e.max=b=o.softMax),x(o.ceiling)&&(e.max=Math.min(e.max,o.ceiling))),v&&d(e.dataMin)&&(g=g||0,!d(_)&&e.min<g&&e.dataMin>=g?e.min=e.options.minRange?Math.min(g,e.max-e.minRange):g:!d(b)&&e.max>g&&e.dataMax<=g&&(e.max=e.options.minRange?Math.max(g,e.min+e.minRange):g)),e.tickInterval=e.min===e.max||"undefined"===typeof e.min||"undefined"===typeof e.max?1:a&&!u&&h===e.linkedParent.options.tickPixelInterval?u=e.linkedParent.tickInterval:E(u,this.tickAmount?(e.max-e.min)/Math.max(this.tickAmount-1,1):void 0,f?1:(e.max-e.min)*h/Math.max(e.len,h)),r&&!t&&e.series.forEach((function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)})),e.setAxisTranslation(!0),m(this,"initialAxisTranslation"),e.pointRange&&!u&&(e.tickInterval=Math.max(e.pointRange,e.tickInterval)),t=E(o.minTickInterval,e.dateTime&&!e.series.some((function(t){return t.noSharedTooltip}))?e.closestPointRange:0),!u&&e.tickInterval<t&&(e.tickInterval=t),e.dateTime||e.logarithmic||u||(e.tickInterval=S(e.tickInterval,void 0,y(e.tickInterval),E(o.allowDecimals,.5>e.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(e.tickInterval=e.unsquish()),this.setTickPositions()},t.prototype.setTickPositions=function(){var t=this.options,e=t.tickPositions,n=this.getMinorTickInterval(),i=t.tickPositioner,o=this.hasVerticalPanning(),r="colorAxis"===this.coll,a=(r||!o)&&t.startOnTick;o=(r||!o)&&t.endOnTick,this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n&&this.tickInterval?this.tickInterval/5:n,this.single=this.min===this.max&&d(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),this.tickPositions=n=e&&e.slice(),!n&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?n=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(n=[this.min,this.max],p(19,!1,this.chart)),n.length>this.len&&((n=[n[0],n.pop()])[0]===n[1]&&(n.length=1)),this.tickPositions=n,i&&(i=i.apply(this,[this.min,this.max])))&&(this.tickPositions=n=i),this.paddedTicks=n.slice(0),this.trimTicks(n,a,o),this.isLinked||(this.single&&2>n.length&&!this.categories&&!this.series.some((function(t){return t.is("heatmap")&&"between"===t.options.pointPlacement}))&&(this.min-=.5,this.max+=.5),e||i||this.adjustTickAmount()),m(this,"afterSetTickPositions")},t.prototype.trimTicks=function(t,e,n){var i=t[0],o=t[t.length-1],r=!this.isOrdinal&&this.minPointOffset||0;if(m(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==i)this.min=i;else for(;this.min-r>t[0];)t.shift();if(n)this.max=o;else for(;this.max+r<t[t.length-1];)t.pop();0===t.length&&d(i)&&!this.options.tickPositions&&t.push((o+i)/2)}},t.prototype.alignToOthers=function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.logarithmic||this.chart[this.coll].forEach((function(n){var i=n.options;i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join(),n.series.length&&(e[i]?t=!0:e[i]=1)})),t},t.prototype.getTickAmount=function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!d(t.tickInterval)&&!e&&this.len<n&&!this.isRadial&&!this.logarithmic&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},t.prototype.adjustTickAmount=function(){var t,e=this.options,n=this.tickInterval,i=this.tickPositions,o=this.tickAmount,r=this.finalTickAmt,a=i&&i.length,s=E(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<o){for(t=this.min;i.length<o;)i.length%2||t===s?i.push(c(i[i.length-1]+n)):i.unshift(c(i[0]-n));this.transA*=(a-1)/(o-1),this.min=e.startOnTick?i[0]:Math.min(this.min,i[0]),this.max=e.endOnTick?i[i.length-1]:Math.max(this.max,i[i.length-1])}else a>o&&(this.tickInterval*=2,this.setTickPositions());if(d(r)){for(n=e=i.length;n--;)(3===r&&1===n%2||2>=r&&0<n&&n<e-1)&&i.splice(n,1);this.finalTickAmt=void 0}}},t.prototype.setScale=function(){var t,e=!1,n=!1;this.series.forEach((function(t){var i;e=e||t.isDirtyData||t.isDirty,n=n||(null===(i=t.xAxis)||void 0===i?void 0:i.isDirty)||!1})),this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),(t=this.len!==this.oldAxisLength)||e||n||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.stacking&&this.stacking.cleanStacks(),e&&this.panningState&&(this.panningState.isDirty=!0),m(this,"afterSetScale")},t.prototype.setExtremes=function(t,e,n,i,o){var r=this,a=r.chart;n=E(n,!0),r.series.forEach((function(t){delete t.kdTree})),o=g(o,{min:t,max:e}),m(r,"setExtremes",o,(function(){r.userMin=t,r.userMax=e,r.eventArgs=o,n&&a.redraw(i)}))},t.prototype.zoom=function(t,e){var n=this,i=this.dataMin,o=this.dataMax,r=this.options,a=Math.min(i,E(r.min,i)),s=Math.max(o,E(r.max,o));return m(this,"zoom",t={newMin:t,newMax:e},(function(t){var e=t.newMin,r=t.newMax;e===n.min&&r===n.max||(n.allowZoomOutside||(d(i)&&(e<a&&(e=a),e>s&&(e=s)),d(o)&&(r<a&&(r=a),r>s&&(r=s))),n.displayBtn="undefined"!==typeof e||"undefined"!==typeof r,n.setExtremes(e,r,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed},t.prototype.setAxisSize=function(){var t=this.chart,e=this.options,n=e.offsets||[0,0,0,0],i=this.horiz,o=this.width=Math.round(I(E(e.width,t.plotWidth-n[3]+n[1]),t.plotWidth)),r=this.height=Math.round(I(E(e.height,t.plotHeight-n[0]+n[2]),t.plotHeight)),a=this.top=Math.round(I(E(e.top,t.plotTop+n[0]),t.plotHeight,t.plotTop));e=this.left=Math.round(I(E(e.left,t.plotLeft+n[3]),t.plotWidth,t.plotLeft)),this.bottom=t.chartHeight-r-a,this.right=t.chartWidth-o-e,this.len=Math.max(i?o:r,0),this.pos=i?e:a},t.prototype.getExtremes=function(){var t=this.logarithmic;return{min:t?c(t.lin2log(this.min)):this.min,max:t?c(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},t.prototype.getThreshold=function(t){var e=this.logarithmic,n=e?e.lin2log(this.min):this.min;return e=e?e.lin2log(this.max):this.max,null===t||-1/0===t?t=n:1/0===t?t=e:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},t.prototype.autoLabelAlign=function(t){var e=(E(t,0)-90*this.side+720)%360;return m(this,"autoLabelAlign",t={align:"center"},(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align},t.prototype.tickSize=function(t){var e=this.options,n=e["tick"===t?"tickLength":"minorTickLength"],i=E(e["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0);if(i&&n){"inside"===e[t+"Position"]&&(n=-n);var o=[n,i]}return m(this,"afterTickSize",t={tickSize:o}),t.tickSize},t.prototype.labelMetrics=function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},t.prototype.unsquish=function(){var t,e,n,i=this.options.labels,o=this.horiz,r=this.tickInterval,a=r,s=this.len/(((this.categories?1:0)+this.max-this.min)/r),l=i.rotation,u=this.labelMetrics(),h=Number.MAX_VALUE,f=this.max-this.min,p=function(t){var e=t/(s||1);return(e=1<e?Math.ceil(e):1)*r>f&&1/0!==t&&1/0!==s&&f&&(e=Math.ceil(f/r)),c(e*r)};return o?(n=!i.staggerLines&&!i.step&&(d(l)?[l]:s<E(i.autoRotationLimit,80)&&i.autoRotation))&&n.forEach((function(n){if(n===l||n&&-90<=n&&90>=n){var i=(e=p(Math.abs(u.h/Math.sin(P*n))))+Math.abs(n/360);i<h&&(h=i,t=n,a=e)}})):i.step||(a=p(u.h)),this.autoRotation=n,this.labelRotation=E(t,l),a},t.prototype.getSlotWidth=function(t){var e,n=this.chart,i=this.horiz,o=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),a=n.margin[3];if(t&&x(t.slotWidth))return t.slotWidth;if(i&&o&&2>(o.step||0))return o.rotation?0:(this.staggerLines||1)*this.len/r;if(!i){if(void 0!==(t=null===(e=null===o||void 0===o?void 0:o.style)||void 0===e?void 0:e.width))return parseInt(t,10);if(a)return a-n.spacing[3]}return.33*n.chartWidth},t.prototype.renderUnsquish=function(){var t=this.chart,e=t.renderer,n=this.tickPositions,i=this.ticks,o=this.options.labels,r=o&&o.style||{},a=this.horiz,s=this.getSlotWidth(),l=Math.max(1,Math.round(s-2*(o.padding||5))),u={},h=this.labelMetrics(),c=o.style&&o.style.textOverflow,d=0;if(w(o.rotation)||(u.rotation=o.rotation||0),n.forEach((function(t){(t=i[t]).movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>d&&(d=t.label.textPxLength)})),this.maxLabelLength=d,this.autoRotation)d>l&&d>h.h?u.rotation=this.labelRotation:this.labelRotation=0;else if(s){var f=l;if(!c){var p="clip";for(l=n.length;!a&&l--;){var g=n[l];(g=i[g].label)&&(g.styles&&"ellipsis"===g.styles.textOverflow?g.css({textOverflow:"clip"}):g.textPxLength>s&&g.css({width:s+"px"}),g.getBBox().height>this.len/n.length-(h.h-h.f)&&(g.specificTextOverflow="ellipsis"))}}}u.rotation&&(f=d>.5*t.chartHeight?.33*t.chartHeight:d,c||(p="ellipsis")),(this.labelAlign=o.align||this.autoLabelAlign(this.labelRotation))&&(u.align=this.labelAlign),n.forEach((function(t){var e=(t=i[t])&&t.label,n=r.width,o={};e&&(e.attr(u),t.shortenLabel?t.shortenLabel():f&&!n&&"nowrap"!==r.whiteSpace&&(f<e.textPxLength||"SPAN"===e.element.tagName)?(o.width=f+"px",c||(o.textOverflow=e.specificTextOverflow||p),e.css(o)):e.styles&&e.styles.width&&!o.width&&!n&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=u.rotation)}),this),this.tickRotCorr=e.rotCorr(h.b,this.labelRotation||0,0!==this.side)},t.prototype.hasData=function(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&d(this.min)&&d(this.max)},t.prototype.addTitle=function(t){var e,n=this.chart.renderer,i=this.horiz,o=this.opposite,r=this.options.title,a=this.chart.styledMode;this.axisTitle||((e=r.textAlign)||(e=(i?{low:"left",middle:"center",high:"right"}:{low:o?"right":"left",middle:"center",high:o?"left":"right"})[r.align]),this.axisTitle=n.text(r.text,0,0,r.useHTML).attr({zIndex:7,rotation:r.rotation||0,align:e}).addClass("highcharts-axis-title"),a||this.axisTitle.css(C(r.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),a||r.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)},t.prototype.generateTick=function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new i(this,t)},t.prototype.getOffset=function(){var t,e=this,n=e.chart,i=n.renderer,o=e.options,r=e.tickPositions,a=e.ticks,s=e.horiz,l=e.side,u=n.inverted&&!e.isZAxis?[1,0,3,2][l]:l,h=0,c=0,f=o.title,p=o.labels,g=0,v=n.axisOffset;n=n.clipOffset;var y=[-1,1,1,-1][l],_=o.className,b=e.axisParent,x=e.hasData();if(e.showAxis=t=x||E(o.showEmpty,!0),e.staggerLines=e.horiz&&p.staggerLines,e.axisGroup||(e.gridGroup=i.g("grid").attr({zIndex:o.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(_||"")).add(b),e.axisGroup=i.g("axis").attr({zIndex:o.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(_||"")).add(b),e.labelGroup=i.g("axis-labels").attr({zIndex:p.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels "+(_||"")).add(b)),x||e.isLinked?(r.forEach((function(t,n){e.generateTick(t,n)})),e.renderUnsquish(),e.reserveSpaceDefault=0===l||2===l||{1:"left",3:"right"}[l]===e.labelAlign,E(p.reserveSpace,"center"===e.labelAlign||null,e.reserveSpaceDefault)&&r.forEach((function(t){g=Math.max(a[t].getLabelSize(),g)})),e.staggerLines&&(g*=e.staggerLines),e.labelOffset=g*(e.opposite?-1:1)):k(a,(function(t,e){t.destroy(),delete a[e]})),f&&f.text&&!1!==f.enabled&&(e.addTitle(t),t&&!1!==f.reserveSpace)){e.titleOffset=h=e.axisTitle.getBBox()[s?"height":"width"];var w=f.offset;c=d(w)?0:E(f.margin,s?5:10)}e.renderLine(),e.offset=y*E(o.offset,v[l]?v[l]+(o.margin||0):0),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},i=0===l?-e.labelMetrics().h:2===l?e.tickRotCorr.y:0,c=Math.abs(g)+c,g&&(c=c-i+y*(s?E(p.y,e.tickRotCorr.y+8*y):p.x)),e.axisTitleMargin=E(w,c),e.getMaxLabelDimensions&&(e.maxLabelDimensions=e.getMaxLabelDimensions(a,r)),s=this.tickSize("tick"),v[l]=Math.max(v[l],e.axisTitleMargin+h+y*e.offset,c,r&&r.length&&s?s[0]+y*e.offset:0),o=o.offset?0:2*Math.floor(e.axisLine.strokeWidth()/2),n[u]=Math.max(n[u],o),m(this,"afterGetOffset")},t.prototype.getLinePath=function(t){var e=this.chart,n=this.opposite,i=this.offset,o=this.horiz,r=this.left+(n?this.width:0)+i;return i=e.chartHeight-this.bottom-(n?this.height:0)+i,n&&(t*=-1),e.renderer.crispLine([["M",o?this.left:r,o?i:this.top],["L",o?e.chartWidth-this.right:r,o?i:e.chartHeight-this.bottom]],t)},t.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},t.prototype.getTitlePosition=function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,o=this.options.title,r=t?e:n,a=this.opposite,s=this.offset,l=o.x||0,u=o.y||0,h=this.axisTitle,c=this.chart.renderer.fontMetrics(o.style&&o.style.fontSize,h);return h=Math.max(h.getBBox(null,0).height-c.h-1,0),i={low:r+(t?0:i),middle:r+i/2,high:r+(t?i:0)}[o.align],e=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+[-h,h,c.f,-h][this.side],t={x:t?i+l:e+(a?this.width:0)+s+l,y:t?e+u-(a?this.height:0)+s:i+u},m(this,"afterGetTitlePosition",{titlePosition:t}),t},t.prototype.renderMinorTick=function(t){var e=this.chart.hasRendered&&x(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new i(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},t.prototype.renderTick=function(t,e){var n,o=this.isLinked,r=this.ticks,a=this.chart.hasRendered&&x(this.oldMin);(!o||t>=this.min&&t<=this.max||null!==(n=this.grid)&&void 0!==n&&n.isColumn)&&(r[t]||(r[t]=new i(this,t)),a&&r[t].isNew&&r[t].render(e,!0,-1),r[t].render(e))},t.prototype.render=function(){var t,e,o=this,r=o.chart,s=o.logarithmic,l=o.options,u=o.isLinked,h=o.tickPositions,c=o.axisTitle,d=o.ticks,f=o.minorTicks,p=o.alternateBands,g=l.stackLabels,v=l.alternateGridColor,y=o.tickmarkOffset,_=o.axisLine,b=o.showAxis,w=a(r.renderer.globalAnimation);o.labelEdge.length=0,o.overlap=!1,[d,f,p].forEach((function(t){k(t,(function(t){t.isActive=!1}))})),(o.hasData()||u)&&(o.minorTickInterval&&!o.categories&&o.getMinorTickPositions().forEach((function(t){o.renderMinorTick(t)})),h.length&&(h.forEach((function(t,e){o.renderTick(t,e)})),y&&(0===o.min||o.single)&&(d[-1]||(d[-1]=new i(o,-1,null,!0)),d[-1].render(-1))),v&&h.forEach((function(i,a){e="undefined"!==typeof h[a+1]?h[a+1]+y:o.max-y,0===a%2&&i<o.max&&e<=o.max+(r.polar?-y:y)&&(p[i]||(p[i]=new n.PlotLineOrBand(o)),t=i+y,p[i].options={from:s?s.lin2log(t):t,to:s?s.lin2log(e):e,color:v,className:"highcharts-alternate-grid"},p[i].render(),p[i].isActive=!0)})),o._addedPlotLB||((l.plotLines||[]).concat(l.plotBands||[]).forEach((function(t){o.addPlotBandOrLine(t)})),o._addedPlotLB=!0)),[d,f,p].forEach((function(t){var e,n=[],i=w.duration;k(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))})),M((function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])}),t!==p&&r.hasRendered&&i?i:0)})),_&&(_[_.isPlaced?"animate":"attr"]({d:this.getLinePath(_.strokeWidth())}),_.isPlaced=!0,_[b?"show":"hide"](b)),c&&b&&(l=o.getTitlePosition(),x(l.y)?(c[c.isNew?"attr":"animate"](l),c.isNew=!1):(c.attr("y",-9999),c.isNew=!0)),g&&g.enabled&&o.stacking&&o.stacking.renderStackTotals(),o.isDirty=!1,m(this,"afterRender")},t.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))},t.prototype.getKeepProps=function(){return this.keepProps||t.keepProps},t.prototype.destroy=function(t){var e,n=this,i=n.plotLinesAndBands;if(m(this,"destroy",{keepEvents:t}),t||T(n),[n.ticks,n.minorTicks,n.alternateBands].forEach((function(t){f(t)})),i)for(t=i.length;t--;)i[t].destroy();for(e in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){n[t]&&(n[t]=n[t].destroy())})),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();k(n,(function(t,e){-1===n.getKeepProps().indexOf(e)&&delete n[e]}))},t.prototype.drawCrosshair=function(t,n){var i,o=this.crosshair,r=E(o.snap,!0),a=this.cross,s=this.chart;if(m(this,"drawCrosshair",{e:t,point:n}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(d(n)||!r)){if(r?d(n)&&(i=E("colorAxis"!==this.coll?n.crosshairPos:null,this.isXAxis?n.plotX:this.len-n.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),d(i)){var l={value:n&&(this.isXAxis?n.x:E(n.stackY,n.y)),translatedValue:i};s.polar&&g(l,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:n}),l=this.getPlotLinePath(l)||null}if(!d(l))return void this.hideCrosshair();r=this.categories&&!this.isRadial,a||(this.cross=a=s.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+o.className).attr({zIndex:E(o.zIndex,2)}).add(),s.styledMode||(a.attr({stroke:o.color||(r?e.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":E(o.width,1)}).css({"pointer-events":"none"}),o.dashStyle&&a.attr({dashstyle:o.dashStyle}))),a.show().attr({d:l}),r&&!o.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();m(this,"afterDrawCrosshair",{e:t,point:n})},t.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),m(this,"afterHideCrosshair")},t.prototype.hasVerticalPanning=function(){var t,e;return/y/.test((null===(e=null===(t=this.chart.options.chart)||void 0===t?void 0:t.panning)||void 0===e?void 0:e.type)||"")},t.prototype.validatePositiveValue=function(t){return x(t)&&0<t},t.defaultOptions={dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,showEmpty:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},t.defaultYAxisOptions={endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},t.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},t.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},t.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},t.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},t.keepProps="extKey hcEvents names series userMax userMin".split(" "),t}(),n.Axis=t,n.Axis})),e(n,"Core/Axis/DateTimeAxis.js",[n["Core/Axis/Axis.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.addEvent,i=e.getMagnitude,o=e.normalizeTickInterval,r=e.timeUnits,a=function(){function t(t){this.axis=t}return t.prototype.normalizeTimeTickInterval=function(t,e){var n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=n[n.length-1];var a,s=r[e[0]],l=e[1];for(a=0;a<n.length&&(e=n[a],s=r[e[0]],l=e[1],!(n[a+1]&&t<=(s*l[l.length-1]+r[n[a+1][0]])/2));a++);return s===r.year&&t<5*s&&(l=[1,2,5]),{unitRange:s,count:t=o(t/s,l,"year"===e[0]?Math.max(i(t/s),1):1),unitName:e[0]}},t}();return(e=function(){function t(){}return t.compose=function(t){t.keepProps.push("dateTime"),t.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},n(t,"init",(function(t){"datetime"!==t.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new a(this))}))},t.AdditionsClass=a,t}()).compose(t),e})),e(n,"Core/Axis/LogarithmicAxis.js",[n["Core/Axis/Axis.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.addEvent,i=e.getMagnitude,o=e.normalizeTickInterval,r=e.pick,a=function(){function t(t){this.axis=t}return t.prototype.getLogTickPositions=function(t,e,n,a){var s=this.axis,l=s.len,u=s.options,h=[];if(a||(this.minorAutoInterval=void 0),.5<=t)t=Math.round(t),h=s.getLinearTickPositions(t,e,n);else if(.08<=t){var c,d;for(u=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<n+1&&!d;u++){var f=l.length;for(c=0;c<f&&!d;c++){var p=this.log2lin(this.lin2log(u)*l[c]);p>e&&(!a||g<=n)&&"undefined"!==typeof g&&h.push(g),g>n&&(d=!0);var g=p}}}else e=this.lin2log(e),n=this.lin2log(n),t=a?s.getMinorTickInterval():u.tickInterval,t=r("auto"===t?null:t,this.minorAutoInterval,u.tickPixelInterval/(a?5:1)*(n-e)/((a?l/s.tickPositions.length:l)||1)),t=o(t,void 0,i(t)),h=s.getLinearTickPositions(t,e,n).map(this.log2lin),a||(this.minorAutoInterval=t/5);return a||(s.tickInterval=t),h},t.prototype.lin2log=function(t){return Math.pow(10,t)},t.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},t}();return(e=function(){function t(){}return t.compose=function(t){t.keepProps.push("logarithmic");var e=t.prototype,i=a.prototype;e.log2lin=i.log2lin,e.lin2log=i.lin2log,n(t,"init",(function(t){var e=this.logarithmic;"logarithmic"!==t.userOptions.type?this.logarithmic=void 0:(e||(e=this.logarithmic=new a(this)),this.log2lin!==e.log2lin&&(e.log2lin=this.log2lin.bind(this)),this.lin2log!==e.lin2log&&(e.lin2log=this.lin2log.bind(this)))})),n(t,"afterInit",(function(){var t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}))},t}()).compose(t),e})),e(n,"Core/Axis/PlotLineOrBand.js",[n["Core/Axis/Axis.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){var i=n.arrayMax,o=n.arrayMin,r=n.defined,a=n.destroyObjectProperties,s=n.erase,l=n.extend,u=n.merge,h=n.objectEach,c=n.pick;return n=function(){function t(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}return t.prototype.render=function(){e.fireEvent(this,"render");var t=this,n=t.axis,i=n.horiz,o=n.logarithmic,a=t.options,s=a.label,l=t.label,d=a.to,f=a.from,p=a.value,g=r(f)&&r(d),m=r(p),v=t.svgElem,y=!v,_=[],b=a.color,x=c(a.zIndex,0),w=a.events;_={class:"highcharts-plot-"+(g?"band ":"line ")+(a.className||"")};var C={},S=n.chart.renderer,k=g?"bands":"lines";if(o&&(f=o.log2lin(f),d=o.log2lin(d),p=o.log2lin(p)),n.chart.styledMode||(m?(_.stroke=b||"#999999",_["stroke-width"]=c(a.width,1),a.dashStyle&&(_.dashstyle=a.dashStyle)):g&&(_.fill=b||"#e6ebf5",a.borderWidth&&(_.stroke=a.borderColor,_["stroke-width"]=a.borderWidth))),C.zIndex=x,k+="-"+x,(o=n.plotLinesAndBandsGroups[k])||(n.plotLinesAndBandsGroups[k]=o=S.g("plot-"+k).attr(C).add()),y&&(t.svgElem=v=S.path().attr(_).add(o)),m)_=n.getPlotLinePath({value:p,lineWidth:v.strokeWidth(),acrossPanes:a.acrossPanes});else{if(!g)return;_=n.getPlotBandPath(f,d,a)}return!t.eventsAdded&&w&&(h(w,(function(e,n){v.on(n,(function(e){w[n].apply(t,[e])}))})),t.eventsAdded=!0),(y||!v.d)&&_&&_.length?v.attr({d:_}):v&&(_?(v.show(!0),v.animate({d:_})):v.d&&(v.hide(),l&&(t.label=l=l.destroy()))),s&&(r(s.text)||r(s.formatter))&&_&&_.length&&0<n.width&&0<n.height&&!_.isFlat?(s=u({align:i&&g&&"center",x:i?!g&&4:10,verticalAlign:!i&&g&&"middle",y:i?g?16:10:g?6:-4,rotation:i&&!g&&90},s),this.renderLabel(s,_,g,x)):l&&l.hide(),t},t.prototype.renderLabel=function(t,e,n,r){var a=this.label,s=this.axis.chart.renderer;a||((a={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(t.className||"")}).zIndex=r,r=this.getLabelText(t),this.label=a=s.text(r,0,0,t.useHTML).attr(a).add(),this.axis.chart.styledMode||a.css(t.style)),s=e.xBounds||[e[0][1],e[1][1],n?e[2][1]:e[0][1]],e=e.yBounds||[e[0][2],e[1][2],n?e[2][2]:e[0][2]],n=o(s),r=o(e),a.align(t,!1,{x:n,y:r,width:i(s)-n,height:i(e)-r}),a.show(!0)},t.prototype.getLabelText=function(t){return r(t.formatter)?t.formatter.call(this):t.text},t.prototype.destroy=function(){s(this.axis.plotLinesAndBands,this),delete this.axis,a(this)},t}(),l(t.prototype,{getPlotBandPath:function(t,e,n){void 0===n&&(n=this.options);var i=this.getPlotLinePath({value:e,force:!0,acrossPanes:n.acrossPanes});n=this.getPlotLinePath({value:t,force:!0,acrossPanes:n.acrossPanes});var o=[],r=this.horiz,a=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,n&&i){if(t){var s=n.toString()===i.toString();a=0}for(t=0;t<n.length;t+=2){e=n[t];var l=n[t+1],u=i[t],h=i[t+1];"M"!==e[0]&&"L"!==e[0]||"M"!==l[0]&&"L"!==l[0]||"M"!==u[0]&&"L"!==u[0]||"M"!==h[0]&&"L"!==h[0]||(r&&u[1]===e[1]?(u[1]+=a,h[1]+=a):r||u[2]!==e[2]||(u[2]+=a,h[2]+=a),o.push(["M",e[1],e[2]],["L",l[1],l[2]],["L",h[1],h[2]],["L",u[1],u[2]],["Z"])),o.isFlat=s}}return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,n){var i=new e.PlotLineOrBand(this,t),o=this.userOptions;if(this.visible&&(i=i.render()),i){if(n){var r=o[n]||[];r.push(t),o[n]=r}this.plotLinesAndBands.push(i),this._addedPlotLB=!0}return i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();[n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]].forEach((function(e){for(o=e.length;o--;)(e[o]||{}).id===t&&s(e,e[o])}))},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}}),e.PlotLineOrBand=n,e.PlotLineOrBand})),e(n,"Core/Tooltip.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){var n=t.doc,i=e.clamp,o=e.css,r=e.defined,a=e.discardElement,s=e.extend,l=e.fireEvent,u=e.format,h=e.isNumber,c=e.isString,d=e.merge,f=e.pick,p=e.splat,g=e.syncTimeout,m=e.timeUnits,v=function(){function v(t,e){this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}return v.prototype.applyFilter=function(){var t=this.chart;t.renderer.definition({tagName:"filter",id:"drop-shadow-"+t.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),t.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+t.index+"{filter:url(#drop-shadow-"+t.index+")}"})},v.prototype.bodyFormatter=function(t){return t.map((function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))},v.prototype.cleanSplit=function(t){this.chart.series.forEach((function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)}))},v.prototype.defaultFormatter=function(t){var e=this.points||p(this),n=[t.tooltipFooterHeaderFormatter(e[0])];return(n=n.concat(t.bodyFormatter(e))).push(t.tooltipFooterHeaderFormatter(e[0],!0)),n},v.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),a(this.container)),e.clearTimeout(this.hideTimer),e.clearTimeout(this.tooltipTimeout)},v.prototype.getAnchor=function(t,e){var n,i,o=this.chart,r=o.pointer,a=o.inverted,s=o.plotTop,l=o.plotLeft,u=0,h=0;return t=p(t),this.followPointer&&e?("undefined"===typeof e.chartX&&(e=r.normalize(e)),t=[e.chartX-l,e.chartY-s]):t[0].tooltipPos?t=t[0].tooltipPos:(t.forEach((function(t){n=t.series.yAxis,i=t.series.xAxis,u+=t.plotX+(!a&&i?i.left-l:0),h+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!a&&n?n.top-s:0)})),u/=t.length,h/=t.length,t=[a?o.plotWidth-h:u,this.shared&&!a&&1<t.length&&e?e.chartY-s:a?o.plotHeight-u:h]),t.map(Math.round)},v.prototype.getDateFormat=function(t,e,n,i){var o=this.chart.time,r=o.dateFormat("%m-%d %H:%M:%S.%L",e),a={millisecond:15,second:12,minute:9,hour:6,day:3},s="millisecond";for(l in m){if(t===m.week&&+o.dateFormat("%w",e)===n&&"00:00:00.000"===r.substr(6)){var l="week";break}if(m[l]>t){l=s;break}if(a[l]&&r.substr(a[l])!=="01-01 00:00:00.000".substr(a[l]))break;"week"!==l&&(s=l)}if(l)var u=o.resolveDTLFormat(i[l]).main;return u},v.prototype.getLabel=function(){var e,n,i,a=this,s=this.chart.renderer,l=this.chart.styledMode,u=this.options,h="tooltip"+(r(u.className)?" "+u.className:""),c=(null===(e=u.style)||void 0===e?void 0:e.pointerEvents)||(!this.followPointer&&u.stickOnContact?"auto":"none");e=function(){a.inContact=!0};if(!this.label){if(this.outside&&(this.container=i=t.doc.createElement("div"),i.className="highcharts-tooltip-container",o(i,{position:"absolute",top:"1px",pointerEvents:c,zIndex:3}),t.doc.body.appendChild(i),this.renderer=s=new t.Renderer(i,0,0,null===(n=this.chart.options.chart)||void 0===n?void 0:n.style,void 0,void 0,s.styledMode)),this.split?this.label=s.g(h):(this.label=s.label("",0,0,u.shape||"callout",null,null,u.useHTML,null,h).attr({padding:u.padding,r:u.borderRadius}),l||this.label.attr({fill:u.backgroundColor,"stroke-width":u.borderWidth}).css(u.style).css({pointerEvents:c}).shadow(u.shadow)),l&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index)),a.outside&&!a.split){var d=this.label,f=d.xSetter,p=d.ySetter;d.xSetter=function(t){f.call(d,a.distance),i.style.left=t+"px"},d.ySetter=function(t){p.call(d,a.distance),i.style.top=t+"px"}}this.label.on("mouseenter",e).on("mouseleave",(function(){var t=a.chart.hoverSeries;a.inContact=!1,t&&t.onMouseOut&&t.onMouseOut()})).attr({zIndex:8}).add()}return this.label},v.prototype.getPosition=function(t,e,i){var o,r=this.chart,a=this.distance,s={},l=r.inverted&&i.h||0,u=this.outside,h=u?n.documentElement.clientWidth-2*a:r.chartWidth,c=u?Math.max(n.body.scrollHeight,n.documentElement.scrollHeight,n.body.offsetHeight,n.documentElement.offsetHeight,n.documentElement.clientHeight):r.chartHeight,d=r.pointer.getChartPosition(),p=r.containerScaling,g=function(t){return p?t*p.scaleX:t},m=function(t){return p?t*p.scaleY:t},v=function(n){var o="x"===n;return[n,o?h:c,o?t:e].concat(u?[o?g(t):m(e),o?d.left-a+g(i.plotX+r.plotLeft):d.top-a+m(i.plotY+r.plotTop),0,o?h:c]:[o?t:e,o?i.plotX+r.plotLeft:i.plotY+r.plotTop,o?r.plotLeft:r.plotTop,o?r.plotLeft+r.plotWidth:r.plotTop+r.plotHeight])},y=v("y"),_=v("x"),b=!this.followPointer&&f(i.ttBelow,!r.inverted===!!i.negative),x=function(t,e,n,i,o,r,u){var h="y"===t?m(a):g(a),c=(n-i)/2,d=i<o-a,f=o+a+i<e,p=o-h-n+c;if(o=o+h-c,b&&f)s[t]=o;else if(!b&&d)s[t]=p;else if(d)s[t]=Math.min(u-i,0>p-l?p:p-l);else{if(!f)return!1;s[t]=Math.max(r,o+l+n>e?o:o+l)}},w=function(t,e,n,i,o){var r;return o<a||o>e-a?r=!1:s[t]=o<n/2?1:o>e-i/2?e-i-2:o-n/2,r},C=function(t){var e=y;y=_,_=e,o=t};return(r.inverted||1<this.len)&&C(),function t(){!1!==x.apply(0,y)?!1!==w.apply(0,_)||o||(C(!0),t()):o?s.x=s.y=0:(C(!0),t())}(),s},v.prototype.getXDateFormat=function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},v.prototype.hide=function(t){var n=this;e.clearTimeout(this.hideTimer),t=f(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=g((function(){n.getLabel().fadeOut(t?void 0:t),n.isHidden=!0}),t))},v.prototype.init=function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=f(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))},v.prototype.isStickyOnContact=function(){return!(this.followPointer||!this.options.stickOnContact||!this.inContact)},v.prototype.move=function(t,n,i,o){var r=this,a=r.now,l=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(t-a.x)||1<Math.abs(n-a.y)),u=r.followPointer||1<r.len;s(a,{x:l?(2*a.x+t)/3:t,y:l?(a.y+n)/2:n,anchorX:u?void 0:l?(2*a.anchorX+i)/3:i,anchorY:u?void 0:l?(a.anchorY+o)/2:o}),r.getLabel().attr(a),r.drawTracker(),l&&(e.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){r&&r.move(t,n,i,o)}),32))},v.prototype.refresh=function(t,n){var i=this.chart,o=this.options,r=t,a={},s=[],u=o.formatter||this.defaultFormatter;a=this.shared;var h=i.styledMode;if(o.enabled){e.clearTimeout(this.hideTimer),this.followPointer=p(r)[0].series.tooltipOptions.followPointer;var c=this.getAnchor(r,n);n=c[0];var d=c[1];!a||r.series&&r.series.noSharedTooltip?a=r.getLabelConfig():(i.pointer.applyInactiveState(r),r.forEach((function(t){t.setState("hover"),s.push(t.getLabelConfig())})),(a={x:r[0].category,y:r[0].y}).points=s,r=r[0]),this.len=s.length,i=u.call(a,this),u=r.series,this.distance=f(u.tooltipOptions.distance,16),!1===i?this.hide():(this.split?this.renderSplit(i,p(t)):(t=this.getLabel(),o.style.width&&!h||t.css({width:this.chart.spacingBox.width+"px"}),t.attr({text:i&&i.join?i.join(""):i}),t.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+f(r.colorIndex,u.colorIndex)),h||t.attr({stroke:o.borderColor||r.color||u.color||"#666666"}),this.updatePosition({plotX:n,plotY:d,negative:r.negative,ttBelow:r.ttBelow,h:c[2]||0})),this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1),l(this,"refresh")}},v.prototype.renderSplit=function(e,n){function o(t,e,n,o,r){return void 0===r&&(r=!0),n?(e=E?0:D,t=i(t-o/2,S.left,S.right-o)):(e-=I,t=i(t=r?t-o-x:t+x,r?t:S.left,S.right)),{x:t,y:e}}var r=this,a=r.chart,l=r.chart,u=l.plotHeight,h=l.plotLeft,d=l.plotTop,p=l.pointer,g=l.renderer,m=l.scrollablePixelsY,v=void 0===m?0:m,y=(m=void 0===(m=l.scrollingContainer)?{scrollLeft:0,scrollTop:0}:m).scrollLeft,_=m.scrollTop,b=l.styledMode,x=r.distance,w=r.options,C=r.options.positioner,S={left:y,right:y+l.chartWidth,top:_,bottom:_+l.chartHeight},k=r.getLabel(),E=!(!a.xAxis[0]||!a.xAxis[0].opposite),I=d+_,T=0,D=u-v;c(e)&&(e=[!1,e]),e=e.slice(0,n.length+1).reduce((function(t,e,a){if(!1!==e&&""!==e){var s=(a=n[a-1]||{isHeader:!0,plotX:n[0].plotX,plotY:u,series:{}}).isHeader,l=s?r:a.series,c=l.tt,p=a.isHeader,m=a.series,y="highcharts-color-"+f(a.colorIndex,m.colorIndex,"none");c||(c={padding:w.padding,r:w.borderRadius},b||(c.fill=w.backgroundColor,c["stroke-width"]=w.borderWidth),c=g.label("",0,0,w[p?"headerShape":"shape"]||"callout",void 0,void 0,w.useHTML).addClass((p?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+y).attr(c).add(k)),c.isActive=!0,c.attr({text:e}),b||c.css(w.style).shadow(w.shadow).attr({stroke:w.borderColor||a.color||m.color||"#333333"}),e=l.tt=c,l=(p=e.getBBox()).width+e.strokeWidth(),s&&(T=p.height,D+=T,E&&(I-=T)),m=void 0===(m=a.plotX)?0:m,y=void 0===(y=a.plotY)?0:y;var M=a.series;if(a.isHeader){m=h+m;var O=d+u/2}else c=M.xAxis,M=M.yAxis,m=c.pos+i(m,-x,c.len+x),M.pos+y>=_+d&&M.pos+y<=_+d+u-v&&(O=M.pos+y);m=i(m,S.left-x,S.right+x),"number"===typeof O?(p=p.height+1,y=C?C.call(r,l,p,a):o(m,O,s,l),t.push({align:C?0:void 0,anchorX:m,anchorY:O,boxWidth:l,point:a,rank:f(y.rank,s?1:0),size:p,target:y.y,tt:e,x:y.x})):e.isActive=!1}return t}),[]),!C&&e.some((function(t){return t.x<S.left}))&&(e=e.map((function(t){var e=o(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return s(t,{target:e.y,x:e.x})}))),r.cleanSplit(),t.distribute(e,D),e.forEach((function(t){var e=t.pos;t.tt.attr({visibility:"undefined"===typeof e?"hidden":"inherit",x:t.x,y:e+I,anchorX:t.anchorX,anchorY:t.anchorY})})),e=r.container,a=r.renderer,r.outside&&e&&a&&(l=k.getBBox(),a.setSize(l.width+l.x,l.height+l.y,!1),p=p.getChartPosition(),e.style.left=p.left+"px",e.style.top=p.top+"px")},v.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var t=this.chart,e=this.label,n=t.hoverPoint;if(e&&n){var i={x:0,y:0,width:0,height:0};n=this.getAnchor(n);var o=e.getBBox();n[0]+=t.plotLeft-e.translateX,n[1]+=t.plotTop-e.translateY,i.x=Math.min(0,n[0]),i.y=Math.min(0,n[1]),i.width=0>n[0]?Math.max(Math.abs(n[0]),o.width-n[0]):Math.max(Math.abs(n[0]),o.width),i.height=0>n[1]?Math.max(Math.abs(n[1]),o.height-Math.abs(n[1])):Math.max(Math.abs(n[1]),o.height),this.tracker?this.tracker.attr(i):(this.tracker=e.renderer.rect(i).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},v.prototype.styledModeFormat=function(t){return t.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},v.prototype.tooltipFooterHeaderFormatter=function(t,e){var n=e?"footer":"header",i=t.series,o=i.tooltipOptions,r=o.xDateFormat,a=i.xAxis,s=a&&"datetime"===a.options.type&&h(t.key),c=o[n+"Format"];return l(this,"headerFormatter",e={isFooter:e,labelConfig:t},(function(e){s&&!r&&(r=this.getXDateFormat(t,o,a)),s&&r&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){c=c.replace("{point."+t+"}","{point."+t+":"+r+"}")})),i.chart.styledMode&&(c=this.styledModeFormat(c)),e.text=u(c,{point:t,series:i},this.chart)})),e.text},v.prototype.update=function(t){this.destroy(),d(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,d(!0,this.options,t))},v.prototype.updatePosition=function(t){var e=this.chart,n=e.pointer,i=this.getLabel(),r=t.plotX+e.plotLeft,a=t.plotY+e.plotTop;if(n=n.getChartPosition(),t=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t),this.outside){var s=(this.options.borderWidth||0)+2*this.distance;this.renderer.setSize(i.width+s,i.height+s,!1),(e=e.containerScaling)&&(o(this.container,{transform:"scale("+e.scaleX+", "+e.scaleY+")"}),r*=e.scaleX,a*=e.scaleY),r+=n.left-t.x,a+=n.top-t.y}this.move(Math.round(t.x),Math.round(t.y||0),r,a)},v}();return t.Tooltip=v,t.Tooltip})),e(n,"Core/Pointer.js",[n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Tooltip.js"],n["Core/Utilities.js"]],(function(t,e,n,i){var o=t.parse,r=e.charts,a=e.noop,s=i.addEvent,l=i.attr,u=i.css,h=i.defined,c=i.extend,d=i.find,f=i.fireEvent,p=i.isNumber,g=i.isObject,m=i.objectEach,v=i.offset,y=i.pick,_=i.splat;return t=function(){function t(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.chart=t,this.hasDragged=!1,this.options=e,this.unbindContainerMouseLeave=function(){},this.unbindContainerMouseEnter=function(){},this.init(t,e)}return t.prototype.applyInactiveState=function(t){var e,n=[];(t||[]).forEach((function(t){e=t.series,n.push(e),e.linkedParent&&n.push(e.linkedParent),e.linkedSeries&&(n=n.concat(e.linkedSeries)),e.navigatorSeries&&n.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===n.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))},t.prototype.destroy=function(){var t=this;"undefined"!==typeof t.unDocMouseMove&&t.unDocMouseMove(),this.unbindContainerMouseLeave(),e.chartCount||(e.unbindDocumentMouseUp&&(e.unbindDocumentMouseUp=e.unbindDocumentMouseUp()),e.unbindDocumentTouchEnd&&(e.unbindDocumentTouchEnd=e.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),m(t,(function(e,n){t[n]=void 0}))},t.prototype.drag=function(t){var e=this.chart,n=e.options.chart,i=t.chartX,r=t.chartY,a=this.zoomHor,s=this.zoomVert,l=e.plotLeft,u=e.plotTop,h=e.plotWidth,c=e.plotHeight,d=this.selectionMarker,f=this.mouseDownX||0,p=this.mouseDownY||0,m=g(n.panning)?n.panning&&n.panning.enabled:n.panning,v=n.panKey&&t[n.panKey+"Key"];if((!d||!d.touch)&&(i<l?i=l:i>l+h&&(i=l+h),r<u?r=u:r>u+c&&(r=u+c),this.hasDragged=Math.sqrt(Math.pow(f-i,2)+Math.pow(p-r,2)),10<this.hasDragged)){var y=e.isInsidePlot(f-l,p-u);e.hasCartesianSeries&&(this.zoomX||this.zoomY)&&y&&!v&&!d&&(this.selectionMarker=d=e.renderer.rect(l,u,a?1:h,s?1:c,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||d.attr({fill:n.selectionMarkerFill||o("#335cad").setOpacity(.25).get()})),d&&a&&(i-=f,d.attr({width:Math.abs(i),x:(0<i?0:i)+f})),d&&s&&(i=r-p,d.attr({height:Math.abs(i),y:(0<i?0:i)+p})),y&&!d&&m&&e.pan(t,n.panning)}},t.prototype.dragStart=function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},t.prototype.drop=function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var o,r={originalEvent:t,xAxis:[],yAxis:[]},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,l=a.attr?a.attr("y"):a.y,d=a.attr?a.attr("width"):a.width,g=a.attr?a.attr("height"):a.height;(this.hasDragged||i)&&(n.axes.forEach((function(n){if(n.zoomEnabled&&h(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])&&p(s)&&p(l)){var a=n.horiz,u="touchend"===t.type?n.minPixelPadding:0,c=n.toValue((a?s:l)+u);a=n.toValue((a?s+d:l+g)-u),r[n.coll].push({axis:n,min:Math.min(c,a),max:Math.max(c,a)}),o=!0}})),o&&f(n,"selection",r,(function(t){n.zoom(c(t,i?{animation:!1}:null))}))),p(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&p(n.index)&&(u(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},t.prototype.findNearestKDPoint=function(t,e,n){var i,o=this.chart,r=o.hoverPoint;return o=o.tooltip,r&&o&&o.isStickyOnContact()?r:(t.forEach((function(t){var o=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,o),(o=g(t,!0))&&!(o=!g(i,!0))){o=i.distX-t.distX;var r=i.dist-t.dist,a=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex);o=0<(0!==o&&e?o:0!==r?r:0!==a?a:i.series.index>t.series.index?-1:1)}o&&(i=t)})),i)},t.prototype.getChartCoordinatesFromPoint=function(t,e){var n=t.series,i=n.xAxis;n=n.yAxis;var o=y(t.clientX,t.plotX),r=t.shapeArgs;return i&&n?e?{chartX:i.len+i.pos-o,chartY:n.len+n.pos-t.plotY}:{chartX:o+i.pos,chartY:t.plotY+n.pos}:r&&r.x&&r.y?{chartX:r.x,chartY:r.y}:void 0},t.prototype.getChartPosition=function(){return this.chartPosition||(this.chartPosition=v(this.chart.container))},t.prototype.getCoordinates=function(t){var e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})})),e},t.prototype.getHoverData=function(t,e,n,i,o,r){var a,s=[];i=!(!i||!t);var l=e&&!e.stickyTracking,u={chartX:r?r.chartX:void 0,chartY:r?r.chartY:void 0,shared:o};return f(this,"beforeGetHoverData",u),l=l?[e]:n.filter((function(t){return u.filter?u.filter(t):t.visible&&!(!o&&t.directTouch)&&y(t.options.enableMouseTracking,!0)&&t.stickyTracking})),e=(a=i||!r?t:this.findNearestKDPoint(l,o,r))&&a.series,a&&(o&&!e.noSharedTooltip?(l=n.filter((function(t){return u.filter?u.filter(t):t.visible&&!(!o&&t.directTouch)&&y(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}))).forEach((function(t){var e=d(t.points,(function(t){return t.x===a.x&&!t.isNull}));g(e)&&(t.chart.isBoosting&&(e=t.getPoint(e)),s.push(e))})):s.push(a)),f(this,"afterGetHoverData",u={hoverPoint:a}),{hoverPoint:u.hoverPoint,hoverSeries:e,hoverPoints:s}},t.prototype.getPointFromEvent=function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},t.prototype.onTrackerMouseOut=function(t){t=t.relatedTarget||t.toElement;var e=this.chart.hoverSeries;this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},t.prototype.inClass=function(t,e){for(var n;t;){if(n=l(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},t.prototype.init=function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},n&&(t.tooltip=new n(t,e.tooltip),this.followTouchMove=y(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},t.prototype.normalize=function(t,e){var n=t.touches,i=n?n.length?n.item(0):y(n.changedTouches,t.changedTouches)[0]:t;return e||(e=this.getChartPosition()),n=i.pageX-e.left,e=i.pageY-e.top,(i=this.chart.containerScaling)&&(n/=i.scaleX,e/=i.scaleY),c(t,{chartX:Math.round(n),chartY:Math.round(e)})},t.prototype.onContainerClick=function(t){var e=this.chart,n=e.hoverPoint;t=this.normalize(t);var i=e.plotLeft,o=e.plotTop;e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(f(n.series,"click",c(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(c(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-o)&&f(e,"click",t)))},t.prototype.onContainerMouseDown=function(t){var n=1===(1&(t.buttons||t.button));t=this.normalize(t),e.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),("undefined"===typeof t.button||n)&&(this.zoomOption(t),n&&t.preventDefault&&t.preventDefault(),this.dragStart(t))},t.prototype.onContainerMouseLeave=function(t){var n=r[y(e.hoverChartIndex,-1)],i=this.chart.tooltip;t=this.normalize(t),n&&(t.relatedTarget||t.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=void 0),i&&!i.isHidden&&this.reset()},t.prototype.onContainerMouseEnter=function(t){delete this.chartPosition},t.prototype.onContainerMouseMove=function(t){var e=this.chart;t=this.normalize(t),this.setHoverChartIndex(),t.preventDefault||(t.returnValue=!1),"mousedown"===e.mouseIsDown&&this.drag(t),e.openMenu||!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.runPointActions(t)},t.prototype.onDocumentTouchEnd=function(t){r[e.hoverChartIndex]&&r[e.hoverChartIndex].pointer.drop(t)},t.prototype.onContainerTouchMove=function(t){this.touch(t)},t.prototype.onContainerTouchStart=function(t){this.zoomOption(t),this.touch(t,!0)},t.prototype.onDocumentMouseMove=function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n);var i=e.tooltip;!n||i&&i.isStickyOnContact()||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.inClass(t.target,"highcharts-tracker")||this.reset()},t.prototype.onDocumentMouseUp=function(t){var n=r[y(e.hoverChartIndex,-1)];n&&n.pointer.drop(t)},t.prototype.pinch=function(t){var e=this,n=e.chart,i=e.pinchDown,o=t.touches||[],r=o.length,s=e.lastValidTouch,l=e.hasZoom,u=e.selectionMarker,h={},d=1===r&&(e.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||e.runChartClick),f={};1<r&&(e.initiated=!0),l&&e.initiated&&!d&&!1!==t.cancelable&&t.preventDefault(),[].map.call(o,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(o,(function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}})),s.x=[i[0].chartX,i[1]&&i[1].chartX],s.y=[i[0].chartY,i[1]&&i[1].chartY],n.axes.forEach((function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,o=t.toPixels(Math.min(y(t.options.min,t.dataMin),t.dataMin)),r=t.toPixels(Math.max(y(t.options.max,t.dataMax),t.dataMax)),a=Math.max(o,r);e.min=Math.min(t.pos,Math.min(o,r)-i),e.max=Math.max(t.pos+t.len,a+i)}})),e.res=!0):e.followTouchMove&&1===r?this.runPointActions(e.normalize(t)):i.length&&(u||(e.selectionMarker=u=c({destroy:a,touch:!0},n.plotBox)),e.pinchTranslate(i,o,h,u,f,s),e.hasPinched=l,e.scaleGroups(h,f),e.res&&(e.res=!1,this.reset(!1,0)))},t.prototype.pinchTranslate=function(t,e,n,i,o,r){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,o,r),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,o,r)},t.prototype.pinchTranslateDirection=function(t,e,n,i,o,r,a,s){var l,u,h=this.chart,c=t?"x":"y",d=t?"X":"Y",f="chart"+d,p=t?"width":"height",g=h["plot"+(t?"Left":"Top")],m=s||1,v=h.inverted,y=h.bounds[t?"h":"v"],_=1===e.length,b=e[0][f],x=n[0][f],w=!_&&e[1][f],C=!_&&n[1][f];if((n=function(){"number"===typeof C&&20<Math.abs(b-w)&&(m=s||Math.abs(x-C)/Math.abs(b-w)),u=(g-x)/m+b,l=h["plot"+(t?"Width":"Height")]/m})(),(e=u)<y.min){e=y.min;var S=!0}else e+l>y.max&&(e=y.max-l,S=!0);S?(x-=.8*(x-a[c][0]),"number"===typeof C&&(C-=.8*(C-a[c][1])),n()):a[c]=[x,C],v||(r[c]=u-g,r[p]=l),r=v?1/m:m,o[p]=l,o[c]=e,i[v?t?"scaleY":"scaleX":"scale"+d]=m,i["translate"+d]=r*g+(x-r*b)},t.prototype.reset=function(t,e){var n=this.chart,i=n.hoverSeries,o=n.hoverPoint,r=n.hoverPoints,a=n.tooltip,s=a&&a.shared?r:o;t&&s&&_(s).forEach((function(e){e.series.isCartesian&&"undefined"===typeof e.plotX&&(t=!1)})),t?a&&s&&_(s).length&&(a.refresh(s),a.shared&&r?r.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):o&&(o.setState(o.state,!0),n.axes.forEach((function(t){t.crosshair&&o.series[t.coll]===t&&t.drawCrosshair(null,o)})))):(o&&o.onMouseOut(),r&&r.forEach((function(t){t.setState()})),i&&i.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=n.hoverPoints=n.hoverPoint=null)},t.prototype.runPointActions=function(t,n){var i=this.chart,o=i.tooltip&&i.tooltip.options.enabled?i.tooltip:void 0,a=!!o&&o.shared,l=n||i.hoverPoint,u=l&&l.series||i.hoverSeries;l=(u=this.getHoverData(l,u,i.series,(!t||"touchmove"!==t.type)&&(!!n||u&&u.directTouch&&this.isDirectTouch),a,t)).hoverPoint;var h=u.hoverPoints;if(n=(u=u.hoverSeries)&&u.tooltipOptions.followPointer,a=a&&u&&!u.noSharedTooltip,l&&(l!==i.hoverPoint||o&&o.isHidden)){if((i.hoverPoints||[]).forEach((function(t){-1===h.indexOf(t)&&t.setState()})),i.hoverSeries!==u&&u.onMouseOver(),this.applyInactiveState(h),(h||[]).forEach((function(t){t.setState("hover")})),i.hoverPoint&&i.hoverPoint.firePointEvent("mouseOut"),!l.series)return;i.hoverPoints=h,i.hoverPoint=l,l.firePointEvent("mouseOver"),o&&o.refresh(a?h:l,t)}else n&&o&&!o.isHidden&&(l=o.getAnchor([{}],t),o.updatePosition({plotX:l[0],plotY:l[1]}));this.unDocMouseMove||(this.unDocMouseMove=s(i.container.ownerDocument,"mousemove",(function(t){var n=r[e.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(t)}))),i.axes.forEach((function(e){var n,o=y((e.crosshair||{}).snap,!0);o&&((n=i.hoverPoint)&&n.series[e.coll]===e||(n=d(h,(function(t){return t.series[e.coll]===e})))),n||!o?e.drawCrosshair(t,n):e.hideCrosshair()}))},t.prototype.scaleGroups=function(t,e){var n,i=this.chart;i.series.forEach((function(o){n=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&o.group&&(o.group.attr(n),o.markerGroup&&(o.markerGroup.attr(n),o.markerGroup.clip(e?i.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(n))})),i.clipRect.attr(e||i.clipBox)},t.prototype.setDOMEvents=function(){var t=this.chart.container,n=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.unbindContainerMouseEnter=s(t,"mouseenter",this.onContainerMouseEnter.bind(this)),this.unbindContainerMouseLeave=s(t,"mouseleave",this.onContainerMouseLeave.bind(this)),e.unbindDocumentMouseUp||(e.unbindDocumentMouseUp=s(n,"mouseup",this.onDocumentMouseUp.bind(this))),e.hasTouch&&(s(t,"touchstart",this.onContainerTouchStart.bind(this)),s(t,"touchmove",this.onContainerTouchMove.bind(this)),e.unbindDocumentTouchEnd||(e.unbindDocumentTouchEnd=s(n,"touchend",this.onDocumentTouchEnd.bind(this))))},t.prototype.setHoverChartIndex=function(){var t=this.chart,n=e.charts[y(e.hoverChartIndex,-1)];n&&n!==t&&n.pointer.onContainerMouseLeave({relatedTarget:!0}),n&&n.mouseIsDown||(e.hoverChartIndex=t.index)},t.prototype.touch=function(t,e){var n=this.chart;if(this.setHoverChartIndex(),1===t.touches.length)if(t=this.normalize(t),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&!n.openMenu){if(e&&this.runPointActions(t),"touchmove"===t.type)var i=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2));y(i,!0)&&this.pinch(t)}else e&&this.reset();else 2===t.touches.length&&this.pinch(t)},t.prototype.zoomOption=function(t){var e=this.chart,n=e.options.chart,i=n.zoomType||"";e=e.inverted,/touch/.test(t.type)&&(i=y(n.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i},t}(),e.Pointer=t})),e(n,"Core/MSPointer.js",[n["Core/Globals.js"],n["Core/Pointer.js"],n["Core/Utilities.js"]],(function(t,e,n){function i(){var t=[];return t.item=function(t){return this[t]},c(f,(function(e){t.push({pageX:e.pageX,pageY:e.pageY,target:e.target})})),t}function o(e,n,o,r){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!a[t.hoverChartIndex]||(r(e),(r=a[t.hoverChartIndex].pointer)[n]({type:o,target:e.currentTarget,preventDefault:l,touches:i()}))}var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=t.charts,s=t.doc,l=t.noop,u=n.addEvent,h=n.css,c=n.objectEach,d=n.removeEvent,f={},p=!!t.win.PointerEvent;return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.batchMSEvents=function(t){t(this.chart.container,p?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,p?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(s,p?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},e.prototype.destroy=function(){this.batchMSEvents(d),t.prototype.destroy.call(this)},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.hasZoom&&h(e.container,{"-ms-touch-action":"none","touch-action":"none"})},e.prototype.onContainerPointerDown=function(t){o(t,"onContainerTouchStart","touchstart",(function(t){f[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},e.prototype.onContainerPointerMove=function(t){o(t,"onContainerTouchMove","touchmove",(function(t){f[t.pointerId]={pageX:t.pageX,pageY:t.pageY},f[t.pointerId].target||(f[t.pointerId].target=t.currentTarget)}))},e.prototype.onDocumentPointerUp=function(t){o(t,"onDocumentTouchEnd","touchend",(function(t){delete f[t.pointerId]}))},e.prototype.setDOMEvents=function(){t.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(u)},e}(e)})),e(n,"Core/Legend.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){var i=t.animObject,o=t.setAnimation,r=n.addEvent,a=n.css,s=n.defined,l=n.discardElement,u=n.find,h=n.fireEvent,c=n.format,d=n.isNumber,f=n.merge,p=n.pick,g=n.relativeLength,m=n.stableSort,v=n.syncTimeout;t=n.wrap,n=e.isFirefox;var y=e.marginNames,_=e.win,b=function(){function t(t,e){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=t,this.init(t,e)}return t.prototype.init=function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),r(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=r(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},t.prototype.setOptions=function(t){var e=p(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=f(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop||0,this.itemMarginBottom=t.itemMarginBottom||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=p(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0},t.prototype.update=function(t,e){var n=this.chart;this.setOptions(f(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,p(e,!0)&&n.redraw(),h(this,"afterUpdate")},t.prototype.colorizeItem=function(t,e){if(t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var n=this.options,i=t.legendItem,o=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color;n=e?n.itemStyle.color:a;var s=e&&t.color||a,l=t.options&&t.options.marker,u={fill:s};i&&i.css({fill:n,color:n}),o&&o.attr({stroke:s}),r&&(l&&r.isMarker&&(u=t.pointAttribs(),e||(u.stroke=u.fill=a)),r.attr(u))}h(this,"afterColorizeItem",{item:t,visible:e})},t.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},t.prototype.positionItem=function(t){var e=this,n=this.options,i=n.symbolPadding,o=!n.rtl,r=t._legendItemPos;n=r[0],r=r[1];var a=t.checkbox,l=t.legendGroup;l&&l.element&&(i={translateX:o?n:this.legendWidth-n-2*i-4,translateY:r},o=function(){h(e,"afterPositionItem",{item:t})},s(l.translateY)?l.animate(i,void 0,o):(l.attr(i),o())),a&&(a.x=n,a.y=r)},t.prototype.destroyItem=function(t){var e=t.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach((function(e){t[e]&&(t[e]=t[e].destroy())})),e&&l(t.checkbox)},t.prototype.destroy=function(){function t(t){this[t]&&(this[t]=this[t].destroy())}this.getAllItems().forEach((function(e){["legendItem","legendGroup"].forEach(t,e)})),"clipRect up down pager nav box title group".split(" ").forEach(t,this),this.display=null},t.prototype.positionCheckboxes=function(){var t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,n=this.titleHeight;if(t){var i=t.translateY;this.allItems.forEach((function(o){var r=o.checkbox;if(r){var s=i+n+r.y+(this.scrollOffset||0)+3;a(r,{left:t.translateX+o.checkboxOffset+r.x-20+"px",top:s+"px",display:this.proximate||s>i-6&&s<i+e-6?"":"none"})}}),this)}},t.prototype.renderTitle=function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},t.prototype.setText=function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?c(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})},t.prototype.renderItem=function(t){var e=this.chart,n=e.renderer,i=this.options,o=this.symbolWidth,r=i.symbolPadding,a=this.itemStyle,s=this.itemHiddenStyle,l="horizontal"===i.layout?p(i.itemDistance,20):0,u=!i.rtl,h=t.legendItem,c=!t.series,d=!c&&t.series.drawLegendSymbol?t.series:t,g=d.options;l=o+r+l+((g=this.createCheckboxForItem&&g&&g.showCheckbox)?20:0);var m=i.useHTML,v=t.options.className;h||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+d.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(c?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=h=n.text("",u?o+r:-r,this.baseline||0,m),e.styledMode||h.css(f(t.visible?a:s)),h.attr({align:u?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(e.styledMode?12:a.fontSize,h),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,h.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,d.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,h,m)),g&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!e.styledMode&&a.width||h.css({width:(i.itemWidth||this.widthOption||e.spacingBox.width)-l+"px"}),this.setText(t),e=h.getBBox(),t.itemWidth=t.checkboxOffset=i.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},t.prototype.layoutItem=function(t){var e=this.options,n=this.padding,i="horizontal"===e.layout,o=t.itemHeight,r=this.itemMarginBottom,a=this.itemMarginTop,s=i?p(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth,i&&this.itemX-n+e>l&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=a+this.lastLineHeight+r),this.lastLineHeight=0),this.lastItemY=a+this.itemY+r,this.lastLineHeight=Math.max(o,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],i?this.itemX+=e:(this.itemY+=a+o+r,this.lastLineHeight=o),this.offsetWidth=this.widthOption||Math.max((i?this.itemX-n-(t.checkbox?0:s):e)+n,this.offsetWidth)},t.prototype.getAllItems=function(){var t=[];return this.chart.series.forEach((function(e){var n=e&&e.options;e&&p(n.showInLegend,!s(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))})),h(this,"afterGetAllItems",{allItems:t}),t},t.prototype.getAlignment=function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},t.prototype.adjustMargins=function(t,e){var n=this.chart,i=this.options,o=this.getAlignment();o&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(r,a){r.test(o)&&!s(t[a])&&(n[y[a]]=Math.max(n[y[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*i[a%2?"x":"y"]+p(i.margin,12)+e[a]+(n.titleOffset[a]||0)))}))},t.prototype.proximatePositions=function(){var t=this.chart,n=[],i="left"===this.options.align;this.allItems.forEach((function(e){var o,r=i;if(e.yAxis){e.xAxis.options.reversed&&(r=!r),e.points&&(o=u(r?e.points:e.points.slice(0).reverse(),(function(t){return d(t.plotY)}))),r=this.itemMarginTop+e.legendItem.getBBox().height+this.itemMarginBottom;var a=e.yAxis.top-t.plotTop;e.visible?(o=o?o.plotY:e.yAxis.height,o+=a-.3*r):o=a+e.yAxis.height,n.push({target:o,size:r,item:e})}}),this),e.distribute(n,t.plotHeight),n.forEach((function(e){e.item._legendItemPos[1]=t.plotTop-t.spacing[0]+e.pos}))},t.prototype.render=function(){var t=this.chart,e=t.renderer,n=this.group,i=this.box,o=this.options,r=this.padding;this.itemX=r,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=g(o.width,t.spacingBox.width-r);var a=t.spacingBox.width-2*r-o.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(a/=2),this.maxLegendWidth=this.widthOption||a,n||(this.group=n=e.g("legend").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(n),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle();var s=this.getAllItems();m(s,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),o.reversed&&s.reverse(),this.allItems=s,this.display=a=!!s.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,s.forEach(this.renderItem,this),s.forEach(this.layoutItem,this),s=(this.widthOption||this.offsetWidth)+r;var l=this.lastItemY+this.lastLineHeight+this.titleHeight;l=this.handleOverflow(l),l+=r,i||(this.box=i=e.rect().addClass("highcharts-legend-box").attr({r:o.borderRadius}).add(n),i.isNew=!0),t.styledMode||i.attr({stroke:o.borderColor,"stroke-width":o.borderWidth||0,fill:o.backgroundColor||"none"}).shadow(o.shadow),0<s&&0<l&&(i[i.isNew?"attr":"animate"](i.crisp.call({},{x:0,y:0,width:s,height:l},i.strokeWidth())),i.isNew=!1),i[a?"show":"hide"](),t.styledMode&&"none"===n.getStyle("display")&&(s=l=0),this.legendWidth=s,this.legendHeight=l,a&&this.align(),this.proximate||this.positionItems(),h(this,"afterRender")},t.prototype.align=function(t){void 0===t&&(t=this.chart.spacingBox);var e=this.chart,n=this.options,i=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<e.titleOffset[0]?i+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<e.titleOffset[2]&&(i-=e.titleOffset[2]),i!==t.y&&(t=f(t,{y:i})),this.group.align(f(n,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":n.verticalAlign}),!0,t)},t.prototype.handleOverflow=function(t){var e=this,n=this.chart,i=n.renderer,o=this.options,r=o.y,a=this.padding;r=n.spacingBox.height+("top"===o.verticalAlign?-r:r)-a;var s,l,u=o.maxHeight,h=this.clipRect,c=o.navigation,d=p(c.animation,!0),f=c.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"===typeof t?h.attr({height:t}):h&&(e.clipRect=h.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+a+"px,9999px,"+(a+t)+"px,0)":"auto")},_=function(t){return e[t]=i.circle(0,0,1.3*f).translate(f/2,f/2).add(g),n.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(r/=2),u&&(r=Math.min(r,u)),m.length=0,t>r&&!1!==c.enabled?(this.clipHeight=s=Math.max(r-20-this.titleHeight-a,0),this.currentPage=p(this.currentPage,1),this.fullHeight=t,v.forEach((function(t,e){var n=t._legendItemPos[1],i=Math.round(t.legendItem.getBBox().height),o=m.length;(!o||n-m[o-1]>s&&(l||n)!==m[o-1])&&(m.push(l||n),o++),t.pageIx=o-1,l&&(v[e-1].pageIx=o-1),e===v.length-1&&n+i-m[o-1]>s&&n!==l&&(m.push(n),t.pageIx=o),n!==l&&(l=n)})),h||(h=e.clipRect=i.clipRect(0,a,9999,0),e.contentGroup.clip(h)),y(s),g||(this.nav=g=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,f,f).add(g),_("upTracker").on("click",(function(){e.scroll(-1,d)})),this.pager=i.text("",15,10).addClass("highcharts-legend-navigation"),n.styledMode||this.pager.css(c.style),this.pager.add(g),this.down=i.symbol("triangle-down",0,0,f,f).add(g),_("downTracker").on("click",(function(){e.scroll(1,d)}))),e.scroll(0),t=r):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},t.prototype.scroll=function(t,e){var n=this,r=this.chart,a=this.pages,s=a.length,l=this.currentPage+t;t=this.clipHeight;var u=this.options.navigation,c=this.pager,d=this.padding;l>s&&(l=s),0<l&&("undefined"!==typeof e&&o(e,r),this.nav.attr({translateX:d,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===l?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),c.attr({text:l+"/"+s}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:l===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),r.styledMode||(this.up.attr({fill:1===l?u.inactiveColor:u.activeColor}),this.upTracker.css({cursor:1===l?"default":"pointer"}),this.down.attr({fill:l===s?u.inactiveColor:u.activeColor}),this.downTracker.css({cursor:l===s?"default":"pointer"})),this.scrollOffset=-a[l-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=l,this.positionCheckboxes(),e=i(p(e,r.renderer.globalAnimation,!0)),v((function(){h(n,"afterScroll",{currentPage:l})}),e.duration))},t}();return(/Trident\/7\.0/.test(_.navigator&&_.navigator.userAgent)||n)&&t(b.prototype,"positionItem",(function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),n.bubbleLegend||setTimeout(i)})),e.Legend=b,e.Legend})),e(n,"Core/Series/Point.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){var i=t.animObject,o=n.defined,r=n.erase,a=n.extend,s=n.fireEvent,l=n.format,u=n.getNestedProperty,h=n.isArray,c=n.isNumber,d=n.isObject,f=n.syncTimeout,p=n.pick,g=n.removeEvent,m=n.uniqueKey;return t=function(){function t(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return t.prototype.animateBeforeDestroy=function(){var t,e=this,n={x:e.startXPos,opacity:0},i=e.getGraphicalProps();i.singular.forEach((function(i){t="dataLabel"===i,e[i]=e[i].animate(t?{x:e[i].startXPos,y:e[i].startYPos,opacity:0}:n)})),i.plural.forEach((function(t){e[t].forEach((function(t){t.element&&t.animate(a({x:e.startXPos},t.startYPos?{x:t.startXPos,y:t.startYPos}:{}))}))}))},t.prototype.applyOptions=function(e,n){var i=this.series,o=i.options.pointValKey||i.pointValKey;return e=t.prototype.optionsToObject.call(this,e),a(this,e),this.options=this.options?a(this.options,e):e,e.group&&delete this.group,e.dataLabels&&delete this.dataLabels,o&&(this.y=t.prototype.getNestedProperty.call(this,o)),this.formatPrefix=(this.isNull=p(this.isValid&&!this.isValid(),null===this.x||!c(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&"undefined"===typeof n&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),"undefined"===typeof this.x&&i&&(this.x="undefined"===typeof n?i.autoIncrement(this):n),this},t.prototype.destroy=function(){function t(){for(a in(e.graphic||e.dataLabel||e.dataLabels)&&(g(e),e.destroyElements()),e)e[a]=null}var e=this,n=e.series,o=n.chart;n=n.options.dataSorting;var a,s=o.hoverPoints,l=i(e.series.chart.renderer.globalAnimation);e.legendItem&&o.legend.destroyItem(e),s&&(e.setState(),r(s,e),s.length||(o.hoverPoints=null)),e===o.hoverPoint&&e.onMouseOut(),n&&n.enabled?(this.animateBeforeDestroy(),f(t,l.duration)):t(),o.pointCount--},t.prototype.destroyElements=function(t){var e=this;(t=e.getGraphicalProps(t)).singular.forEach((function(t){e[t]=e[t].destroy()})),t.plural.forEach((function(t){e[t].forEach((function(t){t.element&&t.destroy()})),delete e[t]}))},t.prototype.firePointEvent=function(t,e,n){var i=this,o=this.series.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&i.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),s(i,t,e,n)},t.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},t.prototype.getGraphicalProps=function(t){var e,n=this,i=[],o={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&i.push("graphic","shadowGroup"),t.dataLabel&&i.push("dataLabel","dataLabelUpper","connector"),e=i.length;e--;){var r=i[e];n[r]&&o.singular.push(r)}return["dataLabel","connector"].forEach((function(e){var i=e+"s";t[e]&&n[i]&&o.plural.push(i)})),o},t.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},t.prototype.getNestedProperty=function(t){if(t)return 0===t.indexOf("custom.")?u(t,this.options):this[t]},t.prototype.getZone=function(){var t=this.series,e=t.zones;t=t.zoneAxis||"y";var n,i=0;for(n=e[i];this[t]>=n.value;)n=e[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=n&&n.color&&!this.options.color?n.color:this.nonZonedColor,n},t.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},t.prototype.init=function(t,e,n){return this.series=t,this.applyOptions(e,n),this.id=o(this.id)?this.id:m(),this.resolveColor(),t.chart.pointCount++,s(this,"afterInit"),this},t.prototype.optionsToObject=function(e){var n={},i=this.series,o=i.options.keys,r=o||i.pointArrayMap||["y"],a=r.length,s=0,l=0;if(c(e)||null===e)n[r[0]]=e;else if(h(e))for(!o&&e.length>a&&("string"===(i=typeof e[0])?n.name=e[0]:"number"===i&&(n.x=e[0]),s++);l<a;)o&&"undefined"===typeof e[s]||(0<r[l].indexOf(".")?t.prototype.setNestedProperty(n,e[s],r[l]):n[r[l]]=e[s]),s++,l++;else"object"===typeof e&&(n=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},t.prototype.resolveColor=function(){var t=this.series,e=t.chart.options.chart.colorCount,n=t.chart.styledMode;delete this.nonZonedColor,n||this.options.color||(this.color=t.color),t.options.colorByPoint?(n||(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length),n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=p(this.colorIndex,n)},t.prototype.setNestedProperty=function(t,e,n){return n.split(".").reduce((function(t,n,i,o){return t[n]=o.length-1===i?e:d(t[n],!0)?t[n]:{},t[n]}),t),t},t.prototype.tooltipFormatter=function(t){var e=this.series,n=e.tooltipOptions,i=p(n.valueDecimals,""),o=n.valuePrefix||"",r=n.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(o||r)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+r)),t=t.replace(RegExp(e+"}","g"),e+":,."+i+"f}")})),l(t,{point:this,series:this.series},e.chart)},t}(),e.Point=t})),e(n,"Core/Series/Series.js",[n["Core/Globals.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],(function(t,e,n){var i=n.error,o=n.extendClass,r=n.fireEvent,a=n.getOptions,s=n.isObject,l=n.merge,u=n.objectEach;return(n=function(){function t(e,n){var i=l(t.defaultOptions,n);this.chart=e,this._i=e.series.length,e.series.push(this),this.options=i,this.userOptions=l(n)}return t.addSeries=function(e,n){t.seriesTypes[e]=n},t.cleanRecursively=function(e,n){var i={};return u(e,(function(o,r){s(e[r],!0)&&!e.nodeType&&n[r]?(o=t.cleanRecursively(e[r],n[r]),Object.keys(o).length&&(i[r]=o)):(s(e[r])||e[r]!==n[r])&&(i[r]=e[r])})),i},t.getSeries=function(e,n){void 0===n&&(n={});var o=e.options.chart;o=n.type||o.type||o.defaultSeriesType||"";var r=t.seriesTypes[o];return r||i(17,!0,e,{missingModuleFor:o}),new r(e,n)},t.seriesType=function(n,i,r,s,u){var h=a().plotOptions||{},c=t.seriesTypes;return i=i||"",h[n]=l(h[i],r),t.addSeries(n,o(c[i]||function(){},s)),c[n].prototype.type=n,u&&(c[n].prototype.pointClass=o(e,u)),c[n]},t.prototype.update=function(e,n){void 0===n&&(n=!0);var i=this,o=(e=t.cleanRecursively(e,this.userOptions)).type;return"undefined"!==typeof o&&o!==i.type&&(i=t.getSeries(i.chart,e)),r(i,"update",{newOptions:e}),i.userOptions=l(e),r(i,"afterUpdate",{newOptions:e}),n&&i.chart.redraw(),i},t.defaultOptions={type:"base"},t.seriesTypes={},t}()).prototype.pointClass=e,t.seriesType=n.seriesType,t.seriesTypes=n.seriesTypes,n})),e(n,"Core/Chart/Chart.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Series/Series.js"],n["Core/Globals.js"],n["Core/Legend.js"],n["Core/MSPointer.js"],n["Core/Options.js"],n["Core/Pointer.js"],n["Core/Time.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,a,s,l,u){var h=t.animate,c=t.animObject,d=t.setAnimation,f=i.charts,p=i.doc,g=i.win,m=a.defaultOptions,v=u.addEvent,y=u.attr,_=u.createElement,b=u.css,x=u.defined,w=u.discardElement,C=u.erase,S=u.error,k=u.extend,E=u.find,I=u.fireEvent,T=u.getStyle,D=u.isArray,M=u.isFunction,O=u.isNumber,P=u.isObject,A=u.isString,R=u.merge,B=u.numberFormat,N=u.objectEach,F=u.pick,L=u.pInt,V=u.relativeLength,j=u.removeEvent,z=u.splat,H=u.syncTimeout,W=u.uniqueKey,G=i.marginNames,K=function(){function t(t,e,n){this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.getArgs(t,e,n)}return t.prototype.getArgs=function(t,e,n){A(t)||t.nodeName?(this.renderTo=t,this.init(e,n)):this.init(t,e)},t.prototype.init=function(t,e){var n,o=t.series,r=t.plotOptions||{};I(this,"init",{args:arguments},(function(){t.series=null;var a=(n=R(m,t)).chart||{};N(n.plotOptions,(function(t,e){P(t)&&(t.tooltip=r[e]&&R(r[e].tooltip)||void 0)})),n.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,n.series=t.series=o,this.userOptions=t;var s=a.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new l(t.time):i.time,this.numberFormatter=a.numberFormatter||B,this.styledMode=a.styledMode,this.hasCartesianSeries=a.showAxes;var u=this;u.index=f.length,f.push(u),i.chartCount++,s&&N(s,(function(t,e){M(t)&&v(u,e,t)})),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,I(u,"afterInit"),u.firstRender()}))},t.prototype.initSeries=function(t){var e=this.options.chart;e=t.type||e.type||e.defaultSeriesType;var i=n.seriesTypes[e];return i||S(17,!0,this,{missingModuleFor:e}),"function"===typeof(e=new i(this,t)).init&&e.init(this,t),e},t.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))},t.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))},t.prototype.orderSeries=function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},t.prototype.isInsidePlot=function(t,e,n){var i=n?e:t;return i={x:i,y:t=n?t:e,isInsidePlot:0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},I(this,"afterIsInsidePlot",i),i.isInsidePlot},t.prototype.redraw=function(t){I(this,"beforeRedraw");var e=this,n=e.axes,i=e.series,o=e.pointer,r=e.legend,a=e.userOptions.legend,s=e.isDirtyLegend,l=e.hasCartesianSeries,u=e.isDirtyBox,h=e.renderer,c=h.isHidden(),f=[];for(e.setResponsive&&e.setResponsive(!1),d(!!e.hasRendered&&t,e),c&&e.temporaryDisplay(),e.layOutTitles(),t=i.length;t--;){var p=i[t];if(p.options.stacking){var g=!0;if(p.isDirty){var m=!0;break}}}if(m)for(t=i.length;t--;)(p=i[t]).options.stacking&&(p.isDirty=!0);i.forEach((function(t){t.isDirty&&("point"===t.options.legendType?("function"===typeof t.updateTotals&&t.updateTotals(),s=!0):a&&(a.labelFormatter||a.labelFormat)&&(s=!0)),t.isDirtyData&&I(t,"updatedData")})),s&&r&&r.options.enabled&&(r.render(),e.isDirtyLegend=!1),g&&e.getStacks(),l&&n.forEach((function(t){e.isResizing&&O(t.min)||(t.updateNames(),t.setScale())})),e.getMargins(),l&&(n.forEach((function(t){t.isDirty&&(u=!0)})),n.forEach((function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,f.push((function(){I(t,"afterSetExtremes",k(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(u||g)&&t.redraw()}))),u&&e.drawChartBox(),I(e,"predraw"),i.forEach((function(t){(u||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),o&&o.reset(!0),h.draw(),I(e,"redraw"),I(e,"render"),c&&e.temporaryDisplay(!0),f.forEach((function(t){t.call()}))},t.prototype.get=function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i=this.series,o=E(this.axes,e)||E(this.series,e);for(n=0;!o&&n<i.length;n++)o=E(i[n].points||[],e);return o},t.prototype.getAxes=function(){var t=this,n=this.options,i=n.xAxis=z(n.xAxis||{});n=n.yAxis=z(n.yAxis||{}),I(this,"getAxes"),i.forEach((function(t,e){t.index=e,t.isX=!0})),n.forEach((function(t,e){t.index=e})),i.concat(n).forEach((function(n){new e(t,n)})),I(this,"afterGetAxes")},t.prototype.getSelectedPoints=function(){var t=[];return this.series.forEach((function(e){t=t.concat(e.getPointsCollection().filter((function(t){return F(t.selectedStaging,t.selected)})))})),t},t.prototype.getSelectedSeries=function(){return this.series.filter((function(t){return t.selected}))},t.prototype.setTitle=function(t,e,n){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(n)},t.prototype.applyDescription=function(t,e){var n=this,i="title"===t?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};i=this.options[t]=R(!this.styledMode&&{style:i},this.options[t],e);var o=this[t];o&&e&&(this[t]=o=o.destroy()),i&&!o&&((o=this.renderer.text(i.text,0,0,i.useHTML).attr({align:i.align,class:"highcharts-"+t,zIndex:i.zIndex||4}).add()).update=function(e){n[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||o.css(i.style),this[t]=o)},t.prototype.layOutTitles=function(t){var e=[0,0,0],n=this.renderer,i=this.spacingBox;["title","subtitle","caption"].forEach((function(t){var o=this[t],r=this.options[t],a=r.verticalAlign||"top";if(t="title"===t?-3:"top"===a?e[0]+2:0,o){if(!this.styledMode)var s=r.style.fontSize;s=n.fontMetrics(s,o).b,o.css({width:(r.width||i.width+(r.widthAdjust||0))+"px"});var l=Math.round(o.getBBox(r.useHTML).height);o.align(k({y:"bottom"===a?s:t+s,height:l},r),!1,"spacingBox"),r.floating||("top"===a?e[0]=Math.ceil(e[0]+l):"bottom"===a&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);var o=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,I(this,"afterLayOutTitles"),!this.isDirtyBox&&o&&(this.isDirtyBox=this.isDirtyLegend=o,this.hasRendered&&F(t,!0)&&this.isDirtyBox&&this.redraw())},t.prototype.getChartSize=function(){var t=this.options.chart,e=t.width;t=t.height;var n=this.renderTo;x(e)||(this.containerWidth=T(n,"width")),x(t)||(this.containerHeight=T(n,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,V(t,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},t.prototype.temporaryDisplay=function(t){var e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(b(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(p.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(p.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,p.body.appendChild(e)),("none"===T(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),b(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==p.body););},t.prototype.setClassName=function(t){this.container.className="highcharts-container "+(t||"")},t.prototype.getContainer=function(){var t,e,n=this.options,o=n.chart,r=this.renderTo,a=W();r||(this.renderTo=r=o.renderTo),A(r)&&(this.renderTo=r=p.getElementById(r)),r||S(13,!0,this);var s=L(y(r,"data-highcharts-chart"));O(s)&&f[s]&&f[s].hasRendered&&f[s].destroy(),y(r,"data-highcharts-chart",this.index),r.innerHTML="",o.skipClone||r.offsetWidth||this.temporaryDisplay(),this.getChartSize(),s=this.chartWidth;var l=this.chartHeight;if(b(r,{overflow:"hidden"}),this.styledMode||(t=k({position:"relative",overflow:"hidden",width:s+"px",height:l+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none"},o.style)),this.container=r=_("div",{id:a},t,r),this._cursor=r.style.cursor,this.renderer=new(i[o.renderer]||i.Renderer)(r,s,l,null,o.forExport,n.exporting&&n.exporting.allowHTML,this.styledMode),d(void 0,this),this.setClassName(o.className),this.styledMode)for(e in n.defs)this.renderer.definition(n.defs[e]);else this.renderer.setStyle(o.style);this.renderer.chartIndex=this.index,I(this,"afterGetContainer")},t.prototype.getMargins=function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i[0]&&!x(n[0])&&(this.plotTop=Math.max(this.plotTop,i[0]+e[0])),i[2]&&!x(n[2])&&(this.marginBottom=Math.max(this.marginBottom,i[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),I(this,"getMargins"),t||this.getAxisMargins()},t.prototype.getAxisMargins=function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.colorAxis,i=t.margin,o=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?o(t.axes):n&&n.length&&o(n),G.forEach((function(n,o){x(i[o])||(t[n]+=e[o])})),t.setChartSize()},t.prototype.reflow=function(t){var e=this,n=e.options.chart,i=e.renderTo,o=x(n.width)&&x(n.height),r=n.width||T(i,"width");n=n.height||T(i,"height"),i=t?t.target:g,o||e.isPrinting||!r||!n||i!==g&&i!==p||(r===e.containerWidth&&n===e.containerHeight||(u.clearTimeout(e.reflowTimeout),e.reflowTimeout=H((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerWidth=r,e.containerHeight=n)},t.prototype.setReflow=function(t){var e=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=v(g,"resize",(function(t){e.options&&e.reflow(t)})),v(this,"destroy",this.unbindReflow))},t.prototype.setSize=function(t,e,n){var i=this,o=i.renderer;i.isResizing+=1,d(n,i),n=o.globalAnimation,i.oldChartHeight=i.chartHeight,i.oldChartWidth=i.chartWidth,"undefined"!==typeof t&&(i.options.chart.width=t),"undefined"!==typeof e&&(i.options.chart.height=e),i.getChartSize(),i.styledMode||(n?h:b)(i.container,{width:i.chartWidth+"px",height:i.chartHeight+"px"},n),i.setChartSize(!0),o.setSize(i.chartWidth,i.chartHeight,n),i.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),i.isDirtyLegend=!0,i.isDirtyBox=!0,i.layOutTitles(),i.getMargins(),i.redraw(n),i.oldChartHeight=null,I(i,"resize"),H((function(){i&&I(i,"endResize",null,(function(){--i.isResizing}))}),c(n).duration)},t.prototype.setChartSize=function(t){var e,n,i,o,r=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,u=this.options.chart,h=this.spacing,c=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(s-e-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=r?o:i,this.plotSizeY=r?i:o,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:h[3],y:h[0],width:s-h[3]-h[1],height:l-h[0]-h[2]},this.plotBox=a.plotBox={x:e,y:n,width:i,height:o},s=2*Math.floor(this.plotBorderWidth/2),r=Math.ceil(Math.max(s,c[3])/2),a=Math.ceil(Math.max(s,c[0])/2),this.clipBox={x:r,y:a,width:Math.floor(this.plotSizeX-Math.max(s,c[1])/2-r),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,c[2])/2-a))},t||this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),I(this,"afterSetChartSize",{skipAxes:t})},t.prototype.resetMargins=function(){I(this,"resetMargins");var t=this,e=t.options.chart;["margin","spacing"].forEach((function(n){var i=e[n],o=P(i)?i:[i,i,i,i];["Top","Right","Bottom","Left"].forEach((function(i,r){t[n][r]=F(e[n+i],o[r])}))})),G.forEach((function(e,n){t[e]=F(t.margin[n],t.spacing[n])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},t.prototype.drawChartBox=function(){var t,e=this.options.chart,n=this.renderer,i=this.chartWidth,o=this.chartHeight,r=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.styledMode,u=this.plotBGImage,h=e.backgroundColor,c=e.plotBackgroundColor,d=e.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,_=this.clipBox,b="animate";if(r||(this.chartBackground=r=n.rect().addClass("highcharts-background").add(),b="attr"),l)var x=t=r.strokeWidth();else t=(x=e.borderWidth||0)+(e.shadow?8:0),h={fill:h||"none"},(x||r["stroke-width"])&&(h.stroke=e.borderColor,h["stroke-width"]=x),r.attr(h).shadow(e.shadow);r[b]({x:t/2,y:t/2,width:i-t-x%2,height:o-t-x%2,r:e.borderRadius}),b="animate",a||(b="attr",this.plotBackground=a=n.rect().addClass("highcharts-plot-background").add()),a[b](v),l||(a.attr({fill:c||"none"}).shadow(e.plotShadow),d&&(u?(d!==u.attr("href")&&u.attr("href",d),u.animate(v)):this.plotBGImage=n.image(d,f,p,g,m).add())),y?y.animate({width:_.width,height:_.height}):this.clipRect=n.clipRect(_),b="animate",s||(b="attr",this.plotBorder=s=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l||s.attr({stroke:e.plotBorderColor,"stroke-width":e.plotBorderWidth||0,fill:"none"}),s[b](s.crisp({x:f,y:p,width:g,height:m},-s.strokeWidth())),this.isDirtyBox=!1,I(this,"afterDrawChartBox")},t.prototype.propFromSeries=function(){var t,e,i,o=this,r=o.options.chart,a=o.options.series;["inverted","angular","polar"].forEach((function(s){for(t=n.seriesTypes[r.type||r.defaultSeriesType],i=r[s]||t&&t.prototype[s],e=a&&a.length;!i&&e--;)(t=n.seriesTypes[a[e].type])&&t.prototype[s]&&(i=!0);o[s]=i}))},t.prototype.linkSeries=function(){var t=this,e=t.series;e.forEach((function(t){t.linkedSeries.length=0})),e.forEach((function(e){var n=e.options.linkedTo;A(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,n.enabledDataSorting&&e.setDataSortingOptions(),e.visible=F(e.options.visible,n.options.visible,e.visible))})),I(this,"afterLinkSeries")},t.prototype.renderSeries=function(){this.series.forEach((function(t){t.translate(),t.render()}))},t.prototype.renderLabels=function(){var t=this,e=t.options.labels;e.items&&e.items.forEach((function(n){var i=k(e.style,n.style),o=L(i.left)+t.plotLeft,r=L(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,o,r).attr({zIndex:2}).css(i).add()}))},t.prototype.render=function(){var t=this.axes,e=this.colorAxis,n=this.renderer,i=this.options,r=0,a=function(t){t.forEach((function(t){t.visible&&t.render()}))};this.setTitle(),this.legend=new o(this,i.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),i=this.plotWidth,t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return r=21,!0}));var s=this.plotHeight=Math.max(this.plotHeight-r,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();var l=1.1<i/this.plotWidth,u=1.05<s/this.plotHeight;(l||u)&&(t.forEach((function(t){(t.horiz&&l||!t.horiz&&u)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?a(t):e&&e.length&&a(e),this.seriesGroup||(this.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.updateContainerScaling(),this.hasRendered=!0},t.prototype.addCredits=function(t){var e=this,n=R(!0,this.options.credits,t);n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){n.href&&(g.location.href=n.href)})).attr({align:n.position.align,zIndex:8}),e.styledMode||this.credits.css(n.style),this.credits.add().align(n.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},t.prototype.updateContainerScaling=function(){var t=this.container;if(2<t.offsetWidth&&2<t.offsetHeight&&t.getBoundingClientRect){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth;t=e.height/t.offsetHeight,1!==n||1!==t?this.containerScaling={scaleX:n,scaleY:t}:delete this.containerScaling}},t.prototype.destroy=function(){var t,e=this,n=e.axes,o=e.series,r=e.container,a=r&&r.parentNode;for(I(e,"destroy"),e.renderer.forExport?C(f,e):f[e.index]=void 0,i.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),j(e),t=n.length;t--;)n[t]=n[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=o.length;t--;)o[t]=o[t].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())})),r&&(r.innerHTML="",j(r),a&&w(r)),N(e,(function(t,n){delete e[n]}))},t.prototype.firstRender=function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),(D(e.series)?e.series:[]).forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSeriesData(),I(t,"beforeRender"),s&&(t.pointer=i.hasTouch||!g.PointerEvent&&!g.MSPointerEvent?new s(t,e):new r(t,e)),t.render(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0))},t.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach((function(t){t&&"undefined"!==typeof this.index&&t.apply(this,[this])}),this),I(this,"load"),I(this,"render"),x(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},t}();return K.prototype.callbacks=[],i.chart=function(t,e,n){return new K(t,e,n)},i.Chart=K})),e(n,"Extensions/ScrollablePlotArea.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Chart/Chart.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n,i){var o=t.stop,r=i.addEvent,a=i.createElement,s=i.pick;r(e,"afterSetChartSize",(function(t){var e=this.options.chart.scrollablePlotArea,i=e&&e.minWidth;if(e=e&&e.minHeight,!this.renderer.forExport){if(i){if(this.scrollablePixelsX=i=Math.max(0,i-this.chartWidth)){this.plotWidth+=i,this.inverted?(this.clipBox.height+=i,this.plotBox.height+=i):(this.clipBox.width+=i,this.plotBox.width+=i);var o={1:{name:"right",value:i}}}}else e&&(this.scrollablePixelsY=i=Math.max(0,e-this.chartHeight))&&(this.plotHeight+=i,this.inverted?(this.clipBox.width+=i,this.plotBox.width+=i):(this.clipBox.height+=i,this.plotBox.height+=i),o={2:{name:"bottom",value:i}});o&&!t.skipAxes&&this.axes.forEach((function(t){o[t.side]?t.getPlotLinePath=function(){var e=o[t.side].name,i=this[e];this[e]=i-o[t.side].value;var r=n.Axis.prototype.getPlotLinePath.apply(this,arguments);return this[e]=i,r}:(t.setAxisSize(),t.setAxisTranslation())}))}})),r(e,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),e.prototype.setUpScrolling=function(){var t=this,e={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(e.overflowX="auto"),this.scrollablePixelsY&&(e.overflowY="auto"),this.scrollingParent=a("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=a("div",{className:"highcharts-scrolling"},e,this.scrollingParent),r(this.scrollingContainer,"scroll",(function(){t.pointer&&delete t.pointer.chartPosition})),this.innerContainer=a("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},e.prototype.moveFixedElements=function(){var t,e=this.container,n=this.fixedRenderer,i=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),i.push(t,t+"-labels"),i.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},e.prototype.applyFixed=function(){var t,e,i=!this.fixedDiv,l=this.options.chart.scrollablePlotArea;i?(this.fixedDiv=a("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2,top:0},null,!0),null===(t=this.scrollingContainer)||void 0===t||t.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=t=new n.Renderer(this.fixedDiv,this.chartWidth,this.chartHeight,null===(e=this.options.chart)||void 0===e?void 0:e.style),this.scrollableMask=t.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":s(l.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),this.moveFixedElements(),r(this,"afterShowResetZoom",this.moveFixedElements),r(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),e=this.chartWidth+(this.scrollablePixelsX||0),t=this.chartHeight+(this.scrollablePixelsY||0),o(this.container),this.container.style.width=e+"px",this.container.style.height=t+"px",this.renderer.boxWrapper.attr({width:e,height:t,viewBox:[0,0,e,t].join(" ")}),this.chartBackground.attr({width:e,height:t}),this.scrollingContainer.style.height=this.chartHeight+"px",i&&(l.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*l.scrollPositionX),l.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*l.scrollPositionY)),t=this.axisOffset,i=this.plotTop-t[0]-1,l=this.plotLeft-t[3]-1,e=this.plotTop+this.plotHeight+t[2]+1,t=this.plotLeft+this.plotWidth+t[1]+1;var u=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),h=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);i=this.scrollablePixelsX?[["M",0,i],["L",this.plotLeft-1,i],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",u,i],["L",this.chartWidth,i],["L",this.chartWidth,e],["L",u,e],["Z"]]:this.scrollablePixelsY?[["M",l,0],["L",l,this.plotTop-1],["L",t,this.plotTop-1],["L",t,0],["Z"],["M",l,h],["L",l,this.chartHeight],["L",t,this.chartHeight],["L",t,h],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:i})}})),e(n,"Core/Axis/StackingAxis.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Utilities.js"]],(function(t,e){var n=t.getDeferredAnimation,i=e.addEvent,o=e.destroyObjectProperties,r=e.fireEvent,a=e.objectEach,s=e.pick,l=function(){function t(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}return t.prototype.buildStacks=function(){var t,e=this.axis,n=e.series,i=s(e.options.reversedStacks,!0),o=n.length;if(!e.isXAxis){for(this.usePercentage=!1,t=o;t--;){var a=n[i?t:o-t-1];a.setStackedPoints(),a.setGroupedPoints()}for(t=0;t<o;t++)n[t].modifyStacks();r(e,"afterBuildStacks")}},t.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var t=this.stacks=this.oldStacks;a(t,(function(t){a(t,(function(t){t.cumulative=t.total}))}))}},t.prototype.resetStacks=function(){var t=this,e=t.stacks;t.axis.isXAxis||a(e,(function(e){a(e,(function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cumulative=null)}))}))},t.prototype.renderStackTotals=function(){var t=this.axis,e=t.chart,i=e.renderer,o=this.stacks;t=n(e,t.options.stackLabels.animation);var r=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();r.translate(e.plotLeft,e.plotTop),a(o,(function(t){a(t,(function(t){t.render(r)}))})),r.animate({opacity:1},t)},t}();return function(){function t(){}return t.compose=function(e){i(e,"init",t.onInit),i(e,"destroy",t.onDestroy)},t.onDestroy=function(){var t=this.stacking;if(t){var e=t.stacks;a(e,(function(t,n){o(t),e[n]=null})),t&&t.stackTotalGroup&&t.stackTotalGroup.destroy()}},t.onInit=function(){this.stacking||(this.stacking=new l(this))},t}()})),e(n,"Mixins/LegendSymbol.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.merge,i=e.pick;return t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,o=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(o?(t.symbolWidth-n)/2:0,t.baseline-n+1,o?n:t.symbolWidth,n,i(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,o=e.marker,r=t.symbolWidth,a=t.symbolHeight,s=a/2,l=this.chart.renderer,u=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var h={};this.chart.styledMode||(h={"stroke-width":e.lineWidth||0},e.dashStyle&&(h.dashstyle=e.dashStyle)),this.legendLine=l.path([["M",0,t],["L",r,t]]).addClass("highcharts-graph").attr(h).add(u),o&&!1!==o.enabled&&r&&(e=Math.min(i(o.radius,s),s),0===this.symbol.indexOf("url")&&(o=n(o,{width:a,height:a}),e=0),this.legendSymbol=o=l.symbol(this.symbol,r/2-e,t-e,2*e,2*e,o).addClass("highcharts-point").add(u),o.isMarker=!0)}}})),e(n,"Core/Series/CartesianSeries.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Series/Series.js"],n["Core/Globals.js"],n["Mixins/LegendSymbol.js"],n["Core/Options.js"],n["Core/Series/Point.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,a,s){var l=t.animObject,u=o.defaultOptions,h=s.addEvent,c=s.arrayMax,d=s.arrayMin,f=s.clamp,p=s.correctFloat,g=s.defined,m=s.erase,v=s.error,y=s.extend,_=s.find,b=s.fireEvent,x=s.getNestedProperty,w=s.isArray,C=s.isFunction,S=s.isNumber,k=s.isString,E=s.merge,I=s.objectEach,T=s.pick,D=s.removeEvent,M=s.splat,O=s.syncTimeout,P=e.seriesTypes,A=n.win;return t=e.seriesType("line",void 0,{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){var t=this.series.chart.numberFormatter;return"number"!==typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,parallelArrays:["x","y"],pointClass:r,requireSorting:!0,sorted:!0,init:function(t,e){b(this,"init",{options:e});var n,i=this,o=t.series;this.eventOptions=this.eventOptions||{},this.eventsToUnbind=[],i.chart=t,i.options=e=i.setOptions(e),i.linkedSeries=[],i.bindAxes(),y(i,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected});var r=e.events;I(r,(function(t,e){C(t)&&i.eventOptions[e]!==t&&(C(i.eventOptions[e])&&D(i,e,i.eventOptions[e]),i.eventOptions[e]=t,h(i,e,t))})),(r&&r.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(t){i[t+"Data"]||(i[t+"Data"]=[])})),i.isCartesian&&(t.hasCartesianSeries=!0),o.length&&(n=o[o.length-1]),i._i=T(n&&n._i,-1)+1,i.opacity=i.options.opacity,t.orderSeries(this.insert(o)),e.dataSorting&&e.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(e.data,!1),b(this,"afterInit")},is:function(t){return P[t]&&this instanceof P[t]},insert:function(t){var e,n=this.options.index;if(S(n)){for(e=t.length;e--;)if(n>=T(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return T(e,t.length-1)},bindAxes:function(){var t,e=this,n=e.options,i=e.chart;b(this,"bindAxes",null,(function(){(e.axisTypes||[]).forEach((function(o){i[o].forEach((function(i){t=i.options,(n[o]===t.index||"undefined"!==typeof n[o]&&n[o]===t.id||"undefined"===typeof n[o]&&0===t.index)&&(e.insert(i.series),e[o]=i,i.isDirty=!0)})),e[o]||e.optionalAxis===o||v(18,!0,i)}))})),b(this,"afterBindAxes")},updateParallelArrays:function(t,e){var n=t.series,i=arguments,o=S(e)?function(i){var o="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=o}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};n.parallelArrays.forEach(o)},hasData:function(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,o=this.chart.time;return n=T(n,e.pointStart,0),this.pointInterval=t=T(this.pointInterval,e.pointInterval,1),i&&(e=new o.Date(n),"day"===i?o.set("Date",e,o.get("Date",e)+t):"month"===i?o.set("Month",e,o.get("Month",e)+t):"year"===i&&o.set("FullYear",e,o.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setDataSortingOptions:function(){var t=this.options;y(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),g(t.pointRange)||(t.pointRange=1)},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,o=e.userOptions||{};t=E(t),e=e.styledMode;var r={plotOptions:i,userOptions:t};b(this,"setOptions",r);var a=r.plotOptions[this.type],s=o.plotOptions||{};return this.userOptions=r.userOptions,o=E(a,i.series,o.plotOptions&&o.plotOptions[this.type],t),this.tooltipOptions=E(u.tooltip,u.plotOptions.series&&u.plotOptions.series.tooltip,u.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=T(t.stickyTracking,s[this.type]&&s[this.type].stickyTracking,s.series&&s.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||o.stickyTracking),null===a.marker&&delete o.marker,this.zoneAxis=o.zoneAxis,n=this.zones=(o.zones||[]).slice(),!o.negativeColor&&!o.negativeFillColor||o.zones||(i={value:o[this.zoneAxis+"Threshold"]||o.threshold||0,className:"highcharts-negative"},e||(i.color=o.negativeColor,i.fillColor=o.negativeFillColor),n.push(i)),n.length&&g(n[n.length-1].value)&&n.push(e?{}:{color:this.color,fillColor:this.fillColor}),b(this,"afterSetOptions",{options:o}),o},getName:function(){return T(this.options.name,"Series "+(this.index+1))},getCyclic:function(t,e,n){var i=this.chart,o=this.userOptions,r=t+"Index",a=t+"Counter",s=n?n.length:T(i.options.chart[t+"Count"],i[t+"Count"]);if(!e){var l=T(o[r],o["_"+r]);g(l)||(i.series.length||(i[a]=0),o["_"+r]=l=i[a]%s,i[a]+=1),n&&(e=n[l])}"undefined"!==typeof l&&(this[r]=l),this[t]=e},getColor:function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||u.plotOptions[this.type].color,this.chart.options.colors)},getPointsCollection:function(){return(this.hasGroupedData?this.points:this.data)||[]},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},findPointIndex:function(t,e){var n,i=t.id,o=t.x,r=this.points,a=this.options.dataSorting;if(i)var s=this.chart.get(i);else if(this.linkedParent||this.enabledDataSorting){var l=a&&a.matchByName?"name":"index";if(!(s=_(r,(function(e){return!e.touched&&e[l]===t[l]}))))return}if(s){var u=s&&s.index;"undefined"!==typeof u&&(n=!0)}return"undefined"===typeof u&&S(o)&&(u=this.xData.indexOf(o,e)),-1!==u&&"undefined"!==typeof u&&this.cropped&&(u=u>=this.cropStart?u-this.cropStart:u),!n&&r[u]&&r[u].touched&&(u=void 0),u},drawLegendSymbol:i.drawLineMarker,updateData:function(t,e){var n,i,o,r=this.options,a=r.dataSorting,s=this.points,l=[],u=this.requireSorting,h=t.length===s.length,d=!0;if(this.xIncrement=null,t.forEach((function(t,e){var i=g(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},c=i.x;i.id||S(c)?(-1===(c=this.findPointIndex(i,o))||"undefined"===typeof c?l.push(t):s[c]&&t!==r.data[c]?(s[c].update(t,!1,null,!1),s[c].touched=!0,u&&(o=c+1)):s[c]&&(s[c].touched=!0),(!h||e!==c||a&&a.enabled||this.hasDerivedData)&&(n=!0)):l.push(t)}),this),n)for(t=s.length;t--;)(i=s[t])&&!i.touched&&i.remove&&i.remove(!1,e);else!h||a&&a.enabled?d=!1:(t.forEach((function(t,e){s[e].update&&t!==s[e].y&&s[e].update(t,!1,null,!1)})),l.length=0);return s.forEach((function(t){t&&(t.touched=!1)})),!!d&&(l.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=c(this.xData),this.autoIncrement()),!0)},setData:function(t,e,n,i){var o,r=this,a=r.points,s=a&&a.length||0,l=r.options,u=r.chart,h=l.dataSorting,c=null,d=r.xAxis;c=l.turboThreshold;var f,p=this.xData,g=this.yData,m=(o=r.pointArrayMap)&&o.length,y=l.keys,_=0,b=1;if(o=(t=t||[]).length,e=T(e,!0),h&&h.enabled&&(t=this.sortData(t)),!1!==i&&o&&s&&!r.cropped&&!r.hasGroupedData&&r.visible&&!r.isSeriesBoosting&&(f=this.updateData(t,n)),!f){if(r.xIncrement=null,r.colorCounter=0,this.parallelArrays.forEach((function(t){r[t+"Data"].length=0})),c&&o>c)if(c=r.getFirstValidPoint(t),S(c))for(n=0;n<o;n++)p[n]=this.autoIncrement(),g[n]=t[n];else if(w(c))if(m)for(n=0;n<o;n++)i=t[n],p[n]=i[0],g[n]=i.slice(1,m+1);else for(y&&(_=0<=(_=y.indexOf("x"))?_:0,b=0<=(b=y.indexOf("y"))?b:1),n=0;n<o;n++)i=t[n],p[n]=i[_],g[n]=i[b];else v(12,!1,u);else for(n=0;n<o;n++)"undefined"!==typeof t[n]&&(i={series:r},r.pointClass.prototype.applyOptions.apply(i,[t[n]]),r.updateParallelArrays(i,n));for(g&&k(g[0])&&v(14,!0,u),r.data=[],r.options.data=r.userOptions.data=t,n=s;n--;)a[n]&&a[n].destroy&&a[n].destroy();d&&(d.minRange=d.userMinRange),r.isDirty=u.isDirtyBox=!0,r.isDirtyData=!!a,n=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&u.redraw(n)},sortData:function(t){var e=this,n=e.options.dataSorting.sortKey||"y",i=function(t,e){return g(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach((function(n,o){t[o]=i(e,n),t[o].index=o}),this),t.concat().sort((function(t,e){return t=x(n,t),(e=x(n,e))<t?-1:e>t?1:0})).forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){var n=e.options,o=n.data;n.dataSorting&&n.dataSorting.enabled||!o||(o.forEach((function(n,r){o[r]=i(e,n),t[r]&&(o[r].x=t[r].x,o[r].index=r)})),e.setData(o,!1))})),t},getProcessedData:function(t){var e=this.xData,n=this.yData,i=e.length,o=0,r=this.xAxis,a=this.options,s=a.cropThreshold,l=t||this.getExtremesFromAll||a.getExtremesFromAll,u=this.isCartesian;t=r&&r.val2lin,a=!(!r||!r.logarithmic);var h=this.requireSorting;if(r)var c=(r=r.getExtremes()).min,d=r.max;if(u&&this.sorted&&!l&&(!s||i>s||this.forceCrop))if(e[i-1]<c||e[0]>d)e=[],n=[];else if(this.yData&&(e[0]<c||e[i-1]>d)){e=(o=this.cropData(this.xData,this.yData,c,d)).xData,n=o.yData,o=o.start;var f=!0}for(s=e.length||1;--s;)if(0<(i=a?t(e[s])-t(e[s-1]):e[s]-e[s-1])&&("undefined"===typeof p||i<p))var p=i;else 0>i&&h&&(v(15,!1,this.chart),h=!1);return{xData:e,yData:n,cropped:f,cropStart:o,closestPointRange:p}},processData:function(t){var e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;t=this.getProcessedData(),this.cropped=t.cropped,this.cropStart=t.cropStart,this.processedXData=t.xData,this.processedYData=t.yData,this.closestPointRange=this.basePointRange=t.closestPointRange},cropData:function(t,e,n,i,o){var r,a=t.length,s=0,l=a;for(o=T(o,this.cropShoulder),r=0;r<a;r++)if(t[r]>=n){s=Math.max(0,r-o);break}for(n=r;n<a;n++)if(t[n]>i){l=n+o;break}return{xData:t.slice(s,l),yData:e.slice(s,l),start:s,end:l}},generatePoints:function(){var t,e=this.options,n=e.data,i=this.data,o=this.processedXData,r=this.processedYData,a=this.pointClass,s=o.length,l=this.cropStart||0,u=this.hasGroupedData;e=e.keys;var h,c=[];for(i||u||((i=[]).length=n.length,i=this.data=i),e&&u&&(this.options.keys=!1),h=0;h<s;h++){var d=l+h;if(u){var f=(new a).init(this,[o[h]].concat(M(r[h])));f.dataGroup=this.groupMap[h],f.dataGroup.options&&(f.options=f.dataGroup.options,y(f,f.dataGroup.options),delete f.dataLabels)}else(f=i[d])||"undefined"===typeof n[d]||(i[d]=f=(new a).init(this,n[d],o[h]));f&&(f.index=d,c[h]=f)}if(this.options.keys=e,i&&(s!==(t=i.length)||u))for(h=0;h<t;h++)h!==l||u||(h+=s),i[h]&&(i[h].destroyElements(),i[h].plotX=void 0);this.data=i,this.points=c,b(this,"afterGeneratePoints")},getXExtremes:function(t){return{min:d(t),max:c(t)}},getExtremes:function(t,e){var n,i=this.xAxis,o=this.yAxis,r=this.processedXData||this.xData,a=[],s=0,l=0,u=0,h=this.requireSorting?this.cropShoulder:0,f=!!o&&o.positiveValuesOnly;for(o=(t=t||this.stackedYData||this.processedYData||[]).length,i&&(l=(u=i.getExtremes()).min,u=u.max),n=0;n<o;n++){var p=r[n],g=t[n],m=(S(g)||w(g))&&(g.length||0<g||!f);if(p=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(r[n+h]||p)>=l&&(r[n-h]||p)<=u,m&&p)if(m=g.length)for(;m--;)S(g[m])&&(a[s++]=g[m]);else a[s++]=g}return t={dataMin:d(a),dataMax:c(a)},b(this,"afterGetExtremes",{dataExtremes:t}),t},applyExtremes:function(){var t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t},getFirstValidPoint:function(t){for(var e=null,n=t.length,i=0;null===e&&i<n;)e=t[i],i++;return e},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n=this.options,i=n.stacking,o=this.xAxis,r=o.categories,a=this.enabledDataSorting,s=this.yAxis,l=this.points,u=l.length,h=!!this.modifyValue,c=this.pointPlacementToXValue(),d=!!c,m=n.threshold,v=n.startFromThreshold?m:0,y=this.zoneAxis||"y",_=Number.MAX_VALUE;for(t=0;t<u;t++){var x=l[t],C=x.x,k=x.y,E=x.low,I=i&&s.stacking&&s.stacking.stacks[(this.negStacks&&k<(v?0:m)?"-":"")+this.stackKey];if((s.positiveValuesOnly&&!s.validatePositiveValue(k)||o.positiveValuesOnly&&!o.validatePositiveValue(C))&&(x.isNull=!0),x.plotX=e=p(f(o.translate(C,0,0,0,1,c,"flags"===this.type),-1e5,1e5)),i&&this.visible&&I&&I[C]){var D=this.getStackIndicator(D,C,this.index);if(!x.isNull)var M=I[C],O=M.points[D.key]}if(w(O)&&(E=O[0],k=O[1],E===v&&D.key===I[C].base&&(E=T(S(m)&&m,s.min)),s.positiveValuesOnly&&0>=E&&(E=null),x.total=x.stackTotal=M.total,x.percentage=M.total&&x.y/M.total*100,x.stackY=k,this.irregularWidths||M.setOffset(this.pointXOffset||0,this.barW||0)),x.yBottom=g(E)?f(s.translate(E,0,1,0,1),-1e5,1e5):null,h&&(k=this.modifyValue(k,x)),x.plotY="number"===typeof k&&1/0!==k?f(s.translate(k,0,1,0,1),-1e5,1e5):void 0,x.isInside=this.isPointInside(x),x.clientX=d?p(o.translate(C,0,0,0,1,c)):e,x.negative=x[y]<(n[y+"Threshold"]||m||0),x.category=r&&"undefined"!==typeof r[x.x]?r[x.x]:x.x,!x.isNull&&!1!==x.visible){"undefined"!==typeof P&&(_=Math.min(_,Math.abs(e-P)));var P=e}x.zone=this.zones.length&&x.getZone(),!x.graphic&&this.group&&a&&(x.isNew=!0)}this.closestPointRangePx=_,b(this,"afterTranslate")},getValidPoints:function(t,e,n){var i=this.chart;return(t||this.points||[]).filter((function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&(!1!==t.visible&&(n||!t.isNull))}))},getClipBox:function(t,e){var n=this.options,i=this.chart,o=i.inverted,r=this.xAxis,a=r&&this.yAxis,s=i.options.chart.scrollablePlotArea||{};return t&&!1===n.clip&&a?t=o?{y:-i.chartWidth+a.len+a.pos,height:i.chartWidth,width:i.chartHeight,x:-i.chartHeight+r.len+r.pos}:{y:-a.pos,height:i.chartHeight,width:i.chartWidth,x:-r.pos}:(t=this.clipBox||i.clipBox,e&&(t.width=i.plotSizeX,t.x=(i.scrollablePixelsX||0)*(s.scrollPositionX||0))),e?{width:t.width,x:t.x}:t},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,o=e.inverted,r=this.clipBox,a=this.getClipBox(t),s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,a.height,n.xAxis,n.yAxis].join(),l=e[s],u=e[s+"m"];t&&(a.width=0,o&&(a.x=e.plotHeight+(!1!==n.clip?0:e.plotTop))),l?e.hasLoaded||l.attr(a):(t&&(e[s+"m"]=u=i.clipRect(o?e.plotSizeX+99:-99,o?-e.plotLeft:-e.plotTop,99,o?e.chartWidth:e.chartHeight)),e[s]=l=i.clipRect(a),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),(!1!==n.clip||t)&&(this.group.clip(t||r?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&e[s]&&(r||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e=this.chart,n=l(this.options.animation);if(!e.hasRendered)if(t)this.setClip(n);else{var i=this.sharedClipKey;t=e[i];var o=this.getClipBox(n,!0);t&&t.animate(o,n),e[i+"m"]&&e[i+"m"].animate({width:o.width+99,x:o.x-(e.inverted?0:99)},n)}},afterAnimate:function(){this.setClip(),b(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n=this.points,i=this.chart,o=this.options.marker,r=this[this.specialGroup]||this.markerGroup,a=this.xAxis,s=T(o.enabled,!(a&&!a.isRadial)||null,this.closestPointRangePx>=o.enabledThreshold*o.radius);if(!1!==o.enabled||this._hasPointMarkers)for(t=0;t<n.length;t++){var l=n[t],u=(e=l.graphic)?"animate":"attr",h=l.marker||{},c=!!l.marker;if((s&&"undefined"===typeof h.enabled||h.enabled)&&!l.isNull&&!1!==l.visible){var d=T(h.symbol,this.symbol),f=this.markerAttribs(l,l.selected&&"select");this.enabledDataSorting&&(l.startXPos=a.reversed?-f.width:a.width);var p=!1!==l.isInside;e?e[p?"show":"hide"](p).animate(f):p&&(0<f.width||l.hasImage)&&(l.graphic=e=i.renderer.symbol(d,f.x,f.y,f.width,f.height,c?h:o).add(r),this.enabledDataSorting&&i.hasRendered&&(e.attr({x:l.startXPos}),u="animate")),e&&"animate"===u&&e[p?"show":"hide"](p).animate(f),e&&!i.styledMode&&e[u](this.pointAttribs(l,l.selected&&"select")),e&&e.addClass(l.getClassName(),!0)}else e&&(l.graphic=e.destroy())}},markerAttribs:function(t,e){var n=this.options,i=n.marker,o=t.marker||{},r=o.symbol||i.symbol,a=T(o.radius,i.radius);return e&&(i=i.states[e],e=o.states&&o.states[e],a=T(e&&e.radius,i&&i.radius,a+(i&&i.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(a=0),t={x:n.crisp?Math.floor(t.plotX)-a:t.plotX-a,y:t.plotY-a},a&&(t.width=t.height=2*a),t},pointAttribs:function(t,e){var n=this.options.marker,i=t&&t.options,o=i&&i.marker||{},r=this.color,a=i&&i.color,s=t&&t.color;i=T(o.lineWidth,n.lineWidth);var l=t&&t.zone&&t.zone.color;return t=1,r=a||l||s||r,a=o.fillColor||n.fillColor||r,r=o.lineColor||n.lineColor||r,e=e||"normal",n=n.states[e],e=o.states&&o.states[e]||{},i=T(e.lineWidth,n.lineWidth,i+T(e.lineWidthPlus,n.lineWidthPlus,0)),a=e.fillColor||n.fillColor||a,{stroke:r=e.lineColor||n.lineColor||r,"stroke-width":i,fill:a,opacity:t=T(e.opacity,n.opacity,t)}},destroy:function(t){var e,n,i,o=this,r=o.chart,l=/AppleWebKit\/533/.test(A.navigator.userAgent),u=o.data||[];for(b(o,"destroy"),this.removeEvents(t),(o.axisTypes||[]).forEach((function(t){(i=o[t])&&i.series&&(m(i.series,o),i.isDirty=i.forceRedraw=!0)})),o.legendItem&&o.chart.legend.destroyItem(o),e=u.length;e--;)(n=u[e])&&n.destroy&&n.destroy();o.points=null,s.clearTimeout(o.animationTimeout),I(o,(function(t,e){t instanceof a&&!t.survive&&t[l&&"group"===e?"hide":"destroy"]()})),r.hoverSeries===o&&(r.hoverSeries=null),m(r.series,o),r.orderSeries(),I(o,(function(e,n){t&&"hcEvents"===n||delete o[n]}))},getGraphPath:function(t,e,n){var i,o,r=this,a=r.options,s=a.step,l=[],u=[];return(i=(t=t||r.points).reversed)&&t.reverse(),(s={right:1,center:2}[s]||s&&3)&&i&&(s=4-s),(t=this.getValidPoints(t,!1,!(a.connectNulls&&!e&&!n))).forEach((function(i,h){var c=i.plotX,d=i.plotY,f=t[h-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(o=!0),i.isNull&&!g(e)&&0<h?o=!a.connectNulls:i.isNull&&!e?o=!0:(0===h||o?h=[["M",i.plotX,i.plotY]]:r.getPointSpline?h=[r.getPointSpline(t,i,h)]:s?(h=1===s?[["L",f.plotX,d]]:2===s?[["L",(f.plotX+c)/2,f.plotY],["L",(f.plotX+c)/2,d]]:[["L",c,f.plotY]]).push(["L",c,d]):h=[["L",c,d]],u.push(i.x),s&&(u.push(i.x),2===s&&u.push(i.x)),l.push.apply(l,h),o=!1)})),l.xMap=u,r.graphPath=l},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode,o=[["graph","highcharts-graph"]];i||o[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),(o=t.getZonesGraphs(o)).forEach((function(o,r){var a=o[0],s=t[a],l=s?"animate":"attr";s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):n.length&&(t[a]=s=t.chart.renderer.path(n).addClass(o[1]).attr({zIndex:1}).add(t.group)),s&&!i&&(a={stroke:o[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},o[3]?a.dashstyle=o[3]:"square"!==e.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),s[l](a).shadow(2>r&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)}))},getZonesGraphs:function(t){return this.zones.forEach((function(e,n){n=["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||"")],this.chart.styledMode||n.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(n)}),this),t},applyZones:function(){var t,e,n,i,o,r,a,s,l=this,u=this.chart,h=u.renderer,c=this.zones,d=this.clips||[],p=this.graph,g=this.area,m=Math.max(u.chartWidth,u.chartHeight),v=this[(this.zoneAxis||"y")+"Axis"],y=u.inverted,_=!1;if(c.length&&(p||g)&&v&&"undefined"!==typeof v.min){var b=v.reversed,x=v.horiz;p&&!this.showLine&&p.hide(),g&&g.hide();var w=v.getExtremes();c.forEach((function(c,C){t=b?x?u.plotWidth:0:x?0:v.toPixels(w.min)||0,t=f(T(e,t),0,m),e=f(Math.round(v.toPixels(T(c.value,w.max),!0)||0),0,m),_&&(t=e=v.toPixels(w.max)),i=Math.abs(t-e),o=Math.min(t,e),r=Math.max(t,e),v.isXAxis?(n={x:y?r:o,y:0,width:i,height:m},x||(n.x=u.plotHeight-n.x)):(n={x:0,y:y?r:o,width:m,height:i},x&&(n.y=u.plotWidth-n.y)),y&&h.isVML&&(n=v.isXAxis?{x:0,y:b?o:r,height:n.width,width:u.chartWidth}:{x:n.y-u.plotLeft-u.spacingBox.x,y:0,width:n.height,height:u.chartHeight}),d[C]?d[C].animate(n):d[C]=h.clipRect(n),a=l["zone-area-"+C],s=l["zone-graph-"+C],p&&s&&s.clip(d[C]),g&&a&&a.clip(d[C]),_=c.value>w.max,l.resetZones&&0===e&&(e=void 0)})),this.clips=d}else l.visible&&(p&&p.show(!0),g&&g.show(!0))},invertGroups:function(t){function e(){["group","markerGroup"].forEach((function(e){n[e]&&(i.renderer.isVML&&n[e].attr({width:n.yAxis.len,height:n.xAxis.len}),n[e].width=n.yAxis.len,n[e].height=n.xAxis.len,n[e].invert(!n.isRadialSeries&&t))}))}var n=this,i=n.chart;n.xAxis&&(n.eventsToUnbind.push(h(i,"resize",e)),e(),n.invertGroups=e)},plotGroup:function(t,e,n,i,o){var r=this[t],a=!r;return n={visibility:n,zIndex:i||.1},"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(n.opacity=this.opacity),a&&(this[t]=r=this.chart.renderer.g().add(o)),r.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(g(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(r.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),r.attr(n)[a?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},removeEvents:function(t){t?this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0):D(this)},render:function(){var t=this,e=t.chart,n=t.options,i=l(n.animation),o=!t.finishedAnimating&&e.renderer.isSVG&&i.duration,r=t.visible?"inherit":"hidden",a=n.zIndex,s=t.hasRendered,u=e.seriesGroup,h=e.inverted;b(this,"render");var c=t.plotGroup("group","series",r,a,u);t.markerGroup=t.plotGroup("markerGroup","markers",r,a,u),o&&t.animate&&t.animate(!0),c.inverted=!(!t.isCartesian&&!t.invertable)&&h,t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.invertGroups(h),!1===n.clip||t.sharedClipKey||s||c.clip(e.clipRect),o&&t.animate&&t.animate(),s||(o&&i.defer&&(o+=i.defer),t.animationTimeout=O((function(){t.afterAnimate()}),o||0)),t.isDirty=!1,t.hasRendered=!0,b(t,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,o=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:T(i&&i.left,t.plotLeft),translateY:T(o&&o.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:o?i.len-t.chartX+i.pos:t.chartY-i.pos},e,t)},buildKDTree:function(t){this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,O((function(){e.kdTree=function t(n,i,o){var r;if(r=n&&n.length){var a=e.kdAxisArray[i%o];return n.sort((function(t,e){return t[a]-e[a]})),{point:n[r=Math.floor(r/2)],left:t(n.slice(0,r),i+1,o),right:t(n.slice(r+1),i+1,o)}}}(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1}),e.options.kdNow||t&&"touchstart"===t.type?0:1)},searchKDTree:function(t,e,n){var i=this,o=this.kdAxisArray[0],r=this.kdAxisArray[1],a=e?"distX":"dist";if(e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return function t(e,n,s,l){var u=n.point,h=i.kdAxisArray[s%l],c=u,d=g(e[o])&&g(u[o])?Math.pow(e[o]-u[o],2):null,f=g(e[r])&&g(u[r])?Math.pow(e[r]-u[r],2):null;return f=(d||0)+(f||0),u.dist=g(f)?Math.sqrt(f):Number.MAX_VALUE,u.distX=g(d)?Math.sqrt(d):Number.MAX_VALUE,d=0>(h=e[h]-u[h])?"right":"left",n[f=0>h?"left":"right"]&&(c=(f=t(e,n[f],s+1,l))[a]<c[a]?f:u),n[d]&&Math.sqrt(h*h)<c[a]&&(c=(e=t(e,n[d],s+1,l))[a]<c[a]?e:c),c}(t,this.kdTree,e,e)},pointPlacementToXValue:function(){var t=this.options,e=t.pointRange,n=this.xAxis;return"between"===(t=t.pointPlacement)&&(t=n.reversed?-.5:.5),S(t)?t*T(e,n.pointRange):0},isPointInside:function(t){return"undefined"!==typeof t.plotY&&"undefined"!==typeof t.plotX&&0<=t.plotY&&t.plotY<=this.yAxis.len&&0<=t.plotX&&t.plotX<=this.xAxis.len}})})),e(n,"Series/LineSeries.js",[n["Core/Series/CartesianSeries.js"],n["Core/Globals.js"]],(function(t,e){return e.Series=t,e.Series})),e(n,"Extensions/Stacking.js",[n["Core/Axis/Axis.js"],n["Core/Chart/Chart.js"],n["Core/Globals.js"],n["Core/Axis/StackingAxis.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o){var r=o.correctFloat,a=o.defined,s=o.destroyObjectProperties,l=o.format,u=o.isNumber,h=o.pick,c=n.Series,d=function(){function t(t,e,n,i,o){var r=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e=e||{},this.x=i,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=o,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(r?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":n?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(r?n?"right":"left":"center")}return t.prototype.destroy=function(){s(this,this.axis)},t.prototype.render=function(t){var e=this.axis.chart,n=this.options,i=n.format;i=i?l(i,this,e):n.formatter.call(this),this.label?this.label.attr({text:i,visibility:"hidden"}):(this.label=e.renderer.label(i,null,null,n.shape,null,null,n.useHTML,!1,"stack-labels"),i={r:n.borderRadius||0,text:i,rotation:n.rotation,padding:h(n.padding,5),visibility:"hidden"},e.styledMode||(i.fill=n.backgroundColor,i.stroke=n.borderColor,i["stroke-width"]=n.borderWidth,this.label.css(n.style)),this.label.attr(i),this.label.added||this.label.add(t)),this.label.labelrank=e.plotHeight},t.prototype.setOffset=function(t,e,n,i,o){var r=this.axis,s=r.chart;i=r.translate(r.stacking.usePercentage?100:i||this.total,0,0,0,1),n=r.translate(n||0),n=a(i)&&Math.abs(i-n),t=h(o,s.xAxis[0].translate(this.x))+t,r=a(i)&&this.getStackBox(s,this,t,i,e,n,r),e=this.label,n=this.isNegative,t="justify"===h(this.options.overflow,"justify");var l=this.textAlign;e&&r&&(o=e.getBBox(),i=e.padding,l="left"===l?s.inverted?-i:i:"right"===l?o.width:s.inverted&&"center"===l?o.width/2:s.inverted?n?o.width+i:-i:o.width/2,n=s.inverted?o.height/2:n?-i:o.height,this.alignOptions.x=h(this.options.x,0),this.alignOptions.y=h(this.options.y,0),r.x-=l,r.y-=n,e.align(this.alignOptions,null,r),s.isInsidePlot(e.alignAttr.x+l-this.alignOptions.x,e.alignAttr.y+n-this.alignOptions.y)?e.show():(e.alignAttr.y=-9999,t=!1),t&&c.prototype.justifyDataLabel.call(this.axis,e,this.alignOptions,e.alignAttr,o,r),e.attr({x:e.alignAttr.x,y:e.alignAttr.y}),h(!t&&this.options.crop,!0)&&((s=u(e.x)&&u(e.y)&&s.isInsidePlot(e.x-i+e.width,e.y)&&s.isInsidePlot(e.x+i,e.y))||e.hide()))},t.prototype.getStackBox=function(t,e,n,i,o,r,a){var s=e.axis.reversed,l=t.inverted,u=a.height+a.pos-(l?t.plotLeft:t.plotTop);return e=e.isNegative&&!s||!e.isNegative&&s,{x:l?e?i-a.right:i-r+a.pos-t.plotLeft:n+t.xAxis[0].transB-t.plotLeft,y:l?a.height-n-o:e?u-i-r:u-i,width:l?r:o,height:l?o:r}},t}();return e.prototype.getStacks=function(){var t=this,e=t.inverted;t.yAxis.forEach((function(t){t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)})),t.series.forEach((function(n){var i=n.xAxis&&n.xAxis.options||{};!n.options.stacking||!0!==n.visible&&!1!==t.options.chart.ignoreHiddenSeries||(n.stackKey=[n.type,h(n.options.stack,""),e?i.top:i.left,e?i.height:i.width].join())}))},i.compose(t),c.prototype.setGroupedPoints=function(){this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length&&c.prototype.setStackedPoints.call(this,"group")},c.prototype.setStackedPoints=function(t){var e=t||this.options.stacking;if(e&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var n=this.processedXData,i=this.processedYData,o=[],s=i.length,l=this.options,u=l.threshold,c=h(l.startFromThreshold&&u,0);l=l.stack;var f,p,g="-"+(t=t?this.type+","+e:this.stackKey),m=this.negStacks,v=this.yAxis,y=v.stacking.stacks,_=v.stacking.oldStacks;for(v.stacking.stacksTouched+=1,p=0;p<s;p++){var b=n[p],x=i[p],w=this.getStackIndicator(w,b,this.index),C=w.key,S=(f=m&&x<(c?0:u))?g:t;y[S]||(y[S]={}),y[S][b]||(_[S]&&_[S][b]?(y[S][b]=_[S][b],y[S][b].total=null):y[S][b]=new d(v,v.options.stackLabels,f,b,l)),S=y[S][b],null!==x?(S.points[C]=S.points[this.index]=[h(S.cumulative,c)],a(S.cumulative)||(S.base=C),S.touched=v.stacking.stacksTouched,0<w.index&&!1===this.singleStacks&&(S.points[C][0]=S.points[this.index+","+b+",0"][0])):S.points[C]=S.points[this.index]=null,"percent"===e?(f=f?t:g,m&&y[f]&&y[f][b]?(f=y[f][b],S.total=f.total=Math.max(f.total,S.total)+Math.abs(x)||0):S.total=r(S.total+(Math.abs(x)||0))):"group"===e?null!==x&&(S.total=(S.total||0)+1):S.total=r(S.total+(x||0)),S.cumulative="group"===e?(S.total||1)-1:h(S.cumulative,c)+(x||0),null!==x&&(S.points[C].push(S.cumulative),o[p]=S.cumulative,S.hasValidPoints=!0)}"percent"===e&&(v.stacking.usePercentage=!0),"group"!==e&&(this.stackedYData=o),v.stacking.oldStacks={}}},c.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacking.stacks,o=e.processedXData,r=e.options.stacking;e[r+"Stacker"]&&[n,"-"+n].forEach((function(n){for(var a,s,l=o.length;l--;)a=o[l],t=e.getStackIndicator(t,a,e.index,n),(s=(a=i[n]&&i[n][a])&&a.points[t.key])&&e[r+"Stacker"](s,a,l)}))},c.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=r(t[0]*e),t[1]=r(t[1]*e),this.stackedYData[n]=t[1]},c.prototype.getStackIndicator=function(t,e,n,i){return!a(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t},n.StackItem=d,n.StackItem})),e(n,"Core/Dynamics.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Series/Series.js"],n["Core/Chart/Chart.js"],n["Core/Globals.js"],n["Series/LineSeries.js"],n["Core/Options.js"],n["Core/Series/Point.js"],n["Core/Time.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,a,s,l,u){var h=t.animate,c=t.setAnimation,d=n.seriesTypes,f=a.time,p=u.addEvent,g=u.createElement,m=u.css,v=u.defined,y=u.erase,_=u.error,b=u.extend,x=u.fireEvent,w=u.isArray,C=u.isNumber,S=u.isObject,k=u.isString,E=u.merge,I=u.objectEach,T=u.pick,D=u.relativeLength,M=u.splat;o.cleanRecursively=function(t,e){var n={};return I(t,(function(i,r){S(t[r],!0)&&!t.nodeType&&e[r]?(i=o.cleanRecursively(t[r],e[r]),Object.keys(i).length&&(n[r]=i)):(S(t[r])||t[r]!==e[r])&&(n[r]=t[r])})),n},b(i.prototype,{addSeries:function(t,e,n){var i,o=this;return t&&(e=T(e,!0),x(o,"addSeries",{options:t},(function(){i=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),i.enabledDataSorting&&i.setData(t.data,!1),x(o,"afterAddSeries",{series:i}),e&&o.redraw(n)}))),i},addAxis:function(t,e,n,i){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:n,animation:i})},addColorAxis:function(t,e,n){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:n})},createAxis:function(t,n){var i=this.options,r="colorAxis"===t,a=n.redraw,s=n.animation;n=E(n.axis,{index:this[t].length,isX:"xAxis"===t});var l=r?new o.ColorAxis(this,n):new e(this,n);return i[t]=M(i[t]||{}),i[t].push(n),r&&(this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0}))),T(a,!0)&&this.redraw(s),l},showLoading:function(t){var e=this,n=e.options,i=e.loadingDiv,o=n.loading,r=function(){i&&m(i,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};i||(e.loadingDiv=i=g("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container),e.loadingSpan=g("span",{className:"highcharts-loading-inner"},null,i),p(e,"redraw",r)),i.className="highcharts-loading",e.loadingSpan.innerHTML=T(t,n.lang.loading,""),e.styledMode||(m(i,b(o.style,{zIndex:10})),m(e.loadingSpan,o.labelStyle),e.loadingShown||(m(i,{opacity:0,display:""}),h(i,{opacity:o.style.opacity||.5},{duration:o.showDuration||0}))),e.loadingShown=!0,r()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||h(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){m(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),collectionsWithUpdate:["xAxis","yAxis","zAxis","series"],update:function(t,e,n,i){var r,a,s,u=this,h={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},c=t.isResponsiveOptions,d=[];if(x(u,"update",{options:t}),c||u.setResponsive(!1,!0),t=o.cleanRecursively(t,u.options),E(!0,u.userOptions,t),r=t.chart){if(E(!0,u.options.chart,r),"className"in r&&u.setClassName(r.className),"reflow"in r&&u.setReflow(r.reflow),"inverted"in r||"polar"in r||"type"in r){u.propFromSeries();var p=!0}"alignTicks"in r&&(p=!0),I(r,(function(t,e){-1!==u.propsRequireUpdateSeries.indexOf("chart."+e)&&(a=!0),-1!==u.propsRequireDirtyBox.indexOf(e)&&(u.isDirtyBox=!0),-1!==u.propsRequireReflow.indexOf(e)&&(c?u.isDirtyBox=!0:s=!0)})),!u.styledMode&&"style"in r&&u.renderer.setStyle(r.style)}!u.styledMode&&t.colors&&(this.options.colors=t.colors),t.time&&(this.time===f&&(this.time=new l(t.time)),E(!0,u.options.time,t.time)),I(t,(function(e,n){u[n]&&"function"===typeof u[n].update?u[n].update(e,!1):"function"===typeof u[h[n]]?u[h[n]](e):"color"!==n&&-1===u.collectionsWithUpdate.indexOf(n)&&E(!0,u.options[n],t[n]),"chart"!==n&&-1!==u.propsRequireUpdateSeries.indexOf(n)&&(a=!0)})),this.collectionsWithUpdate.forEach((function(e){if(t[e]){if("series"===e){var i=[];u[e].forEach((function(t,e){t.options.isInternal||i.push(T(t.options.index,e))}))}M(t[e]).forEach((function(t,o){var r,a=v(t.id);a&&(r=u.get(t.id)),r||(r=u[e][i?i[o]:o])&&a&&v(r.options.id)&&(r=void 0),r&&r.coll===e&&(r.update(t,!1),n&&(r.touched=!0)),!r&&n&&u.collectionsWithInit[e]&&(u.collectionsWithInit[e][0].apply(u,[t].concat(u.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)})),n&&u[e].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:d.push(t)}))}})),d.forEach((function(t){t.remove&&t.remove(!1)})),p&&u.axes.forEach((function(t){t.update({},!1)})),a&&u.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this),p=r&&r.width,r=r&&r.height,k(r)&&(r=D(r,p||u.chartWidth)),s||C(p)&&p!==u.chartWidth||C(r)&&r!==u.chartHeight?u.setSize(p,r,i):T(e,!0)&&u.redraw(i),x(u,"afterUpdate",{options:t,redraw:e,animation:i})},setSubtitle:function(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)},setCaption:function(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}}),i.prototype.collectionsWithInit={xAxis:[i.prototype.addAxis,[!0]],yAxis:[i.prototype.addAxis,[!1]],series:[i.prototype.addSeries]},b(s.prototype,{update:function(t,e,n,i){function o(){a.applyOptions(t);var i=l&&a.hasDummyGraphic;i=null===a.y?!i:i,l&&i&&(a.graphic=l.destroy(),delete a.hasDummyGraphic),S(t,!0)&&(l&&l.element&&t&&t.marker&&"undefined"!==typeof t.marker.symbol&&(a.graphic=l.destroy()),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),r=a.index,s.updateParallelArrays(a,r),h.data[r]=S(h.data[r],!0)||S(t,!0)?a.options:T(t,h.data[r]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===h.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(n)}var r,a=this,s=a.series,l=a.graphic,u=s.chart,h=s.options;e=T(e,!0),!1===i?o():a.firePointEvent("update",{options:t},o)},remove:function(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}}),b(r.prototype,{addPoint:function(t,e,n,i,o){var r=this.options,a=this.data,s=this.chart,l=this.xAxis;l=l&&l.hasNames&&l.names;var u,h=r.data,c=this.xData;e=T(e,!0);var d={series:this};this.pointClass.prototype.applyOptions.apply(d,[t]);var f=d.x,p=c.length;if(this.requireSorting&&f<c[p-1])for(u=!0;p&&c[p-1]>f;)p--;this.updateParallelArrays(d,"splice",p,0,0),this.updateParallelArrays(d,p),l&&d.name&&(l[f]=d.name),h.splice(p,0,t),u&&(this.data.splice(p,0,null),this.processData()),"point"===r.legendType&&this.generatePoints(),n&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),this.updateParallelArrays(d,"shift"),h.shift())),!1!==o&&x(this,"addPoint",{point:d}),this.isDirtyData=this.isDirty=!0,e&&s.redraw(i)},removePoint:function(t,e,n){var i=this,o=i.data,r=o[t],a=i.points,s=i.chart,l=function(){a&&a.length===o.length&&a.splice(t,1),o.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(r||{series:i},"splice",t,1),r&&r.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&s.redraw()};c(n,s),e=T(e,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(t,e,n,i){function o(){r.destroy(i),r.remove=null,a.isDirtyLegend=a.isDirtyBox=!0,a.linkSeries(),T(t,!0)&&a.redraw(e)}var r=this,a=r.chart;!1!==n?x(r,"remove",null,o):o()},update:function(t,e){t=o.cleanRecursively(t,this.userOptions),x(this,"update",{options:t});var n,i=this,r=i.chart,a=i.userOptions,s=i.initialType||i.type,l=r.options.plotOptions,u=t.type||a.type||r.options.chart.type,h=!(this.hasDerivedData||u&&u!==this.type||"undefined"!==typeof t.pointStart||"undefined"!==typeof t.pointInterval||i.hasOptionChanged("dataGrouping")||i.hasOptionChanged("pointStart")||i.hasOptionChanged("pointInterval")||i.hasOptionChanged("pointIntervalUnit")||i.hasOptionChanged("keys")),c=d[s].prototype,f=["eventOptions","navigatorSeries","baseSeries"],p=i.finishedAnimating&&{animation:!1},g={};for(n in h&&(f.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&f.push("area","graph"),i.parallelArrays.forEach((function(t){f.push(t+"Data")})),t.data&&(t.dataSorting&&b(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=E(a,p,{index:"undefined"===typeof a.index?i.index:a.index,pointStart:T(l&&l.series&&l.series.pointStart,a.pointStart,i.xData[0])},!h&&{data:i.options.data},t),h&&t.data&&(t.data=i.options.data),(f=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(f)).forEach((function(t){f[t]=i[t],delete i[t]})),i.remove(!1,null,!1,!0),c)i[n]=void 0;if(d[u||s]?b(i,d[u||s].prototype):_(17,!0,r,{missingModuleFor:u||s}),f.forEach((function(t){i[t]=f[t]})),i.init(r,t),h&&this.points){var m=i.options;!1===m.visible?(g.graphic=1,g.dataLabel=1):i._hasPointLabels||(t=m.marker,a=m.dataLabels,t&&(!1===t.enabled||"symbol"in t)&&(g.graphic=1),a&&!1===a.enabled&&(g.dataLabel=1)),this.points.forEach((function(t){t&&t.series&&(t.resolveColor(),Object.keys(g).length&&t.destroyElements(g),!1===m.showInLegend&&t.legendItem&&r.legend.destroyItem(t))}),this)}i.initialType=s,r.linkSeries(),x(this,"afterUpdate"),T(e,!0)&&r.redraw(!!h&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0},hasOptionChanged:function(t){var e=this.options[t],n=this.chart.options.plotOptions,i=this.userOptions[t];return i?e!==i:e!==T(n&&n[this.type]&&n[this.type][t],n&&n.series&&n.series[t],e)}}),b(e.prototype,{update:function(t,e){var n=this.chart,i=t&&t.events||{};t=E(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),I(n.options[this.coll].events,(function(t,e){"undefined"===typeof i[e]&&(i[e]=void 0)})),this.destroy(!0),this.init(n,b(t,{events:i})),n.isDirtyBox=!0,T(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,o=i.length;o--;)i[o]&&i[o].remove(!1);y(e.axes,this),y(e[n],this),w(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],e[n].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,T(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})})),e(n,"Series/AreaSeries.js",[n["Core/Series/Series.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Mixins/LegendSymbol.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o){var r=e.parse,a=o.objectEach,s=o.pick,l=n.Series;t.seriesType("area","line",{threshold:0},{singleStacks:!1,getStackPoints:function(t){var e,n=[],i=[],o=this.xAxis,r=this.yAxis,l=r.stacking.stacks[this.stackKey],u={},h=this.index,c=r.series,d=c.length,f=s(r.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,u[t[e].x]=t[e];a(l,(function(t,e){null!==t.total&&i.push(e)})),i.sort((function(t,e){return t-e}));var p=c.map((function(t){return t.visible}));i.forEach((function(t,a){var s,c,g=0;if(u[t]&&!u[t].isNull)n.push(u[t]),[-1,1].forEach((function(n){var o=1===n?"rightNull":"leftNull",r=0,g=l[i[a+n]];if(g)for(e=h;0<=e&&e<d;)(s=g.points[e])||(e===h?u[t][o]=!0:p[e]&&(c=l[t].points[e])&&(r-=c[1]-c[0])),e+=f;u[t][1===n?"rightCliff":"leftCliff"]=r}));else{for(e=h;0<=e&&e<d;){if(s=l[t].points[e]){g=s[1];break}e+=f}g=r.translate(g,0,1,0,1),n.push({isNull:!0,plotX:o.translate(t,0,0,0,1),x:t,plotY:g,yBottom:g})}}))}return n},getGraphPath:function(t){var e,n=l.prototype.getGraphPath,i=this.options,o=i.stacking,r=this.yAxis,a=[],u=[],h=this.index,c=r.stacking.stacks[this.stackKey],d=i.threshold,f=Math.round(r.getThreshold(i.threshold));i=s(i.connectNulls,"percent"===o);var p=function(e,n,i){var s=t[e];e=o&&c[s.x].points[h];var l=s[i+"Null"]||0;if(i=s[i+"Cliff"]||0,s=!0,i||l){var p=(l?e[0]:e[1])+i,g=e[0]+i;s=!!l}else!o&&t[n]&&t[n].isNull&&(p=g=d);"undefined"!==typeof p&&(u.push({plotX:m,plotY:null===p?f:r.getThreshold(p),isNull:s,isCliff:!0}),a.push({plotX:m,plotY:null===g?f:r.getThreshold(g),doCurve:!1}))};for(t=t||this.points,o&&(t=this.getStackPoints(t)),e=0;e<t.length;e++){o||(t[e].leftCliff=t[e].rightCliff=t[e].leftNull=t[e].rightNull=void 0);var g=t[e].isNull,m=s(t[e].rectPlotX,t[e].plotX),v=o?t[e].yBottom:f;g&&!i||(i||p(e,e-1,"left"),g&&!o&&i||(u.push(t[e]),a.push({x:e,plotX:m,plotY:v})),i||p(e,e+1,"right"))}return e=n.call(this,u,!0,!0),a.reversed=!0,(v=(g=n.call(this,a,!0,!0))[0])&&"M"===v[0]&&(g[0]=["L",v[1],v[2]]),g=e.concat(g),n=n.call(this,u,!1,i),g.xMap=e.xMap,this.areaPath=g,n},drawGraph:function(){this.areaPath=[],l.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,i=[["area","highcharts-area",this.color,n.fillColor]];this.zones.forEach((function(e,o){i.push(["zone-area-"+o,"highcharts-area highcharts-zone-area-"+o+" "+e.className,e.color||t.color,e.fillColor||n.fillColor])})),i.forEach((function(i){var o=i[0],a=t[o],l=a?"animate":"attr",u={};a?(a.endX=t.preventGraphAnimation?null:e.xMap,a.animate({d:e})):(u.zIndex=0,(a=t[o]=t.chart.renderer.path(e).addClass(i[1]).add(t.group)).isArea=!0),t.chart.styledMode||(u.fill=s(i[3],r(i[2]).setOpacity(s(n.fillOpacity,.75)).get())),a[l](u),a.startX=e.xMap,a.shiftUnit=n.step?2:1}))},drawLegendSymbol:i.drawRectangle})})),e(n,"Series/SplineSeries.js",[n["Core/Series/Series.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.pick;t.seriesType("spline","line",{},{getPointSpline:function(t,e,i){var o=e.plotX||0,r=e.plotY||0,a=t[i-1];if(i=t[i+1],a&&!a.isNull&&!1!==a.doCurve&&!e.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!e.isCliff){t=a.plotY||0;var s=i.plotX||0;i=i.plotY||0;var l=0,u=(1.5*o+(a.plotX||0))/2.5,h=(1.5*r+t)/2.5,c=(1.5*r+i)/2.5;(s=(1.5*o+s)/2.5)!==u&&(l=(c-h)*(s-o)/(s-u)+r-c),c+=l,(h+=l)>t&&h>r?c=2*r-(h=Math.max(t,r)):h<t&&h<r&&(c=2*r-(h=Math.min(t,r))),c>i&&c>r?h=2*r-(c=Math.max(i,r)):c<i&&c<r&&(h=2*r-(c=Math.min(i,r))),e.rightContX=s,e.rightContY=c}return e=["C",n(a.rightContX,a.plotX,0),n(a.rightContY,a.plotY,0),n(u,o,0),n(h,r,0),o,r],a.rightContX=a.rightContY=void 0,e}})})),e(n,"Series/AreaSplineSeries.js",[n["Core/Series/Series.js"],n["Mixins/LegendSymbol.js"],n["Core/Options.js"]],(function(t,e,n){var i=t.seriesTypes.area.prototype;t.seriesType("areaspline","spline",n.defaultOptions.plotOptions.area,{getStackPoints:i.getStackPoints,getGraphPath:i.getGraphPath,drawGraph:i.drawGraph,drawLegendSymbol:e.drawRectangle})})),e(n,"Series/ColumnSeries.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Series/Series.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Mixins/LegendSymbol.js"],n["Series/LineSeries.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,a){var s=t.animObject,l=n.parse;t=i.noop;var u=a.clamp,h=a.defined,c=a.extend,d=a.isArray,f=a.isNumber,p=a.merge,g=a.pick,m=a.objectEach;return e=e.seriesType("column","line",{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){r.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t=this,e=t.options,n=t.xAxis,i=t.yAxis,o=n.options.reversedStacks;o=n.reversed&&!o||!n.reversed&&o;var r,a={},s=0;!1===e.grouping?s=1:t.chart.series.forEach((function(e){var n=e.yAxis,o=e.options;if(e.type===t.type&&(e.visible||!t.chart.options.chart.ignoreHiddenSeries)&&i.len===n.len&&i.pos===n.pos){if(o.stacking&&"group"!==o.stacking){r=e.stackKey,"undefined"===typeof a[r]&&(a[r]=s++);var l=a[r]}else!1!==o.grouping&&(l=s++);e.columnIndex=l}}));var l=Math.min(Math.abs(n.transA)*(n.ordinal&&n.ordinal.slope||e.pointRange||n.closestPointRange||n.tickInterval||1),n.len),u=l*e.groupPadding,h=(l-2*u)/(s||1);return e=Math.min(e.maxPointWidth||n.len,g(e.pointWidth,h*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(h-e)/2+(u+((t.columnIndex||0)+(o?1:0))*h-l/2)*(o?-1:1),paddedWidth:h,columnCount:s},t.columnMetrics},crispCol:function(t,e,n,i){var o=this.chart,r=this.borderWidth,a=-(r%2?.5:0);return r=r%2?.5:1,o.inverted&&o.renderer.isVML&&(r+=1),this.options.crisp&&(n=Math.round(t+n)+a,n-=t=Math.round(t)+a),i=Math.round(e+i)+r,a=.5>=Math.abs(e)&&.5<i,i-=e=Math.round(e)+r,a&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},adjustForMissingColumns:function(t,e,n,i){var o=this,r=this.options.stacking;if(!n.isNull&&1<i.columnCount){var a=0,s=0;m(this.yAxis.stacking&&this.yAxis.stacking.stacks,(function(t){if("number"===typeof n.x&&(t=t[n.x.toString()])){var e=t.points[o.index],i=t.total;r?(e&&(a=s),t.hasValidPoints&&s++):d(e)&&(a=e[1],s=i||0)}})),t=(n.plotX||0)+((s-1)*i.paddedWidth+e)/2-e-a*i.paddedWidth}return t},translate:function(){var t=this,e=t.chart,n=t.options,i=t.dense=2>t.closestPointRange*t.xAxis.transA;i=t.borderWidth=g(n.borderWidth,i?0:1);var o=t.xAxis,a=t.yAxis,s=n.threshold,l=t.translatedThreshold=a.getThreshold(s),c=g(n.minPointLength,5),d=t.getColumnMetrics(),p=d.width,m=t.barW=Math.max(p,1+2*i),v=t.pointXOffset=d.offset,y=t.dataMin,_=t.dataMax;e.inverted&&(l-=.5),n.pointPadding&&(m=Math.ceil(m)),r.prototype.translate.apply(t),t.points.forEach((function(i){var r=g(i.yBottom,l),b=999+Math.abs(r),x=p,w=i.plotX||0;b=u(i.plotY,-b,a.len+b);var C=w+v,S=m,k=Math.min(b,r),E=Math.max(b,r)-k;if(c&&Math.abs(E)<c){E=c;var I=!a.reversed&&!i.negative||a.reversed&&i.negative;f(s)&&f(_)&&i.y===s&&_<=s&&(a.min||0)<s&&y!==_&&(I=!I),k=Math.abs(k-l)>c?r-c:l-(I?c:0)}h(i.options.pointWidth)&&(x=S=Math.ceil(i.options.pointWidth),C-=Math.round((x-p)/2)),n.centerInCategory&&(C=t.adjustForMissingColumns(C,x,i,d)),i.barX=C,i.pointWidth=x,i.tooltipPos=e.inverted?[a.len+a.pos-e.plotLeft-b,o.len+o.pos-e.plotTop-(w||0)-v-S/2,E]:[C+S/2,b+a.pos-e.plotTop,E],i.shapeType=t.pointClass.prototype.shapeType||"rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[C,l,S,0]:[C,k,S,E])}))},getSymbol:t,drawLegendSymbol:o.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n=this.options,i=this.pointAttrToOptions||{},o=i.stroke||"borderColor",r=i["stroke-width"]||"borderWidth",a=t&&t.color||this.color,s=t&&t[o]||n[o]||this.color||a,u=t&&t[r]||n[r]||this[r]||0;i=t&&t.options.dashStyle||n.dashStyle;var h=g(t&&t.opacity,n.opacity,1);if(t&&this.zones.length){var c=t.getZone();a=t.options.color||c&&(c.color||t.nonZonedColor)||this.color,c&&(s=c.borderColor||s,i=c.dashStyle||i,u=c.borderWidth||u)}return e&&t&&(e=(t=p(n.states[e],t.options.states&&t.options.states[e]||{})).brightness,a=t.color||"undefined"!==typeof e&&l(a).brighten(t.brightness).get()||a,s=t[o]||s,u=t[r]||u,i=t.dashStyle||i,h=g(t.opacity,h)),o={fill:a,stroke:s,"stroke-width":u,opacity:h},i&&(o.dashstyle=i),o},drawPoints:function(){var t,e=this,n=this.chart,i=e.options,o=n.renderer,r=i.animationLimit||250;e.points.forEach((function(a){var s=a.graphic,l=!!s,u=s&&n.pointCount<r?"animate":"attr";f(a.plotY)&&null!==a.y?(t=a.shapeArgs,s&&a.hasNewShapeType()&&(s=s.destroy()),e.enabledDataSorting&&(a.startXPos=e.xAxis.reversed?-(t?t.width:0):e.xAxis.width),s||(a.graphic=s=o[a.shapeType](t).add(a.group||e.group))&&e.enabledDataSorting&&n.hasRendered&&n.pointCount<r&&(s.attr({x:a.startXPos}),l=!0,u="animate"),s&&l&&s[u](p(t)),i.borderRadius&&s[u]({r:i.borderRadius}),n.styledMode||s[u](e.pointAttribs(a,a.selected&&"select")).shadow(!1!==a.allowShadow&&i.shadow,null,i.stacking&&!i.borderRadius),s.addClass(a.getClassName(),!0)):s&&(a.graphic=s.destroy())}))},animate:function(t){var e=this,n=this.yAxis,i=e.options,o=this.chart.inverted,r={},a=o?"translateX":"translateY";if(t)r.scaleY=.001,t=u(n.toPixels(i.threshold),n.pos,n.pos+n.len),o?r.translateX=t-n.len:r.translateY=t,e.clipBox&&e.setClip(),e.group.attr(r);else{var l=e.group.attr(a);e.group.animate({scaleY:1},c(s(e.options.animation),{step:function(t,i){e.group&&(r[a]=l+i.pos*(n.pos-l),e.group.attr(r))}}))}},remove:function(){var t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),r.prototype.remove.apply(t,arguments)}})})),e(n,"Series/BarSeries.js",[n["Core/Series/Series.js"]],(function(t){t.seriesType("bar","column",null,{inverted:!0})})),e(n,"Series/ScatterSeries.js",[n["Core/Series/Series.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){n=n.addEvent;var i=e.Series;t.seriesType("scatter","line",{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){(this.options.lineWidth||0===this.options.lineWidth&&this.graph&&this.graph.strokeWidth())&&i.prototype.drawGraph.call(this)},applyJitter:function(){var t=this,e=this.options.jitter,n=this.points.length;e&&this.points.forEach((function(i,o){["x","y"].forEach((function(r,a){var s="plot"+r.toUpperCase();if(e[r]&&!i.isNull){var l=t[r+"Axis"],u=e[r]*l.transA;if(l&&!l.isLog){var h=Math.max(0,i[s]-u);l=Math.min(l.len,i[s]+u),a=1e4*Math.sin(o+a*n),i[s]=h+(l-h)*(a-Math.floor(a)),"x"===r&&(i.clientX=i.plotX)}}}))}))}}),n(i,"afterTranslate",(function(){this.applyJitter&&this.applyJitter()}))})),e(n,"Mixins/CenteredSeries.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.isNumber,i=e.pick,o=e.relativeLength,r=t.deg2rad;return t.CenteredSeriesMixin={getCenter:function(){var e=this.options,n=this.chart,r=2*(e.slicedOffset||0),a=n.plotWidth-2*r,s=n.plotHeight-2*r,l=e.center,u=Math.min(a,s),h=e.size,c=e.innerSize||0;for("string"===typeof h&&(h=parseFloat(h)),"string"===typeof c&&(c=parseFloat(c)),e=[i(l[0],"50%"),i(l[1],"50%"),i(h&&0>h?void 0:e.size,"100%"),i(c&&0>c?void 0:e.innerSize||0,"0%")],!n.angular||this instanceof t.Series||(e[3]=0),l=0;4>l;++l)h=e[l],n=2>l||2===l&&/%$/.test(h),e[l]=o(h,[a,s,u,e[2]][l])+(n?r:0);return e[3]>e[2]&&(e[3]=e[2]),e},getStartAndEndRadians:function(t,e){return t=n(t)?t:0,e=n(e)&&e>t&&360>e-t?e:t+360,{start:r*(t+-90),end:r*(e+-90)}}}})),e(n,"Series/PieSeries.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Series/Series.js"],n["Mixins/CenteredSeries.js"],n["Core/Globals.js"],n["Mixins/LegendSymbol.js"],n["Series/LineSeries.js"],n["Core/Series/Point.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,a,s,l){var u=t.setAnimation,h=n.getStartAndEndRadians;t=i.noop;var c=l.addEvent,d=l.clamp,f=l.defined,p=l.fireEvent,g=l.isNumber,m=l.merge,v=l.pick,y=l.relativeLength;e.seriesType("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:e.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||n.forEach((function(t){var n=t.graphic,o=t.shapeArgs;n&&o&&(n.attr({r:v(t.startR,e.center&&e.center[3]/2),start:i,end:i}),n.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}))},hasData:function(){return!!this.processedXData.length},updateTotals:function(){var t,e=0,n=this.points,i=n.length,o=this.options.ignoreHiddenPoint;for(t=0;t<i;t++){var r=n[t];e+=o&&!r.visible||r.isNull?0:r.y}for(this.total=e,t=0;t<i;t++)(r=n[t]).percentage=0<e&&(r.visible||!o)?r.y/e*100:0,r.total=e},generatePoints:function(){r.prototype.generatePoints.call(this),this.updateTotals()},getX:function(t,e,n){var i=this.center,o=this.radii?this.radii[n.index]:i[2]/2;return t=Math.asin(d((t-i[1])/(o+n.labelDistance),-1,1)),i[0]+(e?-1:1)*Math.cos(t)*(o+n.labelDistance)+(0<n.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)},translate:function(t){this.generatePoints();var e=0,n=this.options,i=n.slicedOffset,o=i+(n.borderWidth||0),r=h(n.startAngle,n.endAngle),a=this.startAngleRad=r.start;r=(this.endAngleRad=r.end)-a;var s=this.points,l=n.dataLabels.distance;n=n.ignoreHiddenPoint;var u,c=s.length;for(t||(this.center=t=this.getCenter()),u=0;u<c;u++){var d=s[u],f=a+e*r;n&&!d.visible||(e+=d.percentage/100);var g=a+e*r;d.shapeType="arc",d.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*f)/1e3,end:Math.round(1e3*g)/1e3},d.labelDistance=v(d.options.dataLabels&&d.options.dataLabels.distance,l),d.labelDistance=y(d.labelDistance,d.shapeArgs.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,d.labelDistance),(g=(g+f)/2)>1.5*Math.PI?g-=2*Math.PI:g<-Math.PI/2&&(g+=2*Math.PI),d.slicedTranslation={translateX:Math.round(Math.cos(g)*i),translateY:Math.round(Math.sin(g)*i)};var m=Math.cos(g)*t[2]/2,_=Math.sin(g)*t[2]/2;d.tooltipPos=[t[0]+.7*m,t[1]+.7*_],d.half=g<-Math.PI/2||g>Math.PI/2?1:0,d.angle=g,f=Math.min(o,d.labelDistance/5),d.labelPosition={natural:{x:t[0]+m+Math.cos(g)*d.labelDistance,y:t[1]+_+Math.sin(g)*d.labelDistance},final:{},alignment:0>d.labelDistance?"center":d.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+m+Math.cos(g)*f,y:t[1]+_+Math.sin(g)*f},touchingSliceAt:{x:t[0]+m,y:t[1]+_}}}}p(this,"afterTranslate")},drawEmpty:function(){var t=this.startAngleRad,e=this.endAngleRad,n=this.options;if(0===this.total&&this.center){var i=this.center[0],o=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(i,o,this.center[1]/2,0,t,e).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:s.prototype.symbols.arc(i,o,this.center[2]/2,0,{start:t,end:e,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":n.borderWidth,fill:n.fillColor||"none",stroke:n.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},redrawPoints:function(){var t,e,n,i,o=this,r=o.chart,a=r.renderer,s=o.options.shadow;this.drawEmpty(),!s||o.shadowGroup||r.styledMode||(o.shadowGroup=a.g("shadow").attr({zIndex:-1}).add(o.group)),o.points.forEach((function(l){var u={};if(e=l.graphic,!l.isNull&&e){if(i=l.shapeArgs,t=l.getTranslate(),!r.styledMode){var h=l.shadowGroup;s&&!h&&(h=l.shadowGroup=a.g("shadow").add(o.shadowGroup)),h&&h.attr(t),n=o.pointAttribs(l,l.selected&&"select")}l.delayedRendering?(e.setRadialReference(o.center).attr(i).attr(t),r.styledMode||e.attr(n).attr({"stroke-linejoin":"round"}).shadow(s,h),l.delayedRendering=!1):(e.setRadialReference(o.center),r.styledMode||m(!0,u,n),m(!0,u,i,t),e.animate(u)),e.attr({visibility:l.visible?"inherit":"hidden"}),e.addClass(l.getClassName())}else e&&(l.graphic=e.destroy())}))},drawPoints:function(){var t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))},searchPoint:t,sortByAngle:function(t,e){t.sort((function(t,n){return"undefined"!==typeof t.angle&&(n.angle-t.angle)*e}))},drawLegendSymbol:o.drawRectangle,getCenter:n.getCenter,getSymbol:t,drawGraph:null},{init:function(){a.prototype.init.apply(this,arguments);var t=this;t.name=v(t.name,"Slice");var e=function(e){t.slice("select"===e.type)};return c(t,"select",e),c(t,"unselect",e),t},isValid:function(){return g(this.y)&&0<=this.y},setVisible:function(t,e){var n=this,i=n.series,o=i.chart,r=i.options.ignoreHiddenPoint;e=v(e,r),t!==n.visible&&(n.visible=n.options.visible=t="undefined"===typeof t?!n.visible:t,i.options.data[i.data.indexOf(n)]=n.options,["graphic","dataLabel","connector","shadowGroup"].forEach((function(e){n[e]&&n[e][t?"show":"hide"](!0)})),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),r&&(i.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var i=this.series;u(n,i.chart),v(e,!0),this.sliced=this.options.sliced=f(t)?t:!this.sliced,i.options.data[i.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end})},connectorShapes:{fixedOffset:function(t,e,n){var i=e.breakAt;return e=e.touchingSliceAt,[["M",t.x,t.y],n.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*i.x-e.x,2*i.y-e.y,i.x,i.y]:["L",i.x,i.y],["L",e.x,e.y]]},straight:function(t,e){return e=e.touchingSliceAt,[["M",t.x,t.y],["L",e.x,e.y]]},crookedLine:function(t,e,n){e=e.touchingSliceAt;var i=this.series,o=i.center[0],r=i.chart.plotWidth,a=i.chart.plotLeft;i=t.alignment;var s=this.shapeArgs.r;return n=y(n.crookDistance,1),n=["L",r="left"===i?o+s+(r+a-o-s)*(1-n):a+(o-s)*n,t.y],o=!0,("left"===i?r>t.x||r<e.x:r<t.x||r>e.x)&&(o=!1),t=[["M",t.x,t.y]],o&&t.push(n),t.push(["L",e.x,e.y]),t}},getConnectorPath:function(){var t=this.labelPosition,e=this.series.options.dataLabels,n=e.connectorShape,i=this.connectorShapes;return i[n]&&(n=i[n]),n.call(this,{x:t.final.x,y:t.final.y,alignment:t.alignment},t.connectorPosition,e)}})})),e(n,"Core/Series/DataLabels.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Globals.js"],n["Core/Series/CartesianSeries.js"],n["Core/Utilities.js"]],(function(t,e,n,i){var o=t.getDeferredAnimation;t=e.noop;var r=e.seriesTypes,a=i.arrayMax,s=i.clamp,l=i.defined,u=i.extend,h=i.fireEvent,c=i.format,d=i.isArray,f=i.merge,p=i.objectEach,g=i.pick,m=i.relativeLength,v=i.splat,y=i.stableSort;e.distribute=function(t,n,i){function o(t,e){return t.target-e.target}var r,a=!0,l=t,u=[],h=0,c=l.reducedLen||n;for(r=t.length;r--;)h+=t[r].size;if(h>c){for(y(t,(function(t,e){return(e.rank||0)-(t.rank||0)})),h=r=0;h<=c;)h+=t[r].size,r++;u=t.splice(r-1,t.length)}for(y(t,o),t=t.map((function(t){return{size:t.size,targets:[t.target],align:g(t.align,.5)}}));a;){for(r=t.length;r--;)a=t[r],h=(Math.min.apply(0,a.targets)+Math.max.apply(0,a.targets))/2,a.pos=s(h-a.size*a.align,0,n-a.size);for(r=t.length,a=!1;r--;)0<r&&t[r-1].pos+t[r-1].size>t[r].pos&&(t[r-1].size+=t[r].size,t[r-1].targets=t[r-1].targets.concat(t[r].targets),t[r-1].align=.5,t[r-1].pos+t[r-1].size>n&&(t[r-1].pos=n-t[r-1].size),t.splice(r,1),a=!0)}l.push.apply(l,u),r=0,t.some((function(t){var o=0;if(t.targets.some((function(){if(l[r].pos=t.pos+o,"undefined"!==typeof i&&Math.abs(l[r].pos-l[r].target)>i)return l.slice(0,r+1).forEach((function(t){delete t.pos})),l.reducedLen=(l.reducedLen||n)-.1*n,l.reducedLen>.1*n&&e.distribute(l,n,i),!0;o+=l[r].size,r++})))return!0})),y(l,o)},n.prototype.drawDataLabels=function(){function t(t,e){var n,i=[];if(d(t)&&!d(e))i=t.map((function(t){return f(t,e)}));else if(d(e)&&!d(t))i=e.map((function(e){return f(t,e)}));else if(d(t)||d(e))for(n=Math.max(t.length,e.length);n--;)i[n]=f(t[n],e[n]);else i=f(t,e);return i}var e=this,n=e.chart,i=e.options,r=i.dataLabels,a=e.points,s=e.hasRendered||0,u=r.animation;u=r.defer?o(n,u,e):{defer:0,duration:0};var m=n.renderer;if(r=t(t(n.options.plotOptions&&n.options.plotOptions.series&&n.options.plotOptions.series.dataLabels,n.options.plotOptions&&n.options.plotOptions[e.type]&&n.options.plotOptions[e.type].dataLabels),r),h(this,"drawDataLabels"),d(r)||r.enabled||e._hasPointLabels){var y=e.plotGroup("dataLabelsGroup","data-labels",s?"inherit":"hidden",r.zIndex||6);y.attr({opacity:+s}),!s&&(s=e.dataLabelsGroup)&&(e.visible&&y.show(!0),s[i.animation?"animate":"attr"]({opacity:1},u)),a.forEach((function(o){v(t(r,o.dlOptions||o.options&&o.options.dataLabels)).forEach((function(t,r){var a=t.enabled&&(!o.isNull||o.dataLabelOnNull)&&function(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}(o,t),s=o.dataLabels?o.dataLabels[r]:o.dataLabel,u=o.connectors?o.connectors[r]:o.connector,h=g(t.distance,o.labelDistance),d=!s;if(a){var f=o.getLabelConfig(),v=g(t[o.formatPrefix+"Format"],t.format);f=l(v)?c(v,f,n):(t[o.formatPrefix+"Formatter"]||t.formatter).call(f,t),v=t.style;var _=t.rotation;n.styledMode||(v.color=g(t.color,v.color,e.color,"#000000"),"contrast"===v.color?(o.contrastColor=m.getContrast(o.color||e.color),v.color=!l(h)&&t.inside||0>h||i.stacking?o.contrastColor:"#000000"):delete o.contrastColor,i.cursor&&(v.cursor=i.cursor));var b={r:t.borderRadius||0,rotation:_,padding:t.padding,zIndex:1};n.styledMode||(b.fill=t.backgroundColor,b.stroke=t.borderColor,b["stroke-width"]=t.borderWidth),p(b,(function(t,e){"undefined"===typeof t&&delete b[e]}))}!s||a&&l(f)?a&&l(f)&&(s?b.text=f:(o.dataLabels=o.dataLabels||[],s=o.dataLabels[r]=_?m.text(f,0,-9999,t.useHTML).addClass("highcharts-data-label"):m.label(f,0,-9999,t.shape,null,null,t.useHTML,null,"data-label"),r||(o.dataLabel=s),s.addClass(" highcharts-data-label-color-"+o.colorIndex+" "+(t.className||"")+(t.useHTML?" highcharts-tracker":""))),s.options=t,s.attr(b),n.styledMode||s.css(v).shadow(t.shadow),s.added||s.add(y),t.textPath&&!t.useHTML&&(s.setTextPath(o.getDataLabelPath&&o.getDataLabelPath(s)||o.graphic,t.textPath),o.dataLabelPath&&!t.textPath.enabled&&(o.dataLabelPath=o.dataLabelPath.destroy())),e.alignDataLabel(o,s,t,null,d)):(o.dataLabel=o.dataLabel&&o.dataLabel.destroy(),o.dataLabels&&(1===o.dataLabels.length?delete o.dataLabels:delete o.dataLabels[r]),r||delete o.dataLabel,u&&(o.connector=o.connector.destroy(),o.connectors&&(1===o.connectors.length?delete o.connectors:delete o.connectors[r])))}))}))}h(this,"afterDrawDataLabels")},n.prototype.alignDataLabel=function(t,e,n,i,o){var r=this,a=this.chart,s=this.isCartesian&&a.inverted,l=this.enabledDataSorting,h=g(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),c=g(t.plotY,-9999),d=e.getBBox(),f=n.rotation,p=n.align,m=a.isInsidePlot(h,Math.round(c),s),v="justify"===g(n.overflow,l?"none":"justify"),y=this.visible&&!1!==t.visible&&(t.series.forceDL||l&&!v||m||n.inside&&i&&a.isInsidePlot(h,s?i.x+1:i.y+i.height-1,s)),_=function(n){l&&r.xAxis&&!v&&r.setDataLabelStartPos(t,e,o,m,n)};if(y){var b=a.renderer.fontMetrics(a.styledMode?void 0:n.style.fontSize,e).b;i=u({x:s?this.yAxis.len-c:h,y:Math.round(s?this.xAxis.len-h:c),width:0,height:0},i),u(n,{width:d.width,height:d.height}),f?(v=!1,h=a.renderer.rotCorr(b,f),_(h={x:i.x+(n.x||0)+i.width/2+h.x,y:i.y+(n.y||0)+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height}),e[o?"attr":"animate"](h).attr({align:p}),_=180<(_=(f+720)%360)&&360>_,"left"===p?h.y-=_?d.height:0:"center"===p?(h.x-=d.width/2,h.y-=d.height/2):"right"===p&&(h.x-=d.width,h.y-=_?0:d.height),e.placed=!0,e.alignAttr=h):(_(i),e.align(n,null,i),h=e.alignAttr),v&&0<=i.height?this.justifyDataLabel(e,n,h,d,i,o):g(n.crop,!0)&&(y=a.isInsidePlot(h.x,h.y)&&a.isInsidePlot(h.x+d.width,h.y+d.height)),n.shape&&!f&&e[o?"attr":"animate"]({anchorX:s?a.plotWidth-t.plotY:t.plotX,anchorY:s?a.plotHeight-t.plotX:t.plotY})}o&&l&&(e.placed=!1),y||l&&!v||(e.hide(!0),e.placed=!1)},n.prototype.setDataLabelStartPos=function(t,e,n,i,o){var r=this.chart,a=r.inverted,s=this.xAxis,l=s.reversed,u=a?e.height/2:e.width/2;t=(t=t.pointWidth)?t/2:0,s=a?o.x:l?-u-t:s.width-u+t,o=a?l?this.yAxis.height-u+t:-u-t:o.y,e.startXPos=s,e.startYPos=o,i?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),r.hasRendered&&(n&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)},n.prototype.justifyDataLabel=function(t,e,n,i,o,r){var a=this.chart,s=e.align,l=e.verticalAlign,u=t.box?0:t.padding||0,h=e.x;h=void 0===h?0:h;var c=e.y,d=void 0===c?0:c;if(0>(c=n.x+u)){"right"===s&&0<=h?(e.align="left",e.inside=!0):h-=c;var f=!0}return(c=n.x+i.width-u)>a.plotWidth&&("left"===s&&0>=h?(e.align="right",e.inside=!0):h+=a.plotWidth-c,f=!0),0>(c=n.y+u)&&("bottom"===l&&0<=d?(e.verticalAlign="top",e.inside=!0):d-=c,f=!0),(c=n.y+i.height-u)>a.plotHeight&&("top"===l&&0>=d?(e.verticalAlign="bottom",e.inside=!0):d+=a.plotHeight-c,f=!0),f&&(e.x=h,e.y=d,t.placed=!r,t.align(e,void 0,o)),f},r.pie&&(r.pie.prototype.dataLabelPositioners={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,n,i){return t.getX(n<e.top+2||n>e.bottom-2?i:n,e.half,e)},justify:function(t,e,n){return n[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,n,i){return t=t.getBBox().width,e?t+i:n-t-i},alignToConnectors:function(t,e,n,i){var o,r=0;return t.forEach((function(t){(o=t.dataLabel.getBBox().width)>r&&(r=o)})),e?r+i:n-r-i}},r.pie.prototype.drawDataLabels=function(){var t,i,o,r,s,u,h,c,d,p,m,v,y=this,_=y.data,b=y.chart,x=y.options.dataLabels||{},w=x.connectorPadding,C=b.plotWidth,S=b.plotHeight,k=b.plotLeft,E=Math.round(b.chartWidth/3),I=y.center,T=I[2]/2,D=I[1],M=[[],[]],O=[0,0,0,0],P=y.dataLabelPositioners;y.visible&&(x.enabled||y._hasPointLabels)&&(_.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),n.prototype.drawDataLabels.apply(y),_.forEach((function(t){t.dataLabel&&(t.visible?(M[t.half].push(t),t.dataLabel._pos=null,!l(x.style.width)&&!l(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>E&&(t.dataLabel.css({width:Math.round(.7*E)+"px"}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),M.forEach((function(n,i){var o,a=n.length,f=[];if(a){if(y.sortByAngle(n,i-.5),0<y.maxLabelDistance){var _=Math.max(0,D-T-y.maxLabelDistance),E=Math.min(D+T+y.maxLabelDistance,b.plotHeight);n.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,D-T-t.labelDistance),t.bottom=Math.min(D+T+t.labelDistance,b.plotHeight),o=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+o/2,size:o,rank:t.y},f.push(t.distributeBox))})),_=E+o-_,e.distribute(f,_,_/5)}for(m=0;m<a;m++){if(t=n[m],u=t.labelPosition,r=t.dataLabel,p=!1===t.visible?"hidden":"inherit",d=_=u.natural.y,f&&l(t.distributeBox)&&("undefined"===typeof t.distributeBox.pos?p="hidden":(h=t.distributeBox.size,d=P.radialDistributionY(t))),delete t.positionIndex,x.justify)c=P.justify(t,T,I);else switch(x.alignTo){case"connectors":c=P.alignToConnectors(n,i,C,k);break;case"plotEdges":c=P.alignToPlotEdges(r,i,C,k);break;default:c=P.radialDistributionX(y,t,d,_)}r._attr={visibility:p,align:u.alignment},v=t.options.dataLabels||{},r._pos={x:c+g(v.x,x.x)+({left:w,right:-w}[u.alignment]||0),y:d+g(v.y,x.y)-10},u.final.x=c,u.final.y=d,g(x.crop,!0)&&(s=r.getBBox().width,_=null,c-s<w&&1===i?(_=Math.round(s-c+w),O[3]=Math.max(_,O[3])):c+s>C-w&&0===i&&(_=Math.round(c+s-C+w),O[1]=Math.max(_,O[1])),0>d-h/2?O[0]=Math.max(Math.round(h/2-d),O[0]):d+h/2>S&&(O[2]=Math.max(Math.round(d+h/2-S),O[2])),r.sideOverflow=_)}}})),0===a(O)||this.verifyDataLabelOverflow(O))&&(this.placeDataLabels(),this.points.forEach((function(t){var e;(v=f(x,t.options.dataLabels),i=g(v.connectorWidth,1))&&(o=t.connector,(r=t.dataLabel)&&r._pos&&t.visible&&0<t.labelDistance?(p=r._attr.visibility,(e=!o)&&(t.connector=o=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(y.dataLabelsGroup),b.styledMode||o.attr({"stroke-width":i,stroke:v.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:t.getConnectorPath()}),o.attr("visibility",p)):o&&(t.connector=o.destroy()))})))},r.pie.prototype.placeDataLabels=function(){this.points.forEach((function(t){var e,n=t.dataLabel;n&&t.visible&&((e=n._pos)?(n.sideOverflow&&(n._attr.width=Math.max(n.getBBox().width-n.sideOverflow,0),n.css({width:n._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),n.shortened=!0),n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999})),delete t.distributeBox}),this)},r.pie.prototype.alignDataLabel=t,r.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,n=this.options,i=n.center,o=n.minSize||80,r=null!==n.size;if(!r){if(null!==i[0])var a=Math.max(e[2]-Math.max(t[1],t[3]),o);else a=Math.max(e[2]-t[1]-t[3],o),e[0]+=(t[3]-t[1])/2;null!==i[1]?a=s(a,o,e[2]-Math.max(t[0],t[2])):(a=s(a,o,e[2]-t[0]-t[2]),e[1]+=(t[0]-t[2])/2),a<e[2]?(e[2]=a,e[3]=Math.min(m(n.innerSize||0,a),a),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):r=!0}return r}),r.column&&(r.column.prototype.alignDataLabel=function(t,e,i,o,r){var a=this.chart.inverted,s=t.series,l=t.dlBox||t.shapeArgs,u=g(t.below,t.plotY>g(this.translatedThreshold,s.yAxis.len)),h=g(i.inside,!!this.options.stacking);l&&(0>(o=f(l)).y&&(o.height+=o.y,o.y=0),0<(l=o.y+o.height-s.yAxis.len)&&l<o.height&&(o.height-=l),a&&(o={x:s.yAxis.len-o.y-o.height,y:s.xAxis.len-o.x-o.width,width:o.height,height:o.width}),h||(a?(o.x+=u?0:o.width,o.width=0):(o.y+=u?o.height:0,o.height=0))),i.align=g(i.align,!a||h?"center":u?"right":"left"),i.verticalAlign=g(i.verticalAlign,a||h?"middle":u?"top":"bottom"),n.prototype.alignDataLabel.call(this,t,e,i,o,r),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})})})),e(n,"Extensions/OverlappingDataLabels.js",[n["Core/Chart/Chart.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.addEvent,i=e.fireEvent,o=e.isArray,r=e.isNumber,a=e.objectEach,s=e.pick;n(t,"render",(function(){var t=[];(this.labelCollectors||[]).forEach((function(e){t=t.concat(e())})),(this.yAxis||[]).forEach((function(e){e.stacking&&e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&a(e.stacking.stacks,(function(e){a(e,(function(e){t.push(e.label)}))}))})),(this.series||[]).forEach((function(e){var n=e.options.dataLabels;e.visible&&(!1!==n.enabled||e._hasPointLabels)&&(e.nodes||e.points).forEach((function(e){e.visible&&(o(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[]).forEach((function(n){var i=n.options;n.labelrank=s(i.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.allowOverlap||t.push(n)}))}))})),this.hideOverlappingLabels(t)})),t.prototype.hideOverlappingLabels=function(t){var e,n,o,a=this,s=t.length,l=a.renderer,u=!1,h=function(t){var e,n,i=t.box?0:t.padding||0,o=e=0;if(t&&(!t.alignAttr||t.placed)){var a=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},s=t.parentGroup;t.width||(e=t.getBBox(),t.width=e.width,t.height=e.height,e=l.fontMetrics(null,t.element).h);var u=t.width-2*i;return(n={left:"0",center:"0.5",right:"1"}[t.alignValue])?o=+n*u:r(t.x)&&Math.round(t.x)!==t.translateX&&(o=t.x-t.translateX),{x:a.x+(s.translateX||0)+i-(o||0),y:a.y+(s.translateY||0)+i-e,width:t.width-2*i,height:t.height-2*i}}};for(n=0;n<s;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=h(e));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),n=0;n<s;n++){var c=(h=t[n])&&h.absoluteBox;for(e=n+1;e<s;++e){var d=(o=t[e])&&o.absoluteBox;!c||!d||h===o||0===h.newOpacity||0===o.newOpacity||d.x>=c.x+c.width||d.x+d.width<=c.x||d.y>=c.y+c.height||d.y+d.height<=c.y||((h.labelrank<o.labelrank?h:o).newOpacity=0)}}t.forEach((function(t){if(t){var e=t.newOpacity;t.oldOpacity!==e&&(t.alignAttr&&t.placed?(t[e?"removeClass":"addClass"]("highcharts-data-label-hidden"),u=!0,t.alignAttr.opacity=e,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){a.styledMode||t.css({pointerEvents:e?"auto":"none"}),t.visibility=e?"inherit":"hidden"})),i(a,"afterHideOverlappingLabel")):t.attr({opacity:e})),t.isOld=!0}})),u&&i(a,"afterHideAllOverlappingLabels")}})),e(n,"Core/Interaction.js",[n["Core/Series/Series.js"],n["Core/Chart/Chart.js"],n["Core/Globals.js"],n["Core/Legend.js"],n["Series/LineSeries.js"],n["Core/Options.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,a,s){t=t.seriesTypes;var l=n.hasTouch,u=n.svg,h=r.defaultOptions,c=s.addEvent,d=s.createElement,f=s.css,p=s.defined,g=s.extend,m=s.fireEvent,v=s.isArray,y=s.isFunction,_=s.isNumber,b=s.isObject,x=s.merge,w=s.objectEach,C=s.pick;n=n.TrackerMixin={drawTrackerPoint:function(){var t,e=this,n=e.chart,i=n.pointer,o=function(t){var e=i.getPointFromEvent(t);"undefined"!==typeof e&&(i.isDirectTouch=!0,e.onMouseOver(t))};e.points.forEach((function(e){t=v(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach((function(t){t.div?t.div.point=e:t.element.point=e}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",(function(t){i.onTrackerMouseOut(t)})),l&&e[t].on("touchstart",o),!n.styledMode&&e.options.cursor&&e[t].css(f).css({cursor:e.options.cursor}))})),e._hasTracking=!0),m(this,"afterDrawTracker")},drawTrackerGraph:function(){var t=this,e=t.options,n=e.trackByArea,i=[].concat(n?t.areaPath:t.graphPath),o=t.chart,r=o.pointer,a=o.renderer,s=o.options.tooltip.snap,h=t.tracker,c=function(e){o.hoverSeries!==t&&t.onMouseOver()},d="rgba(192,192,192,"+(u?1e-4:.002)+")";h?h.attr({d:i}):t.graph&&(t.tracker=a.path(i).attr({visibility:t.visible?"visible":"hidden",zIndex:2}).addClass(n?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),o.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:d,fill:n?d:"none","stroke-width":t.graph.strokeWidth()+(n?0:2*s)}),[t.tracker,t.markerGroup].forEach((function(t){t.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(t){r.onTrackerMouseOut(t)})),e.cursor&&!o.styledMode&&t.css({cursor:e.cursor}),l&&t.on("touchstart",c)}))),m(this,"afterDrawTracker")}},t.column&&(t.column.prototype.drawTracker=n.drawTrackerPoint),t.pie&&(t.pie.prototype.drawTracker=n.drawTrackerPoint),t.scatter&&(t.scatter.prototype.drawTracker=n.drawTrackerPoint),g(i.prototype,{setItemEvents:function(t,e,n){var i=this,o=i.chart.renderer.boxWrapper,r=t instanceof a,s="highcharts-legend-"+(r?"point":"series")+"-active",l=i.chart.styledMode;(n?[e,t.legendSymbol]:[t.legendGroup]).forEach((function(n){n&&n.on("mouseover",(function(){t.visible&&i.allItems.forEach((function(e){t!==e&&e.setState("inactive",!r)})),t.setState("hover"),t.visible&&o.addClass(s),l||e.css(i.options.itemHoverStyle)})).on("mouseout",(function(){i.chart.styledMode||e.css(x(t.visible?i.itemStyle:i.itemHiddenStyle)),i.allItems.forEach((function(e){t!==e&&e.setState("",!r)})),o.removeClass(s),t.setState()})).on("click",(function(e){var n=function(){t.setVisible&&t.setVisible(),i.allItems.forEach((function(e){t!==e&&e.setState(t.visible?"inactive":"",!r)}))};o.removeClass(s),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):m(t,"legendItemClick",e,n)}))}))},createCheckboxForItem:function(t){t.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),c(t.checkbox,"click",(function(e){m(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}),g(e.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=h.lang,i=e.options.chart.resetZoomButton,o=i.theme,r=o.states,a="chart"===i.relativeTo||"spaceBox"===i.relativeTo?null:"plotBox";m(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,o,r&&r.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,a)})),m(this,"afterShowResetZoom")},zoomOut:function(){m(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n=this,i=n.pointer,o=!1,r=n.inverted?i.mouseDownX:i.mouseDownY;!t||t.resetSelection?(n.axes.forEach((function(t){e=t.zoom()})),i.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){var a=t.axis,s=n.inverted?a.left:a.top,l=n.inverted?s+a.width:s+a.height,u=a.isXAxis,h=!1;(!u&&r>=s&&r<=l||u||!p(r))&&(h=!0),i[u?"zoomX":"zoomY"]&&h&&(e=a.zoom(t.min,t.max),a.displayBtn&&(o=!0))}));var a=n.resetZoomButton;o&&!a?n.showResetZoom():!o&&b(a)&&(n.resetZoomButton=a.destroy()),e&&n.redraw(C(n.options.chart.animation,t&&t.animation,100>n.pointCount))},pan:function(t,e){var n,i=this,o=i.hoverPoints,r=i.options.chart,a=i.options.mapNavigation&&i.options.mapNavigation.enabled;e="object"===typeof e?e:{enabled:e,type:"x"},r&&r.panning&&(r.panning=e);var s=e.type;m(this,"pan",{originalEvent:t},(function(){o&&o.forEach((function(t){t.setState()}));var e=[1];"xy"===s?e=[1,0]:"y"===s&&(e=[0]),e.forEach((function(e){var o=i[e?"xAxis":"yAxis"][0],r=o.horiz,l=t[r?"chartX":"chartY"],u=i[r=r?"mouseDownX":"mouseDownY"],h=(o.pointRange||0)/2,c=o.reversed&&!i.inverted||!o.reversed&&i.inverted?-1:1,d=o.getExtremes(),f=o.toValue(u-l,!0)+h*c,p=(c=o.toValue(u+o.len-l,!0)-h*c)<f;u=p?c:f,f=p?f:c;var g=o.hasVerticalPanning(),m=o.panningState;o.series.forEach((function(t){if(g&&!e&&(!m||m.isDirty)){var n=t.getProcessedData(!0);t=t.getExtremes(n.yData,!0),m||(m={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),_(t.dataMin)&&_(t.dataMax)&&(m.startMin=Math.min(t.dataMin,m.startMin),m.startMax=Math.max(t.dataMax,m.startMax))}})),c=Math.min(C(null===m||void 0===m?void 0:m.startMin,d.dataMin),h?d.min:o.toValue(o.toPixels(d.min)-o.minPixelPadding)),h=Math.max(C(null===m||void 0===m?void 0:m.startMax,d.dataMax),h?d.max:o.toValue(o.toPixels(d.max)+o.minPixelPadding)),o.panningState=m,o.isOrdinal||(0<(p=c-u)&&(f+=p,u=c),0<(p=f-h)&&(f=h,u-=p),o.series.length&&u!==d.min&&f!==d.max&&u>=c&&f<=h&&(o.setExtremes(u,f,!1,!1,{trigger:"pan"}),i.resetZoomButton||a||u===c||f===h||!s.match("y")||(i.showResetZoom(),o.displayBtn=!1),n=!0),i[r]=l)})),n&&i.redraw(!1),f(i.container,{cursor:"move"})}))}}),g(a.prototype,{select:function(t,e){var n=this,i=n.series,o=i.chart;this.selectedStaging=t=C(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){n.selected=n.options.selected=t,i.options.data[i.data.indexOf(n)]=n.options,n.setState(t&&"select"),e||o.getSelectedPoints().forEach((function(t){var e=t.series;t.selected&&t!==n&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(o.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=this,e=x(t.series.options.point,t.options).events;t.events=e,w(e,(function(e,n){y(e)&&c(t,n,e)})),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=this.series,o=this.state,r=i.options.states[t||"normal"]||{},a=h.plotOptions[i.type].marker&&i.options.marker,s=a&&!1===a.enabled,l=a&&a.states&&a.states[t||"normal"]||{},u=!1===l.enabled,c=i.stateMarkerGraphic,d=this.marker||{},f=i.chart,p=i.halo,v=a&&i.markerAttribs;if(!((t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===r.enabled||t&&(u||s&&!1===l.enabled)||t&&d.states&&d.states[t]&&!1===d.states[t].enabled)){if(this.state=t,v&&(n=i.markerAttribs(this,t)),this.graphic){if(o&&this.graphic.removeClass("highcharts-point-"+o),t&&this.graphic.addClass("highcharts-point-"+t),!f.styledMode){var y=i.pointAttribs(this,t),_=C(f.options.chart.animation,r.animation);i.options.inactiveOtherPoints&&y.opacity&&((this.dataLabels||[]).forEach((function(t){t&&t.animate({opacity:y.opacity},_)})),this.connector&&this.connector.animate({opacity:y.opacity},_)),this.graphic.animate(y,_)}n&&this.graphic.animate(n,C(f.options.chart.animation,l.animation,a.animation)),c&&c.hide()}else t&&l&&(o=d.symbol||i.symbol,c&&c.currentSymbol!==o&&(c=c.destroy()),n&&(c?c[e?"animate":"attr"]({x:n.x,y:n.y}):o&&(i.stateMarkerGraphic=c=f.renderer.symbol(o,n.x,n.y,n.width,n.height).add(i.markerGroup),c.currentSymbol=o)),!f.styledMode&&c&&c.attr(i.pointAttribs(this,t))),c&&(c[t&&this.isInside?"show":"hide"](),c.element.point=this);t=r.halo,r=(c=this.graphic||c)&&c.visibility||"inherit",t&&t.size&&c&&"hidden"!==r&&!this.isCluster?(p||(i.halo=p=f.renderer.path().add(c.parentGroup)),p.show()[e?"animate":"attr"]({d:this.haloPath(t.size)}),p.attr({class:"highcharts-halo highcharts-color-"+C(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:r,zIndex:-1}),p.point=this,f.styledMode||p.attr(g({fill:this.color||i.color,"fill-opacity":t.opacity},t.attributes))):p&&p.point&&p.point.haloPath&&p.animate({d:p.point.haloPath(0)},null,p.hide),m(this,"afterSetState")}},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),g(o.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;t.pointer.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&m(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&m(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),e.series.forEach((function(t){t.setState("",!0)}))},setState:function(t,e){var n=this,i=n.options,o=n.graph,r=i.inactiveOtherPoints,a=i.states,s=i.lineWidth,l=i.opacity,u=C(a[t||"normal"]&&a[t||"normal"].animation,n.chart.options.chart.animation);if(i=0,t=t||"",n.state!==t&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach((function(e){e&&(n.state&&e.removeClass("highcharts-series-"+n.state),t&&e.addClass("highcharts-series-"+t))})),n.state=t,!n.chart.styledMode)){if(a[t]&&!1===a[t].enabled)return;if(t&&(s=a[t].lineWidth||s+(a[t].lineWidthPlus||0),l=C(a[t].opacity,l)),o&&!o.dashstyle)for(a={"stroke-width":s},o.animate(a,u);n["zone-graph-"+i];)n["zone-graph-"+i].attr(a),i+=1;r||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach((function(t){t&&t.animate({opacity:l},u)}))}e&&r&&n.points&&n.setAllPointsToState(t)},setAllPointsToState:function(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))},setVisible:function(t,e){var n=this,i=n.chart,o=n.legendItem,r=i.options.chart.ignoreHiddenSeries,a=n.visible,s=(n.visible=t=n.options.visible=n.userOptions.visible="undefined"===typeof t?!a:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){n[t]&&n[t][s]()})),i.hoverSeries!==n&&(i.hoverPoint&&i.hoverPoint.series)!==n||n.onMouseOut(),o&&i.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&i.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),n.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),r&&(i.isDirtyBox=!0),m(n,s),!1!==e&&i.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=this.options.selected="undefined"===typeof t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),m(this,t?"select":"unselect")},drawTracker:n.drawTrackerGraph})})),e(n,"Core/Responsive.js",[n["Core/Chart/Chart.js"],n["Core/Utilities.js"]],(function(t,e){var n=e.find,i=e.isArray,o=e.isObject,r=e.merge,a=e.objectEach,s=e.pick,l=e.splat,u=e.uniqueKey;t.prototype.setResponsive=function(t,e){var i=this.options.responsive,o=[],a=this.currentResponsive;!e&&i&&i.rules&&i.rules.forEach((function(t){"undefined"===typeof t._id&&(t._id=u()),this.matchResponsiveRule(t,o)}),this),(e=r.apply(0,o.map((function(t){return n(i.rules,(function(e){return e._id===t})).chartOptions})))).isResponsiveOptions=!0,(o=o.toString()||void 0)!==(a&&a.ruleIds)&&(a&&this.update(a.undoOptions,t,!0),o?((a=this.currentOptions(e)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:o,mergedOptions:e,undoOptions:a},this.update(e,t,!0)):this.currentResponsive=void 0)},t.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=s(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(n.minWidth,0)&&this.chartHeight>=s(n.minHeight,0)}).call(this)&&e.push(t._id)},t.prototype.currentOptions=function(t){var e=this,n={};return function t(n,r,s,u){var h;a(n,(function(n,a){if(!u&&-1<e.collectionsWithUpdate.indexOf(a))for(n=l(n),s[a]=[],h=0;h<Math.max(n.length,r[a].length);h++)r[a][h]&&(void 0===n[h]?s[a][h]=r[a][h]:(s[a][h]={},t(n[h],r[a][h],s[a][h],u+1)));else o(n)?(s[a]=i(n)?[]:{},t(n,r[a]||{},s[a],u+1)):s[a]="undefined"===typeof r[a]?null:r[a]}))}(t,this.options,n,0),n}})),e(n,"masters/highcharts.src.js",[n["Core/Globals.js"]],(function(t){return t})),n["masters/highcharts.src.js"]._modules=n,n["masters/highcharts.src.js"]}))},function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";e.createTextElementHiddenCopy=e.contains=e.clipboardText=e.normalizeTemplateElement=e.extractTemplateMarkup=e.closestCommonParent=e.clearSelection=e.resetActiveElement=void 0;var i=a(n(16)),o=a(n(1)),r=n(2);function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,n(14).getWindow)();e.resetActiveElement=function(){var t=i.default.getActiveElement(),e=i.default.getBody();if(t&&t!==e&&t.blur)try{t.blur()}catch(n){e.blur()}};e.clearSelection=function(){var t=s.getSelection();if(t&&"Caret"!==t.type)if(t.empty)t.empty();else if(t.removeAllRanges)try{t.removeAllRanges()}catch(e){}};e.closestCommonParent=function(t,e){var n=(0,o.default)(t),i=(0,o.default)(e);if(n[0]===i[0])return n[0];for(var r=n.parents(),a=i.parents(),s=-Math.min(r.length,a.length);s<0;s++)if(r.get(s)===a.get(s))return r.get(s)};e.extractTemplateMarkup=function(t){var e=(t=(0,o.default)(t)).length&&t.filter((function(){var t=(0,o.default)(this);return t.is("script[type]")&&t.attr("type").indexOf("script")<0}));return e.length?e.eq(0).html():(t=(0,o.default)("<div>").append(t)).html()};e.normalizeTemplateElement=function t(e){var n=(0,r.isDefined)(e)&&(e.nodeType||(0,r.isRenderer)(e))?(0,o.default)(e):(0,o.default)("<div>").html(e).contents();return 1===n.length&&(n.is("script")?n=t(n.html().trim()):n.is("table")&&(n=n.children("tbody").contents())),n};e.clipboardText=function(t,e){var n=t.originalEvent&&t.originalEvent.clipboardData||s.clipboardData;if(1===arguments.length)return n&&n.getData("Text");n&&n.setData("Text",e)};e.contains=function t(e,n){return!!n&&(i.default.isTextNode(n)&&(n=n.parentNode),i.default.isDocument(e)?e.documentElement.contains(n):(0,r.isWindow)(e)?t(e.document,n):e.contains?e.contains(n):!!(n.compareDocumentPosition(e)&n.DOCUMENT_POSITION_CONTAINS))};e.createTextElementHiddenCopy=function(t,e,n){var i=s.getComputedStyle((0,o.default)(t).get(0)),r=n&&n.includePaddings;return(0,o.default)("<div>").text(e).css({fontStyle:i.fontStyle,fontVariant:i.fontVariant,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFamily:i.fontFamily,letterSpacing:i.letterSpacing,border:i.border,paddingTop:r?i.paddingTop:"",paddingRight:r?i.paddingRight:"",paddingBottom:r?i.paddingBottom:"",paddingLeft:r?i.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})}},function(t,e,n){"use strict";e.default=void 0;var i=v(n(1)),o=v(n(17)),r=n(95),a=v(n(19)),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==y(t)&&"function"!==typeof t)return{default:t};var e=m();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=i?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(48)),l=v(n(117)),u=v(n(96)),h=v(n(47)),c=n(120),d=n(3),f=n(132),p=n(108),g=n(27);function m(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return m=function(){return t},t}function v(t){return t&&t.__esModule?t:{default:t}}function y(t){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e,n){return(x="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=k(t);if(e){var o=k(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return S(this,n)}}function S(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(m,t);var e,n,a,h=C(m);function m(){var t;_(this,m);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=h.call.apply(h,[this].concat(n)))._feedbackHideTimeout=100,t}return e=m,(n=[{key:"_$content",value:function(){return this.$element().find(".dx-button-content")}},{key:"_$submitInput",value:function(){return this.$element().find(".dx-button-submit-input")}},{key:"_attachActiveEvents",value:function(t,e){var n=this._eventBindingTarget(),i=this._activeStateUnit;c.active.off(n,{namespace:"inkRipple",selector:i}),c.active.on(n,new l.default(t),new l.default(e,{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:i,namespace:"inkRipple"})}},{key:"_defaultOptionsRules",value:function(){return x(k(m.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return"desktop"===o.default.real().deviceType&&!o.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return s.isMaterial(s.current())},options:{useInkRipple:!0}}])}},{key:"_executeClickAction",value:function(t){this._clickAction({validationGroup:this._validationGroupConfig,event:t})}},{key:"_findGroup",value:function(){var t=this.$element(),e=this._modelByElement(t);return this.option().validationGroup||u.default.findGroup(t,e)}},{key:"_getContentData",value:function(){var t=this.option(),e=t.icon,n=t.text,i=t.type,o=t._templateData;return(0,d.extend)({icon:"back"!==i||e?e:"back",text:n},o)}},{key:"_getDefaultOptions",value:function(){return(0,d.extend)(x(k(m.prototype),"_getDefaultOptions",this).call(this),{hoverStateEnabled:!0,onClick:null,type:"normal",text:"",icon:"",iconPosition:"left",validationGroup:void 0,activeStateEnabled:!0,template:"content",useSubmitBehavior:!1,useInkRipple:!1,_templateData:{},stylingMode:"contained"})}},{key:"_getSubmitAction",value:function(){var t=this,e=!0,n="valid";return this._createAction((function(i){var o=i.event;if(e){var r=t._validationGroupConfig;if(r){var a=r.validate(),s=a.status,l=a.complete;n=s,"pending"===s&&(e=!1,t.option("disabled",!0),l.then((function(i){var o=i.status;t.option("disabled",!1),"valid"===(n=o)&&t._submitInput().click(),e=!0})))}}"valid"!==n&&o.preventDefault(),o.stopPropagation()}))}},{key:"_initMarkup",value:function(){this.$element().addClass("dx-button"),this._renderType(),this._renderStylingMode(),this._renderInkRipple(),this._renderClick(),this._updateAriaLabel(),x(k(m.prototype),"_initMarkup",this).call(this),this._updateContent(),this.setAria("role","button")}},{key:"_getAnonymousTemplateName",value:function(){return"content"}},{key:"_initTemplates",value:function(){var t=this;this._templateManager.addDefaultTemplates({content:new f.FunctionTemplate((function(e){var n=e.model,o=void 0===n?{}:n,r=e.container,a=o.text,s=o.icon,l=t.option().iconPosition,u=(0,p.getImageContainer)(s),h=a&&(0,i.default)("<span>").text(a).addClass("dx-button-text"),c=(0,i.default)(r);c.append(h),"left"===l?c.prepend(u):(u.addClass("dx-icon-right"),c.append(u))}))}),x(k(m.prototype),"_initTemplates",this).call(this)}},{key:"_optionChanged",value:function(t){var e=t.name,n=t.previousValue;switch(e){case"onClick":this._updateClick();break;case"icon":case"text":this._updateContent(),this._updateAriaLabel();break;case"type":this._updateType(n),this._updateContent();break;case"_templateData":break;case"template":case"iconPosition":this._updateContent();break;case"stylingMode":this._updateStylingMode();break;case"useSubmitBehavior":this._updateSubmitInput();break;case"useInkRipple":this._invalidate();break;default:x(k(m.prototype),"_optionChanged",this).call(this,t)}}},{key:"_renderClick",value:function(){var t=this,e=this.$element();c.dxClick.off(e,{namespace:this.NAME}),c.dxClick.on(e,(function(e){return t._executeClickAction(e)}),{namespace:this.NAME}),this._updateClick()}},{key:"_renderInkRipple",value:function(){var t=this,e=this.option(),n=e.text,i=e.icon,o=e.type;if(e.useInkRipple){var a=!n&&i||"back"===o,s=(0,r.render)(a?{waveSizeCoefficient:1,useHoldAnimation:!1,isCentered:!0}:{}),l=function(e,n){var i=t.option(),o=i.activeStateEnabled;if(i.useInkRipple&&o&&!t._disposed){var r={element:t._$content(),event:e};n?s.showWave(r):s.hideWave(r)}};this._attachActiveEvents((function(t){var e=t.event;return l(e,!0)}),(function(t){var e=t.event;return l(e)}))}}},{key:"_renderStylingMode",value:function(){var t=this.$element(),e=this.option().stylingMode;-1===["contained","text","outlined"].indexOf(e)&&(e=this._getDefaultOptions().stylingMode),t.addClass("dx-button-mode-".concat(e))}},{key:"_renderSubmitInput",value:function(){if(this.option().useSubmitBehavior){var t=this._getSubmitAction(),e=this._$content();(0,i.default)("<input>").attr("type","submit").attr("tabindex",-1).addClass("dx-button-submit-input").appendTo(e),c.click.on(this._$submitInput(),(function(e){return t({event:e})}))}}},{key:"_renderType",value:function(){var t=this.option().type,e=this.$element();t&&e.addClass("dx-button-".concat(t))}},{key:"_submitInput",value:function(){return this._$submitInput().get(0)}},{key:"_supportedKeys",value:function(){var t=this,e=function(e){e.preventDefault(),t._executeClickAction(e)};return(0,d.extend)(x(k(m.prototype),"_supportedKeys",this).call(this),{space:e,enter:e})}},{key:"_updateAriaLabel",value:function(){var t=this._getAriaTarget(),e=this.option(),n=e.icon,i=e.text;i||("image"===(0,p.getImageSourceType)(n)&&(n=-1===n.indexOf("base64")?n.replace(/.+\/([^.]+)\..+$/,"$1"):"Base64"),i=n||""),t.attr("aria-label",i||null)}},{key:"_updateClick",value:function(){var t=this;this._clickAction=this._createActionByOption("onClick",{excludeValidators:["readOnly"],afterExecute:function(){t.option().useSubmitBehavior&&setTimeout((function(){return t._submitInput().click()}))}})}},{key:"_updateContent",value:function(){var t=this.$element(),e=this._$content(),n=this._getContentData(),o=this.option(),r=o.template,a=o.iconPosition,s=n.icon,l=n.text;e.length?e.empty():e=(0,i.default)("<div>").addClass("dx-button-content").appendTo(t),t.toggleClass("dx-button-has-icon",!!s).toggleClass("dx-button-icon-right",!!s&&"left"!==a).toggleClass("dx-button-has-text",!!l);var u=(0,i.default)(this._getTemplateByOption("template").render({model:n,container:(0,g.getPublicElement)(e),transclude:this._templateManager.anonymousTemplateName===r}));u.hasClass("dx-template-wrapper")&&(u.addClass("dx-button-content"),e.replaceWith(u)),this._updateSubmitInput()}},{key:"_updateSubmitInput",value:function(){var t=this.option().useSubmitBehavior,e=this._$submitInput();!t&&e.length?e.remove():t&&!e.length&&this._renderSubmitInput()}},{key:"_updateStylingMode",value:function(){var t=this.$element();["contained","text","outlined"].map((function(t){return"dx-button-mode-".concat(t)})).forEach(t.removeClass.bind(t)),this._renderStylingMode()}},{key:"_updateType",value:function(t){var e=this.$element();[t,"back","danger","default","normal","success"].map((function(t){return"dx-button-".concat(t)})).forEach(e.removeClass.bind(e)),this._renderType()}},{key:"_validationGroupConfig",get:function(){return u.default.getGroupConfig(this._findGroup())}}])&&b(e.prototype,n),a&&b(e,a),m}(h.default);(0,a.default)("dxButton",E);var I=E;e.default=I,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i,o=n(3),r=(i=n(37))&&i.__esModule?i:{default:i};var a={rtlEnabled:!1,defaultCurrency:"USD",oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:function(t){"{"!==t.trim().charAt(0)&&(t="{"+t+"}");try{return new Function("return "+t)()}catch(e){throw r.default.Error("E3018",e,t)}}},s=["decimalSeparator","thousandsSeparator"],l=function(){if(!arguments.length)return a;var t=arguments.length<=0?void 0:arguments[0];s.forEach((function(e){if(t[e]){var n="Now, the ".concat(e," is selected based on the specified locale.");r.default.log("W0003","config",e,"19.2",n)}})),(0,o.extend)(a,t)};"undefined"!==typeof DevExpress&&DevExpress.config&&l(DevExpress.config);var u=l;e.default=u,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=p(n(117)),r=p(n(89)),a=n(120),s=n(6),l=n(5),u=n(3),h=n(68),c=n(21),d=n(13),f=n(2);function p(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){t="role"===t||"id"===t?t:"aria-".concat(t),e=(0,f.isDefined)(e)?e.toString():null,n.attr(t,e)}n(30),n(137),n(168);var m=r.default.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:function(){return{}},_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:null,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1})},_init:function(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(t,e){var n=m.getOptionsFromContainer(e);t&&t.option(n),this._options.cache(e.name,n)},_bindInnerWidgetOptions:function(t,e){var n=this,i=function(){return n._options.silent(e,(0,u.extend)({},t.option()))};i(),t.on("optionChanged",i)},_getAriaTarget:function(){return this._focusTarget()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){var t=this.option(),e=t.disabled,n=t.visible;this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(n),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render:function(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint:function(){var t=this.option().hint;this.$element().attr("title",t||null)},_renderContent:function(){var t=this;(0,s.deferRender)((function(){return t._disposed?void 0:t._renderContentImpl()})).done((function(){return t._disposed?void 0:t._fireContentReadyAction()}))},_renderContentImpl:s.noop,_fireContentReadyAction:(0,s.deferRenderer)((function(){return this._contentReadyAction()})),_dispose:function(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState:function(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean:function(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility:function(t){this.$element().toggleClass("dx-state-invisible",!t),this.setAria("hidden",!t||void 0)},_renderFocusState:function(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey:function(){var t=this,e=this._focusTarget(),n=this.option().accessKey;e.attr("accesskey",n),a.dxClick.off(e,{namespace:"UIFeedback"}),n&&a.dxClick.on(e,(function(e){(0,d.isFakeClickEvent)(e)&&(e.stopImmediatePropagation(),t.focus())}),{namespace:"UIFeedback"})},_isFocusable:function(){var t=this.option(),e=t.focusStateEnabled,n=t.disabled;return e&&!n},_eventBindingTarget:function(){return this.$element()},_focusTarget:function(){return this._getActiveElement()},_getActiveElement:function(){var t=this._eventBindingTarget();return this._activeStateUnit?t.find(this._activeStateUnit).not(".dx-state-disabled"):t},_renderFocusTarget:function(){var t=this.option().tabIndex;this._focusTarget().attr("tabIndex",t)},_keyboardEventBindingTarget:function(){return this._eventBindingTarget()},_refreshFocusEvent:function(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget:function(){return this._focusTarget()},_focusInHandler:function(t){var e=this;t.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:function(){return e._updateFocusState(t,!0)},excludeValidators:["readOnly"]})({event:t})},_focusOutHandler:function(t){var e=this;t.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:function(){return e._updateFocusState(t,!1)},excludeValidators:["readOnly","disabled"]})({event:t})},_updateFocusState:function(t,e){var n=t.target;-1!==(0,c.inArray)(n,this._focusTarget())&&this._toggleFocusClass(e,(0,i.default)(n))},_toggleFocusClass:function(t,e){(e&&e.length?e:this._focusTarget()).toggleClass("dx-state-focused",t)},_hasFocusClass:function(t){return(0,i.default)(t||this._focusTarget()).hasClass("dx-state-focused")},_isFocused:function(){return this._hasFocusClass()},_getKeyboardListeners:function(){return[]},_attachKeyboardEvents:function(){var t=this;this._detachKeyboardEvents();var e=this.option(),n=e.focusStateEnabled,i=e.onKeyboardHandled,o=this._getKeyboardListeners().length;(n||o||!!i)&&(this._keyboardListenerId=a.keyboard.on(this._keyboardEventBindingTarget(),this._focusTarget(),(function(e){return t._keyboardHandler(e)})))},_keyboardHandler:function(t,e){if(!e){var n=t.originalEvent,i=t.keyName,o=t.which,r=this._supportedKeys(n),a=r[i]||r[o];if(void 0!==a)if(!a.bind(this)(n,t))return!1}var s=this._getKeyboardListeners(),l=this.option().onKeyboardHandled;return s.forEach((function(e){return e&&e._keyboardHandler(t)})),l&&l(t),!0},_refreshFocusState:function(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState:function(){this._focusTarget().removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents:function(){a.keyboard.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents:function(){var t=this,e=this.option().hoverStateEnabled,n=this._activeStateUnit,r=this._eventBindingTarget();a.hover.off(r,{selector:n,namespace:"UIFeedback"}),e&&a.hover.on(r,new o.default((function(e){var n=e.event,o=e.element;t._hoverStartHandler(n),t.option("hoveredElement",(0,i.default)(o))}),{excludeValidators:["readOnly"]}),(function(e){t.option("hoveredElement",null),t._hoverEndHandler(e)}),{selector:n,namespace:"UIFeedback"})},_attachFeedbackEvents:function(){var t=this,e=this.option().activeStateEnabled,n=this._activeStateUnit,r=this._eventBindingTarget();a.active.off(r,{namespace:"UIFeedback",selector:n}),e&&a.active.on(r,new o.default((function(e){var n=e.event,o=e.element;return t._toggleActiveState((0,i.default)(o),!0,n)})),new o.default((function(e){var n=e.event,o=e.element;return t._toggleActiveState((0,i.default)(o),!1,n)}),{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:n,namespace:"UIFeedback"})},_detachFocusEvents:function(){var t=this._focusEventTarget();a.focus.off(t,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents:function(){var t=this,e=this._focusEventTarget();a.focus.on(e,(function(e){return t._focusInHandler(e)}),(function(e){return t._focusOutHandler(e)}),{namespace:"".concat(this.NAME,"Focus"),isFocusable:function(t,e){return(0,i.default)(e).is(h.focusable)}})},_hoverStartHandler:s.noop,_hoverEndHandler:s.noop,_toggleActiveState:function(t,e){this.option("isActive",e),t.toggleClass("dx-state-active",e)},_updatedHover:function(){var t=this._options.silent("hoveredElement");this._hover(t,t)},_findHoverTarget:function(t){return t&&t.closest(this._activeStateUnit||this._eventBindingTarget())},_hover:function(t,e){var n=this.option(),i=n.hoverStateEnabled,o=n.disabled,r=n.isActive;if((e=this._findHoverTarget(e))&&e.toggleClass("dx-state-hover",!1),t&&i&&!o&&!r){var a=this._findHoverTarget(t);a&&a.toggleClass("dx-state-hover",!0)}},_toggleDisabledState:function(t){this.$element().toggleClass("dx-state-disabled",Boolean(t)),this.setAria("disabled",t||void 0)},_toggleIndependentState:function(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption:function(t,e){var n=this;if(this[t])if((0,f.isPlainObject)(e[0]))(0,l.each)(e[0],(function(e,i){return n._setWidgetOption(t,[e,i])}));else{var i=e[0],o=e[1];1===e.length&&(o=this.option(i));var r=this["".concat(t,"OptionMap")];this[t].option(r?r(i):i,o)}},_optionChanged:function(t){var e=t.name,n=t.value,i=t.previousValue;switch(e){case"disabled":this._toggleDisabledState(n),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(n,i);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(n),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(n?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(t)}},_isVisible:function(){var t=this.option().visible;return this.callBase()&&t},beginUpdate:function(){this._ready(!1),this.callBase()},endUpdate:function(){this.callBase(),this._initialized&&this._ready(!0)},_ready:function(t){if(0===arguments.length)return this._isReady;this._isReady=t},setAria:function(){if((0,f.isPlainObject)(arguments.length<=0?void 0:arguments[0])){var t=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();(0,l.each)(arguments.length<=0?void 0:arguments[0],(function(e,n){return g(e,n,t)}))}else g(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget())},isReady:function(){return this._ready()},repaint:function(){this._refresh()},focus:function(){a.focus.trigger(this._focusTarget())},registerKeyHandler:function(t,e){var n=this._supportedKeys();this._supportedKeys=function(){return(0,u.extend)(n,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}});m.getOptionsFromContainer=function(t){var e=t.name,n=t.fullName,i=t.value,o={};e===n?o=i:o[n.split(".").pop()]=i;return o};var v=m;e.default=v,t.exports=e.default},function(t,e,n){"use strict";e.waitForThemeLoad=D,e.init=P,e.current=A,e.attachCssClasses=R,e.detachCssClasses=B,e.isMaterial=F,e.isGeneric=function(t){return N("generic",t)},e.isDark=function(t){return N("dark",t)},e.isWebFontLoaded=L,e.waitWebFont=function(t,e){return new r.default((function(n){var i=function(){clearInterval(o),clearTimeout(r),n()},o=setInterval((function(){L(t,e)&&i()}),15),r=setTimeout(i,2e3)}))},e.ready=function(t){f.themeReadyCallback.add(t)},e.resetTheme=function(){v&&v.attr("href","about:blank"),_=null,b=null,E=new s.Deferred},e.initialized=function(t){E.done(t)},e.setDefaultTimeout=function(t){I=t};var i=g(n(17)),o=g(n(16)),r=g(n(124)),a=g(n(1)),s=n(8),l=n(209),u=n(5),h=g(n(67)),c=n(103),d=n(14),f=n(336),p=g(n(25));function g(t){return t&&t.__esModule?t:{default:t}}var m,v,y,_,b,x,w=(0,d.getWindow)(),C=h.default.add,S=c.value,k=c.changeCallback,E=new s.Deferred,I=15e3;function T(){if(!(0,d.hasWindow)())return null;var t,e=(0,a.default)("<div>",m).addClass("dx-theme-marker").appendTo(m.documentElement);try{return(t=e.css("fontFamily"))?"dx."!==(t=t.replace(/["']/g,"")).substr(0,"dx.".length)?null:t.substr("dx.".length):null}finally{e.remove()}}function D(t){var e,n,i=!0;function o(){b=null,clearInterval(n),i=!0,f.themeReadyCallback.fire(),f.themeReadyCallback.empty(),E.resolve()}if(b=t,M()||!I)o();else{if(!i)return void(b&&(b=t));e=Date.now(),i=!1,n=setInterval((function(){var t=M(),n=!t&&Date.now()-e>I;n&&p.default.log("W0004",b),(t||n)&&o()}),10)}}function M(){if(!b)return!0;var t="any"===b;if("resolved"===E.state()&&t)return!0;var e=T();return!(!e||!t)||e===b}function O(t){var e=t?t.split("."):[],n=null;if(y){if(t in y)return t;(0,u.each)(y,(function(t,i){var o=t.split(".");if((!e[0]||o[0]===e[0])&&(!e[1]||e[1]===o[1])&&(!e[2]||e[2]===o[2]))return n&&!i.isActive||(n=t),!i.isActive&&void 0}))}return n}function P(t){(function(t){try{t!==m&&(y=null)}catch(e){y=null}m=t})((t=t||{}).context||o.default.getDocument()),m&&(!function(){var t=(0,a.default)("link[rel=dx-theme]",m);t.length&&(y={},v=(0,a.default)((0,l.parseHTML)("<link rel=stylesheet>"),m),t.each((function(){var t=(0,a.default)(this,m),e=t.attr("data-theme"),n=t.attr("href"),i="true"===t.attr("data-active");y[e]={url:n,isActive:i}})),t.last().after(v),t.remove())}(),_=void 0,A(t))}function A(t){if(!arguments.length)return _=_||T();B(S()),"string"===typeof(t=t||{})&&(t={theme:t});var e,n=t._autoInit,i=t.loadCallback;if((_=O(t.theme||_))&&(e=y[_]),i&&f.themeReadyCallback.add(i),e)v.attr("href",y[_].url),(f.themeReadyCallback.has()||"resolved"!==E.state()||t._forceTimeout)&&D(_);else{if(!n)throw p.default.Error("E0021",_);D("any"),f.themeReadyCallback.fire(),f.themeReadyCallback.empty()}E.done((function(){return R((0,c.originalViewPort)(),_)}))}function R(t,e){x=function(t){var e=[],n=(t=t||A())&&t.split(".");return n&&(e.push("dx-theme-"+n[0],"dx-theme-"+n[0]+"-typography"),n.length>1&&e.push("dx-color-scheme-"+n[1]+(F(t)?"-"+n[2]:""))),e}(e).join(" "),(0,a.default)(t).addClass(x);!function(){var e=(0,d.hasWindow)()&&w.devicePixelRatio;if(e&&!(e<2)){var n=(0,a.default)("<div>");n.css("border",".5px solid transparent"),(0,a.default)("body").append(n),1===n.outerHeight()&&((0,a.default)(t).addClass("dx-hairlines"),x+=" dx-hairlines"),n.remove()}}()}function B(t){(0,a.default)(t).removeClass(x)}function N(t,e){return e||(e=_||T()),new RegExp(t).test(e)}function F(t){return N("material",t)}function L(t,e){var n=o.default.getDocument(),i=n.createElement("span");i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",i.style.visibility="hidden",i.style.fontFamily="Arial",i.style.fontSize="250px",i.style.fontWeight=e,i.innerHTML=t,n.body.appendChild(i);var r=i.offsetWidth;i.style.fontFamily="Roboto, RobotoFallback, Arial";var a=i.offsetWidth;return i.parentNode.removeChild(i),r!==a}function V(){if(P({_autoInit:!0,_forceTimeout:!0}),(0,a.default)("link[rel=dx-theme]",m).length)throw p.default.Error("E0022")}(0,d.hasWindow)()?V():C(V),k.add((function(t,e){E.done((function(){B(e),R(t)}))})),i.default.changed.add((function(){P({_autoInit:!0})})),t.exports.default=t.exports},function(t,e,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var r=typeof i;if("string"===r||"number"===r)t.push(i);else if(Array.isArray(i)&&i.length){var a=o.apply(null,i);a&&t.push(a)}else if("object"===r)for(var s in i)n.call(i,s)&&i[s]&&t.push(s)}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(i=function(){return o}.apply(e,[]))||(t.exports=i)}()},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(20))&&i.__esModule?i:{default:i}).default.inherit({ctor:function(t){t&&(t=String(t)),this._value=this._normalize(t||this._generate())},_normalize:function(t){for(t=t.replace(/[^a-f0-9]/gi,"").toLowerCase();t.length<32;)t+="0";return[t.substr(0,8),t.substr(8,4),t.substr(12,4),t.substr(16,4),t.substr(20,12)].join("-")},_generate:function(){for(var t="",e=0;e<32;e++)t+=Math.round(15*Math.random()).toString(16);return t},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}});e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=h(n(16)),r=h(n(67)),a=n(14),s=n(5),l=n(8),u=n(6);function h(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var f=r.default.add,p=function(){var t,e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"};return f((function(){var e=(0,a.getWindow)();o.default.listen(e,"beforeunload",(function(){t=!0}))})),function(n,i){return t?"DEVEXTREME_XHR_ERROR_UNLOAD":n.status<400?function(t){var n=e[t];return n||t}(i):n.statusText}}(),g={count:{seed:0,step:function(t){return 1+t}},sum:{seed:0,step:function(t,e){return t+e}},min:{step:function(t,e){return e<t?e:t}},max:{step:function(t,e){return e>t?e:t}},avg:{seed:[0,0],step:function(t,e){return[t[0]+e,t[1]+1]},finalize:function(t){return t[1]?t[0]/t[1]:NaN}}},m=function(){var t,e=0;return{obtain:function(){0===e&&(t=new l.Deferred),e++},release:function(){--e<1&&t.resolve()},promise:function(){return(0===e?(new l.Deferred).resolve():t).promise()},reset:function(){e=0,t&&t.resolve()}}}();var v={XHR_ERROR_UNLOAD:"DEVEXTREME_XHR_ERROR_UNLOAD",normalizeBinaryCriterion:function(t){return[t[0],t.length<3?"=":String(t[1]).toLowerCase(),t.length<2||t[t.length-1]]},normalizeSortingInfo:function(t){return Array.isArray(t)||(t=[t]),(0,s.map)(t,(function(t){var e={selector:(0,i.isFunction)(t)||"string"===typeof t?t:t.getter||t.field||t.selector,desc:!(!t.desc&&"d"!==String(t.dir).charAt(0).toLowerCase())};return t.compare&&(e.compare=t.compare),e}))},errorMessageFromXhr:p,aggregators:g,keysEqual:function(t,e,n){if(Array.isArray(t)){for(var i,o=(0,s.map)(e,(function(t,e){return e})),r=0;r<o.length;r++)if(i=o[r],!(0,u.equalByValue)(e[i],n[i],0,!1))return!1;return!0}return(0,u.equalByValue)(e,n,0,!1)},throttleChanges:function(t,e){var n=[],o=function(t,e){var n,o;return function(){var r=this;return o=arguments,n||(n=setTimeout((function(){n=void 0,o&&t.call(r,o)}),(0,i.isFunction)(e)?e():e)),n}}((function(){t.call(this,n),n=[]}),e);return function(t){var e;Array.isArray(t)&&(e=n).push.apply(e,c(t));return o.call(this,n)}},trivialPromise:function(){var t=new l.Deferred;return t.resolve.apply(t,arguments).promise()},rejectedPromise:function(){var t=new l.Deferred;return t.reject.apply(t,arguments).promise()},isDisjunctiveOperator:function(t){return/^(or|\|\||\|)$/i.test(t)},isConjunctiveOperator:function(t){return/^(and|&&|&)$/i.test(t)},processRequestResultLock:m,isUnaryOperation:function(t){return"!"===t[0]&&Array.isArray(t[1])},isGroupCriterion:function(t){var e,n=t[0],o=t[1];return!!Array.isArray(n)||!(!(0,i.isFunction)(n)||!Array.isArray(o)&&!(0,i.isFunction)(o)&&"and"!==(e=o)&&"or"!==e)},base64_encode:function(t){Array.isArray(t)||(t=function(t){var e,n,i=[];for(n=0;n<t.length;n++)(e=t.charCodeAt(n))<128?i.push(e):e<2048?i.push(192+(e>>6),128+(63&e)):e<65536?i.push(224+(e>>12),128+(e>>6&63),128+(63&e)):e<2097152&&i.push(240+(e>>18),128+(e>>12&63),128+(e>>6&63),128+(63&e));return i}(String(t)));var e="";function n(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)}for(var i=0;i<t.length;i+=3){var o=t[i],r=t[i+1],a=t[i+2];e+=(0,s.map)([o>>2,(3&o)<<4|r>>4,isNaN(r)?64:(15&r)<<2|a>>6,isNaN(a)?64:63&a],n).join("")}return e}};e.default=v,t.exports=e.default},function(t,e,n){"use strict";e.adjust=function(t,e){var n,a=r(e||0)+2,s=t.toString().split("."),l=t,u=Math.abs(t),h=(0,i.isExponential)(t),c=u>1?10:0;if(1===s.length)return t;h||((0,i.isExponential)(e)&&(a=s[0].length+o(e)),t=(t=u)-Math.floor(t)+c);if(a=function(){return"0.000300"!==3e-4.toPrecision(3)}()&&o(t)>6||a>7?15:7,!h&&(n=parseFloat(t.toPrecision(a)).toString().split("."))[0]===c.toString())return parseFloat(s[0]+"."+n[1]);return parseFloat(l.toPrecision(a))},e.getPrecision=r,e.getExponent=o,e.getRoot=a,e.solveCubicEquation=function(t,e,n,i){if(Math.abs(t)<1e-8){if(t=e,e=n,n=i,Math.abs(t)<1e-8)return t=e,e=n,Math.abs(t)<1e-8?[]:[-e/t];var o=e*e-4*t*n;return Math.abs(o)<1e-8?[-e/(2*t)]:o>0?[(-e+Math.sqrt(o))/(2*t),(-e-Math.sqrt(o))/(2*t)]:[]}var r,s,l=(3*t*n-e*e)/(3*t*t),u=(2*e*e*e-9*t*e*n+27*t*t*i)/(27*t*t*t);if(Math.abs(l)<1e-8)r=[a(-u,3)];else if(Math.abs(u)<1e-8)r=[0].concat(l<0?[Math.sqrt(-l),-Math.sqrt(-l)]:[]);else{var h=u*u/4+l*l*l/27;if(Math.abs(h)<1e-8)r=[-1.5*u/l,3*u/l];else if(h>0)s=a(-u/2-Math.sqrt(h),3),r=[s-l/(3*s)];else{s=2*Math.sqrt(-l/3);var c=Math.acos(3*u/l/s)/3,d=2*Math.PI/3;r=[s*Math.cos(c),s*Math.cos(c-d),s*Math.cos(c-2*d)]}}for(var f=0;f<r.length;f++)r[f]-=e/(3*t);return r},e.trunc=function(t){return Math.trunc?Math.trunc(t):t>0?Math.floor(t):Math.ceil(t)},e.inRange=e.fitIntoRange=e.sign=void 0;var i=n(2);e.sign=function(t){return 0===t?0:t/Math.abs(t)};e.fitIntoRange=function(t,e,n){var i=!e&&0!==e,o=!n&&0!==n;return i&&(e=o?t:Math.min(t,n)),o&&(n=i?t:Math.max(t,e)),Math.min(Math.max(t,e),n)};function o(t){return Math.abs(parseInt(t.toExponential().split("e")[1]))}function r(t){var e=t.toString();if(e.indexOf(".")<0)return 0;var n=e.split("."),i=n[1].indexOf("e");return i>=0?i:n[1].length}function a(t,e){if(t<0&&e%2!==1)return NaN;var n=Math.pow(Math.abs(t),1/e);return e%2===1&&t<0?-n:n}e.inRange=function(t,e,n){return t>=e&&t<=n}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.getDataStrategy=function(){return l},e.data=function(){return l.data.apply(this,arguments)},e.beforeCleanData=function(t){c=t},e.afterCleanData=function(t){d=t},e.cleanData=function(t){return l.cleanData.call(this,t)},e.removeData=function(t,e){return l.removeData.call(this,t,e)},e.cleanDataRecursive=function(t,e){if(!o.default.isElementNode(t))return;var n=t.getElementsByTagName("*");l.cleanData(n),e&&l.cleanData([t])},e.setDataStrategy=e.strategyChanging=void 0;var i=s(n(163)),o=s(n(16)),r=s(n(7)),a=s(n(165));function s(t){return t&&t.__esModule?t:{default:t}}var l,u=new i.default,h=new a.default;e.strategyChanging=h;var c=function(){},d=function(){},f=function(t){h.fire(t);var e=(l=t).cleanData;l.cleanData=function(t){c(t);var n=e.call(this,t);return d(t),n}};e.setDataStrategy=f,f({data:function(){var t=arguments[0],e=arguments[1],n=arguments[2];if(t){var i=u.get(t);return i||(i={},u.set(t,i)),void 0===e?i:2===arguments.length?i[e]:(i[e]=n,n)}},removeData:function(t,e){if(t)if(void 0===e)u.delete(t);else{var n=u.get(t);n&&delete n[e]}},cleanData:function(t){for(var e=0;e<t.length;e++)r.default.off(t[e]),u.delete(t[e])}})},function(t,e,n){"use strict";e.isEmpty=e.replaceAll=e.format=e.quadToObject=e.encodeHtml=void 0;var i=n(2);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(){var t=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(t[0],"&amp;").replace(t[1],"&quot;").replace(t[2],"&#39;").replace(t[3],"&lt;").replace(t[4],"&gt;")}}();e.encodeHtml=r;e.quadToObject=function(t){var e=function(t){switch(o(t)){case"string":return t.split(/\s+/,4);case"object":return[t.x||t.h||t.left,t.y||t.v||t.top,t.x||t.h||t.right,t.y||t.v||t.bottom];case"number":return[t];default:return t}}(t),n=parseInt(e&&e[0],10),i=parseInt(e&&e[1],10),r=parseInt(e&&e[2],10),a=parseInt(e&&e[3],10);return isFinite(n)||(n=0),isFinite(i)||(i=n),isFinite(r)||(r=n),isFinite(a)||(a=i),{top:i,right:r,bottom:a,left:n}};e.format=function(){var t,e,n,o=arguments[0],r=[].slice.call(arguments).slice(1);if((0,i.isFunction)(o))return o.apply(this,r);for(var a=0;a<r.length;a++)e=new RegExp("\\{"+a+"\\}","gm"),n=r[a],"string"===(0,i.type)(n)&&n.indexOf("$")>=0&&(t="$".replace("$","$$").length,n=n.replace("$",1===t?"$$$$":"$$")),o=o.replace(e,n);return o};var a=function(t,e,n){return t.replace(new RegExp("("+(e+"").replace(/([+*?.[^\]$(){}><|=!:])/g,"\\$1")+")","gi"),n)};e.replaceAll=a;var s=function(){var t=/\s/g;return function(e){return!e||!e.replace(t,"")}}();e.isEmpty=s},function(t,e,n){"use strict";Object.defineProperty(e,"stylePropPrefix",{enumerable:!0,get:function(){return u.stylePropPrefix}}),Object.defineProperty(e,"styleProp",{enumerable:!0,get:function(){return u.styleProp}}),e.nativeScrolling=e.animation=e.transitionEndEventName=e.transition=e.touch=e.inputType=e.supportProp=e.pointerEvents=e.touchEvents=void 0;var i=n(21),o=h(n(16)),r=n(6),a=h(n(87)),s=n(14),l=h(n(17)),u=n(88);function h(t){return t&&t.__esModule?t:{default:t}}var c=(0,s.getNavigator)(),d=c.maxTouchPoints,f=c.msMaxTouchPoints,p=c.pointerEnabled,g={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MsTransitionEnd",transition:"transitionend"},m=function(t){return!!(0,u.styleProp)(t)};e.supportProp=m;e.inputType=function(t){if("text"===t)return!0;var e=o.default.createElement("input");try{return e.setAttribute("type",t),e.value="wrongValue",!e.value}catch(n){return!1}};var v=function(t,e){return(t("ontouchstart")||!!e)&&!t("callPhantom")}(s.hasProperty,d);e.touchEvents=v;var y=function(t,e){var n=(0,r.ensureDefined)(e,!0),i=(0,r.ensureDefined)(e,!1);return t("PointerEvent")&&n||i}(s.hasProperty,p);e.pointerEvents=y;var _=v||y&&(!!d||!!f);e.touch=_;var b=(0,a.default)((function(){return m("transition")}));e.transition=b;var x=(0,a.default)((function(){return g[(0,u.styleProp)("transition")]}));e.transitionEndEventName=x;var w=(0,a.default)((function(){return m("animation")}));e.animation=w;var C=function(){var t=l.default.real(),e=t.platform,n=t.version,o=t.mac;return!(n&&n[0]<4&&"android"===e)&&(0,i.inArray)(e,["ios","android"])>-1||o}();e.nativeScrolling=C},function(t,e,n){"use strict";e.default=void 0;var i=b(n(1)),o=n(14),r=b(n(7)),a=b(n(37)),s=n(27),l=n(3),u=n(2),h=n(5),c=n(41),d=n(338),f=n(134),p=n(56),g=b(n(74)),m=b(n(116)),v=n(13),y=n(8),_=n(6);function b(t){return t&&t.__esModule?t:{default:t}}function x(t){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w=(0,o.getWindow)(),C=(0,v.addNamespace)(m.default,"dxFX"),S=/^([+-])=(.*)/i,k={initAnimation:function(t,e){t.css({transitionProperty:"none"}),"string"===typeof e.from?t.addClass(e.from):$(t,e.from);var n=this,i=new y.Deferred,o=e.cleanupWhen;e.transitionAnimation={deferred:i,finish:function(){n._finishTransition(t),o?(0,y.when)(i,o).always((function(){n._cleanup(t,e)})):n._cleanup(t,e),i.resolveWith(t,[e,t])}},this._completeAnimationCallback(t,e).done((function(){e.transitionAnimation.finish()})).fail((function(){i.rejectWith(t,[e,t])})),e.duration||e.transitionAnimation.finish(),t.css("transform")},animate:function(t,e){return this._startAnimation(t,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(t,e){var n,i=this,o=Date.now()+e.delay,a=new y.Deferred,s=new y.Deferred,l=new y.Deferred,u=(0,p.transitionEndEventName)()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(n),clearTimeout(h),r.default.off(t,u),r.default.off(t,C)},r.default.one(t,u,(function(){Date.now()-o>=e.duration&&s.reject()})),r.default.off(t,C),r.default.on(t,C,(function(){i.stop(t,e),a.reject()}));var h=setTimeout((function(){n=setTimeout((function(){l.reject()}),e.duration+e.delay+U._simulatedTransitionEndDelay),(0,y.when)(s,l).fail(function(){a.resolve()}.bind(this))}));return a.promise()},_startAnimation:function(t,e){t.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),"string"===typeof e.to?t[0].className+=" "+e.to:e.to&&$(t,e.to)},_finishTransition:function(t){t.css("transition","none")},_cleanup:function(t,e){e.transitionAnimation.cleanup(),"string"===typeof e.from&&(t.removeClass(e.from),t.removeClass(e.to))},stop:function(t,e,n){e&&(n?e.transitionAnimation.finish():((0,u.isPlainObject)(e.to)&&(0,h.each)(e.to,(function(e){t.css(e,t.css(e))})),this._finishTransition(t),this._cleanup(t,e)))}},E={initAnimation:function(t,e){$(t,e.from)},animate:function(t,e){var n=new y.Deferred,i=this;return e?((0,h.each)(e.to,(function(n){void 0===e.from[n]&&(e.from[n]=i._normalizeValue(t.css(n)))})),e.to.transform&&(e.from.transform=i._parseTransform(e.from.transform),e.to.transform=i._parseTransform(e.to.transform)),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:(0,d.convertTransitionTimingFuncToEasing)(e.easing),duration:e.duration,startTime:(new Date).valueOf(),finish:function(){this.currentValue=this.to,this.draw(),(0,f.cancelAnimationFrame)(e.frameAnimation.animationFrameId),n.resolve()},draw:function(){if(e.draw)e.draw(this.currentValue);else{var n=(0,l.extend)({},this.currentValue);n.transform&&(n.transform=(0,h.map)(n.transform,(function(t,e){return"translate"===e?(0,c.getTranslateCss)(t):"scale"===e?"scale("+t+")":"rotate"===e.substr(0,e.length-1)?e+"("+t+"deg)":void 0})).join(" ")),t.css(n)}}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout((function(){i._startAnimation(t,e)}),e.delay)):i._startAnimation(t,e),n.promise()):n.reject().promise()},_startAnimation:function(t,e){r.default.off(t,C),r.default.on(t,C,(function(){e.frameAnimation&&(0,f.cancelAnimationFrame)(e.frameAnimation.animationFrameId)})),this._animationStep(t,e)},_parseTransform:function(t){var e={};return(0,h.each)(t.match(/(\w|\d)+\([^)]*\)\s*/g),(function(t,n){var i=(0,c.parseTranslate)(n),o=n.match(/scale\((.+?)\)/),r=n.match(/(rotate.)\((.+)deg\)/);i&&(e.translate=i),o&&o[1]&&(e.scale=parseFloat(o[1])),r&&r[1]&&(e[r[1]]=parseFloat(r[2]))})),e},stop:function(t,e,n){var i=e&&e.frameAnimation;i&&((0,f.cancelAnimationFrame)(i.animationFrameId),clearTimeout(i.delayTimeout),n&&i.finish(),delete e.frameAnimation)},_animationStep:function(t,e){var n=e&&e.frameAnimation;if(n){var i=(new Date).valueOf();if(i>=n.startTime+n.duration)n.finish();else{n.currentValue=this._calcStepValue(n,i-n.startTime),n.draw();var o=this;n.animationFrameId=(0,f.requestAnimationFrame)((function(){o._animationStep(t,e)}))}}},_calcStepValue:function(t,e){return function n(i,o){var r=Array.isArray(o)?[]:{};return(0,h.each)(o,(function(a,s){if("string"===typeof s&&!1===parseFloat(s,10))return!0;r[a]="object"===x(s)?n(i[a],s):function(n){var r=e/t.duration,a=e,s=1*i[n],l=o[n]-i[n],u=t.duration;return(0,d.getEasing)(t.easing)(r,a,s,l,u)}(a)})),r}(t.from,t.to)},_normalizeValue:function(t){var e=parseFloat(t,10);return!1===e?t:e}},I={initAnimation:function(){},animate:function(){return(new y.Deferred).resolve().promise()},stop:_.noop,isSynchronous:!0},T=function(t,e,n,i){(0,h.each)(["from","to"],(function(){if(!n(t[this]))throw a.default.Error("E0010",e,this,i)}))},D=function(t,e){return T(t,e,(function(t){return(0,u.isPlainObject)(t)}),"a plain object")},M={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},O={validateConfig:function(t){D(t,"slide")},setup:function(t,e){var n=(0,c.locate)(t);if("slide"!==e.type){var i="slideIn"===e.type?e.from:e.to;i.position=(0,l.extend)({of:w},M[e.direction]),K(t,i)}this._setUpConfig(n,e.from),this._setUpConfig(n,e.to),(0,c.clearCache)(t)},_setUpConfig:function(t,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(t,e)},_initNewPosition:function(t,e){var n={left:e.left,top:e.top};delete e.left,delete e.top;var i=this._getRelativeValue(n.left);void 0!==i?n.left=i+t.left:e.left=0,void 0!==(i=this._getRelativeValue(n.top))?n.top=i+t.top:e.top=0,e.transform=(0,c.getTranslateCss)({x:n.left,y:n.top})},_getRelativeValue:function(t){var e;if("string"===typeof t&&(e=S.exec(t)))return parseInt(e[1]+"1")*e[2]}},P={setup:function(t,e){var n,i=e.from,o=(0,u.isPlainObject)(i)?e.skipElementInitialStyles?0:t.css("opacity"):String(i);switch(e.type){case"fadeIn":n=1;break;case"fadeOut":n=0;break;default:n=String(e.to)}e.from={visibility:"visible",opacity:o},e.to={opacity:n}}},A={custom:{setup:function(){}},slide:O,slideIn:O,slideOut:O,fade:P,fadeIn:P,fadeOut:P,pop:{validateConfig:function(t){D(t,"pop")},setup:function(t,e){var n=e.from,i=e.to,o="opacity"in n?n.opacity:t.css("opacity"),r="opacity"in i?i.opacity:1,a="scale"in n?n.scale:0,s="scale"in i?i.scale:1;e.from={opacity:o};var l=(0,c.getTranslate)(t);e.from.transform=this._getCssTransform(l,a),e.to={opacity:r},e.to.transform=this._getCssTransform(l,s)},_getCssTransform:function(t,e){return(0,c.getTranslateCss)(t)+"scale("+e+")"}},css:{validateConfig:function(t){!function(t,e){T(t,e,(function(t){return"string"===typeof t}),"a string")}(t,"css")},setup:function(){}}},R={type:"custom",from:{},to:{},duration:400,start:_.noop,complete:_.noop,easing:"ease",delay:0},B={duration:400,easing:"ease",delay:0};function N(){var t=this.element,e=this.config;if(K(t,e.from),K(t,e.to),this.configurator.setup(t,e),t.data("dxAnimData",this),U.off&&(e.duration=0,e.delay=0),this.strategy.initAnimation(t,e),e.start){var n=(0,s.getPublicElement)(t);e.start.apply(this,[n,e])}}var F=function(){var t=this,e=t.element,n=t.config;return t.isStarted=!0,t.strategy.animate(e,n).done((function(){!function(t){var e=t.element,n=t.config;if(e.removeData("dxAnimData"),n.complete){var i=(0,s.getPublicElement)(e);n.complete.apply(this,[i,n])}t.deferred.resolveWith(this,[e,n])}(t)})).fail((function(){t.deferred.rejectWith(this,[e,n])}))},L=function(t){var e=this.element,n=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(e,n,t)},V=(0,v.addNamespace)(m.default,"dxFXStartAnimation"),j=function(t,e){var n="css"===e.type?B:R,o=(0,l.extend)(!0,{},n,e),s=function(t){var e=A[t.type];if(!e)throw a.default.Error("E0011",t.type);return e}(o),h=function(t){t=t||{};var e={transition:(0,p.transition)()?k:E,frame:E,noAnimation:I},n=t.strategy||"transition";return"css"!==t.type||(0,p.transition)()||(n="noAnimation"),e[n]}(o),c={element:(0,i.default)(t),config:o,configurator:s,strategy:h,isSynchronous:h.isSynchronous,setup:N,start:F,stop:L,deferred:new y.Deferred};return(0,u.isFunction)(s.validateConfig)&&s.validateConfig(o),function(t){r.default.off(t.element,V),r.default.on(t.element,V,(function(){U.stop(t.element)})),t.deferred.always((function(){r.default.off(t.element,V)}))}(c),c};function z(t){return t.data("dxAnimQueue")||[]}var H=function(t){t.removeData("dxAnimQueue")};function W(t){return!!t.data("dxAnimData")}function G(t,e){if((e=z(t)).length){var n=e.shift();0===e.length&&H(t),function(t){t.setup(),U.off||t.isSynchronous?t.start():t.startTimeout=setTimeout((function(){t.start()}));return t.deferred.promise()}(n).done((function(){W(t)||G(t)}))}}function K(t,e){if(e&&e.position){var n=(0,i.default)(w),o=0,r=0,a=g.default.calculate(t,e.position),s=t.offset(),u=t.position();u.top>s.top&&(r=n.scrollTop()),u.left>s.left&&(o=n.scrollLeft()),(0,l.extend)(e,{left:a.h.location-s.left+u.left-o,top:a.v.location-s.top+u.top-r}),delete e.position}}function $(t,e){(0,h.each)(e,(function(e,n){try{t.css(e,(0,u.isFunction)(n)?n():n)}catch(i){}}))}var U={off:!1,animationTypes:A,animate:function(t,e){var n=(0,i.default)(t);if(!n.length)return(new y.Deferred).resolve().promise();var o=j(n,e);return function(t,e){var n=z(t);(function(t,e){t.data("dxAnimQueue",e)})(t,n),n.push(e),W(t)||G(t,n)}(n,o),o.deferred.promise()},createAnimation:j,isAnimating:W,stop:function(t,e){var n=(0,i.default)(t),o=z(n);(0,h.each)(o,(function(t,e){e.config.delay=0,e.config.duration=0,e.isSynchronous=!0})),W(n)||G(n,o);var r=n.data("dxAnimData");r&&r.stop(e),n.removeData("dxAnimData"),H(n)},_simulatedTransitionEndDelay:100},q=U;e.default=q,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=m(n(64)),o=n(2),r=n(5),a=n(21),s=m(n(37)),l=n(223),u=n(171),h=n(172),c=m(n(224)),d=m(n(345)),f=m(n(123)),p=m(n(75)),g=m(n(346));function m(t){return t&&t.__esModule?t:{default:t}}var v="undefined"!==typeof Intl,y={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},_={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},b=(0,i.default)({engine:function(){return"base"},_getPatternByFormat:function(t){return y[t.toLowerCase()]},_expandPattern:function(t){return this._getPatternByFormat(t)||t},formatUsesMonthName:function(t){return-1!==this._expandPattern(t).indexOf("MMMM")},formatUsesDayName:function(t){return-1!==this._expandPattern(t).indexOf("EEEE")},getFormatParts:function(t){var e=this._getPatternByFormat(t)||t,n=[];return(0,r.each)(e.split(/\W+/),(function(t,e){(0,r.each)(_,(function(t,i){(0,a.inArray)(e,i)>-1&&n.push(t)}))})),n},getMonthNames:function(t){return c.default.getMonthNames(t)},getDayNames:function(t){return c.default.getDayNames(t)},getQuarterNames:function(t){return c.default.getQuarterNames(t)},getPeriodNames:function(t){return c.default.getPeriodNames(t)},getTimeSeparator:function(){return":"},is24HourFormat:function(t){for(var e=new Date(2017,0,20,11,0,0,0),n=new Date(2017,0,20,23,0,0,0),i=this.format(e,t),o=this.format(n,t),r=0;r<i.length;r++)if(i[r]!==o[r])return!isNaN(parseInt(i[r]))},format:function(t,e){if(t){if(!e)return t;var n;if("function"===typeof e)n=e;else if(e.formatter)n=e.formatter;else if(e=e.type||e,(0,o.isString)(e))return e=y[e.toLowerCase()]||e,p.default.convertDigits((0,l.getFormatter)(e,this)(t));if(n)return n(t)}},parse:function(t,e){var n,i,o=this;if(t){if(!e)return this.parse(t,"shortdate");if(e.parser)return e.parser(t);if("string"!==typeof e||y[e.toLowerCase()]){i=function(t){var n=o.format(t,e);return p.default.convertDigits(n,!0)};try{n=(0,u.getFormat)(i)}catch(a){}}else n=e;if(n)return t=p.default.convertDigits(t,!0),(0,h.getParser)(n,this)(t);s.default.log("W0012");var r=new Date(t);if(r&&!isNaN(r.getTime()))return r}},firstDayOfWeekIndex:function(){var t=f.default.getValueByClosestLocale((function(t){return d.default[t]}));return void 0===t?0:t}});v&&b.inject(g.default);var x=b;e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.a=function(t,e){if(!t)throw new Error("Invariant failed")}},function(t,e,n){"use strict";e.captionize=e.titleize=e.humanize=e.camelize=e.underscore=e.dasherize=void 0;var i=n(5),o=function(t){return void 0===t||null===t?"":String(t)},r=function(t){return o(t).charAt(0).toUpperCase()+t.substr(1)},a=function(t){return o(t).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},s=function(t){return(0,i.map)(a(t),(function(t){return t.toLowerCase()})).join("-")};e.dasherize=s;e.underscore=function(t){return s(t).replace(/-/g,"_")};e.camelize=function(t,e){return(0,i.map)(a(t),(function(t,n){return t=t.toLowerCase(),(e||n>0)&&(t=r(t)),t})).join("")};e.humanize=function(t){return r(s(t).replace(/-/g," "))};e.titleize=function(t){return(0,i.map)(a(t),(function(t){return r(t.toLowerCase())})).join(" ")};var l=["0","1","2","3","4","5","6","7","8","9"];e.captionize=function(t){var e,n,i=[],o=!1,r=!1;for(e=0;e<t.length;e++)r=(n=t.charAt(e))===n.toUpperCase()&&"-"!==n&&")"!==n&&"/"!==n||n in l,"_"===n||"."===n?(n=" ",r=!0):0===e?(n=n.toUpperCase(),r=!0):!o&&r&&i.length>0&&i.push(" "),i.push(n),o=r;return i.join("")}},function(t,e,n){"use strict";var i=n(272),o=n(553),r=Object.prototype.toString;function a(t){return"[object Array]"===r.call(t)}function s(t){return null!==t&&"object"===typeof t}function l(t){return"[object Function]"===r.call(t)}function u(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:s,isUndefined:function(t){return"undefined"===typeof t},isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:u,merge:function t(){var e={};function n(n,i){"object"===typeof e[i]&&"object"===typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,o=arguments.length;i<o;i++)u(arguments[i],n);return e},extend:function(t,e,n){return u(e,(function(e,o){t[o]=n&&"function"===typeof e?i(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return E})),n.d(e,"d",(function(){return T})),n.d(e,"c",(function(){return g})),n.d(e,"f",(function(){return m})),n.d(e,"e",(function(){return p}));var i=n(15);function o(t){return"/"===t.charAt(0)}function r(t,e){for(var n=e,i=n+1,o=t.length;i<o;n+=1,i+=1)t[n]=t[i];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,i=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&o(t),l=e&&o(e),u=s||l;if(t&&o(t)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var h=a[a.length-1];n="."===h||".."===h||""===h}else n=!1;for(var c=0,d=a.length;d>=0;d--){var f=a[d];"."===f?r(a,d):".."===f?(r(a,d),c++):c&&(r(a,d),c--)}if(!u)for(;c--;c)a.unshift("..");!u||""===a[0]||a[0]&&o(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var l=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,i){return t(e,n[i])}));if("object"===typeof e||"object"===typeof n){var i=s(e),o=s(n);return i!==e||o!==n?t(i,o):Object.keys(Object.assign({},e,n)).every((function(i){return t(e[i],n[i])}))}return!1},u=n(59);function h(t){return"/"===t.charAt(0)?t:"/"+t}function c(t){return"/"===t.charAt(0)?t.substr(1):t}function d(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function f(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function p(t){var e=t.pathname,n=t.search,i=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(o+="#"===i.charAt(0)?i:"#"+i),o}function g(t,e,n,o){var r;"string"===typeof t?(r=function(t){var e=t||"/",n="",i="",o=e.indexOf("#");-1!==o&&(i=e.substr(o),e=e.substr(0,o));var r=e.indexOf("?");return-1!==r&&(n=e.substr(r),e=e.substr(0,r)),{pathname:e,search:"?"===n?"":n,hash:"#"===i?"":i}}(t)).state=e:(void 0===(r=Object(i.a)({},t)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==e&&void 0===r.state&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(r.key=n),o?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=a(r.pathname,o.pathname)):r.pathname=o.pathname:r.pathname||(r.pathname="/"),r}function m(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&l(t.state,e.state)}function v(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,i,o){if(null!=t){var r="function"===typeof t?t(e,n):t;"string"===typeof r?"function"===typeof i?i(r,o):o(!0):o(!1!==r)}else o(!0)},appendListener:function(t){var n=!0;function i(){n&&t.apply(void 0,arguments)}return e.push(i),function(){n=!1,e=e.filter((function(t){return t!==i}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.forEach((function(t){return t.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(t,e){e(window.confirm(t))}function b(){try{return window.history.state||{}}catch(t){return{}}}function x(t){void 0===t&&(t={}),y||Object(u.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),o=!(-1===window.navigator.userAgent.indexOf("Trident")),r=t,a=r.forceRefresh,s=void 0!==a&&a,l=r.getUserConfirmation,c=void 0===l?_:l,m=r.keyLength,x=void 0===m?6:m,w=t.basename?f(h(t.basename)):"";function C(t){var e=t||{},n=e.key,i=e.state,o=window.location,r=o.pathname+o.search+o.hash;return w&&(r=d(r,w)),g(r,i,n)}function S(){return Math.random().toString(36).substr(2,x)}var k=v();function E(t){Object(i.a)(L,t),L.length=e.length,k.notifyListeners(L.location,L.action)}function I(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||M(C(t.state))}function T(){M(C(b()))}var D=!1;function M(t){if(D)D=!1,E();else{k.confirmTransitionTo(t,"POP",c,(function(e){e?E({action:"POP",location:t}):function(t){var e=L.location,n=P.indexOf(e.key);-1===n&&(n=0);var i=P.indexOf(t.key);-1===i&&(i=0);var o=n-i;o&&(D=!0,R(o))}(t)}))}}var O=C(b()),P=[O.key];function A(t){return w+p(t)}function R(t){e.go(t)}var B=0;function N(t){1===(B+=t)&&1===t?(window.addEventListener("popstate",I),o&&window.addEventListener("hashchange",T)):0===B&&(window.removeEventListener("popstate",I),o&&window.removeEventListener("hashchange",T))}var F=!1;var L={length:e.length,action:"POP",location:O,createHref:A,push:function(t,i){var o=g(t,i,S(),L.location);k.confirmTransitionTo(o,"PUSH",c,(function(t){if(t){var i=A(o),r=o.key,a=o.state;if(n)if(e.pushState({key:r,state:a},null,i),s)window.location.href=i;else{var l=P.indexOf(L.location.key),u=P.slice(0,l+1);u.push(o.key),P=u,E({action:"PUSH",location:o})}else window.location.href=i}}))},replace:function(t,i){var o=g(t,i,S(),L.location);k.confirmTransitionTo(o,"REPLACE",c,(function(t){if(t){var i=A(o),r=o.key,a=o.state;if(n)if(e.replaceState({key:r,state:a},null,i),s)window.location.replace(i);else{var l=P.indexOf(L.location.key);-1!==l&&(P[l]=o.key),E({action:"REPLACE",location:o})}else window.location.replace(i)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(t){void 0===t&&(t=!1);var e=k.setPrompt(t);return F||(N(1),F=!0),function(){return F&&(F=!1,N(-1)),e()}},listen:function(t){var e=k.appendListener(t);return N(1),function(){N(-1),e()}}};return L}var w={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+c(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:c,decodePath:h},slash:{encodePath:h,decodePath:h}};function C(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function S(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function k(t){window.location.replace(C(window.location.href)+"#"+t)}function E(t){void 0===t&&(t={}),y||Object(u.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),o=n.getUserConfirmation,r=void 0===o?_:o,a=n.hashType,s=void 0===a?"slash":a,l=t.basename?f(h(t.basename)):"",c=w[s],m=c.encodePath,b=c.decodePath;function x(){var t=b(S());return l&&(t=d(t,l)),g(t)}var E=v();function I(t){Object(i.a)(V,t),V.length=e.length,E.notifyListeners(V.location,V.action)}var T=!1,D=null;function M(){var t,e,n=S(),i=m(n);if(n!==i)k(i);else{var o=x(),a=V.location;if(!T&&(e=o,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(D===p(o))return;D=null,function(t){if(T)T=!1,I();else{E.confirmTransitionTo(t,"POP",r,(function(e){e?I({action:"POP",location:t}):function(t){var e=V.location,n=R.lastIndexOf(p(e));-1===n&&(n=0);var i=R.lastIndexOf(p(t));-1===i&&(i=0);var o=n-i;o&&(T=!0,B(o))}(t)}))}}(o)}}var O=S(),P=m(O);O!==P&&k(P);var A=x(),R=[p(A)];function B(t){e.go(t)}var N=0;function F(t){1===(N+=t)&&1===t?window.addEventListener("hashchange",M):0===N&&window.removeEventListener("hashchange",M)}var L=!1;var V={length:e.length,action:"POP",location:A,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=C(window.location.href)),n+"#"+m(l+p(t))},push:function(t,e){var n=g(t,void 0,void 0,V.location);E.confirmTransitionTo(n,"PUSH",r,(function(t){if(t){var e=p(n),i=m(l+e);if(S()!==i){D=e,function(t){window.location.hash=t}(i);var o=R.lastIndexOf(p(V.location)),r=R.slice(0,o+1);r.push(e),R=r,I({action:"PUSH",location:n})}else I()}}))},replace:function(t,e){var n=g(t,void 0,void 0,V.location);E.confirmTransitionTo(n,"REPLACE",r,(function(t){if(t){var e=p(n),i=m(l+e);S()!==i&&(D=e,k(i));var o=R.indexOf(p(V.location));-1!==o&&(R[o]=e),I({action:"REPLACE",location:n})}}))},go:B,goBack:function(){B(-1)},goForward:function(){B(1)},block:function(t){void 0===t&&(t=!1);var e=E.setPrompt(t);return L||(F(1),L=!0),function(){return L&&(L=!1,F(-1)),e()}},listen:function(t){var e=E.appendListener(t);return F(1),function(){F(-1),e()}}};return V}function I(t,e,n){return Math.min(Math.max(t,e),n)}function T(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,o=e.initialEntries,r=void 0===o?["/"]:o,a=e.initialIndex,s=void 0===a?0:a,l=e.keyLength,u=void 0===l?6:l,h=v();function c(t){Object(i.a)(b,t),b.length=b.entries.length,h.notifyListeners(b.location,b.action)}function d(){return Math.random().toString(36).substr(2,u)}var f=I(s,0,r.length-1),m=r.map((function(t){return g(t,void 0,"string"===typeof t?d():t.key||d())})),y=p;function _(t){var e=I(b.index+t,0,b.entries.length-1),i=b.entries[e];h.confirmTransitionTo(i,"POP",n,(function(t){t?c({action:"POP",location:i,index:e}):c()}))}var b={length:m.length,action:"POP",location:m[f],index:f,entries:m,createHref:y,push:function(t,e){var i=g(t,e,d(),b.location);h.confirmTransitionTo(i,"PUSH",n,(function(t){if(t){var e=b.index+1,n=b.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),c({action:"PUSH",location:i,index:e,entries:n})}}))},replace:function(t,e){var i=g(t,e,d(),b.location);h.confirmTransitionTo(i,"REPLACE",n,(function(t){t&&(b.entries[b.index]=i,c({action:"REPLACE",location:i}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(t){var e=b.index+t;return e>=0&&e<b.entries.length},block:function(t){return void 0===t&&(t=!1),h.setPrompt(t)},listen:function(t){return h.appendListener(t)}};return b}},function(t,e,n){"use strict";e.default=function(t){var e=s.default.inherit(t),n=e,i=new n(t),l={},u=function(e,n){(0,a.each)(e,(function(e){(0,r.isFunction)(i[e])?!n&&t[e]||(t[e]=function(){return i[e].apply(t,arguments)}):(n&&(l[e]=t[e]),t[e]=i[e])}))};return u(t,!0),t.inject=function(t){n=n.inherit(t),i=new n,u(t)},t.resetInjection=function(){(0,o.extend)(t,l),n=e,i=new e},t};var i,o=n(3),r=n(2),a=n(5),s=(i=n(20))&&i.__esModule?i:{default:i};t.exports=e.default},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return v}));var i=n(39),o=n(26),r=n(0),a=n.n(r),s=n(63),l=(n(23),n(15)),u=n(36),h=n(59),c=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).history=Object(s.a)(e.props),e}return Object(o.a)(e,t),e.prototype.render=function(){return a.a.createElement(i.b,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var d=function(t,e){return"function"===typeof t?t(e):t},f=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},p=function(t){return t},g=a.a.forwardRef;"undefined"===typeof g&&(g=p);var m=g((function(t,e){var n=t.innerRef,i=t.navigate,o=t.onClick,r=Object(u.a)(t,["innerRef","navigate","onClick"]),s=r.target,h=Object(l.a)({},r,{onClick:function(t){try{o&&o(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),i())}});return h.ref=p!==g&&e||n,a.a.createElement("a",h)}));var v=g((function(t,e){var n=t.component,o=void 0===n?m:n,r=t.replace,s=t.to,c=t.innerRef,v=Object(u.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(i.c.Consumer,null,(function(t){t||Object(h.a)(!1);var n=t.history,i=f(d(s,t.location),t.location),u=i?n.createHref(i):"",m=Object(l.a)({},v,{href:u,navigate:function(){var e=d(s,t.location);(r?n.replace:n.push)(e)}});return p!==g?m.ref=e||c:m.innerRef=c,a.a.createElement(o,m)}))})),y=function(t){return t},_=a.a.forwardRef;"undefined"===typeof _&&(_=y);_((function(t,e){var n=t["aria-current"],o=void 0===n?"page":n,r=t.activeClassName,s=void 0===r?"active":r,c=t.activeStyle,p=t.className,g=t.exact,m=t.isActive,b=t.location,x=t.sensitive,w=t.strict,C=t.style,S=t.to,k=t.innerRef,E=Object(u.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(i.c.Consumer,null,(function(t){t||Object(h.a)(!1);var n=b||t.location,r=f(d(S,n),n),u=r.pathname,I=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),T=I?Object(i.d)(n.pathname,{path:I,exact:g,sensitive:x,strict:w}):null,D=!!(m?m(T,n):T),M=D?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(p,s):p,O=D?Object(l.a)({},C,{},c):C,P=Object(l.a)({"aria-current":D&&o||null,className:M,style:O,to:r},E);return y!==_?P.ref=e||k:P.innerRef=k,a.a.createElement(v,P)}))}))},function(t,e,n){t.exports=n(315)},function(t,e,n){"use strict";e.default=void 0;var i=s(n(16)),o=s(n(64)),r=n(14),a=s(n(87));function s(t){return t&&t.__esModule?t:{default:t}}var l=[],u=(0,a.default)((function(){var t=i.default.listen(i.default.getDocument(),"DOMContentLoaded",(function(){h.fire(),t()}))})),h={add:function(t){var e=(0,r.hasWindow)();e&&("complete"===i.default.getReadyState()||"loading"!==i.default.getReadyState()&&!i.default.getDocumentElement().doScroll)?t():(l.push(t),e&&u())},fire:function(){l.forEach((function(t){return t()})),l=[]}},c=(0,o.default)(h);e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.focused=e.tabbable=e.focusable=void 0;var i=r(n(1)),o=r(n(16));function r(t){return t&&t.__esModule?t:{default:t}}var a=function(t,e){if(!function(t){var e=(0,i.default)(t);return e.is(":visible")&&"hidden"!==e.css("visibility")&&"hidden"!==e.parents().css("visibility")}(t))return!1;var n=t.nodeName.toLowerCase(),o=!isNaN(e),r=t.disabled,a=/^(input|select|textarea|button|object|iframe)$/.test(n),s="a"===n,l=t.isContentEditable;return a||l?!r:s&&t.href||o};e.focusable=function(t,e){return a(e,(0,i.default)(e).attr("tabIndex"))};e.tabbable=function(t,e){var n=(0,i.default)(e).attr("tabIndex");return(isNaN(n)||n>=0)&&a(e,n)};e.focused=function(t){var e=(0,i.default)(t).get(0);return o.default.getActiveElement()===e}},function(t,e,n){"use strict";e.default=void 0;var i=r(n(164)),o=r(n(37));function r(t){return t&&t.__esModule?t:{default:t}}var a={},s=(0,i.default)(o.default.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"});var l=a={errors:s,errorHandler:null,_errorHandler:function(t){a.errorHandler&&a.errorHandler(t)}};e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(355),o=function(){var t=Array.isArray(arguments[0])?"array":"remote";return i.queryImpl[t].apply(this,arguments)};e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(286)},function(t,e,n){var i,o;"undefined"!=typeof self&&self,t.exports=(i=n(0),o=n(42),function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=n.n(r),s=n(2),l=n.n(s),u="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=Object(r.forwardRef)((function(t,e){var n=Object(r.useRef)(),s=Object(r.useRef)();return u((function(){function e(){var e=t.highcharts||l.a,i=t.constructorType||"chart";e?e[i]?t.options?s.current=e[i](n.current,t.options,t.callback?t.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(s.current){if(!1!==t.allowChartUpdate)if(!t.immutable&&s.current){var i;(i=s.current).update.apply(i,[t.options].concat(o(t.updateArgs||[!0,!0])))}else e()}else e()})),u((function(){return function(){s.current&&(s.current.destroy(),s.current=null)}}),[]),Object(r.useImperativeHandle)(e,(function(){return{get chart(){return s.current},container:n}}),[]),a.a.createElement("div",i({},t.containerProps,{ref:n}))}));e.default=Object(r.memo)(h)},function(t,e){t.exports=i},function(t,e){t.exports=o}]))},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=n(14),r=n(56),a=n(48),s=n(3),l=c(n(17)),u=c(n(19)),h=c(n(47));function c(t){return t&&t.__esModule?t:{default:t}}var d=(0,o.getNavigator)(),f=h.default.inherit({_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var t=(0,a.current)();return this.callBase().concat([{device:function(){return"android"===l.default.real().platform&&!/chrome/i.test(d.userAgent)},options:{viaImage:!0}},{device:function(){return(0,a.isMaterial)(t)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return(0,a.isGeneric)(t)},options:{_animatingSegmentCount:7}}])},_init:function(){this.callBase(),this.$element().addClass("dx-loadindicator")},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=(0,i.default)("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=(0,i.default)("<div>").addClass("dx-loadindicator-content"),this._$wrapper.append(this._$content)},_renderMarkup:function(){!(0,r.animation)()||this.option("viaImage")||this.option("indicatorSrc")?this._renderMarkupForImage():this._renderMarkupForAnimation()},_renderMarkupForAnimation:function(){var t=this.option("_animatingSegmentInner");this._$indicator=(0,i.default)("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var n=(0,i.default)("<div>").addClass("dx-loadindicator-segment").addClass("dx-loadindicator-segment"+e);t&&n.append((0,i.default)("<div>").addClass("dx-loadindicator-segment-inner")),this._$indicator.append(n)}},_renderMarkupForImage:function(){var t=this.option("indicatorSrc");this._$wrapper.addClass("dx-loadindicator-image"),t&&this._$wrapper.css("backgroundImage","url("+t+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var t=this.option("width"),e=this.option("height");if(t||e){t=this.$element().width(),e=this.$element().height();var n=Math.min(e,t);this._$wrapper.css({height:n,width:n,fontSize:n})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(t){switch(t.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(t)}}});(0,u.default)("dxLoadIndicator",f);var p=f;e.default=p,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=g(n(1)),o=n(6),r=n(5),a=n(14),s=g(n(16)),l=n(2),u=n(3),h=n(34),c=g(n(24)),d=n(41),f=n(56),p=g(n(17));function g(t){return t&&t.__esModule?t:{default:t}}var m,v=(0,a.getWindow)(),y=/left|right/,_=/top|bottom/,b=/fit|flip|none/,x=c.default.safari,w=function(t){var e={h:"center",v:"center"},n=(0,o.splitPair)(t);return n&&(0,r.each)(n,(function(){var t=String(this).toLowerCase();y.test(t)?e.h=t:_.test(t)&&(e.v=t)})),e},C=function(t){return(0,o.pairToObject)(t)},S=function(t){switch(t){case"center":return.5;case"right":case"bottom":return 1;default:return 0}},k=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},E=function(t,e){var n=0;return t.myLocation<e.min&&(n+=e.min-t.myLocation),t.myLocation>e.max&&(n+=t.myLocation-e.max),n},I=function(t,e,n){return e.myLocation<n.min?"h"===t?"left":"top":e.myLocation>n.max?"h"===t?"right":"bottom":"none"},T=function(t){t.myLocation=t.atLocation+S(t.atAlign)*t.atSize-S(t.myAlign)*t.mySize+t.offset},D={fit:function(t,e){var n=!1;t.myLocation>e.max&&(t.myLocation=e.max,n=!0),t.myLocation<e.min&&(t.myLocation=e.min,n=!0),t.fit=n},flip:function(t,e){if(t.flip=!1,("center"!==t.myAlign||"center"!==t.atAlign)&&(t.myLocation<e.min||t.myLocation>e.max)){var n=(0,u.extend)({},t,{myAlign:k(t.myAlign),atAlign:k(t.atAlign),offset:-t.offset});T(n),n.oversize=E(n,e),(n.myLocation>=e.min&&n.myLocation<=e.max||t.oversize>n.oversize)&&(t.myLocation=n.myLocation,t.oversize=n.oversize,t.flip=!0)}},flipfit:function(t,e){this.flip(t,e),this.fit(t,e)},none:function(t){t.oversize=0}},M=function(){var t=(0,i.default)("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo((0,i.default)("body")),e=t.get(0).offsetWidth-t.get(0).clientWidth;t.remove(),m=e},O={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},P=function(t,e){var n=(0,i.default)(t),r=n.offset(),a=(0,u.extend)(!0,{},O,{h:{location:r.left},v:{location:r.top}});if(!e)return a;var c=w(e.my),d=w(e.at),g=(0,i.default)(e.of).length&&e.of||v,y=C(e.offset),_=function(t){var e=(0,o.splitPair)(t),n=String(e&&e[0]).toLowerCase(),i=String(e&&e[1]).toLowerCase();return b.test(n)||(n="none"),b.test(i)||(i=n),{h:n,v:i}}(e.collision),S=e.boundary,k=C(e.boundaryOffset),P={mySize:n.outerWidth(),myAlign:c.h,atAlign:d.h,offset:y.h,collision:_.h,boundaryOffset:k.h},R={mySize:n.outerHeight(),myAlign:c.v,atAlign:d.v,offset:y.v,collision:_.v,boundaryOffset:k.v};if(g.preventDefault)P.atLocation=g.pageX,R.atLocation=g.pageY,P.atSize=0,R.atSize=0;else if(g=(0,i.default)(g),(0,l.isWindow)(g[0]))P.atLocation=g.scrollLeft(),R.atLocation=g.scrollTop(),"phone"===p.default.real().deviceType&&g[0].visualViewport?(P.atLocation=Math.max(P.atLocation,g[0].visualViewport.offsetLeft),R.atLocation=Math.max(R.atLocation,g[0].visualViewport.offsetTop),P.atSize=g[0].visualViewport.width,R.atSize=g[0].visualViewport.height):(P.atSize=g[0].innerWidth>=g[0].outerWidth?g[0].innerWidth:g.width(),R.atSize=g[0].innerHeight>=g[0].outerHeight||x?g[0].innerHeight:g.height());else if(9===g[0].nodeType)P.atLocation=0,R.atLocation=0,P.atSize=g.width(),R.atSize=g.height();else{var B=(0,h.getBoundingRect)(g.get(0)),N=A(g);P.atLocation=N.left,R.atLocation=N.top,P.atSize=Math.max(B.width,g.outerWidth()),R.atSize=Math.max(B.height,g.outerHeight())}T(P),T(R);var F=function(){var t=(0,i.default)(v),e=t.width(),n=t.height(),o=t.scrollLeft(),r=t.scrollTop(),a=s.default.getDocumentElement(),l=f.touch?a.clientWidth/e:1,u=f.touch?a.clientHeight/n:1;void 0===m&&M();var h=e,c=n;if(S){var d=(0,i.default)(S),p=d.offset();o=p.left,r=p.top,h=d.width(),c=d.height()}return{h:{min:o+P.boundaryOffset,max:o+h/l-P.mySize-P.boundaryOffset},v:{min:r+R.boundaryOffset,max:r+c/u-R.mySize-R.boundaryOffset}}}();P.oversize=E(P,F.h),R.oversize=E(R,F.v),P.collisionSide=I("h",P,F.h),R.collisionSide=I("v",R,F.v),D[P.collision]&&D[P.collision](P,F.h),D[R.collision]&&D[R.collision](R,F.v);var L=function(t){return e.precise?t:Math.round(t)};return(0,u.extend)(!0,a,{h:{location:L(P.myLocation),oversize:L(P.oversize),fit:P.fit,flip:P.flip,collisionSide:P.collisionSide},v:{location:L(R.myLocation),oversize:L(R.oversize),fit:R.fit,flip:R.flip,collisionSide:R.collisionSide},precise:e.precise}),a},A=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=n.get(0);if(!i||n.is("body"))return e.offset();var o=n.get(0).style.transform,r=(o.match(/scale(.+)/)||[])[0];i.style.transform=o.replace(r,"");var a=t(e,n.parent());return i.style.transform=o,a},R=function(t,e){var n=(0,i.default)(t);if(!e)return n.offset();(0,d.resetPosition)(n,!0);var o=A(n),r=e.h&&e.v?e:P(n,e),a=function(t){return e.precise?t:Math.round(t)};return(0,d.move)(n,{left:r.h.location-a(o.left),top:r.v.location-a(o.top)}),r};R.inverseAlign||(R.inverseAlign=k),R.normalizeAlign||(R.normalizeAlign=w);var B={calculateScrollbarWidth:M,calculate:P,setup:R,offset:function(t){return t=(0,i.default)(t).get(0),(0,l.isWindow)(t)?null:t&&"pageY"in t&&"pageX"in t?{top:t.pageY,left:t.pageX}:(0,i.default)(t).offset()}};e.default=B,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=p(n(64)),o=n(21),r=n(6),a=n(5),s=n(2),l=n(221),u=p(n(46)),h=p(n(37)),c=n(222),d=p(n(170)),f=p(n(342));function p(t){return t&&t.__esModule?t:{default:t}}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var v="undefined"!==typeof Intl,y=["currency","fixedpoint","exponential","percent","decimal"],_={1:"K",2:"M",3:"B",4:"T"},b={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},x=(0,i.default)({engine:function(){return"base"},numericFormats:y,defaultLargeNumberFormatPostfixes:_,_parseNumberFormatString:function(t){var e={};if(t&&"string"===typeof t){var n=t.toLowerCase().split(" ");return(0,a.each)(n,(function(t,n){(0,o.inArray)(n,y)>-1?e.formatType=n:n in b&&(e.power=b[n])})),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType?e:void 0}},_calculateNumberPower:function(t,e,n,i){var o=Math.abs(t),r=0;if(o>1)for(;o&&o>=e&&(void 0===i||r<i);)r++,o/=e;else if(o>0&&o<1)for(;o<1&&(void 0===n||r>n);)r--,o*=e;return r},_getNumberByPower:function(t,e,n){for(var i=t;e>0;)i/=n,e--;for(;e<0;)i*=n,e++;return i},_formatNumber:function(t,e,n){"auto"===e.power&&(e.power=this._calculateNumberPower(t,1e3,0,4)),e.power&&(t=this._getNumberByPower(t,e.power,1e3));var i=this.defaultLargeNumberFormatPostfixes[e.power]||"",o=this._formatNumberCore(t,e.formatType,n);return o=o.replace(/(\d|.$)(\D*)$/,"$1"+i+"$2")},_formatNumberExponential:function(t,e){var n=this._calculateNumberPower(t,10),i=this._getNumberByPower(t,n,10);void 0===e.precision&&(e.precision=1),i.toFixed(e.precision||0)>=10&&(n++,i/=10);var o=(n>=0?"+":"")+n.toString();return this._formatNumberCore(i,"fixedpoint",e)+"E"+o},_addZeroes:function(t,e){for(var n=Math.pow(10,e),i=t<0?"-":"",o=(t=(Math.abs(t)*n>>>0)/n).toString();o.length<e;)o="0"+o;return i+o},_addGroupSeparators:function(t){var e=t.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,(0,u.default)().thousandsSeparator)+(e[1]?(0,u.default)().decimalSeparator+e[1]:"")},_formatNumberCore:function(t,e,n){return"exponential"===e?this._formatNumberExponential(t,n):("decimal"!==e&&null!==n.precision&&(n.precision=n.precision||0),"percent"===e&&(t*=100),void 0!==n.precision&&(t="decimal"===e?this._addZeroes(t,n.precision):null===n.precision?t.toPrecision():(0,c.toFixed)(t,n.precision)),t="decimal"!==e?this._addGroupSeparators(t):t.toString().replace(".",(0,u.default)().decimalSeparator),"percent"===e&&(t+="%"),t)},_normalizeFormat:function(t){return t?("function"===typeof t||(0,s.isPlainObject)(t)||(t={type:t}),t):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(t,e){var n=this.format(90,"decimal");if("string"!==typeof t||"0"===n[1])return t;var i=e?n[1]:"0",o=e?"0":n[1],r=e?n[0]:"9",a=new RegExp("["+i+"-"+r+"]","g");return t.replace(a,(function(t){return String.fromCharCode(t.charCodeAt(0)+(o.charCodeAt(0)-i.charCodeAt(0)))}))},getNegativeEtalonRegExp:function(t){var e=this._getSeparators(),n=new RegExp("[0-9"+(0,r.escapeRegExp)(e.decimalSeparator+e.thousandsSeparator)+"]+","g"),i=this.format(-1,t).replace(n,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach((function(t){i=i.replace(t,"\\".concat(t))})),i=(i=i.replace(" ","\\s")).replace("1",".+"),new RegExp(i,"g")},getSign:function(t,e){if("-"===t.replace(/[^0-9-]/g,"").charAt(0))return-1;if(!e)return 1;var n=this.getNegativeEtalonRegExp(e);return t.match(n)?-1:1},format:function(t,e){if("number"!==typeof t)return t;if("number"===typeof e)return t;if("function"===typeof(e=e&&e.formatter||e))return e(t);(e=this._normalizeFormat(e)).type||(e.type="decimal");var n=this._parseNumberFormatString(e.type);if(!n){var i=this._getSeparators();return i.unlimitedIntegerDigits=e.unlimitedIntegerDigits,this.convertDigits((0,l.getFormatter)(e.type,i)(t))}return this._formatNumber(t,n,e)},parse:function(t,e){if(t){if(e&&e.parser)return e.parser(t);t=this.convertDigits(t,!0),e&&"string"!==typeof e&&h.default.log("W0011");var n=this.getDecimalSeparator(),i=new RegExp("[^0-9"+(0,r.escapeRegExp)(n)+"]","g"),a=t.replace(i,"").replace(n,".").replace(/\.$/g,"");if("."===a||""===a)return null;if(this._calcSignificantDigits(a)>15)return NaN;var s=+a*this.getSign(t,e);e=this._normalizeFormat(e);var l=this._parseNumberFormatString(e.type),u=null===l||void 0===l?void 0:l.power;if(u){if("auto"===u){var c=t.match(/\d(K|M|B|T)/);c&&(u=(0,o.find)(Object.keys(_),(function(t){return _[t]===c[1]})))}s*=Math.pow(10,3*u)}return"percent"===(null===l||void 0===l?void 0:l.formatType)&&(s/=100),s}},_calcSignificantDigits:function(t){var e=g(t.split("."),2),n=e[0],i=e[1],o=function(t){for(var e=-1,n=0;n<t.length;n++)if("0"!==t[n]){e=n;break}return e>-1?t.length-e:0},r=0;return n&&(r+=o(n.split(""))),i&&(r+=o(i.split("").reverse())),r}});x.inject(d.default),v&&x.inject(f.default);var w=x;e.default=w,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(41),o=k(n(19)),r=k(n(17)),a=n(27),s=k(n(1)),l=n(119),u=n(21),h=k(n(24)),c=n(6),d=n(3),f=n(60),p=n(5),g=n(208),m=n(34),v=n(2),y=n(121),_=n(14),b=n(90),x=k(n(18)),w=k(n(45)),C=k(n(79)),S=n(48);function k(t){return t&&t.__esModule?t:{default:t}}n(239);var E=(0,_.getWindow)(),I=["cancel","clear","done"],T=h.default.msie&&11===parseInt(h.default.version),D=h.default.safari&&(0,y.compare)(h.default.version,[11])<0,M={static:"",inherit:"dx-popup-inherit-height",flex:"dx-popup-flex-height"},O=C.default.inherit({_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){var t=(0,S.current)();return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(t){return"desktop"===r.default.real().deviceType&&"generic"===t.platform},options:{dragEnabled:!0}},{device:function(){return"desktop"===r.default.real().deviceType&&!r.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return(0,S.isMaterial)(t)},options:{useDefaultToolbarButtons:!0,useFlatToolbarButtons:!0}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){this.callBase(),this.$element().addClass("dx-popup"),this._wrapper().addClass("dx-popup-wrapper"),this._$popupContent=this._$content.wrapInner((0,s.default)("<div>").addClass("dx-popup-content")).children().eq(0)},_render:function(){var t=this.option("fullScreen");this._toggleFullScreenClass(t),this.callBase()},_toggleFullScreenClass:function(t){this._$content.toggleClass("dx-popup-fullscreen",t).toggleClass("dx-popup-normal",!t)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new l.EmptyTemplate,bottom:new l.EmptyTemplate})},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderBottom()},_renderTitle:function(){var t=this._getToolbarItems("top"),e=this.option("title"),n=this.option("showTitle");if(n&&e&&t.unshift({location:r.default.current().ios?"center":"before",text:e}),n||t.length>0){this._$title&&this._$title.remove();var i=(0,s.default)("<div>").addClass("dx-popup-title").insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",t,i).addClass("dx-popup-title"),this._renderDrag(),this._executeTitleRenderAction(this._$title)}else this._$title&&this._$title.detach()},_renderTemplateByType:function(t,e,n,i){var o=this._getTemplateByOption(t);if(o instanceof l.EmptyTemplate){var r=(0,d.extend)({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),u=(0,d.extend)(i,{items:e,rtlEnabled:this.option("rtlEnabled"),useDefaultButtons:this.option("useDefaultToolbarButtons"),useFlatButtons:this.option("useFlatToolbarButtons"),integrationOptions:r});this._getTemplate("dx-polymorph-widget").render({container:n,model:{widget:"dxToolbarBase",options:u}});var h=n.children("div");return n.replaceWith(h),h}var c=(0,s.default)(o.render({container:(0,a.getPublicElement)(n)}));return c.hasClass("dx-template-wrapper")&&(n.replaceWith(c),n=c),n},_executeTitleRenderAction:function(t){this._getTitleRenderAction()({titleElement:(0,a.getPublicElement)(t)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){var t=this;return function(e,n,i){var o=(0,s.default)("<div>").addClass("dx-closebutton");t._createComponent(o,w.default,{icon:"close",onClick:t._createToolbarItemAction(void 0),integrationOptions:{}}),(0,s.default)(i).append(o)}},_getToolbarItems:function(t){var e=this,n=this.option("toolbarItems"),i=[];this._toolbarItemClasses=[];var o=r.default.current().platform,a=0;return(0,p.each)(n,(function(n,s){var l=(0,v.isDefined)(s.shortcut),u=l?function(t){var e=r.default.current(),n=e.platform,i="bottom",o="before";if("ios"===n)switch(t){case"cancel":i="top";break;case"clear":i="top",o="after";break;case"done":o="after"}else if("android"===n&&e.version&&parseInt(e.version[0])>4)switch(t){case"cancel":o="after";break;case"done":o="after"}else"android"===n&&(o="center");return{toolbar:i,location:o}}(s.shortcut):s;if(l&&"ios"===o&&a<2&&(u.toolbar="top",a++),u.toolbar=s.toolbar||u.toolbar||"top",u&&u.toolbar===t){l&&(0,d.extend)(u,{location:s.location},e._getToolbarItemByAlias(s));var h="generic"===o;"done"===s.shortcut&&h||"cancel"===s.shortcut&&!h?i.unshift(u):i.push(u)}})),"top"===t&&this.option("showCloseButton")&&this.option("showTitle")&&i.push(this._getCloseButton()),i},_getLocalizationKey:function(t){return"done"===t.toLowerCase()?"OK":(0,f.camelize)(t,!0)},_getToolbarItemByAlias:function(t){var e=this,n=t.shortcut;if((0,u.inArray)(n,I)<0)return!1;var i=(0,d.extend)({text:x.default.format(this._getLocalizationKey(n)),onClick:this._createToolbarItemAction(t.onClick),integrationOptions:{},type:e.option("useDefaultToolbarButtons")?"default":"normal",stylingMode:e.option("useFlatToolbarButtons")?"text":"contained"},t.options||{}),o="dx-popup-"+n;return this._toolbarItemClasses.push(o),{template:function(t,n,r){var a=(0,s.default)("<div>").addClass(o).appendTo(r);e._createComponent(a,w.default,i)}}},_createToolbarItemAction:function(t){return this._createAction(t,{afterExecute:function(t){t.component.hide()}})},_renderBottom:function(){var t=this._getToolbarItems("bottom");if(t.length){this._$bottom&&this._$bottom.remove();var e=(0,s.default)("<div>").addClass("dx-popup-bottom").insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",t,e,{compactMode:!0}).addClass("dx-popup-bottom"),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleClasses:function(){var t=this,e=I;(0,p.each)(e,(function(e,n){var i="dx-popup-"+n;(0,u.inArray)(i,t._toolbarItemClasses)>=0?(t._wrapper().addClass(i+"-visible"),t._$bottom.addClass(i)):(t._wrapper().removeClass(i+"-visible"),t._$bottom.removeClass(i))}))},_getContainer:function(){return this.option("fullScreen")?(0,s.default)(E):this.callBase()},_getDragTarget:function(){return this.topToolbar()},_renderGeometryImpl:function(t){t||this._resetContentHeight(),this.callBase.apply(this,arguments),this._setContentHeight()},_resetContentHeight:function(){this._$popupContent.css({height:"auto",maxHeight:"none"})},_renderDrag:function(){this.callBase(),this._$content.toggleClass("dx-popup-draggable",this.option("dragEnabled"))},_renderResize:function(){this.callBase(),this._resizable.option("onResize",function(){this._setContentHeight(),this._actions.onResize(arguments)}.bind(this))},_setContentHeight:function(){(this.option("forceApplyBindings")||c.noop)();var t=this.overlayContent().get(0),e=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(e,t)),this._setHeightClasses(this.overlayContent(),e)},_heightStrategyChangeOffset:function(t,e){return t===M.flex?-e:0},_chooseHeightStrategy:function(t){var e="auto"===t.style.width||""===t.style.width,n=M.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||D?T||(n=M.inherit):n=M.flex),n},_getHeightCssStyles:function(t,e){var n={},i=this._getOptionValue("maxHeight",e),o=this._getOptionValue("minHeight",e),r=this._splitPopupHeight(),a=r.header+r.footer+r.contentVerticalOffsets+r.popupVerticalOffsets+this._heightStrategyChangeOffset(t,r.popupVerticalPaddings);if(t===M.static){if(!this._isAutoHeight()||i||o){var l=(this.option("fullScreen")?Math.min((0,m.getBoundingRect)(e).height,(0,_.getWindow)().innerHeight):(0,m.getBoundingRect)(e).height)-a;n={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var u=(0,s.default)(this._getContainer()).get(0),h=(0,g.addOffsetToMaxHeight)(i,-a,u);n={height:"auto",minHeight:(0,g.addOffsetToMinHeight)(o,-a,u),maxHeight:h}}return n},_setHeightClasses:function(t,e){var n="";for(var i in M)M[i]!==e&&(n+=" "+M[i]);t.removeClass(n).addClass(e)},_isAutoHeight:function(){return"auto"===this.overlayContent().get(0).style.height},_splitPopupHeight:function(){var t=this.topToolbar(),e=this.bottomToolbar();return{header:(0,g.getVisibleHeight)(t&&t.get(0)),footer:(0,g.getVisibleHeight)(e&&e.get(0)),contentVerticalOffsets:(0,g.getVerticalOffsets)(this.overlayContent().get(0),!0),popupVerticalOffsets:(0,g.getVerticalOffsets)(this.$content().get(0),!0),popupVerticalPaddings:(0,g.getVerticalOffsets)(this.$content().get(0),!1)}},_useFixedPosition:function(){return this.callBase()||this.option("fullScreen")},_toggleSafariFullScreen:function(t){this._useFixedPosition()&&t&&!this._isShown?this._bodyScrollTop=t?E.pageYOffset:void 0:this._toggleSafariScrolling(!t)},_renderDimensions:function(){this.option("fullScreen")?this._$content.css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase.apply(this,arguments),(0,_.hasWindow)()&&this._renderFullscreenWidthClass()},_renderFullscreenWidthClass:function(){this.overlayContent().toggleClass("dx-popup-fullscreen-width",this.overlayContent().outerWidth()===(0,s.default)(E).width())},refreshPosition:function(){this._renderPosition()},_renderPosition:function(){if(!this.option("fullScreen"))return(this.option("forceApplyBindings")||c.noop)(),this.callBase.apply(this,arguments);(0,i.move)(this._$content,{top:0,left:0})},_optionChanged:function(t){switch(t.name){case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),(0,b.triggerResizeEvent)(this._$content);break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),(0,b.triggerResizeEvent)(this._$content);break;case"onTitleRendered":this._createTitleRenderAction(t.value);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var e=!t.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),e&&(this._renderGeometry(),(0,b.triggerResizeEvent)(this._$content));break;case"dragEnabled":this._renderDrag();break;case"autoResizeEnabled":this._renderGeometry(),(0,b.triggerResizeEvent)(this._$content);break;case"fullScreen":this._toggleFullScreenClass(t.value),this._toggleSafariFullScreen(t.value),this._renderGeometry(),(0,b.triggerResizeEvent)(this._$content);break;case"showCloseButton":this._renderTitle();break;default:this.callBase(t)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return(0,a.getPublicElement)(this._$popupContent)},overlayContent:function(){return this._$content}});(0,o.default)("dxPopup",O);var P=O;e.default=P,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(40);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";e.default=void 0;var i,o=n(5),r=(i=n(207))&&i.__esModule?i:{default:i};var a=function(t,e){var n={};"noBubble"in e&&(n.noBubble=e.noBubble),"bindType"in e&&(n.bindType=e.bindType),"delegateType"in e&&(n.delegateType=e.delegateType),(0,o.each)(["setup","teardown","add","remove","trigger","handle","_default","dispose"],(function(t,i){e[i]&&(n[i]=function(){var t=[].slice.call(arguments);return t.unshift(this),e[i].apply(e,t)})})),r.default.fire(t,n)};a.callbacks=r.default;var s=a;e.default=s,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(337))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.subscribeVisibilityChange=function(){o.default.on(s.default.getDocument(),"visibilitychange",y)},e.unsubscribeVisibilityChange=function(){o.default.off(s.default.getDocument(),"visibilitychange",y)},e.hiddenFocus=function(t){p=!0,t.focus(),p=!1},e.registerKeyboardAction=function(t,e,n,s,u,h){if(e.option("useLegacyKeyboardNavigation"))return l.noop;var c=(0,i.default)(e.element()),d=function(n){return function(t,e,n,o,s,l){if(function(t,e,n){var i={event:e,handled:!1};n?n(i):t._createActionByOption("onKeyDown")(i);return i.handled}(e,n.originalEvent,l))return;var u=(0,r.normalizeKeyName)(n);"enter"===u||"space"===u?(!function(t,e){var n=(0,i.default)(t),o=n.attr("aria-label"),r=m(o,e.element()).index(n);g=(0,a.extend)({},{ariaLabel:o,index:r},{viewInstance:e})}(n.target,e),o&&o({event:n})):"tab"===u?s.addClass("dx-state-focused"):_(t,e,n)}(t,e,n,u,c,h)},v=function(){f=!0,c.removeClass("dx-state-focused")},y=function(){!f&&!p&&c.addClass("dx-state-focused"),f=!1};return o.default.on(n,"keydown",s,d),o.default.on(n,"mousedown",s,v),o.default.on(n,"focusin",s,y),function(){o.default.off(n,"keydown",s,d),o.default.off(n,"mousedown",s,v),o.default.off(n,"focusin",s,y)}},e.restoreFocus=function(t){if(!t.option("useLegacyKeyboardNavigation")&&g){var e=g.viewInstance;if(e){var n=m(g.ariaLabel,e.element()).eq(g.index);g=null,o.default.trigger(n,"focus")}}},e.selectView=_,e.setTabIndex=function(t,e){t.option("useLegacyKeyboardnavigation")||e.attr("tabindex",t.option("tabindex")||0)};var i=u(n(1)),o=u(n(7)),r=n(13),a=n(3),s=u(n(16)),l=n(6);function u(t){return t&&t.__esModule?t:{default:t}}var h="".concat(".dx-datagrid-rowsview .dx-row"," > td"),c="".concat(".dx-treelist-rowsview .dx-row"," > td"),d={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(".dx-row-focused"),"".concat(".dx-datagrid-rowsview .dx-row","[tabindex]"),"".concat(h,"[tabindex]"),"".concat(h),"".concat(".dx-treelist-rowsview .dx-row","[tabindex]"),"".concat(c,"[tabindex]"),"".concat(c)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},f=!1,p=!1,g=null;function m(t,e){var n=(0,i.default)(e);return t?n.find('[aria-label="'.concat(t,'"][tabindex]')):n.find("[tabindex]")}function v(t){for(var e in t){var n=t[e],o=(0,i.default)(n).first();if(o.length)return o}}function y(){p="visible"===s.default.getDocument().visibilityState}function _(t,e,n){var i=(0,r.normalizeKeyName)(n);if(n.ctrlKey&&("upArrow"===i||"downArrow"===i))for(var a=Object.keys(d),s=a.indexOf(t);s>=0&&s<a.length;){var l=a[s="upArrow"===i?--s:++s],u=v(d[l]);if(u&&u.length){u.attr("tabindex",e.option("tabindex")||0),o.default.trigger(u,"focus"),u.removeClass("dx-cell-focus-disabled");break}}}},function(t,e,n){"use strict";e.default=void 0;var i=l(n(46)),o=n(223),r=l(n(224)),a=n(2),s=l(n(24));function l(t){return t&&t.__esModule?t:{default:t}}var u=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,h=/^(\d{2}):(\d{2})(:(\d{2}))?$/,c=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],d=/^(\d{4})\/(\d{2})\/(\d{2})$/,f=s.default.msie&&parseInt(s.default.version)<=11,p=function(t,e){var n;return(0,a.isString)(t)&&!e&&(n=function(t){var e=t.match(u);if(!e)return(e=t.match(h))?new Date(0,0,0,g(e[1]),g(e[2]),g(e[4])):void 0;var n=e[1],i=--e[3],o=e[5],r=0,a=0;r=g(e[14]),a=g(e[16]),"-"===e[13]&&(r=-r,a=-a);var s=g(e[6])-r,l=g(e[8])-a,c=g(e[10]),d=(f=e[11],g(f=f||"")*Math.pow(10,3-f.length));var f;if(e[12])return new Date(Date.UTC(n,i,o,s,l,c,d));return new Date(n,i,o,s,l,c,d)}(t)),n||function(t){var e="yyyy/MM/dd"===m(t),n=!(0,a.isDate)(t)&&Date.parse(t);if((!n||f)&&e){var i=t.match(d);if(i){var o=new Date(g(i[1]),g(i[2]),g(i[3]));return o.setFullYear(g(i[1])),o.setMonth(g(i[2])-1),o.setDate(g(i[3])),o}}return(0,a.isNumeric)(n)?new Date(n):t}(t)};function g(t){return+t||0}var m=function(t){return"number"===typeof t?"number":(0,a.isString)(t)?((0,i.default)().forceIsoDateParsing&&(e=function(t,e){var n=t.match(u),i="";if(!n)return(n=t.match(h))?n[3]?"HH:mm:ss":"HH:mm":void 0;for(var o=1;o<c.length;o++)n[o]&&(i+=c[o]||n[o]);return"Z"===n[12]&&(i+="'Z'"),n[14]&&(n[15]?i+="xxx":n[16]?i+="xx":i+="x"),i}(t)),e||(t.indexOf(":")>=0?"yyyy/MM/dd HH:mm:ss":"yyyy/MM/dd")):t?null:void 0;var e},v={dateParser:p,deserializeDate:function(t){return"number"===typeof t?new Date(t):p(t,!(0,i.default)().forceIsoDateParsing)},serializeDate:function(t,e){return e?(0,a.isDate)(t)?"number"===e?t&&t.valueOf?t.valueOf():null:(0,o.getFormatter)(e,r.default)(t):null:t},getDateSerializationFormat:m};e.default=v,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=n(54),r=p(n(38)),a=n(14),s=n(13),l=n(3),u=p(n(47)),h=p(n(96)),c=p(n(7)),d=p(n(377)),f=p(n(50));function p(t){return t&&t.__esModule?t:{default:t}}var g={validationMessageMode:"mode",validationMessageOffset:"offset",validationBoundary:"boundary"},m=u.default.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=(0,r.default)(),this.callBase.apply(this,arguments)},_createElement:function(t){this.callBase(t);var e=this.$element();e&&(0,o.data)(e[0],"dx-validation-target",this)},_initOptions:function(t){this.callBase.apply(this,arguments),this.option(h.default.initValidationOptions(t))},_init:function(){this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions")),this.$element().addClass("dx-show-invalid-badge")},_getDefaultOptions:function(){return(0,l.extend)(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:"valid",validationMessageMode:"auto",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),(0,l.extend)(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState()},_raiseValueChangeAction:function(t,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(t,e))},_valueChangeArgs:function(t,e){return{value:t,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(t){this._valueChangeEventInstance=t},_focusInHandler:function(t){var e,n=this,i="auto"===this.option("validationMessageMode");this._canValueBeChangedByClick()&&i&&(null===(e=this._$validationMessage)||void 0===e||e.removeClass("dx-invalid-message-auto"),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout((function(){var t;return null===(t=n._$validationMessage)||void 0===t?void 0:t.addClass("dx-invalid-message-auto")}),150));return this.callBase(t)},_canValueBeChangedByClick:function(){return!1},_getValidationErrors:function(){var t=this.option("validationErrors");return!t&&this.option("validationError")&&(t=[this.option("validationError")]),t},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=null)},_toggleValidationClasses:function(t){this.$element().toggleClass("dx-invalid",t),this.setAria("invalid",t||void 0)},_renderValidationState:function(){var t=this.option("isValid")&&"invalid"!==this.option("validationStatus"),e=this._getValidationErrors(),n=this.$element();this._toggleValidationClasses(!t),(0,a.hasWindow)()&&(this._disposeValidationMessage(),!t&&e&&(this._$validationMessage=(0,i.default)("<div>").appendTo(n),this.setAria("describedby","dx-"+new f.default),this._validationMessage=new d.default(this._$validationMessage,(0,l.extend)({validationErrors:e,target:this._getValidationMessageTarget(),container:n,mode:this.option("validationMessageMode"),positionRequest:"below",offset:this.option("validationMessageOffset"),boundary:this.option("validationBoundary"),rtlEnabled:this.option("rtlEnabled")},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")))},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var t=this.option("readOnly");this._toggleBackspaceHandler(t),this.$element().toggleClass("dx-state-readonly",!!t),this.setAria("readonly",t||void 0)},_toggleBackspaceHandler:function(t){var e=this._keyboardEventBindingTarget(),n=(0,s.addNamespace)("keydown","editorReadOnly");c.default.off(e,n),t&&c.default.on(e,n,(function(t){"backspace"===(0,s.normalizeKeyName)(t)&&t.preventDefault()}))},_dispose:function(){var t=this.$element()[0];(0,o.data)(t,"dx-validation-target",null),clearTimeout(this.showValidationMessageTimeout),this.callBase()},_setSubmitElementName:function(t){var e=this._getSubmitElement();e&&(t.length>0?e.attr("name",t):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(t){var e,n=t.name,i=t.value,o=g[n]?g[n]:n;null===(e=this._validationMessage)||void 0===e||e.option(o,i)},_optionChanged:function(t){var e;switch(t.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":t.value!=t.previousValue&&this.validationRequest.fire({value:t.value,editor:this}),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(t.value,t.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(t),null===(e=this._validationMessage)||void 0===e||e.updateMaxWidth();break;case"name":this._setSubmitElementName(t.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(h.default.synchronizeValidationOptions(t,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessageOffset":this._setValidationMessageOption(t);break;case"rtlEnabled":this._setValidationMessageOption(t),this.callBase(t);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,t);break;default:this.callBase(t)}},reset:function(){var t=this._getDefaultOptions();this.option("value",t.value)}});e.default=m,t.exports=e.default},function(t,e,n){"use strict";e.register=function(t,e,n){var r=o,a={};a[t]=r[t]?r[t]:{},a[t][e]=n,r=(0,i.extend)(r,a)},e.registry=void 0;var i=n(3),o={};e.registry=o},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o={toXml:function(t,e,n){var o=["<",t];for(var r in e){var a=e[r];(0,i.isDefined)(a)&&o.push(" ",r,'="',a,'"')}return(0,i.isDefined)(n)&&""!==n?o.push(">",n,"</",t,">"):o.push(" />"),o.join("")}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";var i=n(129),o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=c;var r=Object.create(n(113));r.inherits=n(101);var a=n(199),s=n(161);r.inherits(c,a);for(var l=o(s.prototype),u=0;u<l.length;u++){var h=l[u];c.prototype[h]||(c.prototype[h]=s.prototype[h])}function c(t){if(!(this instanceof c))return new c(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,n){"use strict";e.default=void 0;var i,o=n(131);var r=(0,((i=n(64))&&i.__esModule?i:{default:i}).default)({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(t){return t},unwrap:function(t){return t},assign:function(){o.logger.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=function(t){var e,n=function(){return e=t.apply(this,arguments),n=function(){return e},e};return function(){return n.apply(this,arguments)}};e.default=i,t.exports=e.default},function(t,e,n){"use strict";e.setHeight=e.setWidth=e.normalizeStyleProp=e.stylePropPrefix=e.styleProp=void 0;var i=n(60),o=s(n(87)),r=n(2),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}var l=["","Webkit","Moz","O","Ms"],u={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},h=(0,o.default)((function(){return a.default.createElement("dx").style}));e.styleProp=function(t){if(t in h())return t;var e=t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=1;n<l.length;n++){var i=l[n].toLowerCase()+t;if(i in h())return i}return e};e.stylePropPrefix=function(t){return function(t,e){var n;t=(0,i.camelize)(t,!0);for(var o=0,r=l.length;o<r;o++){var a=l[o],s=a+t;if(void 0===(n=e((0,i.camelize)(s),a))&&(n=e(s,a)),void 0!==n)break}return n||""}(t,(function(t,e){if(t in h())return u[e]}))};var c=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"];e.normalizeStyleProp=function(t,e){return(0,r.isNumeric)(e)&&-1===c.indexOf(t)&&(e+="px"),e};var d=function(t,e,n){if(t){n=(0,r.isNumeric)(n)?n+="px":n;for(var i=0;i<t.length;++i)t[i].style[e]=n}};e.setWidth=function(t,e){d(t,"width",e)};e.setHeight=function(t,e){d(t,"height",e)}},function(t,e,n){"use strict";e.default=void 0;var i=_(n(1)),o=_(n(46)),r=_(n(37)),a=_(n(210)),s=_(n(211)),l=n(326),u=n(115),h=n(54),c=n(5),d=n(3),f=n(27),p=n(6),g=n(21),m=n(2),v=n(14),y=n(120);function _(t){return t&&t.__esModule?t:{default:t}}var b=s.default.abstract,x=s.default.inherit({_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{width:void 0,height:void 0,rtlEnabled:(0,o.default)().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?l.TemplateManager.createDefaultOptions():{})},ctor:function(t,e){this._createElement(t),(0,u.attachInstanceToElement)(this._$element,this,this._dispose),this.callBase(e)},_createElement:function(t){this._$element=(0,i.default)(t)},_getSynchronizableOptionsForCreateComponent:function(){return["rtlEnabled","disabled","templatesRenderAsynchronously"]},_visibilityChanged:b,_dimensionChanged:b,_init:function(){this.callBase(),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice:function(t){this.callBase([].concat(this.constructor._classCustomRules||[],t||[]))},_isInitialOptionValue:function(t){return!(this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),t))&&this.callBase(t)},_attachWindowResizeCallback:function(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=this._dimensionChanged.bind(this);a.default.add(t)}},_isDimensionChangeSupported:function(){return this._dimensionChanged!==b},_renderComponent:function(){this._initMarkup(),(0,v.hasWindow)()&&this._render()},_initMarkup:function(){var t=(this.option()||{}).rtlEnabled;this._renderElementAttributes(),this._toggleRTLDirection(t),this._renderVisibilityChange(),this._renderDimensions()},_render:function(){this._attachVisibilityChangeHandlers()},_renderElementAttributes:function(){var t=(this.option()||{}).elementAttr,e=(0,d.extend)({},t),n=e.class;delete e.class,this.$element().attr(e).addClass(n)},_renderVisibilityChange:function(){(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported())&&this.$element().addClass("dx-visibility-change-handler")},_renderDimensions:function(){var t=this.$element(),e=t.get(0),n=this._getOptionValue("width",e),i=this._getOptionValue("height",e);this._isCssUpdateRequired(e,i,n)&&t.css({width:null===n?"":n,height:null===i?"":i})},_isCssUpdateRequired:function(t,e,n){return!!((0,m.isDefined)(n)||(0,m.isDefined)(e)||t.style.width||t.style.height)},_attachDimensionChangeHandlers:function(){var t=this,e=this.$element(),n="".concat(this.NAME,"VisibilityChange");y.resize.off(e,{namespace:n}),y.resize.on(e,(function(){return t._dimensionChanged()}),{namespace:n})},_attachVisibilityChangeHandlers:function(){var t=this;if(this._isVisibilityChangeSupported()){var e=this.$element(),n="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),y.visibility.off(e,{namespace:n}),y.visibility.on(e,(function(){return t._checkVisibilityChanged("shown")}),(function(){return t._checkVisibilityChanged("hiding")}),{namespace:n})}},_isVisible:function(){return this.$element().is(":visible")},_checkVisibilityChanged:function(t){this._isVisible()&&("hiding"!==t||this._isHidden?"shown"===t&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)):(this._visibilityChanged(!1),this._isHidden=!0))},_isVisibilityChangeSupported:function(){return this._visibilityChanged!==b&&(0,v.hasWindow)()},_clean:p.noop,_modelByElement:function(){var t=this.option().modelByElement,e=this.$element();return t?t(e):void 0},_invalidate:function(){if(this._isUpdateAllowed())throw r.default.Error("E0007");this._requireRefresh=!0},_refresh:function(){this._clean(),this._renderComponent()},_dispose:function(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback:function(){this._isDimensionChangeSupported()&&a.default.remove(this._windowResizeCallBack)},_toggleRTLDirection:function(t){this.$element().toggleClass("dx-rtl",t)},_createComponent:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,p.grep)(this._getSynchronizableOptionsForCreateComponent(),(function(t){return!(t in o)})),a=this.option(),s=a.integrationOptions,l=this.option(),u=l.nestedComponentOptions;u=u||p.noop;var h=(0,d.extend)({integrationOptions:s},u(this));r.forEach((function(t){return h[t]=n.option(t)})),this._extendConfig(o,h);var c=void 0;if((0,m.isString)(e)){var f=(0,i.default)(t)[e](o);c=f[e]("instance")}else t&&((c=e.getInstance(t))?c.option(o):c=new e(t,o));if(c){var v=function(t){var e=t.name,n=t.value;(0,g.inArray)(e,r)>=0&&c.option(e,n)};this.on("optionChanged",v),c.on("disposing",(function(){return n.off("optionChanged",v)}))}return c},_extendConfig:function(t,e){(0,c.each)(e,(function(e,n){!Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=n)}))},_defaultActionConfig:function(){var t=this.$element(),e=this._modelByElement(t);return(0,d.extend)(this.callBase(),{context:e})},_defaultActionArgs:function(){var t=this.$element(),e=this._modelByElement(t),n=this.element();return(0,d.extend)(this.callBase(),{element:n,model:e})},_optionChanged:function(t){switch(t.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(t)}},_removeAttributes:function(t){for(var e=t.attributes,n=e.length-1;n>=0;n--){var i=e[n];if(i){var o=i.name;o.indexOf("aria-")&&-1===o.indexOf("dx-")&&"role"!==o&&"style"!==o&&"tabindex"!==o||t.removeAttribute(o)}}},_removeClasses:function(t){t.className=t.className.split(" ").filter((function(t){return 0!==t.lastIndexOf("dx-",0)})).join(" ")},_updateDOMComponent:function(t){t?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate:function(){var t=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(t)},$element:function(){return this._$element},element:function(){var t=this.$element();return(0,f.getPublicElement)(t)},dispose:function(){var t=this.$element().get(0);(0,h.cleanDataRecursive)(t,!0),t.textContent="",this._removeAttributes(t),this._removeClasses(t)},resetOption:function(t){if(this.callBase(t),"width"===t||"height"===t){var e=this.initialOption(t);!(0,m.isDefined)(e)&&this.$element().css(t,"")}},_getAnonymousTemplateName:function(){},_initTemplateManager:function(){if(!this._templateManager&&this._useTemplates()){var t=this.option().integrationOptions,e=(void 0===t?{}:t).createTemplate;this._templateManager=new l.TemplateManager(e,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates:function(){var t=this,e=this._templateManager.extractTemplates(this.$element()),n=e.templates,i=e.anonymousTemplateMeta,o=this.option("integrationOptions.templates.".concat(i.name));n.forEach((function(e){var n=e.name,i=e.template;t._options.silent("integrationOptions.templates.".concat(n),i)})),i.name&&!o&&(this._options.silent("integrationOptions.templates.".concat(i.name),i.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption:function(t){return this._getTemplate(this.option(t))},_getTemplate:function(t){var e=this.option("integrationOptions.templates"),n=this.option("templatesRenderAsynchronously"),i=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(t,e,{isAsyncTemplate:n,skipTemplates:i},this)},_saveTemplate:function(t,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+t,this._templateManager._createTemplate(e))},_useTemplates:function(){return!0}});x.getInstance=function(t){return(0,u.getInstanceByElement)((0,i.default)(t),this)},x.defaultOptions=function(t){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(t)};var w=x;e.default=w,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.triggerResizeEvent=e.triggerHidingEvent=e.triggerShownEvent=void 0;var i=r(n(1)),o=r(n(7));function r(t){return t&&t.__esModule?t:{default:t}}var a=function(t){return function(e){for(var n=(0,i.default)(e||"body"),r=n.filter(".dx-visibility-change-handler").add(n.find(".dx-visibility-change-handler")),a=0;a<r.length;a++)o.default.triggerHandler(r[a],t)}},s=a("dxshown");e.triggerShownEvent=s;var l=a("dxhiding");e.triggerHidingEvent=l;var u=a("dxresize");e.triggerResizeEvent=u},function(t,e,n){"use strict";e.default=void 0;var i,o=n(2),r=n(52),a=n(5),s=n(60),l=(i=n(24))&&i.__esModule?i:{default:i};function u(t,e,n){return(u=h()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&c(o,n.prototype),o}).apply(null,arguments)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=l.default.msie&&parseInt(l.default.version)<=11,f=["millisecond","second","minute","hour","day","week","month","quarter","year"],p=function t(e){switch(e){case"millisecond":return 1;case"second":return 1e3*t("millisecond");case"minute":return 60*t("second");case"hour":return 60*t("minute");case"day":return 24*t("hour");case"week":return 7*t("day");case"month":return 30*t("day");case"quarter":return 3*t("month");case"year":return 365*t("day");default:return 0}},g=function(t){var e,n,i,o=["millisecond","second","minute","hour","day","month","year"],r={};for(e=o.length-1;e>=0;e--)i=o[e],(n=Math.floor(t/p(i)))>0&&(r[i+"s"]=n,t-=m(i,n));return r};function m(t,e){return p(t)*e}function v(t){var e,n=-1;return(0,o.isString)(t)?t:(0,o.isObject)(t)?((0,a.each)(t,(function(t,i){for(e=0;e<f.length;e++)i&&(t===f[e]+"s"||t===f[e])&&n<e&&(n=e)})),f[n]):""}var y={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};var _=function(t){return Math.floor(t/3)},b=function(t){return 3*_(t)};function x(t,e,n,i){t=new Date(t.getTime());var o,r,a=new Date(t.getTime()),s=v(e);switch(s){case"second":t=new Date(1e3*Math.floor(a.getTime()/1e3));break;case"minute":t=new Date(6e4*Math.floor(a.getTime()/6e4));break;case"hour":t=new Date(36e5*Math.floor(a.getTime()/36e5));break;case"year":t.setMonth(0);case"month":t.setDate(1);case"day":t.setHours(0,0,0,0);break;case"week":(t=O(t,i||0)).setHours(0,0,0,0);break;case"quarter":o=b(t.getMonth()),r=t.getMonth(),t.setDate(1),t.setHours(0,0,0,0),r!==o&&t.setMonth(o)}return n&&"hour"!==s&&"minute"!==s&&"second"!==s&&A(a,t),t}function w(t){return x(t,"day")}function C(t,e,n){var i=new Date(t.getTime()),r=(0,o.isString)(e)?E(e.toLowerCase()):(0,o.isNumeric)(e)?g(e):e;return r.years&&i.setFullYear(i.getFullYear()+r.years*n),r.quarters&&i.setMonth(i.getMonth()+3*r.quarters*n),r.months&&i.setMonth(i.getMonth()+r.months*n),r.weeks&&i.setDate(i.getDate()+7*r.weeks*n),r.days&&i.setDate(i.getDate()+r.days*n),r.hours&&i.setTime(i.getTime()+36e5*r.hours*n),r.minutes&&i.setTime(i.getTime()+6e4*r.minutes*n),r.seconds&&i.setTime(i.getTime()+1e3*r.seconds*n),r.milliseconds&&i.setTime(i.getTime()+r.milliseconds*n),i}var S=function(t,e,n){var i=n?-1:1;return(0,o.isDate)(t)?C(t,e,i):(0,r.adjust)(t+e*i,e)};function k(t){return B(t.getFullYear(),t.getMonth()+1,0).getDate()}function E(t){var e={};switch(t){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function I(t,e){return T(t,e)&&t.getMonth()===e.getMonth()}function T(t,e){return t&&e&&t.getFullYear()===e.getFullYear()}function D(t){return t&&t.getFullYear()-t.getFullYear()%100}function M(t){return t&&t.getFullYear()-t.getFullYear()%10}function O(t,e){var n=(t.getDay()-e+7)%7,i=new Date(t);return i.setDate(t.getDate()-n),i}function P(t,e,n){var i=t;return(0,o.isDefined)(t)?((0,o.isDefined)(e)&&t<e&&(i=e),(0,o.isDefined)(n)&&t>n&&(i=n),i):t}function A(t,e){if((0,o.isDefined)(t)){var n=e.getHours()-t.getHours();if(0!==n){var i=1===n||-23===n?-1:1,r=new Date(e.getTime()+36e5*i);(i>0||r.getDate()===e.getDate())&&e.setTime(r.getTime())}}}function R(t,e){return 60*(e.getTimezoneOffset()-t.getTimezoneOffset())*1e3}var B=function(t){var e=u(Date,Array.prototype.slice.call(arguments));return e.setFullYear(t),e},N={dateUnitIntervals:f,convertMillisecondsToDateUnits:g,dateToMilliseconds:function(t){var e=0;return(0,o.isObject)(t)&&(0,a.each)(t,(function(t,n){e+=m(t.substr(0,t.length-1),n)})),(0,o.isString)(t)&&(e=m(t,1)),e},getNextDateUnit:function(t,e){switch(v(t)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},convertDateUnitToMilliseconds:m,getDateUnitInterval:v,getDateFormatByTickInterval:function(t){return y[v(t)]||""},getDatesDifferences:function(t,e){var n=0,i={year:t.getFullYear()!==e.getFullYear(),month:t.getMonth()!==e.getMonth(),day:t.getDate()!==e.getDate(),hour:t.getHours()!==e.getHours(),minute:t.getMinutes()!==e.getMinutes(),second:t.getSeconds()!==e.getSeconds(),millisecond:t.getMilliseconds()!==e.getMilliseconds()};return(0,a.each)(i,(function(t,e){e&&n++})),0===n&&0!==R(t,e)&&(i.hour=!0,n++),i.count=n,i},correctDateWithUnitBeginning:x,trimTime:w,setToDayEnd:function(t){var e=w(t);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},roundDateByStartDayHour:function(t,e){var n=this.dateTimeFromDecimal(e),i=new Date(t);return(t.getHours()===n.hours&&t.getMinutes()<n.minutes||t.getHours()<n.hours)&&i.setHours(n.hours,n.minutes,0,0),i},dateTimeFromDecimal:function(t){return{hours:Math.floor(t),minutes:t%1*60}},addDateInterval:C,addInterval:S,getSequenceByInterval:function(t,e,n){var i,r=[];for(r.push((0,o.isDate)(t)?new Date(t.getTime()):t),i=t;i<e;)i=S(i,n),r.push(i);return r},getDateIntervalByString:E,sameDate:function(t,e){return I(t,e)&&t.getDate()===e.getDate()},sameMonthAndYear:I,sameMonth:I,sameYear:T,sameDecade:function(t,e){if((0,o.isDefined)(t)&&(0,o.isDefined)(e)){var n=t.getFullYear()-t.getFullYear()%10,i=e.getFullYear()-e.getFullYear()%10;return t&&e&&n===i}},sameCentury:function(t,e){if((0,o.isDefined)(t)&&(0,o.isDefined)(e)){var n=t.getFullYear()-t.getFullYear()%100,i=e.getFullYear()-e.getFullYear()%100;return t&&e&&n===i}},getDifferenceInMonth:function(t){var e=1;return"year"===t&&(e=12),"decade"===t&&(e=120),"century"===t&&(e=1200),e},getDifferenceInMonthForCells:function(t){var e=1;return"decade"===t&&(e=12),"century"===t&&(e=120),e},getFirstYearInDecade:M,getFirstDecadeInCentury:D,getShortDateFormat:function(){return"yyyy/MM/dd"},getViewFirstCellDate:function(t,e){return"month"===t?B(e.getFullYear(),e.getMonth(),1):"year"===t?B(e.getFullYear(),0,e.getDate()):"decade"===t?B(M(e),e.getMonth(),e.getDate()):"century"===t?B(D(e),e.getMonth(),e.getDate()):void 0},getViewLastCellDate:function(t,e){return"month"===t?B(e.getFullYear(),e.getMonth(),k(e)):"year"===t?B(e.getFullYear(),11,e.getDate()):"decade"===t?B(M(e)+9,e.getMonth(),e.getDate()):"century"===t?B(D(e)+90,e.getMonth(),e.getDate()):void 0},getViewDown:function(t){switch(t){case"century":return"decade";case"decade":return"year";case"year":return"month"}},getViewUp:function(t){switch(t){case"month":return"year";case"year":return"decade";case"decade":return"century"}},getLastMonthDay:k,getLastMonthDate:function(t){if((0,o.isDefined)(t))return B(t.getFullYear(),t.getMonth()+1,0)},getFirstMonthDate:function(t){if((0,o.isDefined)(t))return B(t.getFullYear(),t.getMonth(),1)},getFirstWeekDate:O,normalizeDateByWeek:function(t,e){var n=N.getDatesInterval(t,e,"day"),i=new Date(t);return n>=6&&(i=new Date(i.setDate(i.getDate()+7))),i},getQuarter:_,getFirstQuarterMonth:b,dateInRange:function(t,e,n,i){return"date"===i&&(e=e&&N.correctDateWithUnitBeginning(e,"day"),n=n&&N.correctDateWithUnitBeginning(n,"day"),t=t&&N.correctDateWithUnitBeginning(t,"day")),P(t,e,n)===t},roundToHour:function(t){return t.setHours(t.getHours()+1),t.setMinutes(0),t},normalizeDate:P,getViewMinBoundaryDate:function(t,e){var n=B(e.getFullYear(),e.getMonth(),1);return"month"===t?n:(n.setMonth(0),"year"===t||("decade"===t&&n.setFullYear(M(e)),"century"===t&&n.setFullYear(D(e))),n)},getViewMaxBoundaryDate:function(t,e){var n=new Date(e);return n.setDate(k(e)),"month"===t?n:(n.setMonth(11),n.setDate(k(n)),"year"===t||("decade"===t&&n.setFullYear(M(e)+9),"century"===t&&n.setFullYear(D(e)+99)),n)},fixTimezoneGap:A,getTimezonesDifference:R,makeDate:function(t){return new Date(t)},getDatesInterval:function(t,e,n){var i=e.getTime()-t.getTime(),o=p(n)||1;return Math.floor(i/o)},getDatesOfInterval:function(t,e,n){for(var i=[],o=new Date(t.getTime());o<e;)i.push(new Date(o.getTime())),o=this.addInterval(o,n);return i},createDate:function(t){return new Date(d&&(0,o.isDate)(t)?t.getTime():t)},createDateWithFullYear:B,sameView:function(t,e,n){return N[(0,s.camelize)("same "+t)](e,n)}},F=N;e.default=F,t.exports=e.default},function(t,e,n){"use strict";e.applyBatch=v,e.createObjectWithChanges=m,e.update=_,e.insert=b,e.remove=x,e.indexByKey=w,e.applyChanges=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.keyExpr,o=void 0===i?"id":i,r=n.immutable,a=void 0===r||r,s=(0,u.compileGetter)(o),l={key:function(){return o},keyOf:function(t){return s(t)}};return v({keyInfo:l,data:t,changes:e,immutable:a,disableCache:!0,logError:!0})};var i=n(2),o=c(n(46)),r=c(n(50)),a=n(3),s=c(n(69)),l=n(114),u=n(29),h=c(n(51));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function g(t,e,n,i){return i?function t(e,n,i,o){var r;if(o){for(var a=0;a<n.length;a++)if(r=t(e,n[a].items||n[a].collapsedItems||[]||[],i,o-1))return r}else if(w(e,n,i)>=0)return n}(t,e,n,i)||[]:e}function m(t,e){var n=t?Object.create(Object.getPrototypeOf(t)):{},i=(0,a.extendFromObject)({},t);return(0,l.deepExtendArraySafe)(n,i,!0,!0),(0,l.deepExtendArraySafe)(n,e,!0,!0)}function v(t){var e=t.keyInfo,n=t.data,o=t.changes,r=t.groupCount,a=t.useInsertIndex,s=t.immutable,l=t.disableCache,u=t.logError,h=!0===s?f(n):n;return o.forEach((function(t){var n="insert"===t.type?h:g(e,h,t.key,r);switch(!l&&function(t,e){if(t.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var n={},i=e.length,o=0;o<i;o++)n[JSON.stringify(t.keyOf(e[o]))]=e[o];e._dataByKeyMap=n,e._dataByKeyMapLength=i}}(e,n),t.type){case"update":_(e,n,t.key,t.data,!0,s,u);break;case"insert":b(e,n,t.data,a&&(0,i.isDefined)(t.index)?t.index:-1,!0,u);break;case"remove":x(e,n,t.key,!0,u)}})),h}function y(t,e,n){return t?e&&s.default.errors.log(n):h.default.rejectedPromise(s.default.errors.Error(n))}function _(t,e,n,r,a,s,u){var c,d=t.key();if(d){if(function(t,e){for(var n="string"===typeof e?e.split():e.slice();n.length;)if(n.shift()in t)return!0;return!1}(r,d)&&!h.default.keysEqual(d,n,t.keyOf(r)))return y(a,u,"E4017");if(!(c=function(t,e){if(t._dataByKeyMap)return t._dataByKeyMap[JSON.stringify(e)]}(e,n))){var f=w(t,e,n);if(f<0)return y(a,u,"E4009");if(c=e[f],!0===s&&(0,i.isDefined)(c)){var p=m(c,r);return e[f]=p,!a&&h.default.trivialPromise(p,n)}}}else c=n;if((0,l.deepExtendArraySafe)(c,r,!0),!a)return(0,o.default)().useLegacyStoreResult?h.default.trivialPromise(n,r):h.default.trivialPromise(c,n)}function b(t,e,n,l,u,c){var f,p=t.key(),g=(0,i.isPlainObject)(n)?(0,a.extend)({},n):n;if(p){if(void 0===(f=t.keyOf(g))||"object"===d(f)&&(0,i.isEmptyObject)(f)){if(Array.isArray(p))throw s.default.errors.Error("E4007");f=g[p]=String(new r.default)}else if(void 0!==e[w(t,e,f)])return y(u,c,"E4008")}else f=g;if(l>=0?e.splice(l,0,g):e.push(g),function(t,e,n){t._dataByKeyMap&&(t._dataByKeyMap[JSON.stringify(e)]=n)}(e,f,g),!u)return h.default.trivialPromise((0,o.default)().useLegacyStoreResult?n:g,f)}function x(t,e,n,i,o){var r=w(t,e,n);return r>-1&&e.splice(r,1),i?r<0?y(i,o,"E4009"):void 0:h.default.trivialPromise(n)}function w(t,e,n){var i=t.key();if(!function(t,e){return!t._dataByKeyMap||t._dataByKeyMap[JSON.stringify(e)]}(e,n))return-1;for(var o=0,r=e.length;o<r;o++)if(h.default.keysEqual(i,t.keyOf(e[o]),n))return o;return-1}},function(t,e,n){"use strict";e.normalizeDataSourceOptions=e.normalizeLoadResult=e.mapDataRespectingGrouping=e.normalizeStoreLoadOptionAccessorArguments=e.isPending=e.CANCELED_TOKEN=void 0;var i=c(n(225)),o=c(n(139)),r=c(n(141)),a=n(5),s=c(n(175)),l=n(3),u=n(2),h=c(n(51));function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}e.CANCELED_TOKEN="canceled";e.isPending=function(t){return"pending"===t.state()};e.normalizeStoreLoadOptionAccessorArguments=function(t){switch(t.length){case 0:return;case 1:return t[0]}return[].slice.call(t)};var m=function(t,e,n){return(0,a.map)(t,(function(t){return f(f({},(t.items,g(t,["items"]))),{},{items:v(t.items,e-1,n)})}))},v=function(t,e,n){return Array.isArray(t)?e?m(t,e,n):(0,a.map)(t,n):t};e.mapDataRespectingGrouping=function(t,e,n){var i=n?h.default.normalizeSortingInfo(n).length:0;return v(t,i,e)};e.normalizeLoadResult=function(t,e){var n;return(null===(n=t)||void 0===n?void 0:n.data)&&(e=t,t=t.data),Array.isArray(t)||(t=[t]),{data:t,extra:e}};var y=function(t,e){return new s.default({load:function(){return i.default.sendRequest({url:t,dataType:"json"})},loadMode:null===e||void 0===e?void 0:e.fromUrlLoadMode})};e.normalizeDataSourceOptions=function(t,e){var n;return"string"===typeof t&&(t={paginate:!1,store:y(t,e)}),void 0===t&&(t=[]),void 0===(t=Array.isArray(t)||t instanceof o.default?{store:t}:(0,l.extend)({},t)).store&&(t.store=[]),n=t.store,"load"in t?n=function(t){var e={};return(0,a.each)(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],(function(){e[this]=t[this],delete t[this]})),new s.default(e)}(t):Array.isArray(n)?n=new r.default(n):(0,u.isPlainObject)(n)&&(n=function(t){var e=t.type;return delete t.type,o.default.create(e,t)}((0,l.extend)({},n))),t.store=n,t}},function(t,e,n){"use strict";e.default=void 0;var i=C(n(1)),o=C(n(7)),r=n(56),a=C(n(24)),s=n(6),l=n(2),u=n(3),h=n(27),c=n(14),d=C(n(16)),f=C(n(17)),p=C(n(19)),g=C(n(89)),m=n(68),v=n(13),y=C(n(366)),_=n(227),b=C(n(176)),x=n(230),w=n(8);function C(t){return t&&t.__esModule?t:{default:t}}var S="dxScrollable",k="vertical",E=g.default.inherit({_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{disabled:!1,onScroll:null,direction:k,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,onStop:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,pushBackValue:0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat((0,x.deviceDependentOptions)(),[{device:function(){return r.nativeScrolling&&"android"===f.default.real().platform&&!a.default.mozilla},options:{useSimulatedScrollbar:!0}},{device:function(){return"ios"===f.default.real().platform},options:{pushBackValue:1}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass("dx-scrollable"),e=this._$container=(0,i.default)("<div>").addClass("dx-scrollable-container"),n=this._$wrapper=(0,i.default)("<div>").addClass("dx-scrollable-wrapper"),r=this._$content=(0,i.default)("<div>").addClass("dx-scrollable-content");d.default.hasDocumentProperty("onbeforeactivate")&&a.default.msie&&a.default.version<12&&o.default.on(t,(0,v.addNamespace)("beforeactivate",S),(function(t){(0,i.default)(t.target).is(m.focusable)||t.preventDefault()})),r.append(t.contents()).appendTo(e),e.appendTo(n),n.appendTo(t)},_dimensionChanged:function(){this.update()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition()},_updateRtlPosition:function(){var t=this;this._updateBounds(),this.option("rtlEnabled")&&this.option("direction")!==k&&(0,s.deferUpdate)((function(){var e=t._container().get(0),n=e.scrollWidth-e.clientWidth;(0,s.deferRender)((function(){t.scrollTo({left:n})}))}))},_updateBounds:function(){this._strategy.updateBounds()},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};o.default.off(this._$wrapper,"."+S),o.default.on(this._$wrapper,(0,v.addNamespace)(y.default.init,S),e,this._initHandler.bind(this)),o.default.on(this._$wrapper,(0,v.addNamespace)(y.default.start,S),t.handleStart.bind(t)),o.default.on(this._$wrapper,(0,v.addNamespace)(y.default.move,S),t.handleMove.bind(t)),o.default.on(this._$wrapper,(0,v.addNamespace)(y.default.end,S),t.handleEnd.bind(t)),o.default.on(this._$wrapper,(0,v.addNamespace)(y.default.cancel,S),t.handleCancel.bind(t)),o.default.on(this._$wrapper,(0,v.addNamespace)(y.default.stop,S),t.handleStop.bind(t)),o.default.off(this._$container,"."+S),o.default.on(this._$container,(0,v.addNamespace)("scroll",S),t.handleScroll.bind(t))},_validate:function(t){return!this._isLocked()&&(this._updateIfNeed(),this._strategy.validate(t))},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass("dx-scrollable-disabled",this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-horizontal").removeClass("dx-scrollable-"+k).removeClass("dx-scrollable-both").addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data("dxScrollableStrategy",this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new b.default(this):new _.SimulatedStrategy(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onStop":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByContent":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":case"pushBackValue":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(t&&(0,c.hasWindow)()){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");return t===k?"left":"horizontal"===t?"top":void 0},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if((0,l.isPlainObject)(t)){var e=(0,s.ensureDefined)(t.left,t.x),n=(0,s.ensureDefined)(t.top,t.y);return{left:(0,l.isDefined)(e)?-e:void 0,top:(0,l.isDefined)(n)?-n:void 0}}var i=this.option("direction");return{left:i!==k?-t:void 0,top:"horizontal"!==i?-t:void 0}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return t===k?"horizontal"!==e:"horizontal"===t?e!==k:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection("both")&&t.vertical&&t.horizontal?this._allowedDirectionValue="both":this._isDirection("horizontal")&&t.horizontal?this._allowedDirectionValue="horizontal":this._isDirection(k)&&t.vertical?this._allowedDirectionValue=k:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},_container:function(){return this._$container},$content:function(){return this._$content},content:function(){return(0,h.getPublicElement)(this._$content)},scrollOffset:function(){var t=this._location();return{top:-t.top,left:-t.left}},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return this._$container.height()},scrollHeight:function(){return this.$content().outerHeight()-2*this._strategy.verticalOffset()},clientWidth:function(){return this._$container.width()},scrollWidth:function(){return this.$content().outerWidth()},update:function(){if(this._strategy)return(0,w.when)(this._strategy.update()).done(function(){this._updateAllowedDirection()}.bind(this))},scrollBy:function(t){((t=this._normalizeLocation(t)).top||t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e));var n=this._normalizeLocation({left:e.left-(0,s.ensureDefined)(t.left,e.left),top:e.top-(0,s.ensureDefined)(t.top,e.top)});(n.top||n.left)&&this._strategy.scrollBy(n)},scrollToElement:function(t,e){var n=(0,i.default)(t),o=this.$content().find(t).length,r=n.parents(".dx-scrollable").length-n.parents(".dx-scrollable-content").length===0;if(o&&r){var a={top:0,left:0},s=this.option("direction");s!==k&&(a.left=this.getScrollElementPosition(n,"horizontal",e)),"horizontal"!==s&&(a.top=this.getScrollElementPosition(n,k,e)),this.scrollTo(a)}},scrollToElementTopLeft:function(t){var e=(0,i.default)(t),n=this.$content().find(t).length,o=e.parents(".dx-scrollable").length-e.parents(".dx-scrollable-content").length===0;if(n&&o){var r={top:0,left:0},a=this.option("direction");if(a!==k){var s=this._elementPositionRelativeToContent(e,"left");r.left=!0===this.option("rtlEnabled")?s+e.width()-this.clientWidth():s}"horizontal"!==a&&(r.top=this._elementPositionRelativeToContent(e,"top")),this.scrollTo(r)}},getScrollElementPosition:function(t,e,n){n=n||{};var i=e===k,o=(i?n.top:n.left)||0,r=(i?n.bottom:n.right)||0,a=i?this._strategy.verticalOffset():0,s=this._elementPositionRelativeToContent(t,i?"top":"left")-a,l=t[i?"outerHeight":"outerWidth"](),u=i?this.scrollTop():this.scrollLeft(),h=u-s+o,c=u-s-l+(i?this.clientHeight():this.clientWidth())-r;return h<=0&&c>=0?u:u-(Math.abs(h)>Math.abs(c)?c:h)},_elementPositionRelativeToContent:function(t,e){for(var n=0;this._hasScrollContent(t);)n+=t.position()[e],t=t.offsetParent();return n},_hasScrollContent:function(t){var e=this.$content();return t.closest(e).length&&!t.is(e)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1}});(0,p.default)(S,E);var I=E;e.default=I,t.exports=e.default},function(t,e,n){"use strict";e.showWave=s,e.hideWave=c,e.render=e.initConfig=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i};var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useHoldAnimation,n=t.waveSizeCoefficient,i=t.isCentered,o=t.wavesNumber;return{waveSizeCoefficient:n||2,isCentered:i||!1,wavesNumber:o||1,durations:u(null===e||void 0===e||e)}};e.initConfig=r;e.render=function(t){var e=r(t);return{showWave:s.bind(this,e),hideWave:c.bind(this,e)}};var a=function(t,e){for(var n=function(t){var e=t.children(".dx-inkripple");return 0===e.length&&(e=(0,o.default)("<div>").addClass("dx-inkripple").appendTo(t)),e}((0,o.default)(t)),i=n.children(".dx-inkripple-wave").toArray(),r=i.length;r<e;r++){var a=(0,o.default)("<div>").appendTo(n).addClass("dx-inkripple-wave");i.push(a[0])}return(0,o.default)(i)};function s(t,e){var n=a(e.element,t.wavesNumber).eq(e.wave||0);t.hidingTimeout&&clearTimeout(t.hidingTimeout),h(n),n.css(function(t,e){var n,i,r=(0,o.default)(e.element),a=r.outerWidth(),s=r.outerHeight(),l=parseInt(Math.sqrt(a*a+s*s)),u=Math.min(4e3,parseInt(l*t.waveSizeCoefficient));if(t.isCentered)n=(a-u)/2,i=(s-u)/2;else{var h=e.event,c=r.offset();n=h.pageX-c.left-u/2,i=h.pageY-c.top-u/2}return{left:n,top:i,height:u,width:u}}(t,e)),t.showingTimeout=setTimeout(l.bind(this,t,n),0)}function l(t,e){var n=t.durations.showingScale+"ms";e.addClass("dx-inkripple-showing").css("transitionDuration",n)}function u(t){return{showingScale:t?1e3:300,hidingScale:300,hidingOpacity:300}}function h(t){t.removeClass("dx-inkripple-hiding").css("transitionDuration","")}function c(t,e){t.showingTimeout&&clearTimeout(t.showingTimeout);var n=a(e.element,e.wavesNumber).eq(e.wave||0),i=t.durations,o=i.hidingScale+"ms, "+i.hidingOpacity+"ms";n.addClass("dx-inkripple-hiding").removeClass("dx-inkripple-showing").css("transitionDuration",o);var r=Math.max(i.hidingScale,i.hidingOpacity);t.hidingTimeout=setTimeout(h.bind(this,n),r)}},function(t,e,n){"use strict";e.default=void 0;var i=g(n(20)),o=n(3),r=n(21),a=n(5),s=n(118),l=g(n(37)),u=n(6),h=n(2),c=g(n(75)),d=g(n(18)),f=g(n(124)),p=n(8);function g(t){return t&&t.__esModule?t:{default:t}}function m(t){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==m(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),t}var k="valid",E="invalid",I="pending",T=function(){function t(){w(this,t),this.NAME="base"}return S(t,[{key:"defaultMessage",value:function(t){return d.default.getFormatter("validation-".concat(this.NAME))(t)}},{key:"defaultFormattedMessage",value:function(t){return d.default.getFormatter("validation-".concat(this.NAME,"-formatted"))(t)}},{key:"_isValueEmpty",value:function(t){return!L.required.validate(t,{})}},{key:"validate",value:function(t,e){var n=this,i=Array.isArray(t)?t:[t],o=!0;return i.length?i.every((function(t){return o=n._validate(t,e)})):o=this._validate(null,e),o}}]),t}(),D=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="required",t}return S(n,[{key:"_validate",value:function(t,e){return!!(0,h.isDefined)(t)&&(!1!==t&&(t=String(t),!e.trim&&(0,h.isDefined)(e.trim)||(t=t.trim()),""!==t))}}]),n}(T),M=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="numeric",t}return S(n,[{key:"_validate",value:function(t,e){return!(!1===e.ignoreEmptyValue||!this._isValueEmpty(t))||(e.useCultureSettings&&(0,h.isString)(t)?!isNaN(c.default.parse(t)):(0,h.isNumeric)(t))}}]),n}(T),O=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="range",t}return S(n,[{key:"_validate",value:function(t,e){if(!1!==e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var n=L.numeric.validate(t,e),i=(0,h.isDefined)(t)&&""!==t,o=n?parseFloat(t):i&&t.valueOf(),r=e.min,a=e.max;if(!n&&!(0,h.isDate)(t)&&!i)return!1;if((0,h.isDefined)(r))return(0,h.isDefined)(a)?o>=r&&o<=a:o>=r;if((0,h.isDefined)(a))return o<=a;throw l.default.Error("E0101")}}]),n}(T),P=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="stringLength",t}return S(n,[{key:"_validate",value:function(t,e){return t=(0,h.isDefined)(t)?String(t):"",!e.trim&&(0,h.isDefined)(e.trim)||(t=t.trim()),!(!e.ignoreEmptyValue||!this._isValueEmpty(t))||L.range.validate(t.length,(0,o.extend)({},e))}}]),n}(T),A=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="custom",t}return S(n,[{key:"validate",value:function(t,e){if(e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var n=e.validator,i=n&&(0,h.isFunction)(n.option)&&n.option("dataGetter"),r=(0,h.isFunction)(i)&&i(),a={value:t,validator:n,rule:e};return r&&(0,o.extend)(a,r),e.validationCallback(a)}}]),n}(T),R=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="async",t}return S(n,[{key:"validate",value:function(t,e){if((0,h.isDefined)(e.reevaluate)||(0,o.extend)(e,{reevaluate:!0}),e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var n=e.validator,i=n&&(0,h.isFunction)(n.option)&&n.option("dataGetter"),r=(0,h.isFunction)(i)&&i(),a={value:t,validator:n,rule:e};r&&(0,o.extend)(a,r);var s=e.validationCallback(a);if(!(0,h.isPromise)(s))throw l.default.Error("E0103");return this._getWrappedPromise((0,p.fromPromise)(s).promise())}},{key:"_getWrappedPromise",value:function(t){var e=new p.Deferred;return t.then((function(t){e.resolve(t)}),(function(t){var n={isValid:!1};(0,h.isDefined)(t)&&((0,h.isString)(t)?n.message=t:(0,h.isObject)(t)&&(0,h.isDefined)(t.message)&&(0,h.isString)(t.message)&&(n.message=t.message)),e.resolve(n)})),e.promise()}}]),n}(A),B=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="compare",t}return S(n,[{key:"_validate",value:function(t,e){if(!e.comparisonTarget)throw l.default.Error("E0102");if(e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;(0,o.extend)(e,{reevaluate:!0});var n=e.comparisonTarget();switch(e.comparisonType||"=="){case"==":return t==n;case"!=":return t!=n;case"===":return t===n;case"!==":return t!==n;case">":return t>n;case">=":return t>=n;case"<":return t<n;case"<=":return t<=n}}}]),n}(T),N=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="pattern",t}return S(n,[{key:"_validate",value:function(t,e){if(!1!==e.ignoreEmptyValue&&this._isValueEmpty(t))return!0;var n=e.pattern;return(0,h.isString)(n)&&(n=new RegExp(n)),n.test(t)}}]),n}(T),F=function(t){v(n,t);var e=_(n);function n(){var t;return w(this,n),(t=e.call(this)).NAME="email",t}return S(n,[{key:"_validate",value:function(t,e){return!(!1===e.ignoreEmptyValue||!this._isValueEmpty(t))||L.pattern.validate(t,(0,o.extend)({},e,{pattern:/^[\d\w._-]+@([\d\w._-]+\.)+[\w]+$/i}))}}]),n}(T),L={required:new D,numeric:new M,range:new O,stringLength:new P,custom:new A,async:new R,compare:new B,pattern:new N,email:new F},V=i.default.inherit({ctor:function(t){this.group=t,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new s.EventsStrategy(this)},validate:function(){var t=this,e={isValid:!0,brokenRules:[],validators:[],status:k,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),(0,a.each)(this.validators,(function(n,i){var o=i.validate();e.isValid=e.isValid&&o.isValid,o.brokenRules&&(e.brokenRules=e.brokenRules.concat(o.brokenRules)),e.validators.push(i),o.status===I&&t._addPendingValidator(i),t._subscribeToChangeEvents(i)})),this._pendingValidators.length?e.status=I:(e.status=e.isValid?k:E,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),(0,o.extend)({},this._validationInfo.result)},_subscribeToChangeEvents:function(t){t.on("validating",this._onValidatorStatusChanged),t.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents:function(t){t.off("validating",this._onValidatorStatusChanged),t.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents:function(){var t=this;(0,a.each)(this.validators,(function(e,n){t._unsubscribeFromChangeEvents(n)}))},_updateValidationInfo:function(t){this._validationInfo.result=t,t.status===I&&(this._validationInfo.deferred||(this._validationInfo.deferred=new p.Deferred,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator:function(t){(0,u.grep)(this._pendingValidators,(function(e){return e===t}))[0]||this._pendingValidators.push(t)},_removePendingValidator:function(t){var e=(0,r.inArray)(t,this._pendingValidators);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules:function(t){var e=[];return(0,a.each)(this.validators,(function(n,i){var o=(0,u.grep)(t,(function(t){return t.validator===i}));o.length&&(e=e.concat(o))})),e},_updateBrokenRules:function(t){if(this._validationInfo.result){var e=this._validationInfo.result.brokenRules,n=(0,u.grep)(e,(function(e){return e.validator!==t.validator}));t.brokenRules&&(e=n.concat(t.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)}},_onValidatorStatusChanged:function(t){t.status!==I?this._resolveIfComplete(t):this._addPendingValidator(t.validator)},_resolveIfComplete:function(t){if(this._removePendingValidator(t.validator),this._updateBrokenRules(t),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=0===this._validationInfo.result.brokenRules.length?k:E,this._validationInfo.result.isValid=this._validationInfo.result.status===k;var e=(0,o.extend)({},this._validationInfo.result,{complete:null}),n=this._validationInfo.deferred;this._resetValidationInfo(),this._raiseValidatedEvent(e),n&&setTimeout((function(){n.resolve(e)}))}},_raiseValidatedEvent:function(t){this._eventsStrategy.fireEvent("validated",[t])},_resetValidationInfo:function(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo:function(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator:function(t){var e=(0,r.inArray)(t,this.validators);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:t}))},registerValidator:function(t){(0,r.inArray)(t,this.validators)<0&&(this.validators.push(t),this._synchronizeValidationInfo())},reset:function(){(0,a.each)(this.validators,(function(t,e){e.reset()})),this._pendingValidators=[],this._resetValidationInfo()},on:function(t,e){return this._eventsStrategy.on(t,e),this},off:function(t,e){return this._eventsStrategy.off(t,e),this}}),j={groups:[],getGroupConfig:function(t){var e=(0,u.grep)(this.groups,(function(e){return e.group===t}));if(e.length)return e[0]},findGroup:function(t,e){var n=t.parents(".dx-validationgroup").first();return n.length?n.dxValidationGroup("instance"):e},initGroups:function(){this.groups=[],this.addGroup()},addGroup:function(t){var e=this.getGroupConfig(t);return e||(e=new V(t),this.groups.push(e)),e},removeGroup:function(t){var e=this.getGroupConfig(t),n=(0,r.inArray)(e,this.groups);return n>-1&&this.groups.splice(n,1),e},_setDefaultMessage:function(t){var e=t.rule,n=t.validator,i=t.name;(0,h.isDefined)(e.message)||(n.defaultFormattedMessage&&(0,h.isDefined)(i)?e.message=n.defaultFormattedMessage(i):e.message=n.defaultMessage())},_addBrokenRule:function(t){var e=t.result,n=t.rule;e.brokenRule||(e.brokenRule=n),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(n)},validate:function(t,e,n){var i=this,o={name:n,value:t,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:k,complete:null},r=[];return(0,a.each)(e||[],(function(e,a){var s,u=L[a.type];if(!u)throw l.default.Error("E0100");return(0,h.isDefined)(a.isValid)&&a.value===t&&!a.reevaluate?!!a.isValid||(o.isValid=!1,i._addBrokenRule({result:o,rule:a}),!1):(a.value=t,"async"===a.type?(r.push({rule:a,ruleValidator:u}),!0):(s=u.validate(t,a),a.isValid=s,s||(o.isValid=!1,i._setDefaultMessage({rule:a,validator:u,name:n}),i._addBrokenRule({result:o,rule:a})),!!a.isValid&&void 0))})),o.isValid&&!o.brokenRules&&r.length&&(o=this._validateAsyncRules({value:t,items:r,result:o,name:n})),o.status=o.pendingRules?I:o.isValid?k:E,o},_validateAsyncRules:function(t){var e=this,n=t.result,i=t.value,o=t.items,r=t.name,s=[];return(0,a.each)(o,(function(t,o){var a=o.ruleValidator.validate(i,o.rule);if((0,h.isPromise)(a)){n.pendingRules||(n.pendingRules=[]),n.pendingRules.push(o.rule);var l=a.then((function(t){var n=e._getPatchedRuleResult(t);return e._updateRuleConfig({rule:o.rule,ruleResult:n,validator:o.ruleValidator,name:r}),n}));s.push(l)}else e._updateRuleConfig({rule:o.rule,ruleResult:e._getPatchedRuleResult(a),validator:o.ruleValidator,name:r})})),s.length&&(n.complete=f.default.all(s).then((function(t){return e._getAsyncRulesResult({result:n,values:t})}))),n},_updateRuleConfig:function(t){var e=t.rule,n=t.ruleResult,i=t.validator,o=t.name;e.isValid=n.isValid,n.isValid||((0,h.isDefined)(n.message)&&(0,h.isString)(n.message)&&n.message.length?e.message=n.message:this._setDefaultMessage({rule:e,validator:i,name:o}))},_getPatchedRuleResult:function(t){var e;return(0,h.isObject)(t)?(e=(0,o.extend)({},t),(0,h.isDefined)(e.isValid)||(e.isValid=!0)):e={isValid:!(0,h.isBoolean)(t)||t},e},_getAsyncRulesResult:function(t){var e=this,n=t.values,i=t.result;return(0,a.each)(n,(function(t,n){if(!1===n.isValid){i.isValid=n.isValid;var o=i.pendingRules[t];e._addBrokenRule({result:i,rule:o})}})),i.pendingRules=null,i.complete=null,i.status=i.isValid?k:E,i},registerValidatorInGroup:function(t,e){var n=j.addGroup(t);n.registerValidator.call(n,e)},_shouldRemoveGroup:function(t,e){var n=void 0===t,i=t&&"dxValidationGroup"===t.NAME;return!n&&!i&&!e.length},removeRegisteredValidator:function(t,e){var n=j.getGroupConfig(t);if(n){n.removeRegisteredValidator.call(n,e);var i=n.validators;this._shouldRemoveGroup(t,i)&&this.removeGroup(t)}},initValidationOptions:function(t){var e=this,n={};if(t){["isValid","validationStatus","validationError","validationErrors"].forEach((function(i){i in t&&(0,o.extend)(n,e.synchronizeValidationOptions({name:i,value:t[i]},t))}))}return n},synchronizeValidationOptions:function(t,e){var n=t.name,i=t.value;switch(n){case"validationStatus":var o=i===k||i===I;return e.isValid!==o?{isValid:o}:{};case"isValid":var r=e.validationStatus,a=r;return i&&r===E?a=k:i||r===E||(a=E),a!==r?{validationStatus:a}:{};case"validationErrors":var s=i&&i.length?i[0]:null;return e.validationError!==s?{validationError:s}:{};case"validationError":var l=e.validationErrors;if(!i&&l)return{validationErrors:null};if(i&&!l)return{validationErrors:[i]};if(i&&l&&i!==l[0])return l[0]=i,{validationErrors:l.slice()}}return{}},validateGroup:function(t){var e=j.getGroupConfig(t);if(!e)throw l.default.Error("E0110");return e.validate()},resetGroup:function(t){var e=j.getGroupConfig(t);if(!e)throw l.default.Error("E0110");return e.reset()}};j.initGroups();var z=j;e.default=z,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=v(n(1)),o=v(n(7)),r=v(n(384)),a=v(n(25)),s=n(3),l=n(5),u=n(6),h=n(2),c=v(n(179)),d=n(29),f=n(107),p=n(93),g=v(n(235)),m=n(8);function v(t){return t&&t.__esModule?t:{default:t}}function y(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var b=function(t){return-1!==t},x=r.default.inherit({_setOptionsByReference:function(){this.callBase(),(0,s.extend)(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:-1,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=(0,d.compileGetter)(this.option("keyExpr"))},_getKeysByItems:function(t){return this._editStrategy.getKeysByItems(t)},_getItemsByKeys:function(t,e){return this._editStrategy.getItemsByKeys(t,e)},_getKeyByIndex:function(t){return this._editStrategy.getKeyByIndex(t)},_getIndexByKey:function(t){return this._editStrategy.getIndexByKey(t)},_getIndexByItemData:function(t){return this._editStrategy.getIndexByItemData(t)},_isKeySpecified:function(){return!(!this._dataSource||!this._dataSource.key())},_getCombinedFilter:function(){return this._dataSource&&this._dataSource.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataSource&&this._dataSource.key()},keyOf:function(t){var e=t,n=this._dataSource&&this._dataSource.store();return this.option("keyExpr")?e=this._keyGetter(t):n&&(e=n.keyOf(t)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var t=this,e=t._editStrategy.itemsGetter;this._selection=new g.default({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(e){(e.addedItemKeys.length||e.removedItemKeys.length)&&(t.option("selectedItems",t._getItemsByKeys(e.selectedItemKeys,e.selectedItems)),t._updateSelectedItems(e))},filter:t._getCombinedFilter.bind(t),totalCount:function(){var e=t.option("items"),n=t._dataSource;return n&&n.totalCount()>=0?n.totalCount():e.length},key:t.key.bind(t),keyOf:t.keyOf.bind(t),load:function(e){if(t._dataSource){var n=t._dataSource.loadOptions();e.customQueryParams=n.customQueryParams,e.userData=t._dataSource._userData}var i=t._dataSource&&t._dataSource.store();return i?i.load(e).done((function(e){if(!t._disposed){var n=(0,p.normalizeLoadResult)(e).data;t._dataSource._applyMapFunction(n)}})):(new m.Deferred).resolve(this.plainItems())},dataFields:function(){return t._dataSource&&t._dataSource.select()},plainItems:e.bind(t._editStrategy)})},_initEditStrategy:function(){var t=c.default;this._editStrategy=new t(this)},_getSelectedItemIndices:function(t){var e=this,n=[];return t=t||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),(0,l.each)(t,(function(t,i){var o=e._getIndexByKey(i);b(o)&&n.push(o)})),e._editStrategy.endCache(),n},_initMarkup:function(){var t=this;this._rendering=!0,this._dataSource&&this._dataSource.isLoading()||this._syncSelectionOptions().done((function(){return t._normalizeSelectedItems()})),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(t){var e,n,i,o;switch(t=t||this._chooseSelectOption()){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),(0,h.isDefined)(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(n=(o=this.option("selectedItems")||[]).length?this._editStrategy.getIndexByItemData(o[0]):-1,this.option("selectionRequired")&&!b(n))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",o[0]),this._setOptionWithoutOptionChange("selectedIndex",n),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(o));break;case"selectedItem":if(e=this.option("selectedItem"),n=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!b(n))return this._syncSelectionOptions("selectedIndex");(0,h.isDefined)(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",n),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",-1));break;case"selectedItemKeys":if(i=this.option("selectedItemKeys"),this.option("selectionRequired")){var r=this._getIndexByKey(i[0]);if(!b(r))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(i)}return(new m.Deferred).resolve().promise()},_chooseSelectOption:function(){var t="selectedIndex",e=function(t){var e=this.option(t);return(0,h.isDefined)(e)&&e.length||t in this._userOptions}.bind(this);return e("selectedItems")?t="selectedItems":e("selectedItem")?t="selectedItem":e("selectedItemKeys")&&(t="selectedItemKeys"),t},_compareKeys:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},_normalizeSelectedItems:function(){if("none"===this.option("selectionMode"))this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if("single"===this.option("selectionMode")){var t=this.option("selectedItems");if(t.length>1||!t.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),n=void 0===t[0]?e[0]:t[0];return void 0===n&&(n=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&n&&n.items&&(n.items=[n.items[0]]),this._selection.setSelection(this._getKeysByItems([n])),this._setOptionWithoutOptionChange("selectedItems",[n]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(t))}else{var i=this._getKeysByItems(this.option("selectedItems")),o=this._selection.getSelectedItemKeys();this._compareKeys(o,i)||this._selection.setSelection(i)}return(new m.Deferred).resolve().promise()},_itemClickHandler:function(t){this._createAction(function(t){this._itemSelectHandler(t.event)}.bind(this),{validatingTargetName:"itemElement"})({itemElement:(0,i.default)(t.currentTarget),event:t}),this.callBase.apply(this,arguments)},_itemSelectHandler:function(t){if(this.option("selectionByClick")){var e=t.currentTarget;this.isItemSelected(e)?this.unselectItem(t.currentTarget):this.selectItem(t.currentTarget)}},_selectedItemElement:function(t){return this._itemElements().eq(t)},_postprocessRenderItem:function(t){if("none"!==this.option("selectionMode")){var e=(0,i.default)(t.itemElement),n=this._editStrategy.getNormalizedIndex(e),o=this._isItemSelected(n);this._processSelectableItem(e,o)}},_processSelectableItem:function(t,e){t.toggleClass(this._selectedItemClass(),e),this._setAriaSelected(t,String(e))},_updateSelectedItems:function(t){var e=this,n=t.addedItemKeys,i=t.removedItemKeys;if(e._rendered&&(n.length||i.length)){var o=e._selectionChangePromise;if(!e._rendering){var r,a=[],s=[];e._editStrategy.beginCache();for(var l=0;l<n.length;l++)r=e._getIndexByKey(n[l]),a.push(r),e._addSelection(r);for(var u=0;u<i.length;u++)r=e._getIndexByKey(i[u]),s.push(r),e._removeSelection(r);e._editStrategy.endCache(),e._updateSelection(a,s)}(0,m.when)(o).done((function(){e._fireSelectionChangeEvent(t.addedItems,t.removedItems)}))}},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_updateSelection:u.noop,_setAriaSelected:function(t,e){this.setAria("selected",e,t)},_removeSelection:function(t){var e=this._editStrategy.getItemElement(t);b(t)&&(this._processSelectableItem(e,!1),o.default.triggerHandler(e,"stateChanged",!1))},_addSelection:function(t){var e=this._editStrategy.getItemElement(t);b(t)&&(this._processSelectableItem(e,!0),o.default.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(t){var e=this._getKeyByIndex(t);return this._selection.isItemSelected(e)},_optionChanged:function(t){var e=this;switch(t.name){case"selectionMode":this._invalidate();break;case"dataSource":(!t.value||Array.isArray(t.value)&&!t.value.length)&&this.option("selectedItemKeys",[]),this.callBase(t);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(t.name).done((function(){return e._normalizeSelectedItems()}));break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(t)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(t){if(t.data("dxItemDeleting"))return(new m.Deferred).resolve().promise();t.data("dxItemDeleting",!0);var e=new m.Deferred,n={cancel:!1},i=this._itemEventHandler(t,"onItemDeleting",n,{excludeValidators:["disabled","readOnly"]});return(0,m.when)(i).always(function(o){var r=!i,a=!r&&"resolved"===i.state(),s=!!arguments.length,l=r||a&&!s||a&&o;(0,m.when)((0,m.fromPromise)(n.cancel)).always((function(){t.data("dxItemDeleting",!1)})).done((function(t){l&&!t?e.resolve():e.reject()})).fail(e.reject)}.bind(this)),e.promise()},_deleteItemFromDS:function(t){if(!this._dataSource)return(new m.Deferred).resolve().promise();var e=new m.Deferred,n=this.option("disabled"),i=this._dataSource.store();if(this.option("disabled",!0),!i.remove)throw a.default.Error("E1011");return i.remove(i.keyOf(this._getItemData(t))).done((function(t){void 0!==t?e.resolve():e.reject()})).fail((function(){e.reject()})),e.always(function(){this.option("disabled",n)}.bind(this)),e},_tryRefreshLastPage:function(){var t=new m.Deferred;return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done((function(){t.resolve()})),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(t){var e=this._getKeyByIndex(t);this._selection.deselect([e])},_updateIndicesAfterIndex:function(t){for(var e=this._itemElements(),n=t+1;n<e.length;n++)(0,i.default)(e[n]).data(this._itemIndexKey(),n-1)},_simulateOptionChange:function(t){var e=this.option(t);e instanceof f.DataSource||this._optionChangedAction({name:t,fullName:t,value:e})},isItemSelected:function(t){return this._isItemSelected(this._editStrategy.getNormalizedIndex(t))},selectItem:function(t){if("none"!==this.option("selectionMode")){var e=this._editStrategy.getNormalizedIndex(t);if(b(e)){var n=this._getKeyByIndex(e);if(!this._selection.isItemSelected(n))if("single"===this.option("selectionMode"))this._selection.setSelection([n]);else{var i=this.option("selectedItemKeys")||[];this._selection.setSelection([].concat(y(i),[n]))}}}},unselectItem:function(t){var e=this._editStrategy.getNormalizedIndex(t);if(b(e)){var n=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&n.length<=1)){var i=this._getKeyByIndex(e);this._selection.isItemSelected(i)&&this._selection.deselect([i])}}},_deleteItemElementByIndex:function(t){this._updateSelectionAfterDelete(t),this._updateIndicesAfterIndex(t),this._editStrategy.deleteItemAtIndex(t)},_afterItemElementDeleted:function(t,e){var n=this._dataSource?"dataSource":"items";this._simulateOptionChange(n),this._itemEventHandler(t,"onItemDeleted",e,{beforeExecute:function(){t.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(t){var e=this,n=new m.Deferred,i=this._editStrategy.getItemElement(t),o=this._editStrategy.getNormalizedIndex(t),r=this._itemResponseWaitClass();return b(o)?this._waitDeletingPrepare(i).done((function(){i.addClass(r);var t=e._extendActionArgs(i);e._deleteItemFromDS(i).done((function(){e._deleteItemElementByIndex(o),e._afterItemElementDeleted(i,t),e._tryRefreshLastPage().done((function(){n.resolveWith(e)}))})).fail((function(){i.removeClass(r),n.rejectWith(e)}))})).fail((function(){n.rejectWith(e)})):n.rejectWith(e),n.promise()},reorderItem:function(t,e){var n=new m.Deferred,i=this,o=this._editStrategy,r=o.getItemElement(t),a=o.getItemElement(e),s=o.getNormalizedIndex(t),l=o.getNormalizedIndex(e),u=this._dataSource?"dataSource":"items";return b(s)&&b(l)&&s!==l?n.resolveWith(this):n.rejectWith(this),n.promise().done((function(){a[o.itemPlacementFunc(s,l)](r),o.moveItemAtIndexToIndex(s,l),this._updateIndicesAfterIndex(s),i.option("selectedItems",i._getItemsByKeys(i._selection.getSelectedItemKeys(),i._selection.getSelectedItems())),"items"===u&&i._simulateOptionChange(u),i._itemEventHandler(r,"onItemReordered",{fromIndex:o.getIndex(s),toIndex:o.getIndex(l)},{excludeValidators:["disabled","readOnly"]})}))}});e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.BindableTemplate=void 0;var i=l(n(1)),o=n(104),r=l(n(7)),a=l(n(116)),s=n(2);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t,e,n,i,o){var r,a=function(t,e,n){return e((function(){return t}),n)}(t,e,(function(t){r&&r(),(0,s.isPrimitive)(t)?o(t):r=function(t,e,n,i,o){var r={},a=n.slice(),s=n.map((function(n){var s=i[n];return e(s?function(){return s(t)}:function(){return t[n]},(function(t){if(r[n]=t,a.length){var e=a.indexOf(n);e>=0&&a.splice(e,1)}a.length||o(r)}))}));return function(){s.forEach((function(t){return t()}))}}(t,e,n,i,o)}));return function(){r&&r(),a&&a()}},m=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,o,s=d(l);function l(t,e,n,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(o=s.call(this))._render=t,o._fields=e,o._fieldsMap=i||{},o._watchMethod=n,o}return e=l,(n=[{key:"_renderCore",value:function(t){var e=this,n=(0,i.default)(t.container),o=g(t.model,this._watchMethod,this._fields,this._fieldsMap,(function(i){n.empty(),e._render(n,i,t.model)}));return r.default.on(n,a.default,o),n.contents()}}])&&h(e.prototype,n),o&&h(e,o),l}(o.TemplateBase);e.BindableTemplate=m},function(t,e,n){"use strict";e.default=void 0;var i=l(n(1)),o=l(n(81)),r=n(2),a=n(5),s=l(n(58));function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h={SUPPORTED_FORMATS:["date","time","datetime"],DATE_COMPONENT_TEXT_FORMATTER:function(t,e){var n=(0,i.default)("<div>").addClass("dx-dateview-formatter-container");return(0,i.default)("<span>").text(t).addClass("dx-dateview-value-formatter").appendTo(n),(0,i.default)("<span>").text(e).addClass("dx-dateview-name-formatter").appendTo(n),n},ONE_MINUTE:6e4,ONE_DAY:864e5,ONE_YEAR:31536e6,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:["year","day","month","day"]},time:{getStandardPattern:function(){return"HH:mm"},components:["hours","minutes","seconds","milliseconds"]},datetime:{getStandardPattern:function(){var t;return function(){var e=(0,i.default)("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ")}(),t||(t="yyyy-MM-ddTHH:mm:ssZ"),h.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:["year","day","month","day"].concat(["hours","minutes","seconds","milliseconds"])},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:["year","day","month","day"].concat(["hours","minutes","seconds"])}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var n=h.FORMATS_INFO[e].getStandardPattern();return o.default.serializeDate(t,n)},fromStandardDateFormat:function(t){var e=o.default.dateParser(t);return(0,r.isDate)(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,n){if(!e)return e||null;if(!t||isNaN(t.getTime())){var i=new Date(null);t=new Date(i.getFullYear(),i.getMonth(),i.getDate())}var o=new Date(t.valueOf()),r=h.FORMATS_INFO[n];return(0,a.each)(r.components,(function(){var t=h.DATE_COMPONENTS_INFO[this];o[t.setter](e[t.getter]())})),o},getLongestCaptionIndex:function(t){var e,n=0,i=0;for(e=0;e<t.length;++e)t[e].length>i&&(n=e,i=t[e].length);return n},formatUsesMonthName:function(t){return s.default.formatUsesMonthName(t)},formatUsesDayName:function(t){return s.default.formatUsesDayName(t)},getLongestDate:function(t,e,n){var i=function(t){var e=u(t);return"string"===e?"format":"object"===e&&void 0!==t.type?t.type:null}(t),o=9;i&&!h.formatUsesMonthName(i)||(o=h.getLongestCaptionIndex(e));var r=new Date(1888,o,21,23,59,59,999);if(!i||h.formatUsesDayName(i)){var a=r.getDate()-r.getDay()+h.getLongestCaptionIndex(n);r.setDate(a)}return r},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};h.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var n=new Date(e.getTime());return n.setFullYear(t),s.default.format(n,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var n=new Date(e.getTime());return n.setDate(t),s.default.format(n,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return s.default.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return s.default.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return s.default.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return s.default.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return s.default.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};var c=h;e.default=c,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n,i,o,r,a){try{var s=t[r](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function s(t){i(a,o,r,s,l,"next",t)}function l(t){i(a,o,r,s,l,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return o}))},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,u=[],h=!1,c=-1;function d(){h&&l&&(h=!1,l.length?u=l.concat(u):c=-1,u.length&&f())}function f(){if(!h){var t=s(d);h=!0;for(var e=u.length;e;){for(l=u,u=[];++c<e;)l&&l[c].run();c=-1,e=u.length}l=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||h||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";e.originalViewPort=function(){return u},e.changeCallback=e.value=void 0;var i=a(n(1)),o=a(n(67)),r=a(n(38));function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.add,l=(0,r.default)();e.changeCallback=l;var u=(0,i.default)(),h=function(){var t;return function(e){if(!arguments.length)return t;var n=(0,i.default)(e);u=n;var o=!!n.length,r=h();t=o?n:(0,i.default)("body"),l.fire(o?h():(0,i.default)(),r)}}();e.value=h,s((function(){h(".dx-viewport")}))},function(t,e,n){"use strict";e.TemplateBase=e.renderedCallbacks=void 0;var i=u(n(1)),o=u(n(16)),r=u(n(38)),a=n(44),s=n(90),l=u(n(37));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=(0,r.default)({syncStrategy:!0});e.renderedCallbacks=c;var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"render",value:function(t){var e=(t=t||{}).onRendered;delete t.onRendered;var n=this._renderCore(t);return this._ensureResultInContainer(n,t.container),c.fire(n,t.container),e&&e(),n}},{key:"_ensureResultInContainer",value:function(t,e){if(e){var n=(0,i.default)(e),r=(0,a.contains)(n.get(0),t.get(0));n.append(t),r||o.default.getBody().contains(n.get(0))&&(0,s.triggerShownEvent)(t)}}},{key:"_renderCore",value:function(){throw l.default.Error("E0001")}}])&&h(e.prototype,n),r&&h(e,r),t}();e.TemplateBase=d},function(t,e,n){"use strict";e.default=void 0;var i=m(n(1)),o=m(n(67)),r=m(n(16)),a=m(n(7)),s=n(54),l=m(n(20)),u=n(3),h=n(21),c=n(5),d=m(n(78)),f=n(13),p=m(n(33)),g=n(167);function m(t){return t&&t.__esModule?t:{default:t}}var v=new(l.default.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){o.default.add(function(){var t=r.default.getDocument();a.default.subscribeGlobal(t,(0,f.addNamespace)(p.default.down,"dxEventManager"),this._pointerDownHandler.bind(this)),a.default.subscribeGlobal(t,(0,f.addNamespace)(p.default.move,"dxEventManager"),this._pointerMoveHandler.bind(this)),a.default.subscribeGlobal(t,(0,f.addNamespace)([p.default.up,p.default.cancel].join(" "),"dxEventManager"),this._pointerUpHandler.bind(this)),a.default.subscribeGlobal(t,(0,f.addNamespace)(g.name,"dxEventManager"),this._mouseWheelHandler.bind(this))}.bind(this))},_eachEmitter:function(t){for(var e=this._activeEmitters||[],n=0;e.length>n;){var i=e[n];if(!1===t(i))break;e[n]===i&&n++}},_applyToEmitters:function(t,e){this._eachEmitter((function(n){n[t].call(n,e)}))},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(t){this._proxiedCancelHandler(t)},_pointerDownHandler:function(t){(0,f.isMouseEvent)(t)&&t.which>1||this._updateEmitters(t)},_updateEmitters:function(t){this._isSetChanged(t)&&(this._cleanEmitters(t),this._fetchEmitters(t))},_isSetChanged:function(t){var e=this._closestEmitter(t),n=this._emittersSet||[],i=e.length!==n.length;return(0,c.each)(e,(function(t,e){return!(i=i||n[t]!==e)})),this._emittersSet=e,i},_closestEmitter:function(t){var e=this,n=[],o=(0,i.default)(t.target);function r(i,o){o&&o.validatePointers(t)&&o.validate(t)&&(o.addCancelCallback(e._proxiedCancelHandler),o.addAcceptCallback(e._proxiedAcceptHandler),n.push(o))}for(;o.length;){var a=(0,s.data)(o.get(0),"dxEmitter")||[];(0,c.each)(a,r),o=o.parent()}return n},_acceptHandler:function(t,e){var n=this;this._eachEmitter((function(i){i!==t&&n._cancelEmitter(i,e)}))},_cancelHandler:function(t,e){this._cancelEmitter(t,e)},_cancelEmitter:function(t,e){var n=this._activeEmitters;e?t.cancel(e):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback();var i=(0,h.inArray)(t,n);i>-1&&n.splice(i,1)},_cleanEmitters:function(t){this._applyToEmitters("end",t),this.reset(t)},_fetchEmitters:function(t){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",t)},_pointerMoveHandler:function(t){this._applyToEmitters("move",t)},_pointerUpHandler:function(t){this._updateEmitters(t)},_mouseWheelHandler:function(t){this._allowInterruptionByMouseWheel()&&(t.pointers=[null],this._pointerDownHandler(t),this._adjustWheelEvent(t),this._pointerMoveHandler(t),t.pointers=[],this._pointerUpHandler(t))},_allowInterruptionByMouseWheel:function(){var t=!0;return this._eachEmitter((function(e){return t=e.allowInterruptionByMouseWheel()&&t})),t},_adjustWheelEvent:function(t){var e=null;if(this._eachEmitter((function(n){if(n.gesture){var i=n.getDirection(t);return"horizontal"!==i&&!t.shiftKey||"vertical"!==i&&t.shiftKey?(e=n,!1):void 0}})),e){var n=e.getDirection(t),i="both"===n&&!t.shiftKey||"vertical"===n;t[i?"pageY":"pageX"]+=t.delta}},isActive:function(t){var e=!1;return this._eachEmitter((function(n){e=e||n.getElement().is(t)})),e}})),y=function(t){var e=t.emitter,n=t.events[0],i=t.events;(0,c.each)(i,(function(o,r){(0,d.default)(r,{noBubble:!t.bubble,setup:function(t){var i=(0,s.data)(t,"dxEmitterSubscription")||{},o=(0,s.data)(t,"dxEmitter")||{},a=o[n]||new e(t);i[r]=!0,o[n]=a,(0,s.data)(t,"dxEmitter",o),(0,s.data)(t,"dxEmitterSubscription",i)},add:function(t,e){(0,s.data)(t,"dxEmitter")[n].configure((0,u.extend)({delegateSelector:e.selector},e.data),e.type)},teardown:function(t){var e=(0,s.data)(t,"dxEmitterSubscription"),o=(0,s.data)(t,"dxEmitter"),a=o[n];delete e[r];var l=!0;(0,c.each)(i,(function(t,n){return l=l&&!e[n]})),l&&(v.isActive(t)&&v.resetEmitter(a),a&&a.dispose(),delete o[n])}})}))};e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(6),o=n(3),r=n(5),a=l(n(140)),s=l(n(51));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){return t=t.groupBy(e[0].selector),e.length>1&&(t=t.select((function(t){return(0,o.extend)({},t,{items:u((0,a.default)(t.items),e.slice(1)).toArray()})}))),t}function h(t,e){var n=[];return(0,r.each)(t,(function(t,o){(0,i.grep)(e,(function(t){return o.selector===t.selector})).length<1&&n.push(o)})),n.concat(e)}var c={multiLevelGroup:u,arrangeSortingInfo:h,queryByOptions:function(t,e,n){var i=(e=e||{}).filter;if(i&&(t=t.filter(i)),n)return t;var o=e.sort,a=e.select,l=e.group,c=e.skip,d=e.take;return l&&((l=s.default.normalizeSortingInfo(l)).keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(o||l)&&(o=s.default.normalizeSortingInfo(o||[]),l&&!l.keepInitialKeyOrder&&(o=h(l,o)),(0,r.each)(o,(function(e){t=t[e?"thenBy":"sortBy"](this.selector,this.desc,this.compare)}))),a&&(t=t.select(a)),l&&(t=u(t,l)),(d||c)&&(t=t.slice(c||0,d)),t}};e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.DataSource=void 0;var i=y(n(20)),o=n(3),r=n(6),a=n(5),s=n(2),l=y(n(51)),u=n(92),h=y(n(175)),c=n(118),d=y(n(69)),f=n(21),p=n(352),g=n(8),m=y(n(353)),v=n(93);function y(t){return t&&t.__esModule?t:{default:t}}var _=i.default.inherit({ctor:function(t){var e,n=this;t=(0,v.normalizeDataSourceOptions)(t),this._eventsStrategy=new c.EventsStrategy(this);var i=0!==t.pushAggregationTimeout?l.default.throttleChanges(this._onPush,(function(){return void 0===t.pushAggregationTimeout?5*n._changedTime:t.pushAggregationTimeout})):this._onPush;this._changedTime=0,this._onPushHandler=function(t){n._aggregationTimeoutId=i.call(n,t)},this._store=t.store,this._store.on("push",this._onPushHandler),this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=void 0!==t.pageIndex?t.pageIndex:0,this._pageSize=void 0!==t.pageSize?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._reshapeOnPush=null!==(e=t.reshapeOnPush)&&void 0!==e&&e,(0,a.each)(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(function(e,i){i in t&&n.on(i.substr(2,1).toLowerCase()+i.substr(3),t[i])})),this._operationManager=new m.default,this._init()},_init:function(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,(0,s.isDefined)(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose:function(){var t;this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),delete this._store,null===(t=this._delayedLoadTask)||void 0===t||t.abort(),this._operationManager.cancelAll(),this._disposed=!0},_extractLoadOptions:function(t){var e={},n=["sort","filter","select","group","requireTotalCount"],i=this._store._customLoadOptions();return i&&(n=n.concat(i)),(0,a.each)(n,(function(){e[this]=t[this]})),e},loadOptions:function(){return this._storeLoadOptions},items:function(){return this._items},pageIndex:function(t){if(!(0,s.isNumeric)(t))return this._pageIndex;this._pageIndex=t,this._isLastPage=!this._paginate},paginate:function(t){if(!(0,s.isBoolean)(t))return this._paginate;this._paginate!==t&&(this._paginate=t,this.pageIndex(0))},pageSize:function(t){if(!(0,s.isNumeric)(t))return this._pageSize;this._pageSize=t},isLastPage:function(){return this._isLastPage},generateStoreLoadOptionAccessor:function(t){var e=this;return function(n){var i=(0,v.normalizeStoreLoadOptionAccessorArguments)(n);if(void 0===i)return e._storeLoadOptions[t];e._storeLoadOptions[t]=i}},sort:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.generateStoreLoadOptionAccessor("sort")(e)},filter:function(){var t=(0,v.normalizeStoreLoadOptionAccessorArguments)(arguments);if(void 0===t)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=t,this.pageIndex(0)},group:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.generateStoreLoadOptionAccessor("group")(e)},select:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount:function(t){if(!(0,s.isBoolean)(t))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=t},searchValue:function(t){if(arguments.length<1)return this._searchValue;this._searchValue=t,this.pageIndex(0)},searchOperation:function(t){if(!(0,s.isString)(t))return this._searchOperation;this._searchOperation=t,this.pageIndex(0)},searchExpr:function(t){var e=arguments.length;if(0===e)return this._searchExpr;e>1&&(t=[].slice.call(arguments)),this._searchExpr=t,this.pageIndex(0)},store:function(){return this._store},key:function(){var t;return null===(t=this._store)||void 0===t?void 0:t.key()},totalCount:function(){return this._totalCount},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._loadingCount>0},beginLoading:function(){this._changeLoadingCount(1)},endLoading:function(){this._changeLoadingCount(-1)},_createLoadQueue:function(){return(0,p.create)()},_changeLoadingCount:function(t){var e=this.isLoading();this._loadingCount+=t;var n=this.isLoading();e^n&&this._eventsStrategy.fireEvent("loadingChanged",[n])},_scheduleLoadCallbacks:function(t){var e=this;this.beginLoading(),t.always((function(){e.endLoading()}))},_scheduleFailCallbacks:function(t){var e=this;t.fail((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n[0]!==v.CANCELED_TOKEN&&e._eventsStrategy.fireEvent("loadError",n)}))},_fireChanged:function(t){var e=new Date;this._eventsStrategy.fireEvent("changed",t),this._changedTime=new Date-e},_scheduleChangedCallbacks:function(t){var e=this;t.done((function(){return e._fireChanged()}))},loadSingle:function(t,e){var n=this,i=new g.Deferred,o=this.key(),r=this._store,a=this._createStoreLoadOptions(),l=function(t){!(0,s.isDefined)(t)||(0,f.isEmpty)(t)?i.reject(new d.default.errors.Error("E4009")):(Array.isArray(t)||(t=[t]),i.resolve(n._applyMapFunction(t)[0]))};this._scheduleFailCallbacks(i),arguments.length<2&&(e=t,t=o),delete a.skip,delete a.group,delete a.refresh,delete a.pageIndex,delete a.searchString;var u=function(){return r instanceof h.default&&!r._byKeyViaLoad()};return(t===o||u()?r.byKey(e,a):(a.take=1,a.filter=a.filter?[a.filter,[t,e]]:[t,e],r.load(a))).fail(i.reject).done(l),i.promise()},load:function(){var t=this,e=new g.Deferred,n=function(){if(!t._disposed&&(0,v.isPending)(e))return t._loadFromStore(i,e)};this._scheduleLoadCallbacks(e),this._scheduleFailCallbacks(e),this._scheduleChangedCallbacks(e);var i=this._createLoadOperation(e);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add((function(){return"number"===typeof i.delay?t._delayedLoadTask=(0,r.executeAsync)(n,i.delay):n(),e.promise()})),e.promise({operationId:i.operationId})},_onPush:function(t){var e=this;if(this._reshapeOnPush)this.load();else{this._eventsStrategy.fireEvent("changing",[{changes:t}]);var n=this.group(),i=this.items(),o=0,r=this.paginate()||n?t.filter((function(t){return"update"===t.type})):t;n&&(o=Array.isArray(n)?n.length:1),this._mapFunc&&r.forEach((function(t){"insert"===t.type&&(t.data=e._mapFunc(t.data))})),(0,u.applyBatch)({keyInfo:this.store(),data:i,changes:r,groupCount:o,useInsertIndex:!0}),this._fireChanged([{changes:t}])}},_createLoadOperation:function(t){var e=this,n=this._operationManager.add(t),i=this._createStoreLoadOptions();return t.always((function(){return e._operationManager.remove(n)})),{operationId:n,storeLoadOptions:i}},reload:function(){var t=this.store();return t instanceof h.default&&t.clearRawDataCache(),this._init(),this.load()},cancel:function(t){return this._operationManager.cancel(t)},cancelAll:function(){return this._operationManager.cancelAll()},_addSearchOptions:function(t){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(t):(t.searchOperation=this._searchOperation,t.searchValue=this._searchValue,t.searchExpr=this._searchExpr))},_createStoreLoadOptions:function(){var t=(0,o.extend)({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter:function(t){var e=this._searchValue,n=this._searchOperation,i=this._searchExpr,o=[];e&&(i||(i="this"),Array.isArray(i)||(i=[i]),(0,a.each)(i,(function(t,i){o.length&&o.push("or"),o.push([i,n,e])})),t.filter?t.filter=[o,t.filter]:t.filter=o)},_loadFromStore:function(t,e){var n=this,i=function(i,r){if(!n._disposed&&(0,v.isPending)(e)){var a=(0,o.extend)((0,v.normalizeLoadResult)(i,r),t);n._eventsStrategy.fireEvent("customizeLoadResult",[a]),(0,g.when)(a.data).done((function(t){a.data=t,n._processStoreLoadResult(a,e)})).fail(e.reject)}};return t.data?(new g.Deferred).resolve(t.data).done(i):this.store().load(t.storeLoadOptions).done(i).fail(e.reject)},_processStoreLoadResult:function(t,e){var n=this,i=t.data,o=t.extra,r=t.storeLoadOptions,a=function(){return n._isLoaded=!0,n._totalCount=isFinite(o.totalCount)?o.totalCount:-1,e.resolve(i,o)};this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),(0,s.isPlainObject)(o)||(o={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),r.requireTotalCount&&!isFinite(o.totalCount)?n.store().totalCount(r).done((function(t){o.totalCount=t,a()})).fail(e.reject):a())},_applyMapFunction:function(t){return this._mapFunc?(0,v.mapDataRespectingGrouping)(t,this._mapFunc,this.group()):t},_applyPostProcessFunction:function(t){return this._postProcessFunc?this._postProcessFunc(t):t},on:function(t,e){return this._eventsStrategy.on(t,e),this},off:function(t,e){return this._eventsStrategy.off(t,e),this}});e.DataSource=_},function(t,e,n){"use strict";e.getImageContainer=e.getImageSourceType=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i};var r=function(t){return!(!t||"string"!==typeof t)&&(/^\s*<svg[^>]*>(.|\r\n|\r|\n)*?<\/svg>\s*$/i.test(t)?"svg":/data:.*base64|\.|[^<\s]\//.test(t)?"image":/^[\w-_]+$/.test(t)?"dxIcon":!!/^\s?([\w-_]\s?)+$/.test(t)&&"fontIcon")};e.getImageSourceType=r;e.getImageContainer=function(t){switch(r(t)){case"image":return(0,o.default)("<img>").attr("src",t).addClass("dx-icon");case"fontIcon":return(0,o.default)("<i>").addClass("".concat("dx-icon"," ").concat(t));case"dxIcon":return(0,o.default)("<i>").addClass("".concat("dx-icon"," ").concat("dx-icon","-").concat(t));case"svg":return(0,o.default)("<i>").addClass("".concat("dx-icon"," ").concat("dx-svg-icon")).append(t);default:return null}}},function(t,e,n){"use strict";e.default=void 0;var i=s(n(1)),o=s(n(20)),r=n(5),a=n(115);function s(t){return t&&t.__esModule?t:{default:t}}var l=o.default.inherit({ctor:function(t,e,n){this._$element=t,this._options=e,this._rawData=n,(0,a.attachInstanceToElement)(t,this,this._dispose),this._render()},_render:function(){var t=(0,i.default)("<div>").addClass("dx-item-content-placeholder");this._$element.append(t),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var n=this._rawData,i=this._options.fieldGetter(t),o=function(t,e,n){var i=function(){var t;return function(e){t!==e&&(n(e,t),t=e)}}();return{dispose:t(e,i),force:function(){i(e())}}}(this._options.watchMethod(),(function(){return i(n)}),function(t,n){this._dirty=!0,e(t,n)}.bind(this));this._watchers.push(o)},setDataField:function(){if(this._dirty=!1,(0,r.each)(this._watchers,(function(t,e){e.force()})),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass("dx-state-disabled",!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass("dx-state-invisible",void 0!==t&&!t)},_dispose:function(){(0,r.each)(this._watchers,(function(t,e){e.dispose()}))}});l.getInstance=function(t){return(0,a.getInstanceByElement)(t,this)};var u=l;e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(13),o=a(n(136)),r=a(n(105));function a(t){return t&&t.__esModule?t:{default:t}}var s=Math.abs,l=o.default.inherit({start:function(t){this._startEventData=(0,i.eventData)(t),this._startTimer(t)},_startTimer:function(t){var e="timeout"in this?this.timeout:750;this._holdTimer=setTimeout(function(){this._requestAccept(t),this._fireEvent("dxhold",t,{target:t.target}),this._forgetAccept()}.bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(t){var e=(0,i.eventDelta)(this._startEventData,(0,i.eventData)(t));return s(e.x)>5||s(e.y)>5},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});(0,r.default)({emitter:l,bubble:!0,events:["dxhold"]});var u={name:"dxhold"};e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=u(n(7)),r=n(6),a=u(n(20)),s=n(182),l=n(13);function u(t){return t&&t.__esModule?t:{default:t}}var h=(0,l.addNamespace)(s.start,"dxListEditDecorator"),c=(0,l.addNamespace)(s.swipe,"dxListEditDecorator"),d=(0,l.addNamespace)(s.end,"dxListEditDecorator"),f=a.default.inherit({ctor:function(t){this._list=t,this._init()},_init:r.noop,_shouldHandleSwipe:!1,_attachSwipeEvent:function(t){var e={itemSizeFunc:function(){return this._clearSwipeCache&&(this._itemWidthCache=this._list.$element().width(),this._clearSwipeCache=!1),this._itemWidthCache}.bind(this)};o.default.on(t.$itemElement,h,e,this._itemSwipeStartHandler.bind(this)),o.default.on(t.$itemElement,c,this._itemSwipeUpdateHandler.bind(this)),o.default.on(t.$itemElement,d,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(t){var e=(0,i.default)(t.currentTarget);e.is(".dx-state-disabled, .dx-state-disabled *")?t.cancel=!0:(clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(e,t))},_itemSwipeUpdateHandler:function(t){var e=(0,i.default)(t.currentTarget);this._swipeUpdateHandler(e,t)},_itemSwipeEndHandler:function(t){var e=(0,i.default)(t.currentTarget);this._swipeEndHandler(e,t),this._clearSwipeCache=!0},beforeBag:r.noop,afterBag:r.noop,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(t){this._shouldHandleSwipe&&(this._attachSwipeEvent(t),this._clearSwipeCache=!0)},afterRender:r.noop,handleClick:r.noop,handleKeyboardEvents:r.noop,handleEnterPressing:r.noop,handleContextMenu:r.noop,_swipeStartHandler:r.noop,_swipeUpdateHandler:r.noop,_swipeEndHandler:r.noop,visibilityChange:r.noop,getExcludedSelectors:r.noop,dispose:r.noop});e.default=f,t.exports=e.default},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;var r=n(4),a=n(0),s=function(t){function e(e){var n=t.call(this,e)||this;return n.modelChangedListener=null,n.divRef=Object(a.createRef)(),n}return o(e,t),e.prototype.getDiagram=function(){return null===this.divRef.current?null:r.Diagram.fromDiv(this.divRef.current)},e.prototype.componentDidMount=function(){var t=this;if(null!==this.divRef.current){var e=this.props.initDiagram();e.div=this.divRef.current,this.modelChangedListener=function(e){if(e.isTransactionFinished){var n=e.model.toIncrementalData(e);null!==n&&t.props.onModelChange(n)}},e.addModelChangedListener(this.modelChangedListener),e.delayInitialization((function(){e.model.commit((function(e){e.mergeNodeDataArray(t.props.nodeDataArray),void 0!==t.props.linkDataArray&&e instanceof r.GraphLinksModel&&e.mergeLinkDataArray(t.props.linkDataArray),void 0!==t.props.modelData&&e.assignAllDataProperties(e.modelData,t.props.modelData)}),"gojs-react init merge")}))}},e.prototype.componentWillUnmount=function(){var t=this.getDiagram();null!==t&&(t.div=null,null!==this.modelChangedListener&&(t.removeModelChangedListener(this.modelChangedListener),this.modelChangedListener=null))},e.prototype.shouldComponentUpdate=function(t,e){return!t.skipsDiagramUpdate&&(t.nodeDataArray!==this.props.nodeDataArray||t.linkDataArray!==this.props.linkDataArray||t.modelData!==this.props.modelData)},e.prototype.componentDidUpdate=function(t,e){var n=this.getDiagram();if(null!==n){var i=n.model;i.startTransaction("update data"),i.mergeNodeDataArray(this.props.nodeDataArray),void 0!==this.props.linkDataArray&&i instanceof r.GraphLinksModel&&i.mergeLinkDataArray(this.props.linkDataArray),void 0!==this.props.modelData&&i.assignAllDataProperties(i.modelData,this.props.modelData),i.commitTransaction("update data")}},e.prototype.render=function(){return Object(a.createElement)("div",{ref:this.divRef,className:this.props.divClassName})},e}(a.Component);(function(t){function e(e){var n=t.call(this,e)||this;return n.divRef=Object(a.createRef)(),n}o(e,t),e.prototype.getOverview=function(){return null===this.divRef.current?null:r.Diagram.fromDiv(this.divRef.current)},e.prototype.componentDidMount=function(){var t;null!==this.divRef.current&&(void 0!==this.props.initOverview?t=this.props.initOverview():(t=new r.Overview).contentAlignment=r.Spot.Center,t.div=this.divRef.current,t.observed=this.props.observedDiagram)},e.prototype.componentWillUnmount=function(){var t=this.getOverview();null!==t&&(t.div=null,t.observed=null)},e.prototype.shouldComponentUpdate=function(t,e){return t.observedDiagram!==this.props.observedDiagram},e.prototype.componentDidUpdate=function(t,e){var n=this.getOverview();null!==n&&(n.observed=this.props.observedDiagram)},e.prototype.render=function(){return Object(a.createElement)("div",{ref:this.divRef,className:this.props.divClassName})}})(a.Component),function(t){function e(e){var n=t.call(this,e)||this;return n.divRef=Object(a.createRef)(),n}o(e,t),e.prototype.getPalette=function(){return null===this.divRef.current?null:r.Diagram.fromDiv(this.divRef.current)},e.prototype.componentDidMount=function(){var t=this;if(null!==this.divRef.current){var e=this.props.initPalette();e.div=this.divRef.current,e.delayInitialization((function(){e.model.commit((function(e){e.mergeNodeDataArray(t.props.nodeDataArray),void 0!==t.props.linkDataArray&&e instanceof r.GraphLinksModel&&e.mergeLinkDataArray(t.props.linkDataArray),void 0!==t.props.modelData&&e.assignAllDataProperties(e.modelData,t.props.modelData)}),null)}))}},e.prototype.componentWillUnmount=function(){var t=this.getPalette();null!==t&&(t.div=null)},e.prototype.shouldComponentUpdate=function(t,e){return t.nodeDataArray!==this.props.nodeDataArray||t.linkDataArray!==this.props.linkDataArray||t.modelData!==this.props.modelData},e.prototype.componentDidUpdate=function(t,e){var n=this.getPalette();if(null!==n){var i=n.model;i.startTransaction("update data"),i.mergeNodeDataArray(this.props.nodeDataArray),void 0!==this.props.linkDataArray&&i instanceof r.GraphLinksModel&&i.mergeLinkDataArray(this.props.linkDataArray),void 0!==this.props.modelData&&i.assignAllDataProperties(i.modelData,this.props.modelData),i.commitTransaction("update data")}},e.prototype.render=function(){return Object(a.createElement)("div",{ref:this.divRef,className:this.props.divClassName})}}(a.Component)},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"===typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"===typeof t},e.isString=function(t){return"string"===typeof t},e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"===typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"===typeof t},e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=t.isBuffer}).call(this,n(130).Buffer)},function(t,e,n){"use strict";e.deepExtendArraySafe=e.orderEach=e.clone=void 0;var i,o=n(2),r=(i=n(86))&&i.__esModule?i:{default:i};var a=function(){function t(){}return function(e){return t.prototype=e,new t}}();e.clone=a;e.orderEach=function(t,e){var n,i,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n);for(r.sort((function(t,e){var n=(0,o.isNumeric)(t),i=(0,o.isNumeric)(e);return n&&i?t-e:n&&!i?-1:!n&&i?1:t<e?-1:t>e?1:0})),i=0;i<r.length;i++)e(n=r[i],t[n])};var s=function(t,e,n,i){!i&&r.default.isWrapped(t[e])?r.default.assign(t[e],n):t[e]=n};e.deepExtendArraySafe=function t(e,n,i,r){var a,l;for(var u in n)if(a=e[u],l=n[u],"__proto__"!==u&&e!==l){if((0,o.isPlainObject)(l))l=t((i?(0,o.isObject)(a):(0,o.isPlainObject)(a))?a:{},l,i,r);void 0!==l&&a!==l&&s(e,u,l,r)}return e}},function(t,e,n){"use strict";e.attachInstanceToElement=function(t,e,n){var r=(0,i.data)(t.get(0)),a=c(e.constructor);r[a]=e,n&&o.default.one(t,s.default,(function(){n.call(e)}));r.dxComponents||(r.dxComponents=[]);r.dxComponents.push(a)},e.getInstanceByElement=function(t,e){var n=c(e);return(0,i.data)(t.get(0),n)},e.name=void 0;var i=n(54),o=l(n(7)),r=l(n(163)),a=n(2),s=l(n(116));function l(t){return t&&t.__esModule?t:{default:t}}var u=new r.default,h=0,c=function(t,e){if(!(0,a.isDefined)(e)){if(!u.has(t)){var n="dxPrivateComponent"+h++;return u.set(t,n),n}return u.get(t)}u.set(t,e)};e.name=c},function(t,e,n){"use strict";e.default=void 0;var i=s(n(1)),o=n(54),r=s(n(7)),a=s(n(78));function s(t){return t&&t.__esModule?t:{default:t}}(0,o.beforeCleanData)((function(t){t=[].slice.call(t);for(var e=0;e<t.length;e++){var n=(0,i.default)(t[e]);n.prop("dxRemoveEvent")&&(n[0].dxRemoveEvent=null,r.default.triggerHandler(n,"dxremove"))}})),(0,a.default)("dxremove",{noBubble:!0,setup:function(t){(0,i.default)(t).prop("dxRemoveEvent",!0)}});e.default="dxremove",t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},r=n(14),a=n(2),s=n(5);function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=n||{},this._action=e,this._context=n.context||(0,r.getWindow)(),this._beforeExecute=n.beforeExecute,this._afterExecute=n.afterExecute,this._component=n.component,this._validatingTargetName=n.validatingTargetName;var i=this._excludeValidators={};if(n.excludeValidators)for(var o=0;o<n.excludeValidators.length;o++)i[n.excludeValidators[o]]=!0}var e,n,i;return e=t,i=[{key:"registerExecutor",value:function(e,n){(0,a.isPlainObject)(e)?(0,s.each)(e,t.registerExecutor):t.executors[e]=n}},{key:"unregisterExecutor",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(0,s.each)(n,(function(){delete t.executors[this]}))}}],(n=[{key:"execute",value:function(){var t={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},e=this._beforeExecute,n=this._afterExecute,i=t.args[0]||{};if(this._validateAction(t)&&(null===e||void 0===e||e.call(this._context,t),!t.cancel)){var o=this._executeAction(t);if(!i.cancel)return null===n||void 0===n||n.call(this._context,t),o}}},{key:"_validateAction",value:function(e){var n=this._excludeValidators,i=t.executors;for(var o in i)if(!n[o]){var r,a=i[o];if(null===(r=a.validate)||void 0===r||r.call(a,e),e.cancel)return!1}return!0}},{key:"_executeAction",value:function(e){var n,i=t.executors;for(var o in i){var r,a=i[o];if(null===(r=a.execute)||void 0===r||r.call(a,e),e.handled){n=e.result;break}}return n}}])&&l(e.prototype,n),i&&l(e,i),t}();e.default=u,u.executors={};var h=function(t){return function(e){if(e.args.length){var n=e.args[0],i=n[e.validatingTargetName]||n.element;i&&t((0,o.default)(i))&&(e.cancel=!0)}}};u.registerExecutor({disabled:{validate:h((function(t){return t.is(".dx-state-disabled, .dx-state-disabled *")}))},readOnly:{validate:h((function(t){return t.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)")}))},undefined:{execute:function(t){t.action||(t.result=void 0,t.handled=!0)}},func:{execute:function(t){(0,a.isFunction)(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}}}),t.exports=e.default},function(t,e,n){"use strict";e.EventsStrategy=void 0;var i,o=(i=n(38))&&i.__esModule?i:{default:i},r=n(5),a=n(2);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._events={},this._owner=e}var e,n,i;return e=t,i=[{key:"create",value:function(e,n){return n?(0,a.isFunction)(n)?n(e):n:new t(e)}}],(n=[{key:"hasEvent",value:function(t){var e=this._events[t];return!!e&&e.has()}},{key:"fireEvent",value:function(t,e){var n=this._events[t];return n&&n.fireWith(this._owner,e),this._owner}},{key:"on",value:function(t,e){var n=this;if((0,a.isPlainObject)(t))(0,r.each)(t,(function(t,e){n.on(t,e)}));else{var i=this._events[t];i||(i=(0,o.default)(),this._events[t]=i),(i.originalAdd||i.add).call(i,e)}}},{key:"off",value:function(t,e){var n=this._events[t];n&&((0,a.isFunction)(e)?n.remove(e):n.empty())}},{key:"dispose",value:function(){(0,r.each)(this._events,(function(t,e){e.empty()}))}}])&&s(e.prototype,n),i&&s(e,i),t}();e.EventsStrategy=l},function(t,e,n){"use strict";e.EmptyTemplate=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i};function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,t);var e,n,i,r=u(h);function h(){return a(this,h),r.apply(this,arguments)}return e=h,(n=[{key:"_renderCore",value:function(){return(0,o.default)()}}])&&s(e.prototype,n),i&&s(e,i),h}(n(104).TemplateBase);e.EmptyTemplate=d},function(t,e,n){"use strict";e.keyboard=e.click=e.dxClick=e.focus=e.visibility=e.hover=e.resize=e.active=void 0;var i=s(n(16)),o=s(n(7)),r=s(n(329)),a=n(13);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return e?(0,a.addNamespace)(t,e):t}function u(t,e){return"function"===typeof t?t(e):t.execute(e)}var h={on:function(t,e,n,i){var r=i.selector,a=i.showTimeout,s=i.hideTimeout,h=i.namespace;o.default.on(t,l("dxactive",h),r,{timeout:a},(function(t){return u(e,{event:t,element:t.currentTarget})})),o.default.on(t,l("dxinactive",h),r,{timeout:s},(function(t){return u(n,{event:t,element:t.currentTarget})}))},off:function(t,e){var n=e.namespace,i=e.selector;o.default.off(t,l("dxactive",n),i),o.default.off(t,l("dxinactive",n),i)}};e.active=h;var c={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.namespace;o.default.on(t,l("dxresize",i),e)},off:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.namespace;o.default.off(t,l("dxresize",n))}};e.resize=c;var d={on:function(t,e,n,i){var r=i.selector,a=i.namespace;o.default.on(t,l("dxhoverend",a),r,(function(t){return n(t)})),o.default.on(t,l("dxhoverstart",a),r,(function(t){return u(e,{element:t.target,event:t})}))},off:function(t,e){var n=e.selector,i=e.namespace;o.default.off(t,l("dxhoverstart",i),n),o.default.off(t,l("dxhoverend",i),n)}};e.hover=d;var f={on:function(t,e,n,i){var r=i.namespace;o.default.on(t,l("dxhiding",r),n),o.default.on(t,l("dxshown",r),e)},off:function(t,e){var n=e.namespace;o.default.off(t,l("dxhiding",n)),o.default.off(t,l("dxshown",n))}};e.visibility=f;var p={on:function(t,e,n,r){var a=r.namespace,s=r.isFocusable;o.default.on(t,l("focusin",a),e),o.default.on(t,l("focusout",a),n),i.default.hasDocumentProperty("onbeforeactivate")&&o.default.on(t,l("beforeactivate",a),(function(t){return s(null,t.target)||t.preventDefault()}))},off:function(t,e){var n=e.namespace;o.default.off(t,l("focusin",n)),o.default.off(t,l("focusout",n)),i.default.hasDocumentProperty("onbeforeactivate")&&o.default.off(t,l("beforeactivate",n))},trigger:function(t){return o.default.trigger(t,"focus")}};e.focus=p;var g={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.namespace;o.default.on(t,l("dxclick",i),e)},off:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.namespace;o.default.off(t,l("dxclick",n))}};e.dxClick=g;var m={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.namespace;o.default.on(t,l("click",i),e)},off:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.namespace;o.default.off(t,l("click",n))}};e.click=m;var v=0,y={},_={on:function(t,e,n){var i="keyboardProcessorId".concat(v++);return y[i]=new r.default({element:t,focusTarget:e,handler:n}),i},off:function(t){t&&y[t]&&(y[t].dispose(),delete y[t])},_getProcessor:function(t){return y[t]}};e.keyboard=_},function(t,e,n){"use strict";e.compare=function(t,e,n){function i(t){return"string"===typeof t?t.split("."):"number"===typeof t?[t]:t}t=i(t),e=i(e);var o=Math.max(t.length,e.length);isFinite(n)&&(o=Math.min(o,n));for(var r=0;r<o;r++){var a=parseInt(t[r]||0,10),s=parseInt(e[r]||0,10);if(a<s)return-1;if(a>s)return 1}return 0}},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=n(21),r=n(5),a=["year","month","day"],s=["year","month","day","hour","minute"],l=function(t){return"date"===t||"datetime"===t},u=function(t){var e,n=[],r=["year","month","day","hour","minute","second"],u=t.headerFilter&&t.headerFilter.groupInterval,h="quarter"===u?"month":u;return l(t.dataType)&&null!==u?(n="datetime"===t.dataType?s:a,(e=(0,o.inArray)(h,r))>=0?((n=r.slice(0,e)).push(u),n):n):(0,i.isDefined)(u)?Array.isArray(u)?u:[u]:void 0},h=function(){var t=function(t,e){var n=t.dataField||t.selector;return"search"===e&&(n=t.displayField||t.calculateDisplayValue||n),n},e=function(e,n){var o,r,a,s,u=t(this,n);if(Array.isArray(e)&&(0,i.isDefined)(e[0])&&(0,i.isDefined)(e[1]))return r=[u,">=",e[0]],a=[u,"<=",e[1]],l(this.dataType)&&(s=e[1]).getHours()+s.getMinutes()+s.getSeconds()+s.getMilliseconds()<1&&(o=new Date(e[1].getTime()),"date"===this.dataType&&o.setDate(e[1].getDate()+1),a=[u,"<",o]),[r,"and",a]},n=function(e,n,o){var a,s,l,h,c=(h=e,(0,i.isDate)(h)?[h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds()]:(0,r.map)((""+h).split("/"),(function(t,e){return 1===e?Number(t)-1:Number(t)}))),d=t(this,o);switch("headerFilter"===o?l=u(this)[c.length-1]:"datetime"===this.dataType&&(l="minute"),l){case"year":a=new Date(c[0],0,1),s=new Date(c[0]+1,0,1);break;case"month":a=new Date(c[0],c[1],1),s=new Date(c[0],c[1]+1,1);break;case"quarter":a=new Date(c[0],3*c[1],1),s=new Date(c[0],3*c[1]+3,1);break;case"hour":a=new Date(c[0],c[1],c[2],c[3]),s=new Date(c[0],c[1],c[2],c[3]+1);break;case"minute":a=new Date(c[0],c[1],c[2],c[3],c[4]),s=new Date(c[0],c[1],c[2],c[3],c[4]+1);break;case"second":a=new Date(c[0],c[1],c[2],c[3],c[4],c[5]),s=new Date(c[0],c[1],c[2],c[3],c[4],c[5]+1);break;default:a=new Date(c[0],c[1],c[2]),s=new Date(c[0],c[1],c[2]+1)}switch(n){case"<":return[d,"<",a];case"<=":return[d,"<",s];case">":return[d,">=",s];case">=":return[d,">=",a];case"<>":return[[d,"<",a],"or",[d,">=",s]];default:return[[d,">=",a],"and",[d,"<",s]]}},o=function(e,n,o){var r=t(this,o),a=u(this);if("headerFilter"===o&&a&&(0,i.isDefined)(e)){var s=(""+e).split("/"),l=Number(s[s.length-1]);return[[r,">=",l],"and",[r,"<",l+a[s.length-1]]]}return[r,n||"=",e]};return{defaultCalculateFilterExpression:function(r,a,s){var u=this,h=t(u,s),c=u.calculateDisplayValue&&"search"===s,d=c&&u.lookup&&u.lookup.dataType||u.dataType,f=null;if("headerFilter"!==s&&"filterBuilder"!==s||null!==r)if("string"!==d||u.lookup&&!c){if("between"===a)return e.apply(u,[r,s]);if(l(d)&&(0,i.isDefined)(r))return n.apply(u,arguments);if("number"===d)return o.apply(u,arguments);"object"!==d&&(f=[h,a||"=",r])}else f=[h,a||"contains",r];else f=[h,a||"=",null],"string"===d&&(f=[f,"="===a?"or":"and",[h,a||"=",""]]);return f},getGroupInterval:u}}();e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=a(n(64)),o=a(n(333)),r=a(n(334));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,i.default)({locale:function(){var t="en";return function(e){if(!e)return t;t=e}}(),getValueByClosestLocale:function(t){for(var e,n=this.locale(),i=t(n);!i&&!e;)(n=(0,r.default)(o.default,n))?i=t(n):e=!0;return void 0===i&&"en"!==n?t("en"):i}});e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(8),o=n(14),r=(0,o.hasWindow)()?(0,o.getWindow)().Promise:Promise;r||((r=function(t){var e=new i.Deferred;return t(e.resolve.bind(this),e.reject.bind(this)),e.promise()}).resolve=function(t){return(new i.Deferred).resolve(t).promise()},r.reject=function(t){return(new i.Deferred).reject(t).promise()},r.all=function(t){return i.when.apply(this,t).then((function(){return[].slice.call(arguments)}))});var a=r;e.default=a,t.exports=e.default},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.ColumnsView=void 0;var o=k(n(1)),r=k(n(16)),a=n(14),s=k(n(7)),l=n(54),u=k(n(33)),h=n(30),c=n(173),d=k(n(24)),f=n(6),p=n(88),g=n(27),m=n(2),v=n(34),y=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=S();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=o?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=t[r]}n.default=t,e&&e.set(t,n);return n}(n(5)),_=n(3),b=k(n(35)),x=k(n(31)),w=k(n(349)),C=n(8);function S(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return S=function(){return t},t}function k(t){return t&&t.__esModule?t:{default:t}}var E={render:function(t){t.container.append(t.content)}},I=function(t){return"auto"===t?"":(0,m.isNumeric)(t)?t+"px":t},T=function(t,e,n){t.style.width=t.style.maxWidth="auto"===e.width?"":n},D=b.default.View.inherit(w.default).inherit({_createScrollableOptions:function(){var t=this.option("scrolling"),e=this.option("scrolling.useNative"),n=(0,_.extend)({pushBackValue:0},t,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return void 0===e&&(e=!0),"auto"===e?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!e,n.useSimulatedScrollbar=!e),n},_updateCell:function(t,e){e.rowType&&this._cellPrepared(t,e)},_createCell:function(t){var e=t.column,n=e.alignment||(0,v.getDefaultAlignment)(this.option("rtlEnabled")),i=r.default.createElement("td");i.style.textAlign=n;var a=(0,o.default)(i);return"data"===t.rowType&&e.headerId&&!e.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",e.headerId,a),e.cssClass&&a.addClass(e.cssClass),"expand"===e.command&&(a.addClass(e.cssClass),a.addClass(this.addWidgetPrefix("group-space"))),e.colspan>1?a.attr("colSpan",e.colspan):e.isBand||"auto"===e.visibleWidth||this.option("legacyRendering")||!this.option("columnAutoWidth")||((e.width||e.minWidth)&&(i.style.minWidth=I(e.minWidth||e.width)),e.width&&T(i,e,I(e.width))),a},_createRow:function(t){var e=(0,o.default)("<tr>").addClass("dx-row");return this.setAria("role","row",e),e},_isAltRow:function(t){return t&&t.dataIndex%2===1},_createTable:function(t,e){var n=this,i=(0,o.default)("<table>").addClass(n.addWidgetPrefix("table")).addClass(n.addWidgetPrefix("table-fixed"));if(t&&!e?(i.append(n._createColGroup(t)),d.default.safari&&i.append((0,o.default)("<thead>").append("<tr>")),n.setAria("role","presentation",i)):n.setAria("hidden",!0,i),this.setAria("role","presentation",(0,o.default)("<tbody>").appendTo(i)),e)return i;d.default.mozilla&&s.default.on(i,"mousedown","td",(function(t){t.ctrlKey&&t.preventDefault()})),n.option("cellHintEnabled")&&s.default.on(i,"mousemove",".dx-row > td",this.createAction((function(t){var e=t.event,i=(0,o.default)(e.target),r=(0,o.default)(e.currentTarget),a=r.parent(),s=a.hasClass("dx-data-row"),l=a.hasClass("dx-header-row"),u=a.hasClass("dx-group-row"),h=a.hasClass("dx-master-detail-row"),c=a.hasClass(n.addWidgetPrefix("filter-row")),f=n._columnsController.getVisibleColumns(),p=a.data("options"),g=r.index(),v=p&&p.cells&&p.cells[g],y=v?v.column:f[g],_=d.default.msie?1:0;h||c||s&&(!s||!y||y.cellTemplate)||l&&(!l||!y||y.headerCellTemplate)||u&&(!u||!y||void 0!==y.groupIndex&&y.groupCellTemplate)||(i.data("dxCellHintVisible")&&(i.removeAttr("title"),i.data("dxCellHintVisible",!1)),i[0].scrollWidth-i[0].clientWidth-_>0&&!(0,m.isDefined)(i.attr("title"))&&(i.attr("title",i.text()),i.data("dxCellHintVisible",!0)))})));var r=function(t){var e=(0,o.default)(t.currentTarget),i=(0,o.default)(t.target).closest(".dx-field-item-content"),r=e.parent().data("options"),a=r&&r.cells&&r.cells[e.index()];if(e.closest("table").is(t.delegateTarget)){var s=(0,_.extend)({},a,{cellElement:(0,g.getPublicElement)(e),event:t,eventType:t.type});if(i.length){var l=i.data("dx-form-item");l.column&&(s.column=l.column,s.columnIndex=n._columnsController.getVisibleIndex(s.column.index))}return s}};return s.default.on(i,"mouseover",".dx-row > td",(function(t){var e=r(t);e&&n.executeAction("onCellHoverChanged",e)})),s.default.on(i,"mouseout",".dx-row > td",(function(t){var e=r(t);e&&n.executeAction("onCellHoverChanged",e)})),s.default.on(i,h.name,".dx-row > td",(function(t){var e=r(t);e&&n.executeAction("onCellClick",e)})),s.default.on(i,c.name,".dx-row > td",(function(t){var e=r(t);e&&n.executeAction("onCellDblClick",e)})),function(t,e){var n,i,r;function a(t){return setTimeout((function(){n=i=null}),t)}s.default.on(e,"touchstart touchend",".dx-row",(function(t){clearTimeout(r),"touchstart"===t.type?(n=t.target,i=t.currentTarget,r=a(1e3)):r=a()})),s.default.on(e,[h.name,c.name,u.default.down].join(" "),".dx-row",{useNative:t._isNativeClick()},t.createAction((function(e){var r=e.event;n&&(r.target=n,r.currentTarget=i),(0,o.default)(r.target).closest("a").length||(e.rowIndex=t.getRowIndex(r.currentTarget),e.rowIndex>=0&&(e.rowElement=(0,g.getPublicElement)((0,o.default)(r.currentTarget)),e.columns=t.getColumns(),r.type===u.default.down?t._rowPointerDown(e):r.type===h.name?t._rowClick(e):t._rowDblClick(e)))})))}(n,i),i},_isNativeClick:f.noop,_rowPointerDown:f.noop,_rowClick:f.noop,_rowDblClick:f.noop,_createColGroup:function(t){for(var e=(0,o.default)("<colgroup>"),n=0;n<t.length;n++)for(var i=t[n].colspan||1,r=0;r<i;r++)e.append(this._createCol(t[n]));return e},_createCol:function(t){var e=t.visibleWidth||t.width;"adaptiveHidden"===e&&(e="0.0001px");var n=(0,o.default)("<col>");return(0,p.setWidth)(n,e),n},renderDelayedTemplates:function(){var t=this._delayedTemplates,e=t.filter((function(t){return!t.async})),n=t.filter((function(t){return t.async}));this._delayedTemplates=[],this._renderDelayedTemplatesCore(e),this._renderDelayedTemplatesCoreAsync(n)},_renderDelayedTemplatesCoreAsync:function(t){var e=this;t.length&&(0,a.getWindow)().setTimeout((function(){e._renderDelayedTemplatesCore(t,!0)}))},_renderDelayedTemplatesCore:function(t,e){for(var n=new Date;t.length;){var i=t.shift(),a=i.options,s=r.default.getDocument();if(e&&!(0,o.default)(a.container).closest(s).length||i.template.render(a),e&&new Date-n>30){this._renderDelayedTemplatesCoreAsync(t);break}}!t.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()},_processTemplate:function(t){var e;if(t&&t.render&&!(0,m.isRenderer)(t))e={allowRenderToDetachedContainer:t.allowRenderToDetachedContainer,render:function(e){t.render(e.container,e.model),e.deferred&&e.deferred.resolve()}};else if((0,m.isFunction)(t))e={render:function(e){var n=t((0,g.getPublicElement)(e.container),e.model);n&&(n.nodeType||(0,m.isRenderer)(n))&&e.container.append(n),e.deferred&&e.deferred.resolve()}};else{var n=(0,m.isString)(t)?t:(0,o.default)(t).attr("id");n?(this._templatesCache[n]||(this._templatesCache[n]=this.getTemplate(t)),e=this._templatesCache[n]):e=this.getTemplate(t)}return e},renderTemplate:function(t,e,n,i){var o=this._processTemplate(e,n),r=n.column,a="data"===n.rowType,s=new C.Deferred,l={container:t,model:n,deferred:s,onRendered:function(){s.resolve()}};if(o){n.component=this.component;var u=r&&(r.renderAsync&&a||this.option("renderAsync")&&(!1!==r.renderAsync&&(r.command||r.showEditorAlways)&&a||"filter"===n.rowType));!o.allowRenderToDetachedContainer&&!i||u?this._delayedTemplates.push({template:o,options:l,async:u}):o.render(l)}else s.reject();return s.promise()},_getBodies:function(t){return(0,o.default)(t).children("tbody").not(".dx-header").not(".dx-footer")},_wrapRowIfNeed:function(t,e){var n=this.option("rowTemplate")&&this._getBodies(this._tableElement||t);if(n&&n.filter(".dx-row").length){var i=(0,o.default)("<tbody>").addClass(e.attr("class"));return this.setAria("role","presentation",i),i.append(e)}return e},_appendRow:function(t,e,n){(n=n||E).render({content:e,container:t})},_resizeCore:function(){var t=this._scrollLeft;t>=0&&(this._scrollLeft=0,this.scrollTo({left:t}))},_renderCore:function(t){var e=this.element().parent();e&&!e.parent().length||this.renderDelayedTemplates(t)},_renderTable:function(t){(t=t||{}).columns=this._columnsController.getVisibleColumns();var e=t.change&&t.change.changeType,n=this._createTable(t.columns,"append"===e||"prepend"===e||"update"===e);return this._renderRows(n,t),n},_renderRows:function(t,e){for(var n=this._getRows(e.change),i=e.change&&e.change.columnIndices||[],o=e.change&&e.change.changeTypes||[],r=0;r<n.length;r++)this._renderRow(t,(0,_.extend)({row:n[r],columnIndices:i[r],changeType:o[r]},e))},_renderRow:function(t,e){e.columnIndices||(e.row.cells=[]);var n=this._createRow(e.row),i=this._wrapRowIfNeed(t,n);"remove"!==e.changeType&&this._renderCells(n,e),this._appendRow(t,i);var o=(0,_.extend)({columns:e.columns},e.row);this._addWatchMethod(o,e.row),this._rowPrepared(i,o,e.row)},_needRenderCell:function(t,e){return!e||e.indexOf(t)>=0},_renderCells:function(t,e){for(var n=0,i=e.row,o=e.columns,r=0;r<o.length;r++)this._needRenderCell(r,e.columnIndices)&&this._renderCell(t,(0,_.extend)({column:o[r],columnIndex:n,value:i.values&&i.values[n],oldValue:i.oldValues&&i.oldValues[n]},e)),o[r].colspan>1?n+=o[r].colspan:n++},_updateCells:function(t,e,n){var i=t.children(),o=e.children(),r=this.option("highlightChanges"),a=this.addWidgetPrefix("cell-updated-animation");n.forEach((function(t,e){var n=i.eq(t),s=o.eq(e);n.replaceWith(s),r&&!s.hasClass("dx-command-expand")&&s.addClass(a)})),function(t,e){if(t&&e){var n,i=t.attributes,o=e.attributes;for(n=0;n<i.length;n++){var r=i[n].nodeName;e.hasAttribute(r)||t.removeAttribute(r)}for(n=0;n<o.length;n++)t.setAttribute(o[n].nodeName,o[n].nodeValue)}}(t.get(0),e.get(0))},_setCellAriaAttributes:function(t,e){if("freeSpace"!==e.rowType){this.setAria("selected",!1,t),this.setAria("role","gridcell",t);var n=this._columnsController.getColumnIndexOffset(),i=e.columnIndex+n+1;this.setAria("colindex",i,t)}},_renderCell:function(t,e){var n=this._getCellOptions(e);e.columnIndices?e.row.cells&&(e.row.cells[n.columnIndex]=n):e.row.cells.push(n);var i=this._createCell(n);return this._setCellAriaAttributes(i,n),this._renderCellContent(i,n),t.get(0).appendChild(i.get(0)),i},_renderCellContent:function(t,e){var n=this,i=this._getCellTemplate(e);(0,C.when)(!i||this.renderTemplate(t,i,e)).done((function(){n._updateCell(t,e)}))},_getCellTemplate:function(){},_getRows:function(){return[]},_getCellOptions:function(t){var e={column:t.column,columnIndex:t.columnIndex,rowType:t.row.rowType,isAltRow:this._isAltRow(t.row)};return this._addWatchMethod(e),e},_addWatchMethod:function(t,e){if(this.option("repaintChangesOnly")){var n=[];return(e=e||t).watch=e.watch||function(t,i){var o=t(e.data),r=function(n){var r=t(e.data);JSON.stringify(o)!==JSON.stringify(r)&&(n&&i(r,o),o=r)};n.push(r);return function(){var t=n.indexOf(r);t>=0&&n.splice(t,1)}},e.update=e.update||function(e){e&&(this.data=t.data=e.data,this.rowIndex=t.rowIndex=e.rowIndex,this.dataIndex=t.dataIndex=e.dataIndex,this.isExpanded=t.isExpanded=e.isExpanded,t.row&&(t.row=e)),n.forEach((function(t){t(e)}))},e!==t&&(t.watch=e.watch.bind(e)),t}},_cellPrepared:function(t,e){e.cellElement=(0,g.getPublicElement)((0,o.default)(t)),this.executeAction("onCellPrepared",e)},_rowPrepared:function(t,e){(0,l.data)(t.get(0),"options",e),e.rowElement=(0,g.getPublicElement)(t),this.executeAction("onRowPrepared",e)},_columnOptionChanged:function(t){var e=t.optionNames;if(x.default.checkChanges(e,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns(),i=y.map(n,(function(t){var e=t.visibleWidth||t.width;return(0,m.isDefined)(e)?e:"auto"}));this.setColumnWidths({widths:i,optionNames:e})}else this._requireReady||this.render()},getCellIndex:function(t){return t.length?t[0].cellIndex:-1},getTableElements:function(){return this._tableElement||(0,o.default)()},_getTableElement:function(){return this._tableElement},_setTableElement:function(t){this._tableElement=t},optionChanged:function(t){switch(this.callBase(t),t.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),t.handled=!0}},init:function(){var t=this;t._scrollLeft=-1,t._columnsController=t.getController("columns"),t._dataController=t.getController("data"),t._delayedTemplates=[],t._templatesCache={},t.createAction("onCellClick"),t.createAction("onRowClick"),t.createAction("onCellDblClick"),t.createAction("onRowDblClick"),t.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),t.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),t.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:function(e){t._afterRowPrepared(e)}}),t._columnsController.columnsChanged.add(t._columnOptionChanged.bind(t)),t._dataController&&t._dataController.changed.add(t._handleDataChanged.bind(t))},_afterRowPrepared:f.noop,_handleDataChanged:function(){},callbackNames:function(){return["scrollChanged"]},scrollTo:function(t){var e=this.element(),n=e&&e.children("."+this.addWidgetPrefix("scroll-container")).not("."+this.addWidgetPrefix("content-fixed"));(0,m.isDefined)(t)&&(0,m.isDefined)(t.left)&&this._scrollLeft!==t.left&&(this._scrollLeft=t.left,n&&n.scrollLeft(t.left))},_wrapTableInScrollContainer:function(t){var e=this,n=(0,o.default)("<div>");return s.default.on(n,"scroll",(function(){var t=n.scrollLeft();t!==e._scrollLeft&&e.scrollChanged.fire({left:t},e.name)})),n.addClass(this.addWidgetPrefix("content")).addClass(this.addWidgetPrefix("scroll-container")).append(t).appendTo(this.element()),this.setAria("role","presentation",n),n},_updateContent:function(t){this._setTableElement(t),this._wrapTableInScrollContainer(t)},_findContentElement:f.noop,_getWidths:function(t){var e,n=[],i=this.option("legacyRendering");return t&&y.each(t,(function(t,o){if(e=o.offsetWidth,o.getBoundingClientRect){var r=(0,v.getBoundingRect)(o);r.width>e-1&&(e=i?Math.ceil(r.width):r.width)}n.push(e)})),n},getColumnWidths:function(t){var e,n,i=[];if((this.option("forceApplyBindings")||f.noop)(),t=t||this._getTableElement()){e=t.children("tbody").children();for(var o=0;o<e.length;o++){var r=e.eq(o),a="none"!==r.get(0).style.display&&!r.hasClass("dx-state-invisible");if(!r.is(".dx-group-row")&&!r.is(".dx-master-detail-row")&&a){n=r.children("td");break}}i=this._getWidths(n)}return i},getVisibleColumnIndex:function(t,e){return t},setColumnWidths:function(t){var e,n,i,o,r=t.widths,a=t.$tableElement,s=t.columns,l=t.fixed,u=this.option("columnAutoWidth"),h=this.option("legacyRendering");if((a=a||this._getTableElement())&&a.length&&r){o=0,e=a.children("colgroup").children("col"),(0,p.setWidth)(e,"auto"),s=s||this.getColumns(null,a);for(var c=0;c<s.length;c++){if(!h&&u&&!l&&(n=s[c].width)&&!s[c].command){n=s[c].visibleWidth||n,n=I(n),i=I(s[c].minWidth||n);for(var d=d||a.children().children(".dx-row").not(".dx-group-row").not(".dx-master-detail-row"),f=0;f<d.length;f++){var g=this.getVisibleColumnIndex(c,f),v=d[f].cells[g];v&&(T(v,s[c],n),v.style.minWidth=i)}}s[c].colspan?o+=s[c].colspan:("adaptiveHidden"===(n=r[o])&&(n="0.0001px"),"number"===typeof n&&(n=n.toFixed(3)+"px"),(0,p.setWidth)(e.eq(o),(0,m.isDefined)(n)?n:"auto"),o++)}}},getCellElements:function(t){return this._getCellElementsCore(t)},_getCellElementsCore:function(t){return this._getRowElements().eq(t).children()},_getCellElement:function(t,e){var n,i=this.getCellElements(t),o=this._getVisibleColumnIndex(i,t,e);if(i.length&&o>=0&&(n=i.eq(o)),n&&n.length)return n},_getRowElement:function(t){var e=this,n=(0,o.default)(),i=e.getTableElements();if(y.each(i,(function(i,r){n=n.add(e._getRowElements((0,o.default)(r)).eq(t))})),n.length)return n},getCellElement:function(t,e){return(0,g.getPublicElement)(this._getCellElement(t,e))},getRowElement:function(t){var e=this._getRowElement(t),n=[];if(e&&!(0,g.getPublicElement)(e).get)for(var i=0;i<e.length;i++)n.push(e[i]);else n=e;return n},_getVisibleColumnIndex:function(t,e,n){if((0,m.isString)(n)){var i=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(i)}return n},getColumnElements:function(){},getColumns:function(t){return this._columnsController.getVisibleColumns(t)},getCell:function(t,e){var n,i=e||this._getRowElements();if(i.length>0&&t.rowIndex>=0&&("virtual"!==this.option("scrolling.mode")&&(t.rowIndex=t.rowIndex<i.length?t.rowIndex:i.length-1),(n=this.getCellElements(t.rowIndex))&&n.length>0))return n.eq(n.length>t.columnIndex?t.columnIndex:n.length-1)},getRowsCount:function(){var t=this._getTableElement();return t&&1===t.length?t[0].rows.length:0},_getRowElementsCore:function(t){if(t=t||this._getTableElement()){var e=this.option("rowTemplate")&&t.find("> tbody.dx-row");return e&&e.length?e:t.find("> tbody > .dx-row, > .dx-row")}return(0,o.default)()},_getRowElements:function(t){return this._getRowElementsCore(t)},getRowIndex:function(t){return this._getRowElements().index(t)},getBoundingRect:function(){},getName:function(){},setScrollerSpacing:function(t){var e=this.element(),n=this.option("rtlEnabled");e&&e.css({paddingLeft:n?t:"",paddingRight:n?"":t})},isScrollbarVisible:function(t){var e=this.element(),n=this._tableElement;return!(!e||!n)&&(t?n.outerWidth()-e.width()>0:n.outerHeight()-e.height()>0)}});e.ColumnsView=D},function(t,e,n){"use strict";e.default=void 0;var i=o(n(407));function o(t){return t&&t.__esModule?t:{default:t}}(0,o(n(19)).default)("dxList",i.default);var r=i.default;e.default=r,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=d(n(1)),o=d(n(7)),r=d(n(17)),a=n(3),s=n(95),l=d(n(82)),u=d(n(19)),h=n(13),c=n(30);function d(t){return t&&t.__esModule?t:{default:t}}var f=l.default.inherit({_supportedKeys:function(){return(0,a.extend)(this.callBase(),{space:function(t){t.preventDefault(),this._clickAction({event:t})}})},_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,text:"",useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===r.default.real().deviceType&&!r.default.isSimulator()},options:{focusStateEnabled:!0}}])},_canValueBeChangedByClick:function(){return!0},_feedbackHideTimeout:100,_initMarkup:function(){this._renderSubmitElement(),this._$container=(0,i.default)("<div>").addClass("dx-checkbox-container"),this.setAria("role","checkbox"),this.$element().addClass("dx-checkbox"),this._renderValue(),this._renderIcon(),this._renderText(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().append(this._$container),this.callBase()},_render:function(){this._renderClick(),this.callBase()},_renderSubmitElement:function(){this._$submitElement=(0,i.default)("<input>").attr("type","hidden").appendTo(this.$element())},_getSubmitElement:function(){return this._$submitElement},_renderInkRipple:function(){this._inkRipple=(0,s.render)({waveSizeCoefficient:2.5,useHoldAnimation:!1,wavesNumber:2,isCentered:!0})},_renderInkWave:function(t,e,n,i){if(this._inkRipple){var o={element:t,event:e,wave:i};n?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}},_updateFocusState:function(t,e){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,t,e,0)},_toggleActiveState:function(t,e,n){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,n,e,1)},_renderIcon:function(){this._$icon=(0,i.default)("<span>").addClass("dx-checkbox-icon").prependTo(this._$container)},_renderText:function(){var t=this.option("text");t?(this._$text||(this._$text=(0,i.default)("<span>").addClass("dx-checkbox-text")),this._$text.text(t),this._$container.append(this._$text),this.$element().addClass("dx-checkbox-has-text")):this._$text&&(this._$text.remove(),this.$element().removeClass("dx-checkbox-has-text"))},_renderClick:function(){var t=this,e=(0,h.addNamespace)(c.name,t.NAME);t._clickAction=t._createAction(t._clickHandler),o.default.off(t.$element(),e),o.default.on(t.$element(),e,(function(e){t._clickAction({event:e})}))},_clickHandler:function(t){var e=t.component;e._saveValueChangeEvent(t.event),e.option("value",!e.option("value"))},_renderValue:function(){var t=this.$element(),e=this.option("value"),n=void 0===e;t.toggleClass("dx-checkbox-checked",Boolean(e)),t.toggleClass("dx-checkbox-indeterminate",n),this._getSubmitElement().val(e),this.setAria("checked",n?"mixed":e||"false")},_optionChanged:function(t){switch(t.name){case"useInkRipple":this._invalidate();break;case"value":this._renderValue(),this.callBase(t);break;case"text":this._renderText(),this._renderDimensions();break;default:this.callBase(t)}},_clean:function(){delete this._inkRipple,this.callBase()}});(0,u.default)("dxCheckBox",f);var p=f;e.default=p,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function o(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}t.exports=function(t,e){if(o(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(e,n[a])||!o(t[n[a]],e[n[a]]))return!1;return!0}},function(t,e,n){"use strict";(function(e){"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,o){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var r,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,i)}));case 4:return e.nextTick((function(){t.call(null,n,i,o)}));default:for(r=new Array(s-1),a=0;a<r.length;)r[a++]=arguments[a];return e.nextTick((function(){t.apply(null,r)}))}}}:t.exports=e}).call(this,n(102))},function(t,e,n){"use strict";(function(t){var i=n(298),o=n(299),r=n(200);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,n,i):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),o=(t=s(t,i)).write(e,n);o!==i&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|f(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(i=e.length)!==i?s(t,0):d(t,e);if("Buffer"===e.type&&r(e.data))return d(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(h(e),t=s(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|f(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(i)return j(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function m(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,o){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,o);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,o){var r,a=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var h=-1;for(r=n;r<s;r++)if(u(t,r)===u(e,-1===h?0:r-h)){if(-1===h&&(h=r),r-h+1===l)return h*a}else-1!==h&&(r-=r-h),h=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){for(var c=!0,d=0;d<l;d++)if(u(t,r+d)!==u(e,d)){c=!1;break}if(c)return r}return-1}function _(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=e.length;if(r%2!==0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,i){return H(j(e,t.length-n),t,n,i)}function x(t,e,n,i){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return x(t,e,n,i)}function C(t,e,n,i){return H(z(e),t,n,i)}function S(t,e,n,i){return H(function(t,e){for(var n,i,o,r=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,o=n%256,r.push(o),r.push(i);return r}(e,t.length-n),t,n,i)}function k(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,a,s,l,u=t[o],h=null,c=u>239?4:u>223?3:u>191?2:1;if(o+c<=n)switch(c){case 1:u<128&&(h=u);break;case 2:128===(192&(r=t[o+1]))&&(l=(31&u)<<6|63&r)>127&&(h=l);break;case 3:r=t[o+1],a=t[o+2],128===(192&r)&&128===(192&a)&&(l=(15&u)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:r=t[o+1],a=t[o+2],s=t[o+3],128===(192&r)&&128===(192&a)&&128===(192&s)&&(l=(15&u)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(h=l)}null===h?(h=65533,c=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),o+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return h(e),e<=0?s(t,e):void 0!==n?"string"===typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return c(null,t)},l.allocUnsafeSlow=function(t){return c(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):g.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,o){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(r,a),u=this.slice(i,o),h=t.slice(e,n),c=0;c<s;++c)if(u[c]!==h[c]){r=u[c],a=h[c];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function T(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function D(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o="",r=e;r<n;++r)o+=V(t[r]);return o}function M(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function O(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,i,o,r){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function A(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);o<r;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function R(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);o<r;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function B(t,e,n,i,o,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,i,r){return r||B(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function F(t,e,n,i,r){return r||B(t,0,n,8),o.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var o=e-t;n=new l(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},l.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var i=e,o=1,r=this[t+--i];i>0&&(o*=256);)r+=this[t+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);P(this,t,e,n,o-1,-o)}var r=0,a=1,s=0;for(this[e]=255&t;++r<n&&(a*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);P(this,t,e,n,o-1,-o)}var r=n-1,a=1,s=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,r=i-n;if(this===t&&n<e&&e<i)for(o=r-1;o>=0;--o)t[o+e]=this[o+n];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},l.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=l.isBuffer(t)?t:j(new l(t,i).toString()),s=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function z(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function H(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(53))},function(t,e,n){"use strict";e.debug=e.logger=void 0;var i=n(2),o=function(){},r=function(t){return"undefined"!==typeof console&&(0,i.isFunction)(console[t])?console[t].bind(console):o},a={info:r("info"),warn:r("warn"),error:r("error")};e.logger=a;var s=function(){function t(t,e){if(!t)throw new Error(e)}return{assert:t,assertParam:function(e,n){t(null!==e&&void 0!==e,n)}}}();e.debug=s},function(t,e,n){"use strict";e.FunctionTemplate=void 0;var i=n(104),o=n(44);function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,i,r=l(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=r.call(this))._render=t,e}return e=u,(n=[{key:"_renderCore",value:function(t){return(0,o.normalizeTemplateElement)(this._render(t))}}])&&a(e.prototype,n),i&&a(e,i),u}(i.TemplateBase);e.FunctionTemplate=c},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.ChildDefaultTemplate=void 0;var l=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t);var e=r(n);function n(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=e.call(this)).name=t,i}return n}(n(104).TemplateBase);e.ChildDefaultTemplate=l},function(t,e,n){"use strict";e.requestAnimationFrame=function(){return u(),s.apply(a,arguments)},e.cancelAnimationFrame=function(){u(),l.apply(a,arguments)};var i,o=n(14),r=(i=n(87))&&i.__esModule?i:{default:i};var a=(0,o.hasWindow)()?(0,o.getWindow)():{},s=function(t){return setTimeout(t,1e3/60)},l=function(t){clearTimeout(t)},u=(0,r.default)((function(){var t=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame,e=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame;if(t&&e&&(s=t,l=e),t&&!e){var n={};s=function(e){var i=t.call(a,(function(){try{if(i in n)return;e.apply(this,arguments)}finally{delete n[i]}}));return i},l=function(t){n[t]=!0}}}))},function(t,e,n){"use strict";e.default=void 0;var i=l(n(7)),o=l(n(24)),r=l(n(16)),a=l(n(20)),s=n(13);function l(t){return t&&t.__esModule?t:{default:t}}var u=a.default.inherit({ctor:function(t,e){this._eventName=t,this._originalEvents=(0,s.addNamespace)(e,"dxPointerEvents"),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var t=this._eventName;return"dxpointerenter"===t||"dxpointerleave"===t},_handler:function(t){var e=this._getDelegateTarget(t);return this._fireEvent({type:this._eventName,pointerType:t.pointerType||(0,s.eventSource)(t),originalEvent:t,delegateTarget:e,timeStamp:o.default.mozilla?(new Date).getTime():t.timeStamp})},_getDelegateTarget:function(t){var e;return this.noBubble&&(e=t.delegateTarget),e},_fireEvent:function(t){return(0,s.fireEvent)(t)},_setSelector:function(t){this._selector=this.noBubble&&t?t.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(t,e){if(this._handlerCount<=0||this.noBubble){t=this.noBubble?t:r.default.getDocument(),this._setSelector(e);var n=this;i.default.on(t,this._originalEvents,this._getSelector(),(function(t){n._handler(t)}))}this.noBubble||this._handlerCount++},remove:function(t){this._setSelector(t),this.noBubble||this._handlerCount--},teardown:function(t){this._handlerCount&&!this.noBubble||(t=this.noBubble?t:r.default.getDocument(),".dxPointerEvents"!==this._originalEvents&&i.default.off(t,this._originalEvents,this._getSelector()))},dispose:function(t){t=this.noBubble?t:r.default.getDocument(),i.default.off(t,this._originalEvents)}});e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=n(6),r=u(n(20)),a=u(n(38)),s=n(3),l=n(13);function u(t){return t&&t.__esModule?t:{default:t}}var h=r.default.inherit({ctor:function(t){this._$element=(0,i.default)(t),this._cancelCallback=(0,a.default)(),this._acceptCallback=(0,a.default)()},getElement:function(){return this._$element},validate:function(t){return!(0,l.isDxMouseWheelEvent)(t)},validatePointers:function(t){return 1===(0,l.hasTouches)(t)},allowInterruptionByMouseWheel:function(){return!0},configure:function(t){(0,s.extend)(this,t)},addCancelCallback:function(t){this._cancelCallback.add(t)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(t){this._cancelCallback.fire(this,t)},addAcceptCallback:function(t){this._acceptCallback.add(t)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(t){this._acceptCallback.fire(this,t)},_requestAccept:function(t){this._acceptRequestEvent=t},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:o.noop,move:o.noop,end:o.noop,cancel:o.noop,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,e,n){var i=(0,s.extend)({type:t,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},n);return(e=(0,l.fireEvent)(i)).cancel&&this._cancel(e),e},_getEmitterTarget:function(t){return(this.delegateSelector?(0,i.default)(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:o.noop});e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.inactive=e.active=e.lock=void 0;var i=c(n(20)),o=n(6),r=n(44),a=c(n(17)),s=n(13),l=c(n(33)),u=c(n(136)),h=c(n(105));function c(t){return t&&t.__esModule?t:{default:t}}e.active="dxactive";e.inactive="dxinactive";var d,f=i.default.inherit({ctor:function(t,e){this._timeout=t,this._fire=e},start:function(){var t=this;this._schedule((function(){t.force()}))},_schedule:function(t){this.stop(),this._timer=setTimeout(t,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),p=u.default.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new f(0,o.noop),this._inactive=new f(0,o.noop)},configure:function(t,e){switch(e){case"dxactive":t.activeTimeout=t.timeout;break;case"dxinactive":t.inactiveTimeout=t.timeout}this.callBase(t)},start:function(t){if(d){var e=(0,r.contains)(this.getElement().get(0),d.getElement().get(0)),n=!d._active.fired();if(e&&n)return void this._cancel();d._inactive.force()}d=this,this._initEvents(t),this._active.start()},_initEvents:function(t){var e=this,n=this._getEmitterTarget(t),i=(0,s.isMouseEvent)(t),r=a.default.isSimulator()||!i,l=(0,o.ensureDefined)(this.activeTimeout,30),u=(0,o.ensureDefined)(this.inactiveTimeout,400);this._active=new f(r?l:0,(function(){e._fireEvent("dxactive",t,{target:n})})),this._inactive=new f(r?u:0,(function(){e._fireEvent("dxinactive",t,{target:n}),d=null}))},cancel:function(t){this.end(t)},end:function(t){var e=t.type!==l.default.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),d=null,this._cancel(),this._inactive.force.bind(this._inactive)}});p.lock=function(t){var e=d?d.lockInactive():o.noop;t.done(e)},(0,h.default)({emitter:p,events:["dxactive","dxinactive"]});var g=p.lock;e.lock=g},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.drop=e.leave=e.enter=e.end=e.start=e.move=void 0;var o=p(n(1)),r=n(54),a=n(21),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=o?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=t[r]}n.default=t,e&&e.set(t,n);return n}(n(5)),l=n(44),u=p(n(78)),h=n(13),c=p(n(169)),d=p(n(105));function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function p(t){return t&&t.__esModule?t:{default:t}}e.start="dxdragstart";e.move="dxdrag";e.end="dxdragend";var g="dxdragenter";e.enter=g;var m="dxdragleave";e.leave=m;var v="dxdrop";e.drop=v;var y=[],_=[],b=[],x={setup:function(t,e){-1!==(0,a.inArray)(t,y)||(y.push(t),_.push([]),b.push(e||{}))},add:function(t,e){var n=(0,a.inArray)(t,y);this.updateEventsCounter(t,e.type,1);var i=e.selector;-1===(0,a.inArray)(i,_[n])&&_[n].push(i)},updateEventsCounter:function(t,e,n){if([g,m,v].indexOf(e)>-1){var i=(0,r.data)(t,"dxDragEventsCount")||0;(0,r.data)(t,"dxDragEventsCount",Math.max(0,i+n))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){if(!(0,r.data)(t,"dxDragEventsCount")){var e=(0,a.inArray)(t,y);y.splice(e,1),_.splice(e,1),b.splice(e,1),(0,r.removeData)(t,"dxDragEventsCount")}}};(0,u.default)(g,x),(0,u.default)(m,x),(0,u.default)(v,x);var w=c.default.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(t){t=this._fireEvent("dxdragstart",this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset;var e=(0,a.wrapToArray)(t.targetElements||(null===t.targetElements?[]:y));this._dropTargets=s.map(e,(function(t){return(0,o.default)(t).get(0)}))},_move:function(t){var e=(0,h.eventData)(t),n=this._calculateOffset(e);t=this._fireEvent("dxdrag",t,{offset:n}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if("vertical"!==this.direction){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if("horizontal"!==this.direction){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,n){return null!=e&&(t=Math.max(t,-e)),null!=n&&(t=Math.min(t,n)),t},_processDropTargets:function(t){var e=this._findDropTarget(t);e===this._currentDropTarget||(this._fireDropTargetEvent(t,m),this._currentDropTarget=e,this._fireDropTargetEvent(t,g))},_fireDropTargetEvent:function(t,e){if(this._currentDropTarget){var n={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};(0,h.fireEvent)(n)}},_findDropTarget:function(t){var e,n=this;return s.each(y,(function(i,r){if(n._checkDropTargetActive(r)){var l=(0,o.default)(r);s.each(function(t){var e=(0,a.inArray)(t.get(0),y),n=_[e].filter((function(t){return t})),i=t.find(n.join(", "));return-1!==(0,a.inArray)(void 0,_[e])&&(i=i.add(t)),i}(l),(function(i,r){var s=(0,o.default)(r);n._checkDropTarget(function(t){var e=(0,a.inArray)(t.get(0),y);return b[e]}(l),s,(0,o.default)(e),t)&&(e=r)}))}})),e},_checkDropTargetActive:function(t){var e=!1;return s.each(this._dropTargets,(function(n,i){return!(e=e||i===t||(0,l.contains)(i,t))})),e},_checkDropTarget:function(t,e,n,i){if(e.get(0)===(0,o.default)(i.target).get(0))return!1;var r,a,s=(a=e,(r=t).itemPositionFunc?r.itemPositionFunc(a):a.offset());if(i.pageX<s.left)return!1;if(i.pageY<s.top)return!1;var l=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}}(t,e);return!(i.pageX>s.left+l.width)&&(!(i.pageY>s.top+l.height)&&((!n.length||!n.closest(e).length)&&(!(t.checkDropTarget&&!t.checkDropTarget(e,i))&&e)))},_end:function(t){var e=(0,h.eventData)(t);this._fireEvent("dxdragend",t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,v),delete this._currentDropTarget}});(0,d.default)({emitter:w,events:["dxdragstart","dxdrag","dxdragend"]})},function(t,e,n){"use strict";e.default=void 0;var i=d(n(20)),o=n(118),r=n(5),a=d(n(69)),s=d(n(51)),l=n(29),u=d(n(106)),h=n(8),c=n(6);function d(t){return t&&t.__esModule?t:{default:t}}var f,p=i.default.abstract,g=u.default.queryByOptions,m={},v=i.default.inherit({ctor:function(t){var e=this;t=t||{},this._eventsStrategy=new o.EventsStrategy(this),(0,r.each)(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],(function(n,i){i in t&&e.on(i.slice(2).toLowerCase(),t[i])})),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(t){return this._keyGetter||(this._keyGetter=(0,l.compileGetter)(this.key())),this._keyGetter(t)},_requireKey:function(){if(!this.key())throw a.default.errors.Error("E4005")},load:function(t){var e=this;return t=t||{},this._eventsStrategy.fireEvent("loading",[t]),this._withLock(this._loadImpl(t)).done((function(n){e._eventsStrategy.fireEvent("loaded",[n,t])}))},_loadImpl:function(t){return g(this.createQuery(t),t).enumerate()},_withLock:function(t){var e=new h.Deferred;return t.done((function(){var t=this,n=arguments;s.default.processRequestResultLock.promise().done((function(){e.resolveWith(t,n)}))})).fail((function(){e.rejectWith(this,arguments)})),e},createQuery:p,totalCount:function(t){return this._totalCountImpl(t)},_totalCountImpl:function(t){return g(this.createQuery(t),t,!0).count()},byKey:function(t,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(t,e)))},_byKeyImpl:p,insert:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[t]),e._addFailHandlers(e._insertImpl(t).done((function(t,n){e._eventsStrategy.fireEvent("inserted",[t,n]),e._eventsStrategy.fireEvent("modified")})))},_insertImpl:p,update:function(t,e){var n=this;return n._eventsStrategy.fireEvent("modifying"),n._eventsStrategy.fireEvent("updating",[t,e]),n._addFailHandlers(n._updateImpl(t,e).done((function(){n._eventsStrategy.fireEvent("updated",[t,e]),n._eventsStrategy.fireEvent("modified")})))},_updateImpl:p,push:function(t){this._pushImpl(t),this._eventsStrategy.fireEvent("push",[t])},_pushImpl:c.noop,remove:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[t]),e._addFailHandlers(e._removeImpl(t).done((function(t){e._eventsStrategy.fireEvent("removed",[t]),e._eventsStrategy.fireEvent("modified")})))},_removeImpl:p,_addFailHandlers:function(t){return t.fail(this._errorHandler).fail(a.default._errorHandler)},on:function(t,e){return this._eventsStrategy.on(t,e),this},off:function(t,e){return this._eventsStrategy.off(t,e),this}});v.create=function(t,e){if(!(t in m))throw a.default.errors.Error("E4020",t);return new m[t](e)},v.registerClass=function(t,e){return e&&(m[e]=t),t},v.inherit=(f=v.inherit,function(t,e){var n=f.apply(this,[t]);return v.registerClass(n,e),n});var y=v;e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(20)),o=n(2),r=n(5),a=n(29),s=n(8),l=h(n(69)),u=h(n(51));function h(t){return t&&t.__esModule?t:{default:t}}var c=i.default.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),d=c.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length&&(this.index++,!0)},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),f=c.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),p=f.inherit({ctor:function(t,e){this.callBase(t),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),g=function(t,e){return t=(0,a.toComparable)(t),e=(0,a.toComparable)(e),null===t&&null!==e?-1:null!==t&&null===e||void 0===t&&void 0!==e?1:void 0!==t&&void 0===e||t<e?-1:t>e?1:0},m=c.inherit({ctor:function(t,e,n,i){t instanceof p||(t=new p(t,this._wrap)),this.iter=t,this.rules=[{getter:e,desc:n,compare:i}]},thenBy:function(t,e,n){var i=new m(this.sortedIter||this.iter,t,e,n);return this.sortedIter||(i.rules=this.rules.concat(i.rules)),i},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||((0,r.each)(t.rules,(function(){this.getter=(0,a.compileGetter)(this.getter)})),t.sortedIter=new p(new d(this.iter.toArray().sort((function(e,n){return t._compare(e,n)}))),t._unwrap))},_wrap:function(t,e){return{index:e,value:t}},_unwrap:function(t){return t.value},_compare:function(t,e){var n=t.index,i=e.index;if((t=t.value)===(e=e.value))return n-i;for(var o=0,r=this.rules.length;o<r;o++){var a=this.rules[o],s=a.getter(t),l=a.getter(e),u=(a.compare||g)(s,l);if(u)return a.desc?-u:u}return n-i}}),v=function(){var t=function(t){return(0,o.isDefined)(t)?t.toString():""};function e(t,e,n){return function(i){i=(0,a.toComparable)(t(i));var o=function(t){return""===t||0===t||!1===t}(e)?i===e:i==e;return n&&(o=!o),o}}return function(n){return(0,o.isFunction)(n)?n:u.default.isGroupCriterion(n)?function(t){var e=[],n=!1,i=!1;return(0,r.each)(t,(function(){if(Array.isArray(this)||(0,o.isFunction)(this)){if(e.length>1&&n!==i)throw new l.default.errors.Error("E4019");e.push(v(this)),n=i,i=!0}else i=u.default.isConjunctiveOperator(this)})),function(t){for(var i=n,o=0;o<e.length;o++)if(e[o](t)!==n){i=!n;break}return i}}(n):u.default.isUnaryOperation(n)?function(t){var e=t[0],n=v(t[1]);if("!"===e)return function(t){return!n(t)};throw l.default.errors.Error("E4003",e)}(n):function(n){n=u.default.normalizeBinaryCriterion(n);var i=(0,a.compileGetter)(n[0]),o=n[1],r=n[2];switch(r=(0,a.toComparable)(r),o.toLowerCase()){case"=":return e(i,r);case"<>":return e(i,r,!0);case">":return function(t){return(0,a.toComparable)(i(t))>r};case"<":return function(t){return(0,a.toComparable)(i(t))<r};case">=":return function(t){return(0,a.toComparable)(i(t))>=r};case"<=":return function(t){return(0,a.toComparable)(i(t))<=r};case"startswith":return function(e){return 0===(0,a.toComparable)(t(i(e))).indexOf(r)};case"endswith":return function(e){var n=(0,a.toComparable)(t(i(e))),o=t(r);return!(n.length<o.length)&&n.lastIndexOf(r)===n.length-r.length};case"contains":return function(e){return(0,a.toComparable)(t(i(e))).indexOf(r)>-1};case"notcontains":return function(e){return-1===(0,a.toComparable)(t(i(e))).indexOf(r)}}throw l.default.errors.Error("E4003",o)}(n)}}(),y=f.inherit({ctor:function(t,e){this.callBase(t),this.criteria=v(e)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),_=c.inherit({ctor:function(t,e){this.iter=t,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},e=[],n=this.iter,i=(0,a.compileGetter)(this.getter);for(n.reset();n.next();){var o=n.current(),s=i(o);s in t?t[s].push(o):(t[s]=[o],e.push(s))}this.groupedIter=new d((0,r.map)(e,(function(e){return{key:e,items:t[e]}})))}}}),b=f.inherit({ctor:function(t,e){this.callBase(t),this.getter=(0,a.compileGetter)(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),x=f.inherit({ctor:function(t,e,n){this.callBase(t),this.skip=Math.max(0,e),this.take=Math.max(0,n),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),w=function t(e,n){n=n||{},e instanceof c||(e=new d(e));var i=function(t){var e=n.errorHandler;e&&e(t),l.default._errorHandler(t)},r=function(t){var n=(new s.Deferred).fail(i),o=t.step,r=t.finalize;try{e.reset();for(var a=("seed"in t?t.seed:e.next()?e.current():NaN);e.next();)a=o(a,e.current());n.resolve(r?r(a):a)}catch(l){n.reject(l)}return n.promise()},h=function(t){return r(u.default.aggregators[t])},f=function(t){return(0,o.isFunction)(t)||Array.isArray(t)||(t=[].slice.call(arguments)),g(new b(e,t))},p=function(t){return f((0,a.compileGetter)(t))};function g(e){return t(e,n)}return{toArray:function(){return e.toArray()},enumerate:function(){var t=(new s.Deferred).fail(i);try{t.resolve(e.toArray())}catch(n){t.reject(n)}return t.promise()},sortBy:function(t,n,i){return g(new m(e,t,n,i))},thenBy:function(t,n,i){if(e instanceof m)return g(e.thenBy(t,n,i));throw l.default.errors.Error("E4004")},filter:function(t){return Array.isArray(t)||(t=[].slice.call(arguments)),g(new y(e,t))},slice:function(t,n){return void 0===n&&(n=Number.MAX_VALUE),g(new x(e,t,n))},select:f,groupBy:function(t){return g(new _(e,t))},aggregate:function(t,e,n){return r(arguments.length<2?{step:arguments[0]}:{seed:t,step:e,finalize:n})},count:function(){if(e.countable()){var t=(new s.Deferred).fail(i);try{t.resolve(e.count())}catch(n){t.reject(n)}return t.promise()}return h("count")},sum:function(t){return t?p(t).sum():h("sum")},min:function(t){return t?p(t).min():h("min")},max:function(t){return t?p(t).max():h("max")},avg:function(t){return t?p(t).avg():h("avg")}}};e.default=w,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=l(n(51)),o=l(n(70)),r=l(n(69)),a=l(n(139)),s=n(92);function l(t){return t&&t.__esModule?t:{default:t}}var u=a.default.inherit({ctor:function(t){t=Array.isArray(t)?{data:t}:t||{},this.callBase(t);var e=t.data;if(e&&!Array.isArray(e))throw r.default.errors.Error("E4006");this._array=e||[]},createQuery:function(){return(0,o.default)(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(t){var e=(0,s.indexByKey)(this,this._array,t);return-1===e?i.default.rejectedPromise(r.default.errors.Error("E4009")):i.default.trivialPromise(this._array[e])},_insertImpl:function(t){return(0,s.insert)(this,this._array,t)},_pushImpl:function(t){(0,s.applyBatch)({keyInfo:this,data:this._array,changes:t})},_updateImpl:function(t,e){return(0,s.update)(this,this._array,t,e)},_removeImpl:function(t){return(0,s.remove)(this,this._array,t)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array");e.default=u,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(359))&&i.__esModule?i:{default:i}).default,r={extend:function(t){o=o.inherit(t)},create:function(t){return new o(t)}};e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(107),o=n(3),r=n(93),a={postCtor:function(){this.on("disposing",function(){this._disposeDataSource()}.bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var t,e,n="_getSpecificDataSourceOption"in this?this._getSpecificDataSourceOption():this.option("dataSource");this._disposeDataSource(),n&&(n instanceof i.DataSource?(this._isSharedDataSource=!0,this._dataSource=n):(t="_dataSourceOptions"in this?this._dataSourceOptions():{},e=this._dataSourceType?this._dataSourceType():i.DataSource,n=(0,r.normalizeDataSourceOptions)(n,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new e((0,o.extend)(!0,{},t,n))),"_normalizeDataSource"in this&&(this._dataSource=this._normalizeDataSource(this._dataSource)),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){"_dataSourceChangedHandler"in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",function(t){this._ready&&this._ready(!t)}.bind(this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=function(e){this._dataSourceChangedHandler(t.items(),e)}.bind(this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var t=this._dataSource;t.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():t.load()}},_loadSingle:function(t,e){return t="this"===t?this._dataSource.key()||"this":t,this._dataSource.loadSingle(t,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}};e.default=a,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(371))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=n,this.name=e,this.options=i||{}}var e,n,i;return e=t,(n=[{key:"_addPlaceMarker",value:function(t){this.$placeMarker=(0,o.default)("<div>").appendTo(t)}},{key:"_addToContainer",value:function(t){var e=this.$placeMarker,n=this.$container;e?e.replaceWith(t):t.appendTo(n)}},{key:"_attachEvents",value:function(){throw"Not implemented"}},{key:"_create",value:function(){throw"Not implemented"}},{key:"_isRendered",value:function(){return!!this.instance}},{key:"_isVisible",value:function(){var t=this.editor;return this.options.visible||!t.option("readOnly")}},{key:"_isDisabled",value:function(){throw"Not implemented"}},{key:"_shouldRender",value:function(){return this._isVisible()&&!this._isRendered()}},{key:"dispose",value:function(){var t=this.instance,e=this.$placeMarker;t&&(t.dispose?t.dispose():t.remove(),this.instance=null),e&&e.remove()}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$container;if(this.$container=t,this._isVisible()){var e=this._create(),n=e.instance,i=e.$element;this.instance=n,this._attachEvents(n,i)}else this._addPlaceMarker(t)}},{key:"update",value:function(){return this._shouldRender()&&this.render(),!!this.instance}}])&&r(e.prototype,n),i&&r(e,i),t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(427))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(437))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=l(n(1)),o=l(n(7)),r=n(6),a=l(n(20)),s=l(n(58));function l(t){return t&&t.__esModule?t:{default:t}}var u=a.default.abstract,h=a.default.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||(0,i.default)("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var e=this._getWidgetName(),n=this._getWidgetOptions();return this.dateBox._createComponent(t,e,n)},_getWidgetOptions:u,_getWidgetName:u,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:u,supportedKeys:r.noop,getKeyboardListener:r.noop,customizeButtons:r.noop,getParsedText:function(t,e){var n=s.default.parse(t,e);return n||s.default.parse(t)},renderInputMinMax:r.noop,renderOpenedState:function(){this._updateValue()},popupConfig:u,_dimensionChanged:function(){var t;null===(t=this._getPopup())||void 0===t||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();o.default.off(e,"mousedown"),o.default.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:r.noop,getLastPopupElement:r.noop,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:r.noop,popupHiddenHandler:r.noop,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:r.noop,getDefaultDate:function(){return new Date},textChangedHandler:r.noop,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}});e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.getGroupCriteria=C,e.setGroupValue=function(t,e){!function(t,e){!function(t){return-1!==t.indexOf("!")}(e)?w(t)&&function(t){var e=C(t);t.length=0,[].push.apply(t,e)}(t):w(t)||function(t){var e=t.slice(0);t.length=0,t.push("!",e)}(t)}(t,e);var n,i=C(t);return e=function(t){return-1===t.indexOf("!")?t:t.substring(1)}(e),function(t,e){for(n=0;n<t.length;n++)Array.isArray(t[n])||(t[n]=e)}(i,e),t},e.getGroupMenuItem=function(t,e){var n=k(t);return e.filter((function(t){return t.value===n}))[0]},e.getGroupValue=k,e.getFilterOperations=E,e.getCaptionByOperation=I,e.getOperationFromAvailable=function(t,e){for(var n=0;n<e.length;n++)if(e[n].value===t)return e[n];throw new l.default.Error("E1048",t)},e.getCustomOperation=T,e.getAvailableOperations=function(t,e,n){var i=E(t),o=!!t.lookup;return n.forEach((function(e){if(!t.filterOperations&&-1===i.indexOf(e.name)){var n=e&&e.dataTypes;!(!!o&&!!e.notForLookup)&&n&&n.indexOf(t.dataType||"string")>=0&&i.push(e.name)}})),i.map((function(t){var i=T(n,t);return i?{icon:i.icon||"icon-none",text:i.caption||(0,d.captionize)(i.name),value:i.name,isCustom:!0}:{icon:m.default.getIconByFilterOperation(t)||"icon-none",text:I(t,e),value:t}}))},e.getDefaultOperation=D,e.createCondition=function(t,e){var n=[t.dataField,"",""],i=D(t);return U(n,i,e),n},e.removeItem=M,e.createEmptyGroup=function(t){return-1!==t.indexOf("not")?["!",[t.substring(3).toLowerCase()]]:[t]},e.isEmptyGroup=function(t){var e=C(t);if(A(e))return!1;return!e.some((function(t){return A(t)}))},e.addItem=function(t,e){var n=C(e),i=k(n);return 1===n.length?n.unshift(t):n.push(t,i),e},e.getField=O,e.isGroup=P,e.isCondition=A,e.convertToInnerStructure=N,e.getNormalizedFields=function(t){return t.reduce((function(t,e){if((0,a.isDefined)(e.dataField)){var n={};for(var i in e)e[i]&&x.indexOf(i)>-1&&(n[i]=e[i]);n.defaultCalculateFilterExpression=u.default.defaultCalculateFilterExpression,(0,a.isDefined)(n.dataType)||(n.dataType="string"),(0,a.isDefined)(n.trueText)||(n.trueText=p.default.format("dxDataGrid-trueText")),(0,a.isDefined)(n.falseText)||(n.falseText=p.default.format("dxDataGrid-falseText")),t.push(n)}return t}),[])},e.getFilterExpression=function t(e,n,i,o){if(!(0,a.isDefined)(e))return null;if(w(e)){return["!",t(e[1],n,i,o)]}var r=C(e);if(A(r))return F(r,n,i,o)||null;for(var s,l=[],u=k(r),h=0;h<r.length;h++)P(r[h])?(s=t(r[h],n,i,o))&&(h&&l.push(u),l.push(s)):A(r[h])&&(s=F(r[h],n,i,o))&&(l.length&&l.push(u),l.push(s));return 1===l.length&&(l=l[0]),l.length?l:null},e.getNormalizedFilter=function t(e){var n,i=C(e);if(0===i.length)return null;var o=[];for(n=0;n<i.length;n++)if(P(i[n])){var r=t(i[n]);r?i[n]=r:o.push(i[n])}else A(i[n])&&(q(i[n])||o.push(i[n]));for(n=0;n<o.length;n++)M(i,o[n]);if(1===i.length)return null;i.splice(i.length-1,1),1===i.length&&(e=function(t,e){w(t)?t[1]=e:t=e;return t}(e,i[0]));if(0===e.length)return null;return e},e.getCurrentLookupValueText=function(t,e,n){if(""===e)return void n("");var i=t.lookup;if(i.items)n(i.calculateCellValue(e)||"");else{new g.DataSource(i.dataSource).loadSingle(i.valueExpr,e).done((function(t){n(t?i.displayExpr?(0,s.compileGetter)(i.displayExpr)(t):t:"")})).fail((function(){n("")}))}},e.getCurrentValueText=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"filterBuilder";if(j(e))return"";if(Array.isArray(e)){var r=new o.Deferred;return o.when.apply(this,V(t,e,n,i)).done((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.some((function(t){return!j(t)}))?e.map((function(t){return j(t)?"?":t})):"";r.resolve(i)})),r}return L(t,e,n,i)},e.getItems=G,e.getCaptionWithParents=function t(e,n){if(K(e.dataField))for(var i=$(e.dataField),o=0;o<n.length;o++)if(n[o].dataField===i)return t(n[o],n)+"."+e.caption;return e.caption},e.updateConditionByOperation=U,e.getOperationValue=function(t){var e;e=null===t[2]?"="===t[1]?"isblank":"isnotblank":t[1];return e},e.isValidCondition=q,e.getMergedOperations=function(t,e,n){var i=(0,c.extend)(!0,[],t),o=-1;i.some((function(t,e){if("between"===t.name)return o=e,!0})),-1!==o?i[o]=(0,c.extend)((0,f.getConfig)(e,n),i[o]):i.unshift((0,f.getConfig)(e,n));return i},e.removeFieldConditionsFromFilter=function(t,e){if(!t||0===t.length)return null;return A(t)?Y(t,e)?null:t:X(t,[e],!1)},e.syncFilters=function(t,e){if(null===t||0===t.length)return e;if(A(t))return Y(t,e[0])?e:[t,"and",e];if("and"!==k(t))return[e,"and",t];return X(t,e,!0)},e.getMatchedConditions=function(t,e){if(null===t||0===t.length)return[];if(A(t))return Y(t,e)?[t]:[];if("and"!==k(t))return[];return t.filter((function(t){return A(t)&&Y(t,e)}))},e.filterHasField=function t(e,n){if(null===e||0===e.length)return!1;if(A(e))return e[0]===n;return e.some((function(e){return(A(e)||P(e))&&t(e,n)}))},e.renderValueText=void 0;var i=v(n(1)),o=n(8),r=v(n(69)),a=n(2),s=n(29),l=v(n(25)),u=v(n(122)),h=v(n(220)),c=n(3),d=n(60),f=n(495),p=v(n(18)),g=n(107),m=v(n(496));function v(t){return t&&t.__esModule?t:{default:t}}var y={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},_={date:"shortDate",datetime:"shortDateShortTime"},b=["=","<>","isblank","isnotblank"],x=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"];function w(t){return t&&t.length>1&&"!"===t[0]&&!A(t)}function C(t){return w(t)?t[1]:t}function S(t){if(A(t))return"and";for(var e="",n=0;n<t.length;n++){var i=t[n];if(!Array.isArray(i)){if(e&&e!==i)throw new r.default.errors.Error("E4019");"!"!==i&&(e=i)}}return e}function k(t){var e=C(t),n=S(e);return n||(n="and"),e!==t&&(n="!"+n),n}function E(t){var e,n=(e=t.filterOperations,Array.isArray(e)&&e.length?t.filterOperations:function(t){return t.lookup&&b||y[t.dataType||"string"]}(t));return(0,c.extend)([],n)}function I(t,e){var n=m.default.getNameByFilterOperation(t);return e&&e[n]?e[n]:n}function T(t,e){var n=t.filter((function(t){return t.name===e}));return n.length?n[0]:null}function D(t){return t.defaultFilterOperation||E(t)[0]}function M(t,e){var n=C(t),i=n.indexOf(e);return n.splice(i,1),1!==n.length&&n.splice(i,1),t}function O(t,e){for(var n=0;n<e.length;n++){if(e[n].name===t)return e[n];if(e[n].dataField.toLowerCase()===t.toLowerCase())return e[n]}var i=G(e,!0).filter((function(e){return e.dataField.toLowerCase()===t.toLowerCase()}));if(i.length>0)return i[0];throw new l.default.Error("E1047",t)}function P(t){return!!Array.isArray(t)&&(t.length<2||Array.isArray(t[0])||Array.isArray(t[1]))}function A(t){return!!Array.isArray(t)&&(t.length>1&&!Array.isArray(t[0])&&!Array.isArray(t[1]))}function R(t,e){for(var n=S(t).toLowerCase()||"and",i=[],o=0;o<t.length;o++)P(t[o])?(i.push(N(t[o],e)),i.push(n)):A(t[o])&&(i.push(B(t[o],e)),i.push(n));return 0===i.length&&i.push(n),i}function B(t,e){return function(t,e){var n=T(e,t[1]);return n&&n.name===t[1]}(t,e)||t.length<3&&(t[2]=t[1],t[1]="="),t}function N(t,e){return t?A(t=(0,c.extend)(!0,[],t))?[B(t,e),"and"]:w(t)?["!",A(t[1])?[B(t[1],e),"and"]:w(t[1])?[N(t[1],e),"and"]:R(t[1],e)]:R(t,e):["and"]}function F(t,e,n,i){var o=O(t[0],e),r=B(t,n),a=n.length&&T(n,r[1]);return a&&a.calculateFilterExpression?a.calculateFilterExpression.apply(a,[r[2],o,e]):o.createFilterExpression?o.createFilterExpression.apply(o,[r[2],r[1],i]):o.calculateFilterExpression?o.calculateFilterExpression.apply(o,[r[2],r[1],i]):o.defaultCalculateFilterExpression.apply(o,[r[2],r[1],i])}function L(t,e,n,i){var o;return o=!0===e?t.trueText||p.default.format("dxDataGrid-trueText"):!1===e?t.falseText||p.default.format("dxDataGrid-falseText"):function(t,e){var n=t.format||_[t.dataType];return h.default.format(e,n)}(t,e),t.customizeText&&(o=t.customizeText.call(t,{value:e,valueText:o,target:i})),n&&n.customizeText&&(o=n.customizeText.call(n,{value:e,valueText:o,field:t,target:i})),o}function V(t,e,n,i){return e.map((function(e){return L(t,e,n,i)}))}function j(t){return""===t||null===t}function z(t,e){return t.some((function(t){return t.dataField===e}))}function H(t,e,n){var i=n.dataField;K(i)&&(n.parentId=$(i),z(e,n.parentId)||z(t,n.parentId)||H(t,e,{id:n.parentId,dataType:"object",dataField:n.parentId,caption:W(n.parentId,!0),filterOperations:["isblank","isnotblank"]})),e.push(n)}function W(t,e){var n="";if(e)t=t.substring(t.lastIndexOf(".")+1);else if(K(t))return t.split(".").forEach((function(t,e,i){n+=(0,d.captionize)(t),e!==i.length-1&&(n+=".")})),n;return(0,d.captionize)(t)}function G(t,e){for(var n=[],i=0;i<t.length;i++){var o=(0,c.extend)(!0,{caption:W(t[i].dataField,e)},t[i]);o.id=o.name||o.dataField,e?H(t,n,o):n.push(o)}return n}function K(t){return-1!==t.lastIndexOf(".")}function $(t){return t.substring(0,t.lastIndexOf("."))}function U(t,e,n){var i=T(n,e);return i?(!1===i.hasValue?(t[1]=e,t.length=2):(t[1]=e,t[2]=""),t):("isblank"===e?(t[1]="=",t[2]=null):"isnotblank"===e?(t[1]="<>",t[2]=null):(((i=T(n,t[1]))||2===t.length||null===t[2])&&(t[2]=""),t[1]=e),t)}function q(t){return""!==t[2]}function Y(t,e){return t[0]===e}function X(t,e,n){var i=[];return t.forEach((function(t){A(t)?Y(t,e[0])?n?(i.push(e),n=!1):i.splice(i.length-1,1):i.push(t):(i.length||P(t))&&i.push(t)})),0===i.length?null:(n&&(i.push("and"),i.push(e)),1===i.length?i[0]:i)}e.renderValueText=function(t,e,n){if(Array.isArray(e)){var o=e.length-1;t.empty(),e.forEach((function(e,r){(0,i.default)("<span>").addClass("dx-filterbuilder-text-part").text(e).appendTo(t),r!==o&&(0,i.default)("<span>").addClass("dx-filterbuilder-text-separator").text(n&&n.valueSeparator?n.valueSeparator:"|").addClass("dx-filterbuilder-text-separator-empty").appendTo(t)}))}else e?t.text(e):t.text(p.default.format("dxFilterBuilder-enterValueText"))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseOptionName=e.mergeNameParts=void 0,e.mergeNameParts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return t})).join(".")},e.parseOptionName=function(t){var e=t.split("[");return 1===e.length?{isCollectionItem:!1,name:t}:{isCollectionItem:!0,name:e[0],index:Number(e[1].slice(0,-1))}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),o=(n(15),n(128),n(26)),r=(n(193),n(36),n(280),n(194)),a=n(154);Object.keys,i.Component;var s,l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}),(function(t){return t}))},u={fromESObservable:null,toESObservable:null},h={fromESObservable:function(t){return"function"===typeof u.fromESObservable?u.fromESObservable(t):t},toESObservable:function(t){return"function"===typeof u.toESObservable?u.toESObservable(t):t}};s=h},function(t,e,n){var i,o;!function(r){t.exports?(r.default=r,t.exports=r):(i=[n(42)],void 0===(o=function(t){return r(t),r.Highcharts=t,r}.apply(e,i))||(t.exports=o))}((function(t){function e(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n))}e(t=t?t._modules:{},"Mixins/DerivedSeries.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){var n=e.addEvent,i=e.defined,o=t.Series;return{hasDerivedData:!0,init:function(){o.prototype.init.apply(this,arguments),this.initialised=!1,this.baseSeries=null,this.eventRemovers=[],this.addEvents()},setDerivedData:t.noop,setBaseSeries:function(){var t=this.chart,e=this.options.baseSeries;this.baseSeries=i(e)&&(t.series[e]||t.get(e))||null},addEvents:function(){var t=this,e=n(this.chart,"afterLinkSeries",(function(){t.setBaseSeries(),t.baseSeries&&!t.initialised&&(t.setDerivedData(),t.addBaseSeriesEvents(),t.initialised=!0)}));this.eventRemovers.push(e)},addBaseSeriesEvents:function(){var t=this,e=n(t.baseSeries,"updatedData",(function(){t.setDerivedData()})),i=n(t.baseSeries,"destroy",(function(){t.baseSeries=null,t.initialised=!1}));t.eventRemovers.push(e,i)},destroy:function(){this.eventRemovers.forEach((function(t){t()})),o.prototype.destroy.apply(this,arguments)}}})),e(t,"Series/HistogramSeries.js",[t["Core/Series/Series.js"],t["Mixins/DerivedSeries.js"],t["Core/Utilities.js"]],(function(t,e,n){var i=n.arrayMax,o=n.arrayMin,r=n.correctFloat,a=n.isNumber,s=n.merge,l=n.objectEach,u={"square-root":function(t){return Math.ceil(Math.sqrt(t.options.data.length))},sturges:function(t){return Math.ceil(Math.log(t.options.data.length)*Math.LOG2E)},rice:function(t){return Math.ceil(2*Math.pow(t.options.data.length,1/3))}};t.seriesType("histogram","column",{binsNumber:"square-root",binWidth:void 0,pointPadding:0,groupPadding:0,grouping:!1,pointPlacement:"between",tooltip:{headerFormat:"",pointFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/><span style="color:{point.color}">\u25cf</span> {series.name} <b>{point.y}</b><br/>'}},s(e,{setDerivedData:function(){var t=this.baseSeries.yData;t.length&&(t=this.derivedData(t,this.binsNumber(),this.options.binWidth),this.setData(t,!1))},derivedData:function(t,e,n){var s=i(t),u=r(o(t)),h=[],c={},d=[];for(n=this.binWidth=r(a(n)?n||1:(s-u)/e),this.options.pointRange=Math.max(n,0),e=u;e<s&&(this.userOptions.binWidth||r(s-e)>=n||0>=r(r(u+h.length*n)-e));e=r(e+n))h.push(e),c[e]=0;0!==c[u]&&(h.push(r(u)),c[r(u)]=0);var f=function(t){return function(e){for(var n=1;t[n]<=e;)n++;return t[--n]}}(h.map((function(t){return parseFloat(t)})));return t.forEach((function(t){t=r(f(t)),c[t]++})),l(c,(function(t,e){d.push({x:Number(e),y:t,x2:r(Number(e)+n)})})),d.sort((function(t,e){return t.x-e.x})),d},binsNumber:function(){var t=this.options.binsNumber,e=u[t]||"function"===typeof t&&t;return Math.ceil(e&&e(this.baseSeries)||(a(t)?t:u["square-root"](this.baseSeries)))}}))})),e(t,"Series/BellcurveSeries.js",[t["Core/Series/Series.js"],t["Mixins/DerivedSeries.js"],t["Core/Utilities.js"]],(function(t,e,n){function i(t){var e=t.length;return t=t.reduce((function(t,e){return t+e}),0),0<e&&t/e}function o(t,e,n){return t-=e,Math.exp(-t*t/(2*n*n))/(n*Math.sqrt(2*Math.PI))}var r=n.correctFloat,a=n.isNumber;n=n.merge,t.seriesType("bellcurve","areaspline",{intervals:3,pointsInInterval:3,marker:{enabled:!1}},n(e,{setMean:function(){this.mean=r(i(this.baseSeries.yData))},setStandardDeviation:function(){this.standardDeviation=r(function(t,e){var n=t.length;return e=a(e)?e:i(t),t=t.reduce((function(t,n){return t+(n-=e)*n}),0),1<n&&Math.sqrt(t/(n-1))}(this.baseSeries.yData,this.mean))},setDerivedData:function(){1<this.baseSeries.yData.length&&(this.setMean(),this.setStandardDeviation(),this.setData(this.derivedData(this.mean,this.standardDeviation),!1))},derivedData:function(t,e){var n=this.options.intervals,i=this.options.pointsInInterval,r=t-n*e;n=n*i*2+1,i=e/i;var a,s=[];for(a=0;a<n;a++)s.push([r,o(r,t,e)]),r+=i;return s}}))})),e(t,"masters/modules/histogram-bellcurve.src.js",[],(function(){}))}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0);function o(t){var e=function(t){var e=Object(i.useRef)(t);return e.current=t,e}(t);Object(i.useEffect)((function(){return function(){return e.current()}}),[])}},function(t,e,n){"use strict";(function(t,i){var o,r=n(281);o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:i;var a=Object(r.a)(o);e.a=a}).call(this,n(53),n(311)(t))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Item=e.TabPanel=void 0;var o=n(254),r=n(23),a=n(265),s=n(271),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._WidgetClass=o.default,e._defaults={defaultItems:"items",defaultSelectedIndex:"selectedIndex",defaultSelectedItem:"selectedItem"},e._expectedChildren={item:{optionName:"items",isCollectionItem:!0}},e._templateProps=[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent",keyFn:"itemKeyFn"},{tmplOption:"itemTitleTemplate",render:"itemTitleRender",component:"itemTitleComponent",keyFn:"itemTitleKeyFn"}],e}return i(e,t),Object.defineProperty(e.prototype,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e}(a.Component);e.TabPanel=l,l.propTypes={accessKey:r.string,activeStateEnabled:r.bool,animationEnabled:r.bool,dataSource:r.oneOfType([r.array,r.object,r.string]),deferRendering:r.bool,disabled:r.bool,elementAttr:r.object,focusStateEnabled:r.bool,height:r.oneOfType([r.func,r.number,r.string]),hint:r.string,hoverStateEnabled:r.bool,itemHoldTimeout:r.number,items:r.array,loop:r.bool,noDataText:r.string,onContentReady:r.func,onDisposing:r.func,onInitialized:r.func,onItemClick:r.oneOfType([r.func,r.string]),onItemContextMenu:r.func,onItemHold:r.func,onItemRendered:r.func,onOptionChanged:r.func,onSelectionChanged:r.func,onTitleClick:r.oneOfType([r.func,r.string]),onTitleHold:r.func,onTitleRendered:r.func,repaintChangesOnly:r.bool,rtlEnabled:r.bool,scrollByContent:r.bool,scrollingEnabled:r.bool,selectedIndex:r.number,selectedItem:r.object,showNavButtons:r.bool,swipeEnabled:r.bool,tabIndex:r.number,visible:r.bool,width:r.oneOfType([r.func,r.number,r.string])};var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.OptionName="items",e.IsCollectionItem=!0,e.TemplateProps=[{tmplOption:"tabTemplate",render:"tabRender",component:"tabComponent",keyFn:"tabKeyFn"},{tmplOption:"template",render:"render",component:"component",keyFn:"keyFn"}],e}(s.default);e.Item=u,e.default=l},,function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return r})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return c})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return k})),n.d(e,"__classPrivateFieldSet",(function(){return E}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}function s(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{l(i.next(t))}catch(e){r(e)}}function s(t){try{l(i.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function c(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function f(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,e||[]),r=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){o[t]&&(i[t]=function(e){return new Promise((function(n,i){r.push([t,e,n,i])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):h(r[0][2],n)}catch(i){h(r[0][3],i)}var n}function l(t){s("next",t)}function u(t){s("throw",t)}function h(t,e){t(e),r.shift(),r.length&&s(r[0][0],r[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,o){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:o?o(e):e}:o}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,o){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,o,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function E(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";var i,o="object"===typeof Reflect?Reflect:null,r=o&&"function"===typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!==t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var o,r,a,s;if(u(n),void 0===(r=t._events)?(r=t._events=Object.create(null),t._eventsCount=0):(void 0!==r.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),r=t._events),a=r[e]),void 0===a)a=r[e]=n,++t._eventsCount;else if("function"===typeof a?a=r[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(o=h(t))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=d.bind(i);return o.listener=n,i.wrapFn=o,o}function p(t,e,n){var i=t._events;if(void 0===i)return[];var o=i[e];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):m(o,o.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[t];if(void 0===l)return!1;if("function"===typeof l)r(l,this,e);else{var u=l.length,h=m(l,u);for(n=0;n<u;++n)r(h[n],this,e)}return!0},s.prototype.addListener=function(t,e){return c(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return c(this,t,e,!0)},s.prototype.once=function(t,e){return u(e),this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,i,o,r,a;if(u(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(o=-1,r=n.length-1;r>=0;r--)if(n[r]===e||n[r].listener===e){a=n[r].listener,o=r;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,r=Object.keys(n);for(i=0;i<r.length;++i)"removeListener"!==(o=r[i])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,n){(e=t.exports=n(199)).Stream=e,e.Readable=e,e.Writable=n(161),e.Duplex=n(85),e.Transform=n(205),e.PassThrough=n(306)},function(t,e,n){var i=n(130),o=i.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=i:(r(i,e),e.Buffer=a),r(o,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var i=o(t);return void 0!==e?"string"===typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e,i,o){var r=n(129);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var o=i.callback;e.pendingcb--,o(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var s,l=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:r.nextTick;y.WritableState=v;var u=Object.create(n(113));u.inherits=n(101);var h={deprecate:n(304)},c=n(201),d=n(160).Buffer,f=o.Uint8Array||function(){};var p,g=n(202);function m(){}function v(t,e){s=s||n(85),t=t||{};var i=e instanceof s;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,u=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:i&&(u||0===u)?u:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,o){--e.pendingcb,n?(r.nextTick(o,i),r.nextTick(k,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(o(i),t._writableState.errorEmitted=!0,t.emit("error",i),k(t,e))}(t,n,i,e,o);else{var a=C(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),i?l(x,t,n,a,o):x(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(t){if(s=s||n(85),!p.call(y,this)&&!(this instanceof s))return new y(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),c.call(this)}function b(t,e,n,i,o,r,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,r,e.onwrite),e.sync=!1}function x(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),k(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,o=new Array(i),r=e.corkedRequestsFree;r.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,b(t,e,!0,e.length,o,"",r.finish),e.pendingcb++,e.lastBufferedRequest=null,r.next?(e.corkedRequestsFree=r.next,r.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,h=n.encoding,c=n.callback;if(b(t,e,!1,e.objectMode?1:u.length,u,h,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),k(t,e)}))}function k(t,e){var n=C(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,r.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(y,c),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===y&&(t&&t._writableState instanceof v)}})):p=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=t,d.isBuffer(i)||i instanceof f);return s&&!d.isBuffer(t)&&(t=function(t){return d.from(t)}(t)),"function"===typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!==typeof n&&(n=m),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),r.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),r.nextTick(i,a),o=!1),o}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,n,i,o,r){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=d.from(e,n));return e}(e,i,o);i!==a&&(n=!0,o="buffer",i=a)}var s=e.objectMode?1:i.length;e.length+=s;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:o,isBuf:n,callback:r,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,i,o,r);return l}(this,o,s,t,e,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var i=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,k(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(102),n(203).setImmediate,n(53))},,function(t,e,n){"use strict";e.default=void 0;var i=n(21),o=n(14),r=(0,o.hasWindow)()?(0,o.getWindow)().WeakMap:WeakMap;r||(r=function(){var t=[],e=[];this.set=function(n,o){var r=(0,i.inArray)(n,t);-1===r?(t.push(n),e.push(o)):e[r]=o},this.get=function(n){var o=(0,i.inArray)(n,t);if(-1!==o)return e[o]},this.has=function(e){return-1!==(0,i.inArray)(e,t)},this.delete=function(n){var o=(0,i.inArray)(n,t);-1!==o&&(t.splice(o,1),e.splice(o,1))}});var a=r;e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=function(t,e){var n={ERROR_MESSAGES:(0,o.extend)(e,t),Error:function(){return h([].slice.call(arguments))},log:function(t){var e="log";/^E\d+$/.test(t)?e="error":/^W\d+$/.test(t)&&(e="warn"),r.logger[e]("log"===e?t:i([].slice.call(arguments)))}};function i(t){var e=t[0];return u(e,l(e,t=t.slice(1)))}function l(t,e){return e=[n.ERROR_MESSAGES[t]].concat(e),a.format.apply(this,e).replace(/\.*\s*?$/,"")}function u(t,e){return a.format.apply(this,["{0} - {1}. See:\n{2}",t,e,c(t)])}function h(t){var e=t[0],n=l(e,t=t.slice(1)),i=c(e),r=u(e,n);return(0,o.extend)(new Error(r),{__id:e,__details:n,url:i})}function c(t){return s+t}return n};var i,o=n(3),r=n(131),a=n(55);var s="http://js.devexpress.com/error/"+((i=n(206))&&i.__esModule?i:{default:i}).default.split(".").slice(0,2).join("_")+"/";t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(5),r=(i=n(38))&&i.__esModule?i:{default:i};function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.memory=[],this.callbacks=(0,r.default)()}var e,n,i;return e=t,(n=[{key:"add",value:function(t){(0,o.each)(this.memory,(function(e,n){return t.apply(t,n)})),this.callbacks.add(t)}},{key:"remove",value:function(t){this.callbacks.remove(t)}},{key:"fire",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.memory.push(e),this.callbacks.fire.apply(this.callbacks,e)}}])&&a(e.prototype,n),i&&a(e,i),t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.createDefaultOptionRules=e.getNestedOptionValue=e.getParentName=e.getFieldName=e.deviceMatch=e.normalizeOptions=e.convertRulesToOptions=void 0;var i,o=(i=n(17))&&i.__esModule?i:{default:i},r=n(2),a=n(6),s=n(3),l=n(29);var u={};e.convertRulesToOptions=function(t){var e=o.default.current();return t.reduce((function(t,n){var i=n.device,o=n.options,a=i||{};return((0,r.isFunction)(a)?a(e):h(e,a))&&(0,s.extend)(!0,t,o),t}),{})};e.normalizeOptions=function(t,e){return"string"!==typeof t?t:function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)};var h=function(t,e){return(0,r.isEmptyObject)(e)||(0,a.findBestMatches)(t,[e]).length>0};e.deviceMatch=h;e.getFieldName=function(t){return t.substr(t.lastIndexOf(".")+1)};e.getParentName=function(t){return t.substr(0,t.lastIndexOf("."))};e.getNestedOptionValue=function(t,e){return u[e]=u[e]||(0,l.compileGetter)(e),u[e](t,{functionsAsIs:!0})};e.createDefaultOptionRules=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t}},function(t,e,n){"use strict";e.name=void 0;var i=s(n(1)),o=s(n(7)),r=s(n(78)),a=n(13);function s(t){return t&&t.__esModule?t:{default:t}}e.name="dxmousewheel";var l={setup:function(t){var e=(0,i.default)(t);o.default.on(e,(0,a.addNamespace)("wheel","dxWheel"),l._wheelHandler.bind(l))},teardown:function(t){o.default.off(t,".".concat("dxWheel"))},_wheelHandler:function(t){var e=t.originalEvent,n=e.deltaMode,i=e.deltaY,o=e.deltaX,r=e.deltaZ;(0,a.fireEvent)({type:"dxmousewheel",originalEvent:t,delta:this._normalizeDelta(i,n),deltaX:o,deltaY:i,deltaZ:r,deltaMode:n,pointerType:"mouse"}),t.stopPropagation()},_normalizeDelta:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===e?-t:-30*t}};(0,r.default)("dxmousewheel",l)},function(t,e,n){"use strict";e.end=e.start=void 0;var i=h(n(7)),o=n(54),r=h(n(20)),a=h(n(17)),s=h(n(78)),l=n(13),u=h(n(33));function h(t){return t&&t.__esModule?t:{default:t}}e.start="dxhoverstart";var c=(0,l.addNamespace)(u.default.enter,"dxHoverStart");e.end="dxhoverend";var d=(0,l.addNamespace)(u.default.leave,"dxHoverEnd"),f=r.default.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(t){(0,o.data)(t,this._handlerArrayKeyPath,{})},add:function(t,e){var n=this,r=function(t){n._handler(t)};i.default.on(t,this._originalEventName,e.selector,r),(0,o.data)(t,this._handlerArrayKeyPath)[e.guid]=r},_handler:function(t){(0,l.isTouchEvent)(t)||a.default.isSimulator()||(0,l.fireEvent)({type:this._eventName,originalEvent:t,delegateTarget:t.delegateTarget})},remove:function(t,e){var n=(0,o.data)(t,this._handlerArrayKeyPath)[e.guid];i.default.off(t,this._originalEventName,e.selector,n)},teardown:function(t){(0,o.removeData)(t,this._handlerArrayKeyPath)}}),p=f.inherit({ctor:function(){this._eventNamespace="dxHoverStart",this._eventName="dxhoverstart",this._originalEventName=c,this.callBase()},_handler:function(t){(t.pointers||[]).length||this.callBase(t)}}),g=f.inherit({ctor:function(){this._eventNamespace="dxHoverEnd",this._eventName="dxhoverend",this._originalEventName=d,this.callBase()}});(0,s.default)("dxhoverstart",new p),(0,s.default)("dxhoverend",new g)},function(t,e,n){"use strict";e.default=void 0;var i=g(n(1)),o=g(n(7)),r=g(n(17)),a=n(88),s=g(n(87)),l=n(44),u=g(n(67)),h=n(52),c=n(6),d=n(2),f=n(13),p=g(n(136));function g(t){return t&&t.__esModule?t:{default:t}}var m=u.default.add,v=Math.abs,y=10,_=(0,s.default)((function(){var t="desktop"===r.default.real().deviceType;if(!(0,a.styleProp)("pointer-events")||!t)return c.noop;var e=(0,i.default)("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return o.default.subscribeGlobal(e,"dxmousewheel",(function(t){t.preventDefault()})),m((function(){e.appendTo("body")})),function(t,n){e.css("pointerEvents",t?"all":"none"),t&&e.css("cursor",n)}})),b=p.default.inherit({gesture:!0,configure:function(t){this.getElement().css("msTouchAction",t.immediate?"pinch-zoom":""),this.callBase(t)},allowInterruptionByMouseWheel:function(){return 2!==this._stage},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=0},start:function(t){t._needSkipEvent||(0,f.needSkipEvent)(t)?this._cancel(t):(this._startEvent=(0,f.createEvent)(t),this._startEventData=(0,f.eventData)(t),this._stage=1,this._init(t),this._setupImmediateTimer())},_setupImmediateTimer:function(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate&&(this._immediateTimer=setTimeout(function(){this._immediateAccepted=!0}.bind(this),180))},move:function(t){if(1===this._stage&&this._directionConfirmed(t)){if(this._stage=2,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(t),this._adjustStartEvent(t),this._start(this._startEvent),0===this._stage)return;this._requestAccept(t),this._move(t),this._forgetAccept()}else 2===this._stage&&(this._clearSelection(t),this._move(t))},_directionConfirmed:function(t){var e=this._getTouchBoundary(t),n=(0,f.eventDelta)(this._startEventData,(0,f.eventData)(t)),i=v(n.x),o=v(n.y),r=this._validateMove(e,i,o),a=this._validateMove(e,o,i),s=this.getDirection(t);return"both"===s&&(r||a)||"horizontal"===s&&r||"vertical"===s&&a||this._immediateAccepted},_validateMove:function(t,e,n){return e&&e>=t&&(!this.immediate||e>=n)},_getTouchBoundary:function(t){return this.immediate||(0,f.isDxMouseWheelEvent)(t)?0:y},_adjustStartEvent:function(t){var e=this._getTouchBoundary(t),n=(0,f.eventDelta)(this._startEventData,(0,f.eventData)(t));this._startEvent.pageX+=(0,h.sign)(n.x)*e,this._startEvent.pageY+=(0,h.sign)(n.y)*e},_resetActiveElement:function(){"ios"===r.default.real().platform&&this.getElement().find(":focus").length&&(0,l.resetActiveElement)()},_toggleGestureCover:function(t){this._toggleGestureCoverImpl(t)},_toggleGestureCoverImpl:function(t){2===this._stage&&function(t,e){_()(t,e)}(t,this.getElement().css("cursor"))},_clearSelection:function(t){(0,f.isDxMouseWheelEvent)(t)||(0,f.isTouchEvent)(t)||(0,l.clearSelection)()},end:function(t){this._toggleGestureCover(!1),2===this._stage?this._end(t):1===this._stage&&this._stop(t),this._stage=0},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:c.noop,_start:c.noop,_move:c.noop,_stop:c.noop,_end:c.noop});b.initialTouchBoundary=y,b.touchBoundary=function(t){if(!(0,d.isDefined)(t))return y;y=t};var x=b;e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(3),o={_formatNumberCore:function(t,e,n){if("currency"===e){n.precision=n.precision||0;var o=this.format(t,(0,i.extend)({},n,{type:"fixedpoint"})),r=this.getCurrencySymbol().symbol.replace("$","$$$$");return o=o.replace(/^(\D*)(\d.*)/,"$1"+r+"$2")}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";e.getFormat=void 0;var i,o=(i=n(75))&&i.__esModule?i:{default:i};var r=" .,:;/\\<>()-[]\u060c",a=function(t){var e=t&&o.default.convertDigits(t,!1).charCodeAt(0),n=o.default.convertDigits("0",!1).charCodeAt(0);return n<=e&&e<n+10},s=function(t,e,n){var i=t[e],o=t[e+1];if(!n){if("."===i||" "===i&&". m."===t.slice(e-1,e+3))return!0;if("-"===i&&!a(o))return!0}return r.indexOf(i)<0&&n===a(i)},l=function(t,e){if(!a(t[e]))for(;e>0&&!a(t[e-1])&&("."===t[e-1]||r.indexOf(t[e-1])<0);)e--;return e},u=function(t,e){return Array.isArray(t)?t.map((function(t){return(e(t)||"").toString()})):(e(t)||"").toString()},h=/[a-zA-Z]/g;e.getFormat=function(t){var e=[],n=u(new Date(2009,8,8,6,5,4),t),i=n.split("").map((function(t,e){return e})),o=n,r={},c=[{date:new Date(2009,8,8,6,5,4,100),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(o)return c.forEach((function(h){var c=function(t,e,n,i){var o=0,r=[],u=function(e){return t[o]!==e[o]&&(void 0===i||a(t[o])===i)};for(Array.isArray(e)||(e=[e]),o=0;o<t.length;o++)if(n.indexOf(o)<0&&e.filter(u).length){o=l(t,o);do{if(i=a(t[o]),!r.length&&!i&&a(e[0][o]))break;r.push(o),n.unshift(o),o++}while(t[o]&&s(t,o,i));break}return 1!==r.length||"0"!==t[n[0]-1]&&"\u0660"!==t[n[0]-1]||n.unshift(n[0]-1),r}(n,u(h.date,t),e,h.isDigit),d="M"!==h.pattern||r.d?h.pattern:"L";o=function(t,e,n,i){var o,r,s;if(!a(t[e[0]]||"0")){for(var l=Math.max(e.length<=3?3:4,n.length);e.length>l;){for(s=i[r=e.pop()],i[r]=-1,o=r+1;o<i.length;o++)i[o]--;t=t.substr(0,s)+t.substr(s+1)}for(s=(r=e[e.length-1]+1)<i.length?i[r]:r;e.length<l;){for(e.push(e[e.length-1]+1),o=r;o<i.length;o++)i[o]++;t=t.substr(0,s)+" "+t.substr(s)}}return t=function(t,e,n,i){var o=e[0],r=o<i.length?i[o]:o;return e.forEach((function(e,i){t=t.substr(0,r+i)+(n.length>1?n[i]:n)+t.substr(r+i+1)})),1===e.length&&(t=(t=t.replace("0"+n,n+n)).replace("\u0660"+n,n+n)),t}(t,e,n,i)}(o,c,d,i),r[d]=c.length})),o=function(t,e,n,i){var o=e.split("").map((function(t,e){return n.indexOf(e)<0&&(t.match(h)||"'"===t)?i[e]:-1}));return t=t.split("").map((function(t,e){var n=t,i=o.indexOf(e)>=0,r=e>0&&o.indexOf(e-1)>=0,a=o.indexOf(e+1)>=0;return i&&(r||(n="'"+n),a||(n+="'")),n})).join("")}(o,n,e,i),e.length?o:void 0}},function(t,e,n){"use strict";e.getParser=e.getPatternSetters=e.getRegExpInfo=void 0;var i=n(6),o={3:"abbreviated",4:"wide",5:"narrow"},r=function(t,e){return t>2?Object.keys(o).map((function(t){return["format","standalone"].map((function(n){return e.getMonthNames(o[t],n).join("|")})).join("|")})).join("|"):"0?[1-9]|1[012]"},a={y:function(t){return"[0-9]+"},M:r,L:r,Q:function(t,e){return t>2?e.getQuarterNames(o[t],"format").join("|"):"0?[1-4]"},E:function(t,e){return"\\D*"},a:function(t,e){return e.getPeriodNames(o[t<3?3:t],"format").join("|")},d:function(t){return"0?[1-9]|[12][0-9]|3[01]"},H:function(t){return"0?[0-9]|1[0-9]|2[0-3]"},h:function(t){return"0?[1-9]|1[012]"},m:function(t){return"0?[0-9]|[1-5][0-9]"},s:function(t){return"0?[0-9]|[1-5][0-9]"},S:function(t){return"[0-9]{1,"+t+"}"},w:function(t){return"0?[0-9]|[1-5][0-9]"}},s=Number,l=function(t,e){return t.map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase())},u=function(t,e,n){return e>2?["format","standalone"].map((function(e){return Object.keys(o).map((function(i){var r=n.getMonthNames(o[i],e);return l(r,t)}))})).reduce((function(t,e){return t.concat(e)})).filter((function(t){return t>=0}))[0]:s(t)-1},h={y:function(t,e){var n=s(t);return 2===e?n<30?2e3+n:1900+n:n},M:u,L:u,Q:function(t,e,n){return e>2?n.getQuarterNames(o[e],"format").indexOf(t):s(t)-1},E:function(t,e,n){var i=n.getDayNames(o[e<3?3:e],"format");return l(i,t)},a:function(t,e,n){var i=n.getPeriodNames(o[e<3?3:e],"format");return l(i,t)},d:s,H:s,h:s,m:s,s:s,S:function(t,e){for(e=Math.max(e,3),t=t.slice(0,3);e<3;)t+="0",e++;return s(t)}},c=["y","M","d","h","m","s","S"],d={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(t,e,n){var i=t.getHours(),o=n.h;void 0!==o&&o!==i&&i--,e||12!==i?e&&12!==i&&(i+=12):i=0,t.setHours(i)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},f=function(t,e){var n=t[e],i=0;do{e++,i++}while(t[e]===n);return i},p=function(t,e){for(var n="",i=0;i<e;i++)n+=t;return n},g=function(t,e){for(var n,o="",r="",s=[],l=function(){r&&(s.push("'"+r+"'"),o+=(0,i.escapeRegExp)(r)+")",r="")},u=0;u<t.length;u++){var h=t[u],c=a[h];if(!("'"===h)||(n=!n,"'"===t[u-1]))if(c&&!n){var d=f(t,u),g=p(h,d);l(),s.push(g),o+="("+c(d,e)+")",u+=d-1}else r||(o+="("),r+=h}return l(),{patterns:s,regexp:new RegExp("^"+o+"$","i")}};e.getRegExpInfo=g;e.getPatternSetters=function(){return d};e.getParser=function(t,e){var n=g(t,e);return function(t){var i=n.regexp.exec(t);if(i){var o=new Date,r=new Date(o.getFullYear(),0,1),a=n.patterns.map((function(t){return"'"===t[0]?"":"H"===t[0]?"h":t[0]})),s=function(t){var e=t.map((function(t){return c.indexOf(t)}));return Math.max.apply(Math,e)}(a),l=function(t){var e=t.filter((function(t){return c.indexOf(t)<0}));return c.concat(e)}(a),u={};return l.forEach((function(t,l){if(t&&!(l<c.length&&l>s)){var f=a.indexOf(t);if(f>=0){var p=n.patterns[f],g=i[f+1];!function(t,e,n,i,o){var r=e[0],a=d[r],s=h[r];if(a&&s){var l=s(n,e.length,i);o[e]=l,t[a]?t[a](l):a(t,l,o)}}(r,p,g,e,u)}else!function(t,e,n){var i=d[e],o=n["g"+i.substr(1)]();t[i](o)}(r,t,o)}})),r}return null}}},function(t,e,n){"use strict";e.name=void 0;var i=h(n(7)),o=n(44),r=h(n(16)),a=h(n(20)),s=h(n(78)),l=n(30),u=n(13);function h(t){return t&&t.__esModule?t:{default:t}}e.name="dxdblclick";var c=(0,u.addNamespace)(l.name,"dxDblClick"),d=a.default.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-300},add:function(){this._handlerCount<=0&&i.default.on(r.default.getDocument(),c,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(t){var e=t.timeStamp||Date.now();e-this._lastClickTimeStamp<300?((0,u.fireEvent)({type:"dxdblclick",target:(0,o.closestCommonParent)(this._firstClickTarget,t.target),originalEvent:t}),this._forgetLastClick()):(this._firstClickTarget=t.target,this._lastClickTimeStamp=e)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),i.default.off(r.default.getDocument(),c))}});(0,s.default)("dxdblclick",new d)},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.registerKeyboardAction=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(n(80));function r(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}e.registerKeyboardAction=function(t,e,n,i,r){var a=e.getController("keyboardNavigation");if(!(e.option("useLegacyKeyboardNavigation")||a&&!a.isKeyboardEnabled())){e.createAction("onKeyDown"),o.registerKeyboardAction(t,e,n,i,r,(function(t){e.executeAction("onKeyDown",t)}))}}},function(t,e,n){"use strict";e.default=void 0;var i=f(n(1)),o=f(n(51)),r=n(92),a=n(2),s=f(n(46)),l=f(n(69)),u=f(n(139)),h=f(n(140)),c=f(n(106)),d=n(8);function f(t){return t&&t.__esModule?t:{default:t}}function p(t){return t&&(0,a.isFunction)(t.then)}function g(t){return(new d.Deferred).resolve(t).promise()}function m(t,e){if(!(0,a.isFunction)(e))throw l.default.errors.Error("E4011",t)}function v(t){throw l.default.errors.Error("E4012",t)}function y(t){function e(t){var e=t[0],n=t[1];return e&&e.getResponseHeader?o.default.errorMessageFromXhr(e,n):null}return function(n){var i;(i=n instanceof Error?n:new Error(e(arguments)||n&&String(n)||"Unknown error")).message!==o.default.XHR_ERROR_UNLOAD&&t.reject(i)}}function _(t,e){var n,i=t._loadFunc;return m("load",i),n=i.apply(t,[e]),Array.isArray(n)?n=g(n):null===n||void 0===n?n=g([]):p(n)||v("load"),(0,d.fromPromise)(n)}function b(t,e,n,i){if(e.__rawData)i(e.__rawData);else{var o=e.__rawDataPromise||_(e,n);e._cacheRawData&&(e.__rawDataPromise=o),o.always((function(){delete e.__rawDataPromise})).done((function(t){e._cacheRawData&&(e.__rawData=t),i(t)})).fail(y(t))}}function x(t,e,n,o){var r={};"userData"in(n=n||{})&&(r.userData=n.userData),b(t,e,r,(function(r){var a,s,l,u,f=(0,h.default)(r,{errorHandler:e._errorHandler}),p=[];o||((a=c.default.queryByOptions(f,n))===f?l=r.slice(0):p.push(a.enumerate().done((function(t){l=t})))),(n.requireTotalCount||o)&&((s=c.default.queryByOptions(f,n,!0))===f?u=r.length:p.push(s.count().done((function(t){u=t})))),d.when.apply(i.default,p).done((function(){o?t.resolve(u):n.requireTotalCount?t.resolve(l,{totalCount:u}):t.resolve(l)})).fail((function(e){t.reject(e)}))}))}var w=u.default.inherit({ctor:function(t){t=t||{},this.callBase(t),this._useDefaultSearch=!!t.useDefaultSearch||"raw"===t.loadMode,this._loadMode=t.loadMode,this._cacheRawData=!1!==t.cacheRawData,this._loadFunc=t.load,this._totalCountFunc=t.totalCount,this._byKeyFunc=t.byKey,this._insertFunc=t.insert,this._updateFunc=t.update,this._removeFunc=t.remove},createQuery:function(){throw l.default.errors.Error("E4010")},clearRawDataCache:function(){delete this.__rawData},_totalCountImpl:function(t){var e=new d.Deferred;return"raw"!==this._loadMode||this._totalCountFunc?(function(t,e){var n,i=t._totalCountFunc;if(!(0,a.isFunction)(i))throw l.default.errors.Error("E4021");return p(n=i.apply(t,[e]))||(n=Number(n),isFinite(n)||v("totalCount"),n=g(n)),(0,d.fromPromise)(n)}(this,t).done((function(t){e.resolve(Number(t))})).fail(y(e)),e=this._addFailHandlers(e)):x(e,this,t,!0),e.promise()},_pushImpl:function(t){this.__rawData&&(0,r.applyBatch)({keyInfo:this,data:this.__rawData,changes:t})},_loadImpl:function(t){var e=new d.Deferred;return"raw"===this._loadMode?x(e,this,t,!1):(_(this,t).done((function(t,n){e.resolve(t,n)})).fail(y(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(t,e){var n=new d.Deferred;return this._byKeyViaLoad()?(this._requireKey(),function(t,e,n){b(t,e,{},(function(i){for(var r,a=e.key(),s=0,u=i.length;s<u;s++)if(r=i[s],o.default.keysEqual(a,e.keyOf(i[s]),n))return void t.resolve(r);t.reject(l.default.errors.Error("E4009"))}))}(n,this,t)):function(t,e,n){var i,o=t._byKeyFunc;return m("byKey",o),p(i=o.apply(t,[e,n]))||(i=g(i)),(0,d.fromPromise)(i)}(this,t,e).done((function(t){n.resolve(t)})).fail(y(n)),n.promise()},_byKeyViaLoad:function(){return"raw"===this._loadMode&&!this._byKeyFunc},_insertImpl:function(t){var e,n=this,i=n._insertFunc,o=new d.Deferred;return m("insert",i),p(e=i.apply(n,[t]))||(e=g(e)),(0,d.fromPromise)(e).done((function(e){(0,s.default)().useLegacyStoreResult?o.resolve(t,e):o.resolve(e||t,n.keyOf(e))})).fail(y(o)),o.promise()},_updateImpl:function(t,e){var n,i=this._updateFunc,o=new d.Deferred;return m("update",i),p(n=i.apply(this,[t,e]))||(n=g(n)),(0,d.fromPromise)(n).done((function(n){(0,s.default)().useLegacyStoreResult?o.resolve(t,e):o.resolve(n||e,t)})).fail(y(o)),o.promise()},_removeImpl:function(t){var e,n=this._removeFunc,i=new d.Deferred;return m("remove",n),p(e=n.apply(this,[t]))||(e=g()),(0,d.fromPromise)(e).done((function(){i.resolve(t)})).fail(y(i)),i.promise()}});e.default=w,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=c(n(7)),r=n(13),a=n(6),s=n(5),l=c(n(17)),u=c(n(20)),h=c(n(229));function c(t){return t&&t.__esModule?t:{default:t}}var d=u.default.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=t._$container,this._$content=t._$content,this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this._showScrollbar=t.option("showScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t)},render:function(){this._renderPushBackOffset();var t=l.default.real().platform;this._$element.addClass("dx-scrollable-native").addClass("dx-scrollable-native-"+t).toggleClass("dx-scrollable-scrollbars-hidden",!this._showScrollbar),this._showScrollbar&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateBounds:a.noop,_renderPushBackOffset:function(){var t=this.option("pushBackValue");(t||this._component._lastPushBackValue)&&(this._$content.css({paddingTop:t,paddingBottom:t}),this._component._lastPushBackValue=t)},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass("dx-scrollable-scrollbar-simulated"),this._renderScrollbar("vertical"),this._renderScrollbar("horizontal")},_renderScrollbar:function(t){this._isDirection(t)&&(this._scrollbars[t]=new h.default((0,i.default)("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:a.noop,handleStart:function(){this._disablePushBack=!0},handleMove:function(t){this._isLocked()?t.cancel=!0:this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:function(){this._disablePushBack=!1},handleCancel:a.noop,handleStop:a.noop,_eachScrollbar:function(t){t=t.bind(this),(0,s.each)(this._scrollbars||{},(function(e,n){t(n,e)}))},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var t=this.location(),e=this._$container.get(0);return{event:this._eventForUserAction,scrollOffset:{top:-t.top,left:-t.left},reachedLeft:this._isDirection("horizontal")?t.left>=0:void 0,reachedRight:this._isDirection("horizontal")?Math.abs(t.left)>=e.scrollWidth-e.clientWidth:void 0,reachedTop:this._isDirection("vertical")?t.top>=0:void 0,reachedBottom:this._isDirection("vertical")?Math.abs(t.top)>=e.scrollHeight-e.clientHeight-2*this.option("pushBackValue"):void 0}},handleScroll:function(t){this._isScrollLocationChanged()?(this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs()),this._lastLocation=this.location(),this._pushBackFromBoundary()):t.stopImmediatePropagation()},_pushBackFromBoundary:function(){var t=this.option("pushBackValue");if(t&&!this._disablePushBack){var e=this._containerSize.height-this._contentSize.height,n=this._$container.scrollTop();n?e+n-2*t||this._$container.scrollTop(t-e):this._$container.scrollTop(t)}},_isScrollLocationChanged:function(){var t=this.location(),e=this._lastLocation||{},n=e.top!==t.top,i=e.left!==t.left;return n||i},_moveScrollbars:function(){this._eachScrollbar((function(t){t.moveTo(this.location()),t.option("visible",!0)})),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(function(){this._eachScrollbar((function(t){t.option("visible",!1)}))}.bind(this),500)},location:function(){return{left:-this._$container.scrollLeft(),top:this.option("pushBackValue")-this._$container.scrollTop()}},disabledChanged:a.noop,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:this._$container.height(),width:this._$container.width()},this._componentContentSize={height:this._component.$content().height(),width:this._component.$content().width()},this._contentSize={height:this._$content.height(),width:this._$content.width()},this._pushBackFromBoundary()},_updateScrollbars:function(){this._eachScrollbar((function(t,e){var n="vertical"===e?"height":"width";t.option({containerSize:this._containerSize[n],contentSize:this._componentContentSize[n]}),t.update()}))},_allowedDirections:function(){return{vertical:this._isDirection("vertical")&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection("horizontal")&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,e=new RegExp("dx-scrollable-native\\S*","g");e.test(t)&&this._$element.removeClass(t.match(e).join(" ")),o.default.off(this._$element,".dxNativeScrollable"),o.default.off(this._$container,".dxNativeScrollable"),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar((function(t){t.$element().remove()}))},scrollBy:function(t){var e=this.location();this._$container.scrollTop(Math.round(-e.top-t.top+this.option("pushBackValue"))),this._$container.scrollLeft(Math.round(-e.left-t.left))},validate:function(t){return!this.option("disabled")&&((!(0,r.isDxMouseWheelEvent)(t)||!this._isScrolledInMaxDirection(t))&&!!this._allowedDirection())},_isScrolledInMaxDirection:function(t){var e=this._$container.get(0);return t.delta>0?t.shiftKey?!e.scrollLeft:!e.scrollTop:t.shiftKey?e.clientWidth+e.scrollLeft>=e.scrollWidth:e.clientHeight+e.scrollTop>=e.scrollHeight},getDirection:function(){return this._allowedDirection()},verticalOffset:function(){return this.option("pushBackValue")}});e.default=d,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(369))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=n(3),r=u(n(18)),a=u(n(144)),s=u(n(25)),l=n(8);function u(t){return t&&t.__esModule?t:{default:t}}var h={_getDefaultOptions:function(){return(0,o.extend)(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var t=this.$element(),e=this.option("searchEnabled"),n=this._addWidgetPrefix("search"),o=this._addWidgetPrefix("with-search");if(!e)return t.removeClass(o),void this._removeSearchBox();var r=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(r):(t.addClass(o),this._$searchEditorElement=(0,i.default)("<div>").addClass(n).prependTo(t),this._searchEditor=this._createComponent(this._$searchEditorElement,a.default,r))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var t=this,e=t.option("searchEditorOptions"),n=r.default.format("Search");return(0,o.extend)({mode:"search",placeholder:n,tabIndex:t.option("tabIndex"),value:t.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":n},onValueChanged:function(e){var n=t.option("searchTimeout");t._valueChangeDeferred=new l.Deferred,clearTimeout(t._valueChangeTimeout),t._valueChangeDeferred.done(function(){this.option("searchValue",e.value)}.bind(t)),e.event&&"input"===e.event.type&&n?t._valueChangeTimeout=setTimeout((function(){t._valueChangeDeferred.resolve()}),n):t._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.$element()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(t,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(t,e)},getOperationBySearchMode:function(t){return"equals"===t?"=":t},_cleanAria:function(t){this.setAria({role:null,activedescendant:null},t),t.attr("tabIndex",null)},_optionChanged:function(t){switch(t.name){case"searchEnabled":case"searchEditorOptions":this._cleanAria(this.option("searchEnabled")?this.$element():this._itemContainer()),this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource)return void s.default.log("W1009");"searchMode"===t.name?this._dataSource.searchOperation(this.getOperationBySearchMode(t.value)):this._dataSource[t.name](t.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(t)}},focus:function(){this.option("focusedElement")||!this.option("searchEnabled")?this.callBase():this._searchEditor&&this._searchEditor.focus()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()}};e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(21);function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=((i=n(386))&&i.__esModule?i:{default:i}).default.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(t)):(0,o.inArray)(t,this._getPlainItems())},getItemDataByIndex:function(t){return this._getPlainItems()[t]},deleteItemAtIndex:function(t){this._getPlainItems().splice(t,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),n=t;if(e){n=[];for(var i=0;i<t.length;i++)n.push(e(t[i]))}return n},getIndexByKey:function(t){var e=this._cache,n=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=n),"object"!==r(t))return n.indexOf(t);for(var i=0,o=n.length;i<o;i++)if(this._equalKeys(t,n[i]))return i;return-1},getItemsByKeys:function(t,e){return(e||t).slice()},moveItemAtIndexToIndex:function(t,e){var n=this._getPlainItems(),i=n[t];n.splice(t,1),n.splice(e,0,i)},_isItemIndex:function(t){return"number"===typeof t&&Math.round(t)===t},_getNormalizedItemIndex:function(t){return this._collectionWidget._itemElements().index(t)},_normalizeItemIndex:function(t){return t},_denormalizeItemIndex:function(t){return t},_getItemByNormalizedIndex:function(t){return t>-1?this._collectionWidget._itemElements().eq(t):null},_itemsFromSameParent:function(){return!0}});e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=y(n(1)),o=n(14),r=n(27),a=y(n(16)),s=y(n(7)),l=y(n(19)),u=n(6),h=n(3),c=n(41),d=y(n(74)),f=n(2),p=n(52),g=n(13),m=y(n(76)),v=n(34);function y(t){return t&&t.__esModule?t:{default:t}}function _(t){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=(0,o.getWindow)(),x={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},w={left:-1,top:-1,center:0,right:1,bottom:1},C={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},S={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},k=function(t){return(0,f.isObject)(t)?t.name:t},E=function(t,e){var n=t.option(e);return k(n)},I=function(t,e){var n=t.option("target"),o=(0,f.isString)(n),l=E(t,e+"Event");if(l&&!t.option("disabled")){var u=(0,g.addNamespace)(l,t.NAME),h=t._createAction(function(){var n=function(t,e){var n=t.option(e);return(0,f.isObject)(n)&&n.delay}(t,e+"Event");this._clearEventsTimeouts(),n?this._timeouts[e]=setTimeout((function(){t[e]()}),n):t[e]()}.bind(t),{validatingTargetName:"target"}),c=function(t){h({event:t,target:(0,i.default)(t.currentTarget)})},d="_"+e+"EventHandler";if(o)t[d]=c,s.default.on(a.default.getDocument(),u,n,c);else{var p=(0,r.getPublicElement)((0,i.default)(n));t[d]=void 0,s.default.on(p,u,c)}}},T=function(t,e,n,o){var l=o||E(t,n+"Event");if(l){l=(0,g.addNamespace)(l,t.NAME);var u="_"+n+"EventHandler";t[u]?s.default.off(a.default.getDocument(),l,e,t[u]):s.default.off((0,r.getPublicElement)((0,i.default)(e)),l)}},D=m.default.inherit({_getDefaultOptions:function(){return(0,h.extend)(this.callBase(),{target:b,shading:!1,position:"bottom",closeOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,closeOnTargetScroll:!0,arrowPosition:"",arrowOffset:0,boundaryOffset:{h:10,v:10}})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!(0,o.hasWindow)()},options:{animation:null}}]},_init:function(){this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass("dx-popover"),this._wrapper().addClass("dx-popover-wrapper")},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(t){T(this,t,"show"),T(this,t,"hide")},_attachEvents:function(){I(this,"show"),I(this,"hide")},_renderArrow:function(){this._$arrow=(0,i.default)("<div>").addClass("dx-popover-arrow").prependTo(this.overlayContent())},_documentDownHandler:function(t){return!this._isOutsideClick(t)||this.callBase(t)},_isOutsideClick:function(t){return!(0,i.default)(t.target).closest(this.option("target")).length},_animate:function(t){t&&t.to&&"object"===_(t.to)&&(0,h.extend)(t.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this._wrapper().toggleClass("dx-popover-without-title",!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition()},_renderOverlayBoundaryOffset:u.noop,_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var t=this._getContainerPosition(),e=d.default.setup(this._$content,t),n=this._getSideByLocation(e);this._togglePositionClass("dx-position-"+n),this._toggleFlippedClass(e.h.flip,e.v.flip),(this._isHorizontalSide()||this._isVerticalSide())&&this._renderArrowPosition(n)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionSide),(0,c.move)(this._$content,{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){if(this._$popupContent){var t=d.default.calculate(this._$content,this._getContainerPosition());if(t.h.oversize>0&&this._isHorizontalSide()&&!t.h.fit){var e=this._$content.width()-t.h.oversize;this._$content.width(e)}if(t.v.oversize>0&&this._isVerticalSide()&&!t.v.fit){var n=this._$content.height()-t.v.oversize,i=this._$popupContent.height()-t.v.oversize;this._$content.height(n),this._$popupContent.height(i)}}},_getContainerPosition:function(){var t=(0,u.pairToObject)(this._position.offset||""),e=t.h,n=t.v,i=this._isVerticalSide(),o=this._isHorizontalSide();if(i||o){var r=(this._isPopoverInside()?-1:1)*w[this._positionSide]*((i?this._$arrow.height():this._$arrow.width())-this._getContentBorderWidth(this._positionSide));i?n+=r:e+=r}return(0,h.extend)({},this._position,{offset:e+" "+n})},_getContentBorderWidth:function(t){var e=this._$content.css(S[t]);return parseInt(e)||0},_getSideByLocation:function(t){var e=t.v.flip,n=t.h.flip;return this._isVerticalSide()&&e||this._isHorizontalSide()&&n||this._isPopoverInside()?x[this._positionSide]:this._positionSide},_togglePositionClass:function(t){this._$wrapper.removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(t)},_toggleFlippedClass:function(t,e){this._$wrapper.toggleClass("dx-popover-flipped-horizontal",t).toggleClass("dx-popover-flipped-vertical",e)},_renderArrowPosition:function(t){var e=(0,v.getBoundingRect)(this._$arrow.get(0)),n=-(this._isVerticalSide(t)?e.height:e.width);this._$arrow.css(x[t],n);var o,r=this._isVerticalSide(t)?"left":"top",a=this._isVerticalSide(t)?"width":"height",s=(0,i.default)(this._position.of),l=d.default.offset(s)||{top:0,left:0},u=d.default.offset(this._$content),h=e[a],c=u[r],f=(0,v.getBoundingRect)(this._$content.get(0))[a],g=l[r],m=s.get(0).preventDefault?0:(0,v.getBoundingRect)(s.get(0))[a],y=Math.max(c,g),_=Math.min(c+f,g+m);o="start"===this.option("arrowPosition")?y-c:"end"===this.option("arrowPosition")?_-c-h:(y+_)/2-c-h/2;var b=this._getContentBorderWidth(t),w=(0,p.fitIntoRange)(o-b+this.option("arrowOffset"),b,f-h-2*b);this._$arrow.css(r,w)},_isPopoverInside:function(){var t=this._transformStringPosition(this.option("position"),C),e=d.default.setup.normalizeAlign(t.my),n=d.default.setup.normalizeAlign(t.at);return e.h===n.h&&e.v===n.v},_setContentHeight:function(t){t&&this.callBase()},_renderWrapperPosition:function(){this.option("shading")&&this._$wrapper.css({top:0,left:0})},_renderWrapperDimensions:function(){this.option("shading")&&this._$wrapper.css({width:"100%",height:"100%"})},_normalizePosition:function(){var t=(0,h.extend)({},this._transformStringPosition(this.option("position"),C));t.of||(t.of=this.option("target")),t.collision||(t.collision="flip"),t.boundaryOffset||(t.boundaryOffset=this.option("boundaryOffset")),this._positionSide=this._getDisplaySide(t),this._position=t},_getDisplaySide:function(t){var e=d.default.setup.normalizeAlign(t.my),n=d.default.setup.normalizeAlign(t.at),i=w[e.h]===w[n.h]&&w[e.v]===w[n.v]?-1:1;return Math.abs(w[e.h]-i*w[n.h])>Math.abs(w[e.v]-i*w[n.v])?n.h:n.v},_isVerticalSide:function(t){return"top"===(t=t||this._positionSide)||"bottom"===t},_isHorizontalSide:function(t){return"left"===(t=t||this._positionSide)||"right"===t},_clearEventTimeout:function(t){clearTimeout(this._timeouts[t])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(t){switch(t.name){case"boundaryOffset":case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":t.value&&this.option("fullScreen",!1);break;case"target":t.previousValue&&this._detachEvents(t.previousValue),this.callBase(t);break;case"showEvent":case"hideEvent":var e=t.name.substring(0,4),n=k(t.previousValue);this.hide(),T(this,this.option("target"),e,n),I(this,e);break;case"visible":this._clearEventTimeout(t.value?"show":"hide"),this.callBase(t);break;default:this.callBase(t)}},show:function(t){return t&&this.option("target",t),this.callBase()}});(0,l.default)("dxPopover",D);var M=D;e.default=M,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.setScrollView=function(t){O=t},e.ListBase=void 0;var i=M(n(1)),o=M(n(7)),r=n(6),a=n(2),s=n(108),l=n(27),u=n(5),h=n(29),c=n(3),d=M(n(57)),f=n(30),p=n(182),g=n(56),m=M(n(18)),v=n(95),y=M(n(17)),_=M(n(402)),b=M(n(45)),x=n(13),w=n(48),C=n(14),S=M(n(240)),k=n(230),E=M(n(183)),I=n(98),T=n(8),D=M(n(241));function M(t){return t&&t.__esModule?t:{default:t}}var O,P=".dx-list-item",A=(0,h.compileGetter)("items"),R=E.default.inherit({_activeStateUnit:[P,".dx-list-select-all"].join(","),_supportedKeys:function(){var t=this,e=function(e){var i=n(e);i.is(t.option("focusedElement"))&&(!function(e,n){var i=e.position().top;"prev"===n&&(i=e.position().top-t.$element().height()+e.outerHeight());t.scrollTo(i)}(i,e),i=n(e)),t.option("focusedElement",(0,l.getPublicElement)(i)),t.scrollToItem(i)};function n(e){var n=t.scrollTop(),o=t.$element().height(),r=(0,i.default)(t.option("focusedElement")),a=!0;if(!r.length)return(0,i.default)();for(;a;){var s=r[e]();if(!s.length)break;var l=s.position().top+s.outerHeight()/2;(a=l<o+n&&l>n)&&(r=s)}return r}return(0,c.extend)(this.callBase(),{leftArrow:r.noop,rightArrow:r.noop,pageUp:function(){return e("prev"),!1},pageDown:function(){return e("next"),!1}})},_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:m.default.format("dxList-pullingDownText"),pulledDownText:m.default.format("dxList-pulledDownText"),refreshingText:m.default.format("dxList-refreshingText"),pageLoadingText:m.default.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:m.default.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},_listAttributes:{role:"listbox"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(t){return t?t.showChevron:void 0},badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=(0,w.current)();return this.callBase().concat((0,k.deviceDependentOptions)(),[{device:function(){return!g.nativeScrolling},options:{useNativeScrolling:!1}},{device:function(t){return!g.nativeScrolling&&!y.default.isSimulator()&&"desktop"===y.default.real().deviceType&&"generic"===t.platform},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return"desktop"===y.default.real().deviceType&&!y.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return(0,w.isMaterial)(t)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:"",useInkRipple:!0}}])},_visibilityChanged:function(t){t&&this._updateLoadingState(!0)},_itemClass:function(){return"dx-list-item"},_itemDataKey:function(){return"dxListItemData"},_itemContainer:function(){return this._$container},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._itemContainer().children(".dx-list-group").children(".dx-list-group-body").children(this._itemSelector()):this._itemElementsCache=this._itemContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(t,e){return this.callBase(t,e).done((function(){this._refreshItemElements()}))},deleteItem:function(t){return this.callBase(t).done((function(){this._refreshItemElements()}))},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(t){"single"===this.option("selectionMode")&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_allowDynamicItemsAppend:function(){return!0},_resetDataSourcePageIndex:function(){var t=this.getDataSource();t&&0!==t.pageIndex()&&(t.pageIndex(0),t.load())},_init:function(){this.callBase(),this._resetDataSourcePageIndex(),this._$container=this.$element(),this._initScrollView(),this._feedbackShowTimeout=70,this._createGroupRenderAction()},_scrollBottomMode:function(){return"scrollBottom"===this.option("pageLoadMode")},_nextButtonMode:function(){return"nextButton"===this.option("pageLoadMode")},_dataSourceOptions:function(){var t=this._scrollBottomMode(),e=this._nextButtonMode();return(0,c.extend)(this.callBase(),{paginate:(0,r.ensureDefined)(t||e,!0)})},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var t=this.option("scrollingEnabled"),e=t&&this.option("pullRefreshEnabled"),n=t&&this._scrollBottomMode()&&!!this._dataSource;this._scrollView=this._createComponent(this.$element(),O||S.default,{disabled:this.option("disabled")||!t,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:n?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=(0,i.default)(this._scrollView.content()),this.option("wrapItemText")&&this._$container.addClass("dx-wrap-item-text"),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(t){this._scrollAction&&this._scrollAction(t)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new I.BindableTemplate((function(t,e){(0,a.isPlainObject)(e)?e.key&&t.text(e.key):t.text(String(e))}),["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(t,e){if(this.callBase(t,e),t.icon){var n=(0,s.getImageContainer)(t.icon).addClass("dx-list-item-icon"),o=(0,i.default)("<div>").addClass("dx-list-item-icon-container");o.append(n),e.prepend(o)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(t){var e=!t||this._isLastPage(),n=this._scrollBottomMode(),i=e||!n,o=i&&!this._isDataSourceLoading();i||this._scrollViewIsFull()?(this._scrollView.release(o),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1)):this._infiniteDataLoading()},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataSource&&this._dataSource.isLoaded()},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(function(){var t=!this._itemElements().length;this._scrollView&&!t&&this._scrollView.startLoading()}.bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()))},_dataSourceChangedHandler:function(t){!this._shouldAppendItems()&&(0,C.hasWindow)()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(t){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=t},_scrollViewIsFull:function(){return!this._scrollView||this._scrollView.isFull()},_pullDownHandler:function(t){this._pullRefreshAction(t),this._dataSource&&!this._isDataSourceLoading()?(this._clearSelectedItems(),this._dataSource.pageIndex(0),this._dataSource.reload()):this._updateLoadingState()},_infiniteDataLoading:function(){!this.$element().is(":visible")||this._scrollViewIsFull()||this._isDataSourceLoading()||this._isLastPage()||(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(this._loadNextPage.bind(this)))},_scrollBottomHandler:function(t){this._pageLoadingAction(t),this._isDataSourceLoading()||this._isLastPage()?this._updateLoadingState():this._loadNextPage()},_renderItems:function(t){this.option("grouped")?((0,u.each)(t,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),(0,w.isMaterial)()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var t=(0,x.addNamespace)(f.name,this.NAME),e=this.$element(),n=this.option("collapsibleGroups");e.toggleClass("dx-list-collapsible-groups",n),o.default.off(e,t,".dx-list-group-header"),n&&o.default.on(e,t,".dx-list-group-header",function(t){this._createAction(function(t){var e=(0,i.default)(t.event.currentTarget).parent();this._collapseGroupHandler(e),this.option("focusStateEnabled")&&this.option("focusedElement",(0,l.getPublicElement)(e.find(".dx-list-item").eq(0)))}.bind(this),{validatingTargetName:"element"})({event:t})}.bind(this))},_collapseGroupHandler:function(t,e){var n=new T.Deferred;if(t.hasClass("dx-list-group-collapsed")===e)return n.resolve();var i=t.children(".dx-list-group-body"),o=i.outerHeight(),r=0===o?i.height("auto").outerHeight():0;return t.toggleClass("dx-list-group-collapsed",e),d.default.animate(i,{type:"custom",from:{height:o},to:{height:r},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(),n.resolve()}.bind(this)}),n.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=(0,i.default)(),this.$element().addClass("dx-list"),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria("role",this.option("_listAttributes").role)},_renderInkRipple:function(){this._inkRipple=(0,v.render)()},_toggleActiveState:function(t,e,n){this.callBase.apply(this,arguments);var i=this;if(this._inkRipple){var o={element:t,event:n};e?(0,w.isMaterial)()?this._inkRippleTimer=setTimeout((function(){i._inkRipple.showWave(o)}),35):i._inkRipple.showWave(o):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(o))}},_postprocessRenderItem:function(t){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent((0,i.default)(t.itemElement))},_attachSwipeEvent:function(t){var e=(0,x.addNamespace)(p.end,this.NAME);o.default.on(t,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(t){this._itemDXEventHandler(t,"onItemSwipe",{direction:t.offset<0?"left":"right"})},_nextButtonHandler:function(t){this._pageLoadingAction(t);var e=this._dataSource;e&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,e){var n=(0,i.default)("<div>").addClass("dx-list-group").appendTo(this._itemContainer()),o=(0,i.default)("<div>").addClass("dx-list-group-header").appendTo(n),r=this.option("groupTemplate"),a=this._getTemplate(e.template||r,e,t,o),s={index:t,itemData:e,container:(0,l.getPublicElement)(o)};this._createItemByTemplate(a,s),(0,w.isMaterial)()&&(0,i.default)("<div>").addClass("dx-list-group-header-indicator").prependTo(o),this._renderingGroupIndex=t;var h=(0,i.default)("<div>").addClass("dx-list-group-body").appendTo(n);(0,u.each)(A(e)||[],function(t,e){this._renderItem(t,e,h)}.bind(this)),this._groupRenderAction({groupElement:(0,l.getPublicElement)(n),groupIndex:t,groupData:e})},downInkRippleHandler:function(t){this._toggleActiveState((0,i.default)(t.currentTarget),!0,t)},upInkRippleHandler:function(t){this._toggleActiveState((0,i.default)(t.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var t=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var e=[t,"dxpointerdown",".dx-list-group-header",this._downInkRippleHandler],n=[t,"dxpointerup dxpointerout",".dx-list-group-header",this._upInkRippleHandler];o.default.off.apply(o.default,e),o.default.on.apply(o.default,e),o.default.off.apply(o.default,n),o.default.on.apply(o.default,n)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),delete this._inkRipple,this.callBase.apply(this,arguments)},_dispose:function(){clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(t){this.callBase(t),this._scrollView.option("disabled",t||!this.option("scrollingEnabled"))},_toggleNextButton:function(t){var e=this._dataSource,n=this._getNextButton();this.$element().toggleClass("dx-has-next",t),t&&e&&e.isLoaded()&&n.appendTo(this._itemContainer()),t||n.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=(0,i.default)("<div>").addClass("dx-list-next-button"),e=(0,i.default)("<div>").appendTo(t);return this._createComponent(e,b.default,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:(0,w.isMaterial)()?"default":void 0,integrationOptions:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if((0,C.hasWindow)()){var t=this._scrollView.scrollTop();this.callBase(),t&&this._scrollView.scrollTo(t)}else this.callBase()},_optionChanged:function(t){switch(t.name){case"pageLoadMode":this._toggleNextButton(t.value),this._initScrollView();break;case"dataSource":this.callBase(t),this._initScrollView();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._$container.toggleClass("dx-wrap-item-text",t.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(t),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(t),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(t);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"_listAttributes":break;default:this.callBase(t)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var e=t.closest(".dx-list-group"),n=e.find(".dx-list-item");return(0,c.extend)(this.callBase(t),{itemIndex:{group:e.index(),item:n.index(t)}})},expandGroup:function(t){var e=new T.Deferred,n=this._itemContainer().find(".dx-list-group").eq(t);return this._collapseGroupHandler(n,!1).done(function(){e.resolveWith(this)}.bind(this)),e.promise()},collapseGroup:function(t){var e=new T.Deferred,n=this._itemContainer().find(".dx-list-group").eq(t);return this._collapseGroupHandler(n,!0).done(function(){e.resolveWith(this)}.bind(this)),e},updateDimensions:function(){var t=this,e=new T.Deferred;return t._scrollView?t._scrollView.update().done((function(){!t._scrollViewIsFull()&&t._updateLoadingState(!0),e.resolveWith(t)})):e.resolveWith(t),e.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(t){this._scrollView.scrollBy(t)},scrollTo:function(t){this._scrollView.scrollTo(t)},scrollToItem:function(t){var e=this._editStrategy.getItemElement(t);this._scrollView.scrollToElement(e)}}).include(D.default);e.ListBase=R,R.ItemClass=_.default},function(t,e,n){"use strict";e.end=e.start=e.swipe=void 0;var i=n(13),o=a(n(169)),r=a(n(105));function a(t){return t&&t.__esModule?t:{default:t}}e.start="dxswipestart";e.swipe="dxswipe";e.end="dxswipeend";var s={horizontal:{defaultItemSizeFunc:function(){return this.getElement().width()},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(t){return((0,i.eventData)(t).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=(0,i.eventData)(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},vertical:{defaultItemSizeFunc:function(){return this.getElement().height()},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(t){return((0,i.eventData)(t).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=(0,i.eventData)(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}}},l=o.default.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return s[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(t){this._tickData=(0,i.eventData)(t)},_start:function(t){this._savedEventData=(0,i.eventData)(t),(t=this._fireEvent("dxswipestart",t)).cancel||(this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset)},_move:function(t){var e=this._getStrategy(),n=(0,i.eventData)(t),o=e.calcOffsetRatio.call(this,t);o=this._fitOffset(o,this.elastic),n.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=n),this._fireEvent("dxswipe",t,{offset:o}),t.preventDefault()},_end:function(t){var e=this._getStrategy(),n=e.calcOffsetRatio.call(this,t),i=e.isFastSwipe.call(this,t),o=n,r=this._calcTargetOffset(n,i);o=this._fitOffset(o,this.elastic),r=this._fitOffset(r,!1),this._fireEvent("dxswipeend",t,{offset:o,targetOffset:r})},_fitOffset:function(t,e){var n=this._getStrategy().getBounds.call(this);return t<-n[0]?e?(-2*n[0]+t)/3:-n[0]:t>n[1]?e?(2*n[1]+t)/3:n[1]:t},_calcTargetOffset:function(t,e){var n;return e?(n=Math.ceil(Math.abs(t)),t<0&&(n=-n)):n=Math.round(t),n}});(0,r.default)({emitter:l,events:["dxswipestart","dxswipe","dxswipeend"]})},function(t,e,n){"use strict";e.default=void 0;var i=f(n(1)),o=f(n(97)),r=n(3),a=n(2),s=n(92),l=f(n(51)),u=n(8),h=n(226),c=f(n(16)),d=n(6);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=o.default.inherit({_getDefaultOptions:function(){return(0,r.extend)(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var t=this;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=function(e){var n=t._dataSource;n&&!n.isLoaded()&&(t._correctionIndex=0),t._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=t._correctionIndex)},this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(t){var e=this,n=(0,i.default)(),o=this.key();return this.itemElements().each((function(r,a){var s=(0,i.default)(a),u=e._getItemData(s);if(o?l.default.keysEqual(o,e.keyOf(u),t):e._isItemEquals(u,t))return n=s,!1})),n},_dataSourceChangedHandler:function(t,e){e&&e.changes?this._modifyByChanges(e.changes):this.callBase(t,e)},_isItemEquals:function(t,e){t&&t.__dx_key__&&(t=t.data);try{return JSON.stringify(t)===JSON.stringify(e)}catch(n){return t===e}},_partialRefresh:function(){var t=this;if(this.option("repaintChangesOnly")){var e=(0,h.findChanges)(this._itemsCache,this._editStrategy.itemsGetter(),(function(e){return e&&void 0!==e.__dx_key__?e.__dx_key__:t.keyOf(e)}),this._isItemEquals);if(e&&this._itemsCache.length)return this._modifyByChanges(e,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var t=this._editStrategy.itemsGetter();try{this._itemsCache=(0,r.extend)(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((function(e,n){var i;return p(i={},"__dx_key__",t[n]),p(i,"data",e),i})))}catch(e){this._itemsCache=(0,r.extend)([],t)}}},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(t,e,n,i){var o=this;if(i)this._renderItem(n.index,n.data,null,this._findItemElementByKey(n.key));else{var r=e[(0,s.indexByKey)(t,e,n.key)];r&&(0,s.update)(t,e,n.key,n.data).done((function(){o._renderItem(e.indexOf(r),r,null,o._findItemElementByKey(n.key))}))}},_insertByChange:function(t,e,n,i){var o=this;(0,u.when)(i||(0,s.insert)(t,e,n.data,n.index)).done((function(){o._beforeItemElementInserted(n),o._renderItem((0,a.isDefined)(n.index)?n.index:e.length,n.data),o._afterItemElementInserted(),o._correctionIndex++}))},_updateSelectionAfterRemoveByChange:function(t){var e=this.option("selectedIndex");e>t?this.option("selectedIndex",e-1):e===t&&1===this.option("selectedItems").length?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(t){var e=this.option("selectedIndex");t.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:d.noop,_removeByChange:function(t,e,n,i){var o=this,r=i?n.index:(0,s.indexByKey)(t,e,n.key);if(i?n.oldItem:e[r]){var a=this._findItemElementByKey(n.key),l=this._extendActionArgs(a);this._waitDeletingPrepare(a).done((function(){i?(o._updateIndicesAfterIndex(r-1),o._afterItemElementDeleted(a,l),o._updateSelectionAfterRemoveByChange(r)):(o._deleteItemElementByIndex(r),o._afterItemElementDeleted(a,l))})),this._correctionIndex--}},_modifyByChanges:function(t,e){var n=this,i=this._editStrategy.itemsGetter(),o={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},r=this._dataSource,a=r&&r.paginate(),s=r&&r.group();(a||s)&&(t=t.filter((function(t){return"insert"!==t.type||void 0!==t.index}))),t.forEach((function(t){return n["_".concat(t.type,"ByChange")](o,i,t,e)})),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(t,e,n){var i=t.children(this._itemSelector()).get(n);c.default.insertElement(t.get(0),e.get(0),i)},_optionChanged:function(t){switch(t.name){case"items":this._partialRefresh(t.value)||this.callBase(t);break;case"dataSource":this.option("repaintChangesOnly")&&t.value||this.option("items",[]),this.callBase(t);break;case"repaintChangesOnly":break;default:this.callBase(t)}}});e.default=g,t.exports=e.default},function(t,e,n){"use strict";e.createGroupFilter=function(t,e){for(var n=o.default.normalizeSortingInfo(e.group),r=[],a=0;a<t.length;a++)r.push([n[a].selector,"=",t[a]]);e.filter&&r.push(e.filter);return i.default.combineFilters(r)};var i=r(n(31)),o=r(n(51));function r(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.default=void 0;var i=v(n(1)),o=n(6),r=n(2),a=n(3),s=n(21),l=n(5),u=n(8),h=n(27),c=v(n(37)),d=v(n(16)),f=n(95),p=v(n(18)),g=v(n(19)),m=v(n(443));function v(t){return t&&t.__esModule?t:{default:t}}var y=m.default.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),n=function(t){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(t.preventDefault(),this.reset()),this._preventSubstitution=!0},i=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return(0,a.extend)({},e,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._cleanInputSelection(),this._wasSearch()&&this._clearFilter(),e.tab&&e.tab.apply(this,arguments)},upArrow:function(t){if(e.upArrow&&e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},downArrow:function(t){if(e.downArrow&&e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},leftArrow:function(){i(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){i(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){i(),e.home&&e.home.apply(this,arguments)},end:function(){i(),e.end&&e.end.apply(this,arguments)},escape:function(){var t=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),!(0,r.isDefined)(t)||t},enter:function(t){var n=this.option("opened"),i=this._input().val().trim(),o=i&&this._list&&!this._list.option("focusedElement");if(!i&&(0,r.isDefined)(this.option("value"))&&this.option("allowClearing"))this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return t.preventDefault(),o&&(this._valueChangeEventHandler(t),n&&this._toggleOpenState()),n;if(e.enter&&e.enter.apply(this,arguments))return n}},space:function(t){var e=this.option("opened"),n=this.option("searchEnabled"),i=this.option("acceptCustomValue");if(e&&!n&&!i)return t.preventDefault(),this._valueChangeEventHandler(t),!0},backspace:n,del:n})},_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{placeholder:p.default.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){(0,r.isDefined)(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useInkRipple:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),this.option("useInkRipple")&&this._renderInkRipple(),this.callBase(),this._$container.addClass("dx-selectbox-container")},_renderInkRipple:function(){this._inkRipple=(0,f.render)()},_toggleActiveState:function(t,e,n){if(this.callBase.apply(this,arguments),this._inkRipple&&!this._isEditable()){var i={element:this._inputWrapper(),event:n};e?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_createPopup:function(){this.callBase(),this._popup.$element().addClass("dx-selectbox-popup"),this._popup.overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" dx-selectbox-popup-wrapper"},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){if(this._searchValue()){var t=this._list._itemElements(),e=(0,s.inArray)(this.option("selectedItem"),this.option("items")),n=e>=0&&!this._isCustomItemSelected()?t.eq(e):null;this._focusListElement(n)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list)if(this._searchValue()&&!this.option("acceptCustomValue")){var t=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(t)}else this._focusListElement(null)},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",(0,h.getPublicElement)(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase(),this._dataSource&&this._dataSource.paginate()&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new u.Deferred).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new u.Deferred).resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),n=this._valueGetter(e);this._setValue(n)},_setNextValue:function(t){(this._dataSource.isLoaded()?(new u.Deferred).resolve():this._dataSource.load()).done(function(){var e=this._getSelectedIndex(),n=this._dataSource.pageSize(),i=this._dataSource.isLastPage(),o=e===this._items().length-1;this._saveValueChangeEvent(t);var r="ArrowDown"===t.key?1:-1;n&&!i&&o&&r>0?(this._popup||this._createPopup(),this._dataSource.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,r))):this._setNextItem(r)}.bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&void 0===t;this.callBase(e?null:t),e||this._isEditable()&&!this._isCustomItemSelected()||this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!(0,r.isDefined)(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=(0,a.extend)(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&(0,a.extend)(t,{showSelectionControls:!0,selectionByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,n=(0,i.default)(e.option("focusedElement")),o=e._getItemData(n);this._updateField(o)}},_updateField:function(t){if(!this._getTemplateByOption("fieldTemplate")||!this.option("fieldTemplate")){var e=this._displayGetter(t);return this.option("text",e),void this._renderDisplayText(e)}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):o.noop},_selectionChangeHandler:function(t){(0,l.each)(t.addedItems||[],function(t,e){this._setValue(this._valueGetter(e))}.bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if((t=arguments.length?t:!this.option("opened"))||this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||0===this.option("minSearchLength");if(e&&this._dataSource){if(this._searchTimer)return;var n=this._getActualSearchValue();n&&this._wasSearch(!0),this._filterDataSource(n||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var t=this.option("selectedItem"),e=this._displayGetter(t);return(e?String(e):"")===this._searchValue()},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var e=this.option("selectedItem");this.option("acceptCustomValue")?t||(this._updateField(e),this._clearFilter()):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(t){var n=(0,o.ensureDefined)(t,e);this._setSelectedItem(n),this._updateField(n),this._clearFilter()}.bind(this))}.bind(this))},_focusOutHandler:function(t){if(!this._preventNestedFocusEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._wasSearch()&&!this.option("acceptCustomValue")&&this.option("searchEnabled")&&this.option("opened")&&!e&&this._searchCanceled()}this.callBase(t)},_isOverlayNestedTarget:function(t){return!!(0,i.default)(t).closest(".".concat("dx-selectbox-popup-wrapper")).length},_clearTextValue:function(){this.option("selectedItem")&&this.option("value",null)},_shouldOpenPopup:function(){return this._needPassDataSourceToList()},_isFocused:function(){var t=d.default.getActiveElement();return this.callBase()&&(0,i.default)(t).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_isEditable:function(){return this.option("acceptCustomValue")||this.option("searchEnabled")},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&(0,i.default)(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_readOnlyPropValue:function(){return!this._isEditable()||this.option("readOnly")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement((0,i.default)(t.itemElement)),this._saveValueChangeEvent(t.event),this._shouldClearFilter()&&this._clearFilter(),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData)},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var n=this,i=new u.Deferred;return this.callBase(t,e).done(function(t){i.resolve(t)}.bind(this)).fail(function(){var e=n.option("selectedItem");n.option("acceptCustomValue")&&t===n._valueGetter(e)?i.resolve(e):i.reject()}.bind(this)),i.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),n=this._displayGetter(t);return!n||e!==n.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t),this._isValueChanging=!1)},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},n=this._customItemCreatingAction(e),i=(0,o.ensureDefined)(n,e.customItem);return(0,r.isDefined)(n)&&c.default.log("W0015","onCustomItemCreating","customItem"),i},_customItemAddedHandler:function(t){var e=this._searchValue(),n=this._createCustomItem(e);if(this._saveValueChangeEvent(t),void 0===n)throw this._renderValue(),c.default.Error("E0121");(0,r.isPromise)(n)?(0,u.fromPromise)(n).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(n)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._shouldClearFilter()&&this._filterDataSource(null),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)))},_clearValueHandler:function(t){return this.callBase(t),!1},_wasSearch:function(t){if(!arguments.length)return this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(t){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(t))},_dataSourceFiltered:function(t){this.callBase(),null!==t&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=0===t.selectionStart&&t.selectionEnd===this._searchValue().length,n=t.selectionStart!==t.selectionEnd;return this._wasSearch()&&n&&!e},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),n=e.val().length;if(0!==n){var i=e.get(0),o=this._displayGetter(t).toString();i.value=o,this._caret({start:n,end:o.length})}}}else delete this._preventSubstitution},_cleanInputSelection:function(){var t=this._input().get(0),e=t.value.length;t.selectionStart=e,t.selectionEnd=e},_dispose:function(){this._renderInputValueAsync=o.noop,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":case"useInkRipple":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}},_clean:function(){delete this._inkRipple,this.callBase()}});(0,g.default)("dxSelectBox",y);var _=y;e.default=_,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=m(n(1)),o=m(n(7)),r=m(n(19)),a=n(3),s=n(6),l=n(14),u=n(60),h=n(2),c=n(88),d=n(5),f=m(n(24)),p=m(n(109)),g=m(n(97));function m(t){return t&&t.__esModule?t:{default:t}}function v(t){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function x(t,e,n){return(x="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=E(t);if(e){var o=E(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return k(this,n)}}function k(t,e){return!e||"object"!==v(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I={row:"minWidth",col:"minHeight"},T={row:"maxWidth",col:"maxHeight"},D={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},M={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},O={row:"row",col:"column"},P=function(t,e,n){if(n=(0,c.normalizeStyleProp)(e,n),t.style[(0,c.styleProp)(e)]=n,!(0,l.hasWindow)()){if(""===n||!(0,h.isDefined)(n))return;var i=(0,u.dasherize)(e)+": "+n+";";t.attributes.style?t.attributes.style.value.indexOf(i)<0&&(t.attributes.style.value+=" "+i):t.setAttribute("style",i)}},A={row:"nowrap",col:"normal"},R={row:"width",col:"height"},B={row:"height",col:"width"},N={row:"marginLeft",col:"marginTop"},F={row:"marginRight",col:"marginBottom"},L={row:"marginTop",col:"marginLeft"},V={row:"marginBottom",col:"marginRight"},j={marginLeft:"marginRight",marginRight:"marginLeft"},z=function(t){w(n,t);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,[{key:"_renderVisible",value:function(t,e){x(E(n.prototype),"_renderVisible",this).call(this,t),(0,h.isDefined)(e)&&this._options.fireItemStateChangedAction({name:"visible",state:t,oldState:e})}}]),n}(p.default),H=function(){function t(e,n){y(this,t),this._$element=e,this._option=n,this.initSize=s.noop,this.update=s.noop}return b(t,[{key:"renderBox",value:function(){this._$element.css({display:(0,c.stylePropPrefix)("flexDirection")+"flex"}),P(this._$element.get(0),"flexDirection",O[this._option("direction")])}},{key:"renderAlign",value:function(){this._$element.css({justifyContent:this._normalizedAlign()})}},{key:"_normalizedAlign",value:function(){var t=this._option("align");return t in D?D[t]:t}},{key:"renderCrossAlign",value:function(){this._$element.css({alignItems:this._normalizedCrossAlign()})}},{key:"_normalizedCrossAlign",value:function(){var t=this._option("crossAlign");return t in M?M[t]:t}},{key:"renderItems",value:function(t){var e=(0,c.stylePropPrefix)("flexDirection"),n=this._option("direction");(0,d.each)(t,(function(){var t=(0,i.default)(this),o=t.data("dxBoxItemData");t.css({display:e+"flex"}).css(T[n],o.maxSize||"none").css(I[n],o.minSize||"0"),P(t.get(0),"flexBasis",o.baseSize||0),P(t.get(0),"flexGrow",o.ratio),P(t.get(0),"flexShrink",(0,h.isDefined)(o.shrink)?o.shrink:1),t.children().each((function(t,e){(0,i.default)(e).css({width:"auto",height:"auto",display:(0,c.stylePropPrefix)("flexDirection")+"flex",flexBasis:0}),P(e,"flexGrow",1),P(e,"flexDirection",(0,i.default)(e)[0].style.flexDirection||"column")}))}))}}]),t}(),W=function(){function t(e,n){y(this,t),this._$element=e,this._option=n}return b(t,[{key:"renderBox",value:function(){this._$element.css({fontSize:0,whiteSpace:A[this._option("direction")],verticalAlign:"top"}),o.default.off(this._$element,"dxupdate.dxBox"),o.default.on(this._$element,"dxupdate.dxBox",this.update.bind(this))}},{key:"renderAlign",value:function(){var t=this._$items;if(t){var e=this._option("align"),n=this.totalItemSize,i=this._option("direction"),o=this._$element[R[i]]()-n,r=0;switch(this._setItemsMargins(t,i,0),e){case"start":break;case"end":r=o,t.first().css(this._chooseMarginSide(N[i]),r);break;case"center":r=.5*o,t.first().css(this._chooseMarginSide(N[i]),r),t.last().css(this._chooseMarginSide(F[i]),r);break;case"space-between":r=.5*o/(t.length-1),this._setItemsMargins(t,i,r),t.first().css(this._chooseMarginSide(N[i]),0),t.last().css(this._chooseMarginSide(F[i]),0);break;case"space-around":r=.5*o/t.length,this._setItemsMargins(t,i,r)}}}},{key:"_setItemsMargins",value:function(t,e,n){t.css(this._chooseMarginSide(N[e]),n).css(this._chooseMarginSide(F[e]),n)}},{key:"renderCrossAlign",value:function(){var t=this._$items;if(t){var e=this._option("crossAlign"),n=this._option("direction"),o=this._$element[B[n]](),r=this;switch(e){case"start":break;case"end":(0,d.each)(t,(function(){var t=(0,i.default)(this),e=t[B[n]](),a=o-e;t.css(r._chooseMarginSide(L[n]),a)}));break;case"center":(0,d.each)(t,(function(){var t=(0,i.default)(this),e=t[B[n]](),a=.5*(o-e);t.css(r._chooseMarginSide(L[n]),a).css(r._chooseMarginSide(V[n]),a)}));break;case"stretch":t.css(r._chooseMarginSide(L[n]),0).css(r._chooseMarginSide(V[n]),0).css(B[n],"100%")}}}},{key:"_chooseMarginSide",value:function(t){return this._option("rtlEnabled")&&j[t]||t}},{key:"renderItems",value:function(t){var e=this;this._$items=t;var n=this._option("direction"),o=0,r=0,a=0;(0,d.each)(t,(function(t,s){var l=(0,i.default)(s);l.css({display:"inline-block",verticalAlign:"top"}),l[R[n]]("auto"),l.removeClass("dx-box-fallback-item");var u=l.data("dxBoxItemData"),c=u.ratio||0,d=e._baseSize(l),f=(0,h.isDefined)(u.shrink)?u.shrink:1;o+=c,r+=f*d,a+=d}));var s=this._boxSize()-a,l=0;(0,d.each)(t,(function(t,a){var u=(0,i.default)(a),c=(0,i.default)(a).data("dxBoxItemData"),d=function(t){var n=t.data("dxBoxItemData"),i=e._baseSize(t),a=s>=0?n.ratio||0:((0,h.isDefined)(n.shrink)?n.shrink:1)*i,l=s>=0?o:r;return i+(l?Math.round(s*a/l):0)}(u);l+=d,u.css(T[n],c.maxSize||"none").css(I[n],c.minSize||"0").css(R[n],d),u.addClass("dx-box-fallback-item")})),this.totalItemSize=l}},{key:"_baseSize",value:function(t){var e=(0,i.default)(t).data("dxBoxItemData");return null==e.baseSize?0:"auto"===e.baseSize?this._contentSize(t):this._parseSize(e.baseSize)}},{key:"_contentSize",value:function(t){return(0,i.default)(t)[R[this._option("direction")]]()}},{key:"_parseSize",value:function(t){return String(t).match(/.+%$/)?.01*parseFloat(t)*this._boxSizeValue:t}},{key:"_boxSize",value:function(t){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize(),this._boxSizeValue;this._boxSizeValue=t}},{key:"_totalBaseSize",value:function(){var t=this,e=0;return(0,d.each)(this._$items,(function(n,i){e+=t._baseSize(i)})),e}},{key:"initSize",value:function(){this._boxSize(this._$element[R[this._option("direction")]]())}},{key:"update",value:function(){if(this._$items&&!this._$element.is(":hidden")){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var t=this._$element.get(0);this._$items.find(".dx-box").each((function(){t===(0,i.default)(this).parent().closest(".dx-box").get(0)&&o.default.triggerHandler(this,"dxupdate.dxBox")}))}}}]),t}(),G=function(t){w(n,t);var e=S(n);function n(){return y(this,n),e.apply(this,arguments)}return b(n,[{key:"_getDefaultOptions",value:function(){return(0,a.extend)(x(E(n.prototype),"_getDefaultOptions",this).call(this),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_layoutStrategy:"flex",_queue:void 0})}},{key:"_defaultOptionsRules",value:function(){return x(E(n.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return f.default.msie},options:{_layoutStrategy:"fallback"}}])}},{key:"_itemClass",value:function(){return"dx-box-item"}},{key:"_itemDataKey",value:function(){return"dxBoxItemData"}},{key:"_itemElements",value:function(){return this._itemContainer().children(this._itemSelector())}},{key:"_init",value:function(){x(E(n.prototype),"_init",this).call(this),this.$element().addClass("".concat("dx-box","-").concat(this.option("_layoutStrategy"))),this._initLayout(),this._initBoxQueue()}},{key:"_initLayout",value:function(){this._layout="fallback"===this.option("_layoutStrategy")?new W(this.$element(),this.option.bind(this)):new H(this.$element(),this.option.bind(this))}},{key:"_initBoxQueue",value:function(){this._queue=this.option("_queue")||[]}},{key:"_queueIsNotEmpty",value:function(){return!this.option("_queue")&&!!this._queue.length}},{key:"_pushItemToQueue",value:function(t,e){this._queue.push({$item:t,config:e})}},{key:"_shiftItemFromQueue",value:function(){return this._queue.shift()}},{key:"_initMarkup",value:function(){this.$element().addClass("dx-box"),this._layout.renderBox(),x(E(n.prototype),"_initMarkup",this).call(this),this._renderAlign(),this._renderActions()}},{key:"_renderActions",value:function(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}},{key:"_renderAlign",value:function(){this._layout.renderAlign(),this._layout.renderCrossAlign()}},{key:"_renderItems",value:function(t){var e=this;for(this._layout.initSize(),x(E(n.prototype),"_renderItems",this).call(this,t);this._queueIsNotEmpty();){var i=this._shiftItemFromQueue();this._createComponent(i.$item,n,(0,a.extend)({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},i.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout((function(){e._isUpdated||e._layout.update(),e._isUpdated=!1,e._updateTimer=null}))}},{key:"_renderItemContent",value:function(t){var e=t.itemData&&t.itemData.node;return e?this._renderItemContentByNode(t,e):x(E(n.prototype),"_renderItemContent",this).call(this,t)}},{key:"_postprocessRenderItem",value:function(t){var e=t.itemData.box;e&&this._pushItemToQueue(t.itemContent,e)}},{key:"_createItemByTemplate",value:function(t,e){return e.itemData.box?t.source?t.source():(0,i.default)():x(E(n.prototype),"_createItemByTemplate",this).call(this,t,e)}},{key:"_visibilityChanged",value:function(t){t&&this._dimensionChanged()}},{key:"_dimensionChanged",value:function(){this._updateTimer||(this._isUpdated=!0,this._layout.update())}},{key:"_dispose",value:function(){clearTimeout(this._updateTimer),x(E(n.prototype),"_dispose",this).apply(this,arguments)}},{key:"_itemOptionChanged",value:function(t,e,i,o){"visible"===e&&this._onItemStateChanged({name:e,state:i,oldState:!1!==o}),x(E(n.prototype),"_itemOptionChanged",this).call(this,t,e,i)}},{key:"_optionChanged",value:function(t){switch(t.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:x(E(n.prototype),"_optionChanged",this).call(this,t)}}},{key:"_itemOptions",value:function(){var t=this,e=x(E(n.prototype),"_itemOptions",this).call(this);return e.fireItemStateChangedAction=function(e){t._onItemStateChanged(e)},e}},{key:"repaint",value:function(){this._dimensionChanged()}}]),n}(g.default);G.ItemClass=z,(0,r.default)("dxBox",G);var K=G;e.default=K,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=n(54),o=p(n(38)),r=p(n(25)),a=p(n(89)),s=n(3),l=n(5),u=p(n(96)),h=p(n(474)),c=p(n(19)),d=n(8),f=p(n(50));function p(t){return t&&t.__esModule?t:{default:t}}var g=a.default.inherit({_initOptions:function(t){this.callBase.apply(this,arguments),this.option(u.default.initValidationOptions(t))},_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{validationRules:[]})},_init:function(){this.callBase(),this._initGroupRegistration(),this.focused=(0,o.default)(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration:function(){var t=this._findGroup();this._groupWasInit||this.on("disposing",(function(t){u.default.removeRegisteredValidator(t.component._validationGroup,t.component)})),this._groupWasInit&&this._validationGroup===t||(u.default.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=t,u.default.registerValidatorInGroup(t,this))},_setOptionsByReference:function(){this.callBase(),(0,s.extend)(this._optionsByReference,{validationGroup:!0})},_initAdapter:function(){var t=this,e=this.$element()[0],n=(0,i.data)(e,"dx-validation-target"),o=this.option("adapter");if(!o){if(n)return(o=new h.default(n,this)).validationRequestsCallbacks.push((function(e){t._validationInfo.skipValidation||t.validate(e)})),void this.option("adapter",o);throw r.default.Error("E0120")}var a=o.validationRequestsCallbacks;a&&a.push((function(e){t.validate(e)}))},_toggleRTLDirection:function(t){var e,n,i,o=null!==(e=null===(n=this.option("adapter"))||void 0===n||null===(i=n.editor)||void 0===i?void 0:i.option("rtlEnabled"))&&void 0!==e?e:t;this.callBase(o)},_initMarkup:function(){this.$element().addClass("dx-validator"),this.callBase()},_visibilityChanged:function(t){t&&this._initGroupRegistration()},_optionChanged:function(t){switch(t.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(u.default.synchronizeValidationOptions(t,this.option()));break;default:this.callBase(t)}},_getValidationRules:function(){var t=this;return this._validationRules||(this._validationRules=(0,l.map)(this.option("validationRules"),(function(e,n){return(0,s.extend)({},e,{validator:t,index:n})}))),this._validationRules},_findGroup:function(){var t=this.$element();return this.option("validationGroup")||u.default.findGroup(t,this._modelByElement(t))},_resetValidationRules:function(){delete this._validationRules},validate:function(t){var e,n=this,i=this.option("adapter"),o=this.option("name"),r=i.bypass&&i.bypass(),a=t&&void 0!==t.value?t.value:i.getValue(),l=i.getCurrentValidationError&&i.getCurrentValidationError(),h=this._getValidationRules(),c=this._validationInfo&&this._validationInfo.result;return c&&"pending"===c.status&&c.value===a?(0,s.extend)({},c):(r?e={isValid:!0,status:"valid"}:l&&l.editorSpecific?(l.validator=this,e={isValid:!1,status:"invalid",brokenRule:l,brokenRules:[l]}):e=u.default.validate(a,h,o),e.id=(new f.default).toString(),this._applyValidationResult(e,i),e.complete&&e.complete.then((function(t){t.id===n._validationInfo.result.id&&n._applyValidationResult(t,i)})),(0,s.extend)({},this._validationInfo.result))},reset:function(){var t=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:"valid",complete:null};this._validationInfo.skipValidation=!0,t.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,t)},_updateValidationResult:function(t){if(this._validationInfo.result&&this._validationInfo.result.id===t.id)for(var e in t)"id"!==e&&"complete"!==e&&(this._validationInfo.result[e]=t[e]);else{var n=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=(0,s.extend)({},t,{complete:n})}},_applyValidationResult:function(t,e){var n=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(t.validator=this,this._updateValidationResult(t),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),"pending"===this._validationInfo.result.status)return this._validationInfo.deferred||(this._validationInfo.deferred=new d.Deferred,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);"pending"!==this._validationInfo.result.status&&(n(t),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(t),this._validationInfo.deferred=null))},focus:function(){var t=this.option("adapter");t&&t.focus&&t.focus()},_useTemplates:function(){return!1}});(0,c.default)("dxValidator",g);var m=g;e.default=m,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DX_REMOVE_EVENT=e.ComponentBase=void 0;var r=n(266),a=n(0),s=n(540),l=n(542),u=n(546),h=n(547),c=n(269),d=n(548);e.DX_REMOVE_EVENT="dxremove";var f=function(t){function e(e){var n=t.call(this,e)||this;return n._templateProps=[],n._setTemplatesRendererRef=n._setTemplatesRendererRef.bind(n),n._createWidget=n._createWidget.bind(n),n._templatesStore=new h.TemplatesStore((function(){n._templatesRendererRef&&n._templatesRendererRef.scheduleUpdate()})),n._templatesManager=new l.default(n._templatesStore),n._optionsManager=new s.OptionsManager(n._templatesManager),n}return i(e,t),e.prototype.render=function(){return a.createElement("div",this._getElementProps(),this.renderChildren(),a.createElement(u.TemplatesRenderer,{templatesStore:this._templatesStore,ref:this._setTemplatesRendererRef}))},e.prototype.componentDidMount=function(){this._updateCssClasses(null,this.props)},e.prototype.componentDidUpdate=function(t){this._updateCssClasses(t,this.props);var e=this._getConfig();this._optionsManager.update(e),this._templatesRendererRef&&this._templatesRendererRef.scheduleUpdate()},e.prototype.componentWillUnmount=function(){this._instance&&(r.triggerHandler(this._element,"dxremove"),this._instance.dispose()),this._optionsManager.dispose()},e.prototype.renderChildren=function(){return this.props.children},e.prototype._createWidget=function(t){t=t||this._element;var e=this._getConfig();this._instance=new this._WidgetClass(t,o({templatesRenderAsynchronously:!0},this._optionsManager.getInitialOptions(e))),this._optionsManager.setInstance(this._instance,e),this._instance.on("optionChanged",this._optionsManager.onOptionChanged)},e.prototype._getConfig=function(){return d.buildConfigTree({templates:this._templateProps,initialValuesProps:this._defaults,predefinedValuesProps:{},expectedChildren:this._expectedChildren},this.props)},e.prototype._setTemplatesRendererRef=function(t){this._templatesRendererRef=t},e.prototype._getElementProps=function(){var t=this,e={ref:function(e){return t._element=e}};return c.elementPropNames.forEach((function(n){n in t.props&&(e[n]=t.props[n])})),e},e.prototype._updateCssClasses=function(t,e){var n,i,o=t?c.getClassName(t):void 0,r=c.getClassName(e);if(o!==r){var a;if(o)(a=o.split(" ").filter((function(t){return t}))).length&&(n=this._element.classList).remove.apply(n,a);if(r)(a=r.split(" ").filter((function(t){return t}))).length&&(i=this._element.classList).add.apply(i,a)}},e}(a.PureComponent);e.ComponentBase=f},function(t,e,n){"use strict";(function(e){var i=n(61),o=n(555),r={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e)&&(t=n(273)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){s.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){s.headers[t]=i.merge(r)})),t.exports=s}).call(this,n(102))},function(t,e,n){"use strict";var i,o=(i=n(196))&&"object"===typeof i&&"default"in i?i.default:i;o.registerVersion("firebase","7.16.1","app"),t.exports=o},function(t,e,n){"use strict";(function(t){var i=n(0),o=n.n(i),r=n(26),a=n(23),s=n.n(a),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function u(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,i){t=n,e.forEach((function(e){return e(t,i)}))}}}var h=o.a.createContext||function(t,e){var n,o,a="__create-react-context-"+function(){var t="__global_unique_id__";return l[t]=(l[t]||0)+1}()+"__",h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=u(e.props.value),e}Object(r.a)(n,t);var i=n.prototype;return i.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},i.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,i=this.props.value,o=t.value;((r=i)===(a=o)?0!==r||1/r===1/a:r!==r&&a!==a)?n=0:(n="function"===typeof e?e(i,o):1073741823,0!==(n|=0)&&this.emitter.set(t.value,n))}var r,a},i.render=function(){return this.props.children},n}(i.Component);h.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var c=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(r.a)(n,e);var i=n.prototype;return i.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():t},i.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(i.Component);return c.contextTypes=((o={})[a]=s.a.object,o),{Provider:h,Consumer:c}};e.a=h}).call(this,n(53))},function(t,e,n){var i=n(296);t.exports=f,t.exports.parse=r,t.exports.compile=function(t,e){return s(r(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=d;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(t,e){for(var n,i=[],r=0,a=0,s="",h=e&&e.delimiter||"/";null!=(n=o.exec(t));){var c=n[0],d=n[1],f=n.index;if(s+=t.slice(a,f),a=f+c.length,d)s+=d[1];else{var p=t[a],g=n[2],m=n[3],v=n[4],y=n[5],_=n[6],b=n[7];s&&(i.push(s),s="");var x=null!=g&&null!=p&&p!==g,w="+"===_||"*"===_,C="?"===_||"*"===_,S=n[2]||h,k=v||y;i.push({name:m||r++,prefix:g||"",delimiter:S,optional:C,repeat:w,partial:x,asterisk:!!b,pattern:k?u(k):b?".*":"[^"+l(S)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&i.push(s),i}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),o=0;o<t.length;o++)"object"===typeof t[o]&&(n[o]=new RegExp("^(?:"+t[o].pattern+")$",c(e)));return function(e,o){for(var r="",s=e||{},l=(o||{}).pretty?a:encodeURIComponent,u=0;u<t.length;u++){var h=t[u];if("string"!==typeof h){var c,d=s[h.name];if(null==d){if(h.optional){h.partial&&(r+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(i(d)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(c=l(d[f]),!n[u].test(c))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===f?h.prefix:h.delimiter)+c}}else{if(c=h.asterisk?encodeURI(d).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):l(d),!n[u].test(c))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+c+'"');r+=h.prefix+c}}else r+=h}return r}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function c(t){return t&&t.sensitive?"":"i"}function d(t,e,n){i(e)||(n=e||n,e=[]);for(var o=(n=n||{}).strict,r=!1!==n.end,a="",s=0;s<t.length;s++){var u=t[s];if("string"===typeof u)a+=l(u);else{var d=l(u.prefix),f="(?:"+u.pattern+")";e.push(u),u.repeat&&(f+="(?:"+d+f+")*"),a+=f=u.optional?u.partial?d+"("+f+")?":"(?:"+d+"("+f+"))?":d+"("+f+")"}}var p=l(n.delimiter||"/"),g=a.slice(-p.length)===p;return o||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=r?"$":o&&g?"":"(?="+p+"|$)",h(new RegExp("^"+a,c(n)),e)}function f(t,e,n){return i(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(t,e)}(t,e):i(t)?function(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(f(t[o],e,n).source);return h(new RegExp("(?:"+i.join("|")+")",c(n)),e)}(t,e,n):function(t,e,n){return d(r(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";function i(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function o(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function r(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=t.displayName||t.name,u="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=i,e.componentWillReceiveProps=o),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=r;var h=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;h.call(this,t,e,i)}}return t}n.d(e,"a",(function(){return a})),i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createChangeEmitter=function(){var t=[],e=t;function n(){e===t&&(e=t.slice())}return{listen:function(t){if("function"!==typeof t)throw new Error("Expected listener to be a function.");var i=!0;return n(),e.push(t),function(){if(i){i=!1,n();var o=e.indexOf(t);e.splice(o,1)}}},emit:function(){for(var n=t=e,i=0;i<n.length;i++)n[i].apply(n,arguments)}}}},function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var h in n=Object(arguments[u]))o.call(n,h)&&(l[h]=n[h]);if(i){s=i(n);for(var c=0;c<s.length;c++)r.call(n,s[c])&&(l[s[c]]=n[s[c]])}}return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(157),a=n(197),s=n(290),l=n(291),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),h=new a.ErrorFactory("app","Firebase",u),c=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),d=new l.Logger("@firebase/app"),f=function(){function t(t,e,n){var i,o,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return l}),"PUBLIC"));try{for(var u=r.__values(this.firebase_.INTERNAL.components.values()),h=u.next();!h.done;h=u.next()){var c=h.value;this._addComponent(c)}}catch(d){i={error:d}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!==typeof o||null===o){o={name:o}}var r=o;void 0===r.name&&(r.name="[DEFAULT]");var s=r.name;if("string"!==typeof s||!s)throw h.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw h.create("duplicate-app",{appName:s});var l=new t(n,r,i);return e[s]=l,l},app:o,registerVersion:function(t,e,n){var i,o=null!==(i=c[t])&&void 0!==i?i:t;n&&(o+="-"+n);var r=o.match(/\s|\//),a=e.match(/\s|\//);if(r||a){var l=['Unable to register library "'+o+'" with version "'+e+'":'];return r&&l.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),r&&a&&l.push("and"),a&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}u(new s.Component(o+"-version",(function(){return{library:o,version:e}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw h.create("invalid-log-argument",{appName:name});l.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.16.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function o(t){if(t=t||"[DEFAULT]",!a.contains(e,t))throw h.create("no-app",{appName:t});return e[t]}function u(s){var l,u,c=s.name;if(n.has(c))return d.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===s.type?i[c]:null;if(n.set(c,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=o()),"function"!==typeof t[c])throw h.create("invalid-app-argument",{appName:c});return t[c]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),i[c]=f,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,c);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=r.__values(Object.keys(e)),g=p.next();!g.done;g=p.next()){var m=g.value;e[m]._addComponent(s)}}catch(v){l={error:v}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}return"PUBLIC"===s.type?i[c]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),o.App=t,i}(f);return e.INTERNAL=r.__assign(r.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.8",e),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(157),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296===(64512&o)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var r=t[o],a=o+1<t.length,s=a?t[o+1]:0,l=o+2<t.length,u=l?t[o+2]:0,h=r>>2,c=(3&r)<<4|s>>4,d=(15&s)<<2|u>>6,f=63&u;l||(f=64,a||(d=64)),i.push(n[h],n[c],n[d],n[f])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var r=t[n++];e[i++]=String.fromCharCode((31&o)<<6|63&r)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(r=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{r=t[n++];var s=t[n++];e[i++]=String.fromCharCode((15&o)<<12|(63&r)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var r=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0,s=++o<t.length?n[t.charAt(o)]:64,l=++o<t.length?n[t.charAt(o)]:64;if(++o,null==r||null==a||null==s||null==l)throw Error();var u=r<<2|a>>4;if(i.push(u),64!==s){var h=a<<4&240|s>>2;if(i.push(h),64!==l){var c=s<<6&192|l;i.push(c)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=h(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function f(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}var p=function(t){function e(n,i){var o=t.call(this,i)||this;return o.code=n,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return i.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},o=this.service+"/"+t,r=this.errors[t],a=r?m(r,i):"Error",s=this.serviceName+": "+a+" ("+o+").",l=new p(o,s),u=0,h=Object.keys(i);u<h.length;u++){var c=h[u];"_"!==c.slice(-1)&&(c in l&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),l[c]=i[c])}return l},t}();function m(t,e){return t.replace(v,(function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var _=function(t){var e={},n={},i={},o="";try{var r=t.split(".");e=y(u(r[0])||""),n=y(u(r[1])||""),o=r[2],i=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:i,signature:o}};var b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var o=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(o<<1|o>>>31)}var r,a,s=this.chain_[0],l=this.chain_[1],u=this.chain_[2],h=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=h^l&(u^h),a=1518500249):(r=l^u^h,a=1859775393):i<60?(r=l&u|h&(l|u),a=2400959708):(r=l^u^h,a=3395469782);o=(s<<5|s>>>27)+r+c+a+n[i]&4294967295;c=h,h=u,u=4294967295&(l<<30|l>>>2),l=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,o=this.buf_,r=this.inbuf_;i<e;){if(0===r)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"===typeof t){for(;i<e;)if(o[r]=t.charCodeAt(i),++i,++r===this.blockSize){this.compress_(o),r=0;break}}else for(;i<e;)if(o[r]=t[i],++i,++r===this.blockSize){this.compress_(o),r=0;break}}this.inbuf_=r,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[i]=this.chain_[n]>>o&255,++i;return t},t}();var x=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&"function"===typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(i.next=w),void 0===i.error&&(i.error=w),void 0===i.complete&&(i.complete=w);var r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?i.error(o.finalError):i.complete()}catch(t){}})),this.observers.push(i),r},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function C(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=i+" argument "}e.CONSTANTS=o,e.Deferred=c,e.ErrorFactory=g,e.FirebaseError=p,e.Sha1=b,e.assert=r,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=s(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new x(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return h(void 0,t)},e.deepExtend=h,e.errorPrefix=C,e.getUA=d,e.isAdmin=function(t){var e=_(t).claims;return"object"===typeof e&&!0===e.admin},e.isBrowser=function(){return"object"===typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=f,e.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},e.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,o=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),o=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!o&&n>=i&&n<=o},e.issuedAtTime=function(t){var e=_(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,o=Object.entries(t);i<o.length;i++){var r=o[i];n(r[0],r[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var o;if(i<e?o="at least "+e:i>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+o+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(C(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(C(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!==typeof n)throw new Error(C(t,e,i)+"must be a valid firebase namespace.")}}).call(this,n(53))},function(t,e,n){"use strict";t.exports=n(297)},function(t,e,n){"use strict";(function(e,i){var o=n(129);t.exports=_;var r,a=n(200);_.ReadableState=y;n(158).EventEmitter;var s=function(t,e){return t.listeners(e).length},l=n(201),u=n(160).Buffer,h=e.Uint8Array||function(){};var c=Object.create(n(113));c.inherits=n(101);var d=n(300),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=n(301),m=n(202);c.inherits(_,l);var v=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var i=e instanceof(r=r||n(85));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(204).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function _(t){if(r=r||n(85),!(this instanceof _))return new _(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function b(t,e,n,i,o){var r,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,C(t)}(t,a)):(o||(r=function(t,e){var n;i=e,u.isBuffer(i)||i instanceof h||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(a,e)),r?t.emit("error",r):a.objectMode||e&&e.length>0?("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),i?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?x(t,a,e,!1):k(t,a)):x(t,a,e,!1))):i||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function x(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&C(t)),k(t,e)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(t,e){this.push(null),e(t)},_.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"===typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},_.prototype.unshift=function(t){return b(this,t,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){return p||(p=n(204).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};function w(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(S,t):S(t))}function S(t){f("emit readable"),t.emit("readable"),D(t)}function k(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(E,t,e))}function E(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function I(t){f("readable nexttick read 0"),t.read(0)}function T(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),D(t),e.flowing&&!e.reading&&t.read(0)}function D(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,o=n.data;t-=o.length;for(;n=n.next;){var r=n.data,a=t>r.length?r.length:t;if(a===r.length?o+=r:o+=r.slice(0,t),0===(t-=a)){a===r.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=r.slice(a));break}++i}return e.length-=i,o}(t,e):function(t,e){var n=u.allocUnsafe(t),i=e.head,o=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var r=i.data,a=t>r.length?r.length:t;if(r.copy(n,n.length-t,0,a),0===(t-=a)){a===r.length?(++o,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=r.slice(a));break}++o}return e.length-=o,n}(t,e);return i}(t,e.buffer,e.decoder),n);var n}function O(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function A(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}_.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?O(this):C(this),null;if(0===(t=w(t,e))&&e.ended)return 0===e.length&&O(this),null;var i,o=e.needReadable;return f("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",o=!0),e.ended||e.reading?f("reading or ended",o=!1):o&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=w(n,e))),null===(i=t>0?M(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&O(this)),null!==i&&this.emit("data",i),i},_.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,f("pipe count=%d opts=%j",r.pipesCount,e);var l=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?h:_;function u(e,i){f("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,f("cleanup"),t.removeListener("close",v),t.removeListener("finish",y),t.removeListener("drain",c),t.removeListener("error",m),t.removeListener("unpipe",u),n.removeListener("end",h),n.removeListener("end",_),n.removeListener("data",g),d=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function h(){f("onend"),t.end()}r.endEmitted?o.nextTick(l):n.once("end",l),t.on("unpipe",u);var c=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,D(t))}}(n);t.on("drain",c);var d=!1;var p=!1;function g(e){f("ondata"),p=!1,!1!==t.write(e)||p||((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==A(r.pipes,t))&&!d&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(e){f("onerror",e),_(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",y),_()}function y(){f("onfinish"),t.removeListener("close",v),_()}function _(){f("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",v),t.once("finish",y),t.emit("pipe",n),r.flowing||(f("pipe resume"),n.resume()),t},_.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<o;r++)i[r].emit("unpipe",this,n);return this}var a=A(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},_.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&C(this):o.nextTick(I,this))}return n},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(T,t,e))}(this,t)),this},_.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var o in t.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(o){(f("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(e.push(o)||(i=!0,t.pause())))})),t)void 0===this[o]&&"function"===typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var r=0;r<v.length;r++)t.on(v[r],this.emit.bind(this,v[r]));return this._read=function(e){f("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=M}).call(this,n(53),n(102))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(158).EventEmitter},function(t,e,n){"use strict";var i=n(129);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return r||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){(function(t){var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(303),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(53))},function(t,e,n){"use strict";var i=n(305).Buffer,o=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!==typeof e&&(i.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=h,this.end=c,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},r.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=a(e[i]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--i<n||-2===o)return 0;if((o=a(e[i]))>=0)return o>0&&(t.lastNeed=o-2),o;if(--i<n||-2===o)return 0;if((o=a(e[i]))>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=a;var i=n(85),o=Object.create(n(113));function r(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);i.call(this,t),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"===typeof this._flush?this._flush((function(e,n){l(t,e,n)})):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=n(101),o.inherits(a,i),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var o=this._readableState;(i.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";e.default=void 0;e.default="20.2.3",t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=new(((i=n(165))&&i.__esModule?i:{default:i}).default);e.default=o,t.exports=e.default},function(t,e,n){"use strict";e.parseHeight=e.getVisibleHeight=e.getVerticalOffsets=e.addOffsetToMinHeight=e.addOffsetToMaxHeight=e.getElementBoxParams=e.getSize=void 0;var i=n(14),o=n(2),r=(0,i.getWindow)(),a=["auto","none","inherit","initial"],s=function(t,e){var n=0;return e.forEach((function(e){n+=parseFloat(t[e])||0})),n},l=function(t,e){var n="width"===t?"Left":"Top",i="width"===t?"Right":"Bottom";return{padding:s(e,["padding"+n,"padding"+i]),border:s(e,["border"+n+"Width","border"+i+"Width"]),margin:s(e,["margin"+n,"margin"+i])}};e.getElementBoxParams=l;e.getSize=function(t,e,n){var i=r.getComputedStyle(t),o=l(e,i),a=t.getClientRects().length,s=t.getBoundingClientRect()[e],u=a?s:0;return u<=0?(u=parseFloat(i[e]||t.style[e])||0,u-=function(t,e,n){var i=e[t];return"border-box"===e.boxSizing&&i.length&&"%"!==i[i.length-1]?n.border+n.padding:0}(e,i,o)):u-=o.padding+o.border,n.paddings&&(u+=o.padding),n.borders&&(u+=o.border),n.margins&&(u+=o.margin),u};var u=function(t,e){return t.indexOf("px")>0?t=parseInt(t.replace("px","")):t.indexOf("%")>0?t=parseInt(t.replace("%",""))*function(t){return(0,o.isWindow)(t)?t.innerHeight:t.offsetHeight}(e)/100:isNaN(t)||(t=parseInt(t)),t};e.parseHeight=u;var h=function(t,e,n){return t?a.indexOf(t)>-1?e?null:t:((0,o.isString)(t)&&(t=u(t,n)),(0,o.isNumeric)(t)?Math.max(0,t+e):"calc("+t+(e<0?" - ":" ")+Math.abs(e)+"px)"):null};e.addOffsetToMaxHeight=function(t,e,n){var i=h(t,e,n);return null!==i?i:"none"};e.addOffsetToMinHeight=function(t,e,n){var i=h(t,e,n);return null!==i?i:0};e.getVerticalOffsets=function(t,e){if(!t)return 0;var n=l("height",r.getComputedStyle(t));return n.padding+n.border+(e?n.margin:0)};e.getVisibleHeight=function(t){if(t){var e=t.getBoundingClientRect();if(e.height)return e.height}return 0}},function(t,e,n){"use strict";e.isTablePart=e.parseHTML=void 0;var i,o=n(21),r=(i=n(16))&&i.__esModule?i:{default:i};var a=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,s={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};s.tbody=s.colgroup=s.caption=s.tfoot=s.thead,s.th=s.td;e.parseHTML=function(t){if("string"!==typeof t)return null;var e=r.default.createDocumentFragment().appendChild(r.default.createElement("div")),n=a.exec(t),i=n&&n[1].toLowerCase(),l=s[i]||s.default;e.innerHTML=l.startTags+t+l.endTags;for(var u=0;u<l.tagsCount;u++)e=e.lastChild;return(0,o.merge)([],e.childNodes)};e.isTablePart=function(t){var e=a.exec(t);return e&&e[1]in s}},function(t,e,n){"use strict";e.default=void 0;var i=n(14),o=l(n(16)),r=l(n(38)),a=l(n(67)),s=l(n(87));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t,e=(0,r.default)(),n=e.add,l=e.remove;if(!(0,i.hasWindow)())return e;var u,h=function(){var t=(0,i.getWindow)();return{width:t.innerWidth,height:t.innerHeight}},c=function(){var n,i=h();i.width===t.width&&i.height===t.height||(i.width===t.width&&(n="height"),i.height===t.height&&(n="width"),t=i,e.fire(n))},d=(0,s.default)((function(){t=h()}));return e.add=function(){var t=n.apply(e,arguments);return d(),a.default.add((function(){!u&&e.has()&&(u=o.default.listen((0,i.getWindow)(),"resize",c))})),t},e.remove=function(){var t=l.apply(e,arguments);return!e.has()&&u&&(u(),u=void 0),t},e}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=m(n(46)),o=n(3),r=n(322),a=n(166),s=m(n(20)),l=m(n(117)),u=m(n(37)),h=m(n(38)),c=n(118),d=n(115),f=n(325),p=n(2),g=n(6);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t){return t.charAt(2).toLowerCase()+t.substr(3)},y=s.default.inherit({_setDeprecatedOptions:function(){this._deprecatedOptions={}},_getDeprecatedOptions:function(){return this._deprecatedOptions},_getDefaultOptions:function(){return{onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}},_defaultOptionsRules:function(){return[]},_setOptionsByDevice:function(t){this._options.applyRules(t)},_convertRulesToOptions:function(t){return(0,a.convertRulesToOptions)(t)},_isInitialOptionValue:function(t){return this._options.isInitial(t)},_setOptionsByReference:function(){this._optionsByReference={}},_getOptionsByReference:function(){return this._optionsByReference},ctor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t._optionChangedCallbacks,n=t._disposingCallbacks;this.NAME=(0,d.name)(this.constructor),this._eventsStrategy=c.EventsStrategy.create(this,t.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||(0,h.default)(),this._disposingCallbacks=n||(0,h.default)(),this.postponedOperations=new f.PostponedOperations,this._createOptions(t)},_createOptions:function(t){var e=this;this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new r.Options(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((function(t,n,i){return e._initialized&&e._optionChanging(t,n,i)})),this._options.onDeprecated((function(t,n){return e._logDeprecatedOptionWarning(t,n)})),this._options.onChanged((function(t,n,i){return e._notifyOptionChanged(t,n,i)})),this._options.onStartChange((function(){return e.beginUpdate()})),this._options.onEndChange((function(){return e.endUpdate()})),this._options.addRules(this._defaultOptionsRules()),t&&t.onInitializing&&t.onInitializing.apply(this,[t]),this._setOptionsByDevice(t.defaultOptionsRules),this._initOptions(t)}finally{this.endUpdate()}},_initOptions:function(t){this.option(t)},_init:function(){var t=this;this._createOptionChangedAction(),this.on("disposing",(function(e){t._disposingCallbacks.fireWith(t,[e])}))},_logDeprecatedOptionWarning:function(t,e){var n=e.message||"Use the '".concat(e.alias,"' option instead");u.default.log("W0001",this.NAME,t,e.since,n)},_logDeprecatedComponentWarning:function(t,e){u.default.log("W0000",this.NAME,t,"Use the '".concat(e,"' widget instead"))},_createOptionChangedAction:function(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction:function(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged:function(t){switch(t.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose:function(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate:function(){this._updateLockCount++},_unlockUpdate:function(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed:function(){return 0===this._updateLockCount},_isInitializingRequired:function(){return!this._initializing&&!this._initialized},_commitUpdate:function(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent:function(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance:function(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:g.noop,_notifyOptionChanged:function(t,e,n){if(this._initialized)for(var i=[t].concat(this._options.getAliasesByName(t)),r=0;r<i.length;r++){var a=i[r],s={name:a.split(/[.[]/)[0],fullName:a,value:e,previousValue:n};0!==a.indexOf("_",0)&&(this._optionChangedCallbacks.fireWith(this,[(0,o.extend)(this._defaultActionArgs(),s)]),this._optionChangedAction((0,o.extend)({},s))),this._disposed||this._cancelOptionChange===a||this._optionChanged(s)}},initialOption:function(t){return this._options.initial(t)},_defaultActionConfig:function(){return{context:this,component:this}},_defaultActionArgs:function(){return{component:this}},_createAction:function(t,e){var n,i=this;return function(r){return(0,p.isDefined)(r)||(r={}),(0,p.isPlainObject)(r)||(r={actionValue:r}),(n=n||new l.default(t,(0,o.extend)(e,i._defaultActionConfig()))).execute.call(n,(0,o.extend)(r,i._defaultActionArgs()))}},_createActionByOption:function(t,e){var n,o,r,a=this,s=function(){if(!o){if(e=e||{},"string"!==typeof t)throw u.default.Error("E0008");0===t.indexOf("on")&&(o=v(t)),r=a.option(t)}if(n||r||e.beforeExecute||e.afterExecute||a._eventsStrategy.hasEvent(o)){if(!n){var s=e.beforeExecute;e.beforeExecute=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s&&s.apply(a,e),a._eventsStrategy.fireEvent(o,e[0].args)},n=a._createAction(r,e)}for(var l=arguments.length,h=new Array(l),c=0;c<l;c++)h[c]=arguments[c];if((0,i.default)().wrapActionsBeforeExecute){var d=a.option("beforeActionExecute")||g.noop,f=d(a,n,e)||n;return f.apply(a,h)}return n.apply(a,h)}};return(0,i.default)().wrapActionsBeforeExecute?s:(this.option("onActionCreated")||g.noop)(this,s,e)||s},on:function(t,e){return this._eventsStrategy.on(t,e),this},off:function(t,e){return this._eventsStrategy.off(t,e),this},hasActionSubscription:function(t){return!!this._options.silent(t)||this._eventsStrategy.hasEvent(v(t))},isOptionDeprecated:function(t){return this._options.isDeprecated(t)},_setOptionWithoutOptionChange:function(t,e){this._cancelOptionChange=t,this.option(t,e),this._cancelOptionChange=!1},_getOptionValue:function(t,e){var n=this.option(t);return(0,p.isFunction)(n)?n.bind(e)():n},option:function(){var t;return(t=this._options).option.apply(t,arguments)},resetOption:function(t){this.beginUpdate(),this._options.reset(t),this.endUpdate()}});e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.sessionStorage=void 0;var i=(0,n(14).getWindow)();e.sessionStorage=function(){var t;try{t=i.sessionStorage}catch(e){}return t}},function(t,e,n){"use strict";e.acquireTemplate=e.acquireIntegrationTemplate=e.defaultCreateElement=e.templateKey=e.validateTemplateSource=e.getNormalizedTemplateArgs=e.addOneRenderedCall=e.suitableTemplatesByName=e.findTemplates=void 0;var i=m(n(46)),o=m(n(17)),r=m(n(37)),a=m(n(1)),s=n(133),l=n(119),u=n(327),h=n(104),c=n(21),d=n(6),f=n(44),p=n(3),g=n(2);function m(t){return t&&t.__esModule?t:{default:t}}e.findTemplates=function(t,e){var n=(0,a.default)(t).contents().filter("[".concat("data-options",'*="').concat(e,'"]'));return[].slice.call(n).map((function(t){var n=(0,a.default)(t).attr("data-options")||"";return{element:t,options:(0,i.default)().optionsParser(n)[e]}})).filter((function(t){return!!t.options}))};e.suitableTemplatesByName=function(t){var e=(0,c.groupBy)(t,(function(t){return t.options.name}));if(e[void 0])throw r.default.Error("E0023");var n={};return Object.keys(e).forEach((function(t){var i,r=null===(i=(0,d.findBestMatches)(o.default.current(),e[t],(function(t){return t.options}))[0])||void 0===i?void 0:i.element;r&&(n[t]=r)})),n};var v=function(t){var e=t.render.bind(t);return(0,p.extend)({},t,{render:function(t){var n=e(t);return t&&t.onRendered&&t.onRendered(),n}})};e.addOneRenderedCall=v;e.getNormalizedTemplateArgs=function(t){var e=[];return"model"in t&&e.push(t.model),"index"in t&&e.push(t.index),e.push(t.container),e};e.validateTemplateSource=function(t){return"string"===typeof t?(0,f.normalizeTemplateElement)(t):t};e.templateKey=function(t){return(0,g.isRenderer)(t)&&t[0]||t};e.defaultCreateElement=function(t){return new u.Template(t)};var y=function(t,e,n,i){var o=null;return i&&-1!==i.indexOf(t)||!(o=e[t])||o instanceof h.TemplateBase||n||(o=v(o)),o};e.acquireIntegrationTemplate=y;e.acquireTemplate=function(t,e,n,i,o,r){return null==t?new l.EmptyTemplate:t instanceof s.ChildDefaultTemplate?r[t.name]:t instanceof h.TemplateBase?t:(0,g.isFunction)(t.render)&&!(0,g.isRenderer)(t)?i?t:v(t):t.nodeType||(0,g.isRenderer)(t)?e((0,a.default)(t)):y(t,n,i,o)||r[t]||e(t)}},function(t,e,n){"use strict";e.registerTemplateEngine=function(t,e){s[t]=e},e.setTemplateEngine=function(t){if((0,o.isString)(t)){if(!(a=s[t]))throw r.default.Error("E0020",t)}else a=t},e.getCurrentTemplateEngine=function(){return a};var i,o=n(2),r=(i=n(37))&&i.__esModule?i:{default:i};var a,s={}},function(t,e,n){"use strict";e.default=void 0;var i=s(n(17)),o=n(3),r=n(5),a=s(n(135));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e=[];return(0,r.each)(t.touches,(function(t,n){e.push((0,o.extend)({pointerId:n.identifier},n))})),{pointers:e,pointerId:t.changedTouches[0].identifier}},u=function(t){return"ios"===i.default.real().platform&&("dxpointerdown"===t||"dxpointerup"===t)},h=a.default.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(t){if(u(this._eventName)){var e=t.changedTouches[0];if(this._pointerId===e.identifier&&0!==this._pointerId)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase((0,o.extend)(l(t.originalEvent),t))}});h.map={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},h.normalize=l;var c=h;e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(5),o=a(n(67)),r=a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e){o.default.add((function(){t.split(" ").forEach((function(t){r.default.listen(r.default.getDocument(),t,e,!0)}))}))},l=function(t,e,n){n=n||function(){};var o=[],r=function(t){var n=-1;return(0,i.each)(o,(function(i,o){return!e(t,o)||(n=i,!1)})),n},a=function(t){var e=r(t);e>-1&&o.splice(e,1)};s(t.dxpointerdown,(function(t){-1===r(t)&&(n(t),o.push(t))})),s(t.dxpointermove,(function(t){o[r(t)]=t})),s(t.dxpointerup,a),s(t.dxpointercancel,a),this.pointers=function(){return o},this.reset=function(){o=[]}};e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(3),o=a(n(135)),r=a(n(216));function a(t){return t&&t.__esModule?t:{default:t}}var s,l={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},u=function(t){return t.pointerId=1,{pointers:s.pointers(),pointerId:1}},h=!1,c=function(){h||(s=new r.default(l,(function(){return!0})),h=!0)},d=o.default.inherit({ctor:function(){this.callBase.apply(this,arguments),c()},_fireEvent:function(t){return this.callBase((0,i.extend)(u(t.originalEvent),t))}});d.map=l,d.normalize=u,d.activate=c,d.resetObserver=function(){s.reset()};var f=d;e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=d(n(1)),o=n(6),r=d(n(18)),a=d(n(19)),s=n(3),l=d(n(73)),u=d(n(79)),h=n(8),c=n(48);function d(t){return t&&t.__esModule?t:{default:t}}var f=u.default.inherit({_supportedKeys:function(){return(0,s.extend)(this.callBase(),{escape:o.noop})},_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{message:r.default.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,resizeEnabled:!1,focusStateEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return(0,c.isMaterial)()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass("dx-loadpanel"),this._wrapper().addClass("dx-loadpanel-wrapper")},_renderContentImpl:function(){this.callBase(),this.$content().addClass("dx-loadpanel-content"),this._$contentWrapper=(0,i.default)("<div>").addClass("dx-loadpanel-content-wrapper"),this._$contentWrapper.appendTo(this._$content),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var t=this.option("delay");if(!t)return this.callBase();var e=new h.Deferred,n=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout((function(){n().done((function(){e.resolve()}))}),t),e.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$contentWrapper){var t=this.option("message");if(t){var e=(0,i.default)("<div>").addClass("dx-loadpanel-message").text(t);this._$contentWrapper.append(e)}}},_renderLoadIndicator:function(){this._$contentWrapper&&this.option("showIndicator")&&(this._$indicator||(this._$indicator=(0,i.default)("<div>").addClass("dx-loadpanel-indicator").appendTo(this._$contentWrapper)),this._createComponent(this._$indicator,l.default,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find(".dx-loadpanel-message").remove(),this.$content().find(".dx-loadpanel-indicator").remove()},_togglePaneVisible:function(){this.$content().toggleClass("dx-loadpanel-pane-hidden",!this.option("showPane"))},_optionChanged:function(t){switch(t.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(t)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});(0,a.default)("dxLoadPanel",f);var p=f;e.default=p,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},r=n(103);var a={getSwatchContainer:function(t){var e=(0,o.default)(t).closest('[class^="'.concat("dx-swatch-",'"], [class*=" ').concat("dx-swatch-",'"]')),n=(0,r.value)();if(!e.length)return n;var i=new RegExp("(\\s|^)(".concat("dx-swatch-",".*?)(\\s|$)")),a=e[0].className.match(i)[2],s=n.children("."+a);return s.length||(s=(0,o.default)("<div>").addClass(a).appendTo(n)),s}};e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=l(n(91)),r=l(n(75)),a=l(n(58)),s=l(n(64));function l(t){return t&&t.__esModule?t:{default:t}}n(170);var u=(0,s.default)({format:function(t,e){var n=(0,i.isString)(e)&&""!==e||(0,i.isPlainObject)(e)||(0,i.isFunction)(e),o=(0,i.isNumeric)(t)||(0,i.isDate)(t);return n&&o?(0,i.isFunction)(e)?e(t):((0,i.isString)(e)&&(e={type:e}),(0,i.isNumeric)(t)?r.default.format(t,e):(0,i.isDate)(t)?a.default.format(t,e):void 0):(0,i.isDefined)(t)?t.toString():""},getTimeFormat:function(t){return t?"longtime":"shorttime"},_normalizeFormat:function(t){return Array.isArray(t)?1===t.length?t[0]:function(e){return t.map((function(t){return a.default.format(e,t)})).join(" ")}:t},getDateFormatByDifferences:function(t,e){var n=[],i=e&&t.millisecond&&!(t.year||t.month||t.day);if(i){n.push((function(t){return t.getSeconds()+t.getMilliseconds()/1e3+"s"}))}else t.millisecond&&n.push("millisecond");if((t.hour||t.minute||!i&&t.second)&&n.unshift(this.getTimeFormat(t.second)),t.year&&t.month&&t.day)return e&&"month"===e?"monthandyear":(n.unshift("shortdate"),this._normalizeFormat(n));if(t.year&&t.month)return"monthandyear";if(t.year&&t.quarter)return"quarterandyear";if(t.year)return"year";if(t.quarter)return"quarter";if(t.month&&t.day){if(e){n.unshift((function(t){return a.default.getMonthNames("abbreviated")[t.getMonth()]+" "+a.default.format(t,"day")}))}else n.unshift("monthandday");return this._normalizeFormat(n)}if(t.month)return"month";if(t.day){if(e)n.unshift("day");else{n.unshift((function(t){return a.default.format(t,"dayofweek")+", "+a.default.format(t,"day")}))}return this._normalizeFormat(n)}return this._normalizeFormat(n)},getDateFormatByTicks:function(t){var e,n,i;if(t.length>1)for(e=o.default.getDatesDifferences(t[0],t[1]),i=1;i<t.length-1;i++)n=o.default.getDatesDifferences(t[i],t[i+1]),e.count<n.count&&(e=n);else e={year:!0,month:!0,day:!0,hour:t[0].getHours()>0,minute:t[0].getMinutes()>0,second:t[0].getSeconds()>0,millisecond:t[0].getMilliseconds()>0};return this.getDateFormatByDifferences(e)},getDateFormatByTickInterval:function(t,e,n){var r,a=function(t,e,n){switch(e){case"year":case"quarter":t.month=n;case"month":t.day=n;case"week":case"day":t.hour=n;case"hour":t.minute=n;case"minute":t.second=n;case"second":t.millisecond=n}};n=(0,i.isString)(n)?n.toLowerCase():n;var s,l,u,h=o.default.getDatesDifferences(t,e);return t!==e&&(s=h,l=t>e?e:t,!(u=t>e?t:e).getMilliseconds()&&u.getSeconds()?u.getSeconds()-l.getSeconds()===1&&(s.millisecond=!0,s.second=!1):!u.getSeconds()&&u.getMinutes()?u.getMinutes()-l.getMinutes()===1&&(s.second=!0,s.minute=!1):!u.getMinutes()&&u.getHours()?u.getHours()-l.getHours()===1&&(s.minute=!0,s.hour=!1):!u.getHours()&&u.getDate()>1?u.getDate()-l.getDate()===1&&(s.hour=!0,s.day=!1):1===u.getDate()&&u.getMonth()?u.getMonth()-l.getMonth()===1&&(s.day=!0,s.month=!1):!u.getMonth()&&u.getFullYear()&&u.getFullYear()-l.getFullYear()===1&&(s.month=!0,s.year=!1)),a(h,r=o.default.getDateUnitInterval(h),!0),a(h,r=o.default.getDateUnitInterval(n||"second"),!1),h[{week:"day"}[r]||r]=!0,this.getDateFormatByDifferences(h)}});e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.getFormatter=function(t,e){return e=e||r,function(n){if("number"!==typeof n||isNaN(n))return"";var r=n>0||1/n===1/0,s=function(t){var e=t.split(";");1===e.length&&e.push("-"+e[0]);return e}(t)[r?0:1];(function(t){return-1!==t.indexOf("%")&&!t.match(/'[^']*%[^']*'/g)})(s)&&(n*=100),r||(n=-n);var d,f=function(t){for(var e=!1,n=0;n<t.length;n++)if("'"===t[n]&&(e=!e),"."===t[n]&&!e)return n;return t.length}(s),p=[s.substr(0,f),s.substr(f+1)],g=u(p[1]),m=g+l(p[1]),v=u(p[0]),y=l(p[0])||e.unlimitedIntegerDigits?void 0:v,_=Math.floor(n).toString().length,b=(0,i.fitIntoRange)(m,0,15-_),x=(d=p[0],d.split(",").slice(1).map((function(t){return t.split("").filter((function(t){return"#"===t||"0"===t})).length}))).reverse(),w=(0,o.toFixed)(n,b<0?0:b).split("."),C=h(a(w[0]),v,y),S=h(w[1],g,m);C=function(t,e,n){if(!e.length)return t;var i=[],o=0;for(;t;){var r=e[o];if(!r)break;i.push(t.slice(0,r)),t=t.slice(r),o<e.length-1&&o++}return i.join(n)}(C,x,e.thousandsSeparator);var k=a(c(a(p[0]),C)),E=m?c(p[1],S):"";return k+(E.match(/\d/)?e.decimalSeparator:"")+E}},e.getFormat=function(t){var e=".",n=t(1).indexOf("100")>=0;e=f(e,t,n,!0);var i=p(e=f(e,t,n,!1),t,n,!1),o=p(e,t,n,!0);return o==="-"+i?i:i+";"+o};var i=n(52),o=n(222),r={thousandsSeparator:",",decimalSeparator:"."};function a(t){return t.toString().split("").reverse().join("")}function s(t){return t.replace(/'.+'/g,"")}function l(t){if(!t)return 0;var e=s(t);return e.length-e.replace(/[#]/g,"").length}function u(t){if(!t)return 0;var e=s(t);return e.length-e.replace(/[0]/g,"").length}function h(t,e,n){if(!t)return"";for(t.length>n&&(t=t.substr(0,n));t.length>e&&"0"===t.slice(-1);)t=t.substr(0,t.length-1);for(;t.length<e;)t+="0";return t}function c(t,e){return t.split("'").map((function(t,n){var i=n%2;return!t&&i?"'":i?t:t.replace(/[,#0]+/,e)})).join("")}function d(t,e,n){var i=(e?.01:1)*parseFloat(t)||0;return n?-i:i}function f(t,e,n,i){var o,r,a,s=t;do{a&&(o=r.length===a.length?"0":"1",t=i?o+t:t+o),r=a||e(d(s,n)),a=e(d(s=i?"1"+s:s+"1",n))}while(r!==a&&(i?r.length===a.length:r.length<=a.length));if(i&&a.length>r.length){var l=-1===e(12345).indexOf("12345");do{t="1"+t}while(l&&d(t,n)<1e5)}return t}function p(t,e,n,i){var o=e(d(t,n,i)),r=t.split("."),a=e(d(r[0]+".3"+r[1].slice(1),n,i)).indexOf("3")-1;return o=o.replace(/(\d)\D(\d)/g,"$1,$2"),a>=0&&(o=o.slice(0,a)+"."+o.slice(a+1)),o=o.replace(/1+/,"1").replace(/1/g,"#"),n||(o=o.replace("%","'%'")),o}},function(t,e,n){"use strict";e.toFixed=function(t,e){var n=e||0,i=n>0?o.apply(void 0,arguments):t;return i.toFixed(n)};var i=n(52);function o(t,e){var n=Math.pow(10,e);return function(t){return(0,i.sign)(t)*Math.round(Math.abs(t))}(t*(10*n)/10)/n}},function(t,e,n){"use strict";function i(t,e){for(;t.length<e;)t="0"+t;return t}e.getFormatter=void 0;var o={3:"abbreviated",4:"wide",5:"narrow"},r={y:function(t,e,n){var o=t[n?"getUTCFullYear":"getFullYear"]();return 2===e&&(o%=100),i(o.toString(),e)},M:function(t,e,n,r){var a=t[n?"getUTCMonth":"getMonth"](),s=o[e];return s?r.getMonthNames(s,"format")[a]:i((a+1).toString(),Math.min(e,2))},L:function(t,e,n,r){var a=t[n?"getUTCMonth":"getMonth"](),s=o[e];return s?r.getMonthNames(s,"standalone")[a]:i((a+1).toString(),Math.min(e,2))},Q:function(t,e,n,r){var a=t[n?"getUTCMonth":"getMonth"](),s=Math.floor(a/3),l=o[e];return l?r.getQuarterNames(l)[s]:i((s+1).toString(),Math.min(e,2))},E:function(t,e,n,i){var r=t[n?"getUTCDay":"getDay"](),a=o[e<3?3:e];return i.getDayNames(a)[r]},a:function(t,e,n,i){var r=t[n?"getUTCHours":"getHours"]()<12?0:1,a=o[e];return i.getPeriodNames(a)[r]},d:function(t,e,n){return i(t[n?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(t,e,n){return i(t[n?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(t,e,n){return i((t[n?"getUTCHours":"getHours"]()%12||12).toString(),Math.min(e,2))},m:function(t,e,n){return i(t[n?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(t,e,n){return i(t[n?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(t,e,n){return i(t[n?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(t,e,n){var o=n?0:t.getTimezoneOffset(),r=o>0?"-":"+",a=Math.abs(o),s=a%60,l=i(Math.floor(a/60).toString(),2),u=i(s.toString(),2);return r+l+(e>=3?":":"")+(e>1||s?u:"")},X:function(t,e,n){return n||!t.getTimezoneOffset()?"Z":r.x(t,e,n)},Z:function(t,e,n){return r.X(t,e>=5?3:2,n)}};e.getFormatter=function(t,e){return function(n){var i,o,a,s,l=0,u=!1,h="";if(!n)return null;if(!t)return n;var c="Z"===t[t.length-1]||"'Z'"===t.slice(-3);for(i=0;i<t.length;i++)a=t[i],o=r[a],l++,(s=a===t[i+1])||(o&&!u&&(h+=o(n,l,c,e)),l=0),"'"!==a||s?!u&&o||(h+=a):u=!u,"'"===a&&s&&i++;return h}}},function(t,e,n){"use strict";e.default=void 0;var i=n(5),o=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["Q1","Q2","Q3","Q4"],l=function(t,e){var n={abbreviated:3,short:2,narrow:1};return(0,i.map)(t,(function(t){return t.substr(0,n[e])}))},u={getMonthNames:function(t){return l(o,t)},getDayNames:function(t){return l(r,t)},getQuarterNames:function(t){return s},getPeriodNames:function(t){return a}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(8),o=c(n(16)),r=c(n(354)),a=n(14),s=n(3),l=n(2),u=c(n(124)),h=c(n(64));function c(t){return t&&t.__esModule?t:{default:t}}var d=(0,a.getWindow)(),f=function(t){var e=o.default.createElement("script");for(var n in t)e[n]=t[n];return e},p=function(t){t.parentNode.removeChild(t)},g=function(t){return o.default.getHead().appendChild(t)},m=function(t){var e=f({text:t});g(e),p(e)},v=function(t,e){var n=t.data,i="string"===typeof n,o=t.url||d.location.href;return i||t.cache||((n=n||{})._=Date.now()),n&&!t.upload&&(i||(n=function(t){var e=[];for(var n in t){var i=t[n];void 0!==i&&(null===i&&(i=""),e.push(encodeURIComponent(n)+"="+encodeURIComponent(i)))}return e.join("&")}(n)),"GET"===y(t)?(""!==n&&(o+=(o.indexOf("?")>-1?"&":"?")+n),n=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(n=n.replace(/%20/g,"+"))),{url:o,parameters:n}};function y(t){return(t.method||"GET").toUpperCase()}var _=function(t){var e=t.headers||{};return e["Content-Type"]=e["Content-Type"]||function(t){var e;return t.data&&!t.upload&&"GET"!==y(t)&&(e="application/x-www-form-urlencoded;charset=utf-8"),t.contentType||e}(t),e.Accept=e.Accept||function(t){var e=t.dataType||"*",n="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",i={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:n,script:n};return(0,s.extendFromObject)(i,t.accepts,!0),i[e]?i[e]+("*"!==e?", */*; q=0.01":""):i["*"]}(t),t.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e},b=(0,h.default)({sendRequest:function(t){var e,n=r.default.getXhr(),s=new i.Deferred,h=s.promise(),c=!(0,l.isDefined)(t.async)||t.async,b=t.dataType,x=t.timeout||0;t.crossDomain=function(t){if(!(0,a.hasWindow)())return!0;var e=!1,n=o.default.createElement("a"),i=o.default.createElement("a");n.href=d.location.href;try{i.href=t,i.href=i.href,e=n.protocol+"//"+n.host!==i.protocol+"//"+i.host}catch(r){e=!0}return e}(t.url);var w="jsonp"===b||"script"===b;void 0===t.cache&&(t.cache=!w);var C=function(t){if("jsonp"===t.dataType){var e=Math.random().toString().replace(/\D/g,""),n=t.jsonpCallback||"dxCallback"+Date.now()+"_"+e,i=t.jsonp||"callback";return t.data=t.data||{},t.data[i]=n,n}}(t),S=_(t),k=v(t,S),E=k.url,I=k.parameters;if(C&&(d[C]=function(t){s.resolve(t,"success",n)}),t.crossDomain&&w){return function(t){var e=f({src:t});return new u.default((function(t,n){var i={load:t,error:n},r=function(t){i[t.type](),p(e)};for(var a in i)o.default.listen(e,a,r);g(e)}))}(E).then((function(){"jsonp"!==b&&s.resolve(null,"success",n)}),(function(){s.reject(n,"error")})),h}if(t.crossDomain&&!("withCredentials"in n))return s.reject(n,"error"),h;if(n.open(y(t),E,c,t.username,t.password),c&&(n.timeout=x,e=function(t,e){return t&&setTimeout((function(){e.customStatus="timeout",e.abort()}),t)}(x,n)),n.onreadystatechange=function(t){var i;4===n.readyState&&(clearTimeout(e),200<=(i=n.status)&&i<300?function(t){return 204!==t}(n.status)?function(e,n,i){var o=function(t){return t.responseType&&"text"!==t.responseType||"string"!==typeof t.responseText?t.response:t.responseText}(n);switch(i){case"jsonp":m(o);break;case"script":m(o),e.resolve(o,"success",n);break;case"json":try{e.resolve(JSON.parse(o),"success",n)}catch(t){e.reject(n,"parsererror",t)}break;default:e.resolve(o,"success",n)}}(s,n,b):s.resolve(null,"nocontent",n):s.reject(n,n.customStatus||"error"))},t.upload&&(n.upload.onprogress=t.upload.onprogress,n.upload.onloadstart=t.upload.onloadstart,n.upload.onabort=t.upload.onabort),t.xhrFields)for(var T in t.xhrFields)n[T]=t.xhrFields[T];for(var D in"arraybuffer"===t.responseType&&(n.responseType=t.responseType),S)Object.prototype.hasOwnProperty.call(S,D)&&(0,l.isDefined)(S[D])&&n.setRequestHeader(D,S[D]);return t.beforeSend&&t.beforeSend(n),n.send(I),h.abort=function(){n.abort()},h}});e.default=b,t.exports=e.default},function(t,e,n){"use strict";e.findChanges=void 0;var i=n(2),o=function(t,e){var n=e(t);if((0,i.isObject)(n))try{return JSON.stringify(n)}catch(o){return n}return n},r=function(t,e,n,i){return e[n[o(t,i)]]};e.findChanges=function(t,e,n,i){var a={},s={},l=0,u=0,h=[];t.forEach((function(t,e){var i=o(t,n);a[i]=e})),e.forEach((function(t,e){var i=o(t,n);s[i]=e}));for(var c=Math.max(t.length,e.length),d=0;d<c+l;d++){var f=e[d],p=d-l+u,g=t[p];if(!f||g&&!r(g,e,s,n))g&&(h.push({type:"remove",key:n(g),index:d,oldItem:g}),u++,d--);else{var m=o(f,n),v=a[m],y=t[v];if(y){if(v!==p)return;i(y,f)||h.push({type:"update",data:f,key:n(f),index:d,oldItem:y})}else l++,h.push({type:"insert",data:f,index:d})}}return h}},function(t,e,n){"use strict";e.SimulatedStrategy=e.Scroller=void 0;var i=b(n(1)),o=b(n(16)),r=b(n(7)),a=n(60),s=n(3),l=n(14),u=n(5),h=n(2),c=n(34),d=n(41),f=b(n(20)),p=b(n(228)),g=b(n(17)),m=n(13),v=n(6),y=b(n(229)),_=n(8);function b(t){return t&&t.__esModule?t:{default:t}}var x,w,C="android"===g.default.real.platform,S="horizontal",k=C?.95:.92,E=Math.round(1e3/60),I=(C?300:400)/E,T=(1-Math.pow(k,I))/(1-k),D="pageUp",M="pageDown",O="end",P="home",A="leftArrow",R="upArrow",B="rightArrow",N="downArrow",F="tab",L=p.default.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:1,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?k:.5},_complete:function(){this.scroller._scrollComplete()},_stop:function(){this.scroller._stopComplete()}}),V=L.inherit({VELOCITY_LIMIT:.2,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return k},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),j=f.default.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){var e=this;this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===S?"x":"y",this._prop=t.direction===S?"left":"top",this._dimension=t.direction===S?"width":"height",this._scrollProp=t.direction===S?"scrollLeft":"scrollTop",(0,u.each)(t,(function(t,n){e["_"+t]=n}))},_initAnimators:function(){this._inertiaAnimator=new L(this),this._bounceAnimator=new V(this)},_initScrollbar:function(){this._scrollbar=new y.default((0,i.default)("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return!0===t?"onScroll":!1===t?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),Math.abs(e-this._location)<1||r.default.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=void 0!==t?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=void 0!==t?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if((0,l.hasWindow)()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),n=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/n*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round((0,c.getBoundingRect)(t)[e])},_getBaseDimension:function(t,e){return t["offset"+(0,a.titleize)(e)]},_moveContentByTranslator:function(t){var e,n=-this._maxScrollPropValue;if(e=t>0?t:t<=n?t-n:t%1,this._translateOffset!==e){var i={};i[this._prop]=e,this._translateOffset=e,0!==e?(0,d.move)(this._$content,i):(0,d.resetPosition)(this._$content)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=(this._bounceLocation=this._boundLocation())-this._location;this._velocity=t/T},_inBounds:function(t){return t=void 0!==t?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){return this._stopDeferred=new _.Deferred,this._stopScrolling(),this._prepareThumbScrolling(t),this._stopDeferred.promise()},_stopScrolling:(0,v.deferRenderer)((function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()})),_prepareThumbScrolling:function(t){if(!(0,m.isDxMouseWheelEvent)(t.originalEvent)){var e=(0,i.default)(t.originalEvent.target),n=this._isScrollbar(e);n&&this._moveToMouseLocation(t),this._thumbScrolling=n||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],n=this._location+e/this._containerToContentRatio()-this._$container.height()/2;this._scrollStep(-Math.round(n))},_stopComplete:function(){this._stopDeferred&&this._stopDeferred.resolve()},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=.5),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new _.Deferred,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){this._inertiaEnabled&&!this._thumbScrolling||(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){var t=this;return this._stopScrolling(),(0,v.deferUpdate)((function(){t._resetScaleRatio(),t._updateLocation(),t._updateBounds(),t._updateScrollbar(),(0,v.deferRender)((function(){t._moveScrollbar(),t._scrollbar.update()}))}))},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=((0,d.locate)(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=Math.round(this._getMaxOffset()),this._minOffset=Math.round(this._getMinOffset())},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:(0,v.deferUpdater)((function(){var t=this,e=this._containerSize(),n=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),o=this._getBaseDimension(this._$content.get(0),this._dimension);(0,v.deferRender)((function(){t._scrollbar.option({containerSize:e,contentSize:n,baseContainerSize:i,baseContentSize:o,scaleRatio:t._getScaleRatio()})}))})),_moveToBounds:(0,v.deferRenderer)((0,v.deferUpdater)((0,v.deferRenderer)((function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()})))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t="hidden"===this._$content.css("overflow"+this._axis.toUpperCase()),e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var n=this._$content[0]["scroll"+(0,a.titleize)(this._dimension)]*this._getScaleRatio();e=Math.max(n,e)}return e},_validateEvent:function(t){var e=(0,i.default)(t.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)||this._isContent(e)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_isContent:function(t){return this._scrollByContent&&!!t.closest(this._$element).length},_reachedMin:function(){return this._location<=this._minOffset},_reachedMax:function(){return this._location>=this._maxOffset},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:v.noop});e.Scroller=j;var z=f.default.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=t._$container,this._$wrapper=t._$wrapper,this._$content=t._$content,this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t)},render:function(){this._$element.addClass("dx-scrollable-simulated"),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(S)&&this._createScroller(S),this._isDirection("vertical")&&this._createScroller("vertical"),this._$element.toggleClass("dx-scrollable-scrollbars-alwaysvisible","always"===this.option("showScrollbar")),this._$element.toggleClass("dx-scrollable-scrollbars-hidden",!this.option("showScrollbar"))},_createScroller:function(t){this._scrollers[t]=new j(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var n=this._getPropByDirection(e);if((0,h.isDefined)(t[n])){var i=this._scrollers[e];t[n]*=i._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done((function(t,n){e=t||n})),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t).done(this._stopAction)},_suppressDirections:function(t){(0,m.isDxMouseWheelEvent)(t.originalEvent)?this._prepareDirections(!0):(this._prepareDirections(),this._eachScroller((function(e,n){var i=e._validateEvent(t);this._validDirections[n]=i})))},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections[S]=t,this._validDirections.vertical=t},_eachScroller:function(t){t=t.bind(this),(0,u.each)(this._scrollers,(function(e,n){t(n,e)}))},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){w=this},_resetActive:function(){w===this&&(w=null)},handleMove:function(t){if(this._isLocked())return t.cancel=!0,void this._resetActive();this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections[S],e.y*=this._validDirections.vertical;var n=this._tryGetDevicePixelRatio();n&&(0,m.isDxMouseWheelEvent)(t.originalEvent)&&(e.x=Math.round(e.x/n*100)/100,e.y=Math.round(e.y/n*100)/100)},_tryGetDevicePixelRatio:function(){if((0,l.hasWindow)())return(0,l.getWindow)().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._scrollAction()},_attachKeyboardHandler:function(){r.default.off(this._$element,".".concat("dxSimulatedScrollableKeyboard")),!this.option("disabled")&&this.option("useKeyboard")&&r.default.on(this._$element,(0,m.addNamespace)("keydown","dxSimulatedScrollableKeyboard"),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){var e=this;if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout((function(){(0,m.normalizeKeyName)(t)===F&&e._eachScroller((function(t){t._updateHandler()}))})),this._$container.is(o.default.getActiveElement())){var n=!0;switch((0,m.normalizeKeyName)(t)){case N:this._scrollByLine({y:1});break;case R:this._scrollByLine({y:-1});break;case B:this._scrollByLine({x:1});break;case A:this._scrollByLine({x:-1});break;case M:this._scrollByPage(1);break;case D:this._scrollByPage(-1);break;case P:this._scrollToHome();break;case O:this._scrollToEnd();break;default:n=!1}n&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),n=40;e&&(n=Math.abs(n/e*100)/100),this.scrollBy({top:(t.y||0)*-n,left:(t.x||0)*-n})},_scrollByPage:function(t){var e=this._wheelProp(),n=this._dimensionByProp(e),i={};i[e]=t*-this._$container[n](),this.scrollBy(i)},_dimensionByProp:function(t){return"left"===t?"width":"height"},_getPropByDirection:function(t){return t===S?"left":"top"},_scrollToHome:function(){var t={};t[this._wheelProp()]=0,this._component.scrollTo(t)},_scrollToEnd:function(){var t=this._wheelProp(),e=this._dimensionByProp(t),n={};n[t]=this._$content[e]()-this._$container[e](),this._component.scrollTo(n)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._stopAction=this._createActionHandler("onStop"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=arguments,n=this,i=this._createActionByOption(t);return function(){i((0,s.extend)(n._createActionArgs(),e))}},_createActionArgs:function(){var t=this._scrollers[S],e=this._scrollers.vertical,n=this.location();return this._scrollOffset={top:e&&-n.top,left:t&&-n.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:t&&t._reachedMax(),reachedRight:t&&t._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_eventHandler:function(t){var e=[].slice.call(arguments).slice(1),n=(0,u.map)(this._scrollers,(function(n){return n["_"+t+"Handler"].apply(n,e)}));return _.when.apply(i.default,n).promise()},location:function(){var t=(0,d.locate)(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){r.default.off(this._$element,".".concat("dxSimulatedScrollableCursor")),!this.option("disabled")&&this._isHoverMode()&&(r.default.on(this._$element,(0,m.addNamespace)("mouseenter","dxSimulatedScrollableCursor"),this._cursorEnterHandler.bind(this)),r.default.on(this._$element,(0,m.addNamespace)("mouseleave","dxSimulatedScrollableCursor"),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return"onHover"===this.option("showScrollbar")},_cursorEnterHandler:function(t){(t=t||{}).originalEvent=t.originalEvent||{},w||t.originalEvent._hoverHandled||(x&&x._cursorLeaveHandler(),x=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){x===this&&w!==x&&(this._eventHandler("cursorLeave"),x=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(this._isHoverMode()||t&&!w){var e=(0,i.default)(t).closest(".".concat("dx-scrollable-simulated",":not(.dx-state-disabled)")),n=e.length&&e.data("dxScrollableStrategy");x&&x!==n&&x._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var t=this,e=this._eventHandler("update").done(this._updateAction);return(0,_.when)(e,(0,v.deferUpdate)((function(){var e=t._allowedDirections();return(0,v.deferRender)((function(){var n=e.vertical?"pan-x":"";n=e.horizontal?"pan-y":n,n=e.vertical&&e.horizontal?"none":n,t._$container.css("touchAction",n)})),(0,_.when)().promise()})))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers.vertical,n=this._scrollers[S];return{vertical:e&&(e._minOffset<0||t),horizontal:n&&(n._minOffset<0||t)}},updateBounds:function(){this._scrollers[S]&&this._scrollers[S]._updateBounds()},scrollBy:function(t){var e=this._scrollers.vertical,n=this._scrollers[S];e&&(t.top=e._boundLocation(t.top+e._location)-e._location),n&&(t.left=n._boundLocation(t.left+n._location)-n._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction()},validate:function(t){return!this.option("disabled")&&(!!this.option("bounceEnabled")||((0,m.isDxMouseWheelEvent)(t)?this._validateWheel(t):this._validateMove(t)))},_validateWheel:function(t){var e=this,n=this._scrollers[this._wheelDirection(t)],i=n._reachedMin(),o=n._reachedMax(),r=!i||!o,a=!i&&!o,s=i&&t.delta>0,l=o&&t.delta<0,u=r&&(a||s||l);return(u=u||void 0!==this._validateWheelTimer)&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout((function(){e._validateWheelTimer=void 0}),500)),u},_validateMove:function(t){return!(!this.option("scrollByContent")&&!(0,i.default)(t.target).closest(".".concat("dx-scrollable-scrollbar")).length)&&this._allowedDirection()},getDirection:function(t){return(0,m.isDxMouseWheelEvent)(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===S?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case S:return S;case"vertical":return"vertical";default:return t&&t.shiftKey?S:"vertical"}},verticalOffset:function(){return 0},dispose:function(){this._resetActive(),x===this&&(x=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass("dx-scrollable-simulated"),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){r.default.off(this._$element,".".concat("dxSimulatedScrollableCursor")),r.default.off(this._$container,".".concat("dxSimulatedScrollableKeyboard"))}});e.SimulatedStrategy=z},function(t,e,n){"use strict";e.default=void 0;var i,o=n(6),r=(i=n(20))&&i.__esModule?i:{default:i},a=n(134);var s=r.default.abstract,l=r.default.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,(0,a.cancelAnimationFrame)(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped())this._stop();else{if(this._isFinished())return this._finished=!0,void this._complete();this._step(),this._stepAnimationFrame=(0,a.requestAnimationFrame)(this._proxiedStepCore)}},_step:s,_isFinished:o.noop,_stop:o.noop,_complete:o.noop,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}});e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=p(n(16)),r=p(n(7)),a=p(n(67)),s=n(41),l=p(n(47)),u=n(13),h=n(6),c=n(2),d=n(3),f=p(n(33));function p(t){return t&&t.__esModule?t:{default:t}}var g="".concat("dx-scrollable-scrollbar","-active"),m="onScroll",v="onHover",y="always",_="never",b=null,x=l.default.inherit({_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:m,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass("dx-scrollbar-hoverable",this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=(0,i.default)("<div>").addClass("dx-scrollable-scroll"),(0,i.default)("<div>").addClass("dx-scrollable-scroll-content").appendTo(this._$thumb),this.$element().addClass("dx-scrollable-scrollbar").append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===v||t===y)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension="horizontal"===t?"width":"height",this._prop="horizontal"===t?"left":"top"},_attachPointerDownHandler:function(){r.default.on(this._$thumb,(0,u.addNamespace)(f.default.down,"dxScrollbar"),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(g),b=this},feedbackOff:function(){this.$element().removeClass(g),b=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===m&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case m:break;case v:t=t||!!this._isHovered;break;case _:t=!1;break;case y:t=!0}return t},moveTo:function(t){if(!this._isHidden()){(0,c.isPlainObject)(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),(0,s.move)(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),n=Math.round(this.option("baseContainerSize")),i=Math.round(this.option("baseContentSize"));isNaN(n)&&(n=t,i=e),this._baseContainerToContentRatio=i?n/i:n,this._realContainerToContentRatio=e?t/e:t;var o=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),15));this._thumbRatio=(t-o)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,o/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===_},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return(0,c.isPlainObject)(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===b&&(b=null),r.default.off(this._$thumb,".dxScrollbar")},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:(0,h.deferRenderer)((function(){this._adjustVisibility()&&this.option("visible",!0)}))});a.default.add((function(){r.default.subscribeGlobal(o.default.getDocument(),(0,u.addNamespace)(f.default.up,"dxScrollbar"),(function(){b&&b.feedbackOff()}))}));var w=x;e.default=w,t.exports=e.default},function(t,e,n){"use strict";e.deviceDependentOptions=void 0;var i,o=(i=n(17))&&i.__esModule?i:{default:i},r=n(56);e.deviceDependentOptions=function(){return[{device:function(){return!r.nativeScrolling},options:{useNative:!1}},{device:function(t){return!o.default.isSimulator()&&"desktop"===o.default.real().deviceType&&"generic"===t.platform},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:r.touch,showScrollbar:"onHover"}}]}},function(t,e,n){"use strict";e.default=void 0;var i=f(n(1)),o=n(6),r=n(2),a=n(5),s=n(3),l=n(95),u=f(n(232)),h=f(n(390)),c=f(n(17)),d=f(n(109));function f(t){return t&&t.__esModule?t:{default:t}}function p(t){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return(v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==p(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w="dx-menu-item",C={show:50,hide:300},S=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(f,t);var e,n,u,d=_(f);function f(){return g(this,f),d.apply(this,arguments)}return e=f,(n=[{key:"_getDefaultOptions",value:function(){return(0,s.extend)(v(x(f.prototype),"_getDefaultOptions",this).call(this),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}},{key:"_itemDataKey",value:function(){return"dxMenuItemDataKey"}},{key:"_itemClass",value:function(){return w}},{key:"_setAriaSelected",value:function(){}},{key:"_selectedItemClass",value:function(){return"dx-menu-item-selected"}},{key:"_widgetClass",value:function(){return"dx-menu-base"}},{key:"_focusTarget",value:function(){return this._itemContainer()}},{key:"_clean",value:function(){this.option("focusedElement",null),v(x(f.prototype),"_clean",this).call(this)}},{key:"_supportedKeys",value:function(){var t=this;return(0,s.extend)(v(x(f.prototype),"_supportedKeys",this).call(this),{space:function(){var e=(0,i.default)(t.option("focusedElement"));e.length&&t._isSelectionEnabled()&&t.selectItem(e[0])},pageUp:o.noop,pageDown:o.noop})}},{key:"_isSelectionEnabled",value:function(){return"single"===this.option("selectionMode")}},{key:"_init",value:function(){this._activeStateUnit=".".concat(w),v(x(f.prototype),"_init",this).call(this),this._renderSelectedItem(),this._initActions()}},{key:"_getTextContainer",value:function(t){var e=t.text,n=(0,i.default)("<span>").addClass("dx-menu-item-text"),o=(0,r.isPlainObject)(t)?e:String(t);return e&&n.text(o)}},{key:"_getPopoutContainer",value:function(t){var e,n=t.items;if(n&&n.length){var o=(0,i.default)("<div>").addClass("dx-menu-item-popout");e=(0,i.default)("<span>").addClass("dx-menu-item-popout-container").append(o)}return e}},{key:"_getDataAdapterOptions",value:function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}},{key:"_selectByItem",value:function(t){if(t){var e=this._dataAdapter.getNodeByItem(t);this._dataAdapter.toggleSelection(e.internalFields.key,!0)}}},{key:"_renderSelectedItem",value:function(){var t=this._dataAdapter.getSelectedNodesKeys(),e=t.length&&t[0],n=this.option("selectedItem");if(e){var i=this._dataAdapter.getNodeByKey(e);!1!==i.selectable&&(n?n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(e,!1),this._selectByItem(n)):this.option("selectedItem",i.internalFields.item))}else this._selectByItem(n)}},{key:"_initActions",value:function(){}},{key:"_initMarkup",value:function(){v(x(f.prototype),"_initMarkup",this).call(this),this._addCustomCssClass(this.$element()),this.option("useInkRipple")&&this._renderInkRipple()}},{key:"_renderInkRipple",value:function(){this._inkRipple=(0,l.render)()}},{key:"_toggleActiveState",value:function(t,e,n){if(v(x(f.prototype),"_toggleActiveState",this).apply(this,arguments),this._inkRipple){var i={element:t,event:n};e?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}}},{key:"_getShowSubmenuMode",value:function(){var t=this.option("showSubmenuMode");return t=(0,r.isObject)(t)?t.name:t,this._isDesktopDevice()?t:"onClick"}},{key:"_initSelectedItems",value:function(){}},{key:"_isDesktopDevice",value:function(){return"desktop"===c.default.real().deviceType}},{key:"_initEditStrategy",value:function(){var t=h.default;this._editStrategy=new t(this)}},{key:"_addCustomCssClass",value:function(t){t.addClass(this.option("cssClass"))}},{key:"_itemWrapperSelector",value:function(){return".".concat("dx-menu-item-wrapper")}},{key:"_hoverStartHandler",value:function(t){var e=this._getItemElementByEventArgs(t);e&&!this._isItemDisabled(e)&&(t.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,e),this._getSubmenuDelay("show"))))}},{key:"_getAvailableItems",value:function(t){return v(x(f.prototype),"_getAvailableItems",this).call(this,t).filter((function(){return"hidden"!==(0,i.default)(this).css("visibility")}))}},{key:"_isItemDisabled",value:function(t){return this._disabledGetter(t.data(this._itemDataKey()))}},{key:"_showSubmenu",value:function(t){this._addExpandedClass(t)}},{key:"_addExpandedClass",value:function(t){(0,i.default)(t).addClass("dx-menu-item-expanded")}},{key:"_getSubmenuDelay",value:function(t){var e=this.option("showSubmenuMode").delay;return(0,r.isDefined)(e)?(0,r.isObject)(e)?e[t]:e:C[t]}},{key:"_getItemElementByEventArgs",value:function(t){var e=(0,i.default)(t.target);if(e.hasClass(this._itemClass())||e.get(0)===t.currentTarget)return e;for(;!e.hasClass(this._itemClass());)if((e=e.parent()).hasClass("dx-submenu"))return null;return e}},{key:"_hoverEndHandler",value:function(){clearTimeout(this._showSubmenusTimeout)}},{key:"_hasSubmenu",value:function(t){return t&&t.internalFields.childrenKeys.length}},{key:"_renderContentImpl",value:function(){this._renderItems(this._dataAdapter.getRootNodes())}},{key:"_renderItems",value:function(t,e){var n=this;if(t.length){this.hasIcons=!1;var i=this._renderContainer(this.$element(),e),o=-1,r=-1;(0,a.each)(t,(function(t,e){var a=!1!==e.visible;a&&o<0&&(o=t),o<t&&(e.beginGroup||t===r)&&(r=a?t:t+1),t===r&&o<t&&n._renderSeparator(i),n._renderItem(t,e,i)})),this.hasIcons||i.addClass("dx-menu-no-icons")}}},{key:"_renderContainer",value:function(t){var e=(0,i.default)("<ul>");return this.setAria("role","none",e),e.appendTo(t).addClass("dx-menu-items-container")}},{key:"_createDOMElement",value:function(t){var e=(0,i.default)("<li>");return this.setAria("role","none",e),e.appendTo(t).addClass("dx-menu-item-wrapper")}},{key:"_renderItem",value:function(t,e,n,i){var o=this.option("items"),r=i||this._createDOMElement(n);o[t+1]&&o[t+1].beginGroup&&r.addClass("dx-menu-last-group-item");var a=v(x(f.prototype),"_renderItem",this).call(this,t,e.internalFields.item,r);e.internalFields.item===this.option("selectedItem")&&a.addClass("dx-menu-item-selected"),a.attr("tabIndex",-1),this._hasSubmenu(e)&&this.setAria("haspopup","true",a)}},{key:"_renderItemFrame",value:function(t,e,n){var i=n.children(".".concat(w));return i.length?i:v(x(f.prototype),"_renderItemFrame",this).apply(this,arguments)}},{key:"_refreshItem",value:function(t,e){var n=this._dataAdapter.getNodeByItem(e),i=t.data(this._itemIndexKey()),o=t.closest("ul"),r=t.closest("li");this._renderItem(i,n,o,r)}},{key:"_addContentClasses",value:function(t,e){var n=!!t.text&&!!t.text.length,i=!!t.icon,o=!!t.items&&!!t.items.length;e.toggleClass("dx-menu-item-has-text",n),e.toggleClass("dx-menu-item-has-icon",i),this.hasIcons||(this.hasIcons=i),e.toggleClass("dx-menu-item-has-submenu",o)}},{key:"_getItemContent",value:function(t){var e=v(x(f.prototype),"_getItemContent",this).call(this,t);return e.length||(e=t.children(".".concat("dx-menu-item-content"))),e}},{key:"_postprocessRenderItem",value:function(t){var e=(0,i.default)(t.itemElement),n=this._dataAdapter.getSelectedNodesKeys();n.length&&this._selectedGetter(t.itemData)&&this._isItemSelectable(t.itemData)&&this._dataAdapter.getNodeByItem(t.itemData).internalFields.key===n[0]?(e.addClass(this._selectedItemClass()),this._setAriaSelected(e,"true")):this._setAriaSelected(e,"false")}},{key:"_isItemSelectable",value:function(t){return!1!==t.selectable}},{key:"_renderSeparator",value:function(t){(0,i.default)("<li>").appendTo(t).addClass("dx-menu-separator")}},{key:"_itemClickHandler",value:function(t){if(!t._skipHandling){var e=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(t,"onItemClick",{},{afterExecute:e.bind(this)}),t._skipHandling=!0}}},{key:"_updateSubmenuVisibilityOnClick",value:function(t){this._updateSelectedItemOnClick(t),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(t.args[0].itemElement)}},{key:"_updateSelectedItemOnClick",value:function(t){var e=t.args?t.args[0]:t;if(this._isItemSelectionAllowed(e.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),i&&i.internalFields.item===e.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(e.itemData)}}},{key:"_isItemSelectionAllowed",value:function(t){var e=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&e&&this._isItemSelectable(t)&&!this._itemsGetter(t)}},{key:"_isContainerEmpty",value:function(){return this._itemContainer().is(":empty")}},{key:"_syncSelectionOptions",value:function(){return(0,o.asyncNoop)()}},{key:"_optionChanged",value:function(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":var e=this._dataAdapter.getNodeByItem(t.value),n=this._dataAdapter.getSelectedNodesKeys()[0];if(e&&e.internalFields.key!==n){if(!1===e.selectable)break;n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(e,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:v(x(f.prototype),"_optionChanged",this).call(this,t)}}},{key:"_toggleItemSelection",value:function(t,e){var n=this._getElementByItem(t.internalFields.item);n&&(0,i.default)(n).toggleClass("dx-menu-item-selected"),this._dataAdapter.toggleSelection(t.internalFields.key,e)}},{key:"_getElementByItem",value:function(t){var e,n=this;return(0,a.each)(this._itemElements(),(function(o,r){return(0,i.default)(r).data(n._itemDataKey())!==t||(e=r,!1)})),e}},{key:"_updateSelectedItems",value:function(t,e){(t||e)&&this._fireSelectionChangeEvent(e,t)}},{key:"_fireSelectionChangeEvent",value:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[t],removedItems:[e]})}},{key:"selectItem",value:function(t){var e=t.nodeType?this._getItemData(t):t,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),o=this._dataAdapter.getNodeByItem(e);o.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(o,!0),this._updateSelectedItems(i,e),this._setOptionWithoutOptionChange("selectedItem",e))}},{key:"unselectItem",value:function(t){var e=t.nodeType?this._getItemData(t):t,n=this._dataAdapter.getNodeByItem(e),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))}}])&&m(e.prototype,n),u&&m(e,u),f}(u.default);S.ItemClass=d.default;var k=S;e.default=k,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=n(29),r=n(3),a=n(5),s=p(n(17)),l=n(108),u=p(n(370)),h=p(n(97)),c=n(98),d=n(2),f=n(6);function p(t){return t&&t.__esModule?t:{default:t}}var g=h.default.inherit({_getDefaultOptions:function(){return(0,r.extend)(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===s.default.real().deviceType&&!s.default.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var t=this._createDataAdapterAccessors();this._dataAdapter=new u.default((0,r.extend)({dataAccessors:{getters:t.getters,setters:t.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:f.noop,_initDynamicTemplates:function(){var t=this;this._templateManager.addDefaultTemplates({item:new c.BindableTemplate(function(e,n){e.html(n.html).append(this._getIconContainer(n)).append(this._getTextContainer(n)).append(this._getPopoutContainer(n)),t._addContentClasses(n,e.parent())}.bind(this),["text","html","items","icon"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_getIconContainer:function(t){return t.icon?(0,l.getImageContainer)(t.icon):void 0},_getTextContainer:function(t){return(0,i.default)("<span>").text(t.text)},_getPopoutContainer:f.noop,_addContentClasses:f.noop,_initAccessors:function(){var t=this;(0,a.each)(this._getAccessors(),(function(e,n){t._compileAccessor(n)})),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(t){var e=this,n=[];return(0,a.each)(t.internalFields.childrenKeys,(function(t,i){var o=e._dataAdapter.getNodeByKey(i);n.push(o)})),n},_hasChildren:function(t){return t&&t.internalFields.childrenKeys.length},_compileAccessor:function(t){var e="_"+t+"Getter",n="_"+t+"Setter",i=this.option(t+"Expr");return i?(0,d.isFunction)(i)?(this[n]=function(t,e){t[i()]=e},void(this[e]=function(t){return t[i()]})):(this[e]=(0,o.compileGetter)(i),void(this[n]=(0,o.compileSetter)(i))):(this[e]=f.noop,void(this[n]=f.noop))},_createDataAdapterAccessors:function(){var t=this,e={getters:{},setters:{}};return(0,a.each)(this._getAccessors(),(function(n,i){var o="_"+i+"Getter",r="_"+i+"Setter",a="parentId"===i?"parentKey":i;e.getters[a]=t[o],e.setters[a]=t[r]})),e.getters.display=this._displayGetter?this._displayGetter:function(t){return t.text},e},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:f.noop,_renderItemFrame:function(t,e){var n=this.callBase.apply(this,arguments);return n.toggleClass("dx-state-disabled",!!this._disabledGetter(e)),n},_optionChanged:function(t){switch(t.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(t);break;default:this.callBase(t)}}});e.default=g,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=r(n(19)),o=r(n(372));function r(t){return t&&t.__esModule?t:{default:t}}(0,i.default)("dxTextEditor",o.default);var a=o.default;e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=l(n(7)),o=n(13),r=l(n(24)),a=n(21),s=n(44);function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.DIRECTION={FORWARD:"forward",BACKWARD:"backward"},this.NAME=this._getStrategyName()}var e,n,l;return e=t,(n=[{key:"_getStrategyName",value:function(){return"base"}},{key:"editorOption",value:function(){var t;return(t=this.editor).option.apply(t,arguments)}},{key:"editorInput",value:function(){return this.editor._input()}},{key:"editorCaret",value:function(t){if(!t)return this.editor._caret();this.editor._caret(t)}},{key:"getHandler",value:function(t){return(this["_".concat(t,"Handler")]||function(){}).bind(this)}},{key:"attachEvents",value:function(){var t=this,e=this.editorInput();this.getHandleEventNames().forEach((function(n){var r=(0,o.addNamespace)(n.toLowerCase(),"dxMask");i.default.on(e,r,t.getEventHandler(n))})),this._attachChangeEventHandlers()}},{key:"getHandleEventNames",value:function(){return["focusIn","focusOut","keyDown","input","paste","cut","drop"]}},{key:"getEventHandler",value:function(t){return this["_".concat(t,"Handler")].bind(this)}},{key:"detachEvents",value:function(){i.default.off(this.editorInput(),".".concat("dxMask"))}},{key:"_attachChangeEventHandlers",value:function(){-1!==(0,a.inArray)("change",this.editorOption("valueChangeEvent").split(" "))&&i.default.on(this.editorInput(),(0,o.addNamespace)("blur beforedeactivate","dxMask"),function(t){this._suppressCaretChanging(this._changeHandler,[t]),this._changeHandler(t)}.bind(this.editor))}},{key:"_focusInHandler",value:function(){if(this.editor._showMaskPlaceholder(),this.editor._direction(this.DIRECTION.FORWARD),!this.editor._isValueEmpty()&&this.editorOption("isValid"))this.editor._adjustCaret();else{var t=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(function(){this._caret({start:t,end:t})}.bind(this.editor),0)}}},{key:"_focusOutHandler",value:function(t){this.editor._changeHandler(t),"onFocus"===this.editorOption("showMaskMode")&&this.editor._isValueEmpty()&&(this.editorOption("text",""),this.editor._renderDisplayText(""))}},{key:"_cutHandler",value:function(t){var e=this.editorCaret(),n=this.editorInput().val().substring(e.start,e.end);this.editor._maskKeyHandler(t,(function(){return(0,s.clipboardText)(t,n)}))}},{key:"_dropHandler",value:function(){this._clearDragTimer(),this._dragTimer=setTimeout(function(){this.option("value",this._convertToValue(this._input().val()))}.bind(this.editor))}},{key:"_clearDragTimer",value:function(){clearTimeout(this._dragTimer)}},{key:"_keyDownHandler",value:function(){this._keyPressHandled=!1}},{key:"_pasteHandler",value:function(t){var e=this.editor;this._keyPressHandled=!0;var n=this.editorCaret();e._maskKeyHandler(t,(function(){var i=(0,s.clipboardText)(t),o=e._maskRulesChain.text().substring(n.end),r=e._handleChain({text:i,start:n.start,length:i.length}),a=n.start+r;e._handleChain({text:o,start:a,length:o.length}),e._caret({start:a,end:a})}))}},{key:"_autoFillHandler",value:function(t){var e=this,n=this.editor,i=this.editorInput().val();this._inputHandlerTimer=setTimeout((function(){e._keyPressHandled=!0,e._isAutoFill()&&(e._keyPressHandled=!0,n._maskKeyHandler(t,(function(){n._handleChain({text:i,start:0,length:i.length})})),n._validateMask())}))}},{key:"_isAutoFill",value:function(){var t=this.editor._input(),e=!1;if(r.default.msie&&r.default.version>11)e=t.hasClass("edge-autofilled");else if(r.default.webkit){var n=t.get(0);e=n&&n.matches(":-webkit-autofill")}return e}},{key:"runWithoutEventProcessing",value:function(t){var e=this._keyPressHandled;this._keyPressHandled=!0,t(),this._keyPressHandled=e}},{key:"_backspaceHandler",value:function(){}},{key:"_delHandler",value:function(t){var e=this.editor;this._keyPressHandled=!0,e._maskKeyHandler(t,(function(){return!e._hasSelection()&&e._handleKey(" ")}))}},{key:"clean",value:function(){this._clearDragTimer(),clearTimeout(this._backspaceHandlerTimeout),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}}])&&u(e.prototype,n),l&&u(e,l),t}();e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(20)),o=h(n(387)),r=h(n(388)),a=n(3),s=n(6),l=n(2),u=n(8);function h(t){return t&&t.__esModule?t:{default:t}}var c=i.default.inherit({ctor:function(t){this.options=(0,a.extend)(this._getDefaultOptions(),t,{selectedItemKeys:t.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new o.default(this.options):new r.default(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_getDefaultOptions:function(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:s.noop,key:s.noop,keyOf:function(t){return t},load:function(){return(new u.Deferred).resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(t){return t},dataFields:s.noop,filter:s.noop}},validate:function(){this._selectionStrategy.validate()},getSelectedItemKeys:function(){return this._selectionStrategy.getSelectedItemKeys()},getSelectedItems:function(){return this._selectionStrategy.getSelectedItems()},selectionFilter:function(t){if(void 0===t)return this.options.selectionFilter;var e=this.options.selectionFilter!==t&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(t);this.options.selectionFilter=t,e&&this.onSelectionChanged()},setSelection:function(t){return this.selectedItemKeys(t)},select:function(t){return this.selectedItemKeys(t,!0)},deselect:function(t){return this.selectedItemKeys(t,!0,!0)},selectedItemKeys:function(t,e,n,i){return t=(0,l.isDefined)(t)?t:[],t=Array.isArray(t)?t:[t],this.validate(),this._selectionStrategy.selectedItemKeys(t,e,n,i)},clearSelection:function(){return this.selectedItemKeys([])},_addSelectedItem:function(t,e){this._selectionStrategy.addSelectedItem(e,t)},_removeSelectedItem:function(t){this._selectionStrategy.removeSelectedItem(t)},_setSelectedItems:function(t,e){this._selectionStrategy.setSelectedItems(t,e)},onSelectionChanged:function(){this._selectionStrategy.onSelectionChanged()},changeItemSelection:function(t,e){var n,i=this.options.plainItems(),o=i[t];if(!this.isSelectable()||!this.isDataItem(o))return!1;var r=this.options.getItemData(o),a=this.options.keyOf(r);if((e=e||{}).shift&&"multiple"===this.options.mode&&this._focusedItemIndex>=0)n=this.changeItemSelectionWhenShiftKeyPressed(t,i);else if(e.control){this._resetItemSelectionWhenShiftKeyPressed();var s=this._selectionStrategy.isItemDataSelected(r);"single"===this.options.mode&&this.clearSelectedItems(),s?this._removeSelectedItem(a):this._addSelectedItem(r,a),n=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var l=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],a);1===this.options.selectedItemKeys.length&&l||(this._setSelectedItems([a],[r]),n=!0)}return n?(this._focusedItemIndex=t,this.onSelectionChanged(),!0):void 0},isDataItem:function(t){return this.options.isSelectableItem(t)},isSelectable:function(){return"single"===this.options.mode||"multiple"===this.options.mode},isItemDataSelected:function(t){return this._selectionStrategy.isItemDataSelected(t)},isItemSelected:function(t){return this._selectionStrategy.isItemKeySelected(t)},_resetItemSelectionWhenShiftKeyPressed:function(){delete this._shiftFocusedItemIndex},_resetFocusedItemIndex:function(){this._focusedItemIndex=-1},changeItemSelectionWhenShiftKeyPressed:function(t,e){var n,i,o,r,a=!1,s=this.options.keyOf,u=e[this._focusedItemIndex],h=this.options.getItemData(u),c=s(h),d=u&&this.isItemDataSelected(h);if((0,l.isDefined)(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex),this._shiftFocusedItemIndex!==this._focusedItemIndex)for(n=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,i=this._focusedItemIndex;i!==this._shiftFocusedItemIndex;i+=n)this.isDataItem(e[i])&&(r=s(this.options.getItemData(e[i])),this._removeSelectedItem(r),a=!0);if(t!==this._shiftFocusedItemIndex)for(n=t<this._shiftFocusedItemIndex?1:-1,i=t;i!==this._shiftFocusedItemIndex;i+=n)this.isDataItem(e[i])&&(r=s(o=this.options.getItemData(e[i])),this._addSelectedItem(o,r),a=!0);return this.isDataItem(u)&&!d&&(this._addSelectedItem(h,c),a=!0),a},clearSelectedItems:function(){this._setSelectedItems([],[])},selectAll:function(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(t){return this._resetFocusedItemIndex(),t?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)},_onePageSelectAll:function(t){for(var e=this._selectionStrategy.getSelectableItems(this.options.plainItems()),n=0;n<e.length;n++){var i=e[n];if(this.isDataItem(i)){var o=this.options.getItemData(i),r=this.options.keyOf(o),a=this.isItemSelected(r);a||t||this._addSelectedItem(o,r),a&&t&&this._removeSelectedItem(r)}}return this.onSelectionChanged(),(new u.Deferred).resolve()},getSelectAllState:function(t){return this._selectionStrategy.getSelectAllState(t)}});e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=l(n(70)),o=n(6),r=n(2),a=l(n(20)),s=n(8);function l(t){return t&&t.__esModule?t:{default:t}}var u=a.default.inherit({ctor:function(t){this.options=t,this._setOption("disabledItemKeys",[]),this._clearItemKeys()},_clearItemKeys:function(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])},validate:o.noop,_setOption:function(t,e){this.options[t]=e},onSelectionChanged:function(){var t=this.options.addedItemKeys,e=this.options.removedItemKeys,n=this.options.addedItems,i=this.options.removedItems,r=this.options.selectedItems,a=this.options.selectedItemKeys,s=this.options.onSelectionChanged||o.noop;this._clearItemKeys(),s({selectedItems:r,selectedItemKeys:a,addedItemKeys:t,removedItemKeys:e,addedItems:n,removedItems:i})},equalKeys:function(t,e){return this.options.equalByReference&&(0,r.isObject)(t)&&(0,r.isObject)(e)?t===e:(0,o.equalByValue)(t,e)},getSelectableItems:function(t){return t.filter((function(t){return!t.disabled}))},_clearSelection:function(t,e,n,i){return t=t||[],t=Array.isArray(t)?t:[t],this.validate(),this.selectedItemKeys(t,e,n,i)},_loadFilteredData:function(t,e,n,o){var a=encodeURI(JSON.stringify(t)).length,l=this.options.maxFilterLengthInRequest&&a>this.options.maxFilterLengthInRequest,u=new s.Deferred,h={filter:l?void 0:t,select:l?this.options.dataFields():n||this.options.dataFields()};return t&&0===t.length?u.resolve([]):this.options.load(h).done((function(n){var a=(0,r.isPlainObject)(n)?n.data:n;e&&!o?a=a.filter(e):l&&(a=(0,i.default)(a).filter(t).toArray()),u.resolve(a)})).fail(u.reject.bind(u)),u},updateSelectedItemKeyHash:function(t){for(var e=0;e<t.length;e++){var n=(0,o.getKeyHash)(t[e]);if(!(0,r.isObject)(n))this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[],this.options.keyHashIndices[n].push(e)}},_isAnyItemSelected:function(t){for(var e=0;e<t.length;e++)if(this.options.isItemSelected(t[e]))return;return!1},_getFullSelectAllState:function(){var t=this.options.plainItems(),e=this.options.filter(),n=this.options.selectedItems;e&&(n=(0,i.default)(n).filter(e).toArray());var o=n.length;return o?o>=this.options.totalCount()-this.options.disabledItemKeys.length||void 0:this._isAnyItemSelected(t)},_getVisibleSelectAllState:function(){for(var t=this.getSelectableItems(this.options.plainItems()),e=!1,n=!1,i=0;i<t.length;i++){var o=t[i],r=this.options.getItemData(o),a=this.options.keyOf(r);this.options.isSelectableItem(o)&&(this.isItemKeySelected(a)?e=!0:n=!0)}return!!e&&(!n||void 0)}});e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=n(6),r=n(5),a=n(29),s=u(n(20)),l=u(n(45));function u(t){return t&&t.__esModule?t:{default:t}}var h=s.default.abstract,c=s.default.inherit({ctor:function(t){this._toolbar=t},render:function(){this._renderMenuButton(),this._renderWidget()},_widgetOptions:function(){var t=this._toolbar._createActionByOption("onItemClick");return{itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:function(e){this._toggleMenu(!1,!0),t(e)}.bind(this)}},_getMenuItemTemplate:function(){return this._toolbar._getTemplateByOption("menuItemTemplate")},_renderWidget:function(){var t=(0,i.default)("<div>").appendTo(this._menuContainer());this._menu=this._toolbar._createComponent(t,this._menuWidgetClass(),this._widgetOptions()),this.renderMenuItems()},_menuContainer:h,_menuWidgetClass:h,_hasVisibleMenuItems:function(t){var e=t||this._toolbar.option("items"),n=!1,i=(0,a.compileGetter)("visible"),o=(0,a.compileGetter)("locateInMenu");return(0,r.each)(e,(function(t,e){var r=i(e,{functionsAsIs:!0}),a=o(e,{functionsAsIs:!0});(!1===r||"auto"!==a&&"always"!==a)&&"menu"!==e.location||(n=!0)})),n},_getMenuItems:function(){return this._toolbar._getMenuItems()},_updateMenuVisibility:o.noop,_renderMenuButton:function(){var t=this._menuButtonOptions();this._renderMenuButtonContainer(),this._$button=(0,i.default)("<div>").appendTo(this._$menuButtonContainer).addClass("dx-toolbar-menu-button"),this._toolbar._createComponent(this._$button,l.default,t)},_menuButtonOptions:function(){return{onClick:this._menuButtonClickHandler.bind(this)}},_menuButtonClickHandler:function(){this._toggleMenu(!this._menuShown,!0)},_renderMenuButtonContainer:function(){var t=this._toolbar._$afterSection;this._$menuButtonContainer=(0,i.default)("<div>").appendTo(t).addClass(this._toolbar._buttonClass()).addClass("dx-toolbar-menu-container")},renderMenuItems:function(){this._menu&&this._menu.option("items",this._getMenuItems())},toggleMenuVisibility:function(t,e){this._menu&&this._toggleMenu(t,e)},_toggleMenu:function(t){this._menuShown=t},getMenuWidget:function(){return this._menu},widgetOption:function(t,e){this._menu&&this._menu.option(t,e)},handleToolbarVisibilityChange:o.noop});e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=g(n(1)),o=n(14),r=n(6),a=g(n(18)),s=g(n(19)),l=n(3),u=g(n(45)),h=g(n(97)),c=g(n(76)),d=g(n(180)),f=n(98),p=n(8);function g(t){return t&&t.__esModule?t:{default:t}}var m=(0,o.getWindow)(),v=h.default.inherit({_getDefaultOptions:function(){return(0,l.extend)(this.callBase(),{usePopover:!1,target:null,title:"",showTitle:!0,showCancelButton:!0,cancelText:a.default.format("Cancel"),onCancelClick:null,visible:!1,noDataText:"",focusStateEnabled:!1,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios",tablet:!0},options:{usePopover:!0}}])},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new f.BindableTemplate((function(t,e){var n=new u.default((0,i.default)("<div>"),(0,l.extend)({onClick:e&&e.click},e));t.append(n.$element())}),["disabled","icon","text","type","onClick","click"],this.option("integrationOptions.watchMethod"))})},_itemContainer:function(){return this._$itemContainer},_itemClass:function(){return"dx-actionsheet-item"},_itemDataKey:function(){return"dxActionSheetItemData"},_toggleVisibility:r.noop,_renderDimensions:r.noop,_initMarkup:function(){this.callBase(),this.$element().addClass("dx-actionsheet"),this._createItemContainer()},_render:function(){this._renderPopup()},_createItemContainer:function(){this._$itemContainer=(0,i.default)("<div>").addClass("dx-actionsheet-container"),this._renderDisabled()},_renderDisabled:function(){this._$itemContainer.toggleClass("dx-state-disabled",this.option("disabled"))},_renderPopup:function(){this._$popup=(0,i.default)("<div>").appendTo(this.$element()),this._isPopoverMode()?this._createPopover():this._createPopup(),this._renderPopupTitle(),this._mapPopupOption("visible")},_mapPopupOption:function(t){this._popup&&this._popup.option(t,this.option(t))},_isPopoverMode:function(){return this.option("usePopover")&&this.option("target")},_renderPopupTitle:function(){this._mapPopupOption("showTitle"),this._popup&&this._popup._wrapper().toggleClass("dx-actionsheet-without-title",!this.option("showTitle"))},_clean:function(){this._$popup&&this._$popup.remove(),this.callBase()},_overlayConfig:function(){return{onInitialized:function(t){this._popup=t.component}.bind(this),disabled:!1,showTitle:!0,title:this.option("title"),deferRendering:!m.angular,onContentReady:this._popupContentReadyAction.bind(this),onHidden:this.hide.bind(this)}},_createPopover:function(){this._createComponent(this._$popup,d.default,(0,l.extend)(this._overlayConfig(),{width:this.option("width")||200,height:this.option("height")||"auto",target:this.option("target")})),this._popup._wrapper().addClass("dx-actionsheet-popover-wrapper")},_createPopup:function(){this._createComponent(this._$popup,c.default,(0,l.extend)(this._overlayConfig(),{dragEnabled:!1,width:this.option("width")||"100%",height:this.option("height")||"auto",showCloseButton:!1,position:{my:"bottom",at:"bottom",of:m},animation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom",of:m}},to:{position:{my:"bottom",at:"bottom",of:m}}},hide:{type:"slide",duration:400,from:{position:{my:"bottom",at:"bottom",of:m}},to:{position:{my:"top",at:"bottom",of:m}}}}})),this._popup._wrapper().addClass("dx-actionsheet-popup-wrapper")},_popupContentReadyAction:function(){this._popup.$content().append(this._$itemContainer),this._attachClickEvent(),this._attachHoldEvent(),this._prepareContent(),this._renderContent(),this._renderCancelButton()},_renderCancelButton:function(){if(!this._isPopoverMode()&&(this._$cancelButton&&this._$cancelButton.remove(),this.option("showCancelButton"))){var t=this._createActionByOption("onCancelClick")||r.noop,e=this;this._$cancelButton=(0,i.default)("<div>").addClass("dx-actionsheet-cancel").appendTo(this._popup&&this._popup.$content()),this._createComponent(this._$cancelButton,u.default,{disabled:!1,text:this.option("cancelText"),onClick:function(n){var i={event:n,cancel:!1};t(i),i.cancel||e.hide()},integrationOptions:{}})}},_attachItemClickEvent:r.noop,_itemClickHandler:function(t){this.callBase(t),(0,i.default)(t.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_itemHoldHandler:function(t){this.callBase(t),(0,i.default)(t.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_optionChanged:function(t){switch(t.name){case"width":case"height":case"visible":case"title":this._mapPopupOption(t.name);break;case"disabled":this._renderDisabled();break;case"showTitle":this._renderPopupTitle();break;case"showCancelButton":case"onCancelClick":case"cancelText":this._renderCancelButton();break;case"target":case"usePopover":case"items":this._invalidate();break;default:this.callBase(t)}},toggle:function(t){var e=this,n=new p.Deferred;return e._popup.toggle(t).done((function(){e.option("visible",t),n.resolveWith(e)})),n.promise()},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)}});(0,s.default)("dxActionSheet",v);var y=v;e.default=y,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=v(n(1)),o=n(48),r=n(6),a=n(2),s=v(n(19)),l=n(21),u=n(3),h=n(5),c=n(34),d=v(n(399)),f=v(n(124)),p=n(98),g=v(n(37)),m=v(n(57));function v(t){return t&&t.__esModule?t:{default:t}}var y=d.default.inherit({compactMode:!1,ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e),"height"in this._userOptions&&g.default.log("W0001",this.NAME,"height","20.1","Functionality associated with this option is not intended for the Toolbar widget.")},_getSynchronizableOptionsForCreateComponent:function(){return this.callBase().filter((function(t){return"disabled"!==t}))},_initTemplates:function(){this.callBase();var t=new p.BindableTemplate(function(t,e,n){(0,a.isPlainObject)(e)?(e.text&&t.text(e.text).wrapInner("<div>"),e.html&&t.html(e.html),"dxButton"===e.widget&&(this.option("useFlatButtons")&&(e.options=e.options||{},e.options.stylingMode=e.options.stylingMode||"text"),this.option("useDefaultButtons")&&(e.options=e.options||{},e.options.type=e.options.type||"default"))):t.text(String(e)),this._getTemplate("dx-polymorph-widget").render({container:t,model:n,parent:this})}.bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:t,menuItem:t})},_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1,multiline:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return(0,o.isMaterial)()},options:{useFlatButtons:!0}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find([".dx-toolbar-before",".dx-toolbar-center",".dx-toolbar-after"].join(","))},_itemClass:function(){return"dx-toolbar-item"},_itemDataKey:function(){return"dxToolbarItemDataKey"},_buttonClass:function(){return"dx-toolbar-button"},_dimensionChanged:function(){this._arrangeItems(),this._applyCompactMode()},_initMarkup:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this.setAria("role","toolbar")},_waitParentAnimationFinished:function(){var t=this,e=this.$element();return new f.default((function(n){!function o(){clearTimeout(t._waitParentAnimationTimeout),t._waitParentAnimationTimeout=setTimeout((function(){return function(){var t=!0;return e.parents().each((function(e,n){if(m.default.isAnimating((0,i.default)(n)))return t=!1,!1})),t&&n(),t}()||o()}),15)}()}))},_render:function(){this.callBase(),this._renderItemsAsync(),(0,o.isMaterial)()&&f.default.all([this._waitParentAnimationFinished(),this._checkWebFontForLabelsLoaded()]).then(this._dimensionChanged.bind(this))},_postProcessRenderItems:function(){this._arrangeItems()},_renderToolbar:function(){this.$element().addClass("dx-toolbar").toggleClass("dx-toolbar-multiline",this.option("multiline")),this._$toolbarItemsContainer=(0,i.default)("<div>").addClass("dx-toolbar-items-container").appendTo(this.$element())},_renderSections:function(){var t=this._$toolbarItemsContainer,e=this;(0,h.each)(["before","center","after"],(function(){var n="dx-toolbar-"+this,o=t.find("."+n);o.length||(e["_$"+this+"Section"]=o=(0,i.default)("<div>").addClass(n).appendTo(t))}))},_checkWebFontForLabelsLoaded:function(){var t=this.$element().find(".dx-toolbar-label"),e=[];return t.each((function(t,n){var r=(0,i.default)(n).text(),a=(0,i.default)(n).css("fontWeight");e.push((0,o.waitWebFont)(r,a))})),f.default.all(e)},_arrangeItems:function(t){t=t||this.$element().width(),this._$centerSection.css({margin:"0 auto",float:"none"});var e=(0,c.getBoundingRect)(this._$beforeSection.get(0)),n=(0,c.getBoundingRect)(this._$afterSection.get(0));this._alignCenterSection(e,n,t);var o=this._$toolbarItemsContainer.find(".dx-toolbar-label").eq(0),r=o.parent();if(o.length){var a=e.width?e.width:o.position().left,s=r.hasClass("dx-toolbar-before")?0:a,l=r.hasClass("dx-toolbar-after")?0:n.width,u=0;r.children().not(".dx-toolbar-label").each((function(){u+=(0,i.default)(this).outerWidth()}));var h=t-u,d=Math.max(h-s-l,0);if(r.hasClass("dx-toolbar-before"))this._alignSection(this._$beforeSection,d);else{var f=o.outerWidth()-o.width();o.css("maxWidth",d-f)}}},_alignCenterSection:function(t,e,n){this._alignSection(this._$centerSection,n-t.width-e.width);var i=this.option("rtlEnabled"),o=i?e:t,r=i?t:e,a=(0,c.getBoundingRect)(this._$centerSection.get(0));(o.right>a.left||a.right>r.left)&&this._$centerSection.css({marginLeft:o.width,marginRight:r.width,float:o.width>r.width?"none":"right"})},_alignSection:function(t,e){var n=t.find(".dx-toolbar-label").toArray();e-=this._getCurrentLabelsPaddings(n);var i=this._getCurrentLabelsWidth(n),o=Math.abs(i-e);e<i?(n=n.reverse(),this._alignSectionLabels(n,o,!1)):this._alignSectionLabels(n,o,!0)},_alignSectionLabels:function(t,e,n){for(var o=function(t){return(0,c.getBoundingRect)(t).width},r=0;r<t.length;r++){var a=(0,i.default)(t[r]),s=Math.ceil(o(t[r])),l=void 0;n&&a.css("maxWidth","inherit");var u=Math.ceil(n?o(t[r]):s);if(!(u<e)){l=n?s+e:s-e,a.css("maxWidth",l);break}l=n?u:0,e-=u,a.css("maxWidth",l)}},_applyCompactMode:function(){var t=this.$element();t.removeClass("dx-toolbar-compact"),this.option("compactMode")&&this._getSummaryItemsWidth(this.itemElements(),!0)>t.width()&&t.addClass("dx-toolbar-compact")},_getCurrentLabelsWidth:function(t){var e=0;return t.forEach((function(t,n){e+=(0,i.default)(t).outerWidth()})),e},_getCurrentLabelsPaddings:function(t){var e=0;return t.forEach((function(t,n){e+=(0,i.default)(t).outerWidth()-(0,i.default)(t).width()})),e},_renderItem:function(t,e,n,i){var o=e.location||"center",r=n||this["_$"+o+"Section"],a=!(!e.text&&!e.html),s=this.callBase(t,e,r,i);return s.toggleClass(this._buttonClass(),!a).toggleClass("dx-toolbar-label",a).addClass(e.cssClass),s},_renderGroupedItems:function(){var t=this;(0,h.each)(this.option("items"),(function(e,n){var o=n.items,r=(0,i.default)("<div>").addClass("dx-toolbar-group"),a=n.location||"center";o&&o.length&&((0,h.each)(o,(function(e,n){t._renderItem(e,n,r,null)})),t._$toolbarItemsContainer.find(".dx-toolbar-"+a).append(r))}))},_renderItems:function(t){this.option("grouped")&&t.length&&t[0].items?this._renderGroupedItems():this.callBase(t)},_getToolbarItems:function(){return this.option("items")||[]},_renderContentImpl:function(){var t=this._getToolbarItems();this.$element().toggleClass("dx-toolbar-mini",0===t.length),this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t),this._applyCompactMode()},_renderEmptyMessage:r.noop,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.$element().empty()},_visibilityChanged:function(t){t&&this._arrangeItems()},_isVisible:function(){return this.$element().width()>0&&this.$element().height()>0},_getIndexByItem:function(t){return(0,l.inArray)(t,this._getToolbarItems())},_itemOptionChanged:function(t,e,n){this.callBase.apply(this,[t,e,n]),this._arrangeItems()},_optionChanged:function(t){var e=t.name;switch(e){case"width":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"multiline":this.$element().toggleClass("dx-toolbar-multiline",t.value);break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:this.callBase.apply(this,arguments)}},_dispose:function(){this.callBase(),clearTimeout(this._waitParentAnimationTimeout)}});(0,s.default)("dxToolbarBase",y);var _=y;e.default=_,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(403))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o={_getSpecificDataSourceOption:function(){var t=this.option("dataSource"),e=!1,n={};return this._getGroupedOption()&&function(t){return Array.isArray(t)&&t.every((function(t){return 2===Object.keys(t).length&&("key"in t&&"items"in t)&&Array.isArray(t.items)}))}(t)&&(n=t.reduce((function(t,n){var o=n.items.map((function(t){return(0,i.isObject)(t)||(t={text:t},e=!0),"key"in t||(t.key=n.key),t}));return t.concat(o)}),[]),t={store:{type:"array",data:n},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(t.searchExpr="text")),t}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=g(n(1)),o=n(14),r=g(n(17)),a=g(n(19)),s=n(3),l=g(n(47)),u=g(n(45)),h=g(n(180)),c=g(n(143)),d=g(n(126)),f=n(48),p=n(133);function g(t){return t&&t.__esModule?t:{default:t}}var m=(0,o.getWindow)(),v={popupWidth:"width",popupHeight:"height",popupMaxHeight:"maxHeight",popupAutoResizeEnabled:"autoResizeEnabled"},y={buttonIcon:"icon",buttonText:"text",buttonWidth:"width",buttonHeight:"height",buttonTemplate:"template"},_=l.default.inherit({_supportedKeys:function(){var t={};return this.option("opened")&&this._list.option("focusedElement")||(t=this._button._supportedKeys()),(0,s.extend)(this.callBase(),t,{tab:function(){this._popup&&this._popup.hide()}})},_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",buttonText:"",buttonIcon:"overflow",buttonWidth:void 0,buttonHeight:void 0,buttonTemplate:"content",onButtonClick:null,usePopover:!1,popupWidth:"auto",popupHeight:"auto",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,selectionMode:"none",selectedItemKeys:[],deferRendering:!1,popupPosition:{my:"top center",at:"bottom center",collision:"fit flip",offset:{v:1}},popupAnimation:void 0,onItemRendered:null,menuWidget:d.default,popupMaxHeight:void 0,closeOnClick:!0,useInkRipple:!1,container:void 0,popupAutoResizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{usePopover:!0}},{device:{platform:"generic"},options:{popupPosition:{offset:{v:4}}}},{device:function(){return"desktop"===r.default.real().deviceType&&!r.default.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{popupPosition:{my:"top "+(this.option("rtlEnabled")?"left":"right"),at:"top "+(this.option("rtlEnabled")?"left":"right"),collision:"flipfit"},popupAnimation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}},{device:function(){return(0,f.isMaterial)()},options:{useInkRipple:!0}}])},_initOptions:function(t){"android"===r.default.current().platform&&(t.popupPosition||(t.popupPosition={at:(t.usePopover?"bottom ":"top ")+(t.rtlEnabled?"left":"right")})),this.callBase(t)},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this.$element().addClass("dx-dropdownmenu"),this._initDataSource(),this._initItemClickAction(),this._initButtonClickAction()},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initButtonClickAction:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new p.ChildDefaultTemplate("content")}),this.callBase()},_initMarkup:function(){this._renderButton(),this.callBase()},_render:function(){this.callBase(),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})},_renderContentImpl:function(){this.option("opened")&&this._renderPopup()},_clean:function(){this._cleanFocusState(),this._popup&&(this._popup.$element().remove(),delete this._$popup)},_renderButton:function(){var t=this.$element().addClass("dx-dropdownmenu-button"),e=this._buttonOptions();this._button=this._createComponent(t,u.default,e)},_toggleActiveState:function(t,e,n){this._button._toggleActiveState(t,e,n)},_buttonOptions:function(){return{text:this.option("buttonText"),icon:this.option("buttonIcon"),width:this.option("buttonWidth"),height:this.option("buttonHeight"),useInkRipple:this.option("useInkRipple"),template:this.option("buttonTemplate"),focusStateEnabled:!1,onClick:function(t){this.option("opened",!this.option("opened")),this._buttonClickAction(t)}.bind(this)}},_toggleMenuVisibility:function(t){var e=void 0===t?!this._popup.option("visible"):t;t&&this._renderPopup(),this._popup.toggle(e),this.setAria("expanded",e)},_renderPopup:function(){if(!this._$popup){var t=this._$popup=(0,i.default)("<div>").appendTo(this.$element()),e=this._popupOptions();this._popup=this._createComponent(t,h.default,e)}},_popupOptions:function(){var t=!this.option("usePopover");return{onInitialized:function(e){e.component._wrapper().addClass("dx-dropdownmenu-popup-wrapper").toggleClass("dx-dropdownmenu-popup",t)},visible:this.option("opened"),deferRendering:!1,contentTemplate:function(t){this._renderList(t)}.bind(this),position:this.option("popupPosition"),animation:this.option("popupAnimation"),onOptionChanged:function(t){"visible"===t.name&&this.option("opened",t.value)}.bind(this),target:this.$element(),height:this.option("popupHeight"),width:this.option("popupWidth"),maxHeight:this.option("popupMaxHeight"),container:this.option("container"),autoResizeEnabled:this.option("popupAutoResizeEnabled")}},_renderList:function(t){var e=(0,i.default)(t),n=this._listOptions();e.addClass("dx-dropdownmenu-list"),this._list=this._createComponent(e,this.option("menuWidget"),n),this._list._getAriaTarget=function(){return this.$element()}.bind(this),this._setListDataSource();var o=.5*(0,i.default)(m).height();e.height()>o&&e.height(o)},_listOptions:function(){return{pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",selectionMode:this.option("selectionMode"),selectedItemKeys:this.option("selectedItemKeys"),itemTemplate:this.option("itemTemplate"),onItemClick:function(t){this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(t)}.bind(this),tabIndex:-1,focusStateEnabled:this.option("focusStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}}},_setListDataSource:function(){this._list&&this._list.option("dataSource",this._dataSource||this.option("items")),delete this._deferRendering},_getKeyboardListeners:function(){return this.callBase().concat([this._list])},_toggleVisibility:function(t){this.callBase(t),this._button.option("visible",t)},_optionChanged:function(t){var e=t.name,n=t.value;switch(e){case"items":case"dataSource":this.option("deferRendering")&&!this.option("opened")?this._deferRendering=!0:(this._refreshDataSource(),this._setListDataSource());break;case"itemTemplate":this._list&&this._list.option(e,this._getTemplate(n));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"buttonIcon":case"buttonText":case"buttonWidth":case"buttonHeight":case"buttonTemplate":this._button.option(y[e],n),this._renderPopup();break;case"popupWidth":case"popupHeight":case"popupMaxHeight":case"popupAutoResizeEnabled":this._popup.option(v[e],n);break;case"usePopover":case"menuWidget":case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"activeStateEnabled":this._list&&this._list.option(e,n),this.callBase(t);break;case"selectionMode":case"selectedItemKeys":case"onItemRendered":this._list&&this._list.option(e,n);break;case"opened":this._deferRendering&&(this._refreshDataSource(),this._setListDataSource()),this._toggleMenuVisibility(n);break;case"deferRendering":case"popupPosition":case"closeOnClick":break;case"container":this._popup&&this._popup.option(t.name,t.value);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)}}).include(c.default);(0,a.default)("dxDropDownMenu",_);var b=_;e.default=b,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(1)),o=h(n(7)),r=n(6),a=h(n(111)),s=n(13),l=h(n(33)),u=n(137);function h(t){return t&&t.__esModule?t:{default:t}}var c=a.default.abstract,d=(0,s.addNamespace)(l.default.down,"dxListEditDecorator"),f=(0,s.addNamespace)(u.active,"dxListEditDecorator"),p=a.default.inherit({_init:function(){this._$topShield=(0,i.default)("<div>").addClass("dx-list-switchable-delete-top-shield"),this._$bottomShield=(0,i.default)("<div>").addClass("dx-list-switchable-delete-bottom-shield"),this._$itemContentShield=(0,i.default)("<div>").addClass("dx-list-switchable-delete-item-content-shield"),o.default.on(this._$topShield,d,this._cancelDeleteReadyItem.bind(this)),o.default.on(this._$bottomShield,d,this._cancelDeleteReadyItem.bind(this)),this._list.$element().append(this._$topShield.toggle(!1)).append(this._$bottomShield.toggle(!1))},handleClick:function(){return this._cancelDeleteReadyItem()},_cancelDeleteReadyItem:function(){return!!this._$readyToDeleteItem&&(this._cancelDelete(this._$readyToDeleteItem),!0)},_cancelDelete:function(t){this._toggleDeleteReady(t,!1)},_toggleDeleteReady:function(t,e){void 0===e&&(e=!this._isReadyToDelete(t)),this._toggleShields(t,e),this._toggleScrolling(e),this._cacheReadyToDeleteItem(t,e),this._animateToggleDelete(t,e)},_isReadyToDelete:function(t){return t.hasClass("dx-list-switchable-delete-ready")},_toggleShields:function(t,e){this._list.$element().toggleClass("dx-list-switchable-menu-shield-positioning",e),this._$topShield.toggle(e),this._$bottomShield.toggle(e),e&&this._updateShieldsHeight(t),this._toggleContentShield(t,e)},_updateShieldsHeight:function(t){var e=this._list.$element(),n=e.offset().top,i=e.outerHeight(),o=t.offset().top-n,r=i-t.outerHeight()-o;this._$topShield.height(Math.max(o,0)),this._$bottomShield.height(Math.max(r,0))},_toggleContentShield:function(t,e){e?t.find(".dx-list-item-content").first().append(this._$itemContentShield):this._$itemContentShield.detach()},_toggleScrolling:function(t){var e=this._list.$element().dxScrollView("instance");t?e.on("start",this._cancelScrolling):e.off("start",this._cancelScrolling)},_cancelScrolling:function(t){t.event.cancel=!0},_cacheReadyToDeleteItem:function(t,e){e?this._$readyToDeleteItem=t:delete this._$readyToDeleteItem},_animateToggleDelete:function(t,e){e?(this._enablePositioning(t),this._prepareDeleteReady(t),this._animatePrepareDeleteReady(t),o.default.off(t,l.default.up)):(this._forgetDeleteReady(t),this._animateForgetDeleteReady(t).done(this._disablePositioning.bind(this,t)))},_enablePositioning:function(t){t.addClass("dx-list-switchable-menu-item-shield-positioning"),o.default.on(t,f,r.noop),o.default.one(t,l.default.up,this._disablePositioning.bind(this,t))},_disablePositioning:function(t){t.removeClass("dx-list-switchable-menu-item-shield-positioning"),o.default.off(t,f)},_prepareDeleteReady:function(t){t.addClass("dx-list-switchable-delete-ready")},_forgetDeleteReady:function(t){t.removeClass("dx-list-switchable-delete-ready")},_animatePrepareDeleteReady:c,_animateForgetDeleteReady:c,_getDeleteButtonContainer:function(t){return(t=t||this._$readyToDeleteItem).children(".dx-list-switchable-delete-button-container")},_deleteItem:function(t){t=t||this._$readyToDeleteItem,this._getDeleteButtonContainer(t).detach(),t.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(t).always(this._cancelDelete.bind(this,t))},_isRtlEnabled:function(){return this._list.option("rtlEnabled")},dispose:function(){this._$topShield&&this._$topShield.remove(),this._$bottomShield&&this._$bottomShield.remove(),this.callBase.apply(this,arguments)}});e.default=p,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i={_menuEnabled:function(){return!!this._menuItems().length},_menuItems:function(){return this._list.option("menuItems")},_deleteEnabled:function(){return this._list.option("allowItemDeleting")},_fireMenuAction:function(t,e){this._list._itemEventHandlerByHandler(t,e,{},{excludeValidators:["disabled","readOnly"]})}};e.default=i,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=f(n(1)),o=f(n(19)),r=n(3),a=f(n(419)),s=n(27),l=n(14),u=n(34),h=n(41),c=f(n(57)),d=n(8);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){return(0,i.default)(t).is(":visible")},g=function(t,e){var n,i;if(t){var o=(null===(n=e.to)||void 0===n?void 0:n.left)||0,r=(null===(i=e.to)||void 0===i?void 0:i.top)||0;t.style.transform="translate(".concat(o,"px,").concat(r,"px)"),t.style.transition=c.default.off?"":"transform ".concat(e.duration,"ms ").concat(e.easing)}},m=a.default.inherit({_getDefaultOptions:function(){return(0,r.extend)(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset:function(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:function(t,e){return t.slice(0,e).reverse().filter(p)[0]},_dragStartHandler:function(t){if(this.callBase.apply(this,arguments),!0!==t.cancel){var e=this._getSourceElement();this._updateItemPoints(),this.option("fromIndex",this._getElementIndex(e)),this.option("fromIndexOffset",this.option("offset"))}},_dragEnterHandler:function(){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var t=this.option("itemPoints"),e=t[t.length-1];if(e){var n=this.$element(),o=this._getSourceElement(),r=this._isVerticalOrientation(),a=r?o.outerHeight(!0):o.outerWidth(!0),s=n.get(0)[r?"scrollHeight":"scrollWidth"],l=n.get(0)[r?"scrollTop":"scrollLeft"],u=r?"top":"left",h=e[u],c=n.offset()[u],d=c+s-l-h;if(d<a&&r){var f=this._getItems(),p=(0,i.default)(this._getPrevVisibleItem(f));this._$modifiedItem=p,this._modifiedItemMargin=p.get(0).style.marginBottom,p.css("marginBottom",a-d);var g=p.closest(".dx-sortable"),m=g.data("dxScrollable")||g.data("dxScrollView");m&&m.update()}}}},dragEnter:function(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave:function(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_isInsideTargetDraggable:function(t){var e=this._getTargetDraggable().$element(),n=this._getScrollable(e);if(n){var i=n.offset(),o=i.top+n.height()>=t.pageY&&i.top<=t.pageY,r=i.left+n.width()>=t.pageX&&i.left<=t.pageX;return o&&r}return!0},dragEnd:function(t){var e,n,i=this._getSourceElement(),o=this._getSourceDraggable(),r=o.NAME!==this.NAME,a=this.option("toIndex"),s=this._isInsideTargetDraggable(t.event);if(null!==a&&a>=0&&s&&(o!==this&&((e=this._fireAddEvent(t))||(n=this._fireRemoveEvent(t))),r&&(0,h.resetPosition)(i),this.option("moveItemOnDrop")&&!e&&this._moveItem(i,a,n),o===this))return this._fireReorderEvent(t);return(new d.Deferred).resolve()},dragMove:function(t,e){var n=this.option("itemPoints");if(n){this._correctItemPoints(e);for(var i,o=this._isVerticalOrientation(),r=o?"top":"left",a=o?t.pageY:t.pageX,s=this.option("rtlEnabled"),l=n.length-1;l>=0;l--){var u=n[l+1]&&(n[l][r]+n[l+1][r])/2;if(!(!o&&s?a>u:u>a)&&void 0!==u)break;i=n[l]}i&&(this._updatePlaceholderPosition(t,i),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode:function(){return"indicate"===this.option("dropFeedbackMode")||this.option("allowDropInsideItem")},_createPlaceholder:function(){var t;return this._isIndicateMode()&&(t=(0,i.default)("<div>").addClass(this._addWidgetPrefix("placeholder")).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=t,t},_getItems:function(){var t=this._getItemsSelector();return this._$content().find(t).not("."+this._addWidgetPrefix("placeholder")).not("."+this._addWidgetPrefix("clone")).toArray()},_allowReordering:function(){return this._getSourceDraggable()!==this._getTargetDraggable()||this.option("allowReordering")},_isValidPoint:function(t,e,n){var i=this.option("allowDropInsideItem");return!!(n||this._allowReordering()||0===t&&i)&&(!this._isIndicateMode()||(-1===e||t!==e&&(n||t!==e+1)))},_getItemPoints:function(){var t,e,n,o=[],a=this.option("rtlEnabled"),s=this._isVerticalOrientation(),l=this._getItems(),u=l.filter(p),h=u.length,c=this._getDraggableElement(),d=u.indexOf(c.get(0));if(h){for(var f=0;f<=h;f++){var g=!s&&a^f===h,m=s&&f===h;f<h&&(e=(t=(0,i.default)(u[f])).offset(),n=t.outerWidth()),o.push({dropInsideItem:!1,left:e.left+(g?n:0),top:e.top+(m?o[f-1].height:0),index:f===h?l.length:l.indexOf(t.get(0)),$item:t,width:t.outerWidth(),height:t.outerHeight(),isValid:this._isValidPoint(f,d)})}if(this.option("allowDropInsideItem")){var v=o;o=[];for(var y=0;y<v.length;y++)o.push(v[y]),v[y+1]&&o.push((0,r.extend)({},v[y],{dropInsideItem:!0,top:Math.floor((v[y].top+v[y+1].top)/2),left:Math.floor((v[y].left+v[y+1].left)/2),isValid:this._isValidPoint(y,d,!0)}))}}else o.push({dropInsideItem:!1,index:0,isValid:!0});return o},_updateItemPoints:function(t){(t||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints:function(t){var e=this.option("itemPoints");if(t&&e&&!this.option("autoUpdate")){var n=this._isVerticalOrientation()?"top":"left";e.forEach((function(e){e[n]-=t}))}},_getElementIndex:function(t){return this._getItems().indexOf(t.get(0))},_getDragTemplateArgs:function(t){var e=this.callBase.apply(this,arguments);return e.model.fromIndex=this._getElementIndex(t),e},_togglePlaceholder:function(t){this._$placeholderElement&&this._$placeholderElement.toggle(t)},_isVerticalOrientation:function(){return"vertical"===this.option("itemOrientation")},_normalizeToIndex:function(t,e){var n=this._getSourceDraggable()!==this._getTargetDraggable(),i=this.option("fromIndex");return null===t?i:Math.max(n||i>=t||e?t:t-1,0)},_updatePlaceholderPosition:function(t,e){var n=this._getSourceDraggable(),i=this._normalizeToIndex(e.index,e.dropInsideItem),o=(0,r.extend)(this._getEventArgs(t),{toIndex:i,dropInsideItem:e.dropInsideItem});e.isValid&&this._getAction("onDragChange")(o),!o.cancel&&e.isValid?(this.option({dropInsideItem:e.dropInsideItem,toIndex:e.index}),this._getAction("onPlaceholderPrepared")((0,r.extend)(this._getEventArgs(t),{placeholderElement:(0,s.getPublicElement)(this._$placeholderElement),dragElement:(0,s.getPublicElement)(n._$dragElement)})),this._updateItemPoints()):e.isValid||this.option({dropInsideItem:!1,toIndex:null})},_makeWidthCorrection:function(t,e){if(this._$scrollable=this._getScrollable(t),this._$scrollable&&this._$scrollable.width()<e){var n=this._$scrollable.width(),i=t.offset().left-this._$scrollable.offset().left,o=n-t.outerWidth()-i;e=i>0?n-i:o>0?n-o:n}return e},_updatePlaceholderSizes:function(t,e){var n=this.option("dropInsideItem"),o=(0,i.default)(e),r=this._isVerticalOrientation(),a="",s="";t.toggleClass(this._addWidgetPrefix("placeholder-inside"),n),(r||n)&&(a=o.outerWidth()),r&&!n||(s=o.outerHeight()),a=this._makeWidthCorrection(o,a),t.css({width:a,height:s})},_moveItem:function(t,e,n){var i,o=this._getItems(),r=o[e],a=this._getSourceDraggable();n&&(t=t.clone(),a._toggleDragSourceClass(!1,t)),r||(i=o[e-1]),this._moveItemCore(t,r,i)},_moveItemCore:function(t,e,n){e||n?n?t.insertAfter((0,i.default)(n)):t.insertBefore((0,i.default)(e)):t.appendTo(this.$element())},_getDragStartArgs:function(t,e){return(0,r.extend)(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(e)})},_getEventArgs:function(t){var e=this._getSourceDraggable(),n=this._getTargetDraggable(),i=n.option("dropInsideItem");return(0,r.extend)(this.callBase.apply(this,arguments),{fromIndex:e.option("fromIndex"),toIndex:this._normalizeToIndex(n.option("toIndex"),i),dropInsideItem:i})},_optionChanged:function(t){var e=this,n=t.name;switch(n){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_"+n+"Action"]=this._createActionByOption(n);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":this._$sourceElement||[!1,!0].forEach((function(n){var o=n?t.value:t.previousValue;if(null!==o){var r=(0,i.default)(e._getItems()[o]);e._toggleDragSourceClass(n,r)}}));break;case"dropInsideItem":this._optionChangedDropInsideItem(t);break;case"toIndex":this._optionChangedToIndex(t);break;default:this.callBase(t)}},_optionChangedDropInsideItem:function(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible:function(t){var e,n=this.$element();if("hidden"!==n.css("overflow")?e=n.get(0):n.parents().each((function(){if("visible"!==(0,i.default)(this).css("overflow"))return e=this,!1})),e){var o=(0,u.getBoundingRect)(e),r=this._isVerticalOrientation(),a=r?"top":"left",s=r?"bottom":"right",h=(0,l.getWindow)(),c=r?h.pageYOffset:h.pageXOffset;if(t[a]<o[a]+c||t[a]>o[s]+c)return!1}return!0},_optionChangedToIndex:function(t){var e=t.value;if(this._isIndicateMode()){var n=null!==e&&e>=0;this._togglePlaceholder(n),n&&this._movePlaceholder()}else this._moveItems(t.previousValue,t.value,t.fullUpdate)},update:function(){if(null!==this.option("fromIndex")||null!==this.option("toIndex")){this._updateItemPoints(!0),this._updateDragSourceClass();var t=this.option("toIndex");this._optionChangedToIndex({value:t,fullUpdate:!0})}},_updateDragSourceClass:function(){var t=this._getActualFromIndex(),e=(0,i.default)(this._getItems()[t]);e.length&&(this._$sourceElement=e,this._toggleDragSourceClass(!0,e))},_makeLeftCorrection:function(t,e){var n=this._$scrollable;return n&&this._isVerticalOrientation()&&n.scrollLeft()>e&&(t+=n.scrollLeft()-e),t},_movePlaceholder:function(){var t=this._$placeholderElement||this._createPlaceholder(),e=this._getItems(),n=this.option("toIndex"),o=this._isVerticalOrientation(),r=this.option("rtlEnabled"),a=this.option("dropInsideItem"),s=null,l=0,u=e[n];if(u){var h=(0,i.default)(u);s=h.offset(),l=parseFloat(h.css("marginLeft")),o||!r||a||(s.left+=h.outerWidth(!0))}else{var c=u=this._getPrevVisibleItem(e,n);c&&(s=(0,i.default)(c).offset(),o?s.top+=(0,i.default)(c).outerHeight(!0):r||(s.left+=(0,i.default)(c).outerWidth(!0)))}this._updatePlaceholderSizes(t,u),s&&!this._isPositionVisible(s)&&(s=null),s&&(s.left=this._makeLeftCorrection(s.left,l),this._move(s,t)),t.toggle(!!s)},_getPositions:function(t,e,n,i){for(var o=[],r=0;r<t.length;r++){var a=0;null!==i&&null!==n?(-1===n?r>=i&&(a=e):-1===i?r>n&&(a=-e):n<i?r>n&&r<i&&(a=-e):n>i&&r>=i&&r<n&&(a=e),o.push(a)):o.push(a)}return o},_getDraggableElementSize:function(t){var e=this._getDraggableElement(),n=this.option("draggableElementSize");return n||(n=t?(e.outerHeight()+e.outerHeight(!0))/2:(e.outerWidth()+e.outerWidth(!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",n)),n},_getActualFromIndex:function(){var t=this.option(),e=t.fromIndex,n=t.fromIndexOffset,i=t.offset;return null==e?null:e+n-i},_moveItems:function(t,e,n){for(var i,o,a,s,l=this._getActualFromIndex(),u=this._isVerticalOrientation(),h=u?"top":"left",c=this._getDraggableElementSize(u),d=this._getItems(),f=this._getPositions(d,c,l,t),p=this._getPositions(d,c,l,e),m=this.option("animation"),v=this.option("rtlEnabled"),y=0;y<d.length;y++){var _=d[y],b=f[y],x=p[y];null===e||null===l?(s=_)&&(s.style.transform="",s.style.transition=""):(b!==x||n&&x)&&g(_,(0,r.extend)({},m,{to:(i={},o=h,a=!u&&v?-x:x,o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,i)}))}},_toggleDragSourceClass:function(t,e){var n=e||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||n&&n.toggleClass(this._addWidgetPrefix("source-hidden"),t)},_dispose:function(){this.reset(),this.callBase()},_fireAddEvent:function(t){var e=this._getEventArgs(t);return this._getAction("onAdd")(e),e.cancel},_fireRemoveEvent:function(t){var e=this._getSourceDraggable(),n=this._getEventArgs(t);return e._getAction("onRemove")(n),n.cancel},_fireReorderEvent:function(t){var e=this._getEventArgs(t);return this._getAction("onReorder")(e),e.promise||(new d.Deferred).resolve()}});(0,o.default)("dxSortable",m);var v=m;e.default=v,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.createOffsetFilter=function(t,e){for(var n=a.default.normalizeSortingInfo(e.group),i=[],o=0;o<t.length;o++){for(var s=[],l=0;l<=o;l++){var u=n[l].selector;if(o!==l||null!==t[l]&&!1!==t[l]&&!0!==t[l]){var h=[u,o===l?n[l].desc?">":"<":"=",t[l]];"<"===h[1]?s.push([h,"or",[u,"=",null]]):s.push(h)}else!1===t[l]?s.push([u,"=",!!n[l].desc||null]):(t[l]?!n[l].desc:n[l].desc)?s.push([u,"<>",t[l]]):(s.push([u,"<>",null]),s.push([u,"=",null]))}i.push(r.default.combineFilters(s))}return i=r.default.combineFilters(i,"or"),r.default.combineFilters([i,e.filter])},e.GroupingHelper=void 0;var i=l(n(1)),o=l(n(20)),r=l(n(22)),a=l(n(51)),s=n(8);function l(t){return t&&t.__esModule?t:{default:t}}var u=o.default.inherit(function(){var t=function(t,e){var n=t.hash;return n&&n[JSON.stringify(e)]},e=function(t,e){var n,i=0,o=t.length-1;if(!t.length)return 0;do{var r=o+i>>1;t[r].offset>e?o=r:i=r}while(o-i>1);for(n=i;n<=o&&!(t[n].offset>e);n++);return n};return{ctor:function(t){this._dataSource=t,this.reset()},reset:function(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection:function(){return this._totalCountCorrection},updateTotalItemsCount:function(t){this._totalCountCorrection=t||0},isGroupItemCountable:function(t){return!this._isVirtualPaging()||!t.isContinuation},_isVirtualPaging:function(){var t=this._dataSource.option("scrolling.mode");return"virtual"===t||"infinite"===t},itemsCount:function(){var t=this._dataSource._dataSource,e=r.default.normalizeSortingInfo(t.group()||[]).length,n=function t(e,n,i){var o=0;if(n)if(i)for(var r=0;r<n.length;r++)e.isGroupItemCountable(n[r])&&o++,o+=t(e,n[r].items,i-1);else o=n.length;return o}(this,t.items(),e);return n},foreachGroups:function(t,e,n,o,r){var a=this;return function t(e,l,u,h){var c=[];function d(t,e,n,i){var o=e&&t(e,n);return o&&i.push(o),o}for(var f=0;f<e.length;f++){if(h.push(e[f].data),!u&&!1===d(l,e[f].data,h,c))return!1;if(!e[f].data||e[f].data.isExpanded||n){var p=e[f].children,g=p.length&&t(p,l,u,h);if(g&&c.push(g),!1===g)return!1}if(u&&!1===d(l,e[f].data,h,c))return!1;e[f].data&&e[f].data.offset===e[f].offset||(o=!0),h.pop()}var m=r&&h.slice(0);return o&&s.when.apply(i.default,c).always((function(){a._updateGroupInfoOffsets(e,m)}))}(a._groupsInfo,t,e,[])},_updateGroupInfoOffsets:function(t,e){e=e||[];for(var n=0;n<t.length;n++){var i=t[n];if(i.data&&i.data.offset!==i.offset){i.offset=i.data.offset;for(var o=0;o<e.length;o++)e[o].offset=i.offset}}t.sort((function(t,e){return t.offset-e.offset}))},findGroupInfo:function(e){for(var n,i=this._groupsInfo,o=0;i&&o<e.length;o++)i=(n=t(i,e[o]))&&n.children;return n&&n.data},addGroupInfo:function(n){for(var i,o=n.path,r=this._groupsInfo,a=0;a<o.length;a++){if(!(i=t(r,o[a]))){i={key:o[a],offset:n.offset,data:{offset:n.offset,isExpanded:!0,path:o.slice(0,a+1)},children:[]};var s=e(r,n.offset);r.splice(s,0,i),r.hash=r.hash||{},r.hash[JSON.stringify(i.key)]=i}a===o.length-1&&(i.data=n,i.offset!==n.offset&&this._updateGroupInfoOffsets(r)),r=i.children}},allowCollapseAll:function(){return!0},refresh:function(t){var e=t.storeLoadOptions,n=a.default.normalizeSortingInfo(e.group||[]),i="_group"in this?a.default.normalizeSortingInfo(this._group||[]):n,o=Math.min(i.length,n.length);this._group=e.group;for(var r=0;r<o;r++)if(i[r].selector!==n[r].selector){o=r;break}o?function t(e,n,i){for(var o=0;o<e.length;o++)n+1>=i?e[o].children=[]:t(e[o].children,n+1,i)}(this._groupsInfo,0,o):this.reset()},handleDataLoading:function(){},handleDataLoaded:function(t,e){e(t)},handleDataLoadedCore:function(t,e){e(t)}}}());e.GroupingHelper=u},function(t,e,n){"use strict";e.default=void 0;var i=g(n(1)),o=n(6),r=g(n(7)),a=n(2),s=g(n(86)),l=n(29),u=g(n(24)),h=n(3),c=g(n(17)),d=n(27),f=n(93),p=n(13);function g(t){return t&&t.__esModule?t:{default:t}}n(144),n(147),n(127),n(185),n(249);var m=s.default.isWrapped,v=function(){var t=function(t,e){return(0,h.extend)(t,{readOnly:e.readOnly,placeholder:e.placeholder,inputAttr:{id:e.id},tabIndex:e.tabIndex},e.editorOptions)},e=function(){return u.default.msie||u.default.mozilla||c.default.real().ios},n=function(n){var o={},s=e(),l=n.sharedData||o;return t({placeholder:n.placeholder,width:n.width,value:n.value,onValueChanged:function(t){var e="filterRow"===n.parentType||"searchPanel"===n.parentType,i=t.event&&("input"===t.event.type||"keyup"===t.event.type),r=function(t,e){n&&n.setValue(t.value,e)};clearTimeout(o.valueChangeTimeout),i&&e?l.valueChangeTimeout=o.valueChangeTimeout=setTimeout((function(){r(t,o.valueChangeTimeout!==l.valueChangeTimeout)}),(0,a.isDefined)(n.updateValueTimeout)?n.updateValueTimeout:0):r(t)},onKeyDown:function(t){s&&"enter"===(0,p.normalizeKeyName)(t.event)&&r.default.trigger((0,i.default)(t.component._input()),"change")},valueChangeEvent:"change"+("filterRow"===n.parentType?" keyup input":"")},n)},s=function(e){"filterRow"===e.parentType||"filterBuilder"===e.parentType?g((0,h.extend)(e,{lookup:{displayExpr:function(t){return!0===t?e.trueText||"true":!1===t?e.falseText||"false":void 0},dataSource:[!0,!1]}})):function(e){e.editorName="dxCheckBox",e.editorOptions=t({value:(0,a.isDefined)(e.value)?e.value:void 0,hoverStateEnabled:!e.readOnly,focusStateEnabled:!e.readOnly,activeStateEnabled:!1,onValueChanged:function(t){e.setValue&&e.setValue(t.value,t)}},e)}(e)};function g(e){var n,i,o,r=e.lookup,s="filterRow"===e.parentType;if(r){n=(0,l.compileGetter)(r.displayExpr),i=r.dataSource,(0,a.isFunction)(i)&&!m(i)&&(i=i(e.row||{}),function(t){if(t.row&&t.row.watch&&"dataRow"===t.parentType){var e,n=t.editorOptions||{};t.editorOptions=n;var i,o=n.onInitialized;n.onInitialized=function(t){o&&o.apply(this,arguments),(e=t.component).on("disposing",r)};var r=t.row.watch((function(){return(i=t.lookup.dataSource(t.row))&&i.filter}),(function(){e.option("dataSource",i)}),(function(e){t.row=e}))}}(e)),((0,a.isObject)(i)||Array.isArray(i))&&(i=(0,f.normalizeDataSourceOptions)(i),s&&(o=i.postProcess,i.postProcess=function(t){return 0===this.pageIndex()&&(t=t.slice(0)).unshift(null),o?o.call(this,t):t}));var u=Boolean(r.allowClearing&&!s);e.editorName="dxSelectBox",e.editorOptions=t({searchEnabled:!0,value:e.value,valueExpr:e.lookup.valueExpr,searchExpr:e.lookup.searchExpr||e.lookup.displayExpr,allowClearing:u,showClearButton:u,displayExpr:function(t){return null===t?e.showAllText:n(t)},dataSource:i,onValueChanged:function(t){var n=[t.value];!s&&n.push(t.component.option("text")),e.setValue.apply(this,n)}},e)}}return{createEditor:function(r,l){if(l.cancel=!1,l.editorElement=(0,d.getPublicElement)(r),(0,a.isDefined)(l.tabIndex)||(l.tabIndex=this.option("tabIndex")),l.lookup)g(l);else switch(l.dataType){case"date":case"datetime":!function(n){n.editorName="dxDateBox",n.editorOptions=t({value:n.value,onValueChanged:function(t){n.setValue(t.value)},onKeyDown:function(t){e()&&"enter"===(0,p.normalizeKeyName)(t.event)&&(t.component.blur(),t.component.focus())},displayFormat:n.format,type:n.dataType,dateSerializationFormat:null,width:"filterBuilder"===n.parentType?void 0:"auto"},n)}(l);break;case"boolean":s(l);break;case"number":!function(t){var e=n(t);e.value=(0,a.isDefined)(t.value)?t.value:null,t.editorName="dxNumberBox",t.editorOptions=e}(l);break;default:!function(t){var e,i=n(t),o="searchPanel"===t.parentType;t.editorType&&"dxTextBox"!==t.editorType?i.value=t.value:i.value=(e=t.value,(0,a.isDefined)(e)?e.toString():""),i.valueChangeEvent+=o?" keyup input search":"",i.mode=i.mode||(o?"search":"text"),t.editorName="dxTextBox",t.editorOptions=i}(l)}var u=l.editorName;this.executeAction("onEditorPreparing",l),l.cancel||("dataRow"===l.parentType&&l.editorType&&u===l.editorName&&(l.editorName=l.editorType),"dataRow"!==l.parentType||l.isOnForm||(0,a.isDefined)(l.editorOptions.showValidationMark)||(l.editorOptions.showValidationMark=!1),function(t,e){var n=(0,i.default)(e.editorElement);e.editorName&&e.editorOptions&&n[e.editorName]&&("dxCheckBox"!==e.editorName&&"dxSwitch"!==e.editorName||e.isOnForm||(n.addClass(t.addWidgetPrefix("checkbox-size")),n.parent().addClass("dx-editor-inline-block")),t._createComponent(n,e.editorName,e.editorOptions),"dxTextBox"===e.editorName&&n.dxTextBox("instance").registerKeyHandler("enter",o.noop),"dxDateBox"===e.editorName&&n.dxDateBox("instance").registerKeyHandler("enter",(function(){return!0})),"dxTextArea"===e.editorName&&n.dxTextArea("instance").registerKeyHandler("enter",(function(t){"enter"!==(0,p.normalizeKeyName)(t)||t.ctrlKey||t.shiftKey||t.stopPropagation()})))}(this,l),this.executeAction("onEditorPrepared",l))}}}();e.default=v,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=E(n(1)),o=E(n(7)),r=E(n(50)),a=E(n(19)),s=n(6),l=n(68),u=n(5),h=n(2),c=n(3),d=n(27),f=E(n(25)),p=E(n(74)),g=n(34),m=E(n(444)),v=E(n(47)),y=E(n(18)),_=n(13),b=E(n(144)),x=n(30),w=E(n(17)),C=n(132),S=E(n(76)),k=n(14);function E(t){return t&&t.__esModule?t:{default:t}}var I="ios"===w.default.current().platform,T=b.default.inherit({_supportedKeys:function(){return(0,c.extend)({},this.callBase(),{tab:function(t){if(this.option("opened"))if("instantly"!==this.option("applyValueMode")){var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&o.default.trigger(e,"focus"),t.preventDefault()}else this.close()},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return t.preventDefault(),t.stopPropagation(),!t.altKey||(this.close(),!1)},downArrow:function(t){return t.preventDefault(),t.stopPropagation(),!t.altKey||(this._validatedOpening(),!1)},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:m.default}])},_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:y.default.format("OK"),cancelButtonText:y.default.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1})},_getDefaultPopupPosition:function(t){var e=(0,g.getDefaultAlignment)(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"generic"===t.platform},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find(".dx-dropdowneditor-input-wrapper")},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var e=this._getDefaultPopupPosition(t),n=e.my,i=e.at,o=this.option("popupPosition");this.option("popupPosition",(0,c.extend)({},o,{my:n,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass("dx-dropdowneditor"),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this.$element().wrapInner((0,i.default)("<div>").addClass("dx-dropdowneditor-input-wrapper")),this._$container=this.$element().children().eq(0),this._setDefaultAria()},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this.option("acceptCustomValue")||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){!!this._getFieldTemplate()||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue(),this.callBase().always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var n=this,r=(0,l.focused)(this._input()),a=this._$container;this._detachKeyboardEvents();var s=this._$beforeButtonsContainer&&this._$beforeButtonsContainer[0].parentNode,u=this._$afterButtonsContainer&&this._$afterButtonsContainer[0].parentNode;s&&s.removeChild(this._$beforeButtonsContainer[0]),u&&u.removeChild(this._$afterButtonsContainer[0]),this._detachFocusEvents(),a.empty();var h=(0,i.default)("<div>").addClass("dx-dropdowneditor-field-template-wrapper").appendTo(a);t.render({model:e,container:(0,d.getPublicElement)(h),onRendered:function(){var t=n._input();if(!t.length)throw f.default.Error("E1010");n._integrateInput(),r&&o.default.trigger(t,"focus")}}),a.prepend(this._$beforeButtonsContainer),a.append(this._$afterButtonsContainer)},_integrateInput:function(){this._refreshEvents(),this._refreshValueChangeEvent(),this._renderFocusState(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){o.default.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new C.FunctionTemplate((function(t){var e=(0,i.default)("<div>").addClass("dx-dropdowneditor-icon");(0,i.default)(t.container).append(e)}))}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=(0,_.addNamespace)(x.name,this.NAME),n=this.option("openOnFieldClick");o.default.off(t,e),o.default.on(t,e,this._getInputClickHandler(n)),this.$element().toggleClass("dx-dropdowneditor-field-clickable",n),n&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){var t=this;I&&(this._detachFocusOutEvents(),o.default.on(this._inputWrapper(),(0,_.addNamespace)("focusout",this.NAME),(function(e){var n=e.relatedTarget,o=t.content?(0,i.default)(t.content()).closest(".dx-dropdowneditor-overlay"):t._$popup;n&&t.option("opened")&&(0===(0,i.default)(n).closest(".dx-dropdowneditor-overlay",o).length&&t.close())})))},_detachFocusOutEvents:function(){I&&o.default.off(this._inputWrapper(),(0,_.addNamespace)("focusout",this.NAME))},_getInputClickHandler:function(t){var e=this;return t?function(t){e._executeOpenAction(t)}:function(t){e._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!(0,l.focused)(this._input())&&o.default.trigger(this._input(),"focus"),!0)},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass("dx-dropdowneditor-active",t),this._setPopupOption("visible",t),this.setAria({expanded:t}),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=(0,i.default)("<div>").addClass("dx-dropdowneditor-overlay").addClass(this.option("customOverlayCssClass")).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:s.noop,_renderPopup:function(){var t=(0,c.extend)(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,S.default,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId:function(t){this._popupContentId="dx-"+new r.default,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:s.noop,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:(0,c.extend)(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),width:"auto",height:"auto",shading:!1,closeOnTargetScroll:!0,closeOnOutsideClick:this._closeOutsideDropDownHandler.bind(this),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null}},_popupInitializedHandler:function(){var t=this;if(this.option("onPopupInitialized"))return function(e){t._popupInitializedAction({popup:e.component})}},_popupPositionedHandler:function(t){t.position&&this._popup.overlayContent().toggleClass("dx-dropdowneditor-overlay-flipped",t.position.v.flip)},_popupShowingHandler:s.noop,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction(),null===(t=this._validationMessage)||void 0===t||t.option("positionRequest",this._getValidationMessagePositionRequest())},_popupHiddenHandler:function(){var t;this._closeAction(),null===(t=this._validationMessage)||void 0===t||t.option("positionRequest",this._getValidationMessagePositionRequest())},_getValidationMessagePositionRequest:function(){var t="below";if(this._popup&&this._popup.option("visible")){var e=p.default.setup(this.$element()).top,n=p.default.setup(this._popup.$content()).top;t=e+this.option("popupPosition").offset.v>n?"below":"above"}return t},_closeOutsideDropDownHandler:function(t){var e=t.target,n=(0,i.default)(e),o=this.getButton("dropDown"),r=o&&o.$element(),a=!!n.closest(this.$element()).length,s=!!n.closest(r).length;return!a&&!s},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return"useButtons"===this.option("applyValueMode")?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup._wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup._wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=(0,i.default)(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(o.default.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){o.default.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),n=t;if("default"!==e){var i=(0,s.splitPair)(e);(0,u.each)(n,(function(t,e){(0,c.extend)(e,{toolbar:i[0],location:i[1]})}))}return n},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_updatePopupWidth:s.noop,_popupOptionChanged:function(t){var e=v.default.getOptionsFromContainer(t);this._setPopupOption(e),-1!==Object.keys(e).indexOf("width")&&void 0===e.width&&this._updatePopupWidth()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=(0,i.default)("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_setDeprecatedOptions:function(){this.callBase(),(0,c.extend)(this._deprecatedOptions,{showPopupTitle:{since:"20.1",alias:"dropDownOptions.showTitle"}})},_optionChanged:function(t){switch(t.name){case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":(0,h.isDefined)(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":(0,k.hasWindow)()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"showPopupTitle":this._setPopupOption("showTitle",t.value);break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return(0,d.getPublicElement)(this._input())},content:function(){return this._popup?this._popup.content():null}});(0,a.default)("dxDropDownEditor",T);var D=T;e.default=D,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(446))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=h(n(450)),o=h(n(148)),r=h(n(91)),a=n(6),s=n(2),l=n(3),u=h(n(18));function h(t){return t&&t.__esModule?t:{default:t}}var c=o.default.inherit({NAME:"Calendar",supportedKeys:function(){var t=function(t){return!!this.option("opened")&&(t.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")!==this._widget.option("maxZoomLevel"))return!0;var e=this._widget._view.option("contouredDate"),n=this._lastActionElement;e&&"calendar"===n&&this.dateBoxValue(e,t),this.dateBox.close(),this.dateBox._valueChangeEventHandler(t)}else this.dateBox._valueChangeEventHandler(t)}.bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_getWidgetName:function(){return i.default},getKeyboardListener:function(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return(0,l.extend)(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:(0,s.isFunction)(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),hasFocus:function(){return!0}})},_injectComponent:function(t){var e=this;return function(n){return(0,l.extend)(n,{component:e.dateBox}),t(n)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},popupConfig:function(t){var e=t.toolbarItems,n=this.dateBox.option("buttonsLocation"),i=[];return i="default"!==n?(0,a.splitPair)(n):["bottom","center"],"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()&&e.unshift({widget:"dxButton",toolbar:i[0],location:"after"===i[1]?"before":i[1],options:{onInitialized:function(t){t.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:function(){this._widget._toTodayView()}.bind(this),text:u.default.format("dxCalendar-todayButtonText"),type:"today"}}),(0,l.extend)(!0,t,{toolbarItems:e,position:{collision:"flipfit flip"}})},_isCalendarVisible:function(){return(0,s.isEmptyObject)(this.dateBox.option("calendarOptions"))||!1!==this.dateBox.option("calendarOptions.visible")},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=this.dateBox,n=t.value,i=t.previousValue;r.default.sameDate(n,i)||"instantly"===e.option("applyValueMode")&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;"instantly"===e.option("applyValueMode")&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}});e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(182),o=h(n(7)),r=h(n(89)),a=n(5),s=n(13),l=n(3),u=n(115);function h(t){return t&&t.__esModule?t:{default:t}}var c={onStart:i.start,onUpdated:i.swipe,onEnd:i.end,onCancel:"dxswipecancel"},d=r.default.inherit({_getDefaultOptions:function(){return(0,l.extend)(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),(0,a.each)(c,function(e,n){var i=this._createActionByOption(e,{context:this});n=(0,s.addNamespace)(n,t),o.default.on(this.$element(),n,this._eventData,(function(t){return i({event:t})}))}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){o.default.off(this.$element(),".dxSwipeable")},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});(0,u.name)(d,"dxSwipeable");var f=d;e.default=f,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(464))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(50))&&i.__esModule?i:{default:i},r=n(5),a=n(3),s=n(2);function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._map={}}var e,n,i;return e=t,(n=[{key:"_findWidgetInstance",value:function(t){var e;return(0,r.each)(this._map,(function(n,i){var o=i.widgetInstance,r=i.item;if(t(r))return e=o,!1})),e}},{key:"_findFieldByCondition",value:function(t,e){var n;return(0,r.each)(this._map,(function(i,o){if(t(o))return n="guid"===e?i:o[e],!1})),n}},{key:"clear",value:function(){this._map={}}},{key:"removeItemsByItems",value:function(t){var e=this;(0,r.each)(t.getItems(),(function(t){return e.removeItemByKey(t)}))}},{key:"removeItemByKey",value:function(t){delete this._map[t]}},{key:"add",value:function(t){var e=t.guid||new o.default;return this._map[e]=t,e}},{key:"addItemsOrExtendFrom",value:function(t){var e=this;t.each((function(t,n){e._map[t]?(n.widgetInstance&&(e._map[t].widgetInstance=n.widgetInstance),e._map[t].$itemContainer=n.$itemContainer):e.add({item:n.item,widgetInstance:n.widgetInstance,guid:t,$itemContainer:n.$itemContainer})}))}},{key:"extendRunTimeItemInfoByKey",value:function(t,e){this._map[t]&&(this._map[t]=(0,a.extend)(this._map[t],e))}},{key:"findWidgetInstanceByItem",value:function(t){return this._findWidgetInstance((function(e){return e===t}))}},{key:"getGroupOrTabLayoutManagerByPath",value:function(t){return this._findFieldByCondition((function(e){return e.path===t}),"layoutManager")}},{key:"getKeyByPath",value:function(t){return this._findFieldByCondition((function(e){return e.path===t}),"guid")}},{key:"findWidgetInstanceByName",value:function(t){return this._findWidgetInstance((function(e){return t===e.name}))}},{key:"findWidgetInstanceByDataField",value:function(t){return this._findWidgetInstance((function(e){return t===((0,s.isString)(e)?e:e.dataField)}))}},{key:"findItemContainerByItem",value:function(t){for(var e in this._map)if(this._map[e].item===t)return this._map[e].$itemContainer;return null}},{key:"findItemIndexByItem",value:function(t){return this._findFieldByCondition((function(e){return e.item===t}),"itemIndex")}},{key:"getItems",value:function(){return this._map}},{key:"each",value:function(t){(0,r.each)(this._map,(function(e,n){t(e,n)}))}},{key:"removeItemsByPathStartWith",value:function(t){var e=this;Object.keys(this._map).filter((function(n){return e._map[n].path.indexOf(t,0)>-1})).forEach((function(t){return e.removeItemByKey(t)}))}}])&&l(e.prototype,n),i&&l(e,i),t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=v(n(1)),o=n(56),r=n(3),a=v(n(17)),s=v(n(16)),l=v(n(19)),u=v(n(465)),h=v(n(467)),c=v(n(470)),d=n(108),f=n(27),p=n(2),g=n(98),m=n(14);function v(t){return t&&t.__esModule?t:{default:t}}var y=u.default.inherit({_getDefaultOptions:function(){return(0,r.extend)(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===a.default.real().deviceType&&!a.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!o.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass("dx-tabpanel"),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new g.BindableTemplate((function(t,e){if((0,p.isPlainObject)(e)){var n=(0,d.getImageContainer)(e.icon);n&&t.append(n),(0,p.isDefined)(e.title)&&!(0,p.isPlainObject)(e.title)&&t.append(s.default.createTextNode(e.title))}else(0,p.isDefined)(e)&&t.text(String(e));t.wrapInner((0,i.default)("<span>").addClass("dx-tab-text"))}),["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var t=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout((function(){t._updateLayout()}),0))},_renderLayout:function(){if(this._tabs)this._updateLayout();else{var t=this.$element();this._$tabContainer=(0,i.default)("<div>").addClass("dx-tabpanel-tabs").appendTo(t);var e=(0,i.default)("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,h.default,this._tabConfig()),this._$container=(0,i.default)("<div>").addClass("dx-tabpanel-container").appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()}},_updateLayout:function(){if((0,m.hasWindow)()){var t=this._$tabContainer.outerHeight();this._$container.css({marginTop:-t,paddingTop:t})}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,e=t.itemElements(),n=(0,i.default)(e[t.option("selectedIndex")]),o=this.getFocusedItemId();this.setAria("controls",void 0,(0,i.default)(e)),this.setAria("controls",o,n)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(t){this.option("selectedIndex",t.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(t){if("focusedElement"===t.name)if(t.value){var e=(0,i.default)(t.value),n=this._itemElements().eq(e.index());this.option("focusedElement",(0,f.getPublicElement)(n))}else this.option("focusedElement",t.value)}.bind(this),onFocusIn:function(t){this._focusInHandler(t.event)}.bind(this),onFocusOut:function(t){this._isFocusOutHandlerExecuting||this._focusOutHandler(t.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_updateFocusState:function(t,e){this.callBase(t,e),t.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(e,this._focusTarget())},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(t){var e=t.name,n=t.value,o=t.fullName;switch(e){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(e,this.option(e)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(o,n),this.callBase(t),!0===this.option("focusStateEnabled")){var r=this.option("selectedIndex"),a=this._itemElements().eq(r);this.option("focusedElement",(0,f.getPublicElement)(a))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(o,n),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(o,n);break;case"focusedElement":var s=n?(0,i.default)(n).index():n,l=n?this._tabs._itemElements().eq(s):n;this._setTabsOption("focusedElement",(0,f.getPublicElement)(l)),this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",n);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});y.ItemClass=c.default,(0,l.default)("dxTabPanel",y);var _=y;e.default=_,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.getItemPath=e.isFullPathContainsTabs=e.tryGetTabPath=e.getOptionNameFromFullName=e.getFullOptionName=e.isExpectedItem=e.getTextWithoutSpaces=e.concatPaths=e.createItemPathByIndex=void 0;var i=n(2);function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var a=function(t,e){return"".concat(e?"tabs":"items","[").concat(t,"]")};e.createItemPathByIndex=a;var s=function(t,e){return(0,i.isDefined)(t)&&(0,i.isDefined)(e)?"".concat(t,".").concat(e):t||e};e.concatPaths=s;var l=function(t){return t?t.replace(/\s/g,""):void 0};e.getTextWithoutSpaces=l;e.isExpectedItem=function(t,e){return t&&(t.dataField===e||t.name===e||l(t.title)===e||"group"===t.itemType&&l(t.caption)===e)};e.getFullOptionName=function(t,e){return"".concat(t,".").concat(e)};e.getOptionNameFromFullName=function(t){var e=t.split(".");return e[e.length-1].replace(/\[\d+]/,"")};e.tryGetTabPath=function(t){for(var e=t.split("."),n=o(e),i=e.length-1;i>=0;i--){if(u(e[i]))return n.join(".");n.splice(i,1)}return""};var u=function(t){return t.indexOf("tabs")>-1};e.isFullPathContainsTabs=u;e.getItemPath=function t(e,n,i){var o=e.indexOf(n);if(o>-1)return a(o,i);for(var r=0;r<e.length;r++){var l=e[r],u=l.tabs||l.items;if(u){var h=t(u,n,l.tabs);if(h)return s(a(r,i),h)}}}},function(t,e,n){"use strict";e.default=void 0;var i=h(n(19)),o=h(n(7)),r=n(6),a=n(3),s=n(5),l=h(n(96)),u=h(n(97));function h(t){return t&&t.__esModule?t:{default:t}}var c=u.default.inherit({_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference:function(){this.callBase(),(0,a.extend)(this._optionsByReference,{validationGroup:!0})},_init:function(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration:function(){var t=this.$element(),e=this.option("validationGroup")||l.default.findGroup(t,this._modelByElement(t)),n=l.default.addGroup(e);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),n.on("validated",this.groupSubscription)},_unsubscribeGroup:function(){var t=l.default.getGroupConfig(this._validationGroup);t&&t.off("validated",this.groupSubscription)},_getOrderedItems:function(t,e){var n=[];return(0,s.each)(t,(function(t,i){var o=(0,r.grep)(e,(function(t){if(t.validator===i)return!0}));o.length&&(n=n.concat(o))})),n},_groupValidationHandler:function(t){var e=this,n=this._getOrderedItems(t.validators,(0,s.map)(t.brokenRules,(function(t){return{text:t.message,validator:t.validator,index:t.index}})));this.validators=t.validators,(0,s.each)(this.validators,(function(t,n){if(n._validationSummary!==e){var i=e._itemValidationHandler.bind(e);n.on("validated",i),n.on("disposing",(function(){n.off("validated",i),n._validationSummary=null,i=null})),n._validationSummary=e}})),this.option("items",n)},_itemValidationHandler:function(t){for(var e=t.isValid,n=t.validator,i=t.brokenRules,o=this.option("items"),a=!1,l=0,u=function(){var t=o[l];if(t.validator===n){var s=(0,r.grep)(i||[],(function(e){return e.index===t.index}))[0];if(e||!s)return o.splice(l,1),a=!0,"continue";s.message!==t.text&&(t.text=s.message,a=!0)}l++};l<o.length;)u();(0,s.each)(i,(function(t,e){(0,r.grep)(o,(function(t){return t.validator===n&&t.index===e.index}))[0]||(o.push({text:e.message,validator:n,index:e.index}),a=!0)})),a&&(o=this._getOrderedItems(this.validators,o),this.option("items",o))},_initMarkup:function(){this.$element().addClass("dx-validationsummary"),this.callBase()},_optionChanged:function(t){switch(t.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(t)}},_itemClass:function(){return"dx-validationsummary-item"},_itemDataKey:function(){return"dx-validationsummary-item-data"},_postprocessRenderItem:function(t){o.default.on(t.itemElement,"click",(function(){t.itemData.validator&&t.itemData.validator.focus&&t.itemData.validator.focus()}))},_dispose:function(){this.callBase(),this._unsubscribeGroup()}});(0,i.default)("dxValidationSummary",c);var d=c;e.default=d,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.getElementMaxHeightByWindow=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},r=n(14),a=n(2);e.getElementMaxHeightByWindow=function(t,e){var n,i=(0,r.getWindow)();if((0,a.isNumeric)(e))n=(0,o.default)(i).innerHeight()-e+(0,o.default)(i).scrollTop();else{var s=t.offset().top-(0,o.default)(i).scrollTop(),l=(0,o.default)(i).innerHeight()-s-t.outerHeight();n=Math.max(s,l)}return.9*n}},function(t,e,n){"use strict";e.fileSaver=e.MIME_TYPES=void 0;var i=h(n(1)),o=h(n(16)),r=n(14),a=h(n(7)),s=h(n(25)),l=n(2),u=n(131);function h(t){return t&&t.__esModule?t:{default:t}}var c=(0,r.getWindow)(),d=(0,r.getNavigator)(),f={EXCEL:"xlsx",CSS:"css",PNG:"png",JPEG:"jpeg",GIF:"gif",SVG:"svg",PDF:"pdf"},p={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",PNG:"image/png",JPEG:"image/jpeg",GIF:"image/gif",SVG:"image/svg+xml",PDF:"application/pdf"};e.MIME_TYPES=p;var g={_revokeObjectURLTimeout:3e4,_getDataUri:function(t,e){var n=this._getMimeType(t);return"data:".concat(n,";base64,").concat(e)},_getMimeType:function(t){return p[t]||"application/octet-stream"},_linkDownloader:function(t,e){var n=o.default.createElement("a");return n.download=t,n.href=e,n.target="_blank",n},_formDownloader:function(t,e,n,r){var s={method:"post",action:t,enctype:"multipart/form-data"},l=(0,i.default)("<form>").css({display:"none"}).attr(s);function u(t,e){for(var n in e)t.setAttribute(n,e[n]);return t}l.append(u(o.default.createElement("input"),{type:"hidden",name:"fileName",value:e})),l.append(u(o.default.createElement("input"),{type:"hidden",name:"contentType",value:n})),l.append(u(o.default.createElement("input"),{type:"hidden",name:"data",value:r})),l.appendTo("body"),a.default.trigger(l,"submit"),a.default.trigger(l,"submit")&&l.remove()},_saveByProxy:function(t,e,n,i){var o=this._getMimeType(n);return this._formDownloader(t,e,o,i)},_winJSBlobSave:function(t,e,n){var i=new Windows.Storage.Pickers.FileSavePicker;i.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary;var o=f[n];if(o){var r=this._getMimeType(n);i.fileTypeChoices.insert(r,["."+o])}i.suggestedFileName=e,i.pickSaveFileAsync().then((function(e){e&&e.openAsync(Windows.Storage.FileAccessMode.readWrite).then((function(e){var n=t.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(n,e).then((function(){e.flushAsync().done((function(){n.close(),e.close()}))}))}))}))},_click:function(t){try{t.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}catch(n){var e=o.default.getDocument().createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,c,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}},_saveBlobAs:function(t,e,n){var i=this;if(this._blobSaved=!1,(0,l.isDefined)(d.msSaveOrOpenBlob))d.msSaveOrOpenBlob(n,t),this._blobSaved=!0;else if((0,l.isDefined)(c.WinJS))this._winJSBlobSave(n,t,e),this._blobSaved=!0;else{var o=c.URL||c.webkitURL||c.mozURL||c.msURL||c.oURL;if((0,l.isDefined)(o)){var r=o.createObjectURL(n),a=this._linkDownloader(t,r);setTimeout((function(){o.revokeObjectURL(r),i._objectUrlRevoked=!0}),this._revokeObjectURLTimeout),this._click(a)}else u.logger.warn("window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined")}},saveAs:function(t,e,n,i,o){var r=f[e];if(r&&(t+="."+r),(0,l.isDefined)(i)&&s.default.log("W0001","Export","proxyURL","19.2","This option is no longer required"),o)this._saveByProxy(i,t,e,n);else if((0,l.isFunction)(c.Blob))this._saveBlobAs(t,e,n);else if((0,l.isDefined)(i)&&!(0,l.isDefined)(d.userAgent.match(/iPad/i)))this._saveByProxy(i,t,e,n);else{(0,l.isDefined)(d.userAgent.match(/iPad/i))||s.default.log("E1034");var a=this._linkDownloader(t,this._getDataUri(e,n));this._click(a)}}};e.fileSaver=g},function(t,e,n){"use strict";e.default=void 0;var i=n(55),o=u(n(75)),r=u(n(58)),a=n(2),s=n(171),l=n(527);function u(t){return t&&t.__esModule?t:{default:t}}n(170);var h={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},c=/a+/g,d=/E/g,f=/dE+/g,p=/L/g,g=/h/g,m=/\//g,v=/\[/g,y=/]/g,_=/./g,b={_applyPrecision:function(t,e){var n,i;if(e>0){for(n="decimal"!==t?".":"",i=0;i<e;i++)n+="0";return n}return""},_hasArabicDigits:function(t){for(var e,n=0;n<t.length;n++)if((e=t.charCodeAt(n))>=1632&&e<1642)return!0;return!1},_convertDateFormatToOpenXml:function(t){return t.replace(m,"\\/").split("'").map((function(t,e){return e%2===0?t.replace(c,"AM/PM").replace(f,"d").replace(d,"d").replace(p,"M").replace(g,"H").replace(v,"\\[").replace(y,"\\]"):t?t.replace(_,"\\$&"):"'"})).join("")},_convertDateFormat:function(t){var e=(r.default.format(new Date(2009,8,8,6,5,4),t)||"").toString(),n=(0,s.getFormat)((function(e){return r.default.format(e,t)}));return n&&(n=this._convertDateFormatToOpenXml(n),n=this._getLanguageInfo(e)+n),n},_getLanguageInfo:function(t){var e=(0,l.getLanguageId)(),n=e?e.toString(16):"",i="";if(this._hasArabicDigits(t)){for(;n.length<3;)n="0"+n;i="[$-2010"+n+"]"}else n&&(i="[$-"+n+"]");return i},_convertNumberFormat:function(t,e,n){var r,a;return(a="currency"===t?o.default.getOpenXmlCurrencyFormat(n):h[t.toLowerCase()])&&(r=(0,i.format)(a,this._applyPrecision(t,e))),r},convertFormat:function(t,e,n,i){if((0,a.isDefined)(t)){if("date"===n)return b._convertDateFormat(t);if((0,a.isString)(t)&&h[t.toLowerCase()])return b._convertNumberFormat(t,e,i)}}},x=b;e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=a(n(84)),r=a(n(531));function a(t){return t&&t.__esModule?t:{default:t}}var s={tryCreateTag:function(t){var e=null;return(0,i.isDefined)(t)&&(e={patternFill:r.default.tryCreateTag(t.patternFill)},s.isEmpty(e)&&(e=null)),e},tryCreateFillFromSimpleFormat:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.backgroundColor,n=t.fillPatternType,o=t.fillPatternColor;return!(0,i.isDefined)(e)||(0,i.isDefined)(n)&&(0,i.isDefined)(o)?(0,i.isDefined)(n)&&(0,i.isDefined)(o)?{patternFill:{patternType:n,foregroundColor:{rgb:o},backgroundColor:{rgb:e}}}:void 0:{patternFill:{patternType:"solid",foregroundColor:{rgb:e}}}},copySimpleFormat:function(t,e){void 0!==t.backgroundColor&&(e.backgroundColor=t.backgroundColor),void 0!==t.fillPatternType&&(e.fillPatternType=t.fillPatternType),void 0!==t.fillPatternColor&&(e.fillPatternColor=t.fillPatternColor)},copy:function(t){var e=null;return(0,i.isDefined)(t)&&(e={},void 0!==t.patternFill&&(e.patternFill=r.default.copy(t.patternFill))),e},areEqual:function(t,e){return s.isEmpty(t)&&s.isEmpty(e)||(0,i.isDefined)(t)&&(0,i.isDefined)(e)&&r.default.areEqual(t.patternFill,e.patternFill)},isEmpty:function(t){return!(0,i.isDefined)(t)||r.default.isEmpty(t.patternFill)},toXml:function(t){return o.default.toXml("fill",{},r.default.toXml(t.patternFill))}},l=s;e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(2),r=(i=n(84))&&i.__esModule?i:{default:i};var a={_tryConvertColor:function(t){if("string"!==typeof t)return t;var e;if(t.length>0&&"#"===t[0]){var n=t.substr(1,t.length);e=6===n.length?"FF"+n:8===n.length?n[6]+n[7]+n.substr(0,6):n}else e=t;return e},tryCreateTag:function(t){var e=null;return(0,o.isDefined)(t)&&(e="string"===typeof t?{rgb:this._tryConvertColor(t)}:{rgb:this._tryConvertColor(t.rgb),theme:t.theme},a.isEmpty(e)&&(e=null)),e},copy:function(t){var e=null;return(0,o.isDefined)(t)&&("string"===typeof t?e=t:(e={},void 0!==t.rgb&&(e.rgb=t.rgb),void 0!==t.theme&&(e.theme=t.theme))),e},isEmpty:function(t){return!(0,o.isDefined)(t)||!(0,o.isDefined)(t.rgb)&&!(0,o.isDefined)(t.theme)},areEqual:function(t,e){return a.isEmpty(t)&&a.isEmpty(e)||(0,o.isDefined)(t)&&(0,o.isDefined)(e)&&t.rgb===e.rgb&&t.theme===e.theme},toXml:function(t,e){return r.default.toXml(t,{rgb:e.rgb,theme:e.theme})}},s=a;e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=a(n(84)),r=a(n(261));function a(t){return t&&t.__esModule?t:{default:t}}var s={tryCreateTag:function(t){var e=null;return(0,i.isDefined)(t)&&(e={size:t.size,name:t.name,family:t.family,scheme:t.scheme,bold:t.bold,italic:t.italic,underline:t.underline,color:r.default.tryCreateTag(t.color)},s.isEmpty(e)&&(e=null)),e},copy:function(t){var e=null;return(0,i.isDefined)(t)&&(e={},void 0!==t.size&&(e.size=t.size),void 0!==t.name&&(e.name=t.name),void 0!==t.family&&(e.family=t.family),void 0!==t.scheme&&(e.scheme=t.scheme),void 0!==t.bold&&(e.bold=t.bold),void 0!==t.italic&&(e.italic=t.italic),void 0!==t.underline&&(e.underline=t.underline),void 0!==t.color&&(e.color=r.default.copy(t.color))),e},areEqual:function(t,e){return s.isEmpty(t)&&s.isEmpty(e)||(0,i.isDefined)(t)&&(0,i.isDefined)(e)&&t.size===e.size&&t.name===e.name&&t.family===e.family&&t.scheme===e.scheme&&(t.bold===e.bold||!t.bold===!e.bold)&&(t.italic===e.italic||!t.italic===!e.italic)&&t.underline===e.underline&&r.default.areEqual(t.color,e.color)},isEmpty:function(t){return!(0,i.isDefined)(t)||!(0,i.isDefined)(t.size)&&!(0,i.isDefined)(t.name)&&!(0,i.isDefined)(t.family)&&!(0,i.isDefined)(t.scheme)&&(!(0,i.isDefined)(t.bold)||!t.bold)&&(!(0,i.isDefined)(t.italic)||!t.italic)&&!(0,i.isDefined)(t.underline)&&r.default.isEmpty(t.color)},toXml:function(t){var e=[(0,i.isDefined)(t.bold)&&t.bold?o.default.toXml("b",{}):"",(0,i.isDefined)(t.size)?o.default.toXml("sz",{val:t.size}):"",(0,i.isDefined)(t.color)?r.default.toXml("color",t.color):"",(0,i.isDefined)(t.name)?o.default.toXml("name",{val:t.name}):"",(0,i.isDefined)(t.family)?o.default.toXml("family",{val:t.family}):"",(0,i.isDefined)(t.scheme)?o.default.toXml("scheme",{val:t.scheme}):"",(0,i.isDefined)(t.italic)&&t.italic?o.default.toXml("i",{}):"",(0,i.isDefined)(t.underline)?o.default.toXml("u",{val:t.underline}):""].join("");return o.default.toXml("font",{},e)}},l=s;e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.getData=function(t,e){return K.getData(t,e)},e.testFormats=function(t){var e=I(100,100,0);return t.reduce((function(t,n){var i=("image/"+n).toLowerCase();return-1!==e.toDataURL(i).indexOf(i)?t.supported.push(n):t.unsupported.push(n),t}),{supported:[],unsupported:[]})},e.imageCreator=void 0;var i=p(n(1)),o=p(n(533)),r=n(2),a=n(264),s=n(5),l=n(3),u=p(n(16)),h=n(44),c=n(14),d=n(60),f=n(8);function p(t){return t&&t.__esModule?t:{default:t}}var g,m=(0,c.getWindow)(),v=Math,y=v.PI,_=v.min,b=v.abs,x=v.sqrt,w=v.pow,C=v.atan2,S=v.cos,k=v.sin,E=Number;function I(t,e,n){var o=(0,i.default)("<canvas>")[0];return o.width=t+2*n,o.height=e+2*n,o.hidden=!0,o}function T(t,e,n,i,o,r,a,s){var l=(t+n)/2,u=(e+i)/2,h=C(e-i,t-n),c=r?1:-1;h+=y/180*90*(a?1:-1);var d=x(w(n-t,2)+w(i-e,2))/2,f=x(b(w(o,2)-w(d,2))),p=l+c*(f*S(h)),g=u+c*(f*k(h)),m=C(e-g,t-p),v=C(i-g,n-p);s.arc(p,g,o,m,v,!a)}function D(t,e){var n,i=g(t.attributes||{}),o=(0,l.extend)({},i,{text:t.textContent.replace(/\s+/g," "),textAlign:"middle"===i["text-anchor"]?"center":i["text-anchor"]}),a=i.transform;return a&&((n=a.match(/translate\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.translateX=E(n[0]),o.translateY=n[1]?E(n[1]):0),(n=a.match(/rotate\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.rotationAngle=E(n[0]),o.rotationX=n[1]&&E(n[1]),o.rotationY=n[2]&&E(n[2])),(n=a.match(/scale\(-*\d+([.]\d+)*(,*\s*-*\d+([.]\d+)*)*/))&&(n=n[0].match(/-*\d+([.]\d+)*/g),o.scaleX=E(n[0]),n.length>1?o.scaleY=E(n[1]):o.scaleY=o.scaleX)),function(t,e,n){var i,o=t.style||{};for(i in o)""!==o[i]&&(e[(0,d.camelize)(i)]=o[i]);n&&u.default.isElementNode(t)&&(o=m.getComputedStyle(t),["fill","stroke","stroke-width","font-family","font-size","font-style","font-weight"].forEach((function(t){t in o&&""!==o[t]&&(e[(0,d.camelize)(t)]=o[t])})),["opacity","fill-opacity","stroke-opacity"].forEach((function(t){t in o&&""!==o[t]&&"1"!==o[t]&&(e[t]=E(o[t]))})));e.textDecoration=e.textDecoration||e.textDecorationLine,e.globalAlpha=(0,r.isDefined)(e.opacity)?e.opacity:e.globalAlpha}(t,o,e),o}function M(t){var e=t&&t.match(/url\(.*#(.*?)["']?\)/i);return e&&e[1]}function O(t,e){var n=[];e.fontSize=e.fontSize||"10px",e.fontFamily,e.fill=e.fill||"#000",e.fontStyle&&n.push(e.fontStyle),e.fontWeight&&n.push(e.fontWeight),n.push(e.fontSize),n.push(e.fontFamily),t.font=n.join(" "),t.textAlign=e.textAlign,t.fillStyle=e.fill,t.globalAlpha=e.globalAlpha}function P(t,e,n){O(t,e),B(t,e,n),e.text&&t.fillText(e.text,e.x||0,e.y||0),j(t,e,!0),function(t,e,n){if(!e.textDecoration||"none"===e.textDecoration)return;var i=e.x,o=t.measureText(e.text).width,r=parseInt(e.fontSize,10),a=.05*r<1?1:.05*r,s=e.y;switch(e.textDecoration){case"line-through":s-=r/3+a/2;break;case"overline":s-=r-a;break;case"underline":s+=a}t.rect(i,s,o,a),z(t,e,n),j(t,e)}(t,e,n)}function A(t){for(var e=t.childNodes,n=0;n<e.length;n++)if("tspan"===e[n].tagName)return!0;return!1}function R(t,e,n,i){var o=t.tagName,r="text"===o||"tspan"===o||void 0===o,a="image"===o,s=(0,l.extend)({},n,D(t,i.rootAppended));if("hidden"!==s.visibility&&!s["hidden-for-export"]){var u;switch(e.save(),!a&&N(e,s),F(e,s,i),function(t){t.strokeOpacity=void 0!==t["stroke-opacity"]?t["stroke-opacity"]:1,t.fillOpacity=void 0!==t["fill-opacity"]?t["fill-opacity"]:1,void 0!==t.opacity&&(t.strokeOpacity*=t.opacity,t.fillOpacity*=t.opacity)}(s),e.beginPath(),t.tagName){case void 0:P(e,s,i);break;case"text":case"tspan":!function t(e,n,i,o){for(var r,a=[],s=0,u=0;u<e.length;u++){var h=e[u];if(void 0===h.tagName)R(h,n,i,o);else if("tspan"===h.tagName||"text"===h.tagName){var c=D(h,o.rootAppended),d=(0,l.extend)({},i,c);if("tspan"===h.tagName&&A(h)){t(h.childNodes,n,d,o);continue}d.textAlign="start",r&&void 0===c.x||(r={elements:[],options:[],widths:[],offsets:[]},a.push(r)),void 0!==c.y&&(s=0),void 0!==c.dy&&(s+=parseFloat(c.dy)),r.elements.push(h),r.options.push(d),r.offsets.push(s),O(n,d),r.widths.push(n.measureText(d.text).width)}}a.forEach((function(e){var r=e.widths.reduce((function(t,e){return t+e}),0),a=0,s=0;"center"===i.textAlign&&(a=r/2),"end"===i.textAlign&&(a=r),e.options.forEach((function(t,n){var i=e.widths[n];t.x=t.x-a+s,t.y+=e.offsets[n],s+=i})),e.elements.forEach((function(i,r){t(i.childNodes,n,e.options[r],o)}))}))}(t.childNodes,e,s,i);break;case"image":u=function(t,e,n){var i=new f.Deferred,o=new m.Image;return o.onload=function(){t.save(),t.globalAlpha=e.globalAlpha,N(t,e),F(t,e,n),t.drawImage(o,e.x,e.y,e.width,e.height),t.restore(),i.resolve()},o.onerror=function(){i.resolve()},o.setAttribute("crossOrigin","anonymous"),o.src=e.href||e["xlink:href"],i}(e,s,i);break;case"path":!function(t,e){var n,i,o,r=e.replace(/,/g," ").split(/([A-Z])/i).filter((function(t){return""!==t.trim()})),a=0;do{switch(n=(r[a+1]||"").trim().split(" "),r[a]){case"M":t.moveTo(E(n[0]),E(n[1])),a+=2;break;case"L":for(var s=0;s<n.length/2;s++)t.lineTo(E(n[2*s]),E(n[2*s+1]));a+=2;break;case"C":t.bezierCurveTo(E(n[0]),E(n[1]),E(n[2]),E(n[3]),E(n[4]),E(n[5])),a+=2;break;case"a":o=(i=r[a-1].trim().split(" ")).length-1,T(E(i[o-1]),E(i[o]),E(i[o-1])+E(n[5]),E(i[o])+E(n[6]),E(n[0]),E(n[3]),E(n[4]),t),a+=2;break;case"A":o=(i=r[a-1].trim().split(" ")).length-1,T(E(i[o-1]),E(i[o]),E(n[5]),E(n[6]),E(n[0]),E(n[3]),E(n[4]),t),a+=2;break;case"Z":t.closePath(),a+=1;break;default:a++}}while(a<r.length)}(e,s.d);break;case"rect":!function(t,e){var n=e.x,i=e.y,o=e.width,r=e.height,a=e.rx;a?(a=_(a,o/2,r/2),t.save(),t.translate(n,i),t.moveTo(o/2,0),t.arcTo(o,0,o,r,a),t.arcTo(o,r,0,r,a),t.arcTo(0,r,0,0,a),t.arcTo(0,0,a,0,a),t.lineTo(o/2,0),t.restore()):t.rect(n,i,o,r)}(e,s),e.closePath();break;case"circle":e.arc(s.cx,s.cy,s.r,0,2*y,1)}return r||(B(e,s,i),z(e,s,i),j(e,s)),function(t,e,n,i){var o=n.gradients;if(0===o.length)return;var r=M(e.fill);if(r&&o[r]){var a=i.getBBox(),s=t.createLinearGradient(a.x,0,a.x+a.width,0);o[r].forEach((function(t){var e=parseInt(t.offset.replace(/%/,""));s.addColorStop(e/100,t.stopColor)})),t.globalAlpha=e.opacity,t.fillStyle=s,t.fill()}}(e,s,i,t),e.restore(),u}}function B(t,e,n){var i,o=M(e.filter);o&&((i=n.filters[o])||(i={offsetX:0,offsetY:0,blur:0,color:"#000"}),t.shadowOffsetX=i.offsetX,t.shadowOffsetY=i.offsetY,t.shadowColor=i.color,t.shadowBlur=i.blur)}function N(t,e){t.translate(e.translateX||0,e.translateY||0),e.translateX=void 0,e.translateY=void 0,e.rotationAngle&&(t.translate(e.rotationX||0,e.rotationY||0),t.rotate(e.rotationAngle*y/180),t.translate(-(e.rotationX||0),-(e.rotationY||0)),e.rotationAngle=void 0,e.rotationX=void 0,e.rotationY=void 0),isFinite(e.scaleX)&&(t.scale(e.scaleX,e.scaleY),e.scaleX=void 0,e.scaleY=void 0)}function F(t,e,n){e["clip-path"]&&(R(n.clipPaths[M(e["clip-path"])],t,{},n),t.clip(),e["clip-path"]=void 0)}function L(t){var e,n,i={};return(0,s.each)(t.childNodes,(function(t,r){var a=r.attributes;if(a.result)switch(a.result.value){case"gaussianBlurResult":i.blur=E(a.stdDeviation.value);break;case"offsetResult":i.offsetX=E(a.dx.value),i.offsetY=E(a.dy.value);break;case"floodResult":e=a["flood-color"]?a["flood-color"].value:"#000",n=a["flood-opacity"]?a["flood-opacity"].value:1,i.color=function(t,e){var n=new o.default(t);return"rgba("+n.r+","+n.g+","+n.b+","+e+")"}(e,n)}})),i}function V(t,e,n,i){return function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new f.Deferred;if(0===e.length)return i.resolve();var o=n(e[0]);function a(){t(Array.prototype.slice.call(e,1),n,i)}return(0,r.isPromise)(o)?o.then(a):a(),i}(t,(function(t){switch(t.tagName&&t.tagName.toLowerCase()){case"g":case"svg":var o=(0,l.extend)({},n,D(t,i.rootAppended));e.save(),N(e,o),F(e,o,i);var a=function(){e.restore()},u=V(t.childNodes,e,o,i);return(0,r.isPromise)(u)?u.then(a):a(),u;case"defs":return V(t.childNodes,e,{},i);case"clippath":i.clipPaths[t.attributes.id.textContent]=t.childNodes[0];break;case"pattern":i.patterns[t.attributes.id.textContent]=t;break;case"filter":i.filters[t.id]=L(t);break;case"lineargradient":i.gradients[t.attributes.id.textContent]=function(t){var e=[];return(0,s.each)(t.childNodes,(function(t,n){var i=n.attributes;e.push({offset:i.offset.value,stopColor:i["stop-color"].value})})),e}(t);break;default:return R(t,e,n,i)}}))}function j(t,e,n){var i=e.stroke;i&&"none"!==i&&0!==e["stroke-width"]&&(!function(t,e){var n=e["stroke-dasharray"]&&e["stroke-dasharray"].match(/(\d+)/g);n&&n.length&&(n=(0,s.map)(n,(function(t){return E(t)})),t.setLineDash(n))}(t,e),t.lineJoin=e["stroke-linejoin"],t.lineWidth=e["stroke-width"],t.globalAlpha=e.strokeOpacity,t.strokeStyle=i,n?t.strokeText(e.text,e.x,e.y):t.stroke(),t.globalAlpha=1)}function z(t,e,n){var i=e.fill;if(i&&"none"!==i){if(-1===i.search(/url/))t.fillStyle=i;else{var o=n.patterns[M(i)];if(!o)return;t.fillStyle=function(t,e,n){var i=D(e,n.rootAppended),o=I(i.width,i.height,0),r=o.getContext("2d");return V(e.childNodes,r,i,n),t.createPattern(o,"repeat")}(t,o,n)}t.globalAlpha=e.fillOpacity,t.fill(),t.globalAlpha=1}}function H(t,e,n,i,o){t.fillStyle=i||"#ffffff",t.fillRect(-o,-o,e+2*o,n+2*o)}function W(){var t=u.default.createElement("div");return t.style.left="-9999px",t.style.position="absolute",t}function G(t,e,n){return V(t.childNodes,e.getContext("2d"),{},{clipPaths:{},patterns:{},filters:{},gradients:{},rootAppended:n})}g=function(t){var e,n={};return(0,s.each)(t,(function(t,i){e=i.textContent,isFinite(e)&&(e=E(e)),n[i.name.toLowerCase()]=e})),n};var K={getImageData:function(t,e){var n="image/"+e.format,i=e.width,o=e.height,s=e.backgroundColor;return(0,r.isFunction)(e.__parseAttributesFn)&&(g=e.__parseAttributesFn),function(t,e,n,i,o){var r,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:G,l=I(e,n,o),c=l.getContext("2d"),d=(0,a.getSvgElement)(t),p=u.default.isElementNode(t);return c.translate(o,o),u.default.getBody().appendChild(l),p||((r=W()).appendChild(d),u.default.getBody().appendChild(r)),d.attributes.direction&&(l.dir=d.attributes.direction.textContent),H(c,e,n,i,o),(0,f.fromPromise)(s(d,l,p&&(0,h.contains)(u.default.getBody(),t))).then((function(){return l})).always((function(){r&&u.default.getBody().removeChild(r),u.default.getBody().removeChild(l)}))}(t,i,o,s,e.margin,e.svgToCanvas).then((function(t){return function(t,e){var n=t.toDataURL(e,1);return m.atob(n.substring(("data:"+e+";base64,").length))}(t,n)}))},getData:function(t,e){var n=this;return K.getImageData(t,e).then((function(t){var i="image/"+e.format;return(0,r.isFunction)(m.Blob)&&!e.forceProxy?n._getBlob(t,i):n._getBase64(t)}))},_getBlob:function(t,e){var n,i=new Uint8Array(t.length);for(n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return new m.Blob([i.buffer],{type:e})},_getBase64:function(t){return m.btoa(t)}};e.imageCreator=K},function(t,e,n){"use strict";e.getSvgMarkup=function(t,e){return function(t){var e=!0;-1===t.indexOf("xmlns:xlink")&&(t=t.replace("<svg",'<svg xmlns:xlink="http://www.w3.org/1999/xlink"'));return(t=t.replace(/xmlns="[\s\S]*?"/gi,(function(t){return e?(e=!1,t):""}))).replace(/xmlns:NS1="[\s\S]*?"/gi,"").replace(/NS1:xmlns:xlink="([\s\S]*?)"/gi,'xmlns:xlink="$1"')}((n=function(t,e){var n=i.default.createElement("div"),o=t.cloneNode(!0);return e&&(0,r.default)(o).css("backgroundColor",e),n.appendChild(o),n.innerHTML}(t,e),n.replace(/&quot;/gi,"&#34;").replace(/&amp;/gi,"&#38;").replace(/&apos;/gi,"&#39;").replace(/&lt;/gi,"&#60;").replace(/&gt;/gi,"&#62;").replace(/&nbsp;/gi,"&#160;").replace(/&shy;/gi,"&#173;")));var n},e.getSvgElement=function(t){return i.default.isNode(t)?t:(new s.DOMParser).parseFromString(t,"image/svg+xml").childNodes[0]};var i=a(n(16)),o=n(14),r=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,o.getWindow)()},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var o=n(0),r=n(188),a=n(551),s=function(t){function e(e){var n=t.call(this,e)||this;return n._extensionCreators=[],n._registerExtension=n._registerExtension.bind(n),n}return i(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._createWidget(),this._createExtensions()},e.prototype.renderChildren=function(){var t=this;return o.Children.map(this.props.children,(function(e){return e&&a.ExtensionComponent.isPrototypeOf(e.type)?o.cloneElement(e,{onMounted:t._registerExtension}):e}))},e.prototype._registerExtension=function(t){this._extensionCreators.push(t)},e.prototype._createExtensions=function(){var t=this;this._extensionCreators.forEach((function(e){return e(t._element)}))},e}(r.ComponentBase);e.Component=s},function(t,e,n){"use strict";e.Event=e.triggerHandler=e.trigger=e.off=e.one=e.on=void 0;var i,o=(i=n(7))&&i.__esModule?i:{default:i};var r=o.default.on;e.on=r;var a=o.default.one;e.one=a;var s=o.default.off;e.off=s;var l=o.default.trigger;e.trigger=l;var u=o.default.triggerHandler;e.triggerHandler=u;var h=o.default.Event;e.Event=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findValue=e.buildTemplates=e.buildNode=e.buildConfig=e.ValueType=void 0;var i,o=n(150);function r(t,e){var n={};return{templates:n,options:a(t,n,e)}}function a(t,e,n){for(var i={},o=0,r=Object.keys(t.predefinedOptions);o<r.length;o++){i[m=r[o]]=t.predefinedOptions[m]}for(var l=0,u=Object.keys(t.configs);l<u.length;l++){i[m=u[l]]=a(t.configs[m],e,n)}for(var h=0,c=Object.keys(t.configCollections);h<c.length;h++){i[m=c[h]]=t.configCollections[m].map((function(t){return a(t,e,n)}))}if(!n)for(var d=0,f=Object.keys(t.initialOptions);d<f.length;d++){i[m=f[d]]=t.initialOptions[m]}for(var p=0,g=Object.keys(t.options);p<g.length;p++){var m;i[m=g[p]]=t.options[m]}return s(t,i,e),i}function s(t,e,n){t.templates.map((function(i){if(i.isAnonymous){var r=o.mergeNameParts(t.fullName,i.optionName);e[i.optionName]=r,n[r]=i}else n[i.optionName]=i}))}e.buildConfig=r,e.buildNode=a,e.buildTemplates=s,function(t){t[t.Simple=0]="Simple",t[t.Complex=1]="Complex",t[t.Array=2]="Array"}(i||(i={})),e.ValueType=i,e.findValue=function t(e,n){var s=n.shift();if(!s)return{value:r(e,!0).options,type:i.Complex};var l=o.parseOptionName(s);if(l.name in e.options)return function t(e,n){if(null===e||void 0===e)return;var o=n.shift();if(!o)return{value:e,type:i.Simple};return t(e[o],n)}(l.isCollectionItem?e.options[l.name][l.index]:e.options[l.name],n);if(l.isCollectionItem){var u=e.configCollections[l.name];if(!u)return;var h=u[l.index];if(!h)return;return t(h,n)}var c=e.configs[l.name];if(c)return t(c,n);var d=e.configCollections[l.name];if(d){if(0!==n.length)return;return{value:d.map((function(t){return a(t,{},!0)})),type:i.Array}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.capitalizeFirstLetter=e.DoubleKeyMap=e.generateID=void 0,e.generateID=function(){return Math.random().toString(36).substr(2)};var i=function(){function t(){this._map=new Map}return t.prototype.set=function(t,e){var n=t.key1,i=t.key2,o=this._map.get(n);o||(o=new Map,this._map.set(n,o)),o.set(i,e)},t.prototype.get=function(t){var e=t.key1,n=t.key2,i=this._map.get(e);return i?i.get(n):void 0},t.prototype.delete=function(t){var e=t.key1,n=t.key2,i=this._map.get(e);i&&(i.delete(n),0===i.size&&this._map.delete(e))},t}();e.DoubleKeyMap=i,e.capitalizeFirstLetter=function(t){return t.length?""+t[0].toUpperCase()+t.substr(1):""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.separateProps=e.getClassName=e.elementPropNames=void 0;var i=["style","id"];e.elementPropNames=i;e.separateProps=function(t,e,n){var o={},r={},a={},s={};return(n=n||[]).forEach((function(t){s[t.component]=!0,s[t.render]=!0})),Object.keys(t).forEach((function(n){var l=e?e[n]:null;(function(t){return"children"===t||"className"===t||i.indexOf(t)>-1})(n)||(l?o[l]=t[n]:s[n]?a[n]=t[n]:r[n]=t[n])})),{options:r,defaults:o,templates:a}},e.getClassName=function(t){return t.className}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementType=e.getElementInfo=void 0;var i,o=n(549);!function(t){t[t.Option=0]="Option",t[t.Template=1]="Template",t[t.Unknown=2]="Unknown"}(i||(i={})),e.ElementType=i,e.getElementInfo=function(t,e){var n=t;if(!n||!n.type)return{type:i.Unknown};if(n.type===o.Template)return{type:i.Template,props:n.props};var r=n.type;if(r.OptionName){var a=r.OptionName,s=r.IsCollectionItem,l=e&&e[a];return l&&(s=l.isCollectionItem,l.optionName&&(a=l.optionName)),{type:i.Option,descriptor:{name:a,isCollection:s,templates:r.TemplateProps||[],initialValuesProps:r.DefaultsProps||{},predefinedValuesProps:r.PredefinedProps||{},expectedChildren:r.ExpectedChildren||{}},props:n.props}}return{type:i.Unknown}}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(270),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){var t=o.Children.map(this.props.children,(function(t){return r.getElementInfo(t).type===r.ElementType.Option?t:null}));return o.createElement(o.Fragment,{},t)},e}(o.PureComponent);e.default=a},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(61),o=n(556),r=n(558),a=n(559),s=n(560),l=n(274);t.exports=function(t){return new Promise((function(e,u){var h=t.data,c=t.headers;i.isFormData(h)&&delete c["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",p=t.auth.password||"";c.Authorization="Basic "+btoa(f+":"+p)}if(d.open(t.method.toUpperCase(),r(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};o(e,u,i),d=null}},d.onerror=function(){u(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){u(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var g=n(561),m=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;m&&(c[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&i.forEach(c,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete c[e]:d.setRequestHeader(e,t)})),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(v){if("json"!==t.responseType)throw v}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),u(t),d=null)})),void 0===h&&(h=null),d.send(h)}))}},function(t,e,n){"use strict";var i=n(557);t.exports=function(t,e,n,o,r){var a=new Error(t);return i(a,e,n,o,r)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i=n(198),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return i.isMemo(t)?a:s[t.$$typeof]||o}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var u=Object.defineProperty,h=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(p){var o=f(n);o&&o!==p&&t(e,o,i)}var a=h(n);c&&(a=a.concat(c(n)));for(var s=l(e),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!r[v]&&(!i||!i[v])&&(!g||!g[v])&&(!s||!s[v])){var y=d(n,v);try{u(e,v,y)}catch(_){}}}}return e}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return lt}));var i=n(62),o=n(43),r=n(9),a=n(10),s=n(12),l=n(11),u=n(279),h=n.n(u);function c(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var d=c((function(t,e){t.exports=function t(){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,i=n&&/blob:/i.test((e.location||{}).protocol),o={},r=0,a={parse:function(n,i){var s=(i=i||{}).dynamicTyping||!1;if(C(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!C(i.transform)&&i.transform,i.worker&&a.WORKERS_SUPPORTED){var l=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,i,s=(n=e.URL||e.webkitURL||null,i=t.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["(",i,")();"],{type:"text/javascript"})))),l=new e.Worker(s);return l.onmessage=y,l.id=r++,o[l.id]=l,l}();return l.userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=C(i.step),i.chunk=C(i.chunk),i.complete=C(i.complete),i.error=C(i.error),delete i.worker,void l.postMessage({input:n,config:i,workerId:l.id})}var h=null;return n===a.NODE_STREAM_INPUT&&"undefined"==typeof PAPA_BROWSER_CONTEXT?(h=new p(i)).getStream():("string"==typeof n?h=i.download?new u(i):new d(i):!0===n.readable&&C(n.read)&&C(n.on)?h=new f(i):(e.File&&n instanceof File||n instanceof Object)&&(h=new c(i)),h.stream(n))},unparse:function(t,e){var n=!1,i=!0,o=",",r="\r\n",s='"',l=s+s,u=!1,h=null;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(o=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(u=e.skipEmptyLines),"string"==typeof e.newline&&(r=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(i=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");h=e.columns}void 0!==e.escapeChar&&(l=e.escapeChar+s)}}();var c=new RegExp(m(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return f(null,t,u);if("object"==typeof t[0])return f(h||d(t[0]),t,u)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:d(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),f(t.fields||[],t.data||[],u);throw new Error("Unable to serialize unrecognized input");function d(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function f(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&t.length>0,l=!Array.isArray(e[0]);if(s&&i){for(var u=0;u<t.length;u++)u>0&&(a+=o),a+=p(t[u],u);e.length>0&&(a+=r)}for(var h=0;h<e.length;h++){var c=s?t.length:e[h].length,d=!1,f=s?0===Object.keys(e[h]).length:0===e[h].length;if(n&&!s&&(d="greedy"===n?""===e[h].join("").trim():1===e[h].length&&0===e[h][0].length),"greedy"===n&&s){for(var g=[],m=0;m<c;m++){var v=l?t[m]:m;g.push(e[h][v])}d=""===g.join("").trim()}if(!d){for(var y=0;y<c;y++){y>0&&!f&&(a+=o);var _=s&&l?t[y]:y;a+=p(e[h][_],y)}h<e.length-1&&(!n||c>0&&!f)&&(a+=r)}}return a}function p(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);var i=t.toString().replace(c,l);return"boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}(i,a.BAD_DELIMITERS)||i.indexOf(o)>-1||" "===i.charAt(0)||" "===i.charAt(i.length-1)?s+i+s:i}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=v,a.ParserHandle=g,a.NetworkStreamer=u,a.FileStreamer=c,a.StringStreamer=d,a.ReadableStreamStreamer=f,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(a.DuplexStreamStreamer=p),e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var n=t.config||{},i=[];return this.each((function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)i.push({file:this.files[o],inputElem:this,instanceConfig:s.extend({},n)})})),o(),this;function o(){if(0!==i.length){var e,n,o,l=i[0];if(C(t.before)){var u=t.before(l.file,l.inputElem);if("object"==typeof u){if("abort"===u.action)return"AbortError",e=l.file,n=l.inputElem,o=u.reason,void(C(t.error)&&t.error({name:"AbortError"},e,n,o));if("skip"===u.action)return void r();"object"==typeof u.config&&(l.instanceConfig=s.extend(l.instanceConfig,u.config))}else if("skip"===u)return void r()}var h=l.instanceConfig.complete;l.instanceConfig.complete=function(t){C(h)&&h(t,l.file,l.inputElem),r()},a.parse(l.file,l.instanceConfig)}else C(t.complete)&&t.complete()}function r(){i.splice(0,1),o()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=x(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new g(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&C(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(t);void 0!==o&&(t=o)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+t;this._partialLine="";var s=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=r.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)e.postMessage({results:s,workerId:a.WORKER_ID,finished:u});else if(C(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!C(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){C(this._config.error)?this._config.error(t):i&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function u(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),l.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||e.status>=400?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function c(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),l.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,o)}var r=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function d(t){var e;t=t||{},l.call(this,t),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function f(t){t=t||{},l.call(this,t);var e=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(t){var e=h.a.Duplex,n=x(t),i=!0,o=!1,r=[],a=null;this._onCsvData=function(t){var e=t.data;a.push(e)||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){a.push(null)},n.step=w(this._onCsvData,this),n.complete=w(this._onCsvComplete,this),l.call(this,n),this._nextChunk=function(){o&&1===r.length&&(this._finished=!0),r.length?r.shift()():i=!0},this._addToParseQueue=function(t,e){r.push(w((function(){if(this.parseChunk("string"==typeof t?t:t.toString(n.encoding)),C(e))return e()}),this)),i&&(i=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(t,e,n){this._addToParseQueue(t,n)},this._onWriteComplete=function(){o=!0,this._addToParseQueue("")},this.getStream=function(){return a},(a=new e({readableObjectMode:!0,decodeStrings:!1,read:w(this._onRead,this),write:w(this._onWrite,this)})).once("finish",w(this._onWriteComplete,this))}function g(t){var e,n,i,o=Math.pow(2,53),r=-o,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,l=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,u=this,h=0,c=0,d=!1,f=!1,p=[],g={data:[],errors:[],meta:{}};if(C(t.step)){var y=t.step;t.step=function(e){if(g=e,w())b();else{if(b(),0===g.data.length)return;h+=e.data.length,t.preview&&h>t.preview?n.abort():(g.data=g.data[0],y(g,u))}}}function _(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function b(){if(g&&i&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<g.data.length;e++)_(g.data[e])&&g.data.splice(e--,1);return w()&&function(){if(g)if(Array.isArray(g.data[0])){for(var e=0;w()&&e<g.data.length;e++)g.data[e].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(e){C(t.transformHeader)&&(e=t.transformHeader(e)),p.push(e)}}(),function(){if(!g||!t.header&&!t.dynamicTyping&&!t.transform)return g;function e(e,n){var i,o=t.header?{}:[];for(i=0;i<e.length;i++){var r=i,a=e[i];t.header&&(r=i>=p.length?"__parsed_extra":p[i]),t.transform&&(a=t.transform(a,r)),a=S(r,a),"__parsed_extra"===r?(o[r]=o[r]||[],o[r].push(a)):o[r]=a}return t.header&&(i>p.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+i,c+n):i<p.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+i,c+n)),o}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(e),n=g.data.length):g.data=e(g.data,0),t.header&&g.meta&&(g.meta.fields=p),c+=n,g}()}function w(){return t.header&&0===p.length}function S(e,n){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(s.test(t)){var e=parseFloat(t);if(e>r&&e<o)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n}function k(t,e,n,i){var o={type:t,code:e,message:n};void 0!==i&&(o.row=i),g.errors.push(o)}this.parse=function(o,r,s){var l=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(m(e)+"([^]*?)"+m(e),"gm"),i=(t=t.replace(n,"")).split("\r"),o=t.split("\n"),r=o.length>1&&o[0].length<i[0].length;if(1===i.length||r)return"\n";for(var a=0,s=0;s<i.length;s++)"\n"===i[s][0]&&a++;return a>=i.length/2?"\r\n":"\r"}(o,l)),i=!1,t.delimiter)C(t.delimiter)&&(t.delimiter=t.delimiter(o),g.meta.delimiter=t.delimiter);else{var u=function(e,n,i,o,r){var s,l,u,h;r=r||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var c=0;c<r.length;c++){var d=r[c],f=0,p=0,g=0;u=void 0;for(var m=new v({comments:o,delimiter:d,newline:n,preview:10}).parse(e),y=0;y<m.data.length;y++)if(i&&_(m.data[y]))g++;else{var b=m.data[y].length;p+=b,void 0!==u?b>0&&(f+=Math.abs(b-u),u=b):u=b}m.data.length>0&&(p/=m.data.length-g),(void 0===l||f<=l)&&(void 0===h||p>h)&&p>1.99&&(l=f,s=d,h=p)}return t.delimiter=s,{successful:!!s,bestDelimiter:s}}(o,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);u.successful?t.delimiter=u.bestDelimiter:(i=!0,t.delimiter=a.DefaultDelimiter),g.meta.delimiter=t.delimiter}var h=x(t);return t.preview&&t.header&&h.preview++,e=o,n=new v(h),g=n.parse(e,r,s),b(),d?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),e=C(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(d=!1,u.streamer.parseChunk(e,!0)):setTimeout(u.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),g.meta.aborted=!0,C(t.complete)&&t.complete(g),e=""}}function m(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(t){var e,n=(t=t||{}).delimiter,i=t.newline,o=t.comments,r=t.step,s=t.preview,l=t.fastMode,u=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof n||a.BAD_DELIMITERS.indexOf(n)>-1)&&(n=","),o===n)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||a.BAD_DELIMITERS.indexOf(o)>-1)&&(o=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var h=0,c=!1;this.parse=function(t,a,d){if("string"!=typeof t)throw new Error("Input must be a string");var f=t.length,p=n.length,g=i.length,v=o.length,y=C(r);h=0;var _=[],b=[],x=[],w=0;if(!t)return F();if(l||!1!==l&&-1===t.indexOf(e)){for(var S=t.split(i),k=0;k<S.length;k++){if(x=S[k],h+=x.length,k!==S.length-1)h+=i.length;else if(d)return F();if(!o||x.substring(0,v)!==o){if(y){if(_=[],A(x.split(n)),L(),c)return F()}else A(x.split(n));if(s&&k>=s)return _=_.slice(0,s),F(!0)}}return F()}for(var E=t.indexOf(n,h),I=t.indexOf(i,h),T=new RegExp(m(u)+m(e),"g"),D=t.indexOf(e,h);;)if(t[h]!==e)if(o&&0===x.length&&t.substring(h,h+v)===o){if(-1===I)return F();h=I+g,I=t.indexOf(i,h),E=t.indexOf(n,h)}else{if(-1!==E&&(E<I||-1===I)){if(!(D>E)){x.push(t.substring(h,E)),h=E+p,E=t.indexOf(n,h);continue}var M=V(E,D,I);if(M&&void 0!==M.nextDelim){E=M.nextDelim,D=M.quoteSearch,x.push(t.substring(h,E)),h=E+p,E=t.indexOf(n,h);continue}}if(-1===I)break;if(x.push(t.substring(h,I)),N(I+g),y&&(L(),c))return F();if(s&&_.length>=s)return F(!0)}else for(D=h,h++;;){if(-1===(D=t.indexOf(e,D+1)))return d||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:h}),B();if(D===f-1)return B(t.substring(h,D).replace(T,e));if(e!==u||t[D+1]!==u){if(e===u||0===D||t[D-1]!==u){-1!==E&&E<D+1&&(E=t.indexOf(n,D+1)),-1!==I&&I<D+1&&(I=t.indexOf(i,D+1));var O=R(-1===I?E:Math.min(E,I));if(t[D+1+O]===n){x.push(t.substring(h,D).replace(T,e)),h=D+1+O+p,t[D+1+O+p]!==e&&(D=t.indexOf(e,h)),E=t.indexOf(n,h),I=t.indexOf(i,h);break}var P=R(I);if(t.substring(D+1+P,D+1+P+g)===i){if(x.push(t.substring(h,D).replace(T,e)),N(D+1+P+g),E=t.indexOf(n,h),D=t.indexOf(e,h),y&&(L(),c))return F();if(s&&_.length>=s)return F(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:h}),D++}}else D++}return B();function A(t){_.push(t),w=h}function R(e){var n=0;if(-1!==e){var i=t.substring(D+1,e);i&&""===i.trim()&&(n=i.length)}return n}function B(e){return d||(void 0===e&&(e=t.substring(h)),x.push(e),h=f,A(x),y&&L()),F()}function N(e){h=e,A(x),x=[],I=t.indexOf(i,h)}function F(t){return{data:_,errors:b,meta:{delimiter:n,linebreak:i,aborted:c,truncated:!!t,cursor:w+(a||0)}}}function L(){r(F()),_=[],b=[]}function V(i,o,r){var a={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,o+1);if(i>o&&i<s&&(s<r||-1===r)){var l=t.indexOf(n,s);if(-1===l)return a;l>s&&(s=t.indexOf(e,s+1)),a=V(l,s,r)}else a={nextDelim:i,quoteSearch:o};return a}},this.abort=function(){c=!0},this.getCharIndex=function(){return h}}function y(t){var e=t.data,n=o[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){i=!0,_(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(C(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},r),!i);a++);delete e.results}else C(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!i&&_(e.workerId,e.results)}function _(t,e){var n=o[t];C(n.userComplete)&&n.userComplete(e),n.terminate(),delete o[t]}function b(){throw new Error("Not implemented.")}function x(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=x(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function C(t){return"function"==typeof t}return i&&(e.onmessage=function(t){var n=t.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var i=a.parse(n.input,n.config);i&&e.postMessage({workerId:a.WORKER_ID,results:i,finished:!0})}}),u.prototype=Object.create(l.prototype),u.prototype.constructor=u,c.prototype=Object.create(l.prototype),c.prototype.constructor=c,d.prototype=Object.create(d.prototype),d.prototype.constructor=d,f.prototype=Object.create(l.prototype),f.prototype.constructor=f,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(p.prototype=Object.create(l.prototype),p.prototype.constructor=p),a}()})),f=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function m(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var v=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,i,o=m(t),r=1;r<arguments.length;r++){for(var a in n=Object(arguments[r]))p.call(n,a)&&(o[a]=n[a]);if(f){i=f(n);for(var s=0;s<i.length;s++)g.call(n,i[s])&&(o[i[s]]=n[i[s]])}}return o},y="function"==typeof Symbol&&Symbol.for,_=y?Symbol.for("react.element"):60103,b=y?Symbol.for("react.portal"):60106,x=y?Symbol.for("react.fragment"):60107,w=y?Symbol.for("react.strict_mode"):60108,C=y?Symbol.for("react.profiler"):60114,S=y?Symbol.for("react.provider"):60109,k=y?Symbol.for("react.context"):60110,E=y?Symbol.for("react.forward_ref"):60112,I=y?Symbol.for("react.suspense"):60113,T=y?Symbol.for("react.memo"):60115,D=y?Symbol.for("react.lazy"):60116,M="function"==typeof Symbol&&Symbol.iterator;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A={};function R(t,e,n){this.props=t,this.context=e,this.refs=A,this.updater=n||P}function B(){}function N(t,e,n){this.props=t,this.context=e,this.refs=A,this.updater=n||P}R.prototype.isReactComponent={},R.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(O(85));this.updater.enqueueSetState(this,t,e,"setState")},R.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},B.prototype=R.prototype;var F=N.prototype=new B;F.constructor=N,v(F,R.prototype),F.isPureReactComponent=!0;var L={current:null},V=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function z(t,e,n){var i,o={},r=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(r=""+e.key),e)V.call(e,i)&&!j.hasOwnProperty(i)&&(o[i]=e[i]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(i in s=t.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:_,type:t,key:r,ref:a,props:o,_owner:L.current}}function H(t){return"object"==typeof t&&null!==t&&t.$$typeof===_}var W=/\/+/g,G=[];function K(t,e,n,i){if(G.length){var o=G.pop();return o.result=t,o.keyPrefix=e,o.func=n,o.context=i,o.count=0,o}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function $(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>G.length&&G.push(t)}function U(t,e,n){return null==t?0:function t(e,n,i,o){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var a=!1;if(null===e)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _:case b:a=!0}}if(a)return i(o,e,""===n?"."+q(e,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=n+q(r=e[s],s);a+=t(r,l,i,o)}else if("function"==typeof(l=null===e||"object"!=typeof e?null:"function"==typeof(l=M&&e[M]||e["@@iterator"])?l:null))for(e=l.call(e),s=0;!(r=e.next()).done;)a+=t(r=r.value,l=n+q(r,s++),i,o);else if("object"===r)throw i=""+e,Error(O(31,"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,""));return a}(t,"",e,n)}function q(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function Y(t,e){t.func.call(t.context,e,t.count++)}function X(t,e,n){var i=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?Z(t,i,n,(function(t){return t})):null!=t&&(H(t)&&(t=function(t,e){return{$$typeof:_,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(W,"$&/")+"/")+n)),i.push(t))}function Z(t,e,n,i,o){var r="";null!=n&&(r=(""+n).replace(W,"$&/")+"/"),U(t,X,e=K(e,r,i,o)),$(e)}var J={current:null};function Q(){var t=J.current;if(null===t)throw Error(O(321));return t}var tt={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return Z(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;U(t,Y,e=K(null,null,e,n)),$(e)},count:function(t){return U(t,(function(){return null}),null)},toArray:function(t){var e=[];return Z(t,e,null,(function(t){return t})),e},only:function(t){if(!H(t))throw Error(O(143));return t}},Component:R,Fragment:x,Profiler:C,PureComponent:N,StrictMode:w,Suspense:I,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:J,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:L,IsSomeRendererActing:{current:!1},assign:v},cloneElement:function(t,e,n){if(null==t)throw Error(O(267,t));var i=v({},t.props),o=t.key,r=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(r=e.ref,a=L.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)V.call(e,l)&&!j.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==s?s[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}return{$$typeof:_,type:t.type,key:o,ref:r,props:i,_owner:a}},createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:k,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:S,_context:t},t.Consumer=t},createElement:z,createFactory:function(t){var e=z.bind(null,t);return e.type=t,e},createRef:function(){return{current:null}},forwardRef:function(t){return{$$typeof:E,render:t}},isValidElement:H,lazy:function(t){return{$$typeof:D,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:T,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return Q().useCallback(t,e)},useContext:function(t,e){return Q().useContext(t,e)},useDebugValue:function(){},useEffect:function(t,e){return Q().useEffect(t,e)},useImperativeHandle:function(t,e,n){return Q().useImperativeHandle(t,e,n)},useLayoutEffect:function(t,e){return Q().useLayoutEffect(t,e)},useMemo:function(t,e){return Q().useMemo(t,e)},useReducer:function(t,e,n){return Q().useReducer(t,e,n)},useRef:function(t){return Q().useRef(t)},useState:function(t){return Q().useState(t)},version:"16.13.1"};function et(t,e,n,i,o){}et.resetWarningCache=function(){};var nt=c((function(t,e){})),it=(nt.Children,nt.Component,nt.Fragment,nt.Profiler,nt.PureComponent,nt.StrictMode,nt.Suspense,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nt.cloneElement,nt.createContext,nt.createElement,nt.createFactory,nt.createRef,nt.forwardRef,nt.isValidElement,nt.lazy,nt.memo,nt.useCallback,nt.useContext,nt.useDebugValue,nt.useEffect,nt.useImperativeHandle,nt.useLayoutEffect,nt.useMemo,nt.useReducer,nt.useRef,nt.useState,nt.version,c((function(t){t.exports=tt})));function ot(t){return it.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 512 512"},it.createElement("path",{fill:t.color,d:"M504.1 256C504.1 119 393 7.9 256 7.9S7.9 119 7.9 256 119 504.1 256 504.1 504.1 393 504.1 256z"}),it.createElement("path",{fill:"#FFF",d:"M285 256l72.5-84.2c7.9-9.2 6.9-23-2.3-31-9.2-7.9-23-6.9-30.9 2.3L256 222.4l-68.2-79.2c-7.9-9.2-21.8-10.2-31-2.3-9.2 7.9-10.2 21.8-2.3 31L227 256l-72.5 84.2c-7.9 9.2-6.9 23 2.3 31 4.1 3.6 9.2 5.3 14.3 5.3 6.2 0 12.3-2.6 16.6-7.6l68.2-79.2 68.2 79.2c4.3 5 10.5 7.6 16.6 7.6 5.1 0 10.2-1.7 14.3-5.3 9.2-7.9 10.2-21.8 2.3-31L285 256z"}))}var rt={progressBar:{borderRadius:3,boxShadow:"inset 0 1px 3px rgba(0, 0, 0, .2)",bottom:14,position:"absolute",width:"80%"},buttonProgressBar:{position:"inherit",width:"100%"},progressBarFill:{backgroundColor:"#659cef",borderRadius:3,height:10,transition:"width 500ms ease-in-out"}},at=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var t=this.props,e=t.progressBarColor,n=t.progressBar,i=t.displayProgressBarStatus,o=t.isButtonProgressBar;return it.createElement("div",{style:Object.assign({},rt.progressBar,o&&rt.buttonProgressBar)},it.createElement("span",{style:Object.assign({},rt.progressBarFill,{backgroundColor:e||"#659cef"},{width:n+"%",display:i})}))}}]),n}(it.Component),st={dropArea:{alignItems:"center",borderColor:"#CCC",borderStyle:"dashed",borderWidth:2,borderRadius:20,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",padding:20},inputFile:{display:"none"},highlight:{borderColor:"purple"},unhighlight:{borderColor:"#CCC"},dropFile:{background:"linear-gradient(to bottom, #eee, #ddd)",borderRadius:20,display:"block",height:120,width:100,paddingLeft:10,paddingRight:10,position:"relative",zIndex:10},column:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},fileSizeInfo:{backgroundColor:"rgba(255, 255, 255, 0.4)",borderRadius:3,lineHeight:1,marginBottom:"0.5em",padding:"0 0.4em"},fileNameInfo:{backgroundColor:"rgba(255, 255, 255, 0.4)",borderRadius:3,fontSize:14,lineHeight:1,padding:"0 0.4em"},defaultCursor:{cursor:"default"},pointerCursor:{cursor:"pointer"},dropFileRemoveButton:{height:23,position:"absolute",right:6,top:6,width:23}},lt=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).inputFileRef=it.createRef(),t.dropAreaRef=it.createRef(),t.fileSizeInfoRef=it.createRef(),t.fileNameInfoRef=it.createRef(),t.REMOVE_ICON_COLOR=t.props.removeButtonColor||"#A01919",t.REMOVE_ICON_COLOR_LIGHT=function(t,e){var n=!1;"#"==t[0]&&(t=t.slice(1),n=!0);var i=parseInt(t,16),o=40+(i>>16);o>255?o=255:o<0&&(o=0);var r=40+(i>>8&255);r>255?r=255:r<0&&(r=0);var a=40+(255&i);return a>255?a=255:a<0&&(a=0),(n?"#":"")+(a|r<<8|o<<16).toString(16)}(t.REMOVE_ICON_COLOR),t.state={dropAreaStyle:st.dropArea,progressBar:0,displayProgressBarStatus:"none",file:null,timeout:null,files:null,removeIconColor:t.REMOVE_ICON_COLOR,isCanceled:!1},t.componentDidMount=function(){var e=t.dropAreaRef.current;["dragenter","dragover","dragleave","drop"].forEach((function(n){e.addEventListener(n,t.preventDefaults,!1)})),t.props.noDrag||(["dragenter","dragover"].forEach((function(n){e.addEventListener(n,t.highlight,!1)})),e.addEventListener("dragleave",t.unhighlight,!1),e.addEventListener("drop",t.unhighlight,!1),e.addEventListener("drop",t.visibleProgressBar,!1),e.addEventListener("drop",t.handleDrop,!1))},t.componentWillUnmount=function(){var e=t.dropAreaRef.current;["dragenter","dragover","dragleave","drop"].forEach((function(n){e.removeEventListener(n,t.preventDefaults,!1)})),t.props.noDrag||(["dragenter","dragover"].forEach((function(n){e.removeEventListener(n,t.highlight,!1)})),e.removeEventListener("dragleave",t.unhighlight,!1),e.removeEventListener("drop",t.unhighlight,!1),e.removeEventListener("drop",t.visibleProgressBar,!1),e.removeEventListener("drop",t.handleDrop,!1))},t.preventDefaults=function(t){t.preventDefault(),t.stopPropagation()},t.highlight=function(){t.setState({dropAreaStyle:Object.assign({},st.dropArea,st.highlight)}),t.setState({progressBar:0})},t.unhighlight=function(){t.setState({dropAreaStyle:Object.assign({},st.dropArea,st.unhighlight)})},t.visibleProgressBar=function(){t.setState({displayProgressBarStatus:"block"})},t.handleDrop=function(e){var n=null,i=!1;0===(n=void 0===e.files?e.dataTransfer.files:e.files).length&&(n=t.state.files,i=!0),t.setState({files:n,isCanceled:i},(function(){t.handleFiles()}))},t.handleFiles=function(){t.setState({progressBar:0});Object(i.a)(t.state.files).forEach(t.uploadFile)},t.uploadFile=function(e){t.displayFileInfo(e),t.setState({file:e});var n=t.props,i=n.onDrop,r=n.onFileLoad,a=n.onError,s=n.config,l=void 0===s?{}:s,u=new window.FileReader,h={};l.error&&delete l.error,l.step&&delete l.step,l.complete&&delete l.complete;var c=e.size,f=[],p=0;if(i||r){var g=Object(o.a)(t);h=Object.assign({complete:function(){!i&&r?r(f,e):i&&!r&&i(f,e)},step:function(t){if(f.push(t),l&&l.preview)p=Math.round(f.length/l.preview*100),g.setState({progressBar:p}),f.length===l.preview&&(!i&&r?r(f,e):i&&!r&&i(f,e));else{var n=t.meta.cursor,o=Math.round(n/c*100);if(o===p)return;p=o}g.setState({progressBar:p})}},h)}a&&(h=Object.assign({error:a},h)),l&&(h=Object.assign(l,h)),u.onload=function(t){d.parse(t.target.result,h)},u.onloadend=function(){clearTimeout(t.state.timeout),t.setState({timeout:setTimeout((function(){t.disableProgressBar()}),2e3)})},u.readAsText(e,l.encoding||"utf-8")},t.displayFileInfo=function(e){t.childrenIsFunction()||(t.fileSizeInfoRef.current.innerHTML=function(t){if(t<1048576){var e=Number((t/1024).toFixed(0));return e<=0?t+" B":e+" KB"}return t<1073741824?(t/1048576).toFixed(0)+" MB":t<1099511627776?(t/1073741824).toFixed(0)+" GB":""}(e.size),t.fileNameInfoRef.current.innerHTML=e.name)},t.disableProgressBar=function(){t.setState({displayProgressBarStatus:"none"})},t.childrenIsFunction=function(){return"function"==typeof t.props.children},t.fileChange=function(e){var n=e.target;t.setState({displayProgressBarStatus:"block"},(function(){t.handleDrop(n)}))},t.open=function(e){var n=t.state.displayProgressBarStatus;e&&"none"===n&&(t.preventDefaults(e),t.inputFileRef.current.value=null,t.inputFileRef.current.click())},t.renderChildren=function(){return t.childrenIsFunction()?t.props.children({file:t.state.file}):t.props.children},t.removeFile=function(e){if(e){e.stopPropagation(),t.setState({files:null,file:null});var n=t.props.onRemoveFile;n&&n(null),t.inputFileRef.current.value=null}},t.changeRemoveIconColor=function(e){e&&t.setState({removeIconColor:e})},t.renderDropFileRemoveButton=function(){var e=t.props.addRemoveButton,n=t.state,i=n.removeIconColor,o=n.displayProgressBarStatus;return e&&"none"===o?it.createElement("div",{style:st.dropFileRemoveButton,onClick:function(e){return t.removeFile(e)},onMouseOver:function(){return t.changeRemoveIconColor(t.REMOVE_ICON_COLOR_LIGHT)},onMouseOut:function(){return t.changeRemoveIconColor(t.REMOVE_ICON_COLOR)}},it.createElement(ot,{color:i})):e?it.createElement("div",{style:st.dropFileRemoveButton},it.createElement(ot,{color:t.REMOVE_ICON_COLOR})):null},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.style,i=e.noClick,o=e.children,r=e.progressBarColor,a=this.state,s=a.dropAreaStyle,l=a.files,u=a.isCanceled,h=a.progressBar,c=a.displayProgressBarStatus;return it.createElement(it.Fragment,null,it.createElement("input",{type:"file",accept:"text/csv",ref:this.inputFileRef,style:st.inputFile,onChange:function(e){return t.fileChange(e)}}),this.childrenIsFunction()?it.createElement("div",{ref:this.dropAreaRef},this.renderChildren(),l&&l.length>0&&!u&&!this.props.noProgressBar&&it.createElement(at,{progressBarColor:r||"",progressBar:h,displayProgressBarStatus:c,isButtonProgressBar:!0})):it.createElement("div",{ref:this.dropAreaRef,style:Object.assign({},n,s,void 0!==i||"block"===c?st.defaultCursor:st.pointerCursor),onClick:function(e){i||t.open(e)}},l&&l.length>0?it.createElement("div",{style:Object.assign({},st.dropFile,st.column)},this.renderDropFileRemoveButton(),it.createElement("div",{style:st.column},it.createElement("span",{style:st.fileSizeInfo,ref:this.fileSizeInfoRef}),it.createElement("span",{style:st.fileNameInfo,ref:this.fileNameInfoRef})),l&&l.length>0&&!u&&!this.props.noProgressBar&&it.createElement(at,{progressBarColor:r||"",progressBar:h,displayProgressBarStatus:c})):o))}}]),n}(it.Component);d.BAD_DELIMETERS,d.RECORD_SEP,d.UNIT_SEP,d.WORKERS_SUPPORTED,d.LocalChunkSize,d.DefaultDelimiter}).call(this,n(53))},function(t,e,n){t.exports=o;var i=n(158).EventEmitter;function o(){i.call(this)}n(101)(o,i),o.Readable=n(159),o.Writable=n(307),o.Duplex=n(308),o.Transform=n(309),o.PassThrough=n(310),o.Stream=o,o.prototype.pipe=function(t,e){var n=this;function o(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",o),t.on("drain",r),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"===typeof t.destroy&&t.destroy())}function u(t){if(h(),0===i.listenerCount(this,"error"))throw t}function h(){n.removeListener("data",o),t.removeListener("drain",r),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return n.on("error",u),t.on("error",u),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t}},function(t,e,n){"use strict";var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,h=u&&u(Object);t.exports=function t(e,n,c){if("string"!==typeof n){if(h){var d=u(n);d&&d!==h&&t(e,d,c)}var f=a(n);s&&(f=f.concat(s(n)));for(var p=0;p<f.length;++p){var g=f[p];if(!i[g]&&!o[g]&&(!c||!c[g])){var m=l(n,g);try{r(e,g,m)}catch(v){}}}return e}return e}},function(t,e,n){"use strict";function i(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0);function o(){var t=Object(i.useRef)(!0),e=Object(i.useRef)((function(){return t.current}));return Object(i.useEffect)((function(){return function(){t.current=!1}}),[]),e.current}},function(t,e,n){var i,o;!function(r){t.exports?(r.default=r,t.exports=r):(i=[n(42)],void 0===(o=function(t){return r(t),r.Highcharts=t,r}.apply(e,i))||(t.exports=o))}((function(t){function e(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n))}e(t=t?t._modules:{},"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"],t["Mixins/CenteredSeries.js"]],(function(t,e,n,i,o){function r(t,e,n){return Math.sqrt(Math.pow(t-n[0],2)+Math.pow(e-n[1],2))<=n[2]/2}var a=i.addEvent,s=i.extend,l=i.merge,u=i.pick,h=i.splat;return t.prototype.collectionsWithUpdate.push("pane"),i=function(){function t(t,e){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(t,e)}return t.prototype.init=function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},t.prototype.setOptions=function(t){this.options=l(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},t.prototype.render=function(){var t=this.options,e=this.options.background,n=this.chart.renderer;if(this.group||(this.group=n.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),e)for(e=h(e),t=Math.max(e.length,this.background.length||0),n=0;n<t;n++)e[n]&&this.axis?this.renderBackground(l(this.defaultBackgroundOptions,e[n]),n):this.background[n]&&(this.background[n]=this.background[n].destroy(),this.background.splice(n,1))},t.prototype.renderBackground=function(t,e){var n="animate",i={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||s(i,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),n="attr"),this.background[e][n]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(i)},t.prototype.updateCenter=function(t){this.center=(t||this.axis||{}).center=o.getCenter.call(this)},t.prototype.update=function(t,e){l(!0,this.options,t),l(!0,this.chart.options.pane,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach((function(t){t.pane===this&&(t.pane=null,t.update({},e))}),this)},t}(),t.prototype.getHoverPane=function(t){var e,n=this;return t&&n.pane.forEach((function(i){var o=t.chartX-n.plotLeft,a=t.chartY-n.plotTop;r(n.inverted?a:o,n.inverted?o:a,i.center)&&(e=i)})),e},a(t,"afterIsInsidePlot",(function(t){this.polar&&(t.isInsidePlot=this.pane.some((function(e){return r(t.x,t.y,e.center)})))})),a(n,"beforeGetHoverData",(function(t){var e=this.chart;e.polar&&(e.hoverPane=e.getHoverPane(t),t.filter=function(n){return n.visible&&!(!t.shared&&n.directTouch)&&u(n.options.enableMouseTracking,!0)&&(!e.hoverPane||n.xAxis.pane===e.hoverPane)})})),a(n,"afterGetHoverData",(function(t){var e=this.chart;t.hoverPoint&&t.hoverPoint.plotX&&t.hoverPoint.plotY&&e.hoverPane&&!r(t.hoverPoint.plotX,t.hoverPoint.plotY,e.hoverPane.center)&&(t.hoverPoint=void 0)})),e.Pane=i,e.Pane})),e(t,"Core/Axis/HiddenAxis.js",[],(function(){return function(){function t(){}return t.init=function(t){t.getOffset=function(){},t.redraw=function(){this.isDirty=!1},t.render=function(){this.isDirty=!1},t.createLabelCollector=function(){return function(){}},t.setScale=function(){},t.setCategories=function(){},t.setTitle=function(){},t.isHidden=!0},t}()})),e(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/Axis.js"],t["Core/Axis/Tick.js"],t["Core/Axis/HiddenAxis.js"],t["Core/Utilities.js"]],(function(t,e,n,i){var o=i.addEvent,r=i.correctFloat,a=i.defined,s=i.extend,l=i.fireEvent,u=i.merge,h=i.pick,c=i.relativeLength,d=i.wrap;return(i=function(){function e(){}return e.init=function(e){var n=t.prototype;e.setOptions=function(t){(t=this.options=u(e.constructor.defaultOptions,this.defaultPolarOptions,t)).plotBands||(t.plotBands=[]),l(this,"afterSetOptions")},e.getOffset=function(){n.getOffset.call(this),this.chart.axisOffset[this.side]=0},e.getLinePath=function(t,e,n){t=this.pane.center;var i=this.chart,o=h(e,t[2]/2-this.offset);return"undefined"===typeof n&&(n=this.horiz?0:this.center&&-this.center[3]/2),n&&(o+=n),this.isCircular||"undefined"!==typeof e?((e=this.chart.renderer.symbols.arc(this.left+t[0],this.top+t[1],o,o,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[this.left+t[0]],e.yBounds=[this.top+t[1]-o]):(e=this.postTranslate(this.angleRad,o),e=[["M",this.center[0]+i.plotLeft,this.center[1]+i.plotTop],["L",e.x,e.y]]),e},e.setAxisTranslation=function(){n.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},e.beforeSetTickPositions=function(){this.autoConnect=this.isCircular&&"undefined"===typeof h(this.userMax,this.options.max)&&r(this.endAngleRad-this.startAngleRad)===r(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},e.setAxisSize=function(){if(n.setAxisSize.call(this),this.isRadial){this.pane.updateCenter(this);var t=this.center=s([],this.pane.center);if(this.isCircular)this.sector=this.endAngleRad-this.startAngleRad;else{var e=this.postTranslate(this.angleRad,t[3]/2);t[0]=e.x-this.chart.plotLeft,t[1]=e.y-this.chart.plotTop}this.len=this.width=this.height=(t[2]-t[3])*h(this.sector,1)/2}},e.getPosition=function(t,e){return t=this.translate(t),this.postTranslate(this.isCircular?t:this.angleRad,h(this.isCircular?e:0>t?0:t,this.center[2]/2)-this.offset)},e.postTranslate=function(t,e){var n=this.chart,i=this.center;return t=this.startAngleRad+t,{x:n.plotLeft+i[0]+Math.cos(t)*e,y:n.plotTop+i[1]+Math.sin(t)*e}},e.getPlotBandPath=function(t,e,n){var i=function(t){if("string"===typeof t){var e=parseInt(t,10);return l.test(t)&&(e=e*a/100),e}return t},o=this.center,r=this.startAngleRad,a=o[2]/2,s=Math.min(this.offset,0),l=/%$/,u=this.isCircular,c=h(i(n.outerRadius),a),d=i(n.innerRadius);if(i=h(i(n.thickness),10),"polygon"===this.options.gridLineInterpolation)s=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0}));else{if(t=Math.max(t,this.min),e=Math.min(e,this.max),t=this.translate(t),e=this.translate(e),u||(c=t||0,d=e||0),"circle"!==n.shape&&u)n=r+(t||0),r+=e||0;else{n=-Math.PI/2,r=1.5*Math.PI;var f=!0}c-=s,s=this.chart.renderer.symbols.arc(this.left+o[0],this.top+o[1],c,c,{start:Math.min(n,r),end:Math.max(n,r),innerR:h(d,c-(i-s)),open:f}),u&&(u=(r+n)/2,f=this.left+o[0]+o[2]/2*Math.cos(u),s.xBounds=u>-Math.PI/2&&u<Math.PI/2?[f,this.chart.plotWidth]:[0,f],s.yBounds=[this.top+o[1]+o[2]/2*Math.sin(u)],s.yBounds[0]+=u>-Math.PI&&0>u||u>Math.PI?-10:10)}return s},e.getCrosshairPosition=function(t,e,n){var i=t.value,o=this.pane.center;if(this.isCircular){if(a(i))t.point&&((r=t.point.shapeArgs||{}).start&&(i=this.chart.inverted?this.translate(t.point.rectPlotY,!0):t.point.x));else{var r=t.chartX||0,s=t.chartY||0;i=this.translate(Math.atan2(s-n,r-e)-this.startAngleRad,!0)}r=(t=this.getPosition(i)).x,s=t.y}else a(i)||(r=t.chartX,s=t.chartY),a(r)&&a(s)&&(n=o[1]+this.chart.plotTop,i=this.translate(Math.min(Math.sqrt(Math.pow(r-e,2)+Math.pow(s-n,2)),o[2]/2)-o[3]/2,!0));return[i,r||0,s||0]},e.getPlotLinePath=function(t){var e=this,n=e.pane.center,i=e.chart,o=i.inverted,r=t.value,a=t.reverse,s=e.getPosition(r),l=e.pane.options.background?e.pane.options.background[0]||e.pane.options.background:{},u=l.innerRadius||"0%",h=l.outerRadius||"100%";l=n[0]+i.plotLeft;var d,f=n[1]+i.plotTop,p=s.x,g=s.y,m=e.height;if(s=n[3]/2,t.isCrosshair&&(r=(g=this.getCrosshairPosition(t,l,f))[0],p=g[1],g=g[2]),e.isCircular)r=Math.sqrt(Math.pow(p-l,2)+Math.pow(g-f,2)),a="string"===typeof u?c(u,1):u/r,i="string"===typeof h?c(h,1):h/r,n&&s&&(a<(r=s/r)&&(a=r),i<r&&(i=r)),n=[["M",l+a*(p-l),f-a*(f-g)],["L",p-(1-i)*(p-l),g+(1-i)*(f-g)]];else if((r=e.translate(r))&&(0>r||r>m)&&(r=0),"circle"===e.options.gridLineInterpolation)n=e.getLinePath(0,r,s);else if(n=[],i[o?"yAxis":"xAxis"].forEach((function(t){t.pane===e.pane&&(d=t)})),d)for(l=d.tickPositions,d.autoConnect&&(l=l.concat([l[0]])),a&&(l=l.slice().reverse()),r&&(r+=s),p=0;p<l.length;p++)f=d.getPosition(l[p],r),n.push(p?["L",f.x,f.y]:["M",f.x,f.y]);return n},e.getTitlePosition=function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}},e.createLabelCollector=function(){var t=this;return function(){if(t.isRadial&&t.tickPositions&&!0!==t.options.labels.allowOverlap)return t.tickPositions.map((function(e){return t.ticks[e]&&t.ticks[e].label})).filter((function(t){return!!t}))}}},e.compose=function(t,i){o(t,"init",(function(i){var o,r=this.chart,a=r.inverted,s=r.angular,l=r.polar,h=this.isXAxis,c=this.coll,d=s&&h,f=r.options;i=i.userOptions.pane||0,i=this.pane=r.pane&&r.pane[i],"colorAxis"===c?this.isRadial=!1:(s?(d?n.init(this):e.init(this),(o=!h)&&(this.defaultPolarOptions=e.defaultRadialGaugeOptions)):l&&(e.init(this),this.defaultPolarOptions=(o=this.horiz)?e.defaultCircularOptions:u("xAxis"===c?t.defaultOptions:t.defaultYAxisOptions,e.defaultRadialOptions),a&&"yAxis"===c&&(this.defaultPolarOptions.stackLabels=t.defaultYAxisOptions.stackLabels)),s||l?(this.isRadial=!0,f.chart.zoomType=null,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&r.labelCollectors.push(this.labelCollector)):this.isRadial=!1,i&&o&&(i.axis=this),this.isCircular=o)})),o(t,"afterInit",(function(){var t=this.chart,e=this.options,n=this.pane,i=n&&n.options;t.angular&&this.isXAxis||!n||!t.angular&&!t.polar||(this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=(i.startAngle-90)*Math.PI/180,this.endAngleRad=(h(i.endAngle,i.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0)})),o(t,"autoLabelAlign",(function(t){this.isRadial&&(t.align=void 0,t.preventDefault())})),o(t,"destroy",(function(){if(this.chart&&this.chart.labelCollectors){var t=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=t&&this.chart.labelCollectors.splice(t,1)}})),o(t,"initialAxisTranslation",(function(){this.isRadial&&this.beforeSetTickPositions()})),o(i,"afterGetPosition",(function(t){this.axis.getPosition&&s(t.pos,this.axis.getPosition(this.pos))})),o(i,"afterGetLabelPosition",(function(t){var e=this.axis,n=this.label;if(n){var i=n.getBBox(),o=e.options.labels,r=o.y,a=20,s=o.align,l=(e.translate(this.pos)+e.startAngleRad+Math.PI/2)/Math.PI*180%360,u=Math.round(l),d="end",f=0>u?u+360:u,p=f,g=0,m=0,v=null===o.y?.3*-i.height:0;if(e.isRadial){var y=e.getPosition(this.pos,e.center[2]/2+c(h(o.distance,-25),e.center[2]/2,-e.center[2]/2));"auto"===o.rotation?n.attr({rotation:l}):null===r&&(r=e.chart.renderer.fontMetrics(n.styles&&n.styles.fontSize).b-i.height/2),null===s&&(e.isCircular?(i.width>e.len*e.tickInterval/(e.max-e.min)&&(a=0),s=l>a&&l<180-a?"left":l>180+a&&l<360-a?"right":"center"):s="center",n.attr({align:s})),"auto"===s&&2===e.tickPositions.length&&e.isCircular&&(90<f&&180>f?f=180-f:270<f&&360>=f&&(f=540-f),180<p&&360>=p&&(p=360-p),e.pane.options.startAngle!==u&&e.pane.options.startAngle!==u+360&&e.pane.options.startAngle!==u-360||(d="start"),s=-90<=u&&90>=u||-360<=u&&-270>=u||270<=u&&360>=u?"start"===d?"right":"left":"start"===d?"left":"right",70<p&&110>p&&(s="center"),15>f||180<=f&&195>f?g=.3*i.height:15<=f&&35>=f?g="start"===d?0:.75*i.height:195<=f&&215>=f?g="start"===d?.75*i.height:0:35<f&&90>=f?g="start"===d?.25*-i.height:i.height:215<f&&270>=f&&(g="start"===d?i.height:.25*-i.height),15>p?m="start"===d?.15*-i.height:.15*i.height:165<p&&180>=p&&(m="start"===d?.15*i.height:.15*-i.height),n.attr({align:s}),n.translate(m,g+v)),t.pos.x=y.x+o.x,t.pos.y=y.y+r}}})),d(i.prototype,"getMarkPath",(function(t,e,n,i,o,r,a){var s=this.axis;return s.isRadial?e=["M",e,n,"L",(t=s.getPosition(this.pos,s.center[2]/2+i)).x,t.y]:e=t.call(this,e,n,i,o,r,a),e}))},e.defaultCircularOptions={gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},e.defaultRadialGaugeOptions={labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},e.defaultRadialOptions={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},e}()).compose(t,e),i})),e(t,"Series/AreaRangeSeries.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,e,n,i){var o=i.defined,r=i.extend,a=i.isArray,s=i.isNumber,l=i.pick,u=t.seriesTypes.area.prototype,h=t.seriesTypes.column.prototype,c=n.prototype,d=e.Series.prototype;t.seriesType("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],pointValKey:"low",deferTranslatePolar:!0,toYData:function(t){return[t.low,t.high]},highToXY:function(t){var e=this.chart,n=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=n.x-e.plotLeft,t.plotHigh=n.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var t=this,e=t.yAxis,n=!!t.modifyValue;u.translate.apply(t),t.points.forEach((function(i){var o=i.high,r=i.plotY;i.isNull?i.plotY=null:(i.plotLow=r,i.plotHigh=e.translate(n?t.modifyValue(o,i):o,0,1,0,1),n&&(i.yBottom=i.plotHigh))})),this.chart.polar&&this.points.forEach((function(e){t.highToXY(e),e.tooltipPos=[(e.plotHighX+e.plotLowX)/2,(e.plotHigh+e.plotLow)/2]}))},getGraphPath:function(t){var e,n=[],i=[],o=u.getGraphPath,r=this.options,a=this.chart.polar,s=a&&!1!==r.connectEnds,h=r.connectNulls,c=r.step;for(e=(t=t||this.points).length;e--;){var d=t[e],f=a?{plotX:d.rectPlotX,plotY:d.yBottom,doCurve:!1}:{plotX:d.plotX,plotY:d.plotY,doCurve:!1};d.isNull||s||h||t[e+1]&&!t[e+1].isNull||i.push(f);var p={polarPlotY:d.polarPlotY,rectPlotX:d.rectPlotX,yBottom:d.yBottom,plotX:l(d.plotHighX,d.plotX),plotY:d.plotHigh,isNull:d.isNull};i.push(p),n.push(p),d.isNull||s||h||t[e-1]&&!t[e-1].isNull||i.push(f)}return t=o.call(this,t),c&&(!0===c&&(c="left"),r.step={left:"right",center:"center",right:"left"}[c]),n=o.call(this,n),i=o.call(this,i),r.step=c,r=[].concat(t,n),!this.chart.polar&&i[0]&&"M"===i[0][0]&&(i[0]=["L",i[0][1],i[0][2]]),this.graphPath=r,this.areaPath=t.concat(i),r.isArea=!0,r.xMap=t.xMap,this.areaPath.xMap=t.xMap,r},drawDataLabels:function(){var t,e,n=this.points,i=n.length,o=[],s=this.options.dataLabels,l=this.chart.inverted;if(a(s))var u=s[0]||{enabled:!1},h=s[1]||{enabled:!1};else(u=r({},s)).x=s.xHigh,u.y=s.yHigh,(h=r({},s)).x=s.xLow,h.y=s.yLow;if(u.enabled||this._hasPointLabels){for(t=i;t--;)if(e=n[t]){var c=u.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow;e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,o[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=c,l?u.align||(u.align=c?"right":"left"):u.verticalAlign||(u.verticalAlign=c?"top":"bottom")}for(this.options.dataLabels=u,d.drawDataLabels&&d.drawDataLabels.apply(this,arguments),t=i;t--;)(e=n[t])&&(e.dataLabelUpper=e.dataLabel,e.dataLabel=o[t],delete e.dataLabels,e.y=e.low,e.plotY=e._plotY)}if(h.enabled||this._hasPointLabels){for(t=i;t--;)(e=n[t])&&(c=h.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.below=!c,l?h.align||(h.align=c?"left":"right"):h.verticalAlign||(h.verticalAlign=c?"bottom":"top"));this.options.dataLabels=h,d.drawDataLabels&&d.drawDataLabels.apply(this,arguments)}if(u.enabled)for(t=i;t--;)(e=n[t])&&(e.dataLabels=[e.dataLabelUpper,e.dataLabel].filter((function(t){return!!t})));this.options.dataLabels=s},alignDataLabel:function(){h.alignDataLabel.apply(this,arguments)},drawPoints:function(){var t,e=this.points.length;for(d.drawPoints.apply(this,arguments),t=0;t<e;){var n=this.points[t];n.origProps={plotY:n.plotY,plotX:n.plotX,isInside:n.isInside,negative:n.negative,zone:n.zone,y:n.y},n.lowerGraphic=n.graphic,n.graphic=n.upperGraphic,n.plotY=n.plotHigh,o(n.plotHighX)&&(n.plotX=n.plotHighX),n.y=n.high,n.negative=n.high<(this.options.threshold||0),n.zone=this.zones.length&&n.getZone(),this.chart.polar||(n.isInside=n.isTopInside="undefined"!==typeof n.plotY&&0<=n.plotY&&n.plotY<=this.yAxis.len&&0<=n.plotX&&n.plotX<=this.xAxis.len),t++}for(d.drawPoints.apply(this,arguments),t=0;t<e;)(n=this.points[t]).upperGraphic=n.graphic,n.graphic=n.lowerGraphic,r(n,n.origProps),delete n.origProps,t++},setStackedPoints:e.noop},{setState:function(){var t=this.state,e=this.series,n=e.chart.polar;o(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),o(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,n&&(this.plotX=this.plotHighX),c.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,n&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0),c.setState.apply(this,arguments)},haloPath:function(){var t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&(this.plotX=this.plotLowX),this.isInside&&(e=c.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(c.haloPath.apply(this,arguments))),e},destroyElements:function(){return["lowerGraphic","upperGraphic"].forEach((function(t){this[t]&&(this[t]=this[t].destroy())}),this),this.graphic=null,c.destroyElements.apply(this,arguments)},isValid:function(){return s(this.low)&&s(this.high)}})})),e(t,"Series/AreaSplineRangeSeries.js",[t["Core/Series/Series.js"]],(function(t){t.seriesType("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})})),e(t,"Series/ColumnRangeSeries.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Core/Options.js"],t["Core/Utilities.js"]],(function(t,e,n,i){e=e.noop,n=n.defaultOptions;var o=i.clamp,r=i.merge,a=i.pick,s=t.seriesTypes.column.prototype;t.seriesType("columnrange","arearange",r(n.plotOptions.column,n.plotOptions.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var t,e,n=this,i=n.yAxis,r=n.xAxis,l=r.startAngleRad,u=n.chart,h=n.xAxis.isRadial,c=Math.max(u.chartWidth,u.chartHeight)+999;s.translate.apply(n),n.points.forEach((function(s){var d=s.shapeArgs,f=n.options.minPointLength;s.plotHigh=e=o(i.translate(s.high,0,1,0,1),-c,c),s.plotLow=o(s.plotY,-c,c);var p=e,g=a(s.rectPlotY,s.plotY)-e;Math.abs(g)<f?(g+=f-=g,p-=f/2):0>g&&(p-=g*=-1),h?(t=s.barX+l,s.shapeType="arc",s.shapeArgs=n.polarArc(p+g,p,t,t+s.pointWidth)):(d.height=g,d.y=p,s.tooltipPos=u.inverted?[i.len+i.pos-u.plotLeft-p-g/2,r.len+r.pos-u.plotTop-d.x-d.width/2,g]:[r.left-u.plotLeft+d.x+d.width/2,i.pos-u.plotTop+p+g/2,g])}))},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:e,getSymbol:e,crispCol:function(){return s.crispCol.apply(this,arguments)},drawPoints:function(){return s.drawPoints.apply(this,arguments)},drawTracker:function(){return s.drawTracker.apply(this,arguments)},getColumnMetrics:function(){return s.getColumnMetrics.apply(this,arguments)},pointAttribs:function(){return s.pointAttribs.apply(this,arguments)},animate:function(){return s.animate.apply(this,arguments)},polarArc:function(){return s.polarArc.apply(this,arguments)},translate3dPoints:function(){return s.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return s.translate3dShapes.apply(this,arguments)}},{setState:s.pointClass.prototype.setState})})),e(t,"Series/ColumnPyramidSeries.js",[t["Core/Series/Series.js"],t["Series/ColumnSeries.js"],t["Core/Utilities.js"]],(function(t,e,n){var i=e.prototype,o=n.clamp,r=n.pick;t.seriesType("columnpyramid","column",{},{translate:function(){var t=this,e=t.chart,n=t.options,a=t.dense=2>t.closestPointRange*t.xAxis.transA;a=t.borderWidth=r(n.borderWidth,a?0:1);var s=t.yAxis,l=n.threshold,u=t.translatedThreshold=s.getThreshold(l),h=r(n.minPointLength,5),c=t.getColumnMetrics(),d=c.width,f=t.barW=Math.max(d,1+2*a),p=t.pointXOffset=c.offset;e.inverted&&(u-=.5),n.pointPadding&&(f=Math.ceil(f)),i.translate.apply(t),t.points.forEach((function(i){var a=r(i.yBottom,u),c=999+Math.abs(a),g=o(i.plotY,-c,s.len+c);c=i.plotX+p;var m,v=f/2,y=Math.min(g,a);a=Math.max(g,a)-y,i.barX=c,i.pointWidth=d,i.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-g,t.xAxis.len-c-v,a]:[c+v,g+s.pos-e.plotTop,a],g=l+(i.total||i.y),"percent"===n.stacking&&(g=l+(0>i.y)?-100:100),g=s.toPixels(g,!0);var _=(m=e.plotHeight-g-(e.plotHeight-u))?v*(y-g)/m:0,b=m?v*(y+a-g)/m:0;m=c-_+v,_=c+_+v;var x=c+b+v;b=c-b+v;var w=y-h,C=y+a;0>i.y&&(w=y,C=y+a+h),e.inverted&&(b=v*(g-((x=e.plotWidth-y)-a))/(m=g-(e.plotWidth-u)),_=(m=c+v+(_=v*(g-x)/m))-2*_,x=c-b+v,b=c+b+v,w=y,C=y+a-h,0>i.y&&(C=y+a+h)),i.shapeType="path",i.shapeArgs={x:m,y:w,width:_-m,height:a,d:[["M",m,w],["L",_,w],["L",x,C],["L",b,C],["Z"]]}}))}})})),e(t,"Series/GaugeSeries.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,n){var i=n.clamp,o=n.isNumber,r=n.merge,a=n.pick,s=n.pInt,l=e.Series;n=e.TrackerMixin,t.seriesType("gauge","line",{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:e.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,e=this.options,n=t.center;this.generatePoints(),this.points.forEach((function(l){var u=r(e.dial,l.dial),h=s(a(u.radius,"80%"))*n[2]/200,c=s(a(u.baseLength,"70%"))*h/100,d=s(a(u.rearLength,"10%"))*h/100,f=u.baseWidth||3,p=u.topWidth||1,g=e.overshoot,m=t.startAngleRad+t.translate(l.y,null,null,null,!0);(o(g)||!1===e.wrap)&&(g=o(g)?g/180*Math.PI:0,m=i(m,t.startAngleRad-g,t.endAngleRad+g)),m=180*m/Math.PI,l.shapeType="path",l.shapeArgs={d:u.path||[["M",-d,-f/2],["L",c,-f/2],["L",h,-p/2],["L",h,p/2],["L",c,f/2],["L",-d,f/2],["Z"]],translateX:n[0],translateY:n[1],rotation:m},l.plotX=n[0],l.plotY=n[1]}))},drawPoints:function(){var t=this,e=t.chart,n=t.yAxis.center,i=t.pivot,o=t.options,s=o.pivot,l=e.renderer;t.points.forEach((function(n){var i=n.graphic,a=n.shapeArgs,s=a.d,u=r(o.dial,n.dial);i?(i.animate(a),a.d=s):n.graphic=l[n.shapeType](a).attr({rotation:a.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.styledMode||n.graphic[i?"animate":"attr"]({stroke:u.borderColor||"none","stroke-width":u.borderWidth||0,fill:u.backgroundColor||"#000000"})})),i?i.animate({translateX:n[0],translateY:n[1]}):(t.pivot=l.circle(0,0,a(s.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(n[0],n[1]).add(t.group),e.styledMode||t.pivot.attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"#cccccc",fill:s.backgroundColor||"#000000"}))},animate:function(t){var e=this;t||e.points.forEach((function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))}))},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),l.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){l.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),a(e,!0)&&this.chart.redraw()},hasData:function(){return!!this.points.length},drawTracker:n&&n.drawTrackerPoint},{setState:function(t){this.state=t}})})),e(t,"Series/BoxPlotSeries.js",[t["Core/Series/Series.js"],t["Series/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,n,i){var o=e.prototype;e=n.noop;var r=i.pick;t.seriesType("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(){return{}},drawDataLabels:e,translate:function(){var t=this.yAxis,e=this.pointArrayMap;o.translate.apply(this),this.points.forEach((function(n){e.forEach((function(e){null!==n[e]&&(n[e+"Plot"]=t.translate(n[e],0,1,0,1))})),n.plotHigh=n.highPlot}))},drawPoints:function(){var t,e,n,i,o,a,s,l,u,h,c,d=this,f=d.options,p=d.chart,g=p.renderer,m=0,v=!1!==d.doQuartiles,y=d.options.whiskerLength;d.points.forEach((function(_){var b=_.graphic,x=b?"animate":"attr",w=_.shapeArgs,C={},S={},k={},E={},I=_.color||d.color;"undefined"!==typeof _.plotY&&(s=Math.round(w.width),l=Math.floor(w.x),u=l+s,h=Math.round(s/2),t=Math.floor(v?_.q1Plot:_.lowPlot),e=Math.floor(v?_.q3Plot:_.lowPlot),n=Math.floor(_.highPlot),i=Math.floor(_.lowPlot),b||(_.graphic=b=g.g("point").add(d.group),_.stem=g.path().addClass("highcharts-boxplot-stem").add(b),y&&(_.whiskers=g.path().addClass("highcharts-boxplot-whisker").add(b)),v&&(_.box=g.path(void 0).addClass("highcharts-boxplot-box").add(b)),_.medianShape=g.path(void 0).addClass("highcharts-boxplot-median").add(b)),p.styledMode||(S.stroke=_.stemColor||f.stemColor||I,S["stroke-width"]=r(_.stemWidth,f.stemWidth,f.lineWidth),S.dashstyle=_.stemDashStyle||f.stemDashStyle||f.dashStyle,_.stem.attr(S),y&&(k.stroke=_.whiskerColor||f.whiskerColor||I,k["stroke-width"]=r(_.whiskerWidth,f.whiskerWidth,f.lineWidth),k.dashstyle=_.whiskerDashStyle||f.whiskerDashStyle||f.dashStyle,_.whiskers.attr(k)),v&&(C.fill=_.fillColor||f.fillColor||I,C.stroke=f.lineColor||I,C["stroke-width"]=f.lineWidth||0,C.dashstyle=_.boxDashStyle||f.boxDashStyle||f.dashStyle,_.box.attr(C)),E.stroke=_.medianColor||f.medianColor||I,E["stroke-width"]=r(_.medianWidth,f.medianWidth,f.lineWidth),E.dashstyle=_.medianDashStyle||f.medianDashStyle||f.dashStyle,_.medianShape.attr(E)),a=_.stem.strokeWidth()%2/2,b=[["M",m=l+h+a,e],["L",m,n],["M",m,t],["L",m,i]],_.stem[x]({d:b}),v&&(a=_.box.strokeWidth()%2/2,t=Math.floor(t)+a,e=Math.floor(e)+a,b=[["M",l+=a,e],["L",l,t],["L",u+=a,t],["L",u,e],["L",l,e],["Z"]],_.box[x]({d:b})),y&&(a=_.whiskers.strokeWidth()%2/2,n+=a,i+=a,c=/%$/.test(y)?h*parseFloat(y)/100:y/2,b=[["M",m-c,n],["L",m+c,n],["M",m-c,i],["L",m+c,i]],_.whiskers[x]({d:b})),o=Math.round(_.medianPlot),a=_.medianShape.strokeWidth()%2/2,b=[["M",l,o+=a],["L",u,o]],_.medianShape[x]({d:b}))}))},setStackedPoints:e})})),e(t,"Series/ErrorBarSeries.js",[t["Core/Series/Series.js"],t["Core/Globals.js"]],(function(t,e){e=e.noop;var n=t.seriesTypes;t.seriesType("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:n.arearange?function(){var t=this.pointValKey;n.arearange.prototype.drawDataLabels.call(this),this.data.forEach((function(e){e.y=e[t]}))}:e,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||n.column.prototype.getColumnMetrics.call(this)}})})),e(t,"Series/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Series/Series.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Extensions/Stacking.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o,r,a){var s,l=e.seriesTypes,u=a.addEvent,h=a.arrayMax,c=a.arrayMin,d=a.correctFloat,f=a.isNumber,p=a.objectEach,g=a.pick,m=i.Series;return function(t){function e(){var t=this.waterfall.stacks;t&&(t.changed=!1,delete t.alreadyChanged)}function n(){var t=this.options.stackLabels;t&&t.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function i(){for(var t=this.axes,e=this.series,n=e.length;n--;)e[n].options.stacking&&(t.forEach((function(t){t.isXAxis||(t.waterfall.stacks.changed=!0)})),n=0)}function o(){this.waterfall||(this.waterfall=new a(this))}var a=function(){function t(t){this.axis=t,this.stacks={changed:!1}}return t.prototype.renderStackTotals=function(){var t=this.axis,e=t.waterfall.stacks,n=t.stacking&&t.stacking.stackTotalGroup,i=new r(t,t.options.stackLabels,!1,0,void 0);this.dummyStackItem=i,p(e,(function(t){p(t,(function(t){i.total=t.stackTotal,t.label&&(i.label=t.label),r.prototype.render.call(i,n),t.label=i.label,delete i.label}))})),i.total=null},t}();t.Composition=a,t.compose=function(t,r){u(t,"init",o),u(t,"afterBuildStacks",e),u(t,"afterRender",n),u(r,"beforeRedraw",i)}}(s||(s={})),e.seriesType("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",showLine:!0,generatePoints:function(){var t;l.column.prototype.generatePoints.apply(this);var e=0;for(t=this.points.length;e<t;e++){var n=this.points[e],i=this.processedYData[e];(n.isIntermediateSum||n.isSum)&&(n.y=d(i))}},translate:function(){var t,e=this.options,n=this.yAxis,i=g(e.minPointLength,5),o=i/2,r=e.threshold,a=e.stacking,s=n.waterfall.stacks[this.stackKey];l.column.prototype.translate.apply(this);var u=t=r,h=this.points,c=0;for(e=h.length;c<e;c++){var d=h[c],f=this.processedYData[c],p=d.shapeArgs,m=[0,f],v=d.y;if(a){if(s){if(m=s[c],"overlap"===a){var y=m.stackState[m.stateIndex--];y=0<=v?y:y-v,Object.hasOwnProperty.call(m,"absolutePos")&&delete m.absolutePos,Object.hasOwnProperty.call(m,"absoluteNeg")&&delete m.absoluteNeg}else 0<=v?(y=m.threshold+m.posTotal,m.posTotal-=v):(y=m.threshold+m.negTotal,m.negTotal-=v,y-=v),!m.posTotal&&Object.hasOwnProperty.call(m,"absolutePos")&&(m.posTotal=m.absolutePos,delete m.absolutePos),!m.negTotal&&Object.hasOwnProperty.call(m,"absoluteNeg")&&(m.negTotal=m.absoluteNeg,delete m.absoluteNeg);d.isSum||(m.connectorThreshold=m.threshold+m.stackTotal),n.reversed?(f=0<=v?y-v:y+v,v=y):(f=y,v=y-v),d.below=f<=g(r,0),p.y=n.translate(f,0,1,0,1),p.height=Math.abs(p.y-n.translate(v,0,1,0,1))}(v=n.waterfall.dummyStackItem)&&(v.x=c,v.label=s[c].label,v.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[c],this.stackedYPos[c]))}else y=Math.max(u,u+v)+m[0],p.y=n.translate(y,0,1,0,1),d.isSum?(p.y=n.translate(m[1],0,1,0,1),p.height=Math.min(n.translate(m[0],0,1,0,1),n.len)-p.y):d.isIntermediateSum?(0<=v?(f=m[1]+t,v=t):(f=t,v=m[1]+t),n.reversed&&(f^=v,f^=v^=f),p.y=n.translate(f,0,1,0,1),p.height=Math.abs(p.y-Math.min(n.translate(v,0,1,0,1),n.len)),t+=m[1]):(p.height=0<f?n.translate(u,0,1,0,1)-p.y:n.translate(u,0,1,0,1)-n.translate(u-f,0,1,0,1),u+=f,d.below=u<g(r,0)),0>p.height&&(p.y+=p.height,p.height*=-1);d.plotY=p.y=Math.round(p.y)-this.borderWidth%2/2,p.height=Math.max(Math.round(p.height),.001),d.yBottom=p.y+p.height,p.height<=i&&!d.isNull?(p.height=i,p.y-=o,d.plotY=p.y,d.minPointLengthOffset=0>d.y?-o:o):(d.isNull&&(p.width=0),d.minPointLengthOffset=0),p=d.plotY+(d.negative?p.height:0),this.chart.inverted?d.tooltipPos[0]=n.len-p:d.tooltipPos[1]=p}},processData:function(t){var e,n,i,o,r,a=this.options,s=this.yData,l=a.data,u=s.length,h=a.threshold||0;for(r=n=e=i=o=0;r<u;r++){var c=s[r],f=l&&l[r]?l[r]:{};"sum"===c||f.isSum?s[r]=d(n):"intermediateSum"===c||f.isIntermediateSum?(s[r]=d(e),e=0):(n+=c,e+=c),i=Math.min(n,i),o=Math.max(n,o)}m.prototype.processData.call(this,t),a.stacking||(this.dataMin=i+h,this.dataMax=o)},toYData:function(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y},updateParallelArrays:function(t,e){m.prototype.updateParallelArrays.call(this,t,e),"sum"!==this.yData[0]&&"intermediateSum"!==this.yData[0]||(this.yData[0]=null)},pointAttribs:function(t,e){var n=this.options.upColor;return n&&!t.options.color&&(t.color=0<t.y?n:null),delete(t=l.column.prototype.pointAttribs.call(this,t,e)).dashstyle,t},getGraphPath:function(){return[["M",0,0]]},getCrispPath:function(){var t,e=this.data,n=this.yAxis,i=e.length,o=Math.round(this.graph.strokeWidth())%2/2,r=Math.round(this.borderWidth)%2/2,a=this.xAxis.reversed,s=this.yAxis.reversed,l=this.options.stacking,u=[];for(t=1;t<i;t++){var h=e[t].shapeArgs,c=e[t-1],d=e[t-1].shapeArgs,f=n.waterfall.stacks[this.stackKey],p=0<c.y?-d.height:0;f&&d&&h&&(f=f[t-1],l?(f=f.connectorThreshold,p=Math.round(n.translate(f,0,1,0,1)+(s?p:0))-o):p=d.y+c.minPointLengthOffset+r-o,u.push(["M",(d.x||0)+(a?0:d.width||0),p],["L",(h.x||0)+(a&&h.width||0),p])),!l&&u.length&&d&&(0>c.y&&!s||0<c.y&&s)&&(u[u.length-2][2]+=d.height,u[u.length-1][2]+=d.height)}return u},drawGraph:function(){m.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){function t(t,e,n,i){if(b)for(;n<b;n++)m.stackState[n]+=i;else m.stackState[0]=t,b=m.stackState.length;m.stackState.push(m.stackState[b-1]+e)}var e,n,i,o=this.options,r=this.yAxis.waterfall.stacks,a=o.threshold,s=a||0,l=s,u=this.stackKey,h=this.xData,c=h.length;this.yAxis.stacking.usePercentage=!1;var d=n=i=s;if(this.visible||!this.chart.options.chart.ignoreHiddenSeries){var f=r.changed;(e=r.alreadyChanged)&&0>e.indexOf(u)&&(f=!0),r[u]||(r[u]={}),e=r[u];for(var p=0;p<c;p++){var g=h[p];e[g]&&!f||(e[g]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:f&&e[g]?e[g].label:void 0});var m=e[g],v=this.yData[p];0<=v?m.posTotal+=v:m.negTotal+=v;var y=o.data[p];g=m.absolutePos=m.posTotal;var _=m.absoluteNeg=m.negTotal;m.stackTotal=g+_;var b=m.stackState.length;y&&y.isIntermediateSum?(t(i,n,0,i),i=n,n=a,s^=l,s^=l^=s):y&&y.isSum?(t(a,d,b),s=a):(t(s,v,0,d),y&&(d+=v,n+=v)),m.stateIndex++,m.threshold=s,s+=m.stackTotal}r.changed=!1,r.alreadyChanged||(r.alreadyChanged=[]),r.alreadyChanged.push(u)}},getExtremes:function(){var t=this.options.stacking;if(t){var e=this.yAxis;e=e.waterfall.stacks;var n=this.stackedYNeg=[],i=this.stackedYPos=[];return p(e[this.stackKey],"overlap"===t?function(t){n.push(c(t.stackState)),i.push(h(t.stackState))}:function(t){n.push(t.negTotal+t.threshold),i.push(t.posTotal+t.threshold)}),{dataMin:c(n),dataMax:h(i)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}},{getClassName:function(){var t=o.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return f(this.y)||this.isSum||!!this.isIntermediateSum}}),s.compose(t,n),s})),e(t,"Series/PolygonSeries.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Mixins/LegendSymbol.js"]],(function(t,e,n){var i=t.seriesTypes,o=e.Series;t.seriesType("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=o.prototype.getGraphPath.call(this),e=t.length+1;e--;)(e===t.length||"M"===t[e][0])&&0<e&&t.splice(e,0,["Z"]);return this.areaPath=t},drawGraph:function(){this.options.fillColor=this.color,i.area.prototype.drawGraph.call(this)},drawLegendSymbol:n.drawRectangle,drawTracker:o.prototype.drawTracker,setStackedPoints:e.noop})})),e(t,"Series/Bubble/BubbleLegend.js",[t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Legend.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o){var r=e.parse;e=o.addEvent;var a=o.arrayMax,s=o.arrayMin,l=o.isNumber,u=o.merge,h=o.objectEach,c=o.pick,d=o.setOptions,f=o.stableSort,p=o.wrap,g=n.Series,m=n.noop;return d({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:10,color:void 0},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}}),d=function(){function t(t,e){this.options=this.symbols=this.visible=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=m,this.init(t,e)}return t.prototype.init=function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},t.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},t.prototype.drawLegendSymbol=function(t){var e=this.chart,n=this.options,i=c(t.options.itemDistance,20),o=n.ranges,r=n.connectorDistance;this.fontMetrics=e.renderer.fontMetrics(n.labels.style.fontSize.toString()+"px"),o&&o.length&&l(o[0].value)?(f(o,(function(t,e){return e.value-t.value})),this.ranges=o,this.setOptions(),this.render(),e=this.getMaxLabelSize(),t=2*(o=this.ranges[0].radius),r=0<(r=r-o+e.width)?r:0,this.maxLabel=e,this.movementX="left"===n.labels.align?r:0,this.legendItemWidth=t+r+i,this.legendItemHeight=t+this.fontMetrics.h/2):t.options.bubbleLegend.autoRanges=!0},t.prototype.setOptions=function(){var t=this.ranges,e=this.options,n=this.chart.series[e.seriesIndex],i=this.legend.baseline,o={"z-index":e.zIndex,"stroke-width":e.borderWidth},a={"z-index":e.zIndex,"stroke-width":e.connectorWidth},s=this.getLabelStyles(),l=n.options.marker.fillOpacity,h=this.chart.styledMode;t.forEach((function(d,f){h||(o.stroke=c(d.borderColor,e.borderColor,n.color),o.fill=c(d.color,e.color,1!==l?r(n.color).setOpacity(l).get("rgba"):n.color),a.stroke=c(d.connectorColor,e.connectorColor,n.color)),t[f].radius=this.getRangeRadius(d.value),t[f]=u(t[f],{center:t[0].radius-t[f].radius+i}),h||u(!0,t[f],{bubbleStyle:u(!1,o),connectorStyle:u(!1,a),labelStyle:s})}),this)},t.prototype.getLabelStyles=function(){var t=this.options,e={},n="left"===t.labels.align,i=this.legend.options.rtl;return h(t.labels.style,(function(t,n){"color"!==n&&"fontSize"!==n&&"z-index"!==n&&(e[n]=t)})),u(!1,e,{"font-size":t.labels.style.fontSize,fill:c(t.labels.style.color,"#000000"),"z-index":t.zIndex,align:i||n?"right":"left"})},t.prototype.getRangeRadius=function(t){var e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)},t.prototype.render=function(){var t=this.chart.renderer,e=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=t.g("bubble-legend"),this.legendItem=t.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach((function(t){t.value>=e&&this.renderRange(t)}),this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},t.prototype.renderRange=function(t){var e=this.options,n=e.labels,i=this.chart.renderer,o=this.symbols,r=o.labels,a=t.center,s=Math.abs(t.radius),l=e.connectorDistance||0,u=n.align,h=n.style.fontSize;l=this.legend.options.rtl||"left"===u?-l:l,n=e.connectorWidth;var c=this.ranges[0].radius||0,d=a-s-e.borderWidth/2+n/2;h=h/2-(this.fontMetrics.h-h)/2;var f=i.styledMode;"center"===u&&(l=0,e.connectorDistance=0,t.labelStyle.align="center"),u=d+e.labels.y;var p=c+l+e.labels.x;o.bubbleItems.push(i.circle(c,a+((d%1?1:.5)-(n%2?0:.5)),s).attr(f?{}:t.bubbleStyle).addClass((f?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendSymbol)),o.connectors.push(i.path(i.crispLine([["M",c,d],["L",c+l,d]],e.connectorWidth)).attr(f?{}:t.connectorStyle).addClass((f?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendSymbol)),t=i.text(this.formatLabel(t),p,u+h).attr(f?{}:t.labelStyle).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendSymbol),r.push(t),t.placed=!0,t.alignAttr={x:p,y:u+h}},t.prototype.getMaxLabelSize=function(){var t,e;return this.symbols.labels.forEach((function(n){e=n.getBBox(!0),t=t?e.width>t.width?e:t:e})),t||{}},t.prototype.formatLabel=function(t){var e=this.options,n=e.labels.formatter;e=e.labels.format;var i=this.chart.numberFormatter;return e?o.format(e,t):n?n.call(t):i(t.value,1)},t.prototype.hideOverlappingLabels=function(){var t=this.chart,e=this.symbols;!this.options.labels.allowOverlap&&e&&(t.hideOverlappingLabels(e.labels),e.labels.forEach((function(t,n){t.newOpacity?t.newOpacity!==t.oldOpacity&&e.connectors[n].show():e.connectors[n].hide()})))},t.prototype.getRanges=function(){var t,e=this.legend.bubbleLegend,n=e.options.ranges,i=Number.MAX_VALUE,o=-Number.MAX_VALUE;e.chart.series.forEach((function(e){e.isBubble&&!e.ignoreSeries&&((t=e.zData.filter(l)).length&&(i=c(e.options.zMin,Math.min(i,Math.max(s(t),!1===e.options.displayNegative?e.options.zThreshold:-Number.MAX_VALUE))),o=c(e.options.zMax,Math.max(o,a(t)))))}));var r=i===o?[{value:o}]:[{value:i},{value:(i+o)/2},{value:o,autoRanges:!0}];return n.length&&n[0].radius&&r.reverse(),r.forEach((function(t,e){n&&n[e]&&(r[e]=u(!1,n[e],t))})),r},t.prototype.predictBubbleSizes=function(){var t=this.chart,e=this.fontMetrics,n=t.legend.options,i="horizontal"===n.layout,o=i?t.legend.lastLineHeight:0,r=t.plotSizeX,a=t.plotSizeY,s=t.series[this.options.seriesIndex];t=Math.ceil(s.minPxSize);var l=Math.ceil(s.maxPxSize);s=s.options.maxSize;var u=Math.min(a,r);return n.floating||!/%$/.test(s)?e=l:(s=parseFloat(s),e=(u+o-e.h/2)*s/100/(s/100+1),(i&&a-e>=r||!i&&r-e>=a)&&(e=l)),[t,Math.ceil(e)]},t.prototype.updateRanges=function(t,e){var n=this.legend.options.bubbleLegend;n.minSize=t,n.maxSize=e,n.ranges=this.getRanges()},t.prototype.correctSizes=function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex];1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())},t}(),e(i,"afterGetAllItems",(function(t){var e=this.bubbleLegend,i=this.options,o=i.bubbleLegend,r=this.chart.getVisibleBubbleSeriesIndex();e&&e.ranges&&e.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(e)),0<=r&&i.enabled&&o.enabled&&(o.seriesIndex=r,this.bubbleLegend=new n.BubbleLegend(o,this),this.bubbleLegend.addToLegend(t.allItems))})),t.prototype.getVisibleBubbleSeriesIndex=function(){for(var t=this.series,e=0;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1},i.prototype.getLinesHeights=function(){var t,e=this.allItems,n=[],i=e.length,o=0;for(t=0;t<i;t++)if(e[t].legendItemHeight&&(e[t].itemHeight=e[t].legendItemHeight),e[t]===e[i-1]||e[t+1]&&e[t]._legendItemPos[1]!==e[t+1]._legendItemPos[1]){n.push({height:0});for(var r=n[n.length-1];o<=t;o++)e[o].itemHeight>r.height&&(r.height=e[o].itemHeight);r.step=t}return n},i.prototype.retranslateItems=function(t){var e,n,i,o=this.options.rtl,r=0;this.allItems.forEach((function(a,s){e=a.legendGroup.translateX,n=a._legendItemPos[1],((i=a.movementX)||o&&a.ranges)&&(i=o?e-a.options.maxSize/2:e+i,a.legendGroup.attr({translateX:i})),s>t[r].step&&r++,a.legendGroup.attr({translateY:Math.round(n+t[r].height/2)}),a._legendItemPos[1]=n+t[r].height/2}))},e(g,"legendItemClick",(function(){var t=this.chart,e=this.visible,n=this.chart.legend;n&&n.bubbleLegend&&(this.visible=!e,this.ignoreSeries=e,t=0<=t.getVisibleBubbleSeriesIndex(),n.bubbleLegend.visible!==t&&(n.update({bubbleLegend:{enabled:t}}),n.bubbleLegend.visible=t),this.visible=e)})),p(t.prototype,"drawChartBox",(function(t,e,n){var i=this.legend,o=0<=this.getVisibleBubbleSeriesIndex();if(i&&i.options.enabled&&i.bubbleLegend&&i.options.bubbleLegend.autoRanges&&o){var r=i.bubbleLegend.options;o=i.bubbleLegend.predictBubbleSizes(),i.bubbleLegend.updateRanges(o[0],o[1]),r.placed||(i.group.placed=!1,i.allItems.forEach((function(t){t.legendGroup.translateY=null}))),i.render(),this.getMargins(),this.axes.forEach((function(t){t.visible&&t.render(),r.placed||(t.setScale(),t.updateNames(),h(t.ticks,(function(t){t.isNew=!0,t.isNewLabel=!0})))})),r.placed=!0,this.getMargins(),t.call(this,e,n),i.bubbleLegend.correctSizes(),i.retranslateItems(i.getLinesHeights())}else t.call(this,e,n),i&&i.options.enabled&&i.bubbleLegend&&(i.render(),i.retranslateItems(i.getLinesHeights()))})),n.BubbleLegend=d,n.BubbleLegend})),e(t,"Series/Bubble/BubbleSeries.js",[t["Core/Axis/Axis.js"],t["Core/Series/Series.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o,r){var a=n.parse;n=i.noop;var s=r.arrayMax,l=r.arrayMin,u=r.clamp,h=r.extend,c=r.isNumber,d=r.pick,f=r.pInt,p=i.Series,g=e.seriesTypes;e.seriesType("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,isBubble:!0,pointAttribs:function(t,e){var n=this.options.marker.fillOpacity;return t=p.prototype.pointAttribs.call(this,t,e),1!==n&&(t.fill=a(t.fill).setOpacity(n).get("rgba")),t},getRadii:function(t,e,n){var i=this.zData,o=this.yData,r=n.minPxSize,a=n.maxPxSize,s=[],l=0;for(n=i.length;l<n;l++){var u=i[l];s.push(this.getRadius(t,e,r,a,u,o[l]))}this.radii=s},getRadius:function(t,e,n,i,o,r){var a=this.options,s="width"!==a.sizeBy,l=a.zThreshold,u=e-t,h=.5;if(null===r||null===o)return null;if(c(o)){if(a.sizeByAbsoluteValue&&(o=Math.abs(o-l),u=Math.max(e-l,Math.abs(t-l)),t=0),o<t)return n/2-1;0<u&&(h=(o-t)/u)}return s&&0<=h&&(h=Math.sqrt(h)),Math.ceil(n+h*(i-n))/2},animate:function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach((function(t){var e=t.graphic;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))}),this)},hasData:function(){return!!this.processedXData.length},translate:function(){var t,e=this.data,n=this.radii;for(g.scatter.prototype.translate.call(this),t=e.length;t--;){var i=e[t],o=n?n[t]:0;c(o)&&o>=this.minPxSize/2?(i.marker=h(i.marker,{radius:o,width:2*o,height:2*o}),i.dlBox={x:i.plotX-o,y:i.plotY-o,width:2*o,height:2*o}):i.shapeArgs=i.plotY=i.dlBox=void 0}},alignDataLabel:g.column.prototype.alignDataLabel,buildKDTree:n,applyZones:n},{haloPath:function(t){return o.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),t.prototype.beforePadding=function(){var t=this,e=this.len,n=this.chart,i=0,o=e,r=this.isXAxis,a=r?"xData":"yData",h=this.min,p={},g=Math.min(n.plotWidth,n.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-h,_=e/y,b=[];this.series.forEach((function(e){var i=e.options;!e.bubblePadding||!e.visible&&n.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,b.push(e),r&&(["minSize","maxSize"].forEach((function(t){var e=i[t],n=/%$/.test(e);e=f(e),p[t]=n?g*e/100:e})),e.minPxSize=p.minSize,e.maxPxSize=Math.max(p.maxSize,p.minSize),(e=e.zData.filter(c)).length&&(m=d(i.zMin,u(l(e),!1===i.displayNegative?i.zThreshold:-Number.MAX_VALUE,m)),v=d(i.zMax,Math.max(v,s(e))))))})),b.forEach((function(e){var n=e[a],s=n.length;if(r&&e.getRadii(m,v,e),0<y)for(;s--;)if(c(n[s])&&t.dataMin<=n[s]&&n[s]<=t.max){var l=e.radii?e.radii[s]:0;i=Math.min((n[s]-h)*_-l,i),o=Math.max((n[s]-h)*_+l,o)}})),b.length&&0<y&&!this.logarithmic&&(o-=e,_*=(e+Math.max(0,i)-Math.min(o,e))/e,[["min","userMin",i],["max","userMax",o]].forEach((function(e){"undefined"===typeof d(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/_)})))}})),e(t,"Series/Networkgraph/DraggableNodes.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,n){var i=n.addEvent;e.dragNodesMixin={onMouseDown:function(t,e){e=this.chart.pointer.normalize(e),t.fixedPosition={chartX:e.chartX,chartY:e.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){if(t.fixedPosition&&t.inDragMode){var n=this.chart;e=n.pointer.normalize(e);var i=t.fixedPosition.chartX-e.chartX,o=t.fixedPosition.chartY-e.chartY;e=n.graphLayoutsLookup,(5<Math.abs(i)||5<Math.abs(o))&&(i=t.fixedPosition.plotX-i,o=t.fixedPosition.plotY-o,n.isInsidePlot(i,o)&&(t.plotX=i,t.plotY=o,t.hasDragged=!0,this.redrawHalo(t),e.forEach((function(t){t.restartSimulation()}))))}},onMouseUp:function(t,e){t.fixedPosition&&(t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}},i(t,"load",(function(){var t,e,n,o=this;o.container&&(t=i(o.container,"mousedown",(function(t){var r=o.hoverPoint;r&&r.series&&r.series.hasDraggableNodes&&r.series.options.draggable&&(r.series.onMouseDown(r,t),e=i(o.container,"mousemove",(function(t){return r&&r.series&&r.series.onMouseMove(r,t)})),n=i(o.container.ownerDocument,"mouseup",(function(t){return e(),n(),r&&r.series&&r.series.onMouseUp(r,t)})))}))),i(o,"destroy",(function(){t()}))}))})),e(t,"Series/Networkgraph/Integrations.js",[t["Core/Globals.js"]],(function(t){t.networkgraphIntegrations={verlet:{attractiveForceFunction:function(t,e){return(e-t)/t},repulsiveForceFunction:function(t,e){return(e-t)/t*(e>t?1:0)},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,n=this.barycenter.yFactor;e=(e-(this.box.left+this.box.width)/2)*t,n=(n-(this.box.top+this.box.height)/2)*t,this.nodes.forEach((function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=n/t.mass/t.degree)}))},repulsive:function(t,e,n){e=e*this.diffTemperature/t.mass/t.degree,t.fixedPosition||(t.plotX+=n.x*e,t.plotY+=n.y*e)},attractive:function(t,e,n){var i=t.getMass(),o=-n.x*e*this.diffTemperature;e=-n.y*e*this.diffTemperature,t.fromNode.fixedPosition||(t.fromNode.plotX-=o*i.fromNode/t.fromNode.degree,t.fromNode.plotY-=e*i.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=o*i.toNode/t.toNode.degree,t.toNode.plotY+=e*i.toNode/t.toNode.degree)},integrate:function(t,e){var n=-t.options.friction,i=t.options.maxSpeed,o=(e.plotX+e.dispX-e.prevX)*n;n*=e.plotY+e.dispY-e.prevY;var r=Math.abs,a=r(o)/(o||1);r=r(n)/(n||1),o=a*Math.min(i,Math.abs(o)),n=r*Math.min(i,Math.abs(n)),e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=o,e.plotY+=n,e.temperature=t.vectorLength({x:o,y:n})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)}},euler:{attractiveForceFunction:function(t,e){return t*t/e},repulsiveForceFunction:function(t,e){return e*e/t},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,n=this.barycenter.yFactor;this.nodes.forEach((function(i){if(!i.fixedPosition){var o=i.getDegree();o*=1+o/2,i.dispX+=(e-i.plotX)*t*o/i.degree,i.dispY+=(n-i.plotY)*t*o/i.degree}}))},repulsive:function(t,e,n,i){t.dispX+=n.x/i*e/t.degree,t.dispY+=n.y/i*e/t.degree},attractive:function(t,e,n,i){var o=t.getMass(),r=n.x/i*e;e*=n.y/i,t.fromNode.fixedPosition||(t.fromNode.dispX-=r*o.fromNode/t.fromNode.degree,t.fromNode.dispY-=e*o.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=r*o.toNode/t.toNode.degree,t.toNode.dispY+=e*o.toNode/t.toNode.degree)},integrate:function(t,e){e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction;var n=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY});0!==n&&(e.plotX+=e.dispX/n*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/n*Math.min(Math.abs(e.dispY),t.temperature))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)}}}})),e(t,"Series/Networkgraph/QuadTree.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){e=e.extend;var n=t.QuadTreeNode=function(t){this.box=t,this.boxSize=Math.min(t.width,t.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};e(n.prototype,{insert:function(t,e){this.isInternal?this.nodes[this.getBoxPosition(t)].insert(t,e-1):(this.isEmpty=!1,this.body?e?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,e-1),this.body=!0),this.nodes[this.getBoxPosition(t)].insert(t,e-1)):((e=new n({top:t.plotX,left:t.plotY,width:.1,height:.1})).body=t,e.isInternal=!1,this.nodes.push(e)):(this.isInternal=!1,this.body=t))},updateMassAndCenter:function(){var t=0,e=0,n=0;this.isInternal?(this.nodes.forEach((function(i){i.isEmpty||(t+=i.mass,e+=i.plotX*i.mass,n+=i.plotY*i.mass)})),e/=t,n/=t):this.body&&(t=this.body.mass,e=this.body.plotX,n=this.body.plotY),this.mass=t,this.plotX=e,this.plotY=n},divideBox:function(){var t=this.box.width/2,e=this.box.height/2;this.nodes[0]=new n({left:this.box.left,top:this.box.top,width:t,height:e}),this.nodes[1]=new n({left:this.box.left+t,top:this.box.top,width:t,height:e}),this.nodes[2]=new n({left:this.box.left+t,top:this.box.top+e,width:t,height:e}),this.nodes[3]=new n({left:this.box.left,top:this.box.top+e,width:t,height:e})},getBoxPosition:function(t){var e=t.plotY<this.box.top+this.box.height/2;return t.plotX<this.box.left+this.box.width/2?e?0:3:e?1:2}}),e((t=t.QuadTree=function(t,e,i,o){this.box={left:t,top:e,width:i,height:o},this.maxDepth=25,this.root=new n(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(t){t.forEach((function(t){this.root.insert(t,this.maxDepth)}),this)},visitNodeRecursive:function(t,e,n){var i;t||(t=this.root),t===this.root&&e&&(i=e(t)),!1!==i&&(t.nodes.forEach((function(t){if(t.isInternal){if(e&&(i=e(t)),!1===i)return;this.visitNodeRecursive(t,e,n)}else t.body&&e&&e(t.body);n&&n(t)}),this),t===this.root&&n&&n(t))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,(function(t){t.updateMassAndCenter()}))}})})),e(t,"Series/Networkgraph/Layouts.js",[t["Core/Chart/Chart.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,n,i){var o=e.setAnimation;e=i.addEvent;var r=i.clamp,a=i.defined,s=i.extend,l=i.isFunction,u=i.pick;n.layouts={"reingold-fruchterman":function(){}},s(n.layouts["reingold-fruchterman"].prototype,{init:function(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=n.networkgraphIntegrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=u(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=u(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation},updateSimulation:function(t){this.enableSimulation=u(t,this.options.enableSimulation)},start:function(){var t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach((function(t){t.finishedAnimating=!0,t.render()}))),this.setK(),this.resetSimulation(e),this.enableSimulation&&this.step()},step:function(){var t=this,e=this.series;t.currentStep++,"barnes-hut"===t.approximation&&(t.createQuadTree(),t.quadTree.calculateMassAndCenter()),t.forces.forEach((function(e){t[e+"Forces"](t.temperature)})),t.applyLimits(t.temperature),t.temperature=t.coolDown(t.startTemperature,t.diffTemperature,t.currentStep),t.prevSystemTemperature=t.systemTemperature,t.systemTemperature=t.getSystemTemperature(),t.enableSimulation&&(e.forEach((function(t){t.chart&&t.render()})),t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()?(t.simulation&&n.win.cancelAnimationFrame(t.simulation),t.simulation=n.win.requestAnimationFrame((function(){t.step()}))):t.simulation=!1)},stop:function(){this.simulation&&n.win.cancelAnimationFrame(this.simulation)},setArea:function(t,e,n,i){this.box={left:t,top:e,width:n,height:i}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(t,e){t.forEach((function(t){-1===e.indexOf(t)&&e.push(t)}))},removeElementFromCollection:function(t,e){-1!==(t=e.indexOf(t))&&e.splice(t,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(t){this.maxIterations=u(t,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(t){this.initialRendering=t},createQuadTree:function(){this.quadTree=new n.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var t=this.options.initialPositions;l(t)?(t.call(this),this.nodes.forEach((function(t){a(t.prevX)||(t.prevX=t.plotX),a(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0}))):"circle"===t?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){var t=this.box,e=this.nodes,n=2*Math.PI/(e.length+1),i=e.filter((function(t){return 0===t.linksTo.length})),o=[],r={},a=this.options.initialPositionRadius;i.forEach((function(t){o.push(t),function t(e){e.linksFrom.forEach((function(e){r[e.toNode.id]||(r[e.toNode.id]=!0,o.push(e.toNode),t(e.toNode))}))}(t)})),o.length?e.forEach((function(t){-1===o.indexOf(t)&&o.push(t)})):o=e,o.forEach((function(e,i){e.plotX=e.prevX=u(e.plotX,t.width/2+a*Math.cos(i*n)),e.plotY=e.prevY=u(e.plotY,t.height/2+a*Math.sin(i*n)),e.dispX=0,e.dispY=0}))},setRandomPositions:function(){function t(t){return(t=t*t/Math.PI)-Math.floor(t)}var e=this.box,n=this.nodes,i=n.length+1;n.forEach((function(n,o){n.plotX=n.prevX=u(n.plotX,e.width*t(o)),n.plotY=n.prevY=u(n.plotY,e.height*t(i+o)),n.dispX=0,n.dispY=0}))},force:function(t){this.integration[t].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var t=0,e=0,n=0;return this.nodes.forEach((function(i){e+=i.plotX*i.mass,n+=i.plotY*i.mass,t+=i.mass})),this.barycenter={x:e,y:n,xFactor:e/t,yFactor:n/t}},barnesHutApproximation:function(t,e){var n=this.getDistXY(t,e),i=this.vectorLength(n);if(t!==e&&0!==i)if(e.isInternal)if(e.boxSize/i<this.options.theta&&0!==i){var o=this.repulsiveForce(i,this.k);this.force("repulsive",t,o*e.mass,n,i);var r=!1}else r=!0;else o=this.repulsiveForce(i,this.k),this.force("repulsive",t,o*e.mass,n,i);return r},repulsiveForces:function(){var t=this;"barnes-hut"===t.approximation?t.nodes.forEach((function(e){t.quadTree.visitNodeRecursive(null,(function(n){return t.barnesHutApproximation(e,n)}))})):t.nodes.forEach((function(e){t.nodes.forEach((function(n){if(e!==n&&!e.fixedPosition){var i=t.getDistXY(e,n),o=t.vectorLength(i);if(0!==o){var r=t.repulsiveForce(o,t.k);t.force("repulsive",e,r*n.mass,i,o)}}}))}))},attractiveForces:function(){var t,e,n,i=this;i.links.forEach((function(o){o.fromNode&&o.toNode&&(t=i.getDistXY(o.fromNode,o.toNode),0!==(e=i.vectorLength(t))&&(n=i.attractiveForce(e,i.k),i.force("attractive",o,n,t,e)))}))},applyLimits:function(){var t=this;t.nodes.forEach((function(e){e.fixedPosition||(t.integration.integrate(t,e),t.applyLimitBox(e,t.box),e.dispX=0,e.dispY=0)}))},applyLimitBox:function(t,e){var n=t.radius;t.plotX=r(t.plotX,e.left+n,e.width-n),t.plotY=r(t.plotY,e.top+n,e.height-n)},coolDown:function(t,e,n){return t-e*n},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce((function(t,e){return t+e.temperature}),0)},vectorLength:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},getDistR:function(t,e){return t=this.getDistXY(t,e),this.vectorLength(t)},getDistXY:function(t,e){var n=t.plotX-e.plotX;return{x:n,y:t=t.plotY-e.plotY,absX:Math.abs(n),absY:Math.abs(t)}}}),e(t,"predraw",(function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((function(t){t.stop()}))})),e(t,"render",(function(){function t(t){t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),n=!1,e=!0)}var e=!1;if(this.graphLayoutsLookup){for(o(!1,this),this.graphLayoutsLookup.forEach((function(t){t.start()}));!n;){var n=!0;this.graphLayoutsLookup.forEach(t)}e&&this.series.forEach((function(t){t&&t.layout&&t.render()}))}})),e(t,"beforePrint",(function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((function(t){t.updateSimulation(!1)})),this.redraw())})),e(t,"afterPrint",(function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((function(t){t.updateSimulation()})),this.redraw()}))})),e(t,"Series/PackedBubbleSeries.js",[t["Core/Series/Series.js"],t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o,r){var a=n.parse,s=r.addEvent,l=r.clamp,u=r.defined,h=r.extend;n=r.extendClass;var c=r.fireEvent,d=r.isArray,f=r.isNumber,p=r.merge,g=r.pick,m=i.Series,v=i.layouts["reingold-fruchterman"],y=i.dragNodesMixin;e.prototype.getSelectedParentNodes=function(){var t=[];return this.series.forEach((function(e){e.parentNode&&e.parentNode.selected&&t.push(e.parentNode)})),t},i.networkgraphIntegrations.packedbubble={repulsiveForceFunction:function(t,e,n,i){return Math.min(t,(n.marker.radius+i.marker.radius)/2)},barycenter:function(){var t,e,n=this,i=n.options.gravitationalConstant,o=n.box,r=n.nodes;r.forEach((function(a){n.options.splitSeries&&!a.isParentNode?(t=a.series.parentNode.plotX,e=a.series.parentNode.plotY):(t=o.width/2,e=o.height/2),a.fixedPosition||(a.plotX-=(a.plotX-t)*i/(a.mass*Math.sqrt(r.length)),a.plotY-=(a.plotY-e)*i/(a.mass*Math.sqrt(r.length)))}))},repulsive:function(t,e,n,i){var o=e*this.diffTemperature/t.mass/t.degree;e=n.x*o,n=n.y*o,t.fixedPosition||(t.plotX+=e,t.plotY+=n),i.fixedPosition||(i.plotX-=e,i.plotY-=n)},integrate:i.networkgraphIntegrations.verlet.integrate,getK:i.noop},i.layouts.packedbubble=n(v,{beforeStep:function(){this.options.marker&&this.series.forEach((function(t){t&&t.calculateParentRadius()}))},setCircularPositions:function(){var t,e,n=this,i=n.box,o=n.nodes,r=2*Math.PI/(o.length+1),a=n.options.initialPositionRadius;o.forEach((function(o,s){n.options.splitSeries&&!o.isParentNode?(t=o.series.parentNode.plotX,e=o.series.parentNode.plotY):(t=i.width/2,e=i.height/2),o.plotX=o.prevX=g(o.plotX,t+a*Math.cos(o.index||s*r)),o.plotY=o.prevY=g(o.plotY,e+a*Math.sin(o.index||s*r)),o.dispX=0,o.dispY=0}))},repulsiveForces:function(){var t,e,n,i=this,o=i.options.bubblePadding;i.nodes.forEach((function(r){r.degree=r.mass,r.neighbours=0,i.nodes.forEach((function(a){t=0,r===a||r.fixedPosition||!i.options.seriesInteraction&&r.series!==a.series||(n=i.getDistXY(r,a),0>(e=i.vectorLength(n)-(r.marker.radius+a.marker.radius+o))&&(r.degree+=.01,r.neighbours++,t=i.repulsiveForce(-e/Math.sqrt(r.neighbours),i.k,r,a)),i.force("repulsive",r,t*a.mass,n,a,e))}))}))},applyLimitBox:function(t){if(this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit){var e=this.getDistXY(t,t.series.parentNode),n=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(e);0>n&&n>-2*t.marker.radius&&(t.plotX-=.01*e.x,t.plotY-=.01*e.y)}v.prototype.applyLimitBox.apply(this,arguments)}}),t.seriesType("packedbubble","bubble",{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){return this.point.value},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:1,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}},{hasDraggableNodes:!0,forces:["barycenter","repulsive"],pointArrayMap:["value"],trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],pointValKey:"value",isCartesian:!1,requireSorting:!1,directTouch:!0,axisTypes:[],noSharedTooltip:!0,searchPoint:i.noop,accumulateAllPoints:function(t){var e,n,i=t.chart,o=[];for(e=0;e<i.series.length;e++)if((t=i.series[e]).is("packedbubble")&&t.visible||!i.options.chart.ignoreHiddenSeries)for(n=0;n<t.yData.length;n++)o.push([null,null,t.yData[n],t.index,n,{id:n,marker:{radius:0}}]);return o},init:function(){return m.prototype.init.apply(this,arguments),s(this,"updatedData",(function(){this.chart.series.forEach((function(t){t.type===this.type&&(t.isDirty=!0)}),this)})),this},render:function(){var t=[];m.prototype.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach((function(e){d(e.dataLabels)&&e.dataLabels.forEach((function(e){t.push(e)}))})),this.options.useSimulation&&this.chart.hideOverlappingLabels(t))},setVisible:function(){var t=this;m.prototype.setVisible.apply(t,arguments),t.parentNodeLayout&&t.graph?t.visible?(t.graph.show(),t.parentNode.dataLabel&&t.parentNode.dataLabel.show()):(t.graph.hide(),t.parentNodeLayout.removeElementFromCollection(t.parentNode,t.parentNodeLayout.nodes),t.parentNode.dataLabel&&t.parentNode.dataLabel.hide()):t.layout&&(t.visible?t.layout.addElementsToCollection(t.points,t.layout.nodes):t.points.forEach((function(e){t.layout.removeElementFromCollection(e,t.layout.nodes)})))},drawDataLabels:function(){var t=this.options.dataLabels.textPath,e=this.points;m.prototype.drawDataLabels.apply(this,arguments),this.parentNode&&(this.parentNode.formatPrefix="parentNode",this.points=[this.parentNode],this.options.dataLabels.textPath=this.options.dataLabels.parentNodeTextPath,m.prototype.drawDataLabels.apply(this,arguments),this.points=e,this.options.dataLabels.textPath=t)},seriesBox:function(){var t,e=this.chart,n=Math.max,i=Math.min,o=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];return this.data.forEach((function(e){u(e.plotX)&&u(e.plotY)&&e.marker.radius&&(t=e.marker.radius,o[0]=i(o[0],e.plotX-t),o[1]=n(o[1],e.plotX+t),o[2]=i(o[2],e.plotY-t),o[3]=n(o[3],e.plotY+t))})),f(o.width/o.height)?o:null},calculateParentRadius:function(){var t=this.seriesBox();this.parentNodeRadius=l(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,t?Math.max(Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)},drawGraph:function(){if(this.layout&&this.layout.options.splitSeries){var t=this.chart,e=this.layout.options.parentNodeOptions.marker;e={fill:e.fillColor||a(this.color).brighten(.4).get(),opacity:e.fillOpacity,stroke:e.lineColor||this.color,"stroke-width":e.lineWidth};var n=this.visible?"inherit":"hidden";this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",n,.1,t.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius(),n=p({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},e),this.parentNode.graphic||(this.graph=this.parentNode.graphic=t.renderer.symbol(e.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(n)}},createParentNodes:function(){var t,e=this,n=e.chart,i=e.parentNodeLayout,o=e.parentNode,r=e.pointClass;e.parentNodeMass=0,e.points.forEach((function(t){e.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)})),e.calculateParentRadius(),i.nodes.forEach((function(n){n.seriesIndex===e.index&&(t=!0)})),i.setArea(0,0,n.plotWidth,n.plotHeight),t||(o||(o=(new r).init(this,{mass:e.parentNodeRadius/2,marker:{radius:e.parentNodeRadius},dataLabels:{inside:!1},dataLabelOnNull:!0,degree:e.parentNodeRadius,isParentNode:!0,seriesIndex:e.index})),e.parentNode&&(o.plotX=e.parentNode.plotX,o.plotY=e.parentNode.plotY),e.parentNode=o,i.addElementsToCollection([e],i.series),i.addElementsToCollection([o],i.nodes))},drawTracker:function(){var t=this.parentNode;if(i.TrackerMixin.drawTrackerPoint.call(this),t){var e=d(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[];t.graphic&&(t.graphic.element.point=t),e.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))}},addSeriesLayout:function(){var t=this.options.layoutAlgorithm,e=this.chart.graphLayoutsStorage,n=this.chart.graphLayoutsLookup,o=p(t,t.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),r=e[t.type+"-series"];r||(e[t.type+"-series"]=r=new i.layouts[t.type],r.init(o),n.splice(r.index,0,r)),this.parentNodeLayout=r,this.createParentNodes()},addLayout:function(){var t=this.options.layoutAlgorithm,e=this.chart.graphLayoutsStorage,n=this.chart.graphLayoutsLookup,o=this.chart.options.chart;e||(this.chart.graphLayoutsStorage=e={},this.chart.graphLayoutsLookup=n=[]);var r=e[t.type];r||(t.enableSimulation=u(o.forExport)?!o.forExport:t.enableSimulation,e[t.type]=r=new i.layouts[t.type],r.init(t),n.splice(r.index,0,r)),this.layout=r,this.points.forEach((function(t){t.mass=2,t.degree=1,t.collisionNmb=1})),r.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),r.addElementsToCollection([this],r.series),r.addElementsToCollection(this.points,r.nodes)},deferLayout:function(){var t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())},translate:function(){var t,e=this.chart,n=this.data,i=this.index,o=this.options.useSimulation;if(this.processedXData=this.xData,this.generatePoints(),u(e.allDataPoints)||(e.allDataPoints=this.accumulateAllPoints(this),this.getPointRadius()),o)var r=e.allDataPoints;else r=this.placeBubbles(e.allDataPoints),this.options.draggable=!1;for(t=0;t<r.length;t++)if(r[t][3]===i){var a=n[r[t][4]],s=r[t][2];o||(a.plotX=r[t][0]-e.plotLeft+e.diffX,a.plotY=r[t][1]-e.plotTop+e.diffY),a.marker=h(a.marker,{radius:s,width:2*s,height:2*s}),a.radius=s}o&&this.deferLayout(),c(this,"afterTranslate")},checkOverlap:function(t,e){var n=t[0]-e[0],i=t[1]-e[1];return-.001>Math.sqrt(n*n+i*i)-Math.abs(t[2]+e[2])},positionBubble:function(t,e,n){var i=Math.sqrt,o=Math.asin,r=Math.acos,a=Math.pow,s=Math.abs;return i=i(a(t[0]-e[0],2)+a(t[1]-e[1],2)),r=r((a(i,2)+a(n[2]+e[2],2)-a(n[2]+t[2],2))/(2*(n[2]+e[2])*i)),o=o(s(t[0]-e[0])/i),t=(0>t[1]-e[1]?0:Math.PI)+r+o*(0>(t[0]-e[0])*(t[1]-e[1])?1:-1),[e[0]+(e[2]+n[2])*Math.sin(t),e[1]-(e[2]+n[2])*Math.cos(t),n[2],n[3],n[4]]},placeBubbles:function(t){var e,n=this.checkOverlap,i=this.positionBubble,o=[],r=1,a=0,s=0,l=[];if((t=t.sort((function(t,e){return e[2]-t[2]}))).length){if(o.push([[0,0,t[0][2],t[0][3],t[0][4]]]),1<t.length)for(o.push([[0,0-t[1][2]-t[0][2],t[1][2],t[1][3],t[1][4]]]),e=2;e<t.length;e++)t[e][2]=t[e][2]||1,n(l=i(o[r][a],o[r-1][s],t[e]),o[r][0])?(o.push([]),s=0,o[r+1].push(i(o[r][a],o[r][0],t[e])),r++,a=0):1<r&&o[r-1][s+1]&&n(l,o[r-1][s+1])?(s++,o[r].push(i(o[r][a],o[r-1][s],t[e])),a++):(a++,o[r].push(l));this.chart.stages=o,this.chart.rawPositions=[].concat.apply([],o),this.resizeRadius(),l=this.chart.rawPositions}return l},resizeRadius:function(){var t,e,n,i=this.chart,o=i.rawPositions,r=Math.min,a=Math.max,s=i.plotLeft,l=i.plotTop,u=i.plotHeight,h=i.plotWidth,c=t=Number.POSITIVE_INFINITY,d=e=Number.NEGATIVE_INFINITY;for(n=0;n<o.length;n++){var f=o[n][2];c=r(c,o[n][0]-f),d=a(d,o[n][0]+f),t=r(t,o[n][1]-f),e=a(e,o[n][1]+f)}if(n=[d-c,e-t],r=r.apply([],[(h-s)/n[0],(u-l)/n[1]]),1e-10<Math.abs(r-1)){for(n=0;n<o.length;n++)o[n][2]*=r;this.placeBubbles(o)}else i.diffY=u/2+l-t-(e-t)/2,i.diffX=h/2+s-c-(d-c)/2},calculateZExtremes:function(){var t=this.options.zMin,e=this.options.zMax,n=1/0,i=-1/0;return t&&e?[t,e]:(this.chart.series.forEach((function(t){t.yData.forEach((function(t){u(t)&&(t>i&&(i=t),t<n&&(n=t))}))})),[t=g(t,n),e=g(e,i)])},getPointRadius:function(){var t,e,n,i,o=this,r=o.chart,a=o.options,s=a.useSimulation,u=Math.min(r.plotWidth,r.plotHeight),h={},c=[],d=r.allDataPoints;["minSize","maxSize"].forEach((function(t){var e=parseInt(a[t],10),n=/%$/.test(a[t]);h[t]=n?u*e/100:e*Math.sqrt(d.length)})),r.minRadius=t=h.minSize/Math.sqrt(d.length),r.maxRadius=e=h.maxSize/Math.sqrt(d.length);var f=s?o.calculateZExtremes():[t,e];(d||[]).forEach((function(r,a){n=s?l(r[2],f[0],f[1]):r[2],0===(i=o.getRadius(f[0],f[1],t,e,n))&&(i=null),d[a][2]=i,c.push(i)})),o.radii=c},redrawHalo:y.redrawHalo,onMouseDown:y.onMouseDown,onMouseMove:y.onMouseMove,onMouseUp:function(t){if(t.fixedPosition&&!t.removed){var e,n=this.layout,i=this.parentNodeLayout;i&&n.options.dragBetweenSeries&&i.nodes.forEach((function(i){t&&t.marker&&i!==t.series.parentNode&&(e=n.getDistXY(t,i),0>n.vectorLength(e)-i.marker.radius-t.marker.radius&&(i.series.addPoint(p(t.options,{plotX:t.plotX,plotY:t.plotY}),!1),n.removeElementFromCollection(t,n.nodes),t.remove()))})),y.onMouseUp.apply(this,arguments)}},destroy:function(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach((function(t){t.removeElementFromCollection(this,t.series)}),this),this.parentNode&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),i.Series.prototype.destroy.apply(this,arguments)},alignDataLabel:i.Series.prototype.alignDataLabel},{destroy:function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),o.prototype.destroy.apply(this,arguments)},firePointEvent:function(t,e,n){var i=this.series.options;if(this.isParentNode&&i.parentNode){var r=i.allowPointSelect;i.allowPointSelect=i.parentNode.allowPointSelect,o.prototype.firePointEvent.apply(this,arguments),i.allowPointSelect=r}else o.prototype.firePointEvent.apply(this,arguments)},select:function(t,n){var i=this.series.chart;this.isParentNode?(i.getSelectedPoints=i.getSelectedParentNodes,o.prototype.select.apply(this,arguments),i.getSelectedPoints=e.prototype.getSelectedPoints):o.prototype.select.apply(this,arguments)}}),s(e,"beforeRedraw",(function(){this.allDataPoints&&delete this.allDataPoints}))})),e(t,"Extensions/Polar.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Extensions/Pane.js"],t["Core/Pointer.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o,r,a){var s=t.animObject,l=a.addEvent,u=a.defined,h=a.find,c=a.isNumber,d=a.pick,f=a.splat,p=a.uniqueKey;t=a.wrap;var g=n.Series,m=n.seriesTypes,v=g.prototype;o=o.prototype,v.searchPointByAngle=function(t){var e=this.chart,n=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-n[0]-e.plotLeft,t.chartY-n[1]-e.plotTop)})},v.getConnectors=function(t,e,n,i){var o=i?1:0,r=0<=e&&e<=t.length-1?e:0>e?t.length-1+e:0;e=0>r-1?t.length-(1+o):r-1,o=r+1>t.length-1?o:r+1;var a=t[e];o=t[o];var s=a.plotX;a=a.plotY;var l=o.plotX,u=o.plotY;s=(1.5*(o=t[r].plotX)+s)/2.5,a=(1.5*(r=t[r].plotY)+a)/2.5,l=(1.5*o+l)/2.5;var h=(1.5*r+u)/2.5;u=Math.sqrt(Math.pow(s-o,2)+Math.pow(a-r,2));var c=Math.sqrt(Math.pow(l-o,2)+Math.pow(h-r,2));return s=Math.atan2(a-r,s-o),h=Math.PI/2+(s+Math.atan2(h-r,l-o))/2,Math.abs(s-h)>Math.PI/2&&(h-=Math.PI),s=o+Math.cos(h)*u,a=r+Math.sin(h)*u,o={rightContX:l=o+Math.cos(Math.PI+h)*c,rightContY:h=r+Math.sin(Math.PI+h)*c,leftContX:s,leftContY:a,plotX:o,plotY:r},n&&(o.prevPointCont=this.getConnectors(t,e,!1,i)),o},v.toXY=function(t){var e=this.chart,n=this.xAxis,i=this.yAxis,o=t.plotX,r=t.plotY,a=t.series,s=e.inverted,l=t.y,u=s?o:i.len-r;s&&a&&!a.isRadialBar&&(t.plotY=r="number"===typeof l&&i.translate(l)||0),t.rectPlotX=o,t.rectPlotY=r,i.center&&(u+=i.center[3]/2),i=s?i.postTranslate(r,u):n.postTranslate(o,u),t.plotX=t.polarPlotX=i.x-e.plotLeft,t.plotY=t.polarPlotY=i.y-e.plotTop,this.kdByAngle?(0>(e=(o/Math.PI*180+n.pane.options.startAngle)%360)&&(e+=360),t.clientX=e):t.clientX=t.plotX},m.spline&&(t(m.spline.prototype,"getPointSpline",(function(t,e,n,i){return this.chart.polar?i?t=["C",(t=this.getConnectors(e,i,!0,this.connectEnds)).prevPointCont.rightContX,t.prevPointCont.rightContY,t.leftContX,t.leftContY,t.plotX,t.plotY]:t=["M",n.plotX,n.plotY]:t=t.call(this,e,n,i),t})),m.areasplinerange&&(m.areasplinerange.prototype.getPointSpline=m.spline.prototype.getPointSpline)),l(g,"afterTranslate",(function(){var t=this.chart;if(t.polar&&this.xAxis){if((this.kdByAngle=t.tooltip&&t.tooltip.shared)?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy",!this.preventPostTranslate)for(var e=this.points,i=e.length;i--;)this.toXY(e[i]),!t.hasParallelCoordinates&&!this.yAxis.reversed&&e[i].y<this.yAxis.min&&(e[i].isNull=!0);this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(l(this,"afterRender",(function(){if(t.polar){var e=this.yAxis.pane.center;this.clipCircle?this.clipCircle.animate({x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2}):this.clipCircle=t.renderer.clipCircle(e[0],e[1],e[2]/2,e[3]/2),this.group.clip(this.clipCircle),this.setClip=n.noop}}))))}}),{order:2}),t(v,"getGraphPath",(function(t,e){var n,i=this;if(this.chart.polar){for(e=e||this.points,n=0;n<e.length;n++)if(!e[n].isNull){var o=n;break}if(!1!==this.options.connectEnds&&"undefined"!==typeof o){this.connectEnds=!0,e.splice(e.length,0,e[o]);var r=!0}e.forEach((function(t){"undefined"===typeof t.polarPlotY&&i.toXY(t)}))}return n=t.apply(this,[].slice.call(arguments,1)),r&&e.pop(),n}));var y=function(t,e){var i,o,r,a,l=this,u=this.chart,h=this.options.animation,c=this.group,f=this.markerGroup,p=this.xAxis.center,g=u.plotLeft,m=u.plotTop;if(u.polar){if(l.isRadialBar)e||(l.startAngleRad=d(l.translatedThreshold,l.xAxis.startAngleRad),n.seriesTypes.pie.prototype.animate.call(l,e));else if(u.renderer.isSVG)if(h=s(h),l.is("column")){if(!e){var v=p[3]/2;l.points.forEach((function(t){i=t.graphic,r=(o=t.shapeArgs)&&o.r,a=o&&o.innerR,i&&o&&(i.attr({r:v,innerR:v}),i.animate({r:r,innerR:a},l.options.animation))}))}}else e?(t={translateX:p[0]+g,translateY:p[1]+m,scaleX:.001,scaleY:.001},c.attr(t),f&&f.attr(t)):(t={translateX:g,translateY:m,scaleX:1,scaleY:1},c.animate(t,h),f&&f.animate(t,h))}else t.call(this,e)};t(v,"animate",y),m.column&&(g=m.arearange.prototype,(m=m.column.prototype).polarArc=function(t,e,n,i){var o=this.xAxis.center,r=this.yAxis.len,a=o[3]/2;return e=r-e+a,t=r-d(t,r)+a,this.yAxis.reversed&&(0>e&&(e=a),0>t&&(t=a)),{x:o[0],y:o[1],r:e,innerR:t,start:n,end:i}},t(m,"animate",y),t(m,"translate",(function(t){var e=this.options,n=e.stacking,i=this.chart,o=this.xAxis,r=this.yAxis,s=r.reversed,l=r.center,h=o.startAngleRad,d=o.endAngleRad-h;if(this.preventPostTranslate=!0,t.call(this),o.isRadial){o=(t=this.points).length;var f=r.translate(r.min),p=r.translate(r.max);if(e=e.threshold||0,i.inverted&&c(e)){var g=r.translate(e);u(g)&&(0>g?g=0:g>d&&(g=d),this.translatedThreshold=g+h)}for(;o--;){var m=(e=t[o]).barX,v=e.x,y=e.y;if(e.shapeType="arc",i.inverted){if(e.plotY=r.translate(y),n&&r.stacking){if(y=r.stacking.stacks[(0>y?"-":"")+this.stackKey],this.visible&&y&&y[v]&&!e.isNull){var _=y[v].points[this.getStackIndicator(void 0,v,this.index).key],b=r.translate(_[0]);_=r.translate(_[1]),u(b)&&(b=a.clamp(b,0,d))}}else b=g,_=e.plotY;b>_&&(_=[b,b=_][0]),s?_>f?_=f:b<p?b=p:(b>f||_<p)&&(b=_=d):b<f?b=f:_>p?_=p:(_<f||b>p)&&(b=_=0),r.min>r.max&&(b=_=s?d:0),b+=h,_+=h,l&&(e.barX=m+=l[3]/2),v=Math.max(m,0),y=Math.max(m+e.pointWidth,0),e.shapeArgs={x:l&&l[0],y:l&&l[1],r:y,innerR:v,start:b,end:_},e.opacity=b===_?0:void 0,e.plotY=(u(this.translatedThreshold)&&(b<this.translatedThreshold?b:_))-h}else b=m+h,e.shapeArgs=this.polarArc(e.yBottom,e.plotY,b,b+e.pointWidth);this.toXY(e),i.inverted?(m=r.postTranslate(e.rectPlotY,m+e.pointWidth/2),e.tooltipPos=[m.x-i.plotLeft,m.y-i.plotTop]):e.tooltipPos=[e.plotX,e.plotY],l&&(e.ttBelow=e.plotY>l[1])}}})),m.findAlignments=function(t,e){return null===e.align&&(e.align=20<t&&160>t?"left":200<t&&340>t?"right":"center"),null===e.verticalAlign&&(e.verticalAlign=45>t||315<t?"bottom":135<t&&225>t?"top":"middle"),e},g&&(g.findAlignments=m.findAlignments),t(m,"alignDataLabel",(function(t,e,n,i,o,r){var a=this.chart,s=d(i.inside,!!this.options.stacking);a.polar?(t=e.rectPlotX/Math.PI*180,a.inverted?(this.forceDL=a.isInsidePlot(e.plotX,Math.round(e.plotY),!1),s&&e.shapeArgs?(o=e.shapeArgs,o={x:(o=this.yAxis.postTranslate((o.start+o.end)/2-this.xAxis.startAngleRad,e.barX+e.pointWidth/2)).x-a.plotLeft,y:o.y-a.plotTop}):e.tooltipPos&&(o={x:e.tooltipPos[0],y:e.tooltipPos[1]}),i.align=d(i.align,"center"),i.verticalAlign=d(i.verticalAlign,"middle")):this.findAlignments&&(i=this.findAlignments(t,i)),v.alignDataLabel.call(this,e,n,i,o,r),this.isRadialBar&&e.shapeArgs&&e.shapeArgs.start===e.shapeArgs.end&&n.hide(!0)):t.call(this,e,n,i,o,r)}))),t(o,"getCoordinates",(function(t,e){var n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?n.axes.forEach((function(t){var o=t.isXAxis,r=t.center;if("colorAxis"!==t.coll){var a=e.chartX-r[0]-n.plotLeft;r=e.chartY-r[1]-n.plotTop,i[o?"xAxis":"yAxis"].push({axis:t,value:t.translate(o?Math.PI-Math.atan2(a,r):Math.sqrt(Math.pow(a,2)+Math.pow(r,2)),!0)})}})):i=t.call(this,e),i})),r.prototype.clipCircle=function(t,e,n,i){var o=p(),r=this.createElement("clipPath").attr({id:o}).add(this.defs);return(t=i?this.arc(t,e,n,i,0,2*Math.PI).add(r):this.circle(t,e,n).add(r)).id=o,t.clipPath=r,t},l(e,"getAxes",(function(){this.pane||(this.pane=[]),f(this.options.pane).forEach((function(t){new i(t,this)}),this)})),l(e,"afterDrawChartBox",(function(){this.pane.forEach((function(t){t.render()}))})),l(n.Series,"afterInit",(function(){var t=this.chart;t.inverted&&t.polar&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0))})),t(e.prototype,"get",(function(t,e){return h(this.pane,(function(t){return t.options.id===e}))||t.call(this,e)}))})),e(t,"masters/highcharts-more.src.js",[],(function(){}))}))},,function(t,e,n){"use strict";var i=n(195),o="function"===typeof Symbol&&Symbol.for,r=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,h=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113,p=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||y}function x(){}function w(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=b.prototype;var C=w.prototype=new x;C.constructor=w,i(C,b.prototype),C.isPureReactComponent=!0;var S={current:null},k=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,n){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)k.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];o.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:t,key:a,ref:s,props:o,_owner:S.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===r}var D=/\/+/g,M=[];function O(t,e,n,i){if(M.length){var o=M.pop();return o.result=t,o.keyPrefix=e,o.func=n,o.context=i,o.count=0,o}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function P(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function A(t,e,n){return null==t?0:function t(e,n,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case a:l=!0}}if(l)return i(o,e,""===n?"."+R(e,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var h=n+R(s=e[u],u);l+=t(s,h,i,o)}else if(null===e||"object"!==typeof e?h=null:h="function"===typeof(h=m&&e[m]||e["@@iterator"])?h:null,"function"===typeof h)for(e=h.call(e),u=0;!(s=e.next()).done;)l+=t(s=s.value,h=n+R(s,u++),i,o);else if("object"===s)throw i=""+e,Error(v(31,"[object Object]"===i?"object with keys {"+Object.keys(e).join(", ")+"}":i,""));return l}(t,"",e,n)}function R(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function B(t,e){t.func.call(t.context,e,t.count++)}function N(t,e,n){var i=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,i,n,(function(t){return t})):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(D,"$&/")+"/")+n)),i.push(t))}function F(t,e,n,i,o){var r="";null!=n&&(r=(""+n).replace(D,"$&/")+"/"),A(t,N,e=O(e,r,i,o)),P(e)}var L={current:null};function V(){var t=L.current;if(null===t)throw Error(v(321));return t}var j={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,n){if(null==t)return t;var i=[];return F(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;A(t,B,e=O(null,null,e,n)),P(e)},count:function(t){return A(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!T(t))throw Error(v(143));return t}},e.Component=b,e.Fragment=s,e.Profiler=u,e.PureComponent=w,e.StrictMode=l,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(v(267,t));var o=i({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=S.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)k.call(e,h)&&!E.hasOwnProperty(h)&&(o[h]=void 0===e[h]&&void 0!==u?u[h]:e[h])}var h=arguments.length-2;if(1===h)o.children=n;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:r,type:t.type,key:a,ref:s,props:o,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:t},t.Consumer=t},e.createElement=I,e.createFactory=function(t){var e=I.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return V().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,n){return V().useReducer(t,e,n)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";var i=n(0),o=n(195),r=n(287);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(t,e,n,i,o,r,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var l=!1,u=null,h=!1,c=null,d={onError:function(t){l=!0,u=t}};function f(t,e,n,i,o,r,a,h,c){l=!1,u=null,s.apply(d,arguments)}var p=null,g=null,m=null;function v(t,e,n){var i=t.type||"unknown-event";t.currentTarget=m(n),function(t,e,n,i,o,r,s,d,p){if(f.apply(this,arguments),l){if(!l)throw Error(a(198));var g=u;l=!1,u=null,h||(h=!0,c=g)}}(i,e,void 0,t),t.currentTarget=null}var y=null,_={};function b(){if(y)for(var t in _){var e=_[t],n=y.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!w[n]){if(!e.extractEvents)throw Error(a(97,t));for(var i in w[n]=e,n=e.eventTypes){var o=void 0,r=n[i],s=e,l=i;if(C.hasOwnProperty(l))throw Error(a(99,l));C[l]=r;var u=r.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&x(u[o],s,l);o=!0}else r.registrationName?(x(r.registrationName,s,l),o=!0):o=!1;if(!o)throw Error(a(98,i,t))}}}}function x(t,e,n){if(S[t])throw Error(a(100,t));S[t]=e,k[t]=e.eventTypes[n].dependencies}var w=[],C={},S={},k={};function E(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!_.hasOwnProperty(e)||_[e]!==i){if(_[e])throw Error(a(102,e));_[e]=i,n=!0}}n&&b()}var I=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),T=null,D=null,M=null;function O(t){if(t=g(t)){if("function"!==typeof T)throw Error(a(280));var e=t.stateNode;e&&(e=p(e),T(t.stateNode,t.type,e))}}function P(t){D?M?M.push(t):M=[t]:D=t}function A(){if(D){var t=D,e=M;if(M=D=null,O(t),e)for(t=0;t<e.length;t++)O(e[t])}}function R(t,e){return t(e)}function B(t,e,n,i,o){return t(e,n,i,o)}function N(){}var F=R,L=!1,V=!1;function j(){null===D&&null===M||(N(),A())}function z(t,e,n){if(V)return t(e,n);V=!0;try{return F(t,e,n)}finally{V=!1,j()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,G={},K={};function $(t,e,n,i,o,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){U[t]=new $(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];U[e]=new $(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){U[t]=new $(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){U[t]=new $(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){U[t]=new $(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){U[t]=new $(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){U[t]=new $(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){U[t]=new $(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){U[t]=new $(t,5,!1,t.toLowerCase(),null,!1)}));var q=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(q,Y);U[e]=new $(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(q,Y);U[e]=new $(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(q,Y);U[e]=new $(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!1)})),U.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!0)}));var X=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(t,e,n,i){var o=U.hasOwnProperty(e)?U[e]:null;(null!==o?0===o.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,o,i)&&(n=null),i||null===o?function(t){return!!W.call(K,t)||!W.call(G,t)&&(H.test(t)?K[t]=!0:(G[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,i=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,tt=Q?Symbol.for("react.element"):60103,et=Q?Symbol.for("react.portal"):60106,nt=Q?Symbol.for("react.fragment"):60107,it=Q?Symbol.for("react.strict_mode"):60108,ot=Q?Symbol.for("react.profiler"):60114,rt=Q?Symbol.for("react.provider"):60109,at=Q?Symbol.for("react.context"):60110,st=Q?Symbol.for("react.concurrent_mode"):60111,lt=Q?Symbol.for("react.forward_ref"):60112,ut=Q?Symbol.for("react.suspense"):60113,ht=Q?Symbol.for("react.suspense_list"):60120,ct=Q?Symbol.for("react.memo"):60115,dt=Q?Symbol.for("react.lazy"):60116,ft=Q?Symbol.for("react.block"):60121,pt="function"===typeof Symbol&&Symbol.iterator;function gt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function mt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case ot:return"Profiler";case it:return"StrictMode";case ut:return"Suspense";case ht:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case rt:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ct:return mt(t.type);case ft:return mt(t.render);case dt:if(t=1===t._status?t._result:null)return mt(t)}return null}function vt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var i=t._debugOwner,o=t._debugSource,r=mt(t.type);n=null,i&&(n=mt(i.type)),i=r,r="",o?r=" (at "+o.fileName.replace(J,"")+":"+o.lineNumber+")":n&&(r=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+r}e+=n,t=t.return}while(t);return e}function yt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _t(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=_t(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){i=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function xt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=_t(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function wt(t,e){var n=e.checked;return o({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Ct(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=yt(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function St(t,e){null!=(e=e.checked)&&Z(t,"checked",e,!1)}function kt(t,e){St(t,e);var n=yt(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?It(t,e.type,n):e.hasOwnProperty("defaultValue")&&It(t,e.type,yt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Et(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function It(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Tt(t,e){return t=o({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Dt(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+yt(n),e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(i&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function Mt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return o({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ot(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:yt(n)}}function Pt(t,e){var n=yt(e.value),i=yt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function At(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Rt="http://www.w3.org/1999/xhtml",Bt="http://www.w3.org/2000/svg";function Nt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Nt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Lt,Vt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,o){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Bt||"innerHTML"in t)t.innerHTML=e;else{for((Lt=Lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function jt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function zt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ht={animationend:zt("Animation","AnimationEnd"),animationiteration:zt("Animation","AnimationIteration"),animationstart:zt("Animation","AnimationStart"),transitionend:zt("Transition","TransitionEnd")},Wt={},Gt={};function Kt(t){if(Wt[t])return Wt[t];if(!Ht[t])return t;var e,n=Ht[t];for(e in n)if(n.hasOwnProperty(e)&&e in Gt)return Wt[t]=n[e];return t}I&&(Gt=document.createElement("div").style,"AnimationEvent"in window||(delete Ht.animationend.animation,delete Ht.animationiteration.animation,delete Ht.animationstart.animation),"TransitionEvent"in window||delete Ht.transitionend.transition);var $t=Kt("animationend"),Ut=Kt("animationiteration"),qt=Kt("animationstart"),Yt=Kt("transitionend"),Xt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zt=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=Zt.get(t);return void 0===e&&(e=new Map,Zt.set(t,e)),e}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Qt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return ee(o),t;if(r===i)return ee(o),e;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=o,i=r;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ie(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function oe(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var re=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)v(t,e[i],n[i]);else e&&v(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(re=ie(re,t)),t=re,re=null,t){if(oe(t,ae),re)throw Error(a(95));if(h)throw t=c,h=!1,c=null,t}}function le(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ue(t){if(!I)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var he=[];function ce(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>he.length&&he.push(t)}function de(t,e,n,i){if(he.length){var o=he.pop();return o.topLevelType=t,o.eventSystemFlags=i,o.nativeEvent=e,o.targetInst=n,o}return{topLevelType:t,eventSystemFlags:i,nativeEvent:e,targetInst:n,ancestors:[]}}function fe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=In(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var o=le(t.nativeEvent);i=t.topLevelType;var r=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var u=w[l];u&&(u=u.extractEvents(i,e,r,o,a))&&(s=ie(s,u))}se(s)}}function pe(t,e,n){if(!n.has(t)){switch(t){case"scroll":qe(e,"scroll",!0);break;case"focus":case"blur":qe(e,"focus",!0),qe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ue(t)&&qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xt.indexOf(t)&&Ue(t,e)}n.set(t,null)}}var ge,me,ve,ye=!1,_e=[],be=null,xe=null,we=null,Ce=new Map,Se=new Map,ke=[],Ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ie="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Te(t,e,n,i,o){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:o,container:i}}function De(t,e){switch(t){case"focus":case"blur":be=null;break;case"dragenter":case"dragleave":xe=null;break;case"mouseover":case"mouseout":we=null;break;case"pointerover":case"pointerout":Ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Se.delete(e.pointerId)}}function Me(t,e,n,i,o,r){return null===t||t.nativeEvent!==r?(t=Te(e,n,i,o,r),null!==e&&(null!==(e=Tn(e))&&me(e)),t):(t.eventSystemFlags|=i,t)}function Oe(t){var e=In(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void r.unstable_runWithPriority(t.priority,(function(){ve(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Pe(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Tn(e);return null!==n&&me(n),t.blockedOn=e,!1}return!0}function Ae(t,e,n){Pe(t)&&n.delete(e)}function Re(){for(ye=!1;0<_e.length;){var t=_e[0];if(null!==t.blockedOn){null!==(t=Tn(t.blockedOn))&&ge(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:_e.shift()}null!==be&&Pe(be)&&(be=null),null!==xe&&Pe(xe)&&(xe=null),null!==we&&Pe(we)&&(we=null),Ce.forEach(Ae),Se.forEach(Ae)}function Be(t,e){t.blockedOn===e&&(t.blockedOn=null,ye||(ye=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Re)))}function Ne(t){function e(e){return Be(e,t)}if(0<_e.length){Be(_e[0],t);for(var n=1;n<_e.length;n++){var i=_e[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==be&&Be(be,t),null!==xe&&Be(xe,t),null!==we&&Be(we,t),Ce.forEach(e),Se.forEach(e),n=0;n<ke.length;n++)(i=ke[n]).blockedOn===t&&(i.blockedOn=null);for(;0<ke.length&&null===(n=ke[0]).blockedOn;)Oe(n),null===n.blockedOn&&ke.shift()}var Fe={},Le=new Map,Ve=new Map,je=["abort","abort",$t,"animationEnd",Ut,"animationIteration",qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Yt,"transitionEnd","waiting","waiting"];function ze(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],o=t[n+1],r="on"+(o[0].toUpperCase()+o.slice(1));r={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[i],eventPriority:e},Ve.set(i,e),Le.set(i,r),Fe[o]=r}}ze("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ze("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ze(je,2);for(var He="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<He.length;We++)Ve.set(He[We],0);var Ge=r.unstable_UserBlockingPriority,Ke=r.unstable_runWithPriority,$e=!0;function Ue(t,e){qe(e,t,!1)}function qe(t,e,n){var i=Ve.get(e);switch(void 0===i?2:i){case 0:i=Ye.bind(null,e,1,t);break;case 1:i=Xe.bind(null,e,1,t);break;default:i=Ze.bind(null,e,1,t)}n?t.addEventListener(e,i,!0):t.addEventListener(e,i,!1)}function Ye(t,e,n,i){L||N();var o=Ze,r=L;L=!0;try{B(o,t,e,n,i)}finally{(L=r)||j()}}function Xe(t,e,n,i){Ke(Ge,Ze.bind(null,t,e,n,i))}function Ze(t,e,n,i){if($e)if(0<_e.length&&-1<Ee.indexOf(t))t=Te(null,t,e,n,i),_e.push(t);else{var o=Je(t,e,n,i);if(null===o)De(t,i);else if(-1<Ee.indexOf(t))t=Te(o,t,e,n,i),_e.push(t);else if(!function(t,e,n,i,o){switch(e){case"focus":return be=Me(be,t,e,n,i,o),!0;case"dragenter":return xe=Me(xe,t,e,n,i,o),!0;case"mouseover":return we=Me(we,t,e,n,i,o),!0;case"pointerover":var r=o.pointerId;return Ce.set(r,Me(Ce.get(r)||null,t,e,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,Se.set(r,Me(Se.get(r)||null,t,e,n,i,o)),!0}return!1}(o,t,e,n,i)){De(t,i),t=de(t,i,null,e);try{z(fe,t)}finally{ce(t)}}}}function Je(t,e,n,i){if(null!==(n=In(n=le(i)))){var o=Qt(n);if(null===o)n=null;else{var r=o.tag;if(13===r){if(null!==(n=te(o)))return n;n=null}else if(3===r){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}t=de(t,i,n,e);try{z(fe,t)}finally{ce(t)}return null}var Qe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Qe.hasOwnProperty(t)&&Qe[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=en(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}Object.keys(Qe).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qe[e]=Qe[t]}))}));var on=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(t,e){if(e){if(on[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Rt;function ln(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=k[e];for(var i=0;i<e.length;i++)pe(e[i],t,n)}function un(){}function hn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dn(t,e){var n,i=cn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=cn(i)}}function fn(){for(var t=window,e=hn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=hn((t=e.contentWindow).document)}return e}function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gn=null,mn=null;function vn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function yn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,bn="function"===typeof clearTimeout?clearTimeout:void 0;function xn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function wn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+Cn,kn="__reactEventHandlers$"+Cn,En="__reactContainere$"+Cn;function In(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[En]||n[Sn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=wn(t);null!==t;){if(n=t[Sn])return n;t=wn(t)}return e}n=(t=n).parentNode}return null}function Tn(t){return!(t=t[Sn]||t[En])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Dn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Mn(t){return t[kn]||null}function On(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Pn(t,e){var n=t.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}function An(t,e,n){(e=Pn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function Rn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=On(e);for(e=n.length;0<e--;)An(n[e],"captured",t);for(e=0;e<n.length;e++)An(n[e],"bubbled",t)}}function Bn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Pn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ie(n._dispatchListeners,e),n._dispatchInstances=ie(n._dispatchInstances,t))}function Nn(t){t&&t.dispatchConfig.registrationName&&Bn(t._targetInst,null,t)}function Fn(t){oe(t,Rn)}var Ln=null,Vn=null,jn=null;function zn(){if(jn)return jn;var t,e,n=Vn,i=n.length,o="value"in Ln?Ln.value:Ln.textContent,r=o.length;for(t=0;t<i&&n[t]===o[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===o[r-e];e++);return jn=o.slice(t,1<e?1-e:void 0)}function Hn(){return!0}function Wn(){return!1}function Gn(t,e,n,i){for(var o in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(o)&&((e=t[o])?this[o]=e(n):"target"===o?this.target=i:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Wn,this.isPropagationStopped=Wn,this}function Kn(t,e,n,i){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,e,n,i),o}return new this(t,e,n,i)}function $n(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Un(t){t.eventPool=[],t.getPooled=Kn,t.release=$n}o(Gn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Wn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Gn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gn.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var r=new e;return o(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=o({},i.Interface,t),n.extend=i.extend,Un(n),n},Un(Gn);var qn=Gn.extend({data:null}),Yn=Gn.extend({data:null}),Xn=[9,13,27,32],Zn=I&&"CompositionEvent"in window,Jn=null;I&&"documentMode"in document&&(Jn=document.documentMode);var Qn=I&&"TextEvent"in window&&!Jn,ti=I&&(!Zn||Jn&&8<Jn&&11>=Jn),ei=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function oi(t,e){switch(t){case"keyup":return-1!==Xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ri(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(t,e,n,i){var o;if(Zn)t:{switch(t){case"compositionstart":var r=ni.compositionStart;break t;case"compositionend":r=ni.compositionEnd;break t;case"compositionupdate":r=ni.compositionUpdate;break t}r=void 0}else ai?oi(t,n)&&(r=ni.compositionEnd):"keydown"===t&&229===n.keyCode&&(r=ni.compositionStart);return r?(ti&&"ko"!==n.locale&&(ai||r!==ni.compositionStart?r===ni.compositionEnd&&ai&&(o=zn()):(Vn="value"in(Ln=i)?Ln.value:Ln.textContent,ai=!0)),r=qn.getPooled(r,e,n,i),o?r.data=o:null!==(o=ri(n))&&(r.data=o),Fn(r),o=r):o=null,(t=Qn?function(t,e){switch(t){case"compositionend":return ri(e);case"keypress":return 32!==e.which?null:(ii=!0,ei);case"textInput":return(t=e.data)===ei&&ii?null:t;default:return null}}(t,n):function(t,e){if(ai)return"compositionend"===t||!Zn&&oi(t,e)?(t=zn(),jn=Vn=Ln=null,ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ti&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Yn.getPooled(ni.beforeInput,e,n,i)).data=t,Fn(e)):e=null,null===o?e:null===e?o:[o,e]}},li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ui(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!li[t.type]:"textarea"===e}var hi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ci(t,e,n){return(t=Gn.getPooled(hi.change,t,e,n)).type="change",P(n),Fn(t),t}var di=null,fi=null;function pi(t){se(t)}function gi(t){if(xt(Dn(t)))return t}function mi(t,e){if("change"===t)return e}var vi=!1;function yi(){di&&(di.detachEvent("onpropertychange",_i),fi=di=null)}function _i(t){if("value"===t.propertyName&&gi(fi))if(t=ci(fi,t,le(t)),L)se(t);else{L=!0;try{R(pi,t)}finally{L=!1,j()}}}function bi(t,e,n){"focus"===t?(yi(),fi=n,(di=e).attachEvent("onpropertychange",_i)):"blur"===t&&yi()}function xi(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return gi(fi)}function wi(t,e){if("click"===t)return gi(e)}function Ci(t,e){if("input"===t||"change"===t)return gi(e)}I&&(vi=ue("input")&&(!document.documentMode||9<document.documentMode));var Si={eventTypes:hi,_isInputEventSupported:vi,extractEvents:function(t,e,n,i){var o=e?Dn(e):window,r=o.nodeName&&o.nodeName.toLowerCase();if("select"===r||"input"===r&&"file"===o.type)var a=mi;else if(ui(o))if(vi)a=Ci;else{a=xi;var s=bi}else(r=o.nodeName)&&"input"===r.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=wi);if(a&&(a=a(t,e)))return ci(a,n,i);s&&s(t,o,e),"blur"===t&&(t=o._wrapperState)&&t.controlled&&"number"===o.type&&It(o,"number",o.value)}},ki=Gn.extend({view:null,detail:null}),Ei={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ii(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ei[t])&&!!e[t]}function Ti(){return Ii}var Di=0,Mi=0,Oi=!1,Pi=!1,Ai=ki.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ti,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Di;return Di=t.screenX,Oi?"mousemove"===t.type?t.screenX-e:0:(Oi=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Mi;return Mi=t.screenY,Pi?"mousemove"===t.type?t.screenY-e:0:(Pi=!0,0)}}),Ri=Ai.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Bi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ni={eventTypes:Bi,extractEvents:function(t,e,n,i,o){var r="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(r&&0===(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!r)return null;(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?In(e):null)&&(e!==Qt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Ai,l=Bi.mouseLeave,u=Bi.mouseEnter,h="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Ri,l=Bi.pointerLeave,u=Bi.pointerEnter,h="pointer");if(t=null==a?r:Dn(a),r=null==e?r:Dn(e),(l=s.getPooled(l,a,n,i)).type=h+"leave",l.target=t,l.relatedTarget=r,(n=s.getPooled(u,e,n,i)).type=h+"enter",n.target=r,n.relatedTarget=t,h=e,(i=a)&&h)t:{for(u=h,a=0,t=s=i;t;t=On(t))a++;for(t=0,e=u;e;e=On(e))t++;for(;0<a-t;)s=On(s),a--;for(;0<t-a;)u=On(u),t--;for(;a--;){if(s===u||s===u.alternate)break t;s=On(s),u=On(u)}s=null}else s=null;for(u=s,s=[];i&&i!==u&&(null===(a=i.alternate)||a!==u);)s.push(i),i=On(i);for(i=[];h&&h!==u&&(null===(a=h.alternate)||a!==u);)i.push(h),h=On(h);for(h=0;h<s.length;h++)Bn(s[h],"bubbled",l);for(h=i.length;0<h--;)Bn(i[h],"captured",n);return 0===(64&o)?[l]:[l,n]}};var Fi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Li=Object.prototype.hasOwnProperty;function Vi(t,e){if(Fi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Li.call(e,n[i])||!Fi(t[n[i]],e[n[i]]))return!1;return!0}var ji=I&&"documentMode"in document&&11>=document.documentMode,zi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hi=null,Wi=null,Gi=null,Ki=!1;function $i(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Ki||null==Hi||Hi!==hn(n)?null:("selectionStart"in(n=Hi)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gi&&Vi(Gi,n)?null:(Gi=n,(t=Gn.getPooled(zi.select,Wi,t,e)).type="select",t.target=Hi,Fn(t),t))}var Ui={eventTypes:zi,extractEvents:function(t,e,n,i,o,r){if(!(r=!(o=r||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){t:{o=Jt(o),r=k.onSelect;for(var a=0;a<r.length;a++)if(!o.has(r[a])){o=!1;break t}o=!0}r=!o}if(r)return null;switch(o=e?Dn(e):window,t){case"focus":(ui(o)||"true"===o.contentEditable)&&(Hi=o,Wi=e,Gi=null);break;case"blur":Gi=Wi=Hi=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":return Ki=!1,$i(n,i);case"selectionchange":if(ji)break;case"keydown":case"keyup":return $i(n,i)}return null}},qi=Gn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yi=Gn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xi=ki.extend({relatedTarget:null});function Zi(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},to=ki.extend({key:function(t){if(t.key){var e=Ji[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Zi(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Qi[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ti,charCode:function(t){return"keypress"===t.type?Zi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Zi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),eo=Ai.extend({dataTransfer:null}),no=ki.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ti}),io=Gn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=Ai.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),ro={eventTypes:Fe,extractEvents:function(t,e,n,i){var o=Le.get(t);if(!o)return null;switch(t){case"keypress":if(0===Zi(n))return null;case"keydown":case"keyup":t=to;break;case"blur":case"focus":t=Xi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=no;break;case $t:case Ut:case qt:t=qi;break;case Yt:t=io;break;case"scroll":t=ki;break;case"wheel":t=oo;break;case"copy":case"cut":case"paste":t=Yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ri;break;default:t=Gn}return Fn(e=t.getPooled(o,e,n,i)),e}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),p=Mn,g=Tn,m=Dn,E({SimpleEventPlugin:ro,EnterLeaveEventPlugin:Ni,ChangeEventPlugin:Si,SelectEventPlugin:Ui,BeforeInputEventPlugin:si});var ao=[],so=-1;function lo(t){0>so||(t.current=ao[so],ao[so]=null,so--)}function uo(t,e){so++,ao[so]=t.current,t.current=e}var ho={},co={current:ho},fo={current:!1},po=ho;function go(t,e){var n=t.type.contextTypes;if(!n)return ho;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=e[o];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function mo(t){return null!==(t=t.childContextTypes)&&void 0!==t}function vo(){lo(fo),lo(co)}function yo(t,e,n){if(co.current!==ho)throw Error(a(168));uo(co,e),uo(fo,n)}function _o(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,mt(e)||"Unknown",r));return o({},n,{},i)}function bo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ho,po=co.current,uo(co,t),uo(fo,fo.current),!0}function xo(t,e,n){var i=t.stateNode;if(!i)throw Error(a(169));n?(t=_o(t,e,po),i.__reactInternalMemoizedMergedChildContext=t,lo(fo),lo(co),uo(co,t)):lo(fo),uo(fo,n)}var wo=r.unstable_runWithPriority,Co=r.unstable_scheduleCallback,So=r.unstable_cancelCallback,ko=r.unstable_requestPaint,Eo=r.unstable_now,Io=r.unstable_getCurrentPriorityLevel,To=r.unstable_ImmediatePriority,Do=r.unstable_UserBlockingPriority,Mo=r.unstable_NormalPriority,Oo=r.unstable_LowPriority,Po=r.unstable_IdlePriority,Ao={},Ro=r.unstable_shouldYield,Bo=void 0!==ko?ko:function(){},No=null,Fo=null,Lo=!1,Vo=Eo(),jo=1e4>Vo?Eo:function(){return Eo()-Vo};function zo(){switch(Io()){case To:return 99;case Do:return 98;case Mo:return 97;case Oo:return 96;case Po:return 95;default:throw Error(a(332))}}function Ho(t){switch(t){case 99:return To;case 98:return Do;case 97:return Mo;case 96:return Oo;case 95:return Po;default:throw Error(a(332))}}function Wo(t,e){return t=Ho(t),wo(t,e)}function Go(t,e,n){return t=Ho(t),Co(t,e,n)}function Ko(t){return null===No?(No=[t],Fo=Co(To,Uo)):No.push(t),Ao}function $o(){if(null!==Fo){var t=Fo;Fo=null,So(t)}Uo()}function Uo(){if(!Lo&&null!==No){Lo=!0;var t=0;try{var e=No;Wo(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),No=null}catch(n){throw null!==No&&(No=No.slice(t+1)),Co(To,$o),n}finally{Lo=!1}}}function qo(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Yo(t,e){if(t&&t.defaultProps)for(var n in e=o({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Xo={current:null},Zo=null,Jo=null,Qo=null;function tr(){Qo=Jo=Zo=null}function er(t){var e=Xo.current;lo(Xo),t.type._context._currentValue=e}function nr(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ir(t,e){Zo=t,Qo=Jo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ma=!0),t.firstContext=null)}function or(t,e){if(Qo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Qo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Jo){if(null===Zo)throw Error(a(308));Jo=e,Zo.dependencies={expirationTime:0,firstContext:e,responders:null}}else Jo=Jo.next=e;return t._currentValue}var rr=!1;function ar(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function sr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function lr(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function ur(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function hr(t,e){var n=t.alternate;null!==n&&sr(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function cr(t,e,n,i){var r=t.updateQueue;rr=!1;var a=r.baseQueue,s=r.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,r.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=r.baseState,h=0,c=null,d=null,f=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<i){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=g,c=u):f=f.next=g,s>h&&(h=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),rl(s,p.suspenseConfig);t:{var m=t,v=p;switch(s=e,g=n,v.tag){case 1:if("function"===typeof(m=v.payload)){u=m.call(g,u,s);break t}u=m;break t;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=v.payload)?m.call(g,u,s):m)||void 0===s)break t;u=o({},u,s);break t;case 2:rr=!0}}null!==p.callback&&(t.effectTag|=32,null===(s=r.effects)?r.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=r.shared.pending))break;p=a.next=s.next,s.next=l,r.baseQueue=a=s,r.shared.pending=null}}null===f?c=u:f.next=d,r.baseState=c,r.baseQueue=f,al(h),t.expirationTime=h,t.memoizedState=u}}function dr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=n,"function"!==typeof i)throw Error(a(191,i));i.call(o)}}}var fr=X.ReactCurrentBatchConfig,pr=(new i.Component).refs;function gr(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:o({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var mr={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=$s(),o=fr.suspense;(o=lr(i=Us(i,t,o),o)).payload=e,void 0!==n&&null!==n&&(o.callback=n),ur(t,o),qs(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=$s(),o=fr.suspense;(o=lr(i=Us(i,t,o),o)).tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),ur(t,o),qs(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=$s(),i=fr.suspense;(i=lr(n=Us(n,t,i),i)).tag=2,void 0!==e&&null!==e&&(i.callback=e),ur(t,i),qs(t,n)}};function vr(t,e,n,i,o,r,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,r,a):!e.prototype||!e.prototype.isPureReactComponent||(!Vi(n,i)||!Vi(o,r))}function yr(t,e,n){var i=!1,o=ho,r=e.contextType;return"object"===typeof r&&null!==r?r=or(r):(o=mo(e)?po:co.current,r=(i=null!==(i=e.contextTypes)&&void 0!==i)?go(t,o):ho),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=mr,t.stateNode=e,e._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=r),e}function _r(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&mr.enqueueReplaceState(e,e.state,null)}function br(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=pr,ar(t);var r=e.contextType;"object"===typeof r&&null!==r?o.context=or(r):(r=mo(e)?po:co.current,o.context=go(t,r)),cr(t,n,o,i),o.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(gr(t,e,r,n),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&mr.enqueueReplaceState(o,o.state,null),cr(t,n,o,i),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.effectTag|=4)}var xr=Array.isArray;function wr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,t));var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=i.refs;e===pr&&(e=i.refs={}),null===t?delete e[o]:e[o]=t})._stringRef=o,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Cr(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Sr(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=El(t,e)).index=0,t.sibling=null,t}function r(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Dl(n,t.mode,i)).return=t,e):((e=o(e,n)).return=t,e)}function u(t,e,n,i){return null!==e&&e.elementType===n.type?((i=o(e,n.props)).ref=wr(t,e,n),i.return=t,i):((i=Il(n.type,n.key,n.props,null,t.mode,i)).ref=wr(t,e,n),i.return=t,i)}function h(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ml(n,t.mode,i)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function c(t,e,n,i,r){return null===e||7!==e.tag?((e=Tl(n,t.mode,i,r)).return=t,e):((e=o(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Dl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Il(e.type,e.key,e.props,null,t.mode,n)).ref=wr(t,null,e),n.return=t,n;case et:return(e=Ml(e,t.mode,n)).return=t,e}if(xr(e)||gt(e))return(e=Tl(e,t.mode,n,null)).return=t,e;Cr(t,e)}return null}function f(t,e,n,i){var o=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===o?n.type===nt?c(t,e,n.props.children,i,o):u(t,e,n,i):null;case et:return n.key===o?h(t,e,n,i):null}if(xr(n)||gt(n))return null!==o?null:c(t,e,n,i,null);Cr(t,n)}return null}function p(t,e,n,i,o){if("string"===typeof i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return t=t.get(null===i.key?n:i.key)||null,i.type===nt?c(e,t,i.props.children,o,i.key):u(e,t,i,o);case et:return h(e,t=t.get(null===i.key?n:i.key)||null,i,o)}if(xr(i)||gt(i))return c(e,t=t.get(n)||null,i,o,null);Cr(e,i)}return null}function g(o,a,s,l){for(var u=null,h=null,c=a,g=a=0,m=null;null!==c&&g<s.length;g++){c.index>g?(m=c,c=null):m=c.sibling;var v=f(o,c,s[g],l);if(null===v){null===c&&(c=m);break}t&&c&&null===v.alternate&&e(o,c),a=r(v,a,g),null===h?u=v:h.sibling=v,h=v,c=m}if(g===s.length)return n(o,c),u;if(null===c){for(;g<s.length;g++)null!==(c=d(o,s[g],l))&&(a=r(c,a,g),null===h?u=c:h.sibling=c,h=c);return u}for(c=i(o,c);g<s.length;g++)null!==(m=p(c,o,g,s[g],l))&&(t&&null!==m.alternate&&c.delete(null===m.key?g:m.key),a=r(m,a,g),null===h?u=m:h.sibling=m,h=m);return t&&c.forEach((function(t){return e(o,t)})),u}function m(o,s,l,u){var h=gt(l);if("function"!==typeof h)throw Error(a(150));if(null==(l=h.call(l)))throw Error(a(151));for(var c=h=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=f(o,g,y.value,u);if(null===_){null===g&&(g=v);break}t&&g&&null===_.alternate&&e(o,g),s=r(_,s,m),null===c?h=_:c.sibling=_,c=_,g=v}if(y.done)return n(o,g),h;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(o,y.value,u))&&(s=r(y,s,m),null===c?h=y:c.sibling=y,c=y);return h}for(g=i(o,g);!y.done;m++,y=l.next())null!==(y=p(g,o,m,y.value,u))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=r(y,s,m),null===c?h=y:c.sibling=y,c=y);return t&&g.forEach((function(t){return e(o,t)})),h}return function(t,i,r,l){var u="object"===typeof r&&null!==r&&r.type===nt&&null===r.key;u&&(r=r.props.children);var h="object"===typeof r&&null!==r;if(h)switch(r.$$typeof){case tt:t:{for(h=r.key,u=i;null!==u;){if(u.key===h){switch(u.tag){case 7:if(r.type===nt){n(t,u.sibling),(i=o(u,r.props.children)).return=t,t=i;break t}break;default:if(u.elementType===r.type){n(t,u.sibling),(i=o(u,r.props)).ref=wr(t,u,r),i.return=t,t=i;break t}}n(t,u);break}e(t,u),u=u.sibling}r.type===nt?((i=Tl(r.props.children,t.mode,l,r.key)).return=t,t=i):((l=Il(r.type,r.key,r.props,null,t.mode,l)).ref=wr(t,i,r),l.return=t,t=l)}return s(t);case et:t:{for(u=r.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===r.containerInfo&&i.stateNode.implementation===r.implementation){n(t,i.sibling),(i=o(i,r.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Ml(r,t.mode,l)).return=t,t=i}return s(t)}if("string"===typeof r||"number"===typeof r)return r=""+r,null!==i&&6===i.tag?(n(t,i.sibling),(i=o(i,r)).return=t,t=i):(n(t,i),(i=Dl(r,t.mode,l)).return=t,t=i),s(t);if(xr(r))return g(t,i,r,l);if(gt(r))return m(t,i,r,l);if(h&&Cr(t,r),"undefined"===typeof r&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,i)}}var kr=Sr(!0),Er=Sr(!1),Ir={},Tr={current:Ir},Dr={current:Ir},Mr={current:Ir};function Or(t){if(t===Ir)throw Error(a(174));return t}function Pr(t,e){switch(uo(Mr,e),uo(Dr,t),uo(Tr,Ir),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}lo(Tr),uo(Tr,e)}function Ar(){lo(Tr),lo(Dr),lo(Mr)}function Rr(t){Or(Mr.current);var e=Or(Tr.current),n=Ft(e,t.type);e!==n&&(uo(Dr,t),uo(Tr,n))}function Br(t){Dr.current===t&&(lo(Tr),lo(Dr))}var Nr={current:0};function Fr(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Lr(t,e){return{responder:t,props:e}}var Vr=X.ReactCurrentDispatcher,jr=X.ReactCurrentBatchConfig,zr=0,Hr=null,Wr=null,Gr=null,Kr=!1;function $r(){throw Error(a(321))}function Ur(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fi(t[n],e[n]))return!1;return!0}function qr(t,e,n,i,o,r){if(zr=r,Hr=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Vr.current=null===t||null===t.memoizedState?va:ya,t=n(i,o),e.expirationTime===zr){r=0;do{if(e.expirationTime=0,!(25>r))throw Error(a(301));r+=1,Gr=Wr=null,e.updateQueue=null,Vr.current=_a,t=n(i,o)}while(e.expirationTime===zr)}if(Vr.current=ma,e=null!==Wr&&null!==Wr.next,zr=0,Gr=Wr=Hr=null,Kr=!1,e)throw Error(a(300));return t}function Yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gr?Hr.memoizedState=Gr=t:Gr=Gr.next=t,Gr}function Xr(){if(null===Wr){var t=Hr.alternate;t=null!==t?t.memoizedState:null}else t=Wr.next;var e=null===Gr?Hr.memoizedState:Gr.next;if(null!==e)Gr=e,Wr=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Wr=t).memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},null===Gr?Hr.memoizedState=Gr=t:Gr=Gr.next=t}return Gr}function Zr(t,e){return"function"===typeof e?e(t):e}function Jr(t){var e=Xr(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var i=Wr,o=i.baseQueue,r=n.pending;if(null!==r){if(null!==o){var s=o.next;o.next=r.next,r.next=s}i.baseQueue=o=r,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var l=s=r=null,u=o;do{var h=u.expirationTime;if(h<zr){var c={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=c,r=i):l=l.next=c,h>Hr.expirationTime&&(Hr.expirationTime=h,al(h))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),rl(h,u.suspenseConfig),i=u.eagerReducer===t?u.eagerState:t(i,u.action);u=u.next}while(null!==u&&u!==o);null===l?r=i:l.next=s,Fi(i,e.memoizedState)||(Ma=!0),e.memoizedState=i,e.baseState=r,e.baseQueue=l,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function Qr(t){var e=Xr(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,r=e.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{r=t(r,s.action),s=s.next}while(s!==o);Fi(r,e.memoizedState)||(Ma=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function ta(t){var e=Yr();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:t}).dispatch=ga.bind(null,Hr,t),[e.memoizedState,t]}function ea(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=Hr.updateQueue)?(e={lastEffect:null},Hr.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function na(){return Xr().memoizedState}function ia(t,e,n,i){var o=Yr();Hr.effectTag|=t,o.memoizedState=ea(1|e,n,void 0,void 0===i?null:i)}function oa(t,e,n,i){var o=Xr();i=void 0===i?null:i;var r=void 0;if(null!==Wr){var a=Wr.memoizedState;if(r=a.destroy,null!==i&&Ur(i,a.deps))return void ea(e,n,r,i)}Hr.effectTag|=t,o.memoizedState=ea(1|e,n,r,i)}function ra(t,e){return ia(516,4,t,e)}function aa(t,e){return oa(516,4,t,e)}function sa(t,e){return oa(4,2,t,e)}function la(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ua(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,oa(4,2,la.bind(null,e,t),n)}function ha(){}function ca(t,e){return Yr().memoizedState=[t,void 0===e?null:e],t}function da(t,e){var n=Xr();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ur(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function fa(t,e){var n=Xr();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Ur(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function pa(t,e,n){var i=zo();Wo(98>i?98:i,(function(){t(!0)})),Wo(97<i?97:i,(function(){var i=jr.suspense;jr.suspense=void 0===e?null:e;try{t(!1),n()}finally{jr.suspense=i}}))}function ga(t,e,n){var i=$s(),o=fr.suspense;o={expirationTime:i=Us(i,t,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var r=e.pending;if(null===r?o.next=o:(o.next=r.next,r.next=o),e.pending=o,r=t.alternate,t===Hr||null!==r&&r===Hr)Kr=!0,o.expirationTime=zr,Hr.expirationTime=zr;else{if(0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=r(a,n);if(o.eagerReducer=r,o.eagerState=s,Fi(s,a))return}catch(l){}qs(t,i)}}var ma={readContext:or,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useResponder:$r,useDeferredValue:$r,useTransition:$r},va={readContext:or,useCallback:ca,useContext:or,useEffect:ra,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ia(4,2,la.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ia(4,2,t,e)},useMemo:function(t,e){var n=Yr();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Yr();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ga.bind(null,Hr,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},Yr().memoizedState=t},useState:ta,useDebugValue:ha,useResponder:Lr,useDeferredValue:function(t,e){var n=ta(t),i=n[0],o=n[1];return ra((function(){var n=jr.suspense;jr.suspense=void 0===e?null:e;try{o(t)}finally{jr.suspense=n}}),[t,e]),i},useTransition:function(t){var e=ta(!1),n=e[0];return e=e[1],[ca(pa.bind(null,e,t),[e,t]),n]}},ya={readContext:or,useCallback:da,useContext:or,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:fa,useReducer:Jr,useRef:na,useState:function(){return Jr(Zr)},useDebugValue:ha,useResponder:Lr,useDeferredValue:function(t,e){var n=Jr(Zr),i=n[0],o=n[1];return aa((function(){var n=jr.suspense;jr.suspense=void 0===e?null:e;try{o(t)}finally{jr.suspense=n}}),[t,e]),i},useTransition:function(t){var e=Jr(Zr),n=e[0];return e=e[1],[da(pa.bind(null,e,t),[e,t]),n]}},_a={readContext:or,useCallback:da,useContext:or,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:fa,useReducer:Qr,useRef:na,useState:function(){return Qr(Zr)},useDebugValue:ha,useResponder:Lr,useDeferredValue:function(t,e){var n=Qr(Zr),i=n[0],o=n[1];return aa((function(){var n=jr.suspense;jr.suspense=void 0===e?null:e;try{o(t)}finally{jr.suspense=n}}),[t,e]),i},useTransition:function(t){var e=Qr(Zr),n=e[0];return e=e[1],[da(pa.bind(null,e,t),[e,t]),n]}},ba=null,xa=null,wa=!1;function Ca(t,e){var n=Sl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Sa(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function ka(t){if(wa){var e=xa;if(e){var n=e;if(!Sa(t,e)){if(!(e=xn(n.nextSibling))||!Sa(t,e))return t.effectTag=-1025&t.effectTag|2,wa=!1,void(ba=t);Ca(ba,n)}ba=t,xa=xn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,wa=!1,ba=t}}function Ea(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ba=t}function Ia(t){if(t!==ba)return!1;if(!wa)return Ea(t),wa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!yn(e,t.memoizedProps))for(e=xa;e;)Ca(t,e),e=xn(e.nextSibling);if(Ea(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){xa=xn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}xa=null}}else xa=ba?xn(t.stateNode.nextSibling):null;return!0}function Ta(){xa=ba=null,wa=!1}var Da=X.ReactCurrentOwner,Ma=!1;function Oa(t,e,n,i){e.child=null===t?Er(e,null,n,i):kr(e,t.child,n,i)}function Pa(t,e,n,i,o){n=n.render;var r=e.ref;return ir(e,o),i=qr(t,e,n,i,r,o),null===t||Ma?(e.effectTag|=1,Oa(t,e,i,o),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=o&&(t.expirationTime=0),qa(t,e,o))}function Aa(t,e,n,i,o,r){if(null===t){var a=n.type;return"function"!==typeof a||kl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Il(n.type,null,i,null,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ra(t,e,a,i,o,r))}return a=t.child,o<r&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Vi)(o,i)&&t.ref===e.ref)?qa(t,e,r):(e.effectTag|=1,(t=El(a,i)).ref=e.ref,t.return=e,e.child=t)}function Ra(t,e,n,i,o,r){return null!==t&&Vi(t.memoizedProps,i)&&t.ref===e.ref&&(Ma=!1,o<r)?(e.expirationTime=t.expirationTime,qa(t,e,r)):Na(t,e,n,i,r)}function Ba(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Na(t,e,n,i,o){var r=mo(n)?po:co.current;return r=go(e,r),ir(e,o),n=qr(t,e,n,i,r,o),null===t||Ma?(e.effectTag|=1,Oa(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=o&&(t.expirationTime=0),qa(t,e,o))}function Fa(t,e,n,i,o){if(mo(n)){var r=!0;bo(e)}else r=!1;if(ir(e,o),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),yr(e,n,i),br(e,n,i,o),i=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=or(u):u=go(e,u=mo(n)?po:co.current);var h=n.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate;c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&_r(e,a,i,u),rr=!1;var d=e.memoizedState;a.state=d,cr(e,i,a,o),l=e.memoizedState,s!==i||d!==l||fo.current||rr?("function"===typeof h&&(gr(e,n,h,i),l=e.memoizedState),(s=rr||vr(e,n,s,i,d,l,u))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),i=!1)}else a=e.stateNode,sr(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Yo(e.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=or(u):u=go(e,u=mo(n)?po:co.current),(c="function"===typeof(h=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&_r(e,a,i,u),rr=!1,l=e.memoizedState,a.state=l,cr(e,i,a,o),d=e.memoizedState,s!==i||l!==d||fo.current||rr?("function"===typeof h&&(gr(e,n,h,i),d=e.memoizedState),(h=rr||vr(e,n,s,i,l,d,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,d,u)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=d),a.props=i,a.state=d,a.context=u,i=h):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),i=!1);return La(t,e,n,i,r,o)}function La(t,e,n,i,o,r){Ba(t,e);var a=0!==(64&e.effectTag);if(!i&&!a)return o&&xo(e,n,!1),qa(t,e,r);i=e.stateNode,Da.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&a?(e.child=kr(e,t.child,null,r),e.child=kr(e,null,s,r)):Oa(t,e,s,r),e.memoizedState=i.state,o&&xo(e,n,!0),e.child}function Va(t){var e=t.stateNode;e.pendingContext?yo(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yo(0,e.context,!1),Pr(t,e.containerInfo)}var ja,za,Ha,Wa={dehydrated:null,retryTime:0};function Ga(t,e,n){var i,o=e.mode,r=e.pendingProps,a=Nr.current,s=!1;if((i=0!==(64&e.effectTag))||(i=0!==(2&a)&&(null===t||null!==t.memoizedState)),i?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(a|=1),uo(Nr,1&a),null===t){if(void 0!==r.fallback&&ka(e),s){if(s=r.fallback,(r=Tl(null,o,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,r.child=t;null!==t;)t.return=r,t=t.sibling;return(n=Tl(s,o,n,null)).return=e,r.sibling=n,e.memoizedState=Wa,e.child=r,n}return o=r.children,e.memoizedState=null,e.child=Er(e,null,o,n)}if(null!==t.memoizedState){if(o=(t=t.child).sibling,s){if(r=r.fallback,(n=El(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=El(o,r)).return=e,n.sibling=o,n.childExpirationTime=0,e.memoizedState=Wa,e.child=n,o}return n=kr(e,t.child,r.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=r.fallback,(r=Tl(null,o,0,null)).return=e,r.child=t,null!==t&&(t.return=r),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,r.child=t;null!==t;)t.return=r,t=t.sibling;return(n=Tl(s,o,n,null)).return=e,r.sibling=n,n.effectTag|=2,r.childExpirationTime=0,e.memoizedState=Wa,e.child=r,n}return e.memoizedState=null,e.child=kr(e,t,r.children,n)}function Ka(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),nr(t.return,e)}function $a(t,e,n,i,o,r){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:o,lastEffect:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=r)}function Ua(t,e,n){var i=e.pendingProps,o=i.revealOrder,r=i.tail;if(Oa(t,e,i.children,n),0!==(2&(i=Nr.current)))i=1&i|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ka(t,n);else if(19===t.tag)Ka(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(uo(Nr,i),0===(2&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;null!==n;)null!==(t=n.alternate)&&null===Fr(t)&&(o=n),n=n.sibling;null===(n=o)?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),$a(e,!1,o,n,r,e.lastEffect);break;case"backwards":for(n=null,o=e.child,e.child=null;null!==o;){if(null!==(t=o.alternate)&&null===Fr(t)){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}$a(e,!0,n,null,r,e.lastEffect);break;case"together":$a(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function qa(t,e,n){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&al(i),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=El(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=El(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ya(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xa(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mo(e.type)&&vo(),null;case 3:return Ar(),lo(fo),lo(co),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ia(e)||(e.effectTag|=4),null;case 5:Br(e),n=Or(Mr.current);var r=e.type;if(null!==t&&null!=e.stateNode)za(t,e,r,i,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(a(166));return null}if(t=Or(Tr.current),Ia(e)){i=e.stateNode,r=e.type;var s=e.memoizedProps;switch(i[Sn]=e,i[kn]=s,r){case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(t=0;t<Xt.length;t++)Ue(Xt[t],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"form":Ue("reset",i),Ue("submit",i);break;case"details":Ue("toggle",i);break;case"input":Ct(i,s),Ue("invalid",i),ln(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ue("invalid",i),ln(n,"onChange");break;case"textarea":Ot(i,s),Ue("invalid",i),ln(n,"onChange")}for(var l in rn(r,s),t=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?i.textContent!==u&&(t=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(t=["children",""+u]):S.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(r){case"input":bt(i),Et(i,s,!0);break;case"textarea":bt(i),At(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=un)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,t===sn&&(t=Nt(r)),t===sn?"script"===r?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(r,{is:i.is}):(t=l.createElement(r),"select"===r&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,r),t[Sn]=e,t[kn]=i,ja(t,e),e.stateNode=t,l=an(r,i),r){case"iframe":case"object":case"embed":Ue("load",t),u=i;break;case"video":case"audio":for(u=0;u<Xt.length;u++)Ue(Xt[u],t);u=i;break;case"source":Ue("error",t),u=i;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),u=i;break;case"form":Ue("reset",t),Ue("submit",t),u=i;break;case"details":Ue("toggle",t),u=i;break;case"input":Ct(t,i),u=wt(t,i),Ue("invalid",t),ln(n,"onChange");break;case"option":u=Tt(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},u=o({},i,{value:void 0}),Ue("invalid",t),ln(n,"onChange");break;case"textarea":Ot(t,i),u=Mt(t,i),Ue("invalid",t),ln(n,"onChange");break;default:u=i}rn(r,u);var h=u;for(s in h)if(h.hasOwnProperty(s)){var c=h[s];"style"===s?nn(t,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&Vt(t,c):"children"===s?"string"===typeof c?("textarea"!==r||""!==c)&&jt(t,c):"number"===typeof c&&jt(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=c&&ln(n,s):null!=c&&Z(t,s,c,l))}switch(r){case"input":bt(t),Et(t,i,!1);break;case"textarea":bt(t),At(t);break;case"option":null!=i.value&&t.setAttribute("value",""+yt(i.value));break;case"select":t.multiple=!!i.multiple,null!=(n=i.value)?Dt(t,!!i.multiple,n,!1):null!=i.defaultValue&&Dt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=un)}vn(r,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ha(0,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(a(166));n=Or(Mr.current),Or(Tr.current),Ia(e)?(n=e.stateNode,i=e.memoizedProps,n[Sn]=e,n.nodeValue!==i&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Sn]=e,e.stateNode=n)}return null;case 13:return lo(Nr),i=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Ia(e):(i=null!==(r=t.memoizedState),n||null===r||null!==(r=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=r,r.nextEffect=s):(e.firstEffect=e.lastEffect=r,r.nextEffect=null),r.effectTag=8)),n&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Nr.current)?Is===bs&&(Is=xs):(Is!==bs&&Is!==xs||(Is=ws),0!==Ps&&null!==Ss&&(Al(Ss,Es),Rl(Ss,Ps)))),(n||i)&&(e.effectTag|=4),null);case 4:return Ar(),null;case 10:return er(e),null;case 17:return mo(e.type)&&vo(),null;case 19:if(lo(Nr),null===(i=e.memoizedState))return null;if(r=0!==(64&e.effectTag),null===(s=i.rendering)){if(r)Ya(i,!1);else if(Is!==bs||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Fr(s))){for(e.effectTag|=64,Ya(i,!1),null!==(r=t.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)s=n,(r=i).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(t=r.alternate)?(r.childExpirationTime=0,r.expirationTime=s,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return uo(Nr,1&Nr.current|2),e.child}s=s.sibling}}else{if(!r)if(null!==(t=Fr(s))){if(e.effectTag|=64,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ya(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*jo()-i.renderingStartTime>i.tailExpiration&&1<n&&(e.effectTag|=64,r=!0,Ya(i,!1),e.expirationTime=e.childExpirationTime=n-1);i.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=i.last)?n.sibling=s:e.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=jo()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=jo(),n.sibling=null,e=Nr.current,uo(Nr,r?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function Za(t){switch(t.tag){case 1:mo(t.type)&&vo();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ar(),lo(fo),lo(co),0!==(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Br(t),null;case 13:return lo(Nr),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return lo(Nr),null;case 4:return Ar(),null;case 10:return er(t),null;default:return null}}function Ja(t,e){return{value:t,source:e,stack:vt(e)}}ja=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},za=function(t,e,n,i,r){var a=t.memoizedProps;if(a!==i){var s,l,u=e.stateNode;switch(Or(Tr.current),t=null,n){case"input":a=wt(u,a),i=wt(u,i),t=[];break;case"option":a=Tt(u,a),i=Tt(u,i),t=[];break;case"select":a=o({},a,{value:void 0}),i=o({},i,{value:void 0}),t=[];break;case"textarea":a=Mt(u,a),i=Mt(u,i),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(u.onclick=un)}for(s in rn(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in i){var h=i[s];if(u=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&h!==u&&(null!=h||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&u[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(t||(t=[]),t.push(s,n)),n=h;else"dangerouslySetInnerHTML"===s?(h=h?h.__html:void 0,u=u?u.__html:void 0,null!=h&&u!==h&&(t=t||[]).push(s,h)):"children"===s?u===h||"string"!==typeof h&&"number"!==typeof h||(t=t||[]).push(s,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=h&&ln(r,s),t||u===h||(t=[])):(t=t||[]).push(s,h))}n&&(t=t||[]).push("style",n),r=t,(e.updateQueue=r)&&(e.effectTag|=4)}},Ha=function(t,e,n,i){n!==i&&(e.effectTag|=4)};var Qa="function"===typeof WeakSet?WeakSet:Set;function ts(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=vt(n)),null!==n&&mt(n.type),e=e.value,null!==t&&1===t.tag&&mt(t.type);try{console.error(e)}catch(o){setTimeout((function(){throw o}))}}function es(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){yl(t,n)}else e.current=null}function ns(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Yo(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==e)}}function os(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function rs(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void os(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var i=n.elementType===n.type?e.memoizedProps:Yo(n.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&dr(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}dr(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ne(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(t,e,n){switch("function"===typeof wl&&wl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t.next;Wo(97<n?97:n,(function(){var t=i;do{var n=t.destroy;if(void 0!==n){var o=e;try{n()}catch(r){yl(o,r)}}t=t.next}while(t!==i)}))}break;case 1:es(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){yl(t,n)}}(e,n);break;case 5:es(e);break;case 4:hs(t,e,n)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function ls(t){return 5===t.tag||3===t.tag||4===t.tag}function us(t){t:{for(var e=t.return;null!==e;){if(ls(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(jt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}i?function t(e,n,i){var o=e.tag,r=5===o||6===o;if(r)e=r?e.stateNode:e.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(8===i.nodeType?(n=i.parentNode).insertBefore(e,i):(n=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=un));else if(4!==o&&null!==(e=e.child))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}(t,n,e):function t(e,n,i){var o=e.tag,r=5===o||6===o;if(r)e=r?e.stateNode:e.stateNode.instance,n?i.insertBefore(e,n):i.appendChild(e);else if(4!==o&&null!==(e=e.child))for(t(e,n,i),e=e.sibling;null!==e;)t(e,n,i),e=e.sibling}(t,n,e)}function hs(t,e,n){for(var i,o,r=e,s=!1;;){if(!s){s=r.return;t:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break t;case 3:case 4:i=i.containerInfo,o=!0;break t}s=s.return}s=!0}if(5===r.tag||6===r.tag){t:for(var l=t,u=r,h=n,c=u;;)if(as(l,c,h),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}o?(l=i,u=r.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):i.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(as(t,r,n),null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;4===(r=r.return).tag&&(s=!1)}r.sibling.return=r.return,r=r.sibling}}function cs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,o=null!==t?t.memoizedProps:i;t=e.type;var r=e.updateQueue;if(e.updateQueue=null,null!==r){for(n[kn]=i,"input"===t&&"radio"===i.type&&null!=i.name&&St(n,i),an(t,o),e=an(t,i),o=0;o<r.length;o+=2){var s=r[o],l=r[o+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Vt(n,l):"children"===s?jt(n,l):Z(n,s,l,e)}switch(t){case"input":kt(n,i);break;case"textarea":Pt(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?Dt(n,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?Dt(n,!!i.multiple,i.defaultValue,!0):Dt(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Ne(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?i=!1:(i=!0,n=e.child,Rs=jo()),null!==n)t:for(t=n;;){if(5===t.tag)r=t.stateNode,i?"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none":(r=t.stateNode,o=void 0!==(o=t.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=en("display",o));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(r=t.child.sibling).return=t,t=r;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ds(e);case 19:return void ds(e);case 17:return}throw Error(a(163))}function ds(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Qa),e.forEach((function(e){var i=bl.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=lr(n,null)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ns||(Ns=!0,Fs=i),ts(t,e)},n}function gs(t,e,n){(n=lr(n,null)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var o=e.value;n.payload=function(){return ts(t,e),i(o)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Ls?Ls=new Set([this]):Ls.add(this),ts(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ms,vs=Math.ceil,ys=X.ReactCurrentDispatcher,_s=X.ReactCurrentOwner,bs=0,xs=3,ws=4,Cs=0,Ss=null,ks=null,Es=0,Is=bs,Ts=null,Ds=1073741823,Ms=1073741823,Os=null,Ps=0,As=!1,Rs=0,Bs=null,Ns=!1,Fs=null,Ls=null,Vs=!1,js=null,zs=90,Hs=null,Ws=0,Gs=null,Ks=0;function $s(){return 0!==(48&Cs)?1073741821-(jo()/10|0):0!==Ks?Ks:Ks=1073741821-(jo()/10|0)}function Us(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var i=zo();if(0===(4&e))return 99===i?1073741823:1073741822;if(0!==(16&Cs))return Es;if(null!==n)t=qo(t,0|n.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=qo(t,150,100);break;case 97:case 96:t=qo(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Ss&&t===Es&&--t,t}function qs(t,e){if(50<Ws)throw Ws=0,Gs=null,Error(a(185));if(null!==(t=Ys(t,e))){var n=zo();1073741823===e?0!==(8&Cs)&&0===(48&Cs)?Qs(t):(Zs(t),0===Cs&&$o()):Zs(t),0===(4&Cs)||98!==n&&99!==n||(null===Hs?Hs=new Map([[t,e]]):(void 0===(n=Hs.get(t))||n>e)&&Hs.set(t,e))}}function Ys(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var i=t.return,o=null;if(null===i&&3===t.tag)o=t.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===i.return&&3===i.tag){o=i.stateNode;break}i=i.return}return null!==o&&(Ss===o&&(al(e),Is===ws&&Al(o,Es)),Rl(o,e)),o}function Xs(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Pl(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Zs(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Ko(Qs.bind(null,t));else{var e=Xs(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var i=$s();if(1073741823===e?i=99:1===e||2===e?i=95:i=0>=(i=10*(1073741821-e)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var o=t.callbackPriority;if(t.callbackExpirationTime===e&&o>=i)return;n!==Ao&&So(n)}t.callbackExpirationTime=e,t.callbackPriority=i,e=1073741823===e?Ko(Qs.bind(null,t)):Go(i,Js.bind(null,t),{timeout:10*(1073741821-e)-jo()}),t.callbackNode=e}}}function Js(t,e){if(Ks=0,e)return Bl(t,e=$s()),Zs(t),null;var n=Xs(t);if(0!==n){if(e=t.callbackNode,0!==(48&Cs))throw Error(a(327));if(gl(),t===Ss&&n===Es||nl(t,n),null!==ks){var i=Cs;Cs|=16;for(var o=ol();;)try{ll();break}catch(l){il(t,l)}if(tr(),Cs=i,ys.current=o,1===Is)throw e=Ts,nl(t,n),Al(t,n),Zs(t),e;if(null===ks)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=Is,Ss=null,i){case bs:case 1:throw Error(a(345));case 2:Bl(t,2<n?2:n);break;case xs:if(Al(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cl(o)),1073741823===Ds&&10<(o=Rs+500-jo())){if(As){var r=t.lastPingedTime;if(0===r||r>=n){t.lastPingedTime=n,nl(t,n);break}}if(0!==(r=Xs(t))&&r!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=_n(dl.bind(null,t),o);break}dl(t);break;case ws:if(Al(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cl(o)),As&&(0===(o=t.lastPingedTime)||o>=n)){t.lastPingedTime=n,nl(t,n);break}if(0!==(o=Xs(t))&&o!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==Ms?i=10*(1073741821-Ms)-jo():1073741823===Ds?i=0:(i=10*(1073741821-Ds)-5e3,0>(i=(o=jo())-i)&&(i=0),(n=10*(1073741821-n)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vs(i/1960))-i)&&(i=n)),10<i){t.timeoutHandle=_n(dl.bind(null,t),i);break}dl(t);break;case 5:if(1073741823!==Ds&&null!==Os){r=Ds;var s=Os;if(0>=(i=0|s.busyMinDurationMs)?i=0:(o=0|s.busyDelayMs,i=(r=jo()-(10*(1073741821-r)-(0|s.timeoutMs||5e3)))<=o?0:o+i-r),10<i){Al(t,n),t.timeoutHandle=_n(dl.bind(null,t),i);break}}dl(t);break;default:throw Error(a(329))}if(Zs(t),t.callbackNode===e)return Js.bind(null,t)}}return null}function Qs(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Cs))throw Error(a(327));if(gl(),t===Ss&&e===Es||nl(t,e),null!==ks){var n=Cs;Cs|=16;for(var i=ol();;)try{sl();break}catch(o){il(t,o)}if(tr(),Cs=n,ys.current=i,1===Is)throw n=Ts,nl(t,e),Al(t,e),Zs(t),n;if(null!==ks)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ss=null,dl(t),Zs(t)}return null}function tl(t,e){var n=Cs;Cs|=1;try{return t(e)}finally{0===(Cs=n)&&$o()}}function el(t,e){var n=Cs;Cs&=-2,Cs|=8;try{return t(e)}finally{0===(Cs=n)&&$o()}}function nl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,bn(n)),null!==ks)for(n=ks.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&vo();break;case 3:Ar(),lo(fo),lo(co);break;case 5:Br(i);break;case 4:Ar();break;case 13:case 19:lo(Nr);break;case 10:er(i)}n=n.return}Ss=t,ks=El(t.current,null),Es=e,Is=bs,Ts=null,Ms=Ds=1073741823,Os=null,Ps=0,As=!1}function il(t,e){for(;;){try{if(tr(),Vr.current=ma,Kr)for(var n=Hr.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(zr=0,Gr=Wr=Hr=null,Kr=!1,null===ks||null===ks.return)return Is=1,Ts=e,ks=null;t:{var o=t,r=ks.return,a=ks,s=e;if(e=Es,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Nr.current),c=r;do{var d;if(d=13===c.tag){var f=c.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=c.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!h)}}if(d){var g=c.updateQueue;if(null===g){var m=new Set;m.add(l),c.updateQueue=m}else g.add(l);if(0===(2&c.mode)){if(c.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=lr(1073741823,null);v.tag=2,ur(a,v)}a.expirationTime=1073741823;break t}s=void 0,a=e;var y=o.pingCache;if(null===y?(y=o.pingCache=new fs,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var _=_l.bind(null,o,l,a);l.then(_,_)}c.effectTag|=4096,c.expirationTime=e;break t}c=c.return}while(null!==c);s=Error((mt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+vt(a))}5!==Is&&(Is=2),s=Ja(s,a),c=r;do{switch(c.tag){case 3:l=s,c.effectTag|=4096,c.expirationTime=e,hr(c,ps(c,l,e));break t;case 1:l=s;var b=c.type,x=c.stateNode;if(0===(64&c.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ls||!Ls.has(x)))){c.effectTag|=4096,c.expirationTime=e,hr(c,gs(c,l,e));break t}}c=c.return}while(null!==c)}ks=hl(ks)}catch(w){e=w;continue}break}}function ol(){var t=ys.current;return ys.current=ma,null===t?ma:t}function rl(t,e){t<Ds&&2<t&&(Ds=t),null!==e&&t<Ms&&2<t&&(Ms=t,Os=e)}function al(t){t>Ps&&(Ps=t)}function sl(){for(;null!==ks;)ks=ul(ks)}function ll(){for(;null!==ks&&!Ro();)ks=ul(ks)}function ul(t){var e=ms(t.alternate,t,Es);return t.memoizedProps=t.pendingProps,null===e&&(e=hl(t)),_s.current=null,e}function hl(t){ks=t;do{var e=ks.alternate;if(t=ks.return,0===(2048&ks.effectTag)){if(e=Xa(e,ks,Es),1===Es||1!==ks.childExpirationTime){for(var n=0,i=ks.child;null!==i;){var o=i.expirationTime,r=i.childExpirationTime;o>n&&(n=o),r>n&&(n=r),i=i.sibling}ks.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=ks.firstEffect),null!==ks.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=ks.firstEffect),t.lastEffect=ks.lastEffect),1<ks.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=ks:t.firstEffect=ks,t.lastEffect=ks))}else{if(null!==(e=Za(ks)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=ks.sibling))return e;ks=t}while(null!==ks);return Is===bs&&(Is=5),null}function cl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function dl(t){var e=zo();return Wo(99,fl.bind(null,t,e)),null}function fl(t,e){do{gl()}while(null!==js);if(0!==(48&Cs))throw Error(a(327));var n=t.finishedWork,i=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var o=cl(n);if(t.firstPendingTime=o,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ss&&(ks=Ss=null,Es=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var r=Cs;Cs|=32,_s.current=null,gn=$e;var s=fn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var h=u.anchorOffset,c=u.focusNode;u=u.focusOffset;try{l.nodeType,c.nodeType}catch(E){l=null;break t}var d=0,f=-1,p=-1,g=0,m=0,v=s,y=null;e:for(;;){for(var _;v!==l||0!==h&&3!==v.nodeType||(f=d+h),v!==c||0!==u&&3!==v.nodeType||(p=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(_=v.firstChild);)y=v,v=_;for(;;){if(v===s)break e;if(y===l&&++g===h&&(f=d),y===c&&++m===u&&(p=d),null!==(_=v.nextSibling))break;y=(v=y).parentNode}v=_}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:l},$e=!1,Bs=o;do{try{pl()}catch(E){if(null===Bs)throw Error(a(330));yl(Bs,E),Bs=Bs.nextEffect}}while(null!==Bs);Bs=o;do{try{for(s=t,l=e;null!==Bs;){var b=Bs.effectTag;if(16&b&&jt(Bs.stateNode,""),128&b){var x=Bs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:us(Bs),Bs.effectTag&=-3;break;case 6:us(Bs),Bs.effectTag&=-3,cs(Bs.alternate,Bs);break;case 1024:Bs.effectTag&=-1025;break;case 1028:Bs.effectTag&=-1025,cs(Bs.alternate,Bs);break;case 4:cs(Bs.alternate,Bs);break;case 8:hs(s,h=Bs,l),ss(h)}Bs=Bs.nextEffect}}catch(E){if(null===Bs)throw Error(a(330));yl(Bs,E),Bs=Bs.nextEffect}}while(null!==Bs);if(w=mn,x=fn(),b=w.focusedElem,l=w.selectionRange,x!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&pn(b)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),h=b.textContent.length,s=Math.min(l.start,h),l=void 0===l.end?s:Math.min(l.end,h),!w.extend&&s>l&&(h=l,l=s,s=h),h=dn(b,s),c=dn(b,l),h&&c&&(1!==w.rangeCount||w.anchorNode!==h.node||w.anchorOffset!==h.offset||w.focusNode!==c.node||w.focusOffset!==c.offset)&&((x=x.createRange()).setStart(h.node,h.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(c.node,c.offset)):(x.setEnd(c.node,c.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$e=!!gn,mn=gn=null,t.current=n,Bs=o;do{try{for(b=t;null!==Bs;){var C=Bs.effectTag;if(36&C&&rs(b,Bs.alternate,Bs),128&C){x=void 0;var S=Bs.ref;if(null!==S){var k=Bs.stateNode;switch(Bs.tag){case 5:x=k;break;default:x=k}"function"===typeof S?S(x):S.current=x}}Bs=Bs.nextEffect}}catch(E){if(null===Bs)throw Error(a(330));yl(Bs,E),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Bo(),Cs=r}else t.current=n;if(Vs)Vs=!1,js=t,zs=e;else for(Bs=o;null!==Bs;)e=Bs.nextEffect,Bs.nextEffect=null,Bs=e;if(0===(e=t.firstPendingTime)&&(Ls=null),1073741823===e?t===Gs?Ws++:(Ws=0,Gs=t):Ws=0,"function"===typeof xl&&xl(n.stateNode,i),Zs(t),Ns)throw Ns=!1,t=Fs,Fs=null,t;return 0!==(8&Cs)||$o(),null}function pl(){for(;null!==Bs;){var t=Bs.effectTag;0!==(256&t)&&ns(Bs.alternate,Bs),0===(512&t)||Vs||(Vs=!0,Go(97,(function(){return gl(),null}))),Bs=Bs.nextEffect}}function gl(){if(90!==zs){var t=97<zs?97:zs;return zs=90,Wo(t,ml)}}function ml(){if(null===js)return!1;var t=js;if(js=null,0!==(48&Cs))throw Error(a(331));var e=Cs;for(Cs|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),os(5,n)}}catch(i){if(null===t)throw Error(a(330));yl(t,i)}n=t.nextEffect,t.nextEffect=null,t=n}return Cs=e,$o(),!0}function vl(t,e,n){ur(t,e=ps(t,e=Ja(n,e),1073741823)),null!==(t=Ys(t,1073741823))&&Zs(t)}function yl(t,e){if(3===t.tag)vl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){vl(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ls||!Ls.has(i))){ur(n,t=gs(n,t=Ja(e,t),1073741823)),null!==(n=Ys(n,1073741823))&&Zs(n);break}}n=n.return}}function _l(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),Ss===t&&Es===n?Is===ws||Is===xs&&1073741823===Ds&&jo()-Rs<500?nl(t,Es):As=!0:Pl(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Zs(t)))}function bl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Us(e=$s(),t,null)),null!==(t=Ys(t,e))&&Zs(t)}ms=function(t,e,n){var i=e.expirationTime;if(null!==t){var o=e.pendingProps;if(t.memoizedProps!==o||fo.current)Ma=!0;else{if(i<n){switch(Ma=!1,e.tag){case 3:Va(e),Ta();break;case 5:if(Rr(e),4&e.mode&&1!==n&&o.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mo(e.type)&&bo(e);break;case 4:Pr(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,o=e.type._context,uo(Xo,o._currentValue),o._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?Ga(t,e,n):(uo(Nr,1&Nr.current),null!==(e=qa(t,e,n))?e.sibling:null);uo(Nr,1&Nr.current);break;case 19:if(i=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(i)return Ua(t,e,n);e.effectTag|=64}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null),uo(Nr,Nr.current),!i)return null}return qa(t,e,n)}Ma=!1}}else Ma=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,o=go(e,co.current),ir(e,n),o=qr(null,e,i,t,o,n),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mo(i)){var r=!0;bo(e)}else r=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ar(e);var s=i.getDerivedStateFromProps;"function"===typeof s&&gr(e,i,s,t),o.updater=mr,e.stateNode=o,o._reactInternalFiber=e,br(e,i,t,n),e=La(null,e,i,!0,r,n)}else e.tag=0,Oa(null,e,o,n),e=e.child;return e;case 16:t:{if(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,e.type=o,r=e.tag=function(t){if("function"===typeof t)return kl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===lt)return 11;if(t===ct)return 14}return 2}(o),t=Yo(o,t),r){case 0:e=Na(null,e,o,t,n);break t;case 1:e=Fa(null,e,o,t,n);break t;case 11:e=Pa(null,e,o,t,n);break t;case 14:e=Aa(null,e,o,Yo(o.type,t),i,n);break t}throw Error(a(306,o,""))}return e;case 0:return i=e.type,o=e.pendingProps,Na(t,e,i,o=e.elementType===i?o:Yo(i,o),n);case 1:return i=e.type,o=e.pendingProps,Fa(t,e,i,o=e.elementType===i?o:Yo(i,o),n);case 3:if(Va(e),i=e.updateQueue,null===t||null===i)throw Error(a(282));if(i=e.pendingProps,o=null!==(o=e.memoizedState)?o.element:null,sr(t,e),cr(e,i,null,n),(i=e.memoizedState.element)===o)Ta(),e=qa(t,e,n);else{if((o=e.stateNode.hydrate)&&(xa=xn(e.stateNode.containerInfo.firstChild),ba=e,o=wa=!0),o)for(n=Er(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Oa(t,e,i,n),Ta();e=e.child}return e;case 5:return Rr(e),null===t&&ka(e),i=e.type,o=e.pendingProps,r=null!==t?t.memoizedProps:null,s=o.children,yn(i,o)?s=null:null!==r&&yn(i,r)&&(e.effectTag|=16),Ba(t,e),4&e.mode&&1!==n&&o.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Oa(t,e,s,n),e=e.child),e;case 6:return null===t&&ka(e),null;case 13:return Ga(t,e,n);case 4:return Pr(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=kr(e,null,i,n):Oa(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,Pa(t,e,i,o=e.elementType===i?o:Yo(i,o),n);case 7:return Oa(t,e,e.pendingProps,n),e.child;case 8:case 12:return Oa(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,o=e.pendingProps,s=e.memoizedProps,r=o.value;var l=e.type._context;if(uo(Xo,l._currentValue),l._currentValue=r,null!==s)if(l=s.value,0===(r=Fi(l,r)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,r):1073741823))){if(s.children===o.children&&!fo.current){e=qa(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var h=u.firstContext;null!==h;){if(h.context===i&&0!==(h.observedBits&r)){1===l.tag&&((h=lr(n,null)).tag=2,ur(l,h)),l.expirationTime<n&&(l.expirationTime=n),null!==(h=l.alternate)&&h.expirationTime<n&&(h.expirationTime=n),nr(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}h=h.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Oa(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=(r=e.pendingProps).children,ir(e,n),i=i(o=or(o,r.unstable_observedBits)),e.effectTag|=1,Oa(t,e,i,n),e.child;case 14:return r=Yo(o=e.type,e.pendingProps),Aa(t,e,o,r=Yo(o.type,r),i,n);case 15:return Ra(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Yo(i,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mo(i)?(t=!0,bo(e)):t=!1,ir(e,n),yr(e,i,o),br(e,i,o,n),La(null,e,i,!0,t,n);case 19:return Ua(t,e,n)}throw Error(a(156,e.tag))};var xl=null,wl=null;function Cl(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sl(t,e,n,i){return new Cl(t,e,n,i)}function kl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function El(t,e){var n=t.alternate;return null===n?((n=Sl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Il(t,e,n,i,o,r){var s=2;if(i=t,"function"===typeof t)kl(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case nt:return Tl(n.children,o,r,e);case st:s=8,o|=7;break;case it:s=8,o|=1;break;case ot:return(t=Sl(12,n,e,8|o)).elementType=ot,t.type=ot,t.expirationTime=r,t;case ut:return(t=Sl(13,n,e,o)).type=ut,t.elementType=ut,t.expirationTime=r,t;case ht:return(t=Sl(19,n,e,o)).elementType=ht,t.expirationTime=r,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case rt:s=10;break t;case at:s=9;break t;case lt:s=11;break t;case ct:s=14;break t;case dt:s=16,i=null;break t;case ft:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Sl(s,n,e,o)).elementType=t,e.type=i,e.expirationTime=r,e}function Tl(t,e,n,i){return(t=Sl(7,t,i,e)).expirationTime=n,t}function Dl(t,e,n){return(t=Sl(6,t,null,e)).expirationTime=n,t}function Ml(t,e,n){return(e=Sl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ol(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Pl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Al(t,e){var n=t.firstSuspendedTime,i=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(i>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Rl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Bl(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Nl(t,e,n,i){var o=e.current,r=$s(),s=fr.suspense;r=Us(r,o,s);t:if(n){e:{if(Qt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(mo(u)){n=_o(n,u,l);break t}}n=l}else n=ho;return null===e.context?e.context=n:e.pendingContext=n,(e=lr(r,s)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),ur(o,e),qs(o,r),r}function Fl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ll(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Vl(t,e){Ll(t,e),(t=t.alternate)&&Ll(t,e)}function jl(t,e,n){var i=new Ol(t,e,n=null!=n&&!0===n.hydrate),o=Sl(3,null,null,2===e?7:1===e?3:0);i.current=o,o.stateNode=i,ar(o),t[En]=i.current,n&&0!==e&&function(t,e){var n=Jt(e);Ee.forEach((function(t){pe(t,e,n)})),Ie.forEach((function(t){pe(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=i}function zl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Hl(t,e,n,i,o){var r=n._reactRootContainer;if(r){var a=r._internalRoot;if("function"===typeof o){var s=o;o=function(){var t=Fl(a);s.call(t)}}Nl(e,a,t,o)}else{if(r=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new jl(t,0,e?{hydrate:!0}:void 0)}(n,i),a=r._internalRoot,"function"===typeof o){var l=o;o=function(){var t=Fl(a);l.call(t)}}el((function(){Nl(e,a,t,o)}))}return Fl(a)}function Wl(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function Gl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zl(e))throw Error(a(200));return Wl(t,e,null,n)}jl.prototype.render=function(t){Nl(t,this._internalRoot,null,null)},jl.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Nl(null,t,null,(function(){e[En]=null}))},ge=function(t){if(13===t.tag){var e=qo($s(),150,100);qs(t,e),Vl(t,e)}},me=function(t){13===t.tag&&(qs(t,3),Vl(t,3))},ve=function(t){if(13===t.tag){var e=$s();qs(t,e=Us(e,t,null)),Vl(t,e)}},T=function(t,e,n){switch(e){case"input":if(kt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=Mn(i);if(!o)throw Error(a(90));xt(i),kt(i,o)}}}break;case"textarea":Pt(t,n);break;case"select":null!=(e=n.value)&&Dt(t,!!n.multiple,e,!1)}},R=tl,B=function(t,e,n,i,o){var r=Cs;Cs|=4;try{return Wo(98,t.bind(null,e,n,i,o))}finally{0===(Cs=r)&&$o()}},N=function(){0===(49&Cs)&&(function(){if(null!==Hs){var t=Hs;Hs=null,t.forEach((function(t,e){Bl(e,t),Zs(e)})),$o()}}(),gl())},F=function(t,e){var n=Cs;Cs|=2;try{return t(e)}finally{0===(Cs=n)&&$o()}};var Kl={Events:[Tn,Dn,Mn,E,C,Fn,function(t){oe(t,Nn)},P,A,Ze,se,gl,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);xl=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(i){}},wl=function(t){try{e.onCommitFiberUnmount(n,t)}catch(i){}}}catch(i){}})(o({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:In,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kl,e.createPortal=Gl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Cs))throw Error(a(187));var n=Cs;Cs|=1;try{return Wo(99,t.bind(null,e))}finally{Cs=n,$o()}},e.hydrate=function(t,e,n){if(!zl(e))throw Error(a(200));return Hl(null,t,e,!0,n)},e.render=function(t,e,n){if(!zl(e))throw Error(a(200));return Hl(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!zl(t))throw Error(a(40));return!!t._reactRootContainer&&(el((function(){Hl(null,null,t,!1,(function(){t._reactRootContainer=null,t[En]=null}))})),!0)},e.unstable_batchedUpdates=tl,e.unstable_createPortal=function(t,e){return Gl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!zl(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Hl(t,e,n,!1,i)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(288)},function(t,e,n){"use strict";var i,o,r,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,h=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(i){throw setTimeout(t,0),i}},c=Date.now();e.unstable_now=function(){return Date.now()-c},i=function(t){null!==l?setTimeout(i,0,t):(l=t,setTimeout(h,0))},o=function(t,e){u=setTimeout(t,e)},r=function(){clearTimeout(u)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)e.unstable_now=function(){return d.now()};else{var v=f.now();e.unstable_now=function(){return f.now()-v}}var y=!1,_=null,b=-1,x=5,w=0;a=function(){return e.unstable_now()>=w},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<t?Math.floor(1e3/t):5};var C=new MessageChannel,S=C.port2;C.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();w=t+x;try{_(!0,t)?S.postMessage(null):(y=!1,_=null)}catch(n){throw S.postMessage(null),n}}else y=!1},i=function(t){_=t,y||(y=!0,S.postMessage(null))},o=function(t,n){b=p((function(){t(e.unstable_now())}),n)},r=function(){g(b),b=-1}}function k(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,o=t[i];if(!(void 0!==o&&0<T(o,e)))break t;t[i]=e,t[n]=o,n=i}}function E(t){return void 0===(t=t[0])?null:t}function I(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,o=t.length;i<o;){var r=2*(i+1)-1,a=t[r],s=r+1,l=t[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(t[i]=l,t[s]=n,i=s):(t[i]=a,t[r]=n,i=r);else{if(!(void 0!==l&&0>T(l,n)))break t;t[i]=l,t[s]=n,i=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var D=[],M=[],O=1,P=null,A=3,R=!1,B=!1,N=!1;function F(t){for(var e=E(M);null!==e;){if(null===e.callback)I(M);else{if(!(e.startTime<=t))break;I(M),e.sortIndex=e.expirationTime,k(D,e)}e=E(M)}}function L(t){if(N=!1,F(t),!B)if(null!==E(D))B=!0,i(V);else{var e=E(M);null!==e&&o(L,e.startTime-t)}}function V(t,n){B=!1,N&&(N=!1,r()),R=!0;var i=A;try{for(F(n),P=E(D);null!==P&&(!(P.expirationTime>n)||t&&!a());){var s=P.callback;if(null!==s){P.callback=null,A=P.priorityLevel;var l=s(P.expirationTime<=n);n=e.unstable_now(),"function"===typeof l?P.callback=l:P===E(D)&&I(D),F(n)}else I(D);P=E(D)}if(null!==P)var u=!0;else{var h=E(M);null!==h&&o(L,h.startTime-n),u=!1}return u}finally{P=null,A=i,R=!1}}function j(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){B||R||(B=!0,i(V))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return E(D)},e.unstable_next=function(t){switch(A){case 1:case 2:case 3:var e=3;break;default:e=A}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:j(t)}else a=j(t),l=s;return t={id:O++,callback:n,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(t.sortIndex=l,k(M,t),null===E(D)&&t===E(M)&&(N?r():N=!0,o(L,l-s))):(t.sortIndex=a,k(D,t),B||R||(B=!0,i(V))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=E(D);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<P.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=A;return function(){var n=A;A=e;try{return t.apply(this,arguments)}finally{A=n}}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(157),o=n(197),r=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(r){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,o=e.optional,r=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(r);if(!a){if(o)return null;throw Error("Service "+this.name+" is not available")}return a}catch(s){if(o)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var o=i.__values(this.instancesDeferred.entries()),r=o.next();!r.done;r=o.next()){var a=i.__read(r.value,2),s=a[0],l=a[1],u=this.normalizeInstanceIdentifier(s);try{var h=this.getOrInitializeService(u);l.resolve(h)}catch(c){}}}catch(d){e={error:d}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=r,e.ComponentContainer=s,e.Provider=a},function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}var o;n.r(e),n.d(e,"LogLevel",(function(){return r})),n.d(e,"Logger",(function(){return c})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var r,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},l=r.INFO,u=((o={})[r.DEBUG]="log",o[r.VERBOSE]="log",o[r.INFO]="info",o[r.WARN]="warn",o[r.ERROR]="error",o),h=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var r=(new Date).toISOString(),a=u[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,i(["["+r+"]  "+t.name+":"],n))}},c=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=h,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,r.DEBUG],t)),this._logHandler.apply(this,i([this,r.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,r.VERBOSE],t)),this._logHandler.apply(this,i([this,r.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,r.INFO],t)),this._logHandler.apply(this,i([this,r.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,r.WARN],t)),this._logHandler.apply(this,i([this,r.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,r.ERROR],t)),this._logHandler.apply(this,i([this,r.ERROR],t))},t}();function d(t){a.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=o.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==i&&void 0!==i?i:e.logLevel)&&t({level:r[n].toLowerCase(),message:s,args:o,type:e.name})}},i=0,o=a;i<o.length;i++){n(o[i])}}},function(t,e,n){"use strict";n(293)},function(t,e,n){(function(t){(function(){var e,i=n(196).default,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var i=e[n];if(i&&i.Math==Math)return i}return globalThis}(this);function a(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:a(t)}}!function(t,e){if(e){var n=r;t=t.split(".");for(var i=0;i<t.length-1;i++){var a=t[i];a in n||(n[a]={}),n=n[a]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&o(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=r.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{o(t(e))}catch(n){r(n)}}:e}var o,r,a=new e((function(t,e){o=t,r=e}));return this.Oa(i(t,o),i(n,r)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var o=s(t),r=o.next();!r.done;r=o.next())i(r.value).Oa(e,n)}))},e.all=function(t){var n=s(t),o=n.next();return o.done?i([]):new e((function(t,e){function r(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(o.value).Oa(r(a.length-1),e),o=n.next()}while(!o.done)}))},e}));var l=l||{},u=this||self,h=/^[\w+/_-]+[=]{0,2}$/,c=null;function d(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==f(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++_)}var y="closure_uid_"+(1e9*Math.random()>>>0),_=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function x(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:x).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=D+t,this.message=e||M[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new E(e.substring(D.length),t.message,t.serverResponse):null}k(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var T,D="auth/",M={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function A(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function R(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function B(t,e){for(var n="",i=(t=t.split("%s")).length-1,o=0;o<i;o++)n+=t[o]+(o<e.length?e[o]:"%s");R.call(this,n+t[i])}function N(t,e){throw new B("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}T=P("__EID__")?"__EID__":void 0,k(R,Error),R.prototype.name="CustomError",k(B,R),B.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new F((function(){return new H}),(function(t){t.reset()}));function z(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o="string"===typeof t?t.split(""):t,r=0;r<i;r++)r in o&&e.call(n,o[r],r,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],o=0,r="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in r){var s=r[a];e.call(void 0,s,a,t)&&(i[o++]=s)}return i},$=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),o="string"===typeof t?t.split(""):t,r=0;r<n;r++)r in o&&(i[r]=e.call(void 0,o[r],r,t));return i},U=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"===typeof t?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function q(t,e){return 0<=W(t,e)}function Y(t,e){var n;return(n=0<=(e=W(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&0}))}function Z(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var Q,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,it=/>/g,ot=/"/g,rt=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function lt(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ct=ht.userAgent;if(ct){Q=ct;break t}}Q=""}function dt(t){return lt(Q,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,i,o=1;o<arguments.length;o++){for(n in i=arguments[o])t[n]=i[n];for(var r=0;r<mt.length;r++)n=mt[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||u).Element&&i.Location){var o=i;break t}}catch(a){}o=null}if(o&&"undefined"!=typeof o[e]&&(!t||!(t instanceof o[e])&&(t instanceof o.Location||t instanceof o.Element))){if(m(t))try{var r=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){r="<object could not be stringified>"}else r=void 0===t?"undefined":null===t?"null":typeof t;N("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,r)}}function _t(t,e){this.a=t===wt&&e||"",this.b=xt}function bt(t){return t instanceof _t&&t.constructor===_t&&t.b===xt?t.a:(N("expected object of type Const, got '"+t+"'"),"type_error:Const")}_t.prototype.ra=!0,_t.prototype.qa=function(){return this.a},_t.prototype.toString=function(){return"Const{"+this.a+"}"};var xt={},wt={},Ct=new _t(wt,"");function St(t,e){this.a=t===Mt&&e||"",this.b=Dt}function kt(t){return t instanceof St&&t.constructor===St&&t.b===Dt?t.a:(N("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=bt(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(It,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof _t?bt(t):encodeURIComponent(String(t))})),new St(Mt,t)}St.prototype.ra=!0,St.prototype.qa=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Dt={},Mt={};function Ot(t,e){this.a=t===Nt&&e||"",this.b=Bt}function Pt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Bt?t.a:(N("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.ra=!0,Ot.prototype.qa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var At=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.ra?t.qa():String(t),At.test(t)||(t="about:invalid#zClosurez"),new Ot(Nt,t))}var Bt={},Nt={};function Ft(){this.a="",this.b=Vt}function Lt(t){return t instanceof Ft&&t.constructor===Ft&&t.b===Vt?t.a:(N("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Ft.prototype.ra=!0,Ft.prototype.qa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function jt(t){var e=new Ft;return e.a=t,e}jt("<!DOCTYPE html>");var zt=jt("");function Ht(t,e){for(var n=t.split("%s"),i="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)i+=n.shift()+o.shift();return i+n.join("%s")}function Wt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}jt("<br>"),Gt[" "]=d;var Kt,$t=dt("Opera"),Ut=dt("Trident")||dt("MSIE"),qt=dt("Edge"),Yt=qt||Ut,Xt=dt("Gecko")&&!(lt(Q.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=lt(Q.toLowerCase(),"webkit")&&!dt("Edge");function Jt(){var t=u.document;return t?t.documentMode:void 0}t:{var Qt="",te=function(){var t=Q;return Xt?/rv:([^\);]+)(\)|;)/.exec(t):qt?/Edge\/([\d\.]+)/.exec(t):Ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):$t?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(te&&(Qt=te?te[1]:""),Ut){var ee=Jt();if(null!=ee&&ee>parseFloat(Qt)){Kt=String(ee);break t}}Kt=Qt}var ne,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(Kt)).split("."),i=tt(String(t)).split("."),o=Math.max(n.length,i.length),r=0;0==e&&r<o;r++){var a=n[r]||"",s=i[r]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ut(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ut(0==a[2].length,0==s[2].length)||ut(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}ne=u.document&&Ut?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(aa){}var re=!Ut||9<=Number(ne);function ae(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function se(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,ue,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ce(t,e,n){function i(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var r=n[o];!p(r)||m(r)&&0<r.nodeType?i(r):G(fe(r)?J(r):r,i)}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function fe(t){if(t&&"number"==typeof t.length){if(m(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function pe(t){u.setTimeout((function(){throw t}),0)}function ge(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",function(t){var e=new St(Mt,bt(Ct));yt(t,"HTMLIFrameElement"),t.src=kt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Lt(zt)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){i.next={Db:t},i=i.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}function me(t,e){ue||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ue=function(){t.then(_e)}}else ue=function(){var t=_e;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(le||(le=ge()),le(t)):u.setImmediate(t)}}(),ve||(ue(),ve=!0),ye.add(t,e)}var ve=!1,ye=new V;function _e(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){pe(e)}L(j,t)}ve=!1}function be(t,e){if(this.a=xe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=d)try{var n=this;t.call(e,(function(t){Ae(n,we,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ae(n,Ce,t)}))}catch(i){Ae(this,Ce,i)}}var xe=0,we=2,Ce=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new F((function(){return new Se}),(function(t){t.reset()}));function Ee(t,e,n){var i=ke.get();return i.g=t,i.b=e,i.f=n,i}function Ie(t){if(t instanceof be)return t;var e=new be(d);return Ae(e,we,t),e}function Te(t){return new be((function(e,n){n(t)}))}function De(t,e,n){Re(t,e,n,null)||me(C(e,t))}function Me(t){return new be((function(e){var n=t.length,i=[];if(n)for(var o=function(t,o,r){n--,i[t]=o?{Mb:!0,value:r}:{Mb:!1,reason:r},0==n&&e(i)},r=0;r<t.length;r++)De(t[r],C(o,r,!0),C(o,r,!1));else e(i)}))}function Oe(t,e){t.b||t.a!=we&&t.a!=Ce||Be(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,i){var o=Ee(null,null,null);return o.a=new be((function(t,r){o.g=e?function(n){try{var o=e.call(i,n);t(o)}catch(a){r(a)}}:t,o.b=n?function(e){try{var o=n.call(i,e);void 0===o&&e instanceof je?r(e):t(o)}catch(a){r(a)}}:r})),o.a.c=t,Oe(t,o),o.a}function Ae(t,e,n){t.a==xe&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Be(t),e!=Ce||n instanceof je||function(t,e){t.g=!0,me((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function Re(t,e,n,i){if(t instanceof be)return Oe(t,Ee(e||d,n||null,i)),!0;if(A(t))return t.then(e,n,i),!0;if(m(t))try{var o=t.then;if(g(o))return function(t,e,n,i,o){function r(t){a||(a=!0,i.call(o,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(o,t))}),r)}catch(s){r(s)}}(t,o,e,n,i),!0}catch(r){return n.call(i,r),!0}return!1}function Be(t){t.h||(t.h=!0,me(t.ec,t))}function Ne(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,i){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Le(e,n,i);else try{e.c?e.g.call(e.f):Le(e,n,i)}catch(o){Ve.call(null,o)}L(ke,e)}function Le(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Pe(this,g(t)?t:null,g(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(e=be.prototype).ma=function(t,e){return(t=Ee(t,t,e)).c=!0,Oe(this,t),this},e.o=function(t,e){return Pe(this,null,t,e)},e.cancel=function(t){if(this.a==xe){var e=new je(t);me((function(){!function t(e,n){if(e.a==xe)if(e.c){var i=e.c;if(i.b){for(var o=0,r=null,a=null,s=i.b;s&&(s.c||(o++,s.a==e&&(r=s),!(r&&1<o)));s=s.next)r||(a=s);r&&(i.a==xe&&1==o?t(i,n):(a?((o=a).next==i.f&&(i.f=o),o.next=o.next.next):Ne(i),Fe(i,r,Ce,n)))}e.c=null}else Ae(e,Ce,n)}(this,e)}),this)}},e.Yc=function(t){this.a=xe,Ae(this,we,t)},e.Zc=function(t){this.a=xe,Ae(this,Ce,t)},e.ec=function(){for(var t;t=Ne(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ve=pe;function je(t){R.call(this,t)}function ze(){0!=He&&(We[v(this)]=this),this.wa=this.wa,this.na=this.na}k(je,R),je.prototype.name="cancel";var He=0,We={};function Ge(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=He)){var e=v(t);if(0!=He&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete We[e]}}ze.prototype.wa=!1,ze.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Ke=Object.freeze||function(t){return t},$e=!Ut||9<=Number(ne),Ue=Ut&&!oe("9"),qe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",d,e),u.removeEventListener("test",d,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Gt(e.nodeName);var o=!0;break t}catch(r){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Xe,Ye);var Ze=Ke({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ue)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.f=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function tn(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Ta=o,this.key=++Qe,this.ua=this.Na=!1}function en(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function nn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,i){for(var o=0;o<t.length;++o){var r=t[o];if(!r.ua&&r.listener==e&&r.capture==!!n&&r.Ta==i)return o}return-1}nn.prototype.add=function(t,e,n,i,o){var r=t.toString();(t=this.a[r])||(t=this.a[r]=[],this.b++);var a=rn(t,e,i,o);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new tn(e,this.src,r,!!i,o)).Na=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function ln(t,e,n,i,o){if(i&&i.once)hn(t,e,n,i,o);else if(Array.isArray(e))for(var r=0;r<e.length;r++)ln(t,e[r],n,i,o);else n=_n(n),t&&t[Je]?xn(t,e,n,m(i)?!!i.capture:!!i,o):un(t,e,n,!1,i,o)}function un(t,e,n,i,o,r){if(!e)throw Error("Invalid event type");var a=m(o)?!!o.capture:!!o,s=vn(t);if(s||(t[an]=s=new nn(t)),!(n=s.add(e,n,i,a,r)).proxy){if(i=function(){var t=mn,e=$e?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)qe||(o=a),void 0===o&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(fn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}0}}function hn(t,e,n,i,o){if(Array.isArray(e))for(var r=0;r<e.length;r++)hn(t,e[r],n,i,o);else n=_n(n),t&&t[Je]?wn(t,e,n,m(i)?!!i.capture:!!i,o):un(t,e,n,!0,i,o)}function cn(t,e,n,i,o){if(Array.isArray(e))for(var r=0;r<e.length;r++)cn(t,e[r],n,i,o);else i=m(i)?!!i.capture:!!i,n=_n(n),t&&t[Je]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=rn(r=t.a[e],n,i,o))&&(en(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,i,o)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!==typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Je])on(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(fn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=vn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):en(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function pn(t,e,n,i){var o=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var r=e[t];r&&r.capture==n&&!r.ua&&(r=gn(r,i),o=o&&!1!==r)}return o}function gn(t,e){var n=t.listener,i=t.Ta||t.src;return t.Na&&dn(t),n.call(i,e)}function mn(t,e){if(t.ua)return!0;if(!$e){if(!e)t:{e=["window","event"];for(var n=u,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Xe(i=e,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(a){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var r=pn(i[o],t,!0,e);n=n&&r}for(o=0;o<i.length;o++)e.b=i[o],r=pn(i[o],t,!1,e),n=n&&r}return n}return gn(t,new Xe(e,this))}function vn(t){return(t=t[an])instanceof nn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return g(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function bn(){ze.call(this),this.u=new nn(this),this.Yb=this,this.eb=null}function xn(t,e,n,i,o){t.u.add(String(e),n,!1,i,o)}function wn(t,e,n,i,o){t.u.add(String(e),n,!0,i,o)}function Cn(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var o=!0,r=0;r<e.length;++r){var a=e[r];if(a&&!a.ua&&a.capture==n){var s=a.listener,l=a.Ta||a.src;a.Na&&on(t.u,a),o=!1!==s.call(l,i)&&o}}return o&&!i.defaultPrevented}function Sn(t,e,n){if(g(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new be((function(n,i){-1==(e=Sn((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function En(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function In(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Tn)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Mn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)Mn(o,i=t.a[e])||(t.a[n++]=i,o[i]=1),e++;t.a.length=n}}function Mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(bn,ze),bn.prototype[Je]=!0,bn.prototype.addEventListener=function(t,e,n,i){ln(this,t,e,n,i)},bn.prototype.removeEventListener=function(t,e,n,i){cn(this,t,e,n,i)},bn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var i=t.type||t;if("string"===typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var o=t;vt(t=new Ye(i,n),o)}if(o=!0,e)for(var r=e.length-1;0<=r;r--){var a=t.b=e[r];o=Cn(a,i,!0,t)&&o}if(o=Cn(a=t.b=n,i,!0,t)&&o,o=Cn(a,i,!1,t)&&o,e)for(r=0;r<e.length;r++)o=Cn(a=t.b=e[r],i,!1,t)&&o;return o},bn.prototype.Ba=function(){if(bn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)en(n[i]);delete e.a[t],e.b--}}this.eb=null},(e=Tn.prototype).V=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return Dn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return Mn(this.b,t)?this.b[t]:e},e.set=function(t,e){Mn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var o=n[i],r=this.get(o);t.call(e,r,o,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Pn?(this.h=void 0!==e?e:t.h,An(this,t.f),this.i=t.i,this.b=t.b,Rn(this,t.l),this.c=t.c,Bn(this,ti(t.a)),this.g=t.g):t&&(n=String(t).match(On))?(this.h=!!e,An(this,n[1]||"",!0),this.i=jn(n[2]||""),this.b=jn(n[3]||"",!0),Rn(this,n[4]),this.c=jn(n[5]||"",!0),Bn(this,n[6]||"",!0),this.g=jn(n[7]||"")):(this.h=!!e,this.a=new qn(null,this.h))}function An(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Bn(t,e,n){e instanceof qn?(t.a=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=zn(e,$n)),t.a=new qn(e,t.h))}function Nn(t,e,n){t.a.set(e,n)}function Fn(t,e){return t.a.get(e)}function Ln(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Vn(t,e){var n=new Pn(null,void 0);return An(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zn(e,Wn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(zn(e,Wn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Kn:Gn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zn(n,Un)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.f;n?An(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)Rn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var o=e.c.lastIndexOf("/");-1!=o&&(i=e.c.substr(0,o+1)+i)}if(".."==(o=i)||"."==o)i="";else if(lt(o,"./")||lt(o,"/.")){i=0==o.lastIndexOf("/",0),o=o.split("/");for(var r=[],a=0;a<o.length;){var s=o[a++];"."==s?i&&a==o.length&&r.push(""):".."==s?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),i&&a==o.length&&r.push("")):(r.push(s),i=!0)}i=r.join("/")}else i=o}return n?e.c=i:n=""!==t.a.toString(),n?Bn(e,ti(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Wn=/[#\/\?@]/g,Gn=/[#\?:]/g,Kn=/[#\?]/g,$n=/[#\?@]/g,Un=/#/g;function qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var r=t[n].substring(0,i);o=t[n].substring(i+1)}else r=t[n];e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=In(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new qn(null,void 0);t=En(t);for(var i=0;i<e.length;i++){var o=e[i],r=t[i];Array.isArray(r)?Qn(n,o,r):n.add(o,r)}return n}function Zn(t,e){Yn(t),e=ei(t,e),Mn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Mn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function Jn(t,e){return Yn(t),e=ei(t,e),Mn(t.a.b,e)}function Qn(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(ei(t,e),J(n)),t.b+=n.length)}function ti(t){var e=new qn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function ei(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ni(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var o=n;n=o.length,i.push("[");for(var r="",a=0;a<n;a++)i.push(r),t(e,o[a],i),r=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(o in i.push("{"),r="",n)Object.prototype.hasOwnProperty.call(n,o)&&("function"!=typeof(a=n[o])&&(i.push(r),ai(o,i),i.push(":"),t(e,a,i),r=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":ai(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ii,t,e),e.join("")}function ii(){}(e=qn.prototype).add=function(t,e){Yn(this),this.c=null,t=ei(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Yn(this),this.a.forEach((function(n,i){G(n,(function(n){t.call(e,n,i,this)}),this)}),this)},e.X=function(){Yn(this);for(var t=this.a.V(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var o=t[i],r=0;r<o.length;r++)n.push(e[i]);return n},e.V=function(t){Yn(this);var e=[];if("string"===typeof t)Jn(this,t)&&(e=Z(e,this.a.get(ei(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Z(e,t[n])}return e},e.set=function(t,e){return Yn(this),this.c=null,Jn(this,t=ei(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.V(i);for(var r=0;r<i.length;r++){var a=o;""!==i[r]&&(a+="="+encodeURIComponent(String(i[r]))),t.push(a)}}return this.c=t.join("&")};var oi={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ri=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ai(t,e){e.push('"',t.replace(ri,(function(t){var e=oi[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),oi[t]=e),e})),'"')}function si(){var t=Ei();return Ut&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function li(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ui(t,e){e=e||u.window;var n="about:blank";t&&(n=Pt(Rt(t))),e.location.href=n}function hi(t){return!!((t=(t||Ei()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ci(t){t=t||u.window;try{t.close()}catch(e){}}function di(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,r=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<o?o:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ei().toLowerCase(),i&&(e.target=i,lt(n,"crios/")&&(e.target="_blank")),Ci(Ei())==xi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Ot?n:Rt("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,o=[],t)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(a+"="+(t[a]?1:0))}var a=o.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(yt(a=de(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.ra?e.qa():String(e),At.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Nt,e)),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=i.open("",n,a),t=Pt(e),a&&(Yt&&lt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wt(t)+'">'),i=a.document)&&(i.write(Lt(t)),i.close())):(a=i.open(Pt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var fi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pi=/^[^@]+@[^@]+$/;function gi(){var t=null;return new be((function(e){"complete"==u.document.readyState?e():(t=function(){e()},hn(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function mi(t){return t=t||Ei(),!("file:"!==Oi()&&"ionic:"!==Oi()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vi(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function yi(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function _i(){return i.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.INTERNAL.hasOwnProperty("node")?"Node":yi()?"Worker":"Browser"}function bi(){var t=_i();return"ReactNative"===t||"Node"===t}var xi="Firefox",wi="Chrome";function Ci(t){var e=t.toLowerCase();return lt(e,"opera/")||lt(e,"opr/")||lt(e,"opios/")?"Opera":lt(e,"iemobile")?"IEMobile":lt(e,"msie")||lt(e,"trident/")?"IE":lt(e,"edge/")?"Edge":lt(e,"firefox/")?xi:lt(e,"silk/")?"Silk":lt(e,"blackberry")?"Blackberry":lt(e,"webos")?"Webos":!lt(e,"safari/")||lt(e,"chrome/")||lt(e,"crios/")||lt(e,"android")?!lt(e,"chrome/")&&!lt(e,"crios/")||lt(e,"edge/")?lt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":wi:"Safari"}var Si={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function ki(t,e){e=e||[];var n,i=[],o={};for(n in Si)o[Si[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof o[e[n]]&&(delete o[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=_i())?i=Ci(o=Ei()):"Worker"===i&&(i=Ci(o=Ei())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Ei(){return u.navigator&&u.navigator.userAgent||""}function Ii(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ti(){try{var t=u.localStorage,e=Ni();if(t)return t.setItem(e,"1"),t.removeItem(e),!si()||!!u.indexedDB}catch(n){return yi()&&!!u.indexedDB}return!1}function Di(){return(Mi()||"chrome-extension:"===Oi()||mi())&&!bi()&&Ti()&&!yi()}function Mi(){return"http:"===Oi()||"https:"===Oi()}function Oi(){return u.location&&u.location.protocol||null}function Pi(t){return!hi(t=t||Ei())&&Ci(t)!=xi}function Ai(t){return"undefined"===typeof t?null:ni(t)}function Ri(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Bi(t){if(null!==t)return JSON.parse(t)}function Ni(t){return t||Math.floor(1e9*Math.random()).toString()}function Fi(t){return"Safari"!=Ci(t=t||Ei())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Li(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Vi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ei(),e=_i(),this.b=hi(t)||"ReactNative"===e}function ji(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function zi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hi(){return!(!Ii("fireauth.oauthhelper",u)&&!Ii("fireauth.iframe",u))}Vi.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Mi()&&"chrome-extension:"!==Oi()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wi,Gi={};function Ki(t){Gi[t]||(Gi[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var $i={};Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:2}),Wi=2==$i.abcd}catch(aa){Wi=!1}function Ui(t,e,n){Wi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function qi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ui(t,n,e[n])}function Yi(t){var e={};return qi(e,t),e}function Xi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ui(e,n,Xi(t[n]));return e}function Zi(t){var e=t&&(t[no]?"phone":null);if(!(e&&t&&t[eo]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Ui(this,"uid",t[eo]),Ui(this,"displayName",t[Qi]||null);var n=null;t[to]&&(n=new Date(t[to]).toUTCString()),Ui(this,"enrollmentTime",n),Ui(this,"factorId",e)}function Ji(t){try{var e=new io(t)}catch(n){e=null}return e}Zi.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Qi="displayName",to="enrolledAt",eo="mfaEnrollmentId",no="phoneInfo";function io(t){Zi.call(this,t),Ui(this,"phoneNumber",t[no])}function oo(t){var e={},n=t[lo],i=t[ho],o=t[co];if(t=Ji(t[uo]),!o||o!=ao&&o!=so&&!n||o==so&&!i||o==ro&&!t)throw Error("Invalid checkActionCode response!");o==so?(e[po]=n||null,e[mo]=n||null,e[fo]=i):(e[po]=i||null,e[mo]=i||null,e[fo]=n||null),e[go]=t||null,Ui(this,yo,o),Ui(this,vo,Xi(e))}k(io,Zi),io.prototype.v=function(){var t=io.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ro="REVERT_SECOND_FACTOR_ADDITION",ao="EMAIL_SIGNIN",so="VERIFY_AND_CHANGE_EMAIL",lo="email",uo="mfaInfo",ho="newEmail",co="requestType",fo="email",po="fromEmail",go="multiFactorInfo",mo="previousEmail",vo="data",yo="operation";function _o(t){var e=Fn(t=Ln(t),bo)||null,n=Fn(t,xo)||null,i=Fn(t,So)||null;if(i=i&&Eo[i]||null,!e||!n||!i)throw new E("argument-error",bo+", "+xo+"and "+So+" are required in a valid action code URL.");qi(this,{apiKey:e,operation:i,code:n,continueUrl:Fn(t,wo)||null,languageCode:Fn(t,Co)||null,tenantId:Fn(t,ko)||null})}var bo="apiKey",xo="oobCode",wo="continueUrl",Co="languageCode",So="mode",ko="tenantId",Eo={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ro,signIn:ao,verifyAndChangeEmail:so,verifyEmail:"VERIFY_EMAIL"};function Io(t){try{return new _o(t)}catch(e){return null}}function To(t){var e=t[Ao];if("undefined"===typeof e)throw new E("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Do];if(n&&"object"===typeof n){e=n[No];var i=n[Ro];if(n=n[Bo],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof i&&"boolean"!==typeof i)throw new E("argument-error",Ro+" property must be a boolean when specified.");if(this.g=!!i,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new E("argument-error",Bo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new E("argument-error",No+" property must be a non empty string when specified.");if("undefined"!==typeof i||"undefined"!==typeof n)throw new E("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new E("argument-error",Do+" property must be a non null object when specified.");if(this.f=null,(e=t[Po])&&"object"===typeof e){if("string"===typeof(e=e[Fo])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new E("argument-error",Fo+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new E("argument-error",Po+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Oo])&&"boolean"!==typeof e)throw new E("argument-error",Oo+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Mo])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new E("argument-error",Mo+" property must be a non empty string when specified.");this.i=t||null}var Do="android",Mo="dynamicLinkDomain",Oo="handleCodeInApp",Po="iOS",Ao="url",Ro="installApp",Bo="minimumVersion",No="packageName",Fo="bundleId";function Lo(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vo=null;function jo(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),o=Vo[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vo){Vo={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),o=0;o<i.length;o++){var r=i[o];void 0===Vo[r]&&(Vo[r]=o)}}}();for(var i=0;;){var o=n(-1),r=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;e(o<<2|r>>4),64!=a&&(e(r<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function zo(t){var e=Wo(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,S(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ho(t){try{return new zo(t)}catch(e){return null}}function Wo(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(jo(t))}catch(i){}return null}zo.prototype.S=function(){return this.f},zo.prototype.i=function(){return this.b},zo.prototype.toString=function(){return this.g};var Go="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ko=["client_id","response_type","scope","redirect_uri","state"],$o={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Ko},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Ko},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Ko},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Go},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Uo(t){for(var e in $o)if($o[e].ea==t)return $o[e];return null}function qo(t){var e={};e["facebook.com"]=Qo,e["google.com"]=er,e["github.com"]=tr,e["twitter.com"]=nr;var n=t&&t[Xo];try{if(n)return e[n]?new e[n](t):new Jo(t);if("undefined"!==typeof t[Yo])return new Zo(t)}catch(i){}return null}var Yo="idToken",Xo="providerId";function Zo(t){var e=t[Xo];if(!e&&t[Yo]){var n=Ho(t[Yo]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ui(this,"providerId",e),Ui(this,"isNewUser",n)}function Jo(t){Zo.call(this,t),Ui(this,"profile",Xi((t=Bi(t.rawUserInfo||"{}"))||{}))}function Qo(t){if(Jo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function tr(t){if(Jo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ui(this,"username",this.profile&&this.profile.login||null)}function er(t){if(Jo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function nr(t){if(Jo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ui(this,"username",t.screenName||null)}function ir(t){var e=Ln(t),n=Fn(e,"link"),i=Fn(Ln(n),"link");return e=Fn(e,"deep_link_id"),Fn(Ln(e),"link")||e||i||n||t}function or(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?rr:ar}k(Jo,Zo),k(Qo,Jo),k(tr,Jo),k(er,Jo),k(nr,Jo);var rr="enroll",ar="signin";function sr(){}function lr(t,e){return t.then((function(t){if(t[Xa]){var n=Ho(t[Xa]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==D+"user-not-found"?new E("user-mismatch"):t}))}function ur(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Ui(this,"providerId",t),Ui(this,"signInMethod",t)}function hr(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function cr(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ur(t.providerId,t.pendingToken)}catch(e){}return null}function dr(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ui(this,"idToken",e.idToken),e.accessToken&&Ui(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ui(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Ui(this,"accessToken",e.oauthToken),Ui(this,"secret",e.oauthTokenSecret)}Ui(this,"providerId",t),Ui(this,"signInMethod",n)}function fr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function pr(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new dr(t.providerId,e,t.signInMethod)}catch(n){}}return null}function gr(t,e){this.Oc=e||[],qi(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Uo(t)||{}).Ha||null,this.kb=null}function mr(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');gr.call(this,t,[])}function vr(t){gr.call(this,t,Ko),this.a=[]}function yr(){vr.call(this,"facebook.com")}function _r(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new yr).credential({accessToken:e})}function br(){vr.call(this,"github.com")}function xr(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new br).credential({accessToken:e})}function wr(){vr.call(this,"google.com"),this.Aa("profile")}function Cr(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new wr).credential({idToken:n,accessToken:e})}function Sr(){gr.call(this,"twitter.com",Go)}function kr(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new dr("twitter.com",n,"twitter.com")}function Er(t,e,n){this.a=t,this.f=e,Ui(this,"providerId","password"),Ui(this,"signInMethod",n===Tr.EMAIL_LINK_SIGN_IN_METHOD?Tr.EMAIL_LINK_SIGN_IN_METHOD:Tr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ir(t){return t&&t.email&&t.password?new Er(t.email,t.password,t.signInMethod):null}function Tr(){qi(this,{providerId:"password",isOAuthProvider:!1})}function Dr(t,e){if(!(e=Mr(e)))throw new E("argument-error","Invalid email link!");return new Er(t,e.code,Tr.EMAIL_LINK_SIGN_IN_METHOD)}function Mr(t){return(t=Io(t=ir(t)))&&t.operation===ao?t:null}function Or(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,Ui(this,"providerId","phone"),this.ea="phone",Ui(this,"signInMethod","phone")}function Pr(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Or(e)}return null}function Ar(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Rr(t){try{this.a=t||i.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qi(this,{providerId:"phone",isOAuthProvider:!1})}function Br(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Or({bb:t,ab:e})}function Nr(t){if(t.temporaryProof&&t.phoneNumber)return new Or({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,o=t&&t.nonce,r=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Cr(r,n);case"facebook.com":return _r(n);case"github.com":return xr(n);case"twitter.com":return kr(n,i);default:return n||i||r||a?a?0==e.indexOf("saml.")?new ur(e,a):new dr(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new vr(e).credential({idToken:r,accessToken:n,rawNonce:o}):null}}catch(s){return null}}function Fr(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Lr(t,e,n,i,o,r,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=r||null,this.h=a||null,this.a=o||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Vr(t){return(t=t||{}).type?new Lr(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function jr(){this.b=null,this.a=[]}or.prototype.Fa=function(){return this.a?Ie(this.a):Ie(this.b)},or.prototype.v=function(){return this.type==rr?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},sr.prototype.ia=function(){},sr.prototype.b=function(){},sr.prototype.c=function(){},sr.prototype.v=function(){},ur.prototype.ia=function(t){return ms(t,hr(this))},ur.prototype.b=function(t,e){var n=hr(this);return n.idToken=e,vs(t,n)},ur.prototype.c=function(t,e){return lr(ys(t,hr(this)),e)},ur.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},dr.prototype.ia=function(t){return ms(t,fr(this))},dr.prototype.b=function(t,e){var n=fr(this);return n.idToken=e,vs(t,n)},dr.prototype.c=function(t,e){return lr(ys(t,fr(this)),e)},dr.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},gr.prototype.Ia=function(t){return this.Fb=gt(t),this},k(mr,gr),k(vr,gr),vr.prototype.Aa=function(t){return q(this.a,t)||this.a.push(t),this},vr.prototype.Nb=function(){return J(this.a)},vr.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new dr(this.providerId,n,this.providerId)},k(yr,vr),Ui(yr,"PROVIDER_ID","facebook.com"),Ui(yr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(br,vr),Ui(br,"PROVIDER_ID","github.com"),Ui(br,"GITHUB_SIGN_IN_METHOD","github.com"),k(wr,vr),Ui(wr,"PROVIDER_ID","google.com"),Ui(wr,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Sr,gr),Ui(Sr,"PROVIDER_ID","twitter.com"),Ui(Sr,"TWITTER_SIGN_IN_METHOD","twitter.com"),Er.prototype.ia=function(t){return this.signInMethod==Tr.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Es,{email:this.a,oobCode:this.f}):Qs(t,qs,{email:this.a,password:this.f})},Er.prototype.b=function(t,e){return this.signInMethod==Tr.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Is,{idToken:e,email:this.a,oobCode:this.f}):Qs(t,js,{idToken:e,email:this.a,password:this.f})},Er.prototype.c=function(t,e){return lr(this.ia(t),e)},Er.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},qi(Tr,{PROVIDER_ID:"password"}),qi(Tr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qi(Tr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Or.prototype.ia=function(t){return t.cb(Ar(this))},Or.prototype.b=function(t,e){var n=Ar(this);return n.idToken=e,Qs(t,Xs,n)},Or.prototype.c=function(t,e){var n=Ar(this);return n.operation="REAUTH",lr(t=Qs(t,Zs,n),e)},Or.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Rr.prototype.cb=function(t,e){var n=this.a.b;return Ie(e.verify()).then((function(i){if("string"!==typeof i)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var o=m(t)?t.session:null,r=m(t)?t.phoneNumber:t;return(o&&o.type==rr?o.Fa().then((function(t){return function(t,e){return Qs(t,Hs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:r,recaptchaToken:i}})})):o&&o.type==ar?o.Fa().then((function(e){return function(t,e){return Qs(t,Ws,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(t,e){return Qs(t,Ls,e)}(n,{phoneNumber:r,recaptchaToken:i})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},qi(Rr,{PROVIDER_ID:"phone"}),qi(Rr,{PHONE_SIGN_IN_METHOD:"phone"}),Lr.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Lr.prototype.S=function(){return this.h},Lr.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var zr,Hr=null;function Wr(t){var e="unauthorized-domain",n=void 0,i=Ln(t);t=i.b,"chrome-extension"==(i=i.f)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Gr(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&Ui(this,"email",t.Gb),t.da&&Ui(this,"phoneNumber",t.da),t.credential&&Ui(this,"credential",t.credential),t.Wb&&Ui(this,"tenantId",t.Wb)}function Kr(t){if(t.code){var e=t.code||"";0==e.indexOf(D)&&(e=e.substring(D.length));var n={credential:Nr(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Gr(e,n,t.message)}return null}function $r(){}function Ur(t){return t.c||(t.c=t.b())}function qr(){}function Yr(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xr(){}function Zr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.oc,this),this.a.onerror=w(this.Pb,this),this.a.onprogress=w(this.pc,this),this.a.ontimeout=w(this.tc,this)}function Jr(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Qr(t,e,n){this.reset(t,e,n,void 0,void 0)}k(Wr,E),k(Gr,E),Gr.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&vt(t,e),t},Gr.prototype.toJSON=function(){return this.v()},$r.prototype.c=null,k(qr,$r),qr.prototype.a=function(){var t=Yr(this);return t?new ActiveXObject(t):new XMLHttpRequest},qr.prototype.b=function(){var t={};return Yr(this)&&(t[0]=!0,t[1]=!0),t},zr=new qr,k(Xr,$r),Xr.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zr;throw Error("Unsupported browser")},Xr.prototype.b=function(){return{}},(e=Zr.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jr(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",Jr(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,Jr(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qr.prototype.a=null;function ta(t){this.f=t,this.b=this.c=this.a=null}function ea(t,e){this.name=t,this.value=e}Qr.prototype.reset=function(t,e,n,i,o){"number"==typeof o||0,i||S(),delete this.a},ea.prototype.toString=function(){return this.name};var na=new ea("SEVERE",1e3),ia=new ea("WARNING",900),oa=new ea("CONFIG",700),ra=new ea("FINE",500);ta.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(N("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new Qr(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var aa,sa={},la=null;function ua(t){var e;if(la||(la=new ta(""),sa[""]=la,la.c=oa),!(e=sa[t])){e=new ta(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=ua(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,sa[t]=e}return e}function ha(t,e){t&&t.log(ra,e,void 0)}function ca(t){this.f=t}function da(t){bn.call(this),this.s=t,this.readyState=fa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ua("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(ca,$r),ca.prototype.a=function(){return new da(this.f)},ca.prototype.b=(aa={},function(){return aa}),k(da,bn);var fa=0;function pa(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ga(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ma(t)}function ma(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function va(t){bn.call(this),this.headers=new Tn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ya,this.w=this.R=!1}(e=da.prototype).open=function(t,e){if(this.readyState!=fa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ma(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ga(this,!1)),this.readyState=fa},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,pa(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ga(this,!0):ma(this),3==this.readyState&&pa(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,ga(this,!0))},e.qc=function(t){this.a&&(this.response=t,ga(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(ia,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ga(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ia,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},k(va,bn);var ya="";va.prototype.b=ua("goog.net.XhrIo");var _a=/^https?$/i,ba=["POST","PUT"];function xa(t,e,n,i,o){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():zr.a(),t.B=t.D?Ur(t.D):Ur(zr),t.a.onreadystatechange=w(t.Sb,t);try{ha(t.b,Ma(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ha(t.b,Ma(t,"Error opening Xhr: "+a.message)),void Ca(t,a)}e=i||"";var r=new Tn(t.headers);o&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)G(t,e,void 0);else for(var n=In(t),i=En(t),o=i.length,r=0;r<o;r++)e.call(void 0,i[r],n&&n[r],t)}(o,(function(t,e){r.set(e,t)})),o=function(t){t:{for(var e=wa,n=t.length,i="string"===typeof t?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(r.X()),i=u.FormData&&e instanceof u.FormData,!q(ba,n)||o||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ia(t),0<t.g&&(t.w=function(t){return Ut&&oe(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ha(t.b,Ma(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ka,t)):t.s=Sn(t.Ka,t.g,t)),ha(t.b,Ma(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ha(t.b,Ma(t,"Send error: "+a.message)),Ca(t,a)}}function wa(t){return"content-type"==t.toLowerCase()}function Ca(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Sa(t),Ea(t)}function Sa(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ka(t){if(t.c&&"undefined"!=typeof l)if(t.B[1]&&4==Ta(t)&&2==Da(t))ha(t.b,Ma(t,"Local request error detected and ignored"));else if(t.i&&4==Ta(t))Sn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ta(t)){ha(t.b,Ma(t,"Request complete")),t.c=!1;try{var e,n=Da(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var o;if(o=0===n){var r=String(t.l).match(On)[1]||null;if(!r&&u.self&&u.self.location){var a=u.self.location.protocol;r=a.substr(0,a.length-1)}o=!_a.test(r?r.toLowerCase():"")}e=o}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<Ta(t)?t.a.statusText:""}catch(h){ha(t.b,"Can not get status: "+h.message),s=""}t.h=s+" ["+Da(t)+"]",Sa(t)}}finally{Ea(t)}}}function Ea(t,e){if(t.a){Ia(t);var n=t.a,i=t.B[0]?d:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(o){(t=t.b)&&t.log(na,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}}function Ia(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Ta(t){return t.a?t.a.readyState:0}function Da(t){try{return 2<Ta(t)?t.a.status:-1}catch(e){return-1}}function Ma(t,e){return e+" ["+t.P+" "+t.l+" "+Da(t)+"]"}function Oa(t){var e=Ha;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Pa(t,e,n){t.a=!0,t.c=n,t.f=!e,Na(t)}function Aa(t){if(t.a){if(!t.u)throw new Fa(t);t.u=!1}}function Ra(t,e,n,i){t.g.push([e,n,i]),t.a&&Na(t)}function Ba(t){return U(t.g,(function(t){return g(t[1])}))}function Na(t){if(t.h&&t.a&&Ba(t)){var e=t.h,n=ja[e];n&&(u.clearTimeout(n.a),delete ja[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var o=t.g.shift(),r=o[0],a=o[1];if(o=o[2],r=t.f?a:r)try{var s=r.call(o||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(A(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(i=!0,t.i=!0)}catch(l){e=l,t.f=!0,Ba(t)||(n=!0)}}t.c=e,i&&(s=w(t.m,t,!0),i=w(t.m,t,!1),e instanceof Oa?(Ra(e,s,i),e.B=!0):e.then(s,i)),n&&(e=new Va(e),ja[e.a]=e,t.h=e.a)}function Fa(){R.call(this)}function La(){R.call(this)}function Va(t){this.a=u.setTimeout(w(this.c,this),0),this.b=t}(e=va.prototype).Ka=function(){"undefined"!=typeof l&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,Ma(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ha(this.b,Ma(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ea(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ea(this,!0)),va.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?ka(this):this.Hc())},e.Hc=function(){ka(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ya:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(na,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ha(this.b,"Can not get response: "+e.message),null}},Oa.prototype.cancel=function(t){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new La(this),Aa(this),Pa(this,!1,t))}},Oa.prototype.m=function(t,e){this.i=!1,Pa(this,t,e)},Oa.prototype.then=function(t,e,n){var i,o,r=new be((function(t,e){i=t,o=e}));return Ra(this,i,(function(t){t instanceof La?r.cancel():o(t)})),r.then(t,e,n)},Oa.prototype.$goog_Thenable=!0,k(Fa,R),Fa.prototype.message="Deferred has already fired",Fa.prototype.name="AlreadyCalledError",k(La,R),La.prototype.message="Deferred was canceled",La.prototype.name="CanceledError",Va.prototype.c=function(){throw delete ja[this.a],this.b};var ja={};function za(t){var e={},n=e.document||document,i=kt(t).toString(),o=de(document,"SCRIPT"),r={Tb:o,Ka:void 0},a=new Oa(r),s=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(s=window.setTimeout((function(){Wa(o,!0);var t=new $a(Ka,"Timeout reached for loading script "+i);Aa(a),Pa(a,!1,t)}),l),r.Ka=s),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(Wa(o,e.ud||!1,s),Aa(a),Pa(a,!0,null))},o.onerror=function(){Wa(o,!0,s);var t=new $a(Ga,"Error while loading script "+i);Aa(a),Pa(a,!1,t)},vt(r=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),se(o,r),function(t,e){yt(t,"HTMLScriptElement"),t.src=kt(e),null===c&&(c=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&h.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(o,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(o),a}function Ha(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Wa(t,!0,this.Ka)}}function Wa(t,e,n){null!=n&&u.clearTimeout(n),t.onload=d,t.onerror=d,t.onreadystatechange=d,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ga=0,Ka=1;function $a(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),R.call(this,n),this.code=t}function Ua(t){this.f=t}function qa(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Za,this.g=gt(t.secureTokenHeaders||Ja),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Qa,this.a=gt(t.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==_i(),!(n=u.XMLHttpRequest||n&&i.INTERNAL.node&&i.INTERNAL.node.XMLHttpRequest)&&!yi())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yi()?this.f=new ca(self):bi()?this.f=new Ua(n):this.f=new Xr,this.b=null}k($a,R),k(Ua,$r),Ua.prototype.a=function(){return new this.f},Ua.prototype.b=function(){return{}};var Ya,Xa="idToken",Za=new Vi(3e4,6e4),Ja={"Content-Type":"application/x-www-form-urlencoded"},Qa=new Vi(3e4,6e4),ts={"Content-Type":"application/json"};function es(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ns(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function is(t,e,n,i,o,r,a){(function(){var t=Ei();return!((t=Ci(t)!=wi?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Ut||!ne||9<ne)})()||yi()?t=w(t.w,t):(Ya||(Ya=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[rs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ra(t,null,e,void 0)}(za(Et(os,{onload:rs})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=w(t.s,t)),t(e,n,i,o,r,a)}qa.prototype.S=function(){return this.b},qa.prototype.w=function(t,e,n,i,o,r){if(yi()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new va(this.f);if(r){a.g=Math.max(0,r);var s=setTimeout((function(){a.dispatchEvent("timeout")}),r)}xn(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ha(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(a,"ready",(function(){s&&clearTimeout(s),Ge(this)})),wn(a,"timeout",(function(){s&&clearTimeout(s),Ge(this),e&&e(null)})),xa(a,t,n,i,o)};var os=new _t(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),rs="__fcb"+Math.floor(1e6*Math.random()).toString();function as(t,e,n,i,o,r,a){var s=Ln(e+n);Nn(s,"key",t.c),a&&Nn(s,"cb",S().toString());var l="GET"==i;if(l)for(var u in o)o.hasOwnProperty(u)&&Nn(s,u,o[u]);return new be((function(e,n){is(t,s.toString(),(function(t){t?t.error?n(el(t,r||{})):e(t):n(new E("network-request-failed"))}),i,l?void 0:ni(Ri(o)),t.a,t.i.get())}))}function ss(t){if("string"!==typeof(t=t.email)||!pi.test(t))throw new E("invalid-email")}function ls(t){"email"in t&&ss(t)}function us(t){if(!t[Xa]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,gt(t));throw new E("internal-error")}}function hs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}qa.prototype.s=function(t,e,n,i,o){var r=this;Ya.then((function(){window.gapi.client.setApiKey(r.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},qa.prototype.vb=function(){return Qs(this,zs,{})},qa.prototype.xb=function(t,e){return Qs(this,Vs,{idToken:t,email:e})},qa.prototype.yb=function(t,e){return Qs(this,js,{idToken:t,password:e})};var cs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ds(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function fs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ps(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Jn(t=new qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function gs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Kr(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Kr(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Kr(t)):t.errorMessage&&(e=tl(t.errorMessage)),e)throw e;us(t)}function ms(t,e){return e.returnIdpCredential=!0,Qs(t,Gs,e)}function vs(t,e){return e.returnIdpCredential=!0,Qs(t,$s,e)}function ys(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qs(t,Ks,e)}function _s(t){if(!t.oobCode)throw new E("invalid-action-code")}(e=qa.prototype).zb=function(t,e){var n={idToken:t},i=[];return ft(cs,(function(t,o){var r=e[o];null===r?i.push(t):o in e&&(n[o]=r)})),i.length&&(n.deleteAttribute=i),Qs(this,Vs,n)},e.rb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),Qs(this,Rs,t)},e.sb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),Qs(this,Os,t)},e.qb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qs(this,Ps,t)},e.Ab=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qs(this,As,t)},e.cb=function(t){return Qs(this,Ys,t)},e.jb=function(t,e){return Qs(this,Fs,{oobCode:t,newPassword:e})},e.Pa=function(t){return Qs(this,xs,{oobCode:t})},e.fb=function(t){return Qs(this,bs,{oobCode:t})};var bs={endpoint:"setAccountInfo",A:_s,Y:"email",C:!0},xs={endpoint:"resetPassword",A:_s,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},ws={endpoint:"signupNewUser",A:function(t){if(ss(t),!t.password)throw new E("weak-password")},G:us,U:!0,C:!0},Cs={endpoint:"createAuthUri",C:!0},Ss={endpoint:"deleteAccount",M:["idToken"]},ks={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=f(t.deleteProvider))throw new E("internal-error")}},Es={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ss,G:us,U:!0,C:!0},Is={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ss,G:us,U:!0},Ts={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ds,G:us,C:!0,La:!0},Ds={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ds,G:us,C:!0,La:!0},Ms={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ss(t)},Y:"email",C:!0},Ps={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},As={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Rs={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ss(t)},Y:"email",C:!0},Bs={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ns={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Fs={endpoint:"resetPassword",A:_s,Y:"email",C:!0},Ls={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Vs={endpoint:"setAccountInfo",M:["idToken"],A:ls,U:!0},js={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ls(t),!t.password)throw new E("weak-password")},G:us,U:!0},zs={endpoint:"signupNewUser",G:us,U:!0,C:!0},Hs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Ws={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Gs={endpoint:"verifyAssertion",A:fs,Wa:ps,G:gs,U:!0,C:!0},Ks={endpoint:"verifyAssertion",A:fs,Wa:ps,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw tl(t.errorMessage);us(t)},U:!0,C:!0},$s={endpoint:"verifyAssertion",A:function(t){if(fs(t),!t.idToken)throw new E("internal-error")},Wa:ps,G:gs,U:!0},Us={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:us,U:!0,C:!0},qs={endpoint:"verifyPassword",A:function(t){if(ss(t),!t.password)throw new E("wrong-password")},G:us,U:!0,C:!0},Ys={endpoint:"verifyPhoneNumber",A:hs,G:us,C:!0},Xs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");hs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Kr(t);us(t)}},Zs={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:hs,G:us,C:!0},Js={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Xa]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Qs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0}(n,e.M))return Te(new E("internal-error"));var i,o=!!e.La,r=e.Rb||"POST";return Ie(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),as(t,o?t.l:t.h,e.endpoint,r,n,e.Eb,e.hb||!1)})).then((function(t){return i=t,e.Wa?e.Wa(n,i):i})).then(e.G).then((function(){if(!e.Y)return i;if(!(e.Y in i))throw new E("internal-error");return i[e.Y]}))}function tl(t){return el({error:{errors:[{message:t}],code:400,message:t}})}function el(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new E(i[n]):null)return n;for(var o in n=t.error&&t.error.message||"",vt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(o))return new E(i[o],e);return!e&&t&&(e=Ai(t)),new E("internal-error",e)}function nl(t){this.b=t,this.a=null,this.nb=function(t){return(al||(al=new be((function(t,e){function n(){Li(),Ii("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Li(),e(Error("Network Error"))},timeout:ol.get()})}if(Ii("gapi.iframes.Iframe"))t();else if(Ii("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[i]=function(){Ii("gapi.load")?n():e(Error("Network Error"))},Ie(za(i=Et(il,{onload:i}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw al=null,t})))).then((function(){return new be((function(e,n){Ii("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function o(){clearTimeout(r),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var r=setTimeout((function(){n(Error("Network Error"))}),rl.get());i.ping(o).then(o,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var il=new _t(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),ol=new Vi(3e4,6e4),rl=new Vi(5e3,15e3),al=null;function sl(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Vn(this.i,"/__/auth/iframe"),Nn(this.a,"apiKey",this.g),Nn(this.a,"appName",this.h),this.b=null,this.c=[]}function ll(t,e,n,i,o){this.s=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=o,this.h=this.f=null}function ul(t){try{return i.app(t).auth().Ea()}catch(e){return[]}}function hl(t,e,n,i,o){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=o||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function cl(t){var e=li();return function(t){return Qs(t,Bs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),i=n.f;n=n.b;for(var o=0;o<t.length;o++){var r=t[o],a=n,s=i;if(0==r.indexOf("chrome-extension://")?a=Ln(r).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:fi.test(r)?a=a==r:(r=r.split(".").join("\\."),a=new RegExp("^(.+\\."+r+"|"+r+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Wr(li())}))}function dl(t){return t.l||(t.l=gi().then((function(){if(!t.s){var e=t.c,n=t.h,i=ul(t.b),o=new sl(t.u,t.f,t.b);o.f=e,o.b=n,o.c=J(i||[]),t.s=o.toString()}t.i=new nl(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Vr(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.l}function fl(t){return t.m||(t.w=t.c?ki(t.c,ul(t.b)):null,t.m=new qa(t.f,P(t.h),t.w)),t.m}function pl(t,e,n,i,o,r,a,s,l,u,h){return(t=new ll(t,e,n,i,o)).l=r,t.g=a,t.i=s,t.b=gt(l||null),t.f=u,t.ub(h).toString()}function gl(t){if(this.a=t||i.INTERNAL.reactNative&&i.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ml(t){this.b=t,this.a={},this.f=w(this.c,this)}sl.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):Zn(this.a.a,"v"),this.b?Nn(this.a,"eid",this.b):Zn(this.a.a,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):Zn(this.a.a,"fw"),this.a.toString()},ll.prototype.ub=function(t){return this.h=t,this},ll.prototype.toString=function(){var t=Vn(this.s,"/__/auth/handler");if(Nn(t,"apiKey",this.m),Nn(t,"appName",this.c),Nn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=i.app(this.c).auth().ja()}catch(l){n=null}for(var o in e.kb=n,Nn(t,"providerId",this.a.providerId),n=Ri((e=this.a).Fb))n[o]=n[o].toString();o=e.Oc,n=gt(n);for(var r=0;r<o.length;r++){var a=o[r];a in n&&delete n[a]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),pt(n)||Nn(t,"customParameters",Ai(n))}if("function"===typeof this.a.Nb&&((e=this.a.Nb()).length&&Nn(t,"scopes",e.join(","))),this.l?Nn(t,"redirectUrl",this.l):Zn(t.a,"redirectUrl"),this.g?Nn(t,"eventId",this.g):Zn(t.a,"eventId"),this.i?Nn(t,"v",this.i):Zn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Nn(t,s,this.b[s]);return this.h?Nn(t,"tid",this.h):Zn(t.a,"tid"),this.f?Nn(t,"eid",this.f):Zn(t.a,"eid"),(s=ul(this.c)).length&&Nn(t,"fw",s.join(",")),t.toString()},(e=hl.prototype).Lb=function(t,e,n){var i=new E("popup-closed-by-user"),o=new E("web-storage-unsupported"),r=this,a=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return dl(t).then((function(){return function(t,e){return t.nb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(r).then((function(n){n||(t&&ci(t),e(o),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new be((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return kn(n).then((function(){e(i)}))}))},e.Ub=function(){var t=Ei();return!Pi(t)&&!Fi(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,i,o,r,a,s){if(!t)return Te(new E("popup-blocked"));if(a&&!Pi())return this.ka().o((function(e){ci(t),o(e)})),i(),Ie();this.a||(this.a=cl(fl(this)));var l=this;return this.a.then((function(){var e=l.ka().o((function(e){throw ci(t),o(e),e}));return i(),e})).then((function(){(Fr(n),a)||ui(pl(l.u,l.f,l.b,e,n,null,r,l.c,void 0,l.h,s),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},e.Kb=function(t,e,n,i){this.a||(this.a=cl(fl(this)));var o=this;return this.a.then((function(){Fr(e),ui(pl(o.u,o.f,o.b,t,e,li(),n,o.c,void 0,o.h,i))})).o((function(t){throw"auth/network-request-failed"==t.code&&(o.a=null),t}))},e.ka=function(){var t=this;return dl(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){X(this.g,(function(e){return e==t}))},(e=gl.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Bi(t)}))},e.set=function(t,e){return Ie(this.a.setItem(t,Ai(e)))},e.T=function(t){return Ie(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var vl,yl=[];function _l(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bl(t){this.a=t}function xl(t){this.c=t,this.b=!1,this.a=[]}function wl(t,e,n,i){var o,r,a,s,l=n||{},u=null;if(t.b)return Te(Error("connection_unavailable"));var h=i?800:50,c="undefined"!==typeof MessageChannel?new MessageChannel:null;return new be((function(n,i){c?(o=Math.floor(Math.random()*Math.pow(10,20)).toString(),c.port1.start(),a=setTimeout((function(){i(Error("unsupported_event"))}),h),u={messageChannel:c,onMessage:r=function(t){t.data.eventId===o&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}},t.a.push(u),c.port1.addEventListener("message",r),t.c.postMessage({eventType:e,eventId:o,data:l},[c.port2])):i(Error("connection_unavailable"))})).then((function(e){return Cl(t,u),e})).o((function(e){throw Cl(t,u),e}))}function Cl(t,e){if(e){var n=e.messageChannel,i=e.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),X(t.a,(function(t){return t==e}))}}function Sl(){if(!Il())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;yi()&&self?(this.l=function(){var t=yi()?self:null;if(G(yl,(function(n){n.b==t&&(e=n)})),!e){var e=new ml(t);yl.push(e)}return e}(),_l(this.l,"keyChanged",(function(e,n){return Pl(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:q(e,n.key)}}))})),_l(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new xl(new bl(e)),wl(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function kl(t){return new be((function(e,n){var i=t.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new be((function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return kl(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function El(t){return t.m||(t.m=kl(t)),t.m}function Il(){try{return!!u.indexedDB}catch(aa){return!1}}function Tl(t){return t.objectStore("firebaseLocalStorage")}function Dl(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ml(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ol(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?wl(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ie()}function Pl(t){return El(t).then((function(t){var e=Tl(Dl(t,!1));return e.getAll?Ml(e.getAll()):new be((function(t,n){var i=[],o=e.openCursor();o.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},o.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,o=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?o.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&o.push(i):e[i]!==n[i]&&o.push(i):o.push(i);for(i in n)i in e||o.push(i);return o}(t.c,n),t.c=n}return i}))}function Al(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Rl(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(Il()){var t=Ni(),i="__sak"+t;return vl||(vl=new Sl),(n=vl).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(i)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){G(e.a,(function(e){e(t)}))})),t}))}function Bl(){this.a={},this.type="inMemory"}function Nl(){if(!function(){var t="Node"==_i();if(!(t=Fl()||t&&i.INTERNAL.node&&i.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_i())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Fl()||i.INTERNAL.node.localStorage,this.type="localStorage"}function Fl(){try{var t=u.localStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ll(){this.type="nullStorage"}function Vl(){if(!function(){var t="Node"==_i();if(!(t=jl()||t&&i.INTERNAL.node&&i.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_i())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=jl()||i.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function jl(){try{var t=u.sessionStorage,e=Ni();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function zl(){var t={};t.Browser=Gl,t.Node=Kl,t.ReactNative=$l,t.Worker=Ul,this.a=t[_i()]}ml.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var o=[];G(i,(function(e){o.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),Me(o).then((function(i){var o=[];G(i,(function(t){o.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(o,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:o})}))}},bl.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},xl.prototype.close=function(){for(;0<this.a.length;)Cl(this,this.a[0]);this.b=!0},(e=Sl.prototype).set=function(t,e){var n,i=!1,o=this;return El(this).then((function(e){return Ml((e=Tl(Dl(n=e,!0))).get(t))})).then((function(r){var a=Tl(Dl(n,!0));return r?(r.value=e,Ml(a.put(r))):(o.b++,i=!0,(r={}).fbase_key=t,r.value=e,Ml(a.add(r)))})).then((function(){return o.c[t]=e,Ol(o,t)})).ma((function(){i&&o.b--}))},e.get=function(t){return El(this).then((function(e){return Ml(Tl(Dl(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return El(this).then((function(i){return e=!0,n.b++,Ml(Tl(Dl(i,!0)).delete(t))})).then((function(){return delete n.c[t],Ol(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&function(t){Al(t),function e(){t.f=setTimeout((function(){t.i=Pl(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},e.ha=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Al(this)},(e=Rl.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){X(this.a,(function(e){return e==t}))},(e=Bl.prototype).get=function(t){return Ie(this.a[t])},e.set=function(t,e){return this.a[t]=e,Ie()},e.T=function(t){return delete this.a[t],Ie()},e.ba=function(){},e.ha=function(){},(e=Nl.prototype).get=function(t){var e=this;return Ie().then((function(){return Bi(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Ie().then((function(){var i=Ai(e);null===i?n.T(t):n.a.setItem(t,i)}))},e.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},e.ba=function(t){u.window&&ln(u.window,"storage",t)},e.ha=function(t){u.window&&cn(u.window,"storage",t)},(e=Ll.prototype).get=function(){return Ie(null)},e.set=function(){return Ie()},e.T=function(){return Ie()},e.ba=function(){},e.ha=function(){},(e=Vl.prototype).get=function(t){var e=this;return Ie().then((function(){return Bi(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Ie().then((function(){var i=Ai(e);null===i?n.T(t):n.a.setItem(t,i)}))},e.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var Hl,Wl,Gl={F:Nl,$a:Vl},Kl={F:Nl,$a:Vl},$l={F:gl,$a:Ll},Ul={F:Nl,$a:Ll},ql={od:"local",NONE:"none",qd:"session"};function Yl(){var t=!(Fi(Ei())||!vi()),e=Pi(),n=Ti();this.m=t,this.h=e,this.l=n,this.a={},Hl||(Hl=new zl),t=Hl;try{this.g=!si()&&Hi()||!u.indexedDB?new t.a.F:new Rl(yi()?new Bl:new t.a.F)}catch(i){this.g=new Bl,this.h=!0}try{this.i=new t.a.$a}catch(i){this.i=new Bl}this.u=new Bl,this.f=w(this.Vb,this),this.b={}}function Xl(){return Wl||(Wl=new Yl),Wl}function Zl(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Jl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ql(t,e,n){return n=Jl(e,n),"local"==e.F&&(t.b[n]=null),Zl(t,e.F).T(n)}function tu(t){t.c&&(clearInterval(t.c),t.c=null)}function eu(t){this.a=t,this.b=Xl()}(e=Yl.prototype).get=function(t,e){return Zl(this,t.F).get(Jl(t,e))},e.set=function(t,e,n){var i=Jl(t,n),o=this,r=Zl(this,t.F);return r.set(i,e).then((function(){return r.get(i)})).then((function(e){"local"==t.F&&(o.b[i]=e)}))},e.addListener=function(t,e,n){t=Jl(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),pt(this.a)&&(Zl(this,"local").ba(this.f),this.h||(si()||!Hi())&&u.indexedDB||!this.l||function(t){tu(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Jl(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zl(this,"local").ha(this.f),tu(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];"undefined"===typeof i&&(i=null);var o=u.localStorage.getItem(n);o!==i&&(this.b[n]=o,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?Zl(this,"local").ha(this.f):tu(this),this.m)if(n=u.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?u.localStorage.setItem(e,i):u.localStorage.removeItem(e);else if(this.b[e]===i&&"undefined"===typeof t.a.a)return;var r=this;n=function(){"undefined"===typeof t.a.a&&r.b[e]===u.localStorage.getItem(e)||(r.b[e]=u.localStorage.getItem(e),r.ib(e))},Ut&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,w(this.ib,this))},e.ib=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var nu,iu={name:"authEvent",F:"local"};function ou(){this.a=Xl()}function ru(t,e){this.b=au,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===nu&&(nu=u.Int32Array?new Int32Array(fu):fu),this.reset()}k(ru,(function(){this.b=-1}));for(var au=64,su=au-1,lu=[],uu=0;uu<su;uu++)lu[uu]=0;var hu=Z(128,lu);function cu(t){for(var e=t.f,n=t.l,i=0,o=0;o<e.length;)n[i++]=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3],o=4*i;for(e=16;64>e;e++){o=0|n[e-15],i=0|n[e-2];var r=(0|n[e-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=r+a|0}i=0|t.a[0],o=0|t.a[1];var s=0|t.a[2],l=0|t.a[3],u=0|t.a[4],h=0|t.a[5],c=0|t.a[6];for(r=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;a=(r=r+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&h^~u&c)+(0|nu[e])|0)+(0|n[e])|0)|0,r=c,c=h,h=u,u=l+a|0,l=s,s=o,o=i,i=a+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+o|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+c|0,t.a[7]=t.a[7]+r|0}function du(t,e,n){void 0===n&&(n=e.length);var i=0,o=t.c;if("string"===typeof e)for(;i<n;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(cu(t),o=0);else{if(!p(e))throw Error("message must be string or array");for(;i<n;){var r=e[i++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");t.f[o++]=r,o==t.b&&(cu(t),o=0)}}t.c=o,t.g+=n}ru.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):J(this.h)};var fu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pu(){ru.call(this,8,gu)}k(pu,ru);var gu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function mu(t,e,n,i,o){this.u=t,this.i=e,this.l=n,this.m=i||null,this.s=o||null,this.h=e+":"+n,this.w=new ou,this.g=new eu(this.h),this.f=null,this.b=[],this.a=this.c=null}function vu(t){return new E("invalid-cordova-configuration",t)}function yu(t){var e=new pu;du(e,t),t=[];var n=8*e.g;56>e.c?du(e,hu,56-e.c):du(e,hu,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(cu(e),i=n=0;i<e.i;i++)for(var o=24;0<=o;o-=8)t[n++]=e.a[i]>>o&255;return function(t){return $(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function _u(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function bu(t){return t.f||(t.f=t.ka().then((function(){return new be((function(e){t.Ca((function n(i){return e(i),t.Qa(n),!1})),function(t){function e(e){i=!0,o&&o.cancel(),xu(t).then((function(i){var o=n;if(i&&e&&e.url){var r=null;-1!=(o=ir(e.url)).indexOf("/__/auth/callback")&&(r=(r="object"===typeof(r=Bi(Fn(r=Ln(o),"firebaseError")||null))?I(r):null)?new Lr(i.c,i.b,null,null,r,null,i.S()):new Lr(i.c,i.b,o,i.f,null,null,i.S())),o=r||n}_u(t,o)}))}var n=new Lr("unknown",null,null,null,new E("no-auth-event")),i=!1,o=kn(500).then((function(){return xu(t).then((function(){i||_u(t,n)}))})),r=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ii("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof r)try{r(t)}catch(n){console.error(n)}},Hr||(Hr=new jr),function(t){var e=Hr;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Ii("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function xu(t){var e=null;return function(t){return t.b.get(iu,t.a).then((function(t){return Vr(t)}))}(t.g).then((function(n){return e=n,Ql((n=t.g).b,iu,n.a)})).then((function(){return e}))}function wu(t){this.a=t,this.b=Xl()}(e=mu.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(mi(void 0)?gi().then((function(){return new be((function(t,e){var n=u.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Ii("universalLinks.subscribe",u))throw vu("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ii("BuildInfo.packageName",u))throw vu("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ii("cordova.plugins.browsertab.openUrl",u))throw vu("cordova-plugin-browsertab is not installed");if("function"!==typeof Ii("cordova.InAppBrowser.open",u))throw vu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},e.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Ie()},e.Jb=function(){return Te(new E("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,i){if(this.c)return Te(new E("redirect-operation-pending"));var o=this,r=u.document,a=null,s=null,l=null,h=null;return this.c=Ie().then((function(){return Fr(e),bu(o)})).then((function(){return function(t,e,n,i,o){var r=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Lr(e,i,null,r,new E("no-auth-event"),null,o),s=Ii("BuildInfo.packageName",u);if("string"!==typeof s)throw new E("invalid-cordova-configuration");var l=Ii("BuildInfo.displayName",u),h={};if(Ei().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=s;else{if(!Ei().toLowerCase().match(/android/))return Te(new E("operation-not-supported-in-this-environment"));h.apn=s}l&&(h.appDisplayName=l),r=yu(r),h.sessionId=r;var c=pl(t.u,t.i,t.l,e,n,null,i,t.m,h,t.s,o);return t.ka().then((function(){var e=t.h;return t.w.a.set(iu,a.v(),e)})).then((function(){var e=Ii("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Ii("cordova.plugins.browsertab.openUrl",u)))throw new E("invalid-cordova-configuration");n(c)}else{if("function"!==typeof(n=Ii("cordova.InAppBrowser.open",u)))throw new E("invalid-cordova-configuration");e=Ei(),t.a=n(c,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(o,t,e,n,i)})).then((function(){return new be((function(t,e){s=function(){var e=Ii("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),o.a&&"function"===typeof o.a.close&&(o.a.close(),o.a=null),!1},o.Ca(s),l=function(){a||(a=kn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},h=function(){ji()&&l()},r.addEventListener("resume",l,!1),Ei().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",h,!1)})).o((function(t){return xu(o).then((function(){throw t}))}))})).ma((function(){l&&r.removeEventListener("resume",l,!1),h&&r.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),s&&o.Qa(s),o.c=null}))},e.Ca=function(t){this.b.push(t),bu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Lr("unknown",null,null,null,new E("no-auth-event")),t(e))}))},e.Qa=function(t){X(this.b,(function(e){return e==t}))};var Cu={name:"pendingRedirect",F:"session"};function Su(t){return Ql(t.b,Cu,t.a)}function ku(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Vu,this.B=new Gu,this.g=new wu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Eu(this.D,this.u,this.m,T)}function Eu(t,e,n,o){var r=i.SDK_VERSION||null;return mi()?new mu(t,e,n,r,o):new hl(t,e,n,r,o)}function Iu(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Tu(t){t.a.Ub()&&Iu(t).o((function(e){var n=new Lr("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Ru(e)&&t.s(n)})),t.a.Qb()||ju(t.b)}function Du(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cu,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Su(t.g).then((function(){Iu(t).o((function(e){var n=new Lr("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Ru(e)&&t.s(n)}))})):Tu(t)})).o((function(){Tu(t)}))}function Mu(t,e){X(t.h,(function(t){return t==e}))}ku.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Eu(this.D,this.u,this.m),this.i={}},ku.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=S()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=S())),e=!0;break}}return ju(this.b),e};var Ou=new Vi(2e3,1e4),Pu=new Vi(3e4,6e4);function Au(t,e,n,i,o,r,a){return t.a.Jb(e,n,i,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),o,r,a)}function Ru(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Bu(t,e,n,i,o){var r;return function(t){return t.b.set(Cu,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,i,o).o((function(e){if(Ru(e))throw new E("operation-not-supported-in-this-environment");return r=e,Su(t.g).then((function(){throw r}))})).then((function(){return t.a.Xb()?new be((function(){})):Su(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Nu(t,e,n,i,o){return t.a.Lb(i,(function(t){e.la(n,null,t,o)}),Ou.get())}ku.prototype.pa=function(){return this.b.pa()};var Fu={};function Lu(t,e,n){var i=e+":"+n;return Fu[i]||(Fu[i]=new ku(t,e,n)),Fu[i]}function Vu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ju(t){t.g||(t.g=!0,Wu(t,!1,null,null))}function zu(t){t.g&&!t.i&&Wu(t,!1,null,null)}function Hu(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wu(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Hu(t,n):Hu(t,{user:null}),t.f=[],t.c=[]}function Gu(){}function Ku(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function $u(t,e){this.a=e,Ui(this,"verificationId",t)}function Uu(t,e,n,i){return new Rr(t).cb(e,n).then((function(t){return new $u(t,i)}))}function qu(t){var e=Wo(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qi(this,{token:t,expirationTime:zi(1e3*e.exp),authTime:zi(1e3*e.auth_time),issuedAtTime:zi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yu(t,e,n){var i=e&&e[Zu];if(!i)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new or(null,i),this.b=[];var o=this;G(e[Xu]||[],(function(t){(t=Ji(t))&&o.b.push(t)})),Ui(this,"auth",this.a),Ui(this,"session",this.c),Ui(this,"hints",this.b)}Vu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,o=t.a&&"auth/web-storage-unsupported"==t.a.code,r=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!o&&!r),"unknown"!=n||o||r?t.a?(Wu(this,!0,null,t.a),Ie()):e.Da(n,i)?function(t,e,n){n=n.Da(e.c,e.b);var i=e.g,o=e.f,r=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(i,o,a,r).then((function(e){Wu(t,s,e,null)})).o((function(e){Wu(t,s,null,e)}))}(this,t,e):Te(new E("invalid-auth-event")):(Wu(this,!1,null,null),Ie())}else Te(new E("invalid-auth-event"))},Vu.prototype.pa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=kn(Pu.get()).then((function(){t.b||(t.g=!0,Wu(t,!0,null,e))}))}(t))}))},Gu.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ie()):e.Da(n,i)?function(t,e){var n=t.b,i=t.c;e.Da(i,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(i,t,null,n)})).o((function(t){e.la(i,null,t,n)}))}(t,e):Te(new E("invalid-auth-event"))}else Te(new E("invalid-auth-event"))},$u.prototype.confirm=function(t){return t=Br(this.verificationId,t),this.a(t)};var Xu="mfaInfo",Zu="mfaPendingCredential";function Ju(t,e,n,i){E.call(this,"multi-factor-auth-required",i,e),this.b=new Yu(t,e,n),Ui(this,"resolver",this.b)}function Qu(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Ju(e,t.serverResponse,n,t.message)}catch(i){}return null}function th(){}function eh(t){Ui(this,"factorId",t.ea),this.a=t}function nh(t){if(eh.call(this,t),this.a.ea!=Rr.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ih(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function oh(t,e){this.a=t,this.b=[],this.c=w(this.wc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,i={};if(t){t.uid&&(i[eo]=t.uid),t.displayName&&(i[Qi]=t.displayName),t.enrollmentTime&&(i[to]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[no]=t.phoneNumber);try{e=new io(i)}catch(o){}t=e}else t=null;t&&n.push(t)})),rh(this,n)}function rh(t,e){t.b=e,Ui(t,"enrolledFactors",e)}function ah(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function sh(t){this.c=t,this.b=this.a=null}function lh(t){return t.b&&1e3*t.b.c||0}function uh(t,e){var n=e.refreshToken;t.b=Ho(e[Xa]||""),t.a=n}function hh(t,e){return function(t,e){return new be((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?is(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(el(t)):t.access_token&&t.refresh_token?n(t):i(new E("internal-error")):i(new E("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.m.get()):i(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=Ho(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function ch(t,e){this.a=t||null,this.b=e||null,qi(this,{lastSignInTime:zi(e||null),creationTime:zi(t||null)})}function dh(t,e,n,i,o,r){qi(this,{uid:t,displayName:i||null,photoURL:o||null,email:n||null,phoneNumber:r||null,providerId:e})}function fh(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=i.SDK_VERSION?ki(i.SDK_VERSION):null,this.a=new qa(this.l,P(T),t),this.b=new sh(this.a),bh(this,e[Xa]),uh(this.b,e),Ui(this,"refreshToken",this.b.a),Ch(this,n||{}),bn.call(this),this.P=!1,this.s&&Di()&&(this.i=Lu(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new ah((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=lh(t.b)-S()-3e5;return 0<e?e:0}))}(this),this.Z=w(this.Ma,this);var o=this;this.oa=null,this.za=function(t){o.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){gh(o,t.c)},this.$=null,this.O=new oh(this,n),Ui(this,"multiFactor",this.O)}function ph(t,e){t.aa&&cn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&ln(e,"languageCodeChanged",t.za)}function gh(t,e){t.W=e,ns(t.a,i.SDK_VERSION?ki(i.SDK_VERSION,t.W):null)}function mh(t,e){t.$&&cn(t.$,"frameworkChanged",t.ya),(t.$=e)&&ln(e,"frameworkChanged",t.ya)}function vh(t){try{return i.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function yh(t){t.D||t.B.b||(t.B.start(),cn(t,"tokenChanged",t.Z),ln(t,"tokenChanged",t.Z))}function _h(t){cn(t,"tokenChanged",t.Z),t.B.stop()}function bh(t,e){t.xa=e,Ui(t,"_lat",e)}function xh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Me(e).then((function(){return t}))}function wh(t){t.i&&!t.P&&(t.P=!0,Du(t.i,t))}function Ch(t,e){qi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ch(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Sh(){}function kh(t){return Ie().then((function(){if(t.D)throw new E("app-deleted")}))}function Eh(t){return $(t.providerData,(function(t){return t.providerId}))}function Ih(t,e){e&&(Th(t,e.providerId),t.providerData.push(e))}function Th(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function Dh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ui(t,e,n)}function Mh(t,e){t!=e&&(qi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Ui(t,"metadata",function(t){return new ch(t.a,t.b)}(e.metadata)):Ui(t,"metadata",new ch),G(e.providerData,(function(e){Ih(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Ui(t,"refreshToken",t.b.a),rh(t.O,e.O.b))}function Oh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Qs(t.a,Ms,{idToken:e}).then(w(t.Ic,t))}(t,e).then((function(){return n||Dh(t,"isAnonymous",!1),e}))}))}function Ph(t,e){e[Xa]&&t.xa!=e[Xa]&&(uh(t.b,e),t.dispatchEvent(new ih("tokenChanged")),bh(t,e[Xa]),Dh(t,"refreshToken",t.b.a))}function Ah(t,e){return Oh(t).then((function(){if(q(Eh(t),e))return xh(t).then((function(){throw new E("provider-already-linked")}))}))}function Rh(t,e,n){return Yi({user:t,credential:Nr(e),additionalUserInfo:e=qo(e),operationType:n})}function Bh(t,e){return Ph(t,e),t.reload().then((function(){return t}))}function Nh(t,e,n,o,r){if(!Di())return Te(new E("operation-not-supported-in-this-environment"));if(t.h&&!r)return Te(t.h);var a=Uo(n.providerId),s=Ni(t.uid+":::"),l=null;(!Pi()||vi())&&t.s&&n.isOAuthProvider&&(l=pl(t.s,t.l,t.m,e,n,null,s,i.SDK_VERSION||null,null,null,t.tenantId));var u=di(l,a&&a.ta,a&&a.sa);return o=o().then((function(){if(Lh(t),!r)return t.I().then((function(){}))})).then((function(){return Au(t.i,u,e,n,s,!!l,t.tenantId)})).then((function(){return new be((function(n,i){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=i,t.g=s,t.c=Nu(t.i,t,e,u,s)}))})).then((function(t){return u&&ci(u),t?Yi(t):null})).o((function(t){throw u&&ci(u),t})),Vh(t,o,r)}function Fh(t,e,n,i,o){if(!Di())return Te(new E("operation-not-supported-in-this-environment"));if(t.h&&!o)return Te(t.h);var r=null,a=Ni(t.uid+":::");return i=i().then((function(){if(Lh(t),!o)return t.I().then((function(){}))})).then((function(){return t.fa=a,xh(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Hh,t.v(),e.a)),e})).then((function(){return Bu(t.i,e,n,a,t.tenantId)})).o((function(e){if(r=e,t.ga)return Wh(t.ga);throw r})).then((function(){if(r)throw r})),Vh(t,i,o)}function Lh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Vh(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),Te(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ih("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(i),i.ma((function(){Y(t.N,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qu(e.v(),vh(t),w(t.hc,t))),n||e}))}function jh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Xa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=new fh(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&Ih(i,Yi(t))})),t.redirectEventId&&(i.fa=t.redirectEventId),i}function zh(t){this.a=t,this.b=Xl()}Yu.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=gt(e.f);return delete n[Xu],delete n[Zu],vt(n,t),e.g(n)}))},k(Ju,E),th.prototype.ob=function(t,e,n){return e.type==rr?function(t,e,n,i){return n.Fa().then((function(n){return n={idToken:n},"undefined"!==typeof i&&(n.displayName=i),vt(n,{phoneVerificationInfo:Ar(t.a)}),Qs(e,Ts,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ar(t.a)}),Qs(e,Ds,n)}))}(this,t,e)},k(eh,th),k(nh,eh),k(ih,Ye),(e=oh.prototype).wc=function(t){rh(this,function(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=Ji(t))&&e.push(t)})),e}(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new or(t,null)}))},e.dc=function(t,e){var n=this,i=this.a.a;return this.Ob().then((function(n){return t.ob(i,n,e)})).then((function(t){return Ph(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n="string"===typeof t?t:t.uid,i=this.a.a;return this.a.I().then((function(t){return Qs(i,Js,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var i=K(e.b,(function(t){return t.uid!=n}));return rh(e,i),Ph(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:$(this.b,(function(t){return t.v()}))}}},ah.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return ji()||!t?Ie():new be((function(n){e=function(){ji()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},ah.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sh.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:lh(this)}},sh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new E("user-token-expired")):t||!this.b||S()>lh(this)-3e4?this.a?hh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},ch.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(fh,bn),fh.prototype.va=function(t){this.oa=t,es(this.a,t)},fh.prototype.ja=function(){return this.oa},fh.prototype.Ea=function(){return J(this.W)},fh.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Ui(fh.prototype,"providerId","firebase"),(e=fh.prototype).reload=function(){var t=this;return Vh(this,kh(this).then((function(){return Oh(t).then((function(){return xh(t)})).then(Sh)})))},e.mc=function(t){return this.I(t).then((function(t){return new qu(t)}))},e.I=function(t){var e=this;return Vh(this,kh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(bh(e,t.accessToken),e.dispatchEvent(new ih("tokenChanged"))),Dh(e,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");Ch(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?$(t,(function(t){return new dh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ih(this,e[n]);Dh(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ih("userReloaded",{ed:t}))},e.Jc=function(t){return Ki("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return Vh(this,t.c(this.a,this.uid).then((function(t){return Ph(e,t),n=Rh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return Ki("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return Vh(this,Ah(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Rh(e,t,"link"),Bh(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return Vh(this,Ah(this,"phone").then((function(){return Uu(vh(n),t,e,w(n.mb,n))})))},e.Kc=function(t,e){var n=this;return Vh(this,Ie().then((function(){return Uu(vh(n),t,e,w(n.pb,n))})),!0)},e.xb=function(t){var e=this;return Vh(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Ph(e,t),e.reload()})))},e.cd=function(t){var e=this;return Vh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Ph(e,t),e.reload()})))},e.yb=function(t){var e=this;return Vh(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Ph(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return kh(this);var e=this;return Vh(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Ph(e,t),Dh(e,"displayName",t.displayName||null),Dh(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Ui(t,"displayName",e.displayName),Ui(t,"photoURL",e.photoURL))})),xh(e)})).then(Sh))},e.ad=function(t){var e=this;return Vh(this,Oh(this).then((function(n){return q(Eh(e),t)?function(t,e,n){return Qs(t,ks,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(Eh(e),(function(t){n[t]||Th(e,t)})),n[Rr.PROVIDER_ID]||Ui(e,"phoneNumber",null),xh(e)})):xh(e).then((function(){throw new E("no-such-provider")}))})))},e.delete=function(){var t=this;return Vh(this,this.I().then((function(e){return Qs(t.a,Ss,{idToken:e})})).then((function(){t.dispatchEvent(new ih("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ph(t,null),mh(t,null),t.N=[],t.D=!0,_h(t),Ui(t,"refreshToken",null),t.i&&Mu(t.i,t)}))},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?w(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?w(this.Ib,this):null},e.Cc=function(t){var e=this;return Nh(this,"linkViaPopup",t,(function(){return Ah(e,t.providerId).then((function(){return xh(e)}))}),!1)},e.Lc=function(t){return Nh(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},e.Dc=function(t){var e=this;return Fh(this,"linkViaRedirect",t,(function(){return Ah(e,t.providerId)}),!1)},e.Mc=function(t){return Fh(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},e.Hb=function(t,e,n,i){var o=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Vh(this,this.I().then((function(n){return vs(o.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return r=Rh(o,t,"link"),Bh(o,t)})).then((function(){return r})))},e.Ib=function(t,e,n,i){var o=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return Vh(this,Ie().then((function(){return lr(ys(o.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),o.uid)})).then((function(t){return r=Rh(o,t,"reauthenticate"),Ph(o,t),o.h=null,o.reload()})).then((function(){return r})),!0)},e.qb=function(t){var e=this,n=null;return Vh(this,this.I().then((function(e){return n=e,"undefined"===typeof t||pt(t)?{}:Lo(new To(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,i=null;return Vh(this,this.I().then((function(t){return i=t,"undefined"===typeof e||pt(e)?{}:Lo(new To(e))})).then((function(e){return n.a.Ab(i,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return Vh(this,t=lr(Ie(t),n.uid).then((function(t){return e=Rh(n,t,"reauthenticate"),Ph(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&vt(t,this.metadata.v()),G(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.O.v()),t};var Hh={name:"redirectUser",F:"session"};function Wh(t){return Ql(t.b,Hh,t.a)}function Gh(t){this.a=t,this.b=Xl(),this.c=null,this.f=function(t){var e=Uh("local"),n=Uh("session"),i=Uh("none");return function(t,e,n){var i=Jl(e,n),o=Zl(t,e.F);return t.get(e,n).then((function(r){var a=null;try{a=Bi(u.localStorage.getItem(i))}catch(s){}if(a&&!r)return u.localStorage.removeItem(i),t.set(e,a,n);a&&r&&"localStorage"!=o.type&&u.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(o){return o?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get($h,t.a).then((function(t){return t?Uh(t):e}))}))}))})).then((function(e){return t.c=e,Kh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Uh("local"),this.a,w(this.g,this))}function Kh(t,e){var n,i=[];for(n in ql)ql[n]!==e&&i.push(Ql(t.b,Uh(ql[n]),t.a));return i.push(Ql(t.b,$h,t.a)),function(t){return new be((function(e,n){var i=t.length,o=[];if(i)for(var r=function(t,n){i--,o[t]=n,0==i&&e(o)},a=function(t){n(t)},s=0;s<t.length;s++)De(t[s],C(r,s),a);else e(o)}))}(i)}Gh.prototype.g=function(){var t=this,e=Uh("local");Zh(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Kh(t,"local").then((function(){t.c=e}))}))}))};var $h={name:"persistence",F:"session"};function Uh(t){return{name:"authUser",F:t}}function qh(t,e){return Zh(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Yh(t){return Zh(t,(function(){return Ql(t.b,t.c,t.a)}))}function Xh(t,e){return Zh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),jh(t||{})}))}))}function Zh(t,e){return t.f=t.f.then(e,e),t.f}function Jh(t){if(this.l=!1,Ui(this,"settings",new Ku),Ui(this,"app",t),!ac(this).options||!ac(this).options.apiKey)throw new E("invalid-api-key");t=i.SDK_VERSION?ki(i.SDK_VERSION):null,this.b=new qa(ac(this).options&&ac(this).options.apiKey,P(T),t),this.P=[],this.m=[],this.O=[],this.$b=i.INTERNAL.createSubscribe(w(this.xc,this)),this.W=void 0,this.ac=i.INTERNAL.createSubscribe(w(this.yc,this)),oc(this,null),this.i=new Gh(ac(this).options.apiKey+":"+ac(this).name),this.B=new zh(ac(this).options.apiKey+":"+ac(this).name),this.Z=hc(this,function(t){var e=ac(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hh,t.a).then((function(t){return t&&e&&(t.authDomain=e),jh(t||{})}))}(t.B,ac(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Wh(t.B)}));return hc(t,e)}(t).then((function(){return Xh(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return qh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Yh(t.i)}))):null})).then((function(e){oc(t,e||null)}));return hc(t,n)}(this)),this.h=hc(this,function(t){return t.Z.then((function(){return nc(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Uh("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=w(this.Xc,this),this.Ma=w(this.ca,this),this.xa=w(this.jc,this),this.ya=w(this.uc,this),this.za=w(this.vc,this),this.a=null,function(t){var e=ac(t).options.authDomain,n=ac(t).options.apiKey;e&&Di()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Lu(e,n,ac(t).name),Du(t.a,t),sc(t)&&wh(sc(t)),t.D){wh(t.D);var i=t.D;i.va(t.ja()),ph(i,t),gh(i=t.D,t.N),mh(i,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Ec,this),this.s=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Qh(t){Ye.call(this,"languageCodeChanged"),this.g=t}function tc(t){Ye.call(this,"frameworkChanged"),this.c=t}function ec(t){return t.Zb||Te(new E("auth-domain-config-required"))}function nc(t){if(!Di())return Te(new E("operation-not-supported-in-this-environment"));var e=ec(t).then((function(){return t.a.pa()})).then((function(t){return t?Yi(t):null}));return hc(t,e)}function ic(t,e){var n={};return n.apiKey=ac(t).options.apiKey,n.authDomain=ac(t).options.authDomain,n.appName=ac(t).name,t.Z.then((function(){return function(t,e,n,i){var o=new fh(t,e);return n&&(o.ga=n),i&&gh(o,i),o.reload().then((function(){return o}))}(n,e,t.B,t.Ea())})).then((function(e){return sc(t)&&e.uid==sc(t).uid?(Mh(sc(t),e),t.ca(e)):(oc(t,e),wh(e),t.ca(e))})).then((function(){uc(t)}))}function oc(t,e){sc(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(sc(t),t.Ma),cn(sc(t),"tokenChanged",t.xa),cn(sc(t),"userDeleted",t.ya),cn(sc(t),"userInvalidated",t.za),_h(sc(t))),e&&(e.R.push(t.Ma),ln(e,"tokenChanged",t.xa),ln(e,"userDeleted",t.ya),ln(e,"userInvalidated",t.za),0<t.s&&yh(e)),Ui(t,"currentUser",e),e&&(e.va(t.ja()),ph(e,t),gh(e,t.N),mh(e,t))}function rc(t,e){var n=null,i=null;return hc(t,e.then((function(e){return n=Nr(e),i=qo(e),ic(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qu(e.v(),t,w(t.ic,t))),n||e})).then((function(){return Yi({user:sc(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function ac(t){return t.app}function sc(t){return t.currentUser}function lc(t){return sc(t)&&sc(t)._lat||null}function uc(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](lc(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](lc(t))}}function hc(t,e){return t.P.push(e),e.ma((function(){Y(t.P,e)})),e}function cc(){}function dc(){this.a={},this.b=1e12}Gh.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(i in ql)if(ql[i]==t){var i=!0;break t}i=!1}if(!i||"string"!==typeof t)throw e;switch(_i()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Il()&&"none"!==t)throw n;break;default:if(!Ti()&&"none"!==t)throw n}}(t),Zh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(i){return e=i,Kh(n,t)})).then((function(){if(n.c=Uh(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},k(Jh,bn),k(Qh,Ye),k(tc,Ye),(e=Jh.prototype).tb=function(t){return hc(this,t=this.i.tb(t))},e.va=function(t){this.$===t||this.l||(this.$=t,es(this.b,this.$),this.dispatchEvent(new Qh(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=u.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),ns(this.b,i.SDK_VERSION?ki(i.SDK_VERSION,this.N):null),this.dispatchEvent(new tc(this.N))},e.Ea=function(){return J(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:ac(this).options.apiKey,authDomain:ac(this).options.authDomain,appName:ac(this).name,currentUser:sc(this)&&sc(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.gc,this):null},e.gc=function(t,e,n,i){var o=this,r={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),o.Z.then((function(){return rc(o,ms(o.b,r))}))},e.Vc=function(t){if(!Di())return Te(new E("operation-not-supported-in-this-environment"));var e=this,n=Uo(t.providerId),o=Ni(),r=null;(!Pi()||vi())&&ac(this).options.authDomain&&t.isOAuthProvider&&(r=pl(ac(this).options.authDomain,ac(this).options.apiKey,ac(this).name,"signInViaPopup",t,null,o,i.SDK_VERSION||null,null,null,this.S()));var a=di(r,n&&n.ta,n&&n.sa);return hc(this,n=ec(this).then((function(n){return Au(n,a,"signInViaPopup",t,o,!!r,e.S())})).then((function(){return new be((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=o,e.c=Nu(e.a,e,"signInViaPopup",a,o)}))})).then((function(t){return a&&ci(a),t?Yi(t):null})).o((function(t){throw a&&ci(a),t})))},e.Wc=function(t){if(!Di())return Te(new E("operation-not-supported-in-this-environment"));var e=this;return hc(this,ec(this).then((function(){return function(t){return Zh(t,(function(){return t.b.set($h,t.c.F,t.a)}))}(e.i)})).then((function(){return Bu(e.a,"signInViaRedirect",t,void 0,e.S())})))},e.pa=function(){var t=this;return nc(this).then((function(e){return t.a&&zu(t.a.b),e})).o((function(e){throw t.a&&zu(t.a.b),e}))},e.bd=function(t){if(!t)return Te(new E("null-user"));if(this.R!=t.tenantId)return Te(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=ac(this).options.apiKey,n.authDomain=ac(this).options.authDomain,n.appName=ac(this).name;var i=function(t,e,n,i){var o=t.b,r={};return r[Xa]=o.b&&o.b.toString(),r.refreshToken=o.a,e=new fh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},r),n&&(e.ga=n),i&&gh(e,i),Mh(e,t),e}(t,n,e.B,e.Ea());return hc(this,this.h.then((function(){if(ac(e).options.apiKey!=t.l)return i.reload()})).then((function(){return sc(e)&&t.uid==sc(e).uid?(Mh(sc(e),t),e.ca(t)):(oc(e,i),wh(i),e.ca(i))})).then((function(){uc(e)})))},e.wb=function(){var t=this;return hc(this,this.h.then((function(){return t.a&&zu(t.a.b),sc(t)?(oc(t,null),Yh(t.i).then((function(){uc(t)}))):Ie()})))},e.Xc=function(){var t=this;return Xh(this.i,ac(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=sc(t)&&e){n=sc(t).uid;var i=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return Mh(sc(t),e),sc(t).I();(sc(t)||e)&&(oc(t,e),e&&(wh(e),e.ga=t.B),t.a&&Du(t.a,t),uc(t))}}))},e.ca=function(t){return qh(this.i,t)},e.jc=function(){uc(this),this.ca(sc(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return rc(e,Ie(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(sc(e))}))},e.yc=function(t){var e=this;!function(t,e){t.O.push(e),hc(t,t.h.then((function(){!t.l&&q(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(lc(t)))})))}(this,(function(){t.next(sc(e))}))},e.Gc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){"function"===typeof t?t(sc(i)):"function"===typeof t.next&&t.next(sc(i))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){i.W=i.getUid(),"function"===typeof t?t(sc(i)):"function"===typeof t.next&&t.next(sc(i))})),this.ac(t,e,n)},e.kc=function(t){var e=this;return hc(this,this.h.then((function(){return sc(e)?sc(e).I(t).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(t){var e=this;return this.h.then((function(){return rc(e,Qs(e.b,Us,{token:t}))})).then((function(t){var n=t.user;return Dh(n,"isAnonymous",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return rc(n,Qs(n.b,qs,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return rc(n,Qs(n.b,ws,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return rc(e,t.ia(e.b))}))},e.Qc=function(t){return Ki("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=sc(t);if(e&&e.isAnonymous){var n=Yi({providerId:null,isNewUser:!1});return Yi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return rc(t,t.b.vb()).then((function(e){var n=e.user;return Dh(n,"isAnonymous",!0),t.ca(n),e}))}))},e.getUid=function(){return sc(this)&&sc(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&sc(this)&&yh(sc(this))},e.Nc=function(t){var e=this;G(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&sc(this)&&_h(sc(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),hc(this,this.h.then((function(){e.l||q(e.m,t)&&t(lc(e))})))},e.removeAuthTokenListener=function(t){X(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Uh("local"),t.a,this.oa),this.a&&(Mu(this.a,this),zu(this.a.b)),Promise.resolve()},e.fc=function(t){return hc(this,function(t,e){return Qs(t,Cs,{identifier:e,continueUri:Mi()?li():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},e.zc=function(t){return!!Mr(t)},e.sb=function(t,e){var n=this;return hc(this,Ie().then((function(){var t=new To(e);if(!t.c)throw new E("argument-error",Oo+" must be true when sending sign in link to email");return Lo(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return hc(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return hc(this,this.b.Pa(t).then((function(t){return new oo(t)})))},e.fb=function(t){return hc(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return hc(this,Ie().then((function(){return"undefined"===typeof e||pt(e)?{}:Lo(new To(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return hc(this,Uu(this,t,e,w(this.Ya,this)))},e.Tc=function(t,e){var n=this;return hc(this,Ie().then((function(){var i=e||li(),o=Dr(t,i);if(!(i=Mr(i)))throw new E("argument-error","Invalid email link!");if(i.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(o)})))},cc.prototype.render=function(){},cc.prototype.reset=function(){},cc.prototype.getResponse=function(){},cc.prototype.execute=function(){};var fc=null;function pc(t,e){return(e=gc(e))&&t.a[e]||null}function gc(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function mc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function vc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function yc(){}function _c(){}dc.prototype.render=function(t,e){return this.a[this.b.toString()]=new mc(t,e),this.b++},dc.prototype.reset=function(t){var e=pc(this,t);t=gc(t),e&&t&&(e.delete(),delete this.a[t])},dc.prototype.getResponse=function(t){return(t=pc(this,t))?t.getResponse():null},dc.prototype.execute=function(t){(t=pc(this,t))&&t.execute()},mc.prototype.getResponse=function(){return vc(this),this.b},mc.prototype.execute=function(){vc(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()}),6e4)}),500))},mc.prototype.delete=function(){vc(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Ui(yc,"FACTOR_ID","phone"),_c.prototype.g=function(){return fc||(fc=new dc),Ie(fc)},_c.prototype.c=function(){};var bc=null;function xc(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wc=new _t(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Cc=new Vi(3e4,6e4);xc.prototype.g=function(t){var e=this;return new be((function(n,i){var o=setTimeout((function(){i(new E("network-request-failed"))}),Cc.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var r=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=r(t,n),e.b++,t},clearTimeout(o),n(u.grecaptcha)}else clearTimeout(o),i(new E("internal-error"));delete u[e.a]},Ie(za(Et(wc,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(o),i(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(o),n(u.grecaptcha))}))},xc.prototype.c=function(){this.b--};var Sc=null;function kc(t,e,n,i,o,r,a){if(Ui(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(bc||(bc=new _c),a=bc):(Sc||(Sc=new xc),a=Sc),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Tc])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dc],!u.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qa(t,r||null,o||null),this.w=i||function(){return null};var s=this;this.l=[];var l=this.a[Ec];this.a[Ec]=function(t){if(Mc(s,t),"function"===typeof l)l(t);else if("string"===typeof l){var e=Ii(l,u);"function"===typeof e&&e(t)}};var h=this.a[Ic];this.a[Ic]=function(){if(Mc(s,null),"function"===typeof h)h();else if("string"===typeof h){var t=Ii(h,u);"function"===typeof t&&t()}}}var Ec="callback",Ic="expired-callback",Tc="sitekey",Dc="size";function Mc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function Oc(t,e){return t.h.push(e),e.ma((function(){Y(t.h,e)})),e}function Pc(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ac(t,e,n){var o=!1;try{this.b=n||i.app()}catch(s){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var r=this,a=null;try{a=this.b.auth().Ea()}catch(s){}try{o=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=i.SDK_VERSION?ki(i.SDK_VERSION,a):null,kc.call(this,n,t,e,(function(){try{var t=r.b.auth().ja()}catch(e){t=null}return t}),a,P(T),o)}function Rc(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var o=0,r=!1,a=0;a<e.length;a++)if(e[a].optional)r=!0;else{if(r)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(r=e.length,n.length<o||r<n.length)i="Expected "+(o==r?1==o?"1 argument":o+" arguments":o+"-"+r+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(r=e[o].optional&&void 0===n[o],!e[o].K(n[o])&&!r){if(e=e[o],0>o||o>=Bc.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Bc[o],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}i=null}}if(i)throw new E("argument-error",t+" failed: "+i)}(e=kc.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Oc(this,Ie().then((function(){if(Mi()&&!yi())return gi();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Qs(t.s,Ns,{})})).then((function(e){t.a[Tc]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){Pc(this);var t=this;return Oc(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=ae(e);e=function(t,e,n){var i=arguments,o=document,r=String(i[0]),a=i[1];if(!re&&a&&(a.name||a.type)){if(r=["<",r],a.name&&r.push(' name="',Wt(a.name),'"'),a.type){r.push(' type="',Wt(a.type),'"');var s={};vt(s,a),delete s.type,a=s}r.push(">"),r=r.join("")}return r=de(o,r),a&&("string"===typeof a?r.className=a:Array.isArray(a)?r.className=a.join(" "):se(r,a)),2<i.length&&ce(o,r,i),r}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Pc(this);var t=this;return Oc(this,this.render().then((function(e){return new be((function(n){var i=t.g.getResponse(e);if(i)n(i);else{t.l.push((function e(i){i&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,e),n(i))})),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Pc(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Pc(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},k(Ac,kc);var Bc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nc(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function Fc(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function Lc(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:m}}function Vc(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function jc(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function zc(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Hc(t,e){return m(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Fa}function Wc(t){return m(t)&&"string"===typeof t.uid}function Gc(t,e,n,i){return{name:n||"",J:t.J+" or "+e.J,optional:!!i,K:function(n){return t.K(n)||e.K(n)}}}function Kc(t,e){for(var n in e){var i=e[n].name;t[i]=qc(i,t[n],e[n].j)}}function $c(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:C((function(t){return this[t]}),n),set:C((function(t,e,n,i){Rc(t,[n],[i],!0),this[e]=i}),i,n,e[n].gb),enumerable:!0})}}function Uc(t,e,n,i){t[e]=qc(e,n,i)}function qc(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Rc(r,n,t),e.apply(this,t)}if(!n)return e;var o,r=function(t){return(t=t.split("."))[t.length-1]}(t);for(o in e)i[o]=e[o];for(o in e.prototype)i.prototype[o]=e.prototype[o];return i}Kc(Jh.prototype,{fb:{name:"applyActionCode",j:[Nc("code")]},Pa:{name:"checkActionCode",j:[Nc("code")]},jb:{name:"confirmPasswordReset",j:[Nc("code"),Nc("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Nc("email"),Nc("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Nc("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Nc("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Gc(Lc(),Vc(),"nextOrObserver"),Vc("opt_error",!0),Vc("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Gc(Lc(),Vc(),"nextOrObserver"),Vc("opt_error",!0),Vc("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Nc("email"),Gc(Lc("opt_actionCodeSettings",!0),jc(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Nc("email"),Lc("actionCodeSettings")]},tb:{name:"setPersistence",j:[Nc("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[zc()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[zc()]},Rc:{name:"signInWithCustomToken",j:[Nc("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Nc("email"),Nc("password")]},Tc:{name:"signInWithEmailLink",j:[Nc("email"),Nc("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Nc("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Gc({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof fh)}},jc(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nc(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Nc("code")]}}),$c(Jh.prototype,{lc:{name:"languageCode",gb:Gc(Nc(),jc(),"languageCode")},ti:{name:"tenantId",gb:Gc(Nc(),jc(),"tenantId")}}),Jh.Persistence=ql,Jh.Persistence.LOCAL="local",Jh.Persistence.SESSION="session",Jh.Persistence.NONE="none",Kc(fh.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Fc("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fc("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[zc()]},mb:{name:"linkWithCredential",j:[zc()]},Bc:{name:"linkWithPhoneNumber",j:[Nc("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zc()]},pb:{name:"reauthenticateWithCredential",j:[zc()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Nc("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Gc(Lc("opt_actionCodeSettings",!0),jc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nc(null,!0)]},ad:{name:"unlink",j:[Nc("provider")]},xb:{name:"updateEmail",j:[Nc("email")]},yb:{name:"updatePassword",j:[Nc("password")]},cd:{name:"updatePhoneNumber",j:[zc("phone")]},zb:{name:"updateProfile",j:[Lc("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Nc("email"),Gc(Lc("opt_actionCodeSettings",!0),jc(null,!0),"opt_actionCodeSettings",!0)]}}),Kc(dc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kc(cc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kc(be.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),$c(Ku.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Fc("appVerificationDisabledForTesting")}}),Kc($u.prototype,{confirm:{name:"confirm",j:[Nc("verificationCode")]}}),Uc(sr,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[pr,Ir,Pr,cr],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Gc(Nc(),Lc(),"json")]),Uc(Tr,"credential",(function(t,e){return new Er(t,e)}),[Nc("email"),Nc("password")]),Kc(Er.prototype,{v:{name:"toJSON",j:[Nc(null,!0)]}}),Kc(yr.prototype,{Aa:{name:"addScope",j:[Nc("scope")]},Ia:{name:"setCustomParameters",j:[Lc("customOAuthParameters")]}}),Uc(yr,"credential",_r,[Gc(Nc(),Lc(),"token")]),Uc(Tr,"credentialWithLink",Dr,[Nc("email"),Nc("emailLink")]),Kc(br.prototype,{Aa:{name:"addScope",j:[Nc("scope")]},Ia:{name:"setCustomParameters",j:[Lc("customOAuthParameters")]}}),Uc(br,"credential",xr,[Gc(Nc(),Lc(),"token")]),Kc(wr.prototype,{Aa:{name:"addScope",j:[Nc("scope")]},Ia:{name:"setCustomParameters",j:[Lc("customOAuthParameters")]}}),Uc(wr,"credential",Cr,[Gc(Nc(),Gc(Lc(),jc()),"idToken"),Gc(Nc(),jc(),"accessToken",!0)]),Kc(Sr.prototype,{Ia:{name:"setCustomParameters",j:[Lc("customOAuthParameters")]}}),Uc(Sr,"credential",kr,[Gc(Nc(),Lc(),"token"),Nc("secret",!0)]),Kc(vr.prototype,{Aa:{name:"addScope",j:[Nc("scope")]},credential:{name:"credential",j:[Gc(Nc(),Gc(Lc(),jc()),"optionsOrIdToken"),Gc(Nc(),jc(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Lc("customOAuthParameters")]}}),Kc(dr.prototype,{v:{name:"toJSON",j:[Nc(null,!0)]}}),Kc(ur.prototype,{v:{name:"toJSON",j:[Nc(null,!0)]}}),Uc(Rr,"credential",Br,[Nc("verificationId"),Nc("verificationCode")]),Kc(Rr.prototype,{cb:{name:"verifyPhoneNumber",j:[Gc(Nc(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Hc(t.session,rr)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Hc(t.session,ar)&&Wc(t.multiFactorHint):t.session&&t.multiFactorUid?Hc(t.session,ar)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),Kc(Or.prototype,{v:{name:"toJSON",j:[Nc(null,!0)]}}),Kc(E.prototype,{toJSON:{name:"toJSON",j:[Nc(null,!0)]}}),Kc(Gr.prototype,{toJSON:{name:"toJSON",j:[Nc(null,!0)]}}),Kc(Wr.prototype,{toJSON:{name:"toJSON",j:[Nc(null,!0)]}}),Kc(Ju.prototype,{toJSON:{name:"toJSON",j:[Nc(null,!0)]}}),Kc(Yu.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Kc(oh.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Nc("displayName",!0)]},$c:{name:"unenroll",j:[Gc({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Wc},Nc(),"multiFactorInfoIdentifier")]}}),Kc(Ac.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Uc(_o,"parseLink",Io,[Nc("link")]),Uc(yc,"assertion",(function(t){return new nh(t)}),[zc("phone")]),function(){if("undefined"===typeof i||!i.INTERNAL||!i.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ao,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ro,VERIFY_AND_CHANGE_EMAIL:so,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jh,AuthCredential:sr,Error:E};Uc(t,"EmailAuthProvider",Tr,[]),Uc(t,"FacebookAuthProvider",yr,[]),Uc(t,"GithubAuthProvider",br,[]),Uc(t,"GoogleAuthProvider",wr,[]),Uc(t,"TwitterAuthProvider",Sr,[]),Uc(t,"OAuthProvider",vr,[Nc("providerId")]),Uc(t,"SAMLAuthProvider",mr,[Nc("providerId")]),Uc(t,"PhoneAuthProvider",Rr,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Jh)}}]),Uc(t,"RecaptchaVerifier",Ac,[Gc(Nc(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Lc("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof i.app.App)}}]),Uc(t,"ActionCodeURL",_o,[]),Uc(t,"PhoneMultiFactorGenerator",yc,[]),i.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),i.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.kc,t),addAuthTokenListener:w(t.bc,t),removeAuthTokenListener:w(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.registerVersion("@firebase/auth","0.14.9"),i.INTERNAL.extendNamespace({User:fh})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(53))},function(t,e,n){"use strict";var i=n(295);function o(){}function r(){}r.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,r,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,_=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,x=i?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case c:case d:case a:case l:case s:case p:return t;default:switch(t=t&&t.$$typeof){case h:case f:case v:case m:case u:return t;default:return e}}case r:return e}}}function C(t){return w(t)===d}e.AsyncMode=c,e.ConcurrentMode=d,e.ContextConsumer=h,e.ContextProvider=u,e.Element=o,e.ForwardRef=f,e.Fragment=a,e.Lazy=v,e.Memo=m,e.Portal=r,e.Profiler=l,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return C(t)||w(t)===c},e.isConcurrentMode=C,e.isContextConsumer=function(t){return w(t)===h},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return w(t)===f},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===v},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===r},e.isProfiler=function(t){return w(t)===l},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===d||t===l||t===s||t===p||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===m||t.$$typeof===u||t.$$typeof===h||t.$$typeof===f||t.$$typeof===_||t.$$typeof===b||t.$$typeof===x||t.$$typeof===y)},e.typeOf=w},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=u(t),a=i[0],s=i[1],l=new r(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),h=0,c=s>0?a-4:a;for(n=0;n<c;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],l[h++]=e>>16&255,l[h++]=e>>8&255,l[h++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,l[h++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,l[h++]=e>>8&255,l[h++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,r=[],a=0,s=n-o;a<s;a+=16383)r.push(h(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return r.join("")};for(var i=[],o=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],o[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var o,r,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(r=o)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,u=l>>1,h=-7,c=n?o-1:0,d=n?-1:1,f=t[e+c];for(c+=d,r=f&(1<<-h)-1,f>>=-h,h+=s;h>0;r=256*r+t[e+c],c+=d,h-=8);for(a=r&(1<<-h)-1,r>>=-h,h+=i;h>0;a=256*a+t[e+c],c+=d,h-=8);if(0===r)r=1-u;else{if(r===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),r-=u}return(f?-1:1)*a*Math.pow(2,r-i)},e.write=function(t,e,n,i,o,r){var a,s,l,u=8*r-o-1,h=(1<<u)-1,c=h>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:r-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=h?(s=0,a=h):a+c>=1?(s=(e*l-1)*Math.pow(2,o),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,o),a=0));o>=8;t[n+f]=255&s,f+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+f]=255&a,f+=p,a/=256,u-=8);t[n+f-p]|=128*g}},,function(t,e,n){"use strict";var i=n(160).Buffer,o=n(302);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,o,r=i.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=r,o=s,e.copy(n,o),s+=a.data.length,a=a.next;return r},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},,function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o=1,r={},a=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){h(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&h(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){h(t.data)},i=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;i=function(e){var n=s.createElement("script");n.onreadystatechange=function(){h(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():i=function(t){setTimeout(h,0,t)},l.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return r[o]=a,i(o),o++},l.clearImmediate=u}function u(t){delete r[t]}function h(t){if(a)setTimeout(h,0,t);else{var e=r[t];if(e){a=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{u(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(53),n(102))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(_){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(53))},function(t,e,n){var i=n(130),o=i.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=i:(r(i,e),e.Buffer=a),a.prototype=Object.create(o.prototype),r(o,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var i=o(t);return void 0!==e?"string"===typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=r;var i=n(205),o=Object.create(n(113));function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}o.inherits=n(101),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(161)},function(t,e,n){t.exports=n(85)},function(t,e,n){t.exports=n(159).Transform},function(t,e,n){t.exports=n(159).PassThrough},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var i=n(313),o=n(314);function r(t,e,n){if("function"===typeof e&&(n=e,e={}),!n)return new Promise((function(n,o){i.stat(a(t,e),(function(t,e){if(t)return"ENOENT"===t.code?n(!1):o(t);n(e.isFile())}))}));i.stat(a(t,e),(function(t,e){if(t)return"ENOENT"===t.code?n(null,!1):n(t);n(null,e.isFile())}))}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.root;return n?o.join(n,t):t}r.sync=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t||"";try{return i.statSync(a(n,e)).isFile()}catch(o){if("ENOENT"!=o.code)throw o;return!1}},t.exports=r},function(t,e){},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var o=t[i];"."===o?t.splice(i,1):".."===o?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",o=!1,r=arguments.length-1;r>=-1&&!o;r--){var a=r>=0?arguments[r]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return(o?"/":"")+(e=n(i(e.split("/"),(function(t){return!!t})),!o).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),a="/"===o(t,-1);return(t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"))||r||(t="."),t&&a&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=i(t.split("/")),r=i(n.split("/")),a=Math.min(o.length,r.length),s=a,l=0;l<a;l++)if(o[l]!==r[l]){s=l;break}var u=[];for(l=s;l<o.length;l++)u.push("..");return(u=u.concat(r.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,o=!0,r=t.length-1;r>=1;--r)if(47===(e=t.charCodeAt(r))){if(!o){i=r;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=function(t){"string"!==typeof t&&(t+="");var e,n=0,i=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){n=e+1;break}}else-1===i&&(o=!1,i=e+1);return-1===i?"":t.slice(n,i)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,i=-1,o=!0,r=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===i&&(o=!1,i=a+1),46===s?-1===e?e=a:1!==r&&(r=1):-1!==e&&(r=-1);else if(!o){n=a+1;break}}return-1===e||-1===i||0===r||1===r&&e===i-1&&e===n+1?"":t.slice(e,i)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(102))},function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,r=Object.create(o.prototype),a=new w(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return S()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var h=l(t,e,n);if("normal"===h.type){if(i=n.done?"completed":"suspendedYield",h.arg===u)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(i="completed",n.method="throw",n.arg=h.arg)}}}(t,n,a),r}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}t.wrap=s;var u={};function h(){}function c(){}function d(){}var f={};f[o]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(C([])));g&&g!==e&&n.call(g,o)&&(f=g);var m=d.prototype=h.prototype=Object.create(f);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var i;this._invoke=function(o,r){function a(){return new e((function(i,a){!function i(o,r,a,s){var u=l(t[o],t,r);if("throw"!==u.type){var h=u.arg,c=h.value;return c&&"object"===typeof c&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(c).then((function(t){h.value=t,a(h)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}(o,r,i,a)}))}return i=i?i.then(a,a):a()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=l(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,u;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return c.prototype=m.constructor=d,d.constructor=c,d[a]=c.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===c||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[r]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new y(s(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),m[a]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=C,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=i}catch(o){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(317))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(318))&&i.__esModule?i:{default:i};n(420),n(423),n(425),n(429),n(432),n(434),n(478),n(482),n(485),n(490),n(493),n(498),n(502),n(504),n(506),n(509),n(511),n(513),n(515),n(517),n(519),n(522),n(536),n(538);var r=o.default;e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=p(n(19)),r=n(6),a=n(2),s=n(5),l=n(3),u=n(131),h=p(n(24)),c=p(n(47)),d=p(n(22)),f=n(48);function p(t){return t&&t.__esModule?t:{default:t}}n(347),n(350),n(358),n(361),n(364),n(367),n(391),n(393),n(395);d.default.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var g=c.default.inherit({_activeStateUnit:".dx-row",_getDefaultOptions:function(){var t=this.callBase();return(0,s.each)(d.default.modules,(function(){(0,a.isFunction)(this.defaultOptions)&&(0,l.extend)(!0,t,this.defaultOptions())})),t},_setDeprecatedOptions:function(){this.callBase(),(0,l.extend)(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:function(){return(0,f.isMaterial)()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}},{device:function(){return h.default.webkit},options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:function(t){return"desktop"!==t.deviceType},options:{grouping:{expandMode:"rowClick"}}}])},_init:function(){this.callBase(),d.default.processModules(this,d.default),d.default.callModuleItemsMethod(this,"init")},_clean:r.noop,_optionChanged:function(t){d.default.callModuleItemsMethod(this,"optionChanged",[t]),t.handled||this.callBase(t)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(t){t&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var t=this;(0,r.deferRender)((function(){t._renderContentImpl()}))},_getTemplate:function(t){var e=t;return(0,a.isString)(e)&&"#"===e[0]&&(e=(0,i.default)(t),u.logger.warn("Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.")),this.callBase(e)},_dispose:function(){this.callBase(),d.default.callModuleItemsMethod(this,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){this.callBase(),d.default.callModuleItemsMethod(this,"beginUpdate")},endUpdate:function(){d.default.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController:function(t){return this._controllers[t]},getView:function(t){return this._views[t]},focus:function(t){this.getController("keyboardNavigation").focus(t)}});g.registerModule=d.default.registerModule.bind(d.default),(0,o.default)("dxDataGrid",g);var m=g;e.default=m,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(54),r=(i=n(16))&&i.__esModule?i:{default:i},a=n(14),s=n(2),l=n(88),u=n(208),h=n(209);var c,d=(0,a.getWindow)(),f=function(t,e){return t?"string"===typeof t?"body"===t?(this[0]=e?e.body:r.default.getBody(),this.length=1,this):(e=e||r.default.getDocument(),"<"===t[0]?(this[0]=r.default.createElement(t.slice(1,-1),e),this.length=1,this):([].push.apply(this,r.default.querySelectorAll(e,t)),this)):r.default.isNode(t)||(0,s.isWindow)(t)?(this[0]=t,this.length=1,this):Array.isArray(t)?([].push.apply(this,t),this):c(t.toArray?t.toArray():[t]):(this.length=0,this)};(c=function(t,e){return new f(t,e)}).fn={dxRenderer:!0},f.prototype=c.fn;var p=function(t,e){for(var n=0;n<this.length;n++){var i=c(this[n]);i[t].apply(i,e)}return this},g=function(t,e,n){void 0!==n&&null!==n?r.default.setAttribute(t,e,n):r.default.removeAttribute(t,e)};f.prototype.show=function(){return this.toggle(!0)},f.prototype.hide=function(){return this.toggle(!1)},f.prototype.toggle=function(t){return this[0]&&this.toggleClass("dx-state-invisible",!t),this},f.prototype.attr=function(t,e){if(this.length>1&&arguments.length>1)return p.call(this,"attr",arguments);if(!this[0])return(0,s.isObject)(t)||void 0!==e?this:void 0;if(!this[0].getAttribute)return this.prop(t,e);if("string"===typeof t&&1===arguments.length){var n=this[0].getAttribute(t);return null==n?void 0:n}if((0,s.isPlainObject)(t))for(var i in t)this.attr(i,t[i]);else g(this[0],t,e);return this},f.prototype.removeAttr=function(t){return this[0]&&r.default.removeAttribute(this[0],t),this},f.prototype.prop=function(t,e){if(!this[0])return this;if("string"===typeof t&&1===arguments.length)return this[0][t];if((0,s.isPlainObject)(t))for(var n in t)this.prop(n,t[n]);else r.default.setProperty(this[0],t,e);return this},f.prototype.addClass=function(t){return this.toggleClass(t,!0)},f.prototype.removeClass=function(t){return this.toggleClass(t,!1)},f.prototype.hasClass=function(t){if(!this[0]||void 0===this[0].className)return!1;for(var e=t.split(" "),n=0;n<e.length;n++){if(this[0].classList){if(this[0].classList.contains(e[n]))return!0}else if((((0,s.isString)(this[0].className)?this[0].className:r.default.getAttribute(this[0],"class"))||"").split(" ").indexOf(e[n])>=0)return!0}return!1},f.prototype.toggleClass=function(t,e){if(this.length>1)return p.call(this,"toggleClass",arguments);if(!this[0]||!t)return this;e=void 0===e?!this.hasClass(t):e;for(var n=t.split(" "),i=0;i<n.length;i++)r.default.setClass(this[0],n[i],e);return this},["width","height","outerWidth","outerHeight","innerWidth","innerHeight"].forEach((function(t){var e=t.toLowerCase().indexOf("width")>=0?"Width":"Height",n=e.toLowerCase(),i=0===t.indexOf("outer"),o=0===t.indexOf("inner");f.prototype[t]=function(a){if(this.length>1&&arguments.length>0)return p.call(this,t,arguments);var l=this[0];if(l){if((0,s.isWindow)(l))return i?l["inner"+e]:r.default.getDocumentElement()["client"+e];if(r.default.isDocument(l)){var h=r.default.getDocumentElement(),c=r.default.getBody();return Math.max(c["scroll"+e],c["offset"+e],h["scroll"+e],h["offset"+e],h["client"+e])}if(0===arguments.length||"boolean"===typeof a){var f={paddings:o||i,borders:i,margins:a};return(0,u.getSize)(l,n,f)}if(void 0===a||null===a)return this;if((0,s.isNumeric)(a)){var g=d.getComputedStyle(l),m=(0,u.getElementBoxParams)(n,g),v="border-box"===g.boxSizing;a=Number(a),i?a-=v?0:m.border+m.padding:o?a+=v?m.border:-m.padding:v&&(a+=m.border+m.padding)}return a+=(0,s.isNumeric)(a)?"px":"",r.default.setStyle(l,n,a),this}}})),f.prototype.html=function(t){return arguments.length?(this.empty(),"string"===typeof t&&!(0,h.isTablePart)(t)||"number"===typeof t?(this[0].innerHTML=t,this):this.append((0,h.parseHTML)(t))):this[0].innerHTML};var m=function(t,e){if(this[0]&&t){"string"===typeof t?t=(0,h.parseHTML)(t):t.nodeType?t=[t]:(0,s.isNumeric)(t)&&(t=[r.default.createTextNode(t)]);for(var n=0;n<t.length;n++){var i=t[n],o=this[0];"TABLE"===o.tagName&&"TR"===i.tagName&&o.tBodies&&o.tBodies.length&&(o=o.tBodies[0]),r.default.insertElement(o,i.nodeType?i:i[0],e)}}},v=function(t,e){if(this[0]&&this[0].style&&!(null===e||"number"===typeof e&&isNaN(e))){t=(0,l.styleProp)(t);for(var n=0;n<this.length;n++)this[n].style[t]=(0,l.normalizeStyleProp)(t,e)}};f.prototype.css=function(t,e){if((0,s.isString)(t)){if(2!==arguments.length){if(!this[0])return;t=(0,l.styleProp)(t);var n=d.getComputedStyle(this[0])[t]||this[0].style[t];return(0,s.isNumeric)(n)?n.toString():n}v.call(this,t,e)}else if((0,s.isPlainObject)(t))for(var i in t)v.call(this,i,t[i]);return this},f.prototype.prepend=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return m.apply(this,[t,this[0].firstChild]),this},f.prototype.append=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return m.apply(this,[t]),this},f.prototype.prependTo=function(t){if(this.length>1){for(var e=this.length-1;e>=0;e--)c(this[e]).prependTo(t);return this}return(t=c(t))[0]&&r.default.insertElement(t[0],this[0],t[0].firstChild),this},f.prototype.appendTo=function(t){return this.length>1?p.call(this,"appendTo",arguments):(r.default.insertElement(c(t)[0],this[0]),this)},f.prototype.insertBefore=function(t){return t&&t[0]&&r.default.insertElement(t[0].parentNode,this[0],t[0]),this},f.prototype.insertAfter=function(t){return t&&t[0]&&r.default.insertElement(t[0].parentNode,this[0],t[0].nextSibling),this},f.prototype.before=function(t){return this[0]&&r.default.insertElement(this[0].parentNode,t[0],this[0]),this},f.prototype.after=function(t){return this[0]&&r.default.insertElement(this[0].parentNode,t[0],this[0].nextSibling),this},f.prototype.wrap=function(t){if(this[0]){var e=c(t);e.insertBefore(this),e.append(this)}return this},f.prototype.wrapInner=function(t){var e=this.contents();return e.length?e.wrap(t):this.append(t),this},f.prototype.replaceWith=function(t){if(t&&t[0])return t.is(this)?this:(t.insertBefore(this),this.remove(),t)},f.prototype.remove=function(){return this.length>1?p.call(this,"remove",arguments):((0,o.cleanDataRecursive)(this[0],!0),r.default.removeElement(this[0]),this)},f.prototype.detach=function(){return this.length>1?p.call(this,"detach",arguments):(r.default.removeElement(this[0]),this)},f.prototype.empty=function(){return this.length>1?p.call(this,"empty",arguments):((0,o.cleanDataRecursive)(this[0]),r.default.setText(this[0],""),this)},f.prototype.clone=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return c(t)},f.prototype.text=function(t){if(!arguments.length){for(var e="",n=0;n<this.length;n++)e+=this[n]&&this[n].textContent||"";return e}var i=(0,s.isFunction)(t)?t():t;return(0,o.cleanDataRecursive)(this[0],!1),r.default.setText(this[0],(0,s.isDefined)(i)?i:""),this},f.prototype.val=function(t){return 1===arguments.length?this.prop("value",(0,s.isDefined)(t)?t:""):this.prop("value")},f.prototype.contents=function(){if(!this[0])return c();var t=[];return t.push.apply(t,this[0].childNodes),c(t)},f.prototype.find=function(t){var e=c();if(!t)return e;var n,i=[];if("string"===typeof t)for(t=t.trim(),n=0;n<this.length;n++){var o=this[n];if(r.default.isElementNode(o)){var a=o.getAttribute("id"),s=a||"dx-query-children";a||g(o,"id",s);var l=(s="[id='"+s+"'] ")+t.replace(/([^\\])(,)/g,"$1, "+s);i.push.apply(i,r.default.querySelectorAll(o,l)),g(o,"id",a)}else r.default.isDocument(o)&&i.push.apply(i,r.default.querySelectorAll(o,t))}else for(n=0;n<this.length;n++)t=r.default.isNode(t)?t:t[0],this[n]!==t&&this[n].contains(t)&&i.push(t);return e.add(i)};var y=function(t,e){return!e.nodeType||!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};f.prototype.filter=function(t){if(!t)return c();if(":visible"===t)return this.filter(y);if(":hidden"===t)return this.filter((function(t,e){return!y(0,e)}));for(var e=[],n=0;n<this.length;n++){var i=this[n];if(r.default.isElementNode(i)&&"string"===(0,s.type)(t))r.default.elementMatches(i,t)&&e.push(i);else if(r.default.isNode(t)||(0,s.isWindow)(t))t===i&&e.push(i);else if((0,s.isFunction)(t))t.call(i,n,i)&&e.push(i);else for(var o=0;o<t.length;o++)t[o]===i&&e.push(i)}return c(e)},f.prototype.not=function(t){for(var e=[],n=this.filter(t).toArray(),i=0;i<this.length;i++)-1===n.indexOf(this[i])&&e.push(this[i]);return c(e)},f.prototype.is=function(t){return!!this.filter(t).length},f.prototype.children=function(t){for(var e=[],n=0;n<this.length;n++)for(var i=this[n]?this[n].childNodes:[],o=0;o<i.length;o++)r.default.isElementNode(i[o])&&e.push(i[o]);return e=c(e),t?e.filter(t):e},f.prototype.siblings=function(){var t=this[0];if(!t||!t.parentNode)return c();for(var e=[],n=t.parentNode.childNodes||[],i=0;i<n.length;i++){var o=n[i];r.default.isElementNode(o)&&o!==t&&e.push(o)}return c(e)},f.prototype.each=function(t){for(var e=0;e<this.length&&!1!==t.call(this[e],e,this[e]);e++);},f.prototype.index=function(t){return t?(t=c(t),this.toArray().indexOf(t[0])):this.parent().children().index(this)},f.prototype.get=function(t){return this[t<0?this.length+t:t]},f.prototype.eq=function(t){return t=t<0?this.length+t:t,c(this[t])},f.prototype.first=function(){return this.eq(0)},f.prototype.last=function(){return this.eq(-1)},f.prototype.parent=function(t){if(!this[0])return c();var e=c(this[0].parentNode);return!t||e.is(t)?e:c()},f.prototype.parents=function(t){for(var e=[],n=this.parent();n&&n[0]&&!r.default.isDocument(n[0]);)r.default.isElementNode(n[0])&&(!t||t&&n.is(t))&&e.push(n.get(0)),n=n.parent();return c(e)},f.prototype.closest=function(t){if(this.is(t))return this;for(var e=this.parent();e&&e.length;){if(e.is(t))return e;e=e.parent()}return c()},f.prototype.next=function(t){if(!this[0])return c();var e=c(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(t))return e;e=e.next()}return c()},f.prototype.prev=function(){return this[0]?c(this[0].previousSibling):c()},f.prototype.add=function(t){for(var e=c(t),n=this.toArray(),i=0;i<e.length;i++){var o=e[i];-1===n.indexOf(o)&&n.push(o)}return c(n)};var _=[];f.prototype.splice=function(){return c(_.splice.apply(this,arguments))},f.prototype.slice=function(){return c(_.slice.apply(this,arguments))},f.prototype.toArray=function(){return _.slice.call(this)};var b=function(t){return(0,s.isWindow)(t)?t:t.defaultView};f.prototype.offset=function(){if(this[0]){if(!this[0].getClientRects().length)return{top:0,left:0};var t=this[0].getBoundingClientRect(),e=b(this[0].ownerDocument),n=this[0].ownerDocument.documentElement;return{top:t.top+e.pageYOffset-n.clientTop,left:t.left+e.pageXOffset-n.clientLeft}}},f.prototype.offsetParent=function(){if(!this[0])return c();for(var t=c(this[0].offsetParent);t[0]&&"static"===t.css("position");)t=c(t[0].offsetParent);return t=t[0]?t:c(r.default.getDocumentElement())},f.prototype.position=function(){if(this[0]){var t,e=parseFloat(this.css("marginTop")),n=parseFloat(this.css("marginLeft"));if("fixed"===this.css("position"))return{top:(t=this[0].getBoundingClientRect()).top-e,left:t.left-n};t=this.offset();var i=this.offsetParent(),o={top:0,left:0};return"HTML"!==i[0].nodeName&&(o=i.offset()),o={top:o.top+parseFloat(i.css("borderTopWidth")),left:o.left+parseFloat(i.css("borderLeftWidth"))},{top:t.top-o.top-e,left:t.left-o.left-n}}},[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(t,e){t.scrollTo(e,t.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(t,e){t.scrollTo(t.pageXOffset,e)}}].forEach((function(t){var e=t.name;f.prototype[e]=function(n){if(this[0]){var i=b(this[0]);return void 0===n?i?i[t.offsetProp]:this[0][e]:(i?t.scrollWindow(i,n):this[0][e]=n,this)}}})),f.prototype.data=function(t,e){if(this[0])return arguments.length<2?o.data.call(c,this[0],t):(o.data.call(c,this[0],t,e),this)},f.prototype.removeData=function(t){return this[0]&&(0,o.removeData)(this[0],t),this};var x=function(){return c.apply(this,arguments)};Object.defineProperty(x,"fn",{enumerable:!0,configurable:!0,get:function(){return c.fn},set:function(t){c.fn=t}});var w={set:function(t){c=t},get:function(){return x}};e.default=w,t.exports=e.default},function(t,e,n){"use strict";e.default=function(t){i.forEach((function(e){t(e,(function(t){return function(t,e){if(e[t]&&!e.touches||!e.touches)return e[t];var n=e.touches.length?e.touches:e.changedTouches;if(!n.length)return;return n[0][t]}(e,t)}))}),this)};var i=["pageX","pageY","screenX","screenY","clientX","clientY"];t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=new(((i=n(165))&&i.__esModule?i:{default:i}).default);e.default=o,t.exports=e.default},function(t,e,n){"use strict";e.Options=void 0;var i=n(2),o=n(6),r=n(323),a=n(114),s=n(166),l=n(3);function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=function(){function t(e,n,i,o){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=n,this._deprecated=o,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new r.OptionManager(e,i),this._optionManager.onRelevantNamesPrepared((function(t,e,n,i){return a._setRelevantNames(t,e,n,i)})),this._cachedOptions={},this._rules=[]}var e,n,h;return e=t,(n=[{key:"_initDeprecatedNames",value:function(){for(var t in this._deprecated)this._deprecatedNames.push(t)}},{key:"_getByRules",value:function(t){return t=Array.isArray(t)?this._rules.concat(t):this._rules,(0,s.convertRulesToOptions)(t)}},{key:"_notifyDeprecated",value:function(t){var e=this._deprecated[t];e&&this._deprecatedCallback(t,e)}},{key:"_setRelevantNames",value:function(t,e,n,i){if(e){var o=this._normalizeName(e,i);o&&o!==e&&(this._setField(t,o,n),this._clearField(t,e))}}},{key:"_setField",value:function(t,e,n){var i="",o=null;do{i=i?".".concat(i):"",i=(0,s.getFieldName)(e)+i,o=(e=(0,s.getParentName)(e))?this._optionManager.get(t,e,!1):t}while(!o);o[i]=n}},{key:"_clearField",value:function(t,e){delete t[e];var n=(0,s.getParentName)(e),i=n?this._optionManager.get(t,n,!1):t;i&&delete i[(0,s.getFieldName)(e)]}},{key:"_normalizeName",value:function(t,e){if(this._deprecatedNames.length&&t)for(var n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===t){var i=this._deprecated[t];if(i)return!e&&this._notifyDeprecated(t),i.alias||t}return t}},{key:"addRules",value:function(t){this._rules=t.concat(this._rules)}},{key:"applyRules",value:function(t){var e=this._getByRules(t);this.silent(e)}},{key:"dispose",value:function(){this._deprecatedCallback=o.noop,this._startChangeCallback=o.noop,this._endChangeCallback=o.noop,this._optionManager.dispose()}},{key:"onChanging",value:function(t){this._optionManager.onChanging(t)}},{key:"onChanged",value:function(t){this._optionManager.onChanged(t)}},{key:"onDeprecated",value:function(t){this._deprecatedCallback=t}},{key:"onStartChange",value:function(t){this._startChangeCallback=t}},{key:"onEndChange",value:function(t){this._endChangeCallback=t}},{key:"isInitial",value:function(t){var e=this.silent(t),n=this.initial(t);return(0,i.isFunction)(e)&&(0,i.isFunction)(n)?e.toString()===n.toString():(0,o.equalByValue)(e,n)}},{key:"initial",value:function(t){return(0,s.getNestedOptionValue)(this._initial,t)}},{key:"option",value:function(t,e){var n=arguments.length<2&&"object"!==(0,i.type)(t);if(n)return this._optionManager.get(void 0,this._normalizeName(t));this._startChangeCallback();try{this._optionManager.set(t,e)}finally{this._endChangeCallback()}}},{key:"silent",value:function(t,e){var n=arguments.length<2&&"object"!==(0,i.type)(t);if(n)return this._optionManager.get(void 0,t,void 0,!0);this._optionManager.set(t,e,void 0,!0)}},{key:"reset",value:function(t){var e=this;if(t){var n=t.replace(/\[([^\]])\]/g,".$1").split(".").reduce((function(t,n){return t?t[n]:e.initial(n)}),null),o=(0,i.isObject)(n)?(0,a.clone)(n):n;this._optionManager.set(t,o,!1)}}},{key:"getAliasesByName",value:function(t){var e=this;return Object.keys(this._deprecated).filter((function(n){return t===e._deprecated[n].alias}))}},{key:"isDeprecated",value:function(t){return Object.prototype.hasOwnProperty.call(this._deprecated,t)}},{key:"cache",value:function(t,e){var n=arguments.length<2;if(n)return this._cachedOptions[t];this._cachedOptions[t]=(0,l.extend)(this._cachedOptions[t],e)}},{key:"_initial",set:function(t){this._initialOptions=t},get:function(){if(!this._initialOptions){var t=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,t)}return this._initialOptions}}])&&u(e.prototype,n),h&&u(e,h),t}();e.Options=h},function(t,e,n){"use strict";e.OptionManager=void 0;var i=n(29),o=n(6),r=n(324),a=n(3),s=n(2),l=n(166);function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h={},c={},d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=e,this._optionsByReference=n,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}var e,n,d;return e=t,(n=[{key:"_setByReference",value:function(t,e){for(var n in(0,a.extend)(!0,t,e),this._optionsByReference)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}},{key:"_setPreparedValue",value:function(t,e,n,o){var a=this.get(this._options,t,!1);if(!(0,r.equals)(a,e)){var l=t.split(/[.[]/);!o&&this._changingCallback(t,a,e),c[t]=c[t]||(0,i.compileSetter)(t),c[t](this._options,e,{functionsAsIs:!0,merge:(0,s.isDefined)(n)?n:!this._optionsByReference[t],unwrapObservables:l.length>1&&!!this._optionsByReference[l[0]]}),!o&&this._changedCallback(t,e,a)}}},{key:"_prepareRelevantNames",value:function(t,e,n,i){if((0,s.isPlainObject)(n))for(var o in n)this._prepareRelevantNames(t,"".concat(e,".").concat(o),n[o]);this._namePreparedCallbacks(t,e,n,i)}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return h[e]=h[e]||(0,i.compileGetter)(e),h[e](t,{functionsAsIs:!0,unwrapObservables:n})}},{key:"set",value:function(t,e,n,i){for(var o in t=(0,l.normalizeOptions)(t,e))this._prepareRelevantNames(t,o,t[o],i);for(var r in t)this._setPreparedValue(r,t[r],n,i)}},{key:"onRelevantNamesPrepared",value:function(t){this._namePreparedCallbacks=t}},{key:"onChanging",value:function(t){this._changingCallback=t}},{key:"onChanged",value:function(t){this._changedCallback=t}},{key:"dispose",value:function(){this._changingCallback=o.noop,this._changedCallback=o.noop}}])&&u(e.prototype,n),d&&u(e,d),t}();e.OptionManager=d},function(t,e,n){"use strict";e.equals=void 0;var i,o=(i=n(16))&&i.__esModule?i:{default:i},r=n(29),a=n(2);function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.equals=function(t,e){return t=(0,r.toComparable)(t,!0),e=(0,r.toComparable)(e,!0),t&&e&&(0,a.isRenderer)(t)&&(0,a.isRenderer)(e)?e.is(t):!(t===t||e===e)||(0===t&&0===e?function(t,e){return 1/t===1/e}(t,e):!(null!==t&&"object"===s(t)&&!o.default.isElementNode(t))&&t===e)}},function(t,e,n){"use strict";e.PostponedOperations=void 0;var i=n(8),o=n(2);function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._postponedOperations={}}var e,n,a;return e=t,(n=[{key:"add",value:function(t,e,n){if(t in this._postponedOperations)n&&this._postponedOperations[t].promises.push(n);else{var o=new i.Deferred;this._postponedOperations[t]={fn:e,completePromise:o,promises:n?[n]:[]}}return this._postponedOperations[t].completePromise.promise()}},{key:"callPostponedOperations",value:function(){for(var t in this._postponedOperations){var e=this._postponedOperations[t];(0,o.isDefined)(e)&&(e.promises&&e.promises.length?i.when.apply(void 0,r(e.promises)).done(e.fn).then(e.completePromise.resolve):e.fn().done(e.completePromise.resolve))}this._postponedOperations={}}}])&&s(e.prototype,n),a&&s(e,a),t}();e.PostponedOperations=l},function(t,e,n){"use strict";e.TemplateManager=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},r=n(2),a=n(6),s=n(3),l=n(132),u=n(119),h=n(213);function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=new l.FunctionTemplate((function(t){var e=t.model,n=t.parent,i=e.widget;if(!i)return(0,o.default)();var r=(0,o.default)("<div>"),a=e.options||{};return n?n._createComponent(r,i,a):r[i](a),r})),f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=n||"template",this._createElement=e||h.defaultCreateElement,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}var e,n,i;return e=t,i=[{key:"createDefaultOptions",value:function(){return{integrationOptions:{watchMethod:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.skipImmediate||e(t()),a.noop},templates:{"dx-polymorph-widget":d},useDeferUpdateForTemplates:!1}}}}],(n=[{key:"addDefaultTemplates",value:function(t){this._defaultTemplates=(0,s.extend)({},this._defaultTemplates,t)}},{key:"dispose",value:function(){this._tempTemplates.forEach((function(t){t.template.dispose&&t.template.dispose()})),this._tempTemplates=[]}},{key:"extractTemplates",value:function(t){return{templates:this._extractTemplates(t),anonymousTemplateMeta:this._extractAnonymousTemplate(t)}}},{key:"_extractTemplates",value:function(t){var e=this,n=(0,h.findTemplates)(t,"dxTemplate"),i=(0,h.suitableTemplatesByName)(n);return n.forEach((function(t){var e=t.element,n=t.options.name;e===i[n]?(0,o.default)(e).addClass("dx-template-wrapper").detach():(0,o.default)(e).remove()})),Object.keys(i).map((function(t){return{name:t,template:e._createTemplate(i[t])}}))}},{key:"_extractAnonymousTemplate",value:function(t){var e=t.contents().detach();return e.filter((function(t,e){var n=3===e.nodeType,i=(0,o.default)(e).text().trim().length<1;return!(n&&i)})).length>0?{template:this._createTemplate(e),name:this._anonymousTemplateName}:{}}},{key:"_createTemplateIfNeeded",value:function(t){var e=this._tempTemplates.filter((function(e){return e.source===(0,h.templateKey)(t)}))[0];if(e)return e.template;var n=this._createTemplate(t);return this._tempTemplates.push({template:n,source:(0,h.templateKey)(t)}),n}},{key:"_createTemplate",value:function(t){return this._createElement((0,h.validateTemplateSource)(t))}},{key:"getTemplate",value:function(t,e,n,i){var a=this,s=n.isAsyncTemplate,c=n.skipTemplates;return(0,r.isFunction)(t)?new l.FunctionTemplate((function(n){var d=t.apply(i,(0,h.getNormalizedTemplateArgs)(n));if(!(0,r.isDefined)(d))return new u.EmptyTemplate;var f=!1,p=(0,h.acquireTemplate)(d,(function(t){return t.nodeType||(0,r.isRenderer)(t)&&!(0,o.default)(t).is("script")?new l.FunctionTemplate((function(){return t})):(f=!0,a._createTemplate(t))}),e,s,c,a._defaultTemplates),g=p.render(n);return f&&p.dispose&&p.dispose(),g})):(0,h.acquireTemplate)(t,this._createTemplateIfNeeded,e,s,c,this._defaultTemplates)}},{key:"anonymousTemplateName",get:function(){return this._anonymousTemplateName}}])&&c(e.prototype,n),i&&c(e,i),t}();e.TemplateManager=f},function(t,e,n){"use strict";e.Template=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},r=n(104),a=n(44),s=n(214);function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(328),(0,s.registerTemplateEngine)("default",{compile:function(t){return(0,a.normalizeTemplateElement)(t)},render:function(t,e,n){return t.clone()}}),(0,s.setTemplateEngine)("default");var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(a,t);var e,n,i,r=c(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=r.call(this))._element=t,e}return e=a,(n=[{key:"_renderCore",value:function(t){var e=t.transclude;return e||this._compiledTemplate||(this._compiledTemplate=(0,s.getCurrentTemplateEngine)().compile(this._element)),(0,o.default)("<div>").append(e?this._element:(0,s.getCurrentTemplateEngine)().render(this._compiledTemplate,t.model,t.index)).contents()}},{key:"source",value:function(){return(0,o.default)(this._element).clone()}}])&&u(e.prototype,n),i&&u(e,i),a}(r.TemplateBase);e.Template=p},function(t,e,n){"use strict";var i=n(44),o=n(214);(0,o.registerTemplateEngine)("jquery-tmpl",{compile:function(t){return(0,i.extractTemplateMarkup)(t)},render:function(t,e){return jQuery.tmpl(t,e)}}),(0,o.registerTemplateEngine)("jsrender",{compile:function(t){return(jQuery||jsrender).templates((0,i.extractTemplateMarkup)(t))},render:function(t,e){return t.render(e)}}),(0,o.registerTemplateEngine)("mustache",{compile:function(t){return(0,i.extractTemplateMarkup)(t)},render:function(t,e){return Mustache.render(t,e)}}),(0,o.registerTemplateEngine)("hogan",{compile:function(t){return Hogan.compile((0,i.extractTemplateMarkup)(t))},render:function(t,e){return t.render(e)}}),(0,o.registerTemplateEngine)("underscore",{compile:function(t){return _.template((0,i.extractTemplateMarkup)(t))},render:function(t,e){return t(e)}}),(0,o.registerTemplateEngine)("handlebars",{compile:function(t){return Handlebars.compile((0,i.extractTemplateMarkup)(t))},render:function(t,e){return t(e)}}),(0,o.registerTemplateEngine)("doT",{compile:function(t){return doT.template((0,i.extractTemplateMarkup)(t))},render:function(t,e){return t(e)}})},function(t,e,n){"use strict";e.default=void 0;var i=l(n(1)),o=l(n(7)),r=l(n(20)),a=n(21),s=n(13);function l(t){return t&&t.__esModule?t:{default:t}}var u=r.default.inherit({_keydown:(0,s.addNamespace)("keydown","KeyboardProcessor"),_compositionStart:(0,s.addNamespace)("compositionstart","KeyboardProcessor"),_compositionEnd:(0,s.addNamespace)("compositionend","KeyboardProcessor"),ctor:function(t){var e=this;(t=t||{}).element&&(this._element=(0,i.default)(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._element&&(this._processFunction=function(t){var n=e._focusTarget&&e._focusTarget!==t.target&&(0,a.inArray)(t.target,e._focusTarget)<0,i=e._isComposingJustFinished&&229===t.which||e._isComposing||n;e._isComposingJustFinished=!1,i||e.process(t)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),o.default.on(this._element,this._keydown,this._processFunction),o.default.on(this._element,this._compositionStart,this._toggleProcessingWithContext),o.default.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(o.default.off(this._element,this._keydown,this._processFunction),o.default.off(this._element,this._compositionStart,this._toggleProcessingWithContext),o.default.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(t){this._handler({keyName:(0,s.normalizeKeyName)(t),key:t.key,code:t.code,ctrl:t.ctrlKey,location:t.location,metaKey:t.metaKey,shift:t.shiftKey,alt:t.altKey,which:t.which,originalEvent:t})},toggleProcessing:function(t){var e=t.type;this._isComposing="compositionstart"===e,this._isComposingJustFinished=!this._isComposing}});e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(37))&&i.__esModule?i:{default:i};var r=function t(e,n){if(!n)throw o.default.Error("E0017");return Array.isArray(e)?e.map((function(e){return t(e,n)})).join(" "):-1!==e.indexOf(" ")?t(e.split(/\s+/g),n):"".concat(e,".").concat(n)};e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=a(n(135)),o=a(n(216)),r=n(3);function a(t){return t&&t.__esModule?t:{default:t}}var s,l={dxpointerdown:"pointerdown",dxpointermove:"pointermove",dxpointerup:"pointerup",dxpointercancel:"pointercancel",dxpointerover:"pointerover",dxpointerout:"pointerout",dxpointerenter:"pointerenter",dxpointerleave:"pointerleave"},u=!1,h=function(){u||(s=new o.default(l,(function(t,e){return t.pointerId===e.pointerId}),(function(t){t.isPrimary&&s.reset()})),u=!0)},c=i.default.inherit({ctor:function(){this.callBase.apply(this,arguments),h()},_fireEvent:function(t){return this.callBase((0,r.extend)({pointers:s.pointers(),pointerId:t.originalEvent.pointerId},t))}});c.map=l,c.resetObserver=function(){s.reset()};var d=c;e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(3),o=l(n(135)),r=l(n(217)),a=l(n(215)),s=n(13);function l(t){return t&&t.__esModule?t:{default:t}}var u=!1,h=function(){u||(r.default.activate(),u=!0)},c=o.default.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),h()},_handler:function(t){var e=(0,s.isMouseEvent)(t);if(e||(this._skipNextEvents=!0),!e||!this._mouseLocked){if(!e||!this._skipNextEvents)return this.callBase(t);this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var n=this;this._unlockMouseTimer=setTimeout((function(){n._mouseLocked=!1}),this.EVENT_LOCK_TIMEOUT)}},_fireEvent:function(t){var e=(0,s.isMouseEvent)(t.originalEvent)?r.default.normalize:a.default.normalize;return this.callBase((0,i.extend)(e(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});c.map={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},c.resetObserver=r.default.resetObserver;var d=c;e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;e.default={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CA":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PH":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"root","az-Cyrl":"root","blt-Latn":"root","bm-Nkoo":"root","bs-Cyrl":"root","byn-Latn":"root","cu-Glag":"root","dje-Arab":"root","dyo-Arab":"root","en-Dsrt":"root","en-Shaw":"root","ff-Adlm":"root","ff-Arab":"root","ha-Arab":"root","hi-Latn":"root","iu-Latn":"root","kk-Arab":"root","ks-Deva":"root","ku-Arab":"root","ky-Arab":"root","ky-Latn":"root","ml-Arab":"root","mn-Mong":"root","mni-Mtei":"root","ms-Arab":"root","pa-Arab":"root","sat-Deva":"root","sd-Deva":"root","sd-Khoj":"root","sd-Sind":"root","shi-Latn":"root","so-Arab":"root","sr-Latn":"root","sw-Arab":"root","tg-Arab":"root","ug-Cyrl":"root","uz-Arab":"root","uz-Cyrl":"root","vai-Latn":"root","wo-Arab":"root","yo-Arab":"root","yue-Hans":"root","zh-Hant":"root","zh-Hant-MO":"zh-Hant-HK"},t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;e.default=function(t,e){var n=t[e];return n?"root"!==n&&n:e.substr(0,e.lastIndexOf("-"))},t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;e.default={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select file","dxFileUploader-dropFile":"or Drop file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows","dxDataGrid-exportAll":"Export all data","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSizesAllText":"All","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resource: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen"}},t.exports=e.default},function(t,e,n){"use strict";var i;e.themeReadyCallback=void 0;var o=new(((i=n(38))&&i.__esModule?i:{default:i}).default);e.themeReadyCallback=o},function(t,e,n){"use strict";e.default=void 0;var i=L(n(57)),o=L(n(74)),r=n(41),a=L(n(19)),s=L(n(17)),l=L(n(16)),u=n(27),h=L(n(1)),c=n(119),d=n(21),f=L(n(24)),p=n(6),g=n(8),m=n(44),v=n(3),y=n(5),_=n(52),b=L(n(67)),x=n(2),w=n(121),C=n(103),S=n(14),k=L(n(7)),E=n(138),I=L(n(33)),T=n(120),D=n(13),M=n(90),O=n(339),P=L(n(340)),A=n(68),R=L(n(219)),B=L(n(47)),N=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==V(t)&&"function"!==typeof t)return{default:t};var e=F();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=i?Object.getOwnPropertyDescriptor(t,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(341));function F(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return F=function(){return t},t}function L(t){return t&&t.__esModule?t:{default:t}}function V(t){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var j=b.default.add,z=(0,S.getWindow)(),H=(0,S.getNavigator)(),W=C.changeCallback,G=["onShowing","onShown","onHiding","onHidden","onPositioning","onPositioned","onResizeStart","onResize","onResizeEnd"],K=[],$={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},U=s.default.real(),q=U.version,Y=f.default.mozilla&&"desktop"===U.deviceType,X="ios"===U.platform,Z=f.default.safari&&"desktop"!==U.deviceType,J="android"===U.platform&&0===(0,w.compare)(q,[4,0],2)&&-1===H.userAgent.indexOf("Chrome"),Q=function(t){return t&&(0,h.default)(t.target||t)};j((function(){k.default.subscribeGlobal(l.default.getDocument(),I.default.down,(function(t){for(var e=K.length-1;e>=0;e--)if(!K[e]._proxiedDocumentDownHandler(t))return}))}));var tt=B.default.inherit({_supportedKeys:function(){var t=function(t,e,n){if(this.option("dragEnabled")){n.preventDefault(),n.stopPropagation();var i=this._allowedOffsets(),o={top:(0,_.fitIntoRange)(t,-i.top,i.bottom),left:(0,_.fitIntoRange)(e,-i.left,i.right)};this._changePosition(o)}};return(0,v.extend)(this.callBase(),{escape:function(){this.hide()},upArrow:t.bind(this,-5,0),downArrow:t.bind(this,5,0),leftArrow:t.bind(this,0,-5),rightArrow:t.bind(this,0,5)})},_getDefaultOptions:function(){var t=this;return(0,v.extend)(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",position:{my:"center",at:"center"},width:function(){return.8*(0,h.default)(z).width()},minWidth:null,maxWidth:null,height:function(){return.8*(0,h.default)(z).height()},minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",dragEnabled:!1,resizeEnabled:!1,onResizeStart:null,onResize:null,onResizeEnd:null,innerOverlay:!1,target:void 0,container:void 0,hideTopOverlayHandler:function(){t.hide()},closeOnTargetScroll:!1,onPositioned:null,boundaryOffset:{h:0,v:0},propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=s.default.real(),e=t.platform,n=t.version;return"android"===e&&(0,w.compare)(n,[4,2])<0},options:{animation:{show:{type:"fade",duration:400},hide:{type:"fade",duration:400,to:{opacity:0},from:{opacity:1}}}}},{device:function(){return!(0,S.hasWindow)()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),(0,v.extend)(this._optionsByReference,{animation:!0})},_wrapper:function(){return this._$wrapper},_container:function(){return this._$content},_eventBindingTarget:function(){return this._$content},_init:function(){this.callBase(),this._initActions(),this._initCloseOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._$wrapper=(0,h.default)("<div>").addClass("dx-overlay-wrapper"),this._$content=(0,h.default)("<div>").addClass("dx-overlay-content"),this._initInnerOverlayClass();var t=this.$element();this._$wrapper.addClass(t.attr("class")),t.addClass("dx-overlay"),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),k.default.on(this._$wrapper,"MSPointerDown",p.noop),k.default.on(this._$wrapper,"focusin",(function(t){t.stopPropagation()})),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler"))},_initOptions:function(t){this._initTarget(t.target);var e=void 0===t.container?this.option("container"):t.container;this._initContainer(e),this.callBase(t)},_initInnerOverlayClass:function(){this._$content.toggleClass("dx-inner-overlay",this.option("innerOverlay"))},_initTarget:function(t){if((0,x.isDefined)(t)){var e=this.option();(0,y.each)(["position.of","animation.show.from.position.of","animation.show.to.position.of","animation.hide.from.position.of","animation.hide.to.position.of"],(function(n,i){for(var o=i.split("."),r=e;r;){if(1===o.length){(0,x.isPlainObject)(r)&&(r[o.shift()]=t);break}r=r[o.shift()]}}))}},_initContainer:function(t){t=void 0===t?(0,C.value)():t;var e=this.$element(),n=e.closest(t);n.length||(n=(0,h.default)(t).first()),this._$container=n.length?n:e.parent()},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t},_initActions:function(){var t=this;this._actions={},(0,y.each)(G,(function(e,n){t._actions[n]=t._createActionByOption(n,{excludeValidators:["disabled","readOnly"]})||p.noop}))},_initCloseOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler.apply(t,arguments)}},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var e=this.option("closeOnOutsideClick");(0,x.isFunction)(e)&&(e=e(t));var n=this._$content,i=(0,h.default)(z.document).is(t.target)||(0,m.contains)(z.document,t.target),o=(0,h.default)(t.target).closest(".dx-inner-overlay").length;return i&&!o&&!(n.is(t.target)||(0,m.contains)(n.get(0),t.target))&&e&&this._outsideClickHandler(t),this.option("propagateOutsideClick")},_outsideClickHandler:function(t){this.option("shading")&&t.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return"content"},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new c.EmptyTemplate}),this.callBase()},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var n=t[e]._findTabbableBounds();if(n.first||n.last)return t[e]===this}return!1},_overlayStack:function(){return K},_zIndexInitValue:function(){return tt.baseZIndex()},_toggleViewPortSubscription:function(t){W.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=this._viewPortChangeHandler.bind(this),W.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._initContainer(this.option("container")),this._refresh()},_renderVisibilityAnimate:function(t){return this._stopAnimation(),t?this._show():this._hide()},_normalizePosition:function(){var t=this.option("position");this._position="function"===typeof t?t():t},_getAnimationConfig:function(){var t=this.option("animation");return(0,x.isFunction)(t)&&(t=t.call(this)),t},_show:function(){var t=this,e=this,n=new g.Deferred;if(this._parentHidden=this._isParentHidden(),n.done((function(){delete e._parentHidden})),this._parentHidden)return this._isHidden=!0,n.resolve();if(this._currentVisible)return(new g.Deferred).resolve().promise();this._currentVisible=!0,this._isShown=!1,this._normalizePosition();var i=e._getAnimationConfig()||{},o=this._normalizeAnimation(i.show,"to"),r=o&&o.start||p.noop,a=o&&o.complete||p.noop;if(this._isHidingActionCanceled)delete this._isHidingActionCanceled,n.resolve();else{var s=function(){if(t._renderVisibility(!0),t._isShowingActionCanceled)return delete t._isShowingActionCanceled,void n.resolve();t._animate(o,(function(){e.option("focusStateEnabled")&&k.default.trigger(e._focusTarget(),"focus"),a.apply(this,arguments),e._showAnimationProcessing=!1,e._isShown=!0,e._actions.onShown(),e._toggleSafariScrolling(!1),n.resolve()}),(function(){r.apply(this,arguments),e._showAnimationProcessing=!0}))};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(s)):s()}return n.promise()},_normalizeAnimation:function(t,e){return t&&(t=(0,v.extend)({type:"slide"},t))[e]&&"object"===V(t[e])&&(0,v.extend)(t[e],{position:this._position}),t},_hide:function(){if(!this._currentVisible)return(new g.Deferred).resolve().promise();this._currentVisible=!1;var t=this,e=new g.Deferred,n=t._getAnimationConfig()||{},i=this._normalizeAnimation(n.hide,"from"),o=i&&i.start||p.noop,r=i&&i.complete||p.noop,a={cancel:!1};return this._isShowingActionCanceled?e.resolve():(this._actions.onHiding(a),t._toggleSafariScrolling(!0),a.cancel?(this._isHidingActionCanceled=!0,this.option("visible",!0),e.resolve()):(this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animate(i,(function(){var n;t._$content.css("pointerEvents",""),t._renderVisibility(!1),r.apply(this,arguments),null===(n=t._actions)||void 0===n||n.onHidden(),e.resolve()}),(function(){t._$content.css("pointerEvents","none"),o.apply(this,arguments)})))),e.promise()},_forceFocusLost:function(){var t=l.default.getActiveElement();!!this._$content.find(t).length&&(0,m.resetActiveElement)()},_animate:function(t,e,n){t?(n=n||t.start||p.noop,i.default.animate(this._$content,(0,v.extend)({},t,{start:n,complete:e}))):e()},_stopAnimation:function(){i.default.stop(this._$content,!0)},_renderVisibility:function(t){if(!t||!this._isParentHidden()){if(this._currentVisible=t,this._stopAnimation(),t||(0,M.triggerHidingEvent)(this._$content),this._toggleVisibility(t),this._$content.toggleClass("dx-state-invisible",!t),this._updateZIndexStackPosition(t),t){this._renderContent();var e={cancel:!1};if(this._actions.onShowing(e),e.cancel)return this._toggleVisibility(!1),this._$content.toggleClass("dx-state-invisible",!0),this._updateZIndexStackPosition(!1),this._moveFromContainer(),this._isShowingActionCanceled=!0,void this.option("visible",!1);this._moveToContainer(),this._renderGeometry(),(0,M.triggerShownEvent)(this._$content),(0,M.triggerResizeEvent)(this._$content)}else this._moveFromContainer();this._toggleShading(t),this._toggleSubscriptions(t)}},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),n=(0,d.inArray)(this,e);t?(-1===n&&(this._zIndex=N.create(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):-1!==n&&(e.splice(n,1),N.remove(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass("dx-overlay-modal",this.option("shading")&&!this.option("container")),this._$wrapper.toggleClass("dx-overlay-shader",t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler.apply(t,arguments)}},_toggleTabTerminator:function(t){var e=(0,D.addNamespace)("keydown",this.NAME);t?k.default.on(l.default.getDocument(),e,this._proxiedTabTerminatorHandler):k.default.off(l.default.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,n={first:null,last:null},i=0;i<=e&&(!n.first&&t.eq(i).is(A.tabbable)&&(n.first=t.eq(i)),!n.last&&t.eq(e-i).is(A.tabbable)&&(n.last=t.eq(e-i)),!n.first||!n.last);i++);return n},_tabKeyHandler:function(t){if("tab"===(0,D.normalizeKeyName)(t)&&this._isTopOverlay()){var e=this._findTabbableBounds(),n=e.first,i=e.last,o=!t.shiftKey&&t.target===i.get(0),r=t.shiftKey&&t.target===n.get(0),a=0===e.length,s=!(0,m.contains)(this._$wrapper.get(0),t.target);if(o||r||a||s){t.preventDefault();var l=t.shiftKey?i:n;k.default.trigger(l,"focusin"),k.default.trigger(l,"focus")}}},_toggleSubscriptions:function(t){(0,S.hasWindow)()&&(this._toggleHideTopOverlayCallback(t),this._toggleParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){this._hideTopOverlayHandler&&(t?O.hideCallback.add(this._hideTopOverlayHandler):O.hideCallback.remove(this._hideTopOverlayHandler))},_toggleParentsScrollSubscription:function(t){var e=this;if(this._position){var n=this._position.of||(0,h.default)(),i=this.option("closeOnTargetScroll"),o=Q(n).parents(),r=(0,D.addNamespace)("scroll",this.NAME);"desktop"===s.default.real().deviceType&&(o=o.add(z)),this._proxiedTargetParentsScrollHandler=this._proxiedTargetParentsScrollHandler||function(t){e._targetParentsScrollHandler(t)},k.default.off((0,h.default)().add(this._$prevTargetParents),r,this._proxiedTargetParentsScrollHandler),t&&i&&(k.default.on(o,r,this._proxiedTargetParentsScrollHandler),this._$prevTargetParents=o)}},_targetParentsScrollHandler:function(t){var e=!1,n=this.option("closeOnTargetScroll");(0,x.isFunction)(n)&&(e=n(t)),e||this._showAnimationProcessing||this.hide()},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering");this.option("visible")&&this._isParentHidden()?this._isHidden=!0:this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(void 0!==this._parentHidden)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var e=!1;return t.add(t.parents()).each((function(){if("none"===(0,h.default)(this).css("display"))return e=!0,!1})),e||!l.default.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=this,e=new g.Deferred,n=this.option("contentTemplate"),i=this._getTemplate(n),o=this._templateManager.anonymousTemplateName===n;return i&&i.render({container:(0,u.getPublicElement)(this.$content()),noModel:!0,transclude:o,onRendered:function(){e.resolve()}}),this._renderDrag(),this._renderResize(),this._renderScrollTerminator(),e.done((function(){t.option("visible")&&t._moveToContainer()})),e.promise()},_renderDrag:function(){var t=this._getDragTarget();if(t){var e=(0,D.addNamespace)(E.start,this.NAME),n=(0,D.addNamespace)(E.move,this.NAME);k.default.off(t,e),k.default.off(t,n),this.option("dragEnabled")&&(k.default.on(t,e,this._dragStartHandler.bind(this)),k.default.on(t,n,this._dragUpdateHandler.bind(this)))}},_renderResize:function(){this._resizable=this._createComponent(this._$content,P.default,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:this._resizeEndHandler.bind(this),onResize:this._actions.onResize.bind(this),onResizeStart:this._actions.onResizeStart.bind(this),minHeight:100,minWidth:100,area:this._getDragResizeContainer()})},_resizeEndHandler:function(){this._positionChangeHandled=!0;var t=this._resizable.option("width"),e=this._resizable.option("height");t&&this.option("width",t),e&&this.option("height",e),this._actions.onResizeEnd()},_renderScrollTerminator:function(){var t=this._wrapper(),e=(0,D.addNamespace)(E.move,this.NAME);k.default.off(t,e),k.default.on(t,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(t){t||this._toggleGestureCoverImpl(t)},_clearSelection:p.noop,isNative:!0},(function(t){var e=t.originalEvent.originalEvent;t._cancelPreventDefault=!0,e&&"mousemove"!==e.type&&!1!==t.cancelable&&t.preventDefault()}))},_getDragTarget:function(){return this.$content()},_dragStartHandler:function(t){t.targetElements=[],this._prevOffset={x:0,y:0};var e=this._allowedOffsets();t.maxTopOffset=e.top,t.maxBottomOffset=e.bottom,t.maxLeftOffset=e.left,t.maxRightOffset=e.right},_getDragResizeContainer:function(){return(0,C.originalViewPort)().get(0)||this.option("container")?this._$container:(0,h.default)(z)},_deltaSize:function(){var t=this._$content,e=this._getDragResizeContainer(),n=t.outerWidth(),i=t.outerHeight(),o=e.outerWidth(),r=e.outerHeight();if(this._isWindow(e)){var a=l.default.getDocument();r=Math.max((0,h.default)(a).outerHeight(),r),o=Math.max((0,h.default)(a).outerWidth(),o)}return{width:o-n,height:r-i}},_dragUpdateHandler:function(t){var e=t.offset,n=this._prevOffset,i={top:e.y-n.y,left:e.x-n.x};this._changePosition(i),this._prevOffset=e},_changePosition:function(t){var e=(0,r.locate)(this._$content);(0,r.move)(this._$content,{left:e.left+t.left,top:e.top+t.top}),this._positionChangeHandled=!0},_allowedOffsets:function(){var t=(0,r.locate)(this._$content),e=this._deltaSize(),n=e.height>=0&&e.width>=0,i=!this.option("shading")||this.option("container")||this._isWindow(this._getContainer())?{top:0,left:0}:(0,r.locate)(this._$wrapper),o=this.option("boundaryOffset");return{top:n?t.top+i.top+o.v:0,bottom:n?-t.top-i.top+e.height-o.v:0,left:n?t.left+i.left+o.h:0,right:n?-t.left-i.left+e.width-o.h:0}},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._attachWrapperToContainer(),this._$content.appendTo(this._$wrapper)},_attachWrapperToContainer:function(){var t=this.$element(),e=void 0!==this.option("container")?this._$container:R.default.getSwatchContainer(t);e&&e[0]===t.parent()[0]&&(e=t),this._$wrapper.appendTo(e)},_fixHeightAfterSafariAddressBarResizing:function(){this._isWindow(this._getContainer())&&Z&&this._$wrapper.css("minHeight",z.innerHeight)},_renderGeometry:function(t){this.option("visible")&&(0,S.hasWindow)()&&this._renderGeometryImpl(t)},_renderGeometryImpl:function(t){this._stopAnimation(),this._normalizePosition(),this._renderWrapper(),this._fixHeightAfterSafariAddressBarResizing(),this._renderDimensions();var e=this._renderPosition();this._actions.onPositioned({position:e})},_fixWrapperPosition:function(){this._$wrapper.css("position",this._useFixedPosition()?"fixed":"absolute")},_useFixedPosition:function(){var t=this._getContainer();return this._isWindow(t)&&(!X||void 0!==this._bodyScrollTop)},_toggleSafariScrolling:function(t){if(X&&this._useFixedPosition()){var e=l.default.getBody();t?((0,h.default)(e).removeClass("dx-prevent-safari-scrolling"),z.scrollTo(0,this._bodyScrollTop),this._bodyScrollTop=void 0):this.option("visible")&&(this._bodyScrollTop=z.pageYOffset,(0,h.default)(e).addClass("dx-prevent-safari-scrolling"))}},_renderWrapper:function(){this._fixWrapperPosition(),this._renderWrapperDimensions(),this._renderWrapperPosition()},_renderWrapperDimensions:function(){var t,e,n=this._getContainer();if(n){var i=this._isWindow(n);t=i?"":n.outerWidth(),e=i?"":n.outerHeight(),this._$wrapper.css({width:t,height:e})}},_isWindow:function(t){return!!t&&(0,x.isWindow)(t.get(0))},_renderWrapperPosition:function(){var t=this._getContainer();t&&o.default.setup(this._$wrapper,{my:"top left",at:"top left",of:t})},_getContainer:function(){var t=this._position,e=this.option("container"),n=null;!e&&t&&(n=!(!t.of||!t.of.preventDefault)?z:t.of||z);return Q(e||n)},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_renderPosition:function(){if(!this._positionChangeHandled){this._renderOverlayBoundaryOffset(),(0,r.resetPosition)(this._$content);var t=this._transformStringPosition(this._position,$),e=o.default.setup(this._$content,t);return function(t){if(Y&&t.width(),J){var e=t.parents();e.is(".dx-scrollable-native")||(e.css("backfaceVisibility","hidden"),e.css("backfaceVisibility"),e.css("backfaceVisibility","visible"))}}(this._$content),this._actions.onPositioning(),e}var n=this._allowedOffsets();this._changePosition({top:(0,_.fitIntoRange)(0,-n.top,n.bottom),left:(0,_.fitIntoRange)(0,-n.left,n.right)})},_transformStringPosition:function(t,e){return(0,x.isString)(t)&&(t=(0,v.extend)({},e[t])),t},_renderOverlayBoundaryOffset:function(){var t=this.option("boundaryOffset");this._$content.css("margin",t.v+"px "+t.h+"px")},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){var t=this;this._keyboardListenerId=T.keyboard.on(this._$content,null,(function(e){return t._keyboardHandler(e)}))},_keyboardHandler:function(t){var e=t.originalEvent,n=(0,h.default)(e.target);!n.is(this._$content)&&this.option("ignoreChildEvents")||this.callBase.apply(this,arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry(!0)},_clean:function(){this._contentAlreadyRendered||this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer:function(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){i.default.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._toggleSafariScrolling(!0),this._actions=null,this.callBase(),N.remove(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments),this._$content.toggleClass("dx-state-disabled",Boolean(t))},_toggleRTLDirection:function(t){this._$content.toggleClass("dx-rtl",t)},_optionChanged:function(t){var e=this,n=t.value;if((0,d.inArray)(t.name,G)>-1)this._initActions();else switch(t.name){case"dragEnabled":this._renderDrag(),this._renderGeometry();break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"shading":case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":case"boundaryOffset":this._renderGeometry();break;case"position":this._positionChangeHandled=!1,this._renderGeometry();break;case"visible":this._renderVisibilityAnimate(n).done((function(){e._animateDeferred&&e._animateDeferred.resolveWith(e)}));break;case"target":this._initTarget(n),this._invalidate();break;case"container":this._initContainer(n),this._invalidate();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(t.value),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"closeOnTargetScroll":this._toggleParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"animation":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(t);break;default:this.callBase(t)}},toggle:function(t){var e=this;t=void 0===t?!this.option("visible"):t;var n=new g.Deferred;if(t===this.option("visible"))return n.resolveWith(this,[t]).promise();var i=new g.Deferred;return this._animateDeferred=i,this.option("visible",t),i.promise().done((function(){delete e._animateDeferred,n.resolveWith(e,[e.option("visible")])})),n.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return(0,u.getPublicElement)(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._renderGeometry(),(0,M.triggerResizeEvent)(this._$content)):this.callBase()}});tt.baseZIndex=function(t){return N.base(t)},(0,a.default)("dxOverlay",tt);var et=tt;e.default=et,t.exports=e.default},function(t,e,n){"use strict";e.setEasing=function(t){s=t},e.getEasing=function(t){return s[t]},e.convertTransitionTimingFuncToEasing=void 0;var i=n(2),o=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,r={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},a=function(t,e,n,i){var o=3*t,r=3*(n-t)-o,a=1-o-r,s=3*e,l=3*(i-e)-s,u=1-s-l,h=function(t){return t*(o+t*(r+t*a))},c=function(t){return o+t*(2*r+3*t*a)};return function(t){return function(t){return t*(s+t*(l+t*u))}(function(t){for(var e,n=t,i=0;i<14&&(e=h(n)-t,!(Math.abs(e)<.001));)n-=e/c(n),i++;return n}(t))}},s={};e.convertTransitionTimingFuncToEasing=function(t){var e,n=(t=r[t]||t).match(o);n||(n=r[e="linear"].match(o)),n=n.slice(1,5);for(var l=0;l<n.length;l++)n[l]=parseFloat(n[l]);var u=e||"cubicbezier_"+n.join("_").replace(/\./g,"p");return(0,i.isFunction)(s[u])||(s[u]=function(t,e,i,o,r){return o*a(n[0],n[1],n[2],n[3])(e/r)+i}),u}},function(t,e,n){"use strict";e.hideCallback=void 0;var i=n(21),o=function(){var t=[];return{add:function(e){-1===(0,i.inArray)(e,t)&&t.push(e)},remove:function(e){var n=(0,i.inArray)(e,t);-1!==n&&t.splice(n,1)},fire:function(){var e=t.pop(),n=!!e;return n&&e(),n},hasCallback:function(){return t.length>0}}}();e.hideCallback=o},function(t,e,n){"use strict";e.default=void 0;var i=n(41),o=_(n(19)),r=_(n(89)),a=_(n(1)),s=n(21),l=n(6),u=n(3),h=n(5),c=n(52),d=n(2),f=n(14),p=_(n(7)),g=n(138),m=n(34),v=n(13),y=n(90);function _(t){return t&&t.__esModule?t:{default:t}}var b=(0,v.addNamespace)(g.start,"dxResizable"),x=(0,v.addNamespace)(g.move,"dxResizable"),w=(0,v.addNamespace)(g.end,"dxResizable"),C={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},S=r.default.inherit({_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0})},_init:function(){this.callBase(),this.$element().addClass("dx-resizable")},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){var t=this;this._handles=[];var e=this.option("handles");if("none"!==e){var n="all"===e?["top","bottom","left","right"]:e.split(" ");(0,h.each)(n,(function(e,n){t._renderHandle(n)})),(0,s.inArray)("bottom",n)+1&&(0,s.inArray)("right",n)+1&&this._renderHandle("corner-bottom-right"),(0,s.inArray)("bottom",n)+1&&(0,s.inArray)("left",n)+1&&this._renderHandle("corner-bottom-left"),(0,s.inArray)("top",n)+1&&(0,s.inArray)("right",n)+1&&this._renderHandle("corner-top-right"),(0,s.inArray)("top",n)+1&&(0,s.inArray)("left",n)+1&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(t){var e=(0,a.default)("<div>").addClass("dx-resizable-handle").addClass("dx-resizable-handle-"+t).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers:function(){if(!this.option("disabled")){var t={};t[b]=this._dragStartHandler.bind(this),t[x]=this._dragHandler.bind(this),t[w]=this._dragEndHandler.bind(this),this._handles.forEach((function(e){p.default.on(e,t,{direction:"both",immediate:!0})}))}},_detachEventHandlers:function(){this._handles.forEach((function(t){p.default.off(t)}))},_toggleEventHandlers:function(t){t?this._attachEventHandlers():this._detachEventHandlers()},_dragStartHandler:function(t){var e=this.$element();if(e.is(".dx-state-disabled, .dx-state-disabled *"))t.cancel=!0;else{this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(t),this._elementLocation=(0,i.locate)(e);var n=(0,m.getBoundingRect)(e.get(0));this._elementSize={width:n.width,height:n.height},this._renderDragOffsets(t),this._resizeStartAction({event:t,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),t.targetElements=null}},_toggleResizingClass:function(t){this.$element().toggleClass("dx-resizable-resizing",t)},_renderDragOffsets:function(t){var e=this._getArea();if(e){var n=(0,a.default)(t.target).closest(".dx-resizable-handle"),i=n.outerWidth(),o=n.outerHeight(),r=n.offset(),s=e.offset,l=this._getAreaScrollOffset();t.maxLeftOffset=r.left-s.left-l.scrollX,t.maxRightOffset=s.left+e.width-r.left-i+l.scrollX,t.maxTopOffset=r.top-s.top-l.scrollY,t.maxBottomOffset=s.top+e.height-r.top-o+l.scrollY}},_getBorderWidth:function(t,e){if((0,d.isWindow)(t.get(0)))return 0;var n=t.css(C[e]);return parseInt(n)||0},_dragHandler:function(t){var e=this.$element(),n=this._movingSides,o=this._elementLocation,r=this._elementSize,a=this._getOffset(t),s=r.width+a.x*(n.left?-1:1),l=r.height+a.y*(n.top?-1:1);(a.x||"strict"===this.option("stepPrecision"))&&this._renderWidth(s),(a.y||"strict"===this.option("stepPrecision"))&&this._renderHeight(l);var u=(0,m.getBoundingRect)(e.get(0)),h=a.y-((u.height||l)-l),c=a.x-((u.width||s)-s);(0,i.move)(e,{top:o.top+(n.top?h:0),left:o.left+(n.left?c:0)}),this._resizeAction({event:t,width:this.option("width")||s,height:this.option("height")||l,handles:this._movingSides}),(0,y.triggerResizeEvent)(e)},_getOffset:function(t){var e=t.offset,n=(0,l.pairToObject)(this.option("step"),!this.option("roundStepValue")),i=this._getMovingSides(t),o="strict"===this.option("stepPrecision");return i.left||i.right||(e.x=0),i.top||i.bottom||(e.y=0),o?this._getStrictOffset(e,n,i):this._getSimpleOffset(e,n)},_getSimpleOffset:function(t,e){return{x:t.x-t.x%e.h,y:t.y-t.y%e.v}},_getStrictOffset:function(t,e,n){var i=this._elementLocation,o=this._elementSize,r=n.left?i.left:i.left+o.width,a=n.top?i.top:i.top+o.height,s=(r+t.x)%e.h,l=(a+t.y)%e.v,u=Math.sign||function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},h=function(t,e){return(1+.2*u(e))%1*t},c=function(t,e){return Math.abs(t)<.2*e},d=t.x-s,f=t.y-l;return s>h(e.h,t.x)&&(d+=e.h),l>h(e.v,t.y)&&(f+=e.v),{x:!n.left&&!n.right||c(t.x,e.h)?0:d,y:!n.top&&!n.bottom||c(t.y,e.v)?0:f}},_getMovingSides:function(t){var e=(0,a.default)(t.target),n=e.hasClass("dx-resizable-handle-corner-top-left"),i=e.hasClass("dx-resizable-handle-corner-top-right"),o=e.hasClass("dx-resizable-handle-corner-bottom-left"),r=e.hasClass("dx-resizable-handle-corner-bottom-right");return{top:e.hasClass("dx-resizable-handle-top")||n||i,left:e.hasClass("dx-resizable-handle-left")||n||o,bottom:e.hasClass("dx-resizable-handle-bottom")||o||r,right:e.hasClass("dx-resizable-handle-right")||i||r}},_getArea:function(){var t=this.option("area");return(0,d.isFunction)(t)&&(t=t.call(this)),(0,d.isPlainObject)(t)?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaScrollOffset:function(){var t=this.option("area"),e={scrollY:0,scrollX:0};if(!(0,d.isFunction)(t)&&!(0,d.isPlainObject)(t)){var n=(0,a.default)(t)[0];(0,d.isWindow)(n)&&(e.scrollX=n.pageXOffset,e.scrollY=n.pageYOffset)}return e},_getAreaFromObject:function(t){var e={width:t.right-t.left,height:t.bottom-t.top,offset:{left:t.left,top:t.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement:function(t){var e,n=(0,a.default)(t);return n.length&&(e={width:n.innerWidth(),height:n.innerHeight(),offset:(0,u.extend)({top:0,left:0},(0,d.isWindow)(n[0])?{}:n.offset())},this._correctAreaGeometry(e,n)),e},_correctAreaGeometry:function(t,e){var n=e?this._getBorderWidth(e,"left"):0,i=e?this._getBorderWidth(e,"top"):0;t.offset.left+=n+this._getBorderWidth(this.$element(),"left"),t.offset.top+=i+this._getBorderWidth(this.$element(),"top"),t.width-=this.$element().outerWidth()-this.$element().innerWidth(),t.height-=this.$element().outerHeight()-this.$element().innerHeight()},_dragEndHandler:function(t){var e=this.$element();this._resizeEndAction({event:t,width:e.outerWidth(),height:e.outerHeight(),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(t){this.option("width",(0,c.fitIntoRange)(t,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(t){this.option("height",(0,c.fitIntoRange)(t,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(t){switch(t.name){case"disabled":this._toggleEventHandlers(!t.value),this.callBase(t);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":(0,f.hasWindow)()&&this._renderWidth(this.$element().outerWidth());break;case"minHeight":case"maxHeight":(0,f.hasWindow)()&&this._renderHeight(this.$element().outerHeight());break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":break;default:this.callBase(t)}},_clean:function(){this.$element().find(".dx-resizable-handle").remove()},_useTemplates:function(){return!1}});(0,o.default)("dxResizable",S);var k=S;e.default=k,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.clearStack=e.remove=e.create=e.base=void 0;var i=n(6),o=1500,r=[];e.base=function(t){return o=(0,i.ensureDefined)(t,o)};e.create=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=r.length,n=(e?r[e-1]:t)+1;return r.push(n),n};e.remove=function(t){var e=r.indexOf(t);e>=0&&r.splice(e,1)};e.clearStack=function(){r=[]}},function(t,e,n){"use strict";e.default=void 0;var i=s(n(46)),o=s(n(123)),r=s(n(343)),a=s(n(344));function s(t){return t&&t.__esModule?t:{default:t}}var l=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,u={},h=function(t){var e=o.default.locale()+"/"+JSON.stringify(t);return u[e]||(u[e]=new Intl.NumberFormat(o.default.locale(),t).format),u[e]},c={engine:function(){return"intl"},_formatNumberCore:function(t,e,n){return"exponential"===e?this.callBase.apply(this,arguments):h(this._normalizeFormatConfig(e,n))(t)},_normalizeFormatConfig:function(t,e,n){var o;return o="decimal"===t?{minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:String(n).length,round:n<0?"ceil":"floor"}:this._getPrecisionConfig(e.precision),"percent"===t?o.style="percent":"currency"===t&&(o.style="currency",o.currency=e.currency||(0,i.default)().defaultCurrency),o},_getPrecisionConfig:function(t){return null===t?{minimumFractionDigits:0,maximumFractionDigits:20}:{minimumFractionDigits:t||0,maximumFractionDigits:t||0}},format:function(t,e){return"number"!==typeof t?t:("default"===(e=this._normalizeFormat(e)).currency&&(e.currency=(0,i.default)().defaultCurrency),e&&("function"===typeof e||e.type||e.formatter)?this.callBase.apply(this,arguments):h(e)(t))},_getCurrencySymbolInfo:function(t){var e=function(t){return new Intl.NumberFormat(o.default.locale(),{style:"currency",currency:t})}(t);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(t){var e=l.exec(t)||[];return{position:e[1]?"before":"after",symbol:e[1]||e[4]||"",delimiter:e[2]||e[3]||""}},getCurrencySymbol:function(t){return t||(t=(0,i.default)().defaultCurrency),{symbol:this._getCurrencySymbolInfo(t).symbol}},getOpenXmlCurrencyFormat:function(t){var e=t||(0,i.default)().defaultCurrency,n=this._getCurrencySymbolInfo(e).symbol,s=o.default.getValueByClosestLocale((function(t){return a.default[t]}));return(0,r.default)(n,s)}};e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;e.default=function(t,e){if(e){var n=t;if("string"===typeof t){n="";for(var i=0;i<t.length;i++)"$"!==t[i]&&(n+="\\"),n+=t[i]}for(var o={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xa4":n},r=e.split(";"),a=0;a<r.length;a++)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[a]=r[a].replace(new RegExp(s,"g"),o[s]));return 2===r.length?r[0]+"_);"+r[1]:r[0]}},t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;e.default={af:"\xa4#,##0.00;(\xa4#,##0.00)","af-NA":"\xa4#,##0.00;(\xa4#,##0.00)",agq:"#,##0.00\xa4",ak:"\xa4#,##0.00",am:"\xa4#,##0.00;(\xa4#,##0.00)",ar:"\xa4#,##0.00;(\xa4#,##0.00)","ar-AE":"\xa4#,##0.00;(\xa4#,##0.00)","ar-BH":"\xa4#,##0.00;(\xa4#,##0.00)","ar-DJ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-DZ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-EG":"\xa4#,##0.00;(\xa4#,##0.00)","ar-EH":"\xa4#,##0.00;(\xa4#,##0.00)","ar-ER":"\xa4#,##0.00;(\xa4#,##0.00)","ar-IL":"\xa4#,##0.00;(\xa4#,##0.00)","ar-IQ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-JO":"\xa4#,##0.00;(\xa4#,##0.00)","ar-KM":"\xa4#,##0.00;(\xa4#,##0.00)","ar-KW":"\xa4#,##0.00;(\xa4#,##0.00)","ar-LB":"\xa4#,##0.00;(\xa4#,##0.00)","ar-LY":"\xa4#,##0.00;(\xa4#,##0.00)","ar-MA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-MR":"\xa4#,##0.00;(\xa4#,##0.00)","ar-OM":"\xa4#,##0.00;(\xa4#,##0.00)","ar-PS":"\xa4#,##0.00;(\xa4#,##0.00)","ar-QA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SD":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SO":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SS":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SY":"\xa4#,##0.00;(\xa4#,##0.00)","ar-TD":"\xa4#,##0.00;(\xa4#,##0.00)","ar-TN":"\xa4#,##0.00;(\xa4#,##0.00)","ar-YE":"\xa4#,##0.00;(\xa4#,##0.00)",as:"\xa4\xa0#,##,##0.00",asa:"#,##0.00\xa0\xa4",ast:"#,##0.00\xa0\xa4",az:"#,##0.00\xa0\xa4","az-Cyrl":"#,##0.00\xa0\xa4","az-Latn":"#,##0.00\xa0\xa4",bas:"#,##0.00\xa0\xa4",be:"#,##0.00\xa0\xa4",bem:"\xa4#,##0.00;(\xa4#,##0.00)",bez:"#,##0.00\xa4",bg:"0.00\xa0\xa4;(0.00\xa0\xa4)",bm:"\xa4#,##0.00;(\xa4#,##0.00)",bn:"#,##,##0.00\xa4;(#,##,##0.00\xa4)","bn-IN":"#,##,##0.00\xa4;(#,##,##0.00\xa4)",bo:"\xa4\xa0#,##0.00","bo-IN":"\xa4\xa0#,##0.00",br:"#,##0.00\xa0\xa4",brx:"\xa4\xa0#,##,##0.00",bs:"#,##0.00\xa0\xa4","bs-Cyrl":"#,##0.00\xa0\xa4","bs-Latn":"#,##0.00\xa0\xa4",ca:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-AD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-ES-VALENCIA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-FR":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-IT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ccp:"#,##,##0.00\xa4;(#,##,##0.00\xa4)","ccp-IN":"#,##,##0.00\xa4;(#,##,##0.00\xa4)",ce:"#,##0.00\xa0\xa4",ceb:"\xa4#,##0.00;(\xa4#,##0.00)",cgg:"\xa4#,##0.00",chr:"\xa4#,##0.00;(\xa4#,##0.00)",ckb:"\xa4\xa0#,##0.00","ckb-IR":"\xa4\xa0#,##0.00",cs:"#,##0.00\xa0\xa4",cu:"\xa4\xa0#,##0.00",cy:"\xa4#,##0.00;(\xa4#,##0.00)",da:"#,##0.00\xa0\xa4","da-GL":"#,##0.00\xa0\xa4",dav:"\xa4#,##0.00;(\xa4#,##0.00)",de:"#,##0.00\xa0\xa4","de-AT":"#,##0.00\xa0\xa4","de-BE":"#,##0.00\xa0\xa4","de-CH":"#,##0.00\xa0\xa4","de-IT":"#,##0.00\xa0\xa4","de-LI":"#,##0.00\xa0\xa4","de-LU":"#,##0.00\xa0\xa4",dje:"#,##0.00\xa4",dsb:"#,##0.00\xa0\xa4",dua:"#,##0.00\xa0\xa4",dyo:"#,##0.00\xa0\xa4",dz:"\xa4#,##,##0.00",ebu:"\xa4#,##0.00;(\xa4#,##0.00)",ee:"\xa4#,##0.00;(\xa4#,##0.00)","ee-TG":"\xa4#,##0.00;(\xa4#,##0.00)",el:"#,##0.00\xa0\xa4","el-CY":"#,##0.00\xa0\xa4",en:"\xa4#,##0.00;(\xa4#,##0.00)","en-001":"\xa4#,##0.00;(\xa4#,##0.00)","en-150":"#,##0.00\xa0\xa4","en-AE":"\xa4#,##0.00;(\xa4#,##0.00)","en-AG":"\xa4#,##0.00;(\xa4#,##0.00)","en-AI":"\xa4#,##0.00;(\xa4#,##0.00)","en-AS":"\xa4#,##0.00;(\xa4#,##0.00)","en-AT":"\xa4\xa0#,##0.00","en-AU":"\xa4#,##0.00;(\xa4#,##0.00)","en-BB":"\xa4#,##0.00;(\xa4#,##0.00)","en-BE":"#,##0.00\xa0\xa4","en-BI":"\xa4#,##0.00;(\xa4#,##0.00)","en-BM":"\xa4#,##0.00;(\xa4#,##0.00)","en-BS":"\xa4#,##0.00;(\xa4#,##0.00)","en-BW":"\xa4#,##0.00;(\xa4#,##0.00)","en-BZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-CA":"\xa4#,##0.00;(\xa4#,##0.00)","en-CC":"\xa4#,##0.00;(\xa4#,##0.00)","en-CH":"\xa4\xa0#,##0.00;\xa4-#,##0.00","en-CK":"\xa4#,##0.00;(\xa4#,##0.00)","en-CM":"\xa4#,##0.00;(\xa4#,##0.00)","en-CX":"\xa4#,##0.00;(\xa4#,##0.00)","en-CY":"\xa4#,##0.00;(\xa4#,##0.00)","en-DE":"#,##0.00\xa0\xa4","en-DG":"\xa4#,##0.00;(\xa4#,##0.00)","en-DK":"#,##0.00\xa0\xa4","en-DM":"\xa4#,##0.00;(\xa4#,##0.00)","en-ER":"\xa4#,##0.00;(\xa4#,##0.00)","en-FI":"#,##0.00\xa0\xa4","en-FJ":"\xa4#,##0.00;(\xa4#,##0.00)","en-FK":"\xa4#,##0.00;(\xa4#,##0.00)","en-FM":"\xa4#,##0.00;(\xa4#,##0.00)","en-GB":"\xa4#,##0.00;(\xa4#,##0.00)","en-GD":"\xa4#,##0.00;(\xa4#,##0.00)","en-GG":"\xa4#,##0.00;(\xa4#,##0.00)","en-GH":"\xa4#,##0.00;(\xa4#,##0.00)","en-GI":"\xa4#,##0.00;(\xa4#,##0.00)","en-GM":"\xa4#,##0.00;(\xa4#,##0.00)","en-GU":"\xa4#,##0.00;(\xa4#,##0.00)","en-GY":"\xa4#,##0.00;(\xa4#,##0.00)","en-HK":"\xa4#,##0.00;(\xa4#,##0.00)","en-IE":"\xa4#,##0.00;(\xa4#,##0.00)","en-IL":"\xa4#,##0.00;(\xa4#,##0.00)","en-IM":"\xa4#,##0.00;(\xa4#,##0.00)","en-IN":"\xa4#,##0.00;(\xa4#,##0.00)","en-IO":"\xa4#,##0.00;(\xa4#,##0.00)","en-JE":"\xa4#,##0.00;(\xa4#,##0.00)","en-JM":"\xa4#,##0.00;(\xa4#,##0.00)","en-KE":"\xa4#,##0.00;(\xa4#,##0.00)","en-KI":"\xa4#,##0.00;(\xa4#,##0.00)","en-KN":"\xa4#,##0.00;(\xa4#,##0.00)","en-KY":"\xa4#,##0.00;(\xa4#,##0.00)","en-LC":"\xa4#,##0.00;(\xa4#,##0.00)","en-LR":"\xa4#,##0.00;(\xa4#,##0.00)","en-LS":"\xa4#,##0.00;(\xa4#,##0.00)","en-MG":"\xa4#,##0.00;(\xa4#,##0.00)","en-MH":"\xa4#,##0.00;(\xa4#,##0.00)","en-MO":"\xa4#,##0.00;(\xa4#,##0.00)","en-MP":"\xa4#,##0.00;(\xa4#,##0.00)","en-MS":"\xa4#,##0.00;(\xa4#,##0.00)","en-MT":"\xa4#,##0.00;(\xa4#,##0.00)","en-MU":"\xa4#,##0.00;(\xa4#,##0.00)","en-MW":"\xa4#,##0.00;(\xa4#,##0.00)","en-MY":"\xa4#,##0.00;(\xa4#,##0.00)","en-NA":"\xa4#,##0.00;(\xa4#,##0.00)","en-NF":"\xa4#,##0.00;(\xa4#,##0.00)","en-NG":"\xa4#,##0.00;(\xa4#,##0.00)","en-NL":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","en-NR":"\xa4#,##0.00;(\xa4#,##0.00)","en-NU":"\xa4#,##0.00;(\xa4#,##0.00)","en-NZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-PG":"\xa4#,##0.00;(\xa4#,##0.00)","en-PH":"\xa4#,##0.00;(\xa4#,##0.00)","en-PK":"\xa4#,##0.00;(\xa4#,##0.00)","en-PN":"\xa4#,##0.00;(\xa4#,##0.00)","en-PR":"\xa4#,##0.00;(\xa4#,##0.00)","en-PW":"\xa4#,##0.00;(\xa4#,##0.00)","en-RW":"\xa4#,##0.00;(\xa4#,##0.00)","en-SB":"\xa4#,##0.00;(\xa4#,##0.00)","en-SC":"\xa4#,##0.00;(\xa4#,##0.00)","en-SD":"\xa4#,##0.00;(\xa4#,##0.00)","en-SE":"#,##0.00\xa0\xa4","en-SG":"\xa4#,##0.00;(\xa4#,##0.00)","en-SH":"\xa4#,##0.00;(\xa4#,##0.00)","en-SI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","en-SL":"\xa4#,##0.00;(\xa4#,##0.00)","en-SS":"\xa4#,##0.00;(\xa4#,##0.00)","en-SX":"\xa4#,##0.00;(\xa4#,##0.00)","en-SZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-TC":"\xa4#,##0.00;(\xa4#,##0.00)","en-TK":"\xa4#,##0.00;(\xa4#,##0.00)","en-TO":"\xa4#,##0.00;(\xa4#,##0.00)","en-TT":"\xa4#,##0.00;(\xa4#,##0.00)","en-TV":"\xa4#,##0.00;(\xa4#,##0.00)","en-TZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-UG":"\xa4#,##0.00;(\xa4#,##0.00)","en-UM":"\xa4#,##0.00;(\xa4#,##0.00)","en-US-POSIX":"\xa4#,##0.00;(\xa4#,##0.00)","en-VC":"\xa4#,##0.00;(\xa4#,##0.00)","en-VG":"\xa4#,##0.00;(\xa4#,##0.00)","en-VI":"\xa4#,##0.00;(\xa4#,##0.00)","en-VU":"\xa4#,##0.00;(\xa4#,##0.00)","en-WS":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZA":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZM":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZW":"\xa4#,##0.00;(\xa4#,##0.00)",eo:"\xa4\xa0#,##0.00",es:"#,##0.00\xa0\xa4","es-419":"\xa4#,##0.00","es-AR":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","es-BO":"\xa4#,##0.00","es-BR":"\xa4#,##0.00","es-BZ":"\xa4#,##0.00","es-CL":"\xa4#,##0.00","es-CO":"\xa4#,##0.00","es-CR":"\xa4#,##0.00","es-CU":"\xa4#,##0.00","es-DO":"\xa4#,##0.00;(\xa4#,##0.00)","es-EA":"#,##0.00\xa0\xa4","es-EC":"\xa4#,##0.00","es-GQ":"#,##0.00\xa0\xa4","es-GT":"\xa4#,##0.00","es-HN":"\xa4#,##0.00","es-IC":"#,##0.00\xa0\xa4","es-MX":"\xa4#,##0.00","es-NI":"\xa4#,##0.00","es-PA":"\xa4#,##0.00","es-PE":"\xa4#,##0.00","es-PH":"#,##0.00\xa0\xa4","es-PR":"\xa4#,##0.00","es-PY":"\xa4#,##0.00","es-SV":"\xa4#,##0.00","es-US":"\xa4#,##0.00","es-UY":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","es-VE":"\xa4#,##0.00",et:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",eu:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ewo:"#,##0.00\xa0\xa4",fa:"\u200e\xa4\xa0#,##0.00;\u200e(\xa4\xa0#,##0.00)","fa-AF":"\xa4\xa0#,##0.00;\u200e(\xa4\xa0#,##0.00)",ff:"#,##0.00\xa0\xa4","ff-Latn":"#,##0.00\xa0\xa4","ff-Latn-BF":"#,##0.00\xa0\xa4","ff-Latn-CM":"#,##0.00\xa0\xa4","ff-Latn-GH":"#,##0.00\xa0\xa4","ff-Latn-GM":"#,##0.00\xa0\xa4","ff-Latn-GN":"#,##0.00\xa0\xa4","ff-Latn-GW":"#,##0.00\xa0\xa4","ff-Latn-LR":"#,##0.00\xa0\xa4","ff-Latn-MR":"#,##0.00\xa0\xa4","ff-Latn-NE":"#,##0.00\xa0\xa4","ff-Latn-NG":"#,##0.00\xa0\xa4","ff-Latn-SL":"#,##0.00\xa0\xa4",fi:"#,##0.00\xa0\xa4",fil:"\xa4#,##0.00;(\xa4#,##0.00)",fo:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fo-DK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",fr:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BJ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BL":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CH":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-DJ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-DZ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GP":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-HT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-KM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-LU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-ML":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MR":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-NC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-NE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-PF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-PM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-RE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-RW":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SY":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-VU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-WF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-YT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",fur:"\xa4\xa0#,##0.00",fy:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",ga:"\xa4#,##0.00;(\xa4#,##0.00)","ga-GB":"\xa4#,##0.00;(\xa4#,##0.00)",gd:"\xa4#,##0.00;(\xa4#,##0.00)",gl:"#,##0.00\xa0\xa4",gsw:"#,##0.00\xa0\xa4","gsw-FR":"#,##0.00\xa0\xa4","gsw-LI":"#,##0.00\xa0\xa4",gu:"\xa4#,##,##0.00;(\xa4#,##,##0.00)",guz:"\xa4#,##0.00;(\xa4#,##0.00)",gv:"\xa4#,##0.00",ha:"\xa4\xa0#,##0.00","ha-GH":"\xa4\xa0#,##0.00","ha-NE":"\xa4\xa0#,##0.00",haw:"\xa4#,##0.00;(\xa4#,##0.00)",he:"#,##0.00\xa0\xa4",hi:"\xa4#,##,##0.00",hr:"#,##0.00\xa0\xa4","hr-BA":"#,##0.00\xa0\xa4",hsb:"#,##0.00\xa0\xa4",hu:"#,##0.00\xa0\xa4",hy:"#,##0.00\xa0\xa4",ia:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",id:"\xa4#,##0.00",ig:"\xa4#,##0.00;(\xa4#,##0.00)",ii:"\xa4\xa0#,##0.00",is:"#,##0.00\xa0\xa4",it:"#,##0.00\xa0\xa4","it-CH":"#,##0.00\xa0\xa4","it-SM":"#,##0.00\xa0\xa4","it-VA":"#,##0.00\xa0\xa4",ja:"\xa4#,##0.00;(\xa4#,##0.00)",jgo:"\xa4\xa0#,##0.00",jmc:"\xa4#,##0.00",jv:"\xa4\xa0#,##0.00",ka:"#,##0.00\xa0\xa4",kab:"#,##0.00\xa4",kam:"\xa4#,##0.00;(\xa4#,##0.00)",kde:"\xa4#,##0.00;(\xa4#,##0.00)",kea:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",khq:"#,##0.00\xa4",ki:"\xa4#,##0.00;(\xa4#,##0.00)",kk:"#,##0.00\xa0\xa4",kkj:"\xa4\xa0#,##0.00",kl:"\xa4#,##0.00;\xa4-#,##0.00",kln:"\xa4#,##0.00;(\xa4#,##0.00)",km:"#,##0.00\xa4;(#,##0.00\xa4)",kn:"\xa4#,##0.00;(\xa4#,##0.00)",ko:"\xa4#,##0.00;(\xa4#,##0.00)","ko-KP":"\xa4#,##0.00;(\xa4#,##0.00)",kok:"\xa4#,##0.00;(\xa4#,##0.00)",ks:"\xa4\xa0#,##,##0.00",ksb:"#,##0.00\xa4",ksf:"#,##0.00\xa0\xa4",ksh:"#,##0.00\xa0\xa4",ku:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",kw:"\xa4#,##0.00",ky:"#,##0.00\xa0\xa4",lag:"\xa4\xa0#,##0.00",lb:"#,##0.00\xa0\xa4",lg:"#,##0.00\xa4",lkt:"\xa4\xa0#,##0.00",ln:"#,##0.00\xa0\xa4","ln-AO":"#,##0.00\xa0\xa4","ln-CF":"#,##0.00\xa0\xa4","ln-CG":"#,##0.00\xa0\xa4",lo:"\xa4#,##0.00;\xa4-#,##0.00",lrc:"\xa4\xa0#,##0.00","lrc-IQ":"\xa4\xa0#,##0.00",lt:"#,##0.00\xa0\xa4",lu:"#,##0.00\xa4",luo:"#,##0.00\xa4",luy:"\xa4#,##0.00;\xa4-\xa0#,##0.00",lv:"#,##0.00\xa0\xa4",mas:"\xa4#,##0.00;(\xa4#,##0.00)","mas-TZ":"\xa4#,##0.00;(\xa4#,##0.00)",mer:"\xa4#,##0.00;(\xa4#,##0.00)",mfe:"\xa4\xa0#,##0.00",mg:"\xa4#,##0.00",mgh:"\xa4\xa0#,##0.00",mgo:"\xa4\xa0#,##0.00",mi:"\xa4\xa0#,##0.00",mk:"#,##0.00\xa0\xa4",ml:"\xa4#,##0.00;(\xa4#,##0.00)",mn:"\xa4\xa0#,##0.00",mr:"\xa4#,##0.00;(\xa4#,##0.00)",ms:"\xa4#,##0.00;(\xa4#,##0.00)","ms-BN":"\xa4#,##0.00;(\xa4#,##0.00)","ms-SG":"\xa4#,##0.00;(\xa4#,##0.00)",mt:"\xa4#,##0.00",mua:"\xa4#,##0.00;(\xa4#,##0.00)",my:"\xa4\xa0#,##0.00",mzn:"\xa4\xa0#,##0.00",naq:"\xa4#,##0.00",nb:"\xa4\xa0#,##0.00","nb-SJ":"\xa4\xa0#,##0.00",nd:"\xa4#,##0.00;(\xa4#,##0.00)",nds:"\xa4\xa0#,##0.00","nds-NL":"\xa4\xa0#,##0.00",ne:"\xa4\xa0#,##,##0.00","ne-IN":"\xa4\xa0#,##,##0.00",nl:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-AW":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-BE":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-BQ":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-CW":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-SR":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-SX":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nmg:"#,##0.00\xa0\xa4",nn:"#,##0.00\xa0\xa4",nnh:"\xa4\xa0#,##0.00",nus:"\xa4#,##0.00;(\xa4#,##0.00)",nyn:"\xa4#,##0.00",om:"\xa4#,##0.00","om-KE":"\xa4#,##0.00",or:"\xa4#,##0.00;(\xa4#,##0.00)",os:"\xa4\xa0#,##0.00","os-RU":"\xa4\xa0#,##0.00",pa:"\xa4\xa0#,##0.00","pa-Arab":"\xa4\xa0#,##0.00","pa-Guru":"\xa4\xa0#,##0.00",pl:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",prg:"\xa4\xa0#,##0.00",ps:"\xa4#,##0.00;(\xa4#,##0.00)","ps-PK":"\xa4#,##0.00;(\xa4#,##0.00)",pt:"\xa4\xa0#,##0.00","pt-AO":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-CH":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-CV":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-GQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-GW":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-LU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-MO":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-MZ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-PT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-ST":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-TL":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",qu:"\xa4\xa0#,##0.00","qu-BO":"\xa4\xa0#,##0.00","qu-EC":"\xa4\xa0#,##0.00",rm:"#,##0.00\xa0\xa4",rn:"#,##0.00\xa4",ro:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ro-MD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",rof:"\xa4#,##0.00",root:"\xa4\xa0#,##0.00",ru:"#,##0.00\xa0\xa4","ru-BY":"#,##0.00\xa0\xa4","ru-KG":"#,##0.00\xa0\xa4","ru-KZ":"#,##0.00\xa0\xa4","ru-MD":"#,##0.00\xa0\xa4","ru-UA":"#,##0.00\xa0\xa4",rw:"\xa4\xa0#,##0.00",rwk:"#,##0.00\xa4",sah:"#,##0.00\xa0\xa4",saq:"\xa4#,##0.00;(\xa4#,##0.00)",sbp:"#,##0.00\xa4",sd:"\xa4\xa0#,##0.00",se:"#,##0.00\xa0\xa4","se-FI":"#,##0.00\xa0\xa4","se-SE":"#,##0.00\xa0\xa4",seh:"#,##0.00\xa4",ses:"#,##0.00\xa4",sg:"\xa4#,##0.00;\xa4-#,##0.00",shi:"#,##0.00\xa4","shi-Latn":"#,##0.00\xa4","shi-Tfng":"#,##0.00\xa4",si:"\xa4#,##0.00;(\xa4#,##0.00)",sk:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sl:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",smn:"#,##0.00\xa0\xa4",sn:"\xa4#,##0.00;(\xa4#,##0.00)",so:"\xa4#,##0.00;(\xa4#,##0.00)","so-DJ":"\xa4#,##0.00;(\xa4#,##0.00)","so-ET":"\xa4#,##0.00;(\xa4#,##0.00)","so-KE":"\xa4#,##0.00;(\xa4#,##0.00)",sq:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sq-MK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sq-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sr:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-BA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-ME":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-BA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-ME":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sv:"#,##0.00\xa0\xa4","sv-AX":"#,##0.00\xa0\xa4","sv-FI":"#,##0.00\xa0\xa4",sw:"\xa4\xa0#,##0.00","sw-CD":"\xa4\xa0#,##0.00","sw-KE":"\xa4\xa0#,##0.00","sw-UG":"\xa4\xa0#,##0.00",ta:"\xa4#,##0.00;(\xa4#,##0.00)","ta-LK":"\xa4#,##0.00;(\xa4#,##0.00)","ta-MY":"\xa4#,##0.00;(\xa4#,##0.00)","ta-SG":"\xa4#,##0.00;(\xa4#,##0.00)",te:"\xa4#,##0.00;(\xa4#,##0.00)",teo:"\xa4#,##0.00;(\xa4#,##0.00)","teo-KE":"\xa4#,##0.00;(\xa4#,##0.00)",tg:"#,##0.00\xa0\xa4",th:"\xa4#,##0.00;(\xa4#,##0.00)",ti:"\xa4#,##0.00","ti-ER":"\xa4#,##0.00",tk:"#,##0.00\xa0\xa4",to:"\xa4\xa0#,##0.00",tr:"\xa4#,##0.00;(\xa4#,##0.00)","tr-CY":"\xa4#,##0.00;(\xa4#,##0.00)",tt:"#,##0.00\xa0\xa4",twq:"#,##0.00\xa4",tzm:"#,##0.00\xa0\xa4",ug:"\xa4#,##0.00;(\xa4#,##0.00)",uk:"#,##0.00\xa0\xa4",ur:"\xa4#,##0.00;(\xa4#,##0.00)","ur-IN":"\xa4#,##0.00;(\xa4#,##0.00)",uz:"#,##0.00\xa0\xa4","uz-Arab":"\xa4\xa0#,##0.00","uz-Cyrl":"#,##0.00\xa0\xa4","uz-Latn":"#,##0.00\xa0\xa4",vai:"\xa4#,##0.00;(\xa4#,##0.00)","vai-Latn":"\xa4#,##0.00;(\xa4#,##0.00)","vai-Vaii":"\xa4#,##0.00;(\xa4#,##0.00)",vi:"#,##0.00\xa0\xa4",vo:"\xa4\xa0#,##0.00",vun:"\xa4#,##0.00",wae:"\xa4\xa0#,##0.00",wo:"\xa4\xa0#,##0.00",xh:"\xa4#,##0.00",xog:"#,##0.00\xa0\xa4",yav:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",yi:"\xa4\xa0#,##0.00",yo:"\xa4#,##0.00;(\xa4#,##0.00)","yo-BJ":"\xa4#,##0.00;(\xa4#,##0.00)",yue:"\xa4#,##0.00;(\xa4#,##0.00)","yue-Hans":"\xa4#,##0.00;(\xa4#,##0.00)","yue-Hant":"\xa4#,##0.00;(\xa4#,##0.00)",zgh:"#,##0.00\xa4",zh:"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-HK":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-MO":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-SG":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant-HK":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant-MO":"\xa4#,##0.00;(\xa4#,##0.00)",zu:"\xa4#,##0.00;(\xa4#,##0.00)"},t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;e.default={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cu:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nb:1,nds:1,nl:1,nmg:1,nn:1,nnh:1,nus:1,nyn:1,os:1,pcm:1,pl:1,prg:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vo:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1},t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(3),r=(i=n(123))&&i.__esModule?i:{default:i};function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=/[\u200E\u200F]/g,l=function(t){return function(e){if(!t.timeZoneName){var n=e.getFullYear(),i=String(n).length<3,r=i?n+400:n,a=new Date(Date.UTC(r,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()));return i&&a.setFullYear(n),h(a,(0,o.extend)({timeZone:"UTC"},t))}return h(e,t)}},u={};function h(t,e){return function(t){var e=r.default.locale()+"/"+JSON.stringify(t);return u[e]||(u[e]=new Intl.DateTimeFormat(r.default.locale(),t).format),u[e]}(e)(t).replace(s,"")}var c=function(t){return new Intl.NumberFormat(r.default.locale()).format(t)},d=function(){var t={};return function(e){if(!(e in t)){if("0"===c(0))return t[e]=!1,!1;t[e]={};for(var n=0;n<10;++n)t[e][c(n)]=n}return t[e]}}(),f=function(t){var e=d(r.default.locale());return e?t.split("").map((function(t){return t in e?String(e[t]):t})).join(""):t},p=function(t){return t.replace(/(\D)0+(\d)/g,"$1$2")},g=function(t){return t.replace("d\u2019","de ")},m={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(m,"shortdateshorttime",{get:function(){var t=Intl.DateTimeFormat(r.default.locale()).resolvedOptions();return{year:t.year,month:t.month,day:t.day,hour:"numeric",minute:"numeric"}}});var v=function(t){return"string"===typeof t&&m[t.toLowerCase()]},y={standalone:function(t,e){var n=new Date(1999,t,13,1);return l({month:e})(n)},format:function(t,e){var n=new Date(0,t,13,1),i=g(l({day:"numeric",month:e})(n)).split(" ").filter((function(t){return t.indexOf("13")<0}));return 1===i.length?i[0]:2===i.length?i[0].length>i[1].length?i[0]:i[1]:y.standalone(t,e)}},_={engine:function(){return"intl"},getMonthNames:function(t,e){var n={wide:"long",abbreviated:"short",narrow:"narrow"}[t||"wide"];return e="format"===e?e:"standalone",Array.apply(null,new Array(12)).map((function(t,i){return y[e](i,n)}))},getDayNames:function(t){return function(t){return Array.apply(null,new Array(7)).map((function(e,n){return l({weekday:t})(new Date(0,0,n))}))}({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[t||"wide"])},getPeriodNames:function(){var t=l({hour:"numeric",hour12:!0});return[1,13].map((function(e){var n=c(1),i=t(new Date(0,0,1,e)).split(n);return 2!==i.length?"":(i[0].length>i[1].length?i[0]:i[1]).trim()}))},format:function(t,e){if(t){if(!e)return t;"function"===typeof e||e.formatter||(e=e.type||e);var n=v(e);if(n)return l(n)(t);var i=a(e);return e.formatter||"function"===i||"string"===i?this.callBase.apply(this,arguments):l(e)(t)}},parse:function(t,e){var n,i=this;return e&&!e.parser&&"string"===typeof t&&(t=g(t),n=function(t){return g(i.format(t,e))}),this.callBase(t,n||e)},_parseDateBySimpleFormat:function(t,e){var n=this;t=f(t);var i=this.getFormatParts(e),o=t.split(/\D+/).filter((function(t){return t.length>0}));if(i.length===o.length){var r=this._generateDateArgs(i,o),a=function(i){var o,a,s=function(t,e){var n=e?12:0;return new Date(t.year,t.month,t.day,(t.hours+n)%24,t.minutes,t.seconds)}(r,i);if(o=f(n.format(s,e)),a=t,p(o)===p(a))return s};return a(!1)||a(!0)}},_generateDateArgs:function(t,e){var n=new Date,i={year:n.getFullYear(),month:n.getMonth(),day:n.getDate(),hours:0,minutes:0,seconds:0};return t.forEach((function(t,n){var o=e[n],r=parseInt(o,10);"month"===t&&(r-=1),i[t]=r})),i},formatUsesMonthName:function(t){return"object"!==a(t)||t.type||t.format?this.callBase.apply(this,arguments):"long"===t.month},formatUsesDayName:function(t){return"object"!==a(t)||t.type||t.format?this.callBase.apply(this,arguments):"long"===t.weekday},getFormatParts:function(t){if("string"===typeof t)return this.callBase(t);var e=(0,o.extend)({},m[t.toLowerCase()]),n=new Date(2001,2,4,5,6,7),i=l(e)(n);i=f(i);return[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map((function(t){return{name:t.name,index:i.indexOf(t.value)}})).filter((function(t){return t.index>-1})).sort((function(t,e){return t.index-e.index})).map((function(t){return t.name}))}};e.default=_,t.exports=e.default},function(t,e,n){"use strict";e.ColumnHeadersView=void 0;var i=r(n(22)),o=r(n(348));function r(t){return t&&t.__esModule?t:{default:t}}var a=o.default.views.columnHeadersView;e.ColumnHeadersView=a,i.default.registerModule("columnHeaders",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=c(n(7)),r=n(125),a=c(n(18)),s=n(2),l=n(5),u=n(3),h=n(174);function c(t){return t&&t.__esModule?t:{default:t}}var d={defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:r.ColumnsView.inherit(function(){var t=function(t,n,o){var r=(0,i.default)("<div>").addClass(t.addWidgetPrefix("text-content"));t.setAria("role","presentation",r),e(t,n,o.column,r);var a=t.option("showColumnLines"),s=t.getController("columns").getHeaderContentAlignment(o.column.alignment);return r[a||"right"===s?"appendTo":"prependTo"](n)};function e(t,e,n,i){var o=t._getIndicatorElements(e,!0),r=t._getIndicatorElements(e),a=o&&o.length,s=t._getColumnAlignment(n.alignment),l=".".concat(t._getIndicatorClassName("sort")),u=".".concat(t._getIndicatorClassName("sortIndex")),h=r.filter(l),c=r.children().filter(u);(i=i||e.children("."+t.addWidgetPrefix("text-content"))).toggleClass("dx-text-content-alignment-"+s,a>0).toggleClass("dx-text-content-alignment-"+("left"===s?"right":"left"),a>0&&"center"===n.alignment).toggleClass("dx-sort-indicator",!!h.length).toggleClass("dx-sort-index-indicator",!!c.length).toggleClass("dx-header-filter-indicator",!!r.filter("."+t._getIndicatorClassName("headerFilter")).length)}return{_createTable:function(){var t=this.callBase.apply(this,arguments);return o.default.on(t,"mousedown selectstart",this.createAction((function(t){var e=t.event;e.shiftKey&&e.preventDefault()}))),t},_isLegacyKeyboardNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate:function(e){var n=this;return function(i,o){var r=e.command?i:t(n,i,o),a="expand"!==e.command&&e.caption;a?r.text(a):e.command&&i.html("&nbsp;")}},_getHeaderTemplate:function(t){return t.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(t)}},_processTemplate:function(e,n){var i=this,o=n.column,r=i.callBase(e);return"header"===n.rowType&&r&&o.headerCellTemplate&&!o.command?{render:function(e){var n=t(i,e.container,e.model);r.render((0,u.extend)({},e,{container:n}))}}:r},_handleDataChanged:function(t){"refresh"===t.changeType&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(t,e){var n=this.callBase(t,e);return"header"===e.row.rowType&&(n.addClass("dx-cell-focus-disabled"),this._isLegacyKeyboardNavigation()||e.column&&!e.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n},_setCellAriaAttributes:function(t,e){this.callBase(t,e),"header"===e.rowType&&(this.setAria("role","columnheader",t),!e.column||e.column.command||e.column.isBand||(t.attr("id",e.column.headerId),this.setAria("label",a.default.format("dxDataGrid-ariaColumn")+" "+e.column.caption,t)))},_createRow:function(t){var e=this.callBase(t).toggleClass("dx-column-lines",this.option("showColumnLines"));return"header"===t.rowType&&(e.addClass("dx-header-row"),this._isLegacyKeyboardNavigation()||(0,h.registerKeyboardAction)("columnHeaders",this,e,"td",this._handleActionKeyDown.bind(this))),e},_handleActionKeyDown:function(t){var e=t.event,n=(0,i.default)(e.target);if(this._lastActionElement=e.target,n.is(".dx-header-filter")){var o=this.getController("headerFilter"),r=n.closest("td"),a=this.getColumnIndexByElement(r);a>=0&&o.showHeaderFilterMenu(a,!1)}else{var s=n.closest(".dx-row");this._processHeaderAction(e,s)}e.preventDefault()},_renderCore:function(){var t=this,e=t.element();(!t._tableElement||t._dataController.isLoaded()||t._hasRowElements)&&(e.addClass(t.addWidgetPrefix("headers")).toggleClass(t.addWidgetPrefix("nowrap"),!t.option("wordWrapEnabled")).empty(),t.setAria("role","presentation",e),t._updateContent(t._renderTable()),t.getRowCount()>1&&e.addClass("dx-header-multi-row"),t.callBase.apply(t,arguments))},_renderRows:function(){var t=this;(t._dataController.isLoaded()||t._hasRowElements)&&(t.callBase.apply(t,arguments),t._hasRowElements=!0)},_getRowVisibleColumns:function(t){return this._columnsController.getVisibleColumns(t)},_renderRow:function(t,e){e.columns=this._getRowVisibleColumns(e.row.rowIndex),this.callBase(t,e)},_createCell:function(t){var e=t.column,n=this.callBase.apply(this,arguments);return e.rowspan>1&&"header"===t.rowType&&n.attr("rowSpan",e.rowspan),n},_getRows:function(){var t=[],e=this.getRowCount();if(this.option("showColumnHeaders"))for(var n=0;n<e;n++)t.push({rowType:"header",rowIndex:n});return t},_getCellTemplate:function(t){if("header"===t.rowType)return this._getHeaderTemplate(t.column)},_columnOptionChanged:function(t){var e=t.changeTypes,n=t.optionNames;e.grouping?this._isGroupingChanged=!0:(this.callBase(t),(n.width||n.visible)&&this.resizeCompleted.fire())},_isElementVisible:function(t){return t&&t.visible},_alignCaptionByCenter:function(t){var e=this._getIndicatorContainer(t,!0);e&&e.length&&(e.filter(".dx-visibility-hidden").remove(),(e=this._getIndicatorContainer(t)).clone().addClass("dx-visibility-hidden").css("float","").insertBefore(t.children("."+this.addWidgetPrefix("text-content"))))},_updateCell:function(t,e){"header"===e.rowType&&"center"===e.column.alignment&&this._alignCaptionByCenter(t),this.callBase.apply(this,arguments)},_updateIndicator:function(t,n,i){var o=this.callBase.apply(this,arguments);return"center"===n.alignment&&this._alignCaptionByCenter(t),e(this,t,n),o},_getIndicatorContainer:function(t,e){var n=this.callBase(t);return e?n:n.filter(":not(.dx-visibility-hidden)")},_isSortableElement:function(){return!0},getHeadersRowHeight:function(){var t=this._getTableElement(),e=t&&t.find(".dx-header-row");return e&&e.toArray().reduce((function(t,e){return t+(0,i.default)(e).height()}),0)||0},getHeaderElement:function(t){var e=this.getColumnElements();return e&&e.eq(t)},getColumnElements:function(t,e){var n,o=this,r=o._columnsController,a=o.getRowCount();if(o.option("showColumnHeaders")){if(a>1&&(!(0,s.isDefined)(t)||(0,s.isDefined)(e))){var u=[],h=(0,s.isDefined)(e)?r.getChildrenByBandColumn(e,!0):r.getVisibleColumns();return(0,l.each)(h,(function(e,i){var a=(0,s.isDefined)(t)?t:r.getRowIndex(i.index);(n=o._getCellElement(a,r.getVisibleIndex(i.index,a)))&&u.push(n.get(0))})),(0,i.default)(u)}if(!t||t<a)return o.getCellElements(t||0)}},getColumnIndexByElement:function(t){var e=this.getCellIndex(t),n=t.closest(".dx-row")[0].rowIndex,i=this.getColumns(n)[e];return i?i.index:-1},getVisibleColumnIndex:function(t,e){var n=this.getColumns()[t];return n?this._columnsController.getVisibleIndex(n.index,e):-1},getColumnWidths:function(){var t=this.getColumnElements();return t&&t.length?this._getWidths(t):this.callBase.apply(this,arguments)},allowDragging:function(t,e,n){var i,o=0,r=t&&this._columnsController.getRowIndex(t.index),a=this.getColumns(0===r?0:null),s=(null===t||void 0===t?void 0:t.allowHiding)&&a.length>1,l=function(t){return t.allowReordering||t.allowGrouping||t.allowHiding};for(i=0;i<a.length;i++)l(a[i])&&o++;if(o<=1&&!s)return!1;if(!n)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&t&&t.allowReordering;for(i=0;i<n.length;i++){var u=n[i];if(u&&u.allowDragging(t,e))return!0}return!1},getBoundingRect:function(){var t=this.getColumnElements();return t&&t.length?{top:this._getTableElement().offset().top}:null},getName:function(){return"headers"},getColumnCount:function(){var t=this.getColumnElements();return t?t.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(t){switch(t.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),t.handled=!0;break;default:this.callBase(t)}},getHeight:function(){return this.getElementHeight()},getContextMenuItems:function(t){var e=this,n=t.column;if(t.row&&("header"===t.row.rowType||"detailAdaptive"===t.row.rowType)){var i=e.option("sorting");if(i&&"none"!==i.mode&&n&&n.allowSorting){var o=function(t){setTimeout((function(){e._columnsController.changeSortOrder(n.index,t.itemData.value)}))};return[{text:i.ascendingText,value:"asc",disabled:"asc"===n.sortOrder,icon:"context-menu-sort-asc",onItemClick:o},{text:i.descendingText,value:"desc",disabled:"desc"===n.sortOrder,icon:"context-menu-sort-desc",onItemClick:o},{text:i.clearText,value:"none",disabled:!n.sortOrder,icon:"context-menu-sort-none",onItemClick:o}]}}},getRowCount:function(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity:function(t,e,n){var i,o,r=this,a=r.getRowCount(),u=r._columnsController.getColumns(),h=u&&u[t],c=h&&h.isBand&&h.index,d=function(t,n){n.ownerBand===c&&(o.eq(t).css({opacity:e}),n.isBand&&r.setRowsOpacity(n.index,e,i+1))};if((0,s.isDefined)(c))for(i=n=n||0;i<a;i++)o=r.getCellElements(i),(0,l.each)(r.getColumns(i),d)}}}())}};e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},r=n(6),a=n(3),s=n(34);var l={_applyColumnState:function(t){var e,n=this.option("rtlEnabled"),i=this._getColumnAlignment(t.column.alignment,n),r=(0,a.extend)(!0,{columnAlignment:i},t),s=r.rootElement.hasClass("dx-group-panel-item"),l=this._createIndicatorContainer(r,s),u=(0,o.default)("<span>").addClass(this._getIndicatorClassName(t.name)),h=null===(e=this.component)||void 0===e?void 0:e.getController("columns"),c=(null===h||void 0===h?void 0:h.getHeaderContentAlignment(i))||i;return r.container=l,r.indicator=u,this._renderIndicator(r),l[!s&&t.showColumnLines||"left"!==c?"prependTo":"appendTo"](t.rootElement),u},_getIndicatorClassName:r.noop,_getColumnAlignment:function(t,e){return e=e||this.option("rtlEnabled"),t&&"center"!==t?t:(0,s.getDefaultAlignment)(e)},_createIndicatorContainer:function(t,e){var n=this._getIndicatorContainer(t.rootElement),i="left"===t.columnAlignment?"right":"left";return n.length||(n=(0,o.default)("<div>").addClass("dx-column-indicators")),this.setAria("role","presentation",n),n.css("float",t.showColumnLines&&!e?i:null)},_getIndicatorContainer:function(t){return t&&t.find(".dx-column-indicators")},_getIndicatorElements:function(t){var e=this._getIndicatorContainer(t);return e&&e.children()},_renderIndicator:function(t){var e=t.container,n=t.indicator;e&&n&&e.append(n)},_updateIndicators:function(t){var e,n=this.getColumns(),i=this.getColumnElements();if(i&&n.length===i.length)for(var o=0;o<n.length;o++){e=i.eq(o),this._updateIndicator(e,n[o],t);var r=e.parent().data("options");r&&r.cells&&(r.cells[e.index()].column=n[o])}},_updateIndicator:function(t,e,n){if(!e.command)return this._applyColumnState({name:n,rootElement:t,column:e,showColumnLines:this.option("showColumnLines")})}};e.default=l,t.exports=e.default},function(t,e,n){"use strict";var i=a(n(22)),o=a(n(351)),r=n(3);function a(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("columns",{defaultOptions:function(){return(0,r.extend)(!0,{},o.default.defaultOptions(),{commonColumnSettings:{allowExporting:!0}})},controllers:o.default.controllers})},function(t,e,n){"use strict";e.default=void 0;var i=T(n(1)),o=T(n(38)),r=T(n(86)),a=n(29),s=n(6),l=n(2),u=n(5),h=n(34),c=n(3),d=n(21),f=T(n(46)),p=n(114),g=T(n(25)),m=T(n(35)),v=T(n(31)),y=n(60),_=T(n(81)),b=T(n(75)),x=T(n(58)),w=T(n(18)),C=n(8),S=T(n(139)),k=n(107),E=n(93),I=T(n(122));function T(t){return t&&t.__esModule?t:{default:t}}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=["filterValues","filterType","fixed","fixedPosition"],P=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","selectedFilterOperation","added"].concat(O),A={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},R=Number.MAX_SAFE_INTEGER||9007199254740991,B=/columns\[(\d+)\]\.?/gi,N=1,F={defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:w.default.format("dxDataGrid-trueText"),falseText:w.default.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}},controllers:{columns:m.default.Controller.inherit(function(){var t={visible:!0,showInColumnChooser:!0},e={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},n={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},m=function(t){t.filterOperations=t.defaultFilterOperations},w=function(e,n,i,o){var r={};if(n){(0,l.isString)(n)&&(n={dataField:n}),e.setName(n);var a={};if(n.command)a=(0,p.deepExtendArraySafe)(r,n);else{r=e.getCommonSettings(n),i&&i.name&&i.dataField&&(n=(0,c.extend)({},n,{dataField:i.dataField}));var s=e._createCalculatedColumnOptions(n,o);n.type||(a={headerId:"dx-col-".concat(N++)}),a=(0,p.deepExtendArraySafe)(a,t),(0,p.deepExtendArraySafe)(a,r),(0,p.deepExtendArraySafe)(a,s),(0,p.deepExtendArraySafe)(a,n),(0,p.deepExtendArraySafe)(a,{selector:null})}return n.filterOperations===n.defaultFilterOperations&&m(a),a}},T=function t(e,n,i){var o=[];return n&&(0,u.each)(n,(function(n,r){var a=e._columnsUserState&&q(r,e._columnsUserState[n])&&e._columnsUserState[n],s=w(e,r,a,i);s&&(i&&(s.ownerBand=i),o.push(s),s.columns&&(o=o.concat(t(e,s.columns,s)),delete s.columns,s.hasColumns=!0))})),o},F=function(t,e){for(var n=[],i=e[t];i;)n.unshift(i),i=e[t=i.index];return n},L=function(t,e){var n,i=[],o=t.getBandColumnsCache(),r=function(t){return t.ownerBand===e.ownerBand};if(o.isPlain){var a=t._columns.indexOf(e);a>=0&&(i=["columns[".concat(a,"]")])}else for(n=t._columns.filter(r);n.length&&-1!==n.indexOf(e);)i.unshift("columns[".concat(n.indexOf(e),"]")),n=(e=o.columnParentByIndex[e.index])?t._columns.filter(r):[];return i.join(".")},V=function t(e,n){var i=0,o=e.getChildrenByBandColumn(n,!0);return(0,u.each)(o,(function(n,o){o.isBand?(o.colspan=o.colspan||t(e,o.index),i+=o.colspan||1):i+=1})),i},j=function(t){var e=(0,l.type)(t);return"string"!==e&&"boolean"!==e&&"number"!==e&&"date"!==e&&"object"!==e&&(e=void 0),e},z=function(t,e){switch(t){case"date":case"datetime":return _.default.getDateSerializationFormat(e);case"number":if((0,l.isString)(e))return"string";if((0,l.isNumeric)(e))return null}},H=function(t,e){t.deserializeValue||(v.default.isDateType(e)&&(t.deserializeValue=function(t){return _.default.deserializeDate(t)},t.serializeValue=function(t){return(0,l.isString)(t)?t:_.default.serializeDate(t,this.serializationFormat)}),"number"===e&&(t.deserializeValue=function(t){var e=parseFloat(t);return isNaN(e)?t:e},t.serializeValue=function(t,e){return"filter"===e?t:(0,l.isDefined)(t)&&"string"===this.serializationFormat?t.toString():t}))},W=function(t){return!0===t.value?this.trueText||"true":!1===t.value?this.falseText||"false":t.valueText||""},G=function(t){if("boolean"===t)return W},K=function(t){(0,u.each)(t._columns,(function(t,e){e.index=t})),(0,u.each)(t._columns,(function(t,e){(0,l.isObject)(e.ownerBand)&&(e.ownerBand=e.ownerBand.index)})),(0,u.each)(t._commandColumns,(function(t,e){e.index=-(t+1)}))},$=function(t,e){(0,d.normalizeIndexes)(t._columns,"groupIndex",e,(function(t){var e=t.grouped;return delete t.grouped,e}))},U=function(t,e,n){var i,o=(0,l.isObject)(e)?e.rowIndex:null,r="group"===n?t.getGroupColumns():"columnChooser"===n?t.getChooserColumns():t.getVisibleColumns(o);return e=(0,l.isObject)(e)?e.columnIndex:e,(i=r[e])&&"groupExpand"===i.type&&(i=t._columns.filter((function(t){return i.type===t.type}))[0]||i),i&&(0,l.isDefined)(i.index)?i.index:-1};function q(t,e){return t&&e&&(e.name===t.name||!t.name)&&(e.dataField===t.dataField||t.name)}var Y=function(t){var e,n,i,o=t._columnsUserState,r=t._ignoreColumnOptionNames||[],a=t._columns,s={},u=[],h=!0,c=[];function f(t,e){if(e)for(var n=0;n<P.length;n++){var i=P[n];(0,d.inArray)(i,r)>=0||("dataType"===i?t[i]=t[i]||e[i]:(0,d.inArray)(i,O)>=0?i in e&&(t[i]=e[i]):("selectedFilterOperation"===i&&e[i]&&(t.defaultSelectedFilterOperation=t[i]||null),t[i]=e[i]))}}function p(t,e){for(var n=e.name||e.dataField,i=s[n]||0,o=0;o<t.length;o++)if(q(e,t[o])){if(!i)return s[n]=s[n]||0,s[n]++,o;i--}return-1}if(o){for(i=0;i<a.length;i++)n=p(o,a[i]),h=h&&n>=0,c.push(n);for(i=0;i<a.length;i++)e=a[i],n=c[i],(t._hasUserState||h)&&f(e,o[n]),n>=0&&(0,l.isDefined)(o[n].initialIndex)?u[n]=e:u.push(e);var g=!1;for(i=0;i<o.length;i++){var m=o[i];m.added&&p(a,m)<0&&(f(e=w(t,m.added),m),u.push(e),m.added.columns&&(g=!0))}g&&(K(t),u=T(t,u)),J(t,u)}},X=function(t,e){K(t),$(t,e),function(t,e){(0,u.each)(t._columns,(function(t,e){(0,l.isDefined)(e.sortIndex)&&!ot(e.sortOrder)&&delete e.sortIndex})),(0,d.normalizeIndexes)(t._columns,"sortIndex",e,(function(t){return!(0,l.isDefined)(t.groupIndex)&&ot(t.sortOrder)}))}(t,e),dt(t),function(t,e){for(var n,i,o={},r=[],a=t.getBandColumnsCache(),s=t._columns.filter((function(t){return!t.command})),l=0;l<s.length;l++){i=s[l];var u=F(l,a.columnParentByIndex);if(u.length){var h=u[u.length-1].index;o[h]=o[h]||[],o[h].push(i)}else r.push(i)}for(n in o)(0,d.normalizeIndexes)(o[n],"visibleIndex",e);(0,d.normalizeIndexes)(r,"visibleIndex",e)}(t,e)},Z=function(t){t.resetColumnsCache()};function J(t,e){t._columns=e,Z(t),t.updateColumnDataTypes()}var Q=function(t,e,n,i){var o=t._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:i};n=(n=n||"all").split(".")[0];var r=o.changeTypes;e&&!r[e]&&(r[e]=!0,r.length++);var a=o.optionNames;n&&!a[n]&&(a[n]=!0,a.length++),void 0!==i&&i===o.columnIndex||delete o.columnIndex,t._columnChanges=o,Z(t)},tt=function(t){var e,n=t.option("onColumnsChanging"),i=t._columnChanges,o=["dataField","lookup","dataType","columns"];t.isInitialized()&&!t._updateLockCount&&i&&(n&&(t._updateLockCount++,n((0,c.extend)({component:t.component},i)),t._updateLockCount--),t._columnChanges=void 0,(e=i.optionNames)&&o.some((function(t){return e[t]}))?t.reinit():t.columnsChanged.fire(i))},et=function(t,e,n,i){if(n>=0)i>=0||(e.lastSortOrder=e.sortOrder);else{var o=t.option("sorting.mode"),r=e.lastSortOrder;if("single"===o)t._columns.some((function(t){return t!==e&&(0,l.isDefined)(t.sortIndex)}))&&(r=void 0);e.sortOrder=r}},nt=function(t,e){var n=e.value,i=e.optionName,o=e.prevValue,r=e.fullOptionName,a="".concat(r,".").concat(i);A[i]||t._skipProcessingColumnsChange===a||(t._skipProcessingColumnsChange=a,t.component._notifyOptionChanged(a,n,o),t._skipProcessingColumnsChange=!1)},it=function(t,e,i,o,r){var s,u,h,c=(0,a.compileGetter)(i),f=e.index;if(3===arguments.length)return c(e,{functionsAsIs:!0});var p=c(e,{functionsAsIs:!0});if(p!==o){"groupIndex"===i||"calculateGroupValue"===i?(u="grouping",et(t,e,o,p)):u="sortIndex"===i||"sortOrder"===i||"calculateSortValue"===i?"sorting":"columns";var g=(0,a.compileSetter)(i);g(e,o,{functionsAsIs:!0});var m=L(t,e);n[i]&&(X(t,e),o=c(e)),"name"!==i&&"allowEditing"!==i||t._checkColumns(),m&&nt(t,{fullOptionName:m,optionName:i,value:o,prevValue:p}),(0,l.isDefined)(p)||(0,l.isDefined)(o)||0===i.indexOf("buffer")||(r=!0),r?Z(t):((0,d.inArray)(i,P)<0&&"visibleWidth"!==i&&(s=t.option("columns"),h=t.getColumnByPath(m,s),(0,l.isString)(h)&&(h=s[f]={dataField:h}),h&&q(h,e)&&g(h,o,{functionsAsIs:!0})),Q(t,u,i,f))}};function ot(t){return"asc"===t||"desc"===t}var rt=function(t,e){var n=this.dataField.split("."),i=n.length-1;this.serializeValue&&(e=this.serializeValue(e));for(var o=0;o<i;o++){var r=n[o];t=t[r]=t[r]||{}}t[n[i]]=e},at=function(t,e){return!!t._columns.filter((function(t){return t.type===e.type})).length},st=function(t,e){var n=t.option("rtlEnabled");return e.command&&!at(t,e)||!e.fixedPosition?n?"right":"left":e.fixedPosition},lt=function(t,e,n,i){var o,r=this.getRowCount(),a=t[i]&&t[i].rowspan,s=e.filter((function(t){return t.type===n}));return t.forEach((function(e,i){e.type===n&&(o=i,a=t[i+1]?t[i+1].rowspan:r)})),a>1&&(s=(0,u.map)(s,(function(t){return(0,c.extend)({},t,{rowspan:a})}))),s.unshift.apply(s,(0,l.isDefined)(o)?[o,1]:[i,0]),t.splice.apply(t,s),a||1},ut=function(t,e){for(var n=t?t.toString():"0";n.length<e;)n="0"+n;return n},ht=function(t,e,n,i){for(var o,r,a=e.slice().map((function(t){return(0,c.extend)({},t)})),s=t._isColumnFixing(),l=n.slice().map((function(t){return(0,c.extend)({fixed:s},t)})),u=function(t){return n.reduce((function(e,n,o){var r=i&&"groupExpand"===t.type?"expand":t.type;return n.type===r||n.command===t.command?o:e}),-1)},h=function(t){return t.command!==n[r].command},d=0;d<e.length;d++)if(o=e[d],(r=o&&(o.type||o.command)?u(o):-1)>=0)if(i)a[d]=(0,c.extend)({fixed:s},n[r],o),"groupExpand"!==o.type&&(l=l.filter(h));else{var f={visibleIndex:o.visibleIndex,index:o.index,headerId:o.headerId,allowFixing:0===o.groupIndex,allowReordering:0===o.groupIndex,groupIndex:o.groupIndex};a[d]=(0,c.extend)({},o,n[r],"groupExpand"===o.type&&f)}return e.length&&i&&l.length&&(a=a.concat(l)),a},ct=function(t,e){return(0,l.isDefined)(e.fixed)||!e.type?e.fixed:t._isColumnFixing()},dt=function(t){t._bandColumnsCache=void 0},ft=function(t,e){var n,i=(0,l.isString)(e)&&e.substr(0,e.indexOf(":"));if(void 0!==e)return i&&(e=e.substr(i.length+1)),i?n=t.filter((function(t){return""+t[i]===e}))[0]:["index","name","dataField","caption"].some((function(i){return!!(n=t.filter((function(t){return t[i]===e}))[0])})),n};return{_getExpandColumnOptions:function(){return{type:"expand",command:"expand",width:"auto",cssClass:"dx-command-expand",allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}},_getFirstItems:function(t){var e,n=[];return t&&t.items().length>0&&(e=v.default.normalizeSortingInfo(t.group()).length,n=function t(e,n){if(!e||!n)return e;for(var i=0;i<e.length;i++){var o=t(e[i].items||e[i].collapsedItems,n-1);if(o&&o.length)return o}}(t.items(),e)||[]),n},_endUpdateCore:function(){!this._skipProcessingColumnsChange&&tt(this)},init:function(){var t=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!t,this._isColumnsFromOptions?(J(this,t?T(this,t):[]),Y(this)):J(this,this._columnsUserState?T(this,this._columnsUserState):this._columns),function(t){var e=t._getExpandColumnOptions();t.addCommandColumn(e)}(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0):X(this),this._checkColumns()},callbackNames:function(){return["columnsChanged"]},getColumnByPath:function(t,e){var n,i=[];return t.replace(B,(function(t,e){return i.push(parseInt(e)),""})),i.length&&(n=e?i.reduce((function(t,e){return t&&t.columns&&t.columns[e]}),{columns:e}):function(t,e){var n,i,o=function(t){var e=n?n.index:void 0;return t.ownerBand===e};if(t.getBandColumnsCache().isPlain)n=t._columns[e[0]];else{i=t._columns.filter(o);for(var r=0;r<e.length;r++)(n=i[e[r]])&&(i=t._columns.filter(o))}return n}(this,i)),n},optionChanged:function(t){var e;switch(t.name){case"adaptColumnWidthByRatio":t.handled=!0;break;case"dataSource":t.value===t.previousValue||this.option("columns")||Array.isArray(t.value)&&Array.isArray(t.previousValue)||(this._columns=[]);break;case"columns":e=this._skipProcessingColumnsChange,t.handled=!0,this._skipProcessingColumnsChange||(t.name===t.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(t),e=!0)),e&&this._updateRequireResize(t);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"editing":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":var n,i,o,r,a;t.handled=!0;var s="columnWidth"===t.fullName&&["width"],l=0===(null===(n=t.fullName)||void 0===n?void 0:n.indexOf("editing.popup")),u=0===(null===(i=t.fullName)||void 0===i?void 0:i.indexOf("editing.form")),h=0===(null===(o=t.fullName)||void 0===o?void 0:o.indexOf("editing.editRowKey")),c=0===(null===(r=t.fullName)||void 0===r?void 0:r.indexOf("editing.editColumnName")),d=0===(null===(a=t.fullName)||void 0===a?void 0:a.indexOf("editing.changes"));!l&&!u&&!h&&!d&&!c&&this.reinit(s);break;case"rtlEnabled":this.reinit();break;default:this.callBase(t)}},_columnOptionChanged:function(t){var e={},n=this.getColumnByPath(t.fullName),i=t.fullName.replace(B,"");n&&(i?e[i]=t.value:e=t.value,this._skipProcessingColumnsChange=t.fullName,this.columnOption(n.index,e),this._skipProcessingColumnsChange=!1)},_updateRequireResize:function(t){var e=this.component;"width"===t.fullName.replace(B,"")&&e._updateLockCount&&(e._requireResize=!0)},publicMethods:function(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]},applyDataSource:function(t,e){var n=t&&t.isLoaded();if(this._dataSource=t,!this._dataSourceApplied||0===this._dataSourceColumnsCount||e||this.option("regenerateColumnsByVisibleItems")){if(n){if(!this._isColumnsFromOptions){var i=function(t,e){for(var n,i=t._getFirstItems(e),o={},a=[],s=0;s<i.length;s++)if(i[s])for(n in i[s])(0,l.isFunction)(i[s][n])&&!r.default.isWrapped(i[s][n])||(o[n]=!0);for(n in o)if(0!==n.indexOf("__")){var u=w(t,n);a.push(u)}return a}(this,t);i.length&&(J(this,i),this._dataSourceColumnsCount=this._columns.length,Y(this))}return this.updateColumns(t,e)}this._dataSourceApplied=!1}else if(n&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(t))return Q(this,"columns"),tt(this),(new C.Deferred).reject().promise()},reset:function(){this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()},resetColumnsCache:function(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,dt(this)},reinit:function(t){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=t||null,this.init(),t&&(this._ignoreColumnOptionNames=null)},isInitialized:function(){return!!this._columns.length||!!this.option("columns")},isDataSourceApplied:function(){return this._dataSourceApplied},getCommonSettings:function(t){var e=(!t||!t.type)&&this.option("commonColumnSettings")||{},n=this.option("grouping")||{},i=this.option("groupPanel")||{};return(0,c.extend)({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:n.autoExpandAll,allowCollapsing:n.allowCollapsing,allowGrouping:i.allowColumnDragging&&i.visible||n.contextMenuEnabled},e)},isColumnOptionUsed:function(t){for(var e=0;e<this._columns.length;e++)if(this._columns[e][t])return!0},isAllDataTypesDefined:function(t){var e=this._columns;if(!e.length)return!1;for(var n=0;n<e.length;n++)if((e[n].dataField||e[n].calculateCellValue!==e[n].defaultCalculateCellValue)&&(!e[n].dataType||t&&e[n].deserializeValue&&void 0===e[n].serializationFormat))return!1;return!0},getColumns:function(){return this._columns},isBandColumnsUsed:function(){return this.getColumns().some((function(t){return t.isBand}))},getGroupColumns:function(){var t=[];return(0,u.each)(this._columns,(function(){(0,l.isDefined)(this.groupIndex)&&(t[this.groupIndex]=this)})),t},getVisibleColumns:function(t){return this._visibleColumns=this._visibleColumns||this._getVisibleColumnsCore(),t=(0,l.isDefined)(t)?t:this._visibleColumns.length-1,this._visibleColumns[t]||[]},getFixedColumns:function(t){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),t=(0,l.isDefined)(t)?t:this._fixedColumns.length-1,this._fixedColumns[t]||[]},getFilteringColumns:function(){return this.getColumns().filter((function(t){return(t.dataField||t.name)&&(t.allowFiltering||t.allowHeaderFiltering)})).map((function(t){var e=(0,c.extend)(!0,{},t);return(0,l.isDefined)(e.dataField)||(e.dataField=e.name),e.filterOperations=t.filterOperations!==t.defaultFilterOperations?e.filterOperations:null,e}))},getColumnIndexOffset:function(){return 0},_getFixedColumnsCore:function(){var t,e,n,i=[],o=this.getRowCount(),r={command:"transparent"},a=0;if(this._isColumnFixing())for(var s=0;s<=o;s++){t=0,n=null,e=null;for(var u=this.getVisibleColumns(s,!0),h=0;h<u.length;h++){var c=u[h-1],d=u[h];d.fixed?c&&c.fixed&&st(this,c)!==st(this,d)?(0,l.isDefined)(e)||(e=h):n=d.fixedPosition:(0===s&&(d.isBand&&d.colspan?a+=d.colspan:a++),t++,(0,l.isDefined)(e)||(e=h))}if(0===s&&(0===t||t>=u.length))return[];(0,l.isDefined)(e)||(e="right"===n?0:u.length),i[s]=u.slice(0),r.colspan||(r.colspan=a),i[s].splice(e,t,r)}return i.map((function(t){return t.map((function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return e.headerId&&(e.headerId+="-fixed"),e}))}))},_isColumnFixing:function(){var t=this.option("columnFixing.enabled");return!t&&(0,u.each)(this._columns,(function(e,n){if(n.fixed)return t=!0,!1})),t},_getExpandColumnsCore:function(){return this.getGroupColumns()},getExpandColumns:function(){var t,e=this._getExpandColumnsCore(),n=e.filter((function(t){return 0===t.groupIndex}))[0],i=n&&n.fixed,o=this._isColumnFixing();return e.length&&(t=this.columnOption("command:expand")),e=(0,u.map)(e,(function(e){return(0,c.extend)({},e,{visibleWidth:null,minWidth:null,cellTemplate:(0,l.isDefined)(e.groupIndex)?null:e.cellTemplate,headerCellTemplate:null,fixed:!(!(0,l.isDefined)(e.groupIndex)||!i)||o},t,{index:e.index,type:e.type||"groupExpand"})}))},getBandColumnsCache:function(){if(!this._bandColumnsCache){var t=this._columns,e={},n={},i=!0;t.forEach((function(o){var r=o.ownerBand,a=t[r];o.hasColumns&&(i=!1),o.colspan&&(o.colspan=void 0),o.rowspan&&(o.rowspan=void 0),a?n[o.index]=a:r=-1,e[r]=e[r]||[],e[r].push(o)})),this._bandColumnsCache={isPlain:i,columnChildrenByIndex:e,columnParentByIndex:n}}return this._bandColumnsCache},_isColumnVisible:function(t){return t.visible&&this.isParentColumnVisible(t.index)},_getVisibleColumnsCore:function(){var t,e,n=this,i=[],o=0,r=0,a=n.getRowCount(),s=[],h=[],c=0,d=n.option("rtlEnabled"),f=n.getBandColumnsCache(),g=ht(n,n.getExpandColumns(),n._columns),m=ht(n,n._columns,n._commandColumns,!0),v=function(t){var e;for(e=0;t>1;e++)t/=10;return e}(m.length);for(function(t,e,n){for(var i,o=0;o<e.length;o++){var r=e[o];(r.visible||r.command)&&(r.isBand&&(r.colspan=r.colspan||V(t,r.index)),r.isBand&&r.colspan||(i=t.getRowCount(),r.command||(0,l.isDefined)(r.groupIndex)&&!r.showWhenGrouped||(i-=F(r.index,n.columnParentByIndex).length),i>1&&(r.rowspan=i)))}}(n,m,f),t=0;t<a;t++)i[t]=[],h[t]=[{}],s[t]=[{},{},{}];return(0,u.each)(m,(function(){var i,o=this.visibleIndex,r=F(this.index,f.columnParentByIndex);if(n._isColumnVisible(this)&&(!(0,l.isDefined)(this.groupIndex)||this.showWhenGrouped)){var a=r.length;if(o<0?(o=-o,i=h[a]):(this.fixed=r.length?r[0].fixed:this.fixed,this.fixedPosition=r.length?r[0].fixedPosition:this.fixedPosition,this.fixed?(e="right"===this.fixedPosition,!d||this.command&&!at(n,this)||(e=!e),i=e?s[a][2]:s[a][0]):i=s[a][1]),r.length)for(o=ut(o,v),t=r.length-1;t>=0;t--)o=ut(r[t].visibleIndex,v)+o;i[o]=i[o]||[],i[o].push(this),c++}})),(0,u.each)(i,(function(t){(0,p.orderEach)(h[t],(function(e,n){i[t].unshift.apply(i[t],n)}));var e=i[t].length;(0,u.each)(s[t],(function(e,n){(0,p.orderEach)(n,(function(e,n){i[t].push.apply(i[t],n)}))})),r<t+1&&(r+=lt.call(n,i[t],g,"detailExpand",e)),o<t+1&&(o+=lt.call(n,i[t],g,"groupExpand",e))})),i.push(function t(e,n,i){var o=[];return e[n=n||0]&&(0,u.each)(e[n],(function(r,a){a.ownerBand!==i&&"groupExpand"!==a.type||(a.isBand&&a.colspan?o.push.apply(o,t(e,n+1,a.index)):(!a.command||n<1)&&o.push(a))})),o}(i)),!c&&n._columns.length&&i[a].push({command:"empty"}),i},getInvisibleColumns:function(t,e){var n,i=this,o=[];return t=t||i._columns,(0,u.each)(t,(function(t,r){r.ownerBand===e&&(r.isBand?(n=r.visible?i.getInvisibleColumns(i.getChildrenByBandColumn(r.index),r.index):i.getChildrenByBandColumn(r.index)).length&&(o.push(r),o=o.concat(n)):r.visible||o.push(r))})),o},getChooserColumns:function(t){var e=t?this.getColumns():this.getInvisibleColumns();return(0,s.grep)(e,(function(t){return t.showInColumnChooser}))},allowMoveColumn:function(t,e,n,i){var o=U(this,t,n),r=this._columns[o];return!(!r||!(r.allowReordering||r.allowGrouping||r.allowHiding))&&(n===i?"columnChooser"!==n&&((t=(0,l.isObject)(t)?t.columnIndex:t)!==(e=(0,l.isObject)(e)?e.columnIndex:e)&&t+1!==e):"group"===n&&"columnChooser"!==i||"group"===i?r&&r.allowGrouping:"columnChooser"!==n&&"columnChooser"!==i||r&&r.allowHiding)},moveColumn:function(t,e,n,i){var o,r,a={},s=U(this,t,n),u=U(this,e,i);if(s>=0){var h=this._columns[s];if(e=(0,l.isObject)(e)?e.columnIndex:e,r=u>=0?this._columns[u].groupIndex:-1,(0,l.isDefined)(h.groupIndex)&&"group"===n&&(r>h.groupIndex&&r--,"group"!==i?a.groupIndex=void 0:(o=h.groupIndex,delete h.groupIndex,$(this))),"group"===i)a.groupIndex=function(t,e,n){var i,o=t.getGroupColumns();if(n>=0)for(i=0;i<o.length;i++)o[i].groupIndex>=n&&o[i].groupIndex++;else for(n=0,i=0;i<o.length;i++)n=Math.max(n,o[i].groupIndex+1);return n}(this,0,r),h.groupIndex=o;else if(e>=0){var c=this._columns[u];c&&h.ownerBand===c.ownerBand?ct(this,h)^ct(this,c)?a.visibleIndex=R:a.visibleIndex=c.visibleIndex:a.visibleIndex=R}var d="columnChooser"!==i;h.visible!==d&&(a.visible=d),this.columnOption(h.index,a)}},changeSortOrder:function(t,e){var n={},i=this.option("sorting"),o=i&&i.mode,r="single"===o||!e,a="single"===o||"multiple"===o,s=this._columns[t];a&&s&&s.allowSorting&&(r&&!(0,l.isDefined)(s.groupIndex)&&(0,u.each)(this._columns,(function(e){e!==t&&this.sortOrder&&((0,l.isDefined)(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)})),ot(e)?s.sortOrder!==e&&(n.sortOrder=e):"none"===e?s.sortOrder&&(n.sortIndex=void 0,n.sortOrder=void 0):function(t){if("ctrl"===e){if(!("sortOrder"in t)||!("sortIndex"in t))return!1;n.sortOrder=void 0,n.sortIndex=void 0}else(0,l.isDefined)(t.groupIndex)||(0,l.isDefined)(t.sortIndex)?n.sortOrder="desc"===t.sortOrder?"asc":"desc":n.sortOrder="asc"}(s)),this.columnOption(s.index,n)},getSortDataSourceParameters:function(t){var e=[],n=[];return(0,u.each)(this._columns,(function(){(this.dataField||this.selector||this.calculateCellValue)&&(0,l.isDefined)(this.sortIndex)&&!(0,l.isDefined)(this.groupIndex)&&(e[this.sortIndex]=this)})),(0,u.each)(e,(function(){if(ot(this&&this.sortOrder)){var e={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||t&&this.selector||this.dataField||this.calculateCellValue,desc:"desc"===this.sortOrder};this.sortingMethod&&(e.compare=this.sortingMethod.bind(this)),n.push(e)}})),n.length>0?n:null},getGroupDataSourceParameters:function(t){var e=[];return(0,u.each)(this.getGroupColumns(),(function(){var n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||t&&this.selector||this.dataField||this.calculateCellValue;if(n){var i={selector:n,desc:"desc"===this.sortOrder,isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),e.push(i)}})),e.length>0?e:null},refresh:function(t){var e=[];return(0,u.each)(this._columns,(function(){var n=this.lookup;if(n&&!this.calculateDisplayValue){if(t&&n.valueMap)return;n.update&&e.push(n.update())}})),C.when.apply(i.default,e).done(Z.bind(null,this))},_updateColumnOptions:function(t,n){t.selector=t.selector||function(e){return t.calculateCellValue(e)},(0,u.each)(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(function(e,i){var o=t[i];(0,l.isFunction)(o)&&!o.originalCallback&&(t[i]=function(e){return o.call(t,e)},t[i].originalCallback=o,t[i].columnIndex=n)})),(0,l.isString)(t.calculateDisplayValue)&&(t.displayField=t.calculateDisplayValue,t.calculateDisplayValue=(0,a.compileGetter)(t.displayField)),t.calculateDisplayValue&&(t.displayValueMap=t.displayValueMap||{}),H(t,t.dataType);var i=t.lookup;i&&H(i,i.dataType);var o=i?i.dataType:t.dataType;o&&(t.alignment=t.alignment||function(t,e){switch(t){case"number":return"right";case"boolean":return"center";default:return(0,h.getDefaultAlignment)(e)}}(o,this.option("rtlEnabled")),t.format=t.format||v.default.getFormatByDataType(o),t.customizeText=t.customizeText||G(o),t.defaultFilterOperations=t.defaultFilterOperations||!i&&e[o]||[],(0,l.isDefined)(t.filterOperations)||m(t),t.defaultFilterOperation=t.filterOperations&&t.filterOperations[0]||"=",t.showEditorAlways=(0,l.isDefined)(t.showEditorAlways)?t.showEditorAlways:"boolean"===o&&!t.cellTemplate)},updateColumnDataTypes:function(t){var e=this,n=e.option("dateSerializationFormat"),i=e._getFirstItems(t),o=!1;return(0,u.each)(e._columns,(function(t,r){var a,s,l,u,h,c=r.lookup;if(v.default.isDateType(r.dataType)&&void 0===r.serializationFormat&&(r.serializationFormat=n),c&&v.default.isDateType(c.dataType)&&void 0===r.serializationFormat&&(c.serializationFormat=n),r.calculateCellValue&&i.length){if(!r.dataType||c&&!c.dataType){for(a=0;a<i.length;a++)s=r.calculateCellValue(i[a]),r.dataType||(h=j(s),(l=l||h)&&h&&l!==h&&(l="string")),c&&!c.dataType&&(h=j(v.default.getDisplayValue(r,s,i[a])),(u=u||h)&&h&&u!==h&&(u="string"));(l||u)&&(l&&(r.dataType=l),c&&u&&(c.dataType=u),o=!0)}if(void 0===r.serializationFormat||c&&void 0===c.serializationFormat)for(a=0;a<i.length;a++)s=r.calculateCellValue(i[a],!0),void 0===r.serializationFormat&&(r.serializationFormat=z(r.dataType,s)),c&&void 0===c.serializationFormat&&(c.serializationFormat=z(c.dataType,c.calculateCellValue(s,!0)))}e._updateColumnOptions(r,t)})),o},_customizeColumns:function(t){var e=this.option("customizeColumns");e&&(t.some((function(t){return(0,l.isObject)(t.ownerBand)}))&&X(this),e(t),J(this,T(this,t)))},updateColumns:function(t,e){var n=this;if(e||this.updateSortingGrouping(t),!t||t.isLoaded()){var i=t?t.sort()||[]:this.getSortDataSourceParameters(),o=t?t.group()||[]:this.getGroupDataSourceParameters(),r=null===t||void 0===t?void 0:t.lastLoadOptions().filter;this._customizeColumns(this._columns),X(this);var a=this._columns;return(0,C.when)(this.refresh(!0)).always((function(){n._columns===a&&(n._updateChanges(t,{sorting:i,grouping:o,filtering:r}),tt(n))}))}},_updateChanges:function(t,e){t&&(this.updateColumnDataTypes(t),this._dataSourceApplied=!0),v.default.equalSortParameters(e.sorting,this.getSortDataSourceParameters())||Q(this,"sorting"),v.default.equalSortParameters(e.grouping,this.getGroupDataSourceParameters())||Q(this,"grouping");var n=this.getController("data");n&&!v.default.equalFilterParameters(e.filtering,n.getCombinedFilter())&&Q(this,"filtering"),Q(this,"columns")},updateSortingGrouping:function(t,e){var n,i,o=this,r=function(t,e,n){(0,u.each)(t,(function(t,i){if(delete i[n],e)for(var o=0;o<e.length;o++){var r=e[o].selector,a=e[o].isExpanded;if(r===i.dataField||r===i.name||r===i.selector||r===i.calculateCellValue||r===i.calculateGroupValue||r===i.calculateDisplayValue){i.sortOrder=i.sortOrder||(e[o].desc?"desc":"asc"),void 0!==a&&(i.autoExpandGroup=a),i[n]=o;break}}}))};if(t){n=v.default.normalizeSortingInfo(t.sort());var a=v.default.normalizeSortingInfo(t.group()),s=o.getGroupDataSourceParameters(),l=o.getSortDataSourceParameters();o._columns.length||((0,u.each)(a,(function(t,e){o._columns.push(e.selector)})),(0,u.each)(n,(function(t,e){o._columns.push(e.selector)})),J(o,T(o,o._columns))),!e&&(s||o._hasUserState)||v.default.equalSortParameters(a,s)||(r(o._columns,a,"groupIndex"),e&&(Q(o,"grouping"),i=!0)),!e&&(l||o._hasUserState)||v.default.equalSortParameters(n,l)||(r(o._columns,n,"sortIndex"),e&&(Q(o,"sorting"),i=!0)),i&&tt(o)}},updateFilter:function(t,e,n,i){if(!Array.isArray(t))return t;if(n=void 0!==(t=(0,c.extend)([],t)).columnIndex?t.columnIndex:n,i=void 0!==t.filterValue?t.filterValue:i,(0,l.isString)(t[0])&&"!"!==t[0]){var o=this.columnOption(t[0]);e?(0,f.default)().forceIsoDateParsing&&o&&o.serializeValue&&t.length>1&&(t[t.length-1]=o.serializeValue(t[t.length-1],"filter")):o&&o.selector&&(t[0]=o.selector,t[0].columnIndex=o.index)}else(0,l.isFunction)(t[0])&&(t[0].columnIndex=n,t[0].filterValue=i);for(var r=0;r<t.length;r++)t[r]=this.updateFilter(t[r],e,n,i);return t},columnCount:function(){return this._columns?this._columns.length:0},columnOption:function(t,e,n,i){var o=this,r=o._columns.concat(o._commandColumns),a=ft(r,t);if(a){if(1===arguments.length)return(0,c.extend)({},a);if((0,l.isString)(e)){if(2===arguments.length)return it(o,a,e);it(o,a,e,n,i)}else(0,l.isObject)(e)&&(0,u.each)(e,(function(t,e){it(o,a,t,e,i)}));tt(o)}},clearSorting:function(){var t=this.columnCount();this.beginUpdate();for(var e=0;e<t;e++)this.columnOption(e,"sortOrder",void 0);this.endUpdate()},clearGrouping:function(){var t=this.columnCount();this.beginUpdate();for(var e=0;e<t;e++)this.columnOption(e,"groupIndex",void 0);this.endUpdate()},getVisibleIndex:function(t,e){for(var n=this.getVisibleColumns(e),i=n.length-1;i>=0;i--)if(n[i].index===t)return i;return-1},getVisibleColumnIndex:function(t,e){var n=this.columnOption(t,"index");return this.getVisibleIndex(n,e)},addColumn:function(t){var e=w(this,t),n=this._columns.length;this._columns.push(e),e.isBand&&(this._columns=T(this,this._columns),e=this._columns[n]),e.added=t,X(this,e),this.updateColumns(this._dataSource),this._checkColumns()},deleteColumn:function(t){var e,n=this.columnOption(t);if(n&&n.index>=0){if((e=this._columns).forEach((function(t){(0,l.isDefined)(t.ownerBand)&&(t.ownerBand=e[t.ownerBand])})),this._columns.splice(n.index,1),n.isBand){var i=this.getChildrenByBandColumn(n.index).map((function(t){return t.index}));this._columns=this._columns.filter((function(t){return i.indexOf(t.index)<0}))}X(this),this.updateColumns(this._dataSource)}},addCommandColumn:function(t){var e=this._commandColumns.filter((function(e){return e.command===t.command}))[0];e||(e=t,this._commandColumns.push(e))},getUserState:function(){var t,e=this._columns,n=[];function i(i,o){void 0!==e[t][o]&&(n[t][o]=e[t][o])}for(t=0;t<e.length;t++)n[t]={},(0,u.each)(P,i);return n},setName:function(t){var e=t.dataField;!(0,l.isDefined)(t.name)&&(0,l.isDefined)(e)&&(t.name=e)},setUserState:function(t){var e=this._dataSource,n=this.option("stateStoring.ignoreColumnOptionNames");if(null===t||void 0===t||t.forEach(this.setName),!n){n=[];var i=this.getCommonSettings();this.option("columnChooser.enabled")||n.push("visible"),"none"===this.option("sorting.mode")&&n.push("sortIndex","sortOrder"),i.allowGrouping||n.push("groupIndex"),i.allowFixing||n.push("fixed","fixedPosition"),i.allowResizing||n.push("width","visibleWidth");var o=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&o&&n.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&o&&n.push("filterValues","filterType")}this._columnsUserState=t,this._ignoreColumnOptionNames=n,this._hasUserState=!!t,Q(this,"filtering"),this.init(),e&&(e.sort(this.getSortDataSourceParameters()),e.group(this.getGroupDataSourceParameters()))},_checkColumns:function(){var t={},e=!1,n=!1;this._columns.forEach((function(i){var o,r=i.name,a=null===(o=i.columns)||void 0===o?void 0:o.length,s=i.allowEditing&&(i.dataField||i.setCellValue)&&!a;r?(t[r]&&(n=!0),t[r]=!0):s&&(e=!0)})),n&&g.default.log("E1059"),e&&g.default.log("E1060")},_createCalculatedColumnOptions:function(t,e){var n={},i=t.dataField;if((Array.isArray(t.columns)&&t.columns.length||t.isBand)&&(n.isBand=!0,i=null),i){if((0,l.isString)(i)){var s=(0,a.compileGetter)(i);n={caption:(0,y.captionize)(i),calculateCellValue:function(t,e){var n=s(t);return this.deserializeValue&&!e?this.deserializeValue(n):n},setCellValue:rt,parseValue:function(t){var e,n;return"number"===this.dataType?(0,l.isString)(t)&&this.format?(n=b.default.parse(t),(0,l.isNumeric)(n)&&(e=n)):(0,l.isDefined)(t)&&(0,l.isNumeric)(t)&&(e=Number(t)):"boolean"===this.dataType?t===this.trueText?e=!0:t===this.falseText&&(e=!1):v.default.isDateType(this.dataType)?(n=x.default.parse(t,this.format))&&(e=n):e=t,e}}}n.allowFiltering=!0}else n.allowFiltering=!!t.calculateFilterExpression;return n.calculateFilterExpression=function(){return I.default.defaultCalculateFilterExpression.apply(this,arguments)},n.createFilterExpression=function(t){var e;return this.calculateFilterExpression&&(e=this.calculateFilterExpression.apply(this,arguments)),(0,l.isFunction)(e)&&(e=[e,"=",!0]),e&&(e.columnIndex=this.index,e.filterValue=t),e},i&&(0,l.isString)(i)||(0,c.extend)(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),e&&(n.allowFixing=!1),t.dataType&&(n.userDataType=t.dataType),t.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=t.selectedFilterOperation),t.lookup&&(n.lookup={calculateCellValue:function(t,e){return this.valueExpr&&(t=this.valueMap&&this.valueMap[t]),this.deserializeValue&&!e?this.deserializeValue(t):t},updateValueMap:function(){if(this.valueMap={},this.items)for(var t=(0,a.compileGetter)(this.valueExpr),e=(0,a.compileGetter)(this.displayExpr),n=0;n<this.items.length;n++){var i=this.items[n],o=e(i);this.valueMap[t(i)]=o,this.dataType=this.dataType||j(o)}},update:function(){var t=this,e=t.dataSource;if(e)if((0,l.isFunction)(e)&&!r.default.isWrapped(e)&&(e=e({})),(0,l.isPlainObject)(e)||e instanceof S.default||Array.isArray(e)){if(t.valueExpr){var n=(0,E.normalizeDataSourceOptions)(e);return n.paginate=!1,(e=new k.DataSource(n)).load().done((function(e){t.items=e,t.updateValueMap&&t.updateValueMap()}))}}else g.default.log("E1016");else t.updateValueMap&&t.updateValueMap()}}),n.resizedCallbacks=(0,o.default)(),t.resized&&n.resizedCallbacks.add(t.resized.bind(t)),(0,u.each)(n,(function(t){if((0,l.isFunction)(n[t])&&0!==t.indexOf("default")){var e="default"+t.charAt(0).toUpperCase()+t.substr(1);n[e]=n[t]}})),n},getRowCount:function(){return this._rowCount=this._rowCount||function(t){var e=1,n=t.getBandColumnsCache().columnParentByIndex;return t._columns.forEach((function(t){var i=F(t.index,n),o=i.filter((function(t){return!t.visible}));t.visible&&!o.length&&(e=Math.max(e,i.length+1))})),e}(this),this._rowCount},getRowIndex:function(t,e){var n=this._columns[t],i=this.getBandColumnsCache();return n&&(e||n.visible&&!n.command&&!(0,l.isDefined)(n.groupIndex))?F(t,i.columnParentByIndex).length:0},getChildrenByBandColumn:function(t,e){var n=function t(e,n,i){var o=[],r=n[e];if(r)for(var a=0;a<r.length;a++){var s=r[a];(0,l.isDefined)(s.groupIndex)&&!s.showWhenGrouped||(o.push(s),i&&s.isBand&&(o=o.concat(t(s.index,n,i))))}return o}(t,this.getBandColumnsCache().columnChildrenByIndex,!e);return e?n.filter((function(t){return t.visible&&!t.command})).sort((function(t,e){return t.visibleIndex-e.visibleIndex})):n},isParentBandColumn:function(t,e){var n=!1,i=this._columns[t],o=this.getBandColumnsCache(),r=i&&F(t,o.columnParentByIndex);return r&&(0,u.each)(r,(function(t,i){if(i.index===e)return n=!0,!1})),n},isParentColumnVisible:function(t){var e=!0,n=this.getBandColumnsCache(),i=t>=0&&F(t,n.columnParentByIndex);return i&&(0,u.each)(i,(function(t,n){return e=e&&n.visible})),e},getColumnId:function(t){return t.command&&"groupExpand"===t.type?at(this,t)?"type:"+t.type:"command:"+t.command:t.index},getCustomizeTextByDataType:G,getHeaderContentAlignment:function(t){return this.option("rtlEnabled")?"left"===t?"right":"left":t}}}())}};e.default=F,t.exports=e.default},function(t,e,n){"use strict";e.create=a,e.enqueue=void 0;var i,o=(i=n(37))&&i.__esModule?i:{default:i},r=n(8);function a(t){var e=[],n=!1;function i(){for(;e.length;){n=!0;var t=e.shift()();if(void 0!==t){if(t.then)return void(0,r.when)(t).always(i);throw o.default.Error("E0015")}}n=!1}return{add:function(o,r){t?(e[0]&&r&&r(e[0]),e=[o]):e.push(o),n||i()},busy:function(){return n}}}var s=a().add;e.enqueue=s},function(t,e,n){"use strict";e.default=void 0;var i=n(93);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._counter=-1,this._deferreds={}}var e,n,r;return e=t,(n=[{key:"add",value:function(t){return this._counter++,this._deferreds[this._counter]=t,this._counter}},{key:"remove",value:function(t){return delete this._deferreds[t]}},{key:"cancel",value:function(t){return t in this._deferreds&&(this._deferreds[t].reject(i.CANCELED_TOKEN),!0)}},{key:"cancelAll",value:function(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}])&&o(e.prototype,n),r&&o(e,r),t}();e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(14),r=(i=n(64))&&i.__esModule?i:{default:i};var a=(0,o.getWindow)(),s={getXhr:function(){return new a.XMLHttpRequest}},l=(0,r.default)(s);e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.queryImpl=void 0;var i=r(n(140)),o=r(n(356));function r(t){return t&&t.__esModule?t:{default:t}}var a={array:i.default,remote:o.default};e.queryImpl=a},function(t,e,n){"use strict";e.default=void 0;var i=u(n(357)),o=u(n(69)),r=n(5),a=n(2),s=n(8),l=u(n(140));function u(t){return t&&t.__esModule?t:{default:t}}var h=function t(e,n,u){u=u||[],n=n||{};var h=function(t,e){return{name:t,args:e}},c=function(t){var c,d,f,p,g,m=new s.Deferred,v=function(t){var e=n.errorHandler;e&&e(t),o.default._errorHandler(t),m.reject(t)};function y(t){switch(t.name){case"sortBy":return g=[t.args],!0;case"thenBy":if(!g)throw o.default.errors.Error("E4004");return g.push(t.args),!0}return!1}try{c=n.adapter,(0,a.isFunction)(c)||(c=i.default[c]),d=c(n),f=[].concat(u).concat(t);var _=d.optimize;for(_&&_(f);f.length;){if(!y(p=f[0])){if(g){f.unshift(h("multiSort",[g])),g=null;continue}if("enumerate"!==String(p.name)&&(!d[p.name]||!1===d[p.name].apply(d,p.args)))break}f.shift()}!function(){var t=f[0],e=[];t&&"multiSort"===t.name&&(f.shift(),(0,r.each)(t.args[0],(function(){e.push(h(e.length?"thenBy":"sortBy",this))}))),f=e.concat(f)}(),d.exec(e).done((function(t,e){if(f.length){var i=(0,l.default)(t,{errorHandler:n.errorHandler});(0,r.each)(f,(function(){i=i[this.name].apply(i,this.args)})),i.done(m.resolve).fail(m.reject)}else m.resolve(t,e)})).fail(v)}catch(b){v(b)}return m.promise()},d={};return(0,r.each)(["sortBy","thenBy","filter","slice","select","groupBy"],(function(){var i=String(this);d[i]=function(){return t(e,n,u.concat(h(i,arguments)))}})),(0,r.each)(["count","min","max","sum","avg","aggregate","enumerate"],(function(){var t=String(this);d[t]=function(){return c.call(this,h(t,arguments))}})),d};e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;e.default={},t.exports=e.default},function(t,e,n){"use strict";e.DataController=void 0;var i=s(n(22)),o=s(n(25)),r=s(n(142)),a=s(n(360));function s(t){return t&&t.__esModule?t:{default:t}}var l=a.default.controllers.data.inherit({_getDataSourceAdapter:function(){return r.default},_getSpecificDataSourceOption:function(){var t=this.option("dataSource");return t&&!Array.isArray(t)&&this.option("keyExpr")&&o.default.log("W1011"),this.callBase()}});e.DataController=l,i.default.registerModule("data",{defaultOptions:a.default.defaultOptions,controllers:{data:l}})},function(t,e,n){"use strict";e.default=void 0;var i=d(n(38)),o=d(n(22)),r=n(6),a=n(2),s=n(5),l=n(3),u=d(n(141)),h=n(92),c=n(8);function d(t){return t&&t.__esModule?t:{default:t}}var f=o.default.Controller.inherit(function(){function t(e,n){if(e&&(e=e.slice(0),n))for(var i=0;i<e.length;i++)e[i]=(0,l.extend)({key:e[i].key},e[i]),e[i].items=t(e[i].items,n-1);return e}function e(t,e,n){var i={reload:!0,fullReload:!0};return e&&((i={sorting:!o.default.equalSortParameters(t.sort,e.sort),grouping:!o.default.equalSortParameters(t.group,e.group,!0),groupExpanding:!o.default.equalSortParameters(t.group,e.group)||e.groupExpand,filtering:!o.default.equalFilterParameters(t.filter,e.filter),pageIndex:t.pageIndex!==e.pageIndex,skip:t.skip!==e.skip,take:t.take!==e.take,fullReload:n}).reload=n||i.sorting||i.grouping||i.filtering,i.paging=i.pageIndex||i.take),i}function n(t){return t.cachedPagesData.pages[t.pageIndex]}return{init:function(t,e){var n=this;n._dataSource=t,n._remoteOperations=e||{},n._isLastPage=!t.isLastPage(),n._hasLastPage=!1,n._currentTotalCount=0,n._cachedPagesData={pages:{}},n._lastOperationTypes={},n._eventsStrategy=t._eventsStrategy,n._skipCorrection=0,n._isLoadingAll=!1,n.changed=(0,i.default)(),n.loadingChanged=(0,i.default)(),n.loadError=(0,i.default)(),n.customizeStoreLoadOptions=(0,i.default)(),n.changing=(0,i.default)(),n._dataChangedHandler=n._handleDataChanged.bind(n),n._dataLoadingHandler=n._handleDataLoading.bind(n),n._dataLoadedHandler=n._handleDataLoaded.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._loadErrorHandler=n._handleLoadError.bind(n),n._pushHandler=n._handlePush.bind(n),n._changingHandler=n._handleChanging.bind(n),t.on("changed",n._dataChangedHandler),t.on("customizeStoreLoadOptions",n._dataLoadingHandler),t.on("customizeLoadResult",n._dataLoadedHandler),t.on("loadingChanged",n._loadingChangedHandler),t.on("loadError",n._loadErrorHandler),t.on("changing",n._changingHandler),t.store().on("push",n._pushHandler),(0,s.each)(t,(function(t,e){!n[t]&&(0,a.isFunction)(e)&&(n[t]=function(){return this._dataSource[t].apply(this._dataSource,arguments)})}))},remoteOperations:function(){return this._remoteOperations},dispose:function(t){var e=this._dataSource,n=e.store();e.off("changed",this._dataChangedHandler),e.off("customizeStoreLoadOptions",this._dataLoadingHandler),e.off("customizeLoadResult",this._dataLoadedHandler),e.off("loadingChanged",this._loadingChangedHandler),e.off("loadError",this._loadErrorHandler),e.off("changing",this._changingHandler),n&&n.off("push",this._pushHandler),t||e.dispose()},refresh:function(t,e){var n=this._dataSource;e.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!n.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount:function(){this._currentTotalCount=0,this._skipCorrection=0},resetCache:function(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache:function(){this._cachedPagesData={pages:{}}},_needClearStoreDataCache:function(){var t=this.remoteOperations(),n=e(this._lastLoadOptions||{},{});return!Object.keys(t).every((function(e){return!n[e]||!t[e]}))},push:function(t,e){var n=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&(0,h.applyBatch)({keyInfo:n,data:this._cachedStoreData,changes:t}),e||this._applyBatch(t)},getDataIndexGetter:function(){var t=this;if(!this._dataIndexGetter){var e,n,i=this.store();this._dataIndexGetter=function(o){var a=n&&n!==t._cachedStoreData;if(!e||a){n=t._cachedStoreData||[],e={};for(var s=0;s<n.length;s++)e[(0,r.getKeyHash)(i.keyOf(n[s]))]=s}return e[(0,r.getKeyHash)(i.keyOf(o))]}}return this._dataIndexGetter},_getKeyInfo:function(){return this.store()},_applyBatch:function(t){var e=this,n=this._getKeyInfo(),i=this._dataSource,r=o.default.normalizeSortingInfo(this.group()).length;t=t.filter((function(t){return!i.paginate()||"insert"!==t.type||void 0!==t.index}));var a=function(){return r?e.itemsCount():e._items.length},s=a();(0,h.applyBatch)({keyInfo:n,data:this._items,changes:t,groupCount:r,useInsertIndex:!0}),(0,h.applyBatch)({keyInfo:n,data:i.items(),changes:t,groupCount:r,useInsertIndex:!0}),this._currentTotalCount>0&&(this._skipCorrection+=a()-s),t.splice(0,t.length)},_handlePush:function(t){this.push(t,!0)},_handleChanging:function(t){this.changing.fire(t),this._applyBatch(t.changes)},_needCleanCacheByOperation:function(t,e){var n=["filtering","sorting","paging"],i=n.indexOf(t);return(i>=0?n.slice(i):[t]).some((function(t){return e[t]}))},_customizeRemoteOperations:function(t,e){var n=this,i=n._cachedStoreData,o=n._cachedPagingData,r=n._cachedPagesData;(t.storeLoadOptions.filter&&!t.remoteOperations.filtering||t.storeLoadOptions.sort&&!t.remoteOperations.sorting)&&(t.remoteOperations={filtering:t.remoteOperations.filtering}),e.fullReload?(i=void 0,o=void 0,r={pages:{}}):(e.reload?(o=void 0,r={pages:{}}):(e.take||e.groupExpanding)&&(r={pages:{}}),(0,s.each)(e,(function(e,r){r&&n._needCleanCacheByOperation(e,t.remoteOperations)&&(i=void 0,o=void 0)}))),o&&(t.remoteOperations.paging=!1),t.cachedStoreData=i,t.cachedPagingData=o,t.cachedPagesData=r,t.isCustomLoading||(n._cachedStoreData=i,n._cachedPagingData=o,n._cachedPagesData=r)},_handleDataLoading:function(t){var n=this,i=n._dataSource,o=n._lastLoadOptions;n.customizeStoreLoadOptions.fire(t),t.delay=this.option("loadingTimeout"),t.originalStoreLoadOptions=t.storeLoadOptions,t.remoteOperations=(0,l.extend)({},this.remoteOperations());var r=!n.isLoaded()&&!n._isRefreshing;n.option("integrationOptions.renderedOnServer")&&!n.isLoaded()&&(t.delay=void 0);var a=(0,l.extend)({pageIndex:n.pageIndex()},t.storeLoadOptions),s=e(a,o,r);if(n._customizeRemoteOperations(t,s),!t.isCustomLoading){var u=n._isRefreshing;t.pageIndex=i.pageIndex(),t.lastLoadOptions=a,t.operationTypes=s,n._loadingOperationTypes=s,n._isRefreshing=!0,(0,c.when)(u||n._isRefreshed||n.refresh(t,s)).done((function(){n._lastOperationId===t.operationId&&(n._isRefreshed=!0,n.load().always((function(){n._isRefreshed=!1})))})).fail((function(){i.cancel(t.operationId)})).always((function(){n._isRefreshing=!1})),i.cancel(n._lastOperationId),n._lastOperationId=t.operationId,n._isRefreshing&&i.cancel(n._lastOperationId)}this._handleDataLoadingCore(t)},_handleDataLoadingCore:function(t){var e=t.remoteOperations;t.loadOptions={};var i=t.cachedPagesData.extra,o={filter:!e.filtering,sort:!e.sorting,group:!e.grouping,summary:!e.summary,skip:!e.paging,take:!e.paging,requireTotalCount:i&&"totalCount"in i||!e.paging};(0,s.each)(t.storeLoadOptions,(function(e,n){o[e]&&(t.loadOptions[e]=n,delete t.storeLoadOptions[e])})),i&&(t.extra=i),t.data=n(t)||t.cachedStoreData},_handleDataLoaded:function(e){var i=this,r=e.loadOptions,s=e.remoteOperations&&!e.remoteOperations.paging,h=e.cachedPagesData,d=e.storeLoadOptions,f=!1!==this.option("cacheEnabled")&&d,p=f&&!e.isCustomLoading&&h&&(!s||d.group)&&!this.option("legacyRendering"),g=f&&s,m=g&&!e.isCustomLoading;if(r){e.lastLoadOptions&&(this._lastLoadOptions=e.lastLoadOptions,Object.keys(e.operationTypes).forEach((function(t){i._lastOperationTypes[t]=i._lastOperationTypes[t]||e.operationTypes[t]}))),s&&(e.skip=r.skip,e.take=r.take,delete r.skip,delete r.take),r.group&&(r.group=e.group||r.group);var v=o.default.normalizeSortingInfo(d.group||r.group).length;p&&n(e)||(g&&e.cachedPagingData?e.data=t(e.cachedPagingData,v):(m&&(this._cachedStoreData?e.mergeStoreLoadData&&(e.data=this._cachedStoreData=this._cachedStoreData.concat(e.data)):this._cachedStoreData=t(e.data,o.default.normalizeSortingInfo(d.group).length)),new u.default(e.data).load(r).done((function(n){e.data=n,m&&(i._cachedPagingData=t(e.data,v))})).fail((function(t){e.data=(new c.Deferred).reject(t)}))),r.requireTotalCount&&s&&(e.extra=(0,a.isPlainObject)(e.extra)?e.extra:{},e.extra.totalCount=e.data.length),e.extra&&e.extra.totalCount>=0&&(!1===d.requireTotalCount||!1===r.requireTotalCount)&&(e.extra.totalCount=-1),this._handleDataLoadedCore(e),p&&(h.extra=h.extra||(0,l.extend)({},e.extra),(0,c.when)(e.data).done((function(n){!function(t,e){var n=t.pageIndex;void 0!==n&&(t.cachedPagesData.pages[n]=e)}(e,t(n,v))})))),e.storeLoadOptions=e.originalStoreLoadOptions}else this._dataSource.cancel(e.operationId)},_handleDataLoadedCore:function(t){t.remoteOperations&&!t.remoteOperations.paging&&Array.isArray(t.data)&&(void 0!==t.skip&&(t.data=t.data.slice(t.skip)),void 0!==t.take&&(t.data=t.data.slice(0,t.take)))},_handleLoadingChanged:function(t){this.loadingChanged.fire(t)},_handleLoadError:function(t){this.loadError.fire(t),this.changed.fire({changeType:"loadError",error:t})},_handleDataChanged:function(t){var e,n=this._dataSource,i=!1,o=this.itemsCount();this._isLastPage=!o||!this.pageSize()||o<this.pageSize(),this._isLastPage&&(this._hasLastPage=!0),n.totalCount()>=0?n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.pageIndex(n.pageIndex()),this.resetPagesCache(),n.load(),i=!0):t&&!(0,a.isDefined)(t.changeType)||(e=n.pageIndex()*this.pageSize()+o,this._currentTotalCount=Math.max(this._currentTotalCount,e),0===o&&n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),"infinite"!==this.option("scrolling.mode")&&(n.load(),i=!0))),i||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(t),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks:function(t){var e=this;e._isCustomLoading=!0,t.always((function(){e._isCustomLoading=!1}))},loadingOperationTypes:function(){return this._loadingOperationTypes},operationTypes:function(){return this._operationTypes},lastLoadOptions:function(){return this._lastLoadOptions||{}},isLastPage:function(){return this._isLastPage},totalCount:function(){return parseInt(this._currentTotalCount+this._skipCorrection||this._dataSource.totalCount())},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var t=this._dataSource;return arguments.length||t.paginate()?t.pageSize.apply(t,arguments):0},pageCount:function(){var t=this.totalItemsCount()-this._skipCorrection,e=this.pageSize();return e&&t>0?Math.max(1,Math.ceil(t/e)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore:function(t,e){var n=this._dataSource,i=new c.Deferred;if(n)return(e=e||n.store()).load(t).done((function(t,e){t&&!Array.isArray(t)&&Array.isArray(t.data)&&(e=t,t=t.data),i.resolve(t,e)})).fail(i.reject),i},isCustomLoading:function(){return!!this._isCustomLoading},load:function(t){var e,n,i=this,o=this,l=o._dataSource,u=new c.Deferred;if(t){var h=l.store(),d=l.loadOptions(),f={storeLoadOptions:t,isCustomLoading:!0};return(0,s.each)(h._customLoadOptions()||[],(function(t,e){e in f.storeLoadOptions||(f.storeLoadOptions[e]=d[e])})),this._isLoadingAll=t.isLoadingAll,o._scheduleCustomLoadCallbacks(u),l._scheduleLoadCallbacks(u),o._handleDataLoading(f),e=function(){if(!l.store())return u.reject("canceled");(0,c.when)(f.data||o.loadFromStore(f.storeLoadOptions)).done((function(e,n){f.data=e,f.extra=n||{},o._handleDataLoaded(f),t.requireTotalCount&&void 0===f.extra.totalCount&&(f.extra.totalCount=h.totalCount(f.storeLoadOptions)),(0,c.when)(f.data,f.extra.totalCount).done((function(t,e){f.extra.totalCount=e,u.resolve(t,f.extra)})).fail(u.reject)})).fail(u.reject)},n=o.option("loadingTimeout"),(0,a.isDefined)(n)?(0,r.executeAsync)(e,n):e(),u.fail((function(){o._eventsStrategy.fireEvent("loadError",arguments)})).always((function(){i._isLoadingAll=!1})).promise()}return l.load()},reload:function(t){return t?this._dataSource.reload():this._dataSource.load()},getCachedStoreData:function(){return this._cachedStoreData}}}());e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=m(n(1)),o=m(n(35)),r=m(n(31)),a=m(n(141)),s=m(n(175)),l=m(n(25)),u=n(6),h=n(5),c=n(2),d=n(3),f=m(n(143)),p=n(8),g=n(226);function m(t){return t&&t.__esModule?t:{default:t}}var v={defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}},controllers:{data:o.default.Controller.inherit({}).include(f.default).inherit(function(){var t=function(t,e,n){var i=t._dataSource;return i?void 0!==n?i[e]()!==n?("pageSize"===e&&i.pageIndex(0),i[e](n),t._skipProcessingPagingChange=!0,t.option("paging."+e,n),t._skipProcessingPagingChange=!1,i["pageIndex"===e?"load":"reload"]().done(t.pageChanged.fire.bind(t.pageChanged))):(0,p.Deferred)().resolve().promise():i[e]():0},e={init:function(){var t=this,e=this;e._items=[],e._columnsController=e.getController("columns"),e._currentOperationTypes=null,e._dataChangedHandler=function(n){e._currentOperationTypes=t._dataSource.operationTypes(),e._handleDataChanged(n),e._currentOperationTypes=null},e._columnsChangedHandler=e._handleColumnsChanged.bind(e),e._loadingChangedHandler=e._handleLoadingChanged.bind(e),e._loadErrorHandler=e._handleLoadError.bind(e),e._customizeStoreLoadOptionsHandler=e._handleCustomizeStoreLoadOptions.bind(e),e._changingHandler=e._handleChanging.bind(e),e._columnsController.columnsChanged.add(e._columnsChangedHandler),e._isLoading=!1,e._isCustomLoading=!1,e._repaintChangesOnly=void 0,e._changes=[],e.createAction("onDataErrorOccurred"),e.dataErrorOccurred.add((function(t){return e.executeAction("onDataErrorOccurred",{error:t})})),e._refreshDataSource()},callbackNames:function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged"]},callbackFlags:function(t){if("dataErrorOccurred"===t)return{stopOnFalse:!0}},publicMethods:function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]},reset:function(){this._columnsController.reset(),this._items=[],this._refreshDataSource()},optionChanged:function(t){var e;function n(){t.handled=!0}if("dataSource"===t.name&&t.name===t.fullName&&(t.value===t.previousValue||this.option("columns")&&Array.isArray(t.value)&&Array.isArray(t.previousValue))){if(t.value!==t.previousValue){var i=this.store();i&&(i._array=t.value)}return n(),void this.refresh(this.option("repaintChangesOnly"))}switch(t.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":n();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":n(),this.reset();break;case"paging":(e=this.dataSource())&&this._setPagingOptions(e)&&e.load().done(this.pageChanged.fire.bind(this.pageChanged)),n();break;case"rtlEnabled":this.reset();break;case"columns":(e=this.dataSource())&&e.isLoading()&&t.name===t.fullName&&(this._useSortingGroupingFromColumns=!0,e.load());break;default:this.callBase(t)}},isReady:function(){return!this._isLoading},getDataSource:function(){return this._dataSource&&this._dataSource._dataSource},getCombinedFilter:function(t){return this.combinedFilter(void 0,t)},combinedFilter:function(t,e){var n=this._dataSource,i=this._columnsController;if(n){void 0===t&&(t=n.filter());var o=this._calculateAdditionalFilter();o&&(i.isDataSourceApplied()||i.isAllDataTypesDefined())&&(t=r.default.combineFilters([o,t])),t=i.updateFilter(t,e||n.remoteOperations().filtering)}return t},waitReady:function(){return this._updateLockCount?(this._readyDeferred=new p.Deferred,this._readyDeferred):(0,p.when)()},_endUpdateCore:function(){var t=this._changes;if(t.length){this._changes=[];var e=t.every((function(t){return t.repaintChangesOnly}));this.updateItems(1===t.length?t[0]:{repaintChangesOnly:e})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)},_handleCustomizeStoreLoadOptions:function(t){var e=this._columnsController,n=this._dataSource,i=t.storeLoadOptions;t.isCustomLoading&&!i.isLoadingAll||(i.filter=this.combinedFilter(i.filter),e.isDataSourceApplied()||e.updateColumnDataTypes(n),this._columnsUpdating=!0,e.updateSortingGrouping(n,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,i.sort=e.getSortDataSourceParameters(),i.group=e.getGroupDataSourceParameters(),n.sort(i.sort),n.group(i.group),i.sort=e.getSortDataSourceParameters(!n.remoteOperations().sorting),t.group=e.getGroupDataSourceParameters(!n.remoteOperations().grouping))},_handleColumnsChanged:function(t){var e,n,i,o=this,a=t.changeTypes,s=t.optionNames;if(a.sorting||a.grouping)o._dataSource&&!o._columnsUpdating&&(o._dataSource.group(o._columnsController.getGroupDataSourceParameters()),o._dataSource.sort(o._columnsController.getSortDataSourceParameters()),o.reload());else if(a.columns&&((s.filterValues||s.filterValue||s.selectedFilterOperation)&&(e=o._columnsController.columnOption(t.columnIndex,"filterValue"),n=o._columnsController.columnOption(t.columnIndex,"filterValues"),(Array.isArray(n)||void 0===t.columnIndex||(0,c.isDefined)(e)||!s.selectedFilterOperation||s.filterValue)&&(o._applyFilter(),i=!0)),o._needApplyFilter||r.default.checkChanges(s,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])||o._columnsController.columnsChanged.add((function t(){o._columnsController.columnsChanged.remove(t),o.updateItems()})),(0,c.isDefined)(s.visible))){var l=o._columnsController.columnOption(t.columnIndex);l&&((0,c.isDefined)(l.filterValue)||(0,c.isDefined)(l.filterValues))&&(o._applyFilter(),i=!0)}!i&&a.filtering&&o.reload()},_handleDataChanged:function(t){var e=this,n=e._dataSource,i=e._columnsController,o=!1;this._useSortingGroupingFromColumns=!1,n&&!e._isDataSourceApplying&&(e._isDataSourceApplying=!0,(0,p.when)(e._columnsController.applyDataSource(n)).done((function(){e._isLoading&&e._handleLoadingChanged(!1),o&&t&&t.isDelayed&&(t.isDelayed=!1),e._isDataSourceApplying=!1;var n=e._needApplyFilter;e._needApplyFilter=!1,n&&!e._isAllDataTypesDefined&&function(){var t=e._calculateAdditionalFilter();return t&&t.length}()?(l.default.log("W1005",e.component.NAME),e._applyFilter()):e.updateItems(t,!0)})).fail((function(){e._isDataSourceApplying=!1})),e._isDataSourceApplying&&(o=!0,e._handleLoadingChanged(!0)),e._needApplyFilter=!e._columnsController.isDataSourceApplied(),e._isAllDataTypesDefined=i.isAllDataTypesDefined())},_handleLoadingChanged:function(t){this._isLoading=t,this._fireLoadingChanged()},_handleLoadError:function(t){this.dataErrorOccurred.fire(t)},fireError:function(){this.dataErrorOccurred.fire(l.default.Error.apply(l.default,arguments))},_setPagingOptions:function(t){var e=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),i=this.option("paging.enabled"),o=this.option("scrolling.mode"),r="infinite"===o,a=i||"virtual"===o||r,s=!1;return t.requireTotalCount(!r),void 0!==i&&t.paginate()!==a&&(t.paginate(a),s=!0),void 0!==n&&t.pageSize()!==n&&(t.pageSize(n),s=!0),void 0!==e&&t.pageIndex()!==e&&(t.pageIndex(e),s=!0),s},_getSpecificDataSourceOption:function(){var t=this.option("dataSource");return Array.isArray(t)?{store:{type:"array",data:t,key:this.option("keyExpr")}}:t},_initDataSource:function(){var t=this.option("dataSource"),e=this._dataSource;this.callBase(),t=this._dataSource,this._useSortingGroupingFromColumns=!0,t?(this._setPagingOptions(t),this.setDataSource(t)):e&&this.updateItems()},_loadDataSource:function(){var t=this._dataSource,e=new p.Deferred;return(0,p.when)(this._columnsController.refresh(!0)).always((function(){t?t.load().done(e.resolve).fail(e.reject):e.resolve()})),e.promise()},_beforeProcessItems:function(t){return t.slice(0)},getRowIndexDelta:function(){return 0},_processItems:function(t,e){var n=this,i=n.getRowIndexDelta(),o=e.changeType,r=n._columnsController.getVisibleColumns(null,"loadingAll"===o),a=n._items,s="append"===o&&a.length>0?a[a.length-1]:null,l={visibleColumns:r,dataIndex:(0,c.isDefined)(null===s||void 0===s?void 0:s.dataIndex)?s.dataIndex+1:0},u=[];return(0,h.each)(t,(function(t,e){(0,c.isDefined)(e)&&(l.rowIndex=t-i,e=n._processItem(e,l),u.push(e))})),u},_processItem:function(t,e){return t=this._generateDataItem(t,e),(t=this._processDataItem(t,e)).dataIndex=e.dataIndex++,t},_generateDataItem:function(t){return{rowType:"data",data:t,key:this.keyOf(t)}},_processDataItem:function(t,e){return t.values=this.generateDataValues(t.data,e.visibleColumns),t},generateDataValues:function(t,e,n){for(var i,o=[],r=0;r<e.length;r++){var a=e[r];i=n?void 0:null,a.command||(a.calculateCellValue?i=a.calculateCellValue(t):a.dataField&&(i=t[a.dataField])),o.push(i)}return o},_applyChange:function(t){"update"===t.changeType?this._applyChangeUpdate(t):this.items().length&&t.repaintChangesOnly&&"refresh"===t.changeType?this._applyChangesOnly(t):"refresh"===t.changeType&&this._applyChangeFull(t)},_applyChangeFull:function(t){this._items=t.items.slice(0)},_getRowIndices:function(t){var e=t.rowIndices.slice(0),n=this.getRowIndexDelta();e.sort((function(t,e){return t-e}));for(var i=0;i<e.length;i++){var o=e[i];t.allowInvisibleRowIndices&&(o+=n),o<0&&(e.splice(i,1),i--)}return e},_applyChangeUpdate:function(t){var e,n=this,i=t.items,o=n._getRowIndices(t),r=n.getRowIndexDelta(),a=n.option("repaintChangesOnly"),s=-1,l=0;t.items=[],t.rowIndices=[],t.columnIndices=[],t.changeTypes=[];var c=function(t,e,n){var i=t&&e&&(0,u.equalByValue)(t.key,e.key);return i&&n&&(i=t.rowType===e.rowType&&("detail"!==e.rowType||t.isEditing===e.isEditing)),i};(0,h.each)(o,(function(o,u){var h;if(s!==(u+=l+r)){s=u;var d=n._items[u],f=n._items[u+1],p=i[u],g=i[u+1],m=c(d,f)||c(p,g);if(p&&(p.rowIndex=u,t.items.push(p)),d&&p&&c(d,p,m))e="update",n._items[u]=p,d.visible!==p.visible?t.items.splice(-1,1,{visible:p.visible}):a&&!t.isFullUpdate&&(h=n._partialUpdateRow(d,p,u-r));else if(p&&!d||g&&c(d,g,m))e="insert",n._items.splice(u,0,p),l++;else if(d&&!p||f&&c(p,f,m))e="remove",n._items.splice(u,1),l--,s=-1;else{if(!p)return;e="update",n._items[u]=p}t.rowIndices.push(u-r),t.changeTypes.push(e),t.columnIndices.push(h)}}))},_isCellChanged:function(t,e,n,i,o){if(JSON.stringify(t.values[i])!==JSON.stringify(e.values[i]))return!0;function r(t,e){return!!t.modifiedValues&&void 0!==t.modifiedValues[e]}return r(t,i)!==r(e,i)},_getChangedColumnIndices:function(t,e,n,i){if(t.rowType===e.rowType&&"group"!==e.rowType&&"groupFooter"!==e.rowType){var o=[];if("detail"!==e.rowType)for(var r=0;r<t.values.length;r++)this._isCellChanged(t,e,n,r,i)&&o.push(r);return o}},_partialUpdateRow:function(t,e,n,i){var o=this._getChangedColumnIndices(t,e,n,i);return o&&(t.cells&&t.cells.forEach((function(t,n){!(o.indexOf(n)>=0)&&t&&t.update&&t.update(e)})),e.update=t.update,e.watch=t.watch,e.cells=t.cells,i&&(e.oldValues=t.values),t.update&&t.update(e)),o},_isItemEquals:function(t,e){if(JSON.stringify(t.values)!==JSON.stringify(e.values))return!1;if(["modified","isNewRow","removed","isEditing"].some((function(n){return t[n]!==e[n]})))return!1;if("group"===t.rowType||"groupFooter"===t.rowType){var n,i,o,r,a=t.isExpanded===e.isExpanded,s=JSON.stringify(t.summaryCells)===JSON.stringify(e.summaryCells),l=(null===(n=t.data)||void 0===n?void 0:n.isContinuation)===(null===(i=e.data)||void 0===i?void 0:i.isContinuation)&&(null===(o=t.data)||void 0===o?void 0:o.isContinuationOnNextPage)===(null===(r=e.data)||void 0===r?void 0:r.isContinuationOnNextPage);if(!a||!s||!l)return!1}return!0},_applyChangesOnly:function(t){var e=this,n=[],i=[],o=[],r=[],a={};function s(t){if(t)return t.rowType+","+JSON.stringify(t.key)}var l=this._items.slice();t.items.forEach((function(t,e){var n=s(t);a[n]=e,t.rowIndex=e}));var u=(0,g.findChanges)(l,t.items,s,(function(t,n){return!!e._isItemEquals(t,n)&&(t.cells&&(t.update&&t.update(n),t.cells.forEach((function(t){t&&t.update&&t.update(n)}))),!0)}));u?(u.forEach((function(t){switch(t.type){case"update":var a=t.index,s=t.data,l=t.oldItem,u=e._partialUpdateRow(l,s,a,!0);n.push(a),o.push("update"),r.push(s),e._items[a]=s,i.push(u);break;case"insert":n.push(t.index),o.push("insert"),r.push(t.data),i.push(void 0),e._items.splice(t.index,0,t.data);break;case"remove":n.push(t.index),o.push("remove"),e._items.splice(t.index,1),r.push(t.oldItem),i.push(void 0)}})),t.repaintChangesOnly=!0,t.changeType="update",t.rowIndices=n,t.columnIndices=i,t.changeTypes=o,t.items=r,l.length&&(t.isLiveUpdate=!0),this._correctRowIndices((function(t){var e=s(l[t]),n=a[e];return n>=0?n-t:0}))):this._applyChangeFull(t)},_correctRowIndices:u.noop,_updateItemsCore:function(t){var e,n=this._dataSource,i=t.changeType||"refresh";if(t.changeType=i,n){e=t.items||n.items(),e=this._beforeProcessItems(e),e=this._processItems(e,t),t.items=e;var o=this._items.length===e.length&&this._items;this._applyChange(t);var r=this.getRowIndexDelta();(0,h.each)(this._items,(function(t,e){e.rowIndex=t-r,o&&(e.cells=o[t].cells||[])}))}else this._items=[]},_handleChanging:function(t){var e=this.getVisibleRows();this.dataSource()&&t.changes.forEach((function(t){if("insert"===t.type&&t.index>=0){for(var n=0,i=0;i<t.index;i++){var o=e[i];!o||"data"!==o.rowType&&"group"!==o.rowType||n++}t.index=n}}))},updateItems:function(t,e){t=t||{};if(void 0!==this._repaintChangesOnly)t.repaintChangesOnly=this._repaintChangesOnly;else if(t.changes)t.repaintChangesOnly=this.option("repaintChangesOnly");else if(e){var n=this.dataSource().operationTypes();t.repaintChangesOnly=n&&!n.grouping&&!n.filtering&&this.option("repaintChangesOnly"),t.isDataChanged=!0,n&&(n.reload||n.paging||n.groupExpanding)&&(t.needUpdateDimensions=!0)}this._updateLockCount?this._changes.push(t):(this._updateItemsCore(t),t.cancel||this._fireChanged(t))},loadingOperationTypes:function(){var t=this.dataSource();return t&&t.loadingOperationTypes()||{}},_fireChanged:function(t){var e=this;this._currentOperationTypes&&(t.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),(0,u.deferRender)((function(){e.changed.fire(t)}))},isLoading:function(){return this._isLoading||this._isCustomLoading},_fireLoadingChanged:function(){this.loadingChanged.fire(this.isLoading(),this._loadingText)},_calculateAdditionalFilter:function(){return null},_applyFilter:function(){var t=this._dataSource;if(t)return t.pageIndex(0),this.reload().done(this.pageChanged.fire.bind(this.pageChanged))},filter:function(t){var e=this._dataSource,n=e&&e.filter();if(0===arguments.length)return n;t=arguments.length>1?Array.prototype.slice.call(arguments,0):t,r.default.equalFilterParameters(n,t)||(e&&e.filter(t),this._applyFilter())},clearFilter:function(t){var e=this,n=e._columnsController,i=function(t){for(var e=n.columnCount(),i=0;i<e;i++)n.columnOption(i,t,void 0)};if(e.component.beginUpdate(),arguments.length>0)switch(t){case"dataSource":e.filter(null);break;case"search":e.searchByText("");break;case"header":i("filterValues");break;case"row":i("filterValue")}else e.filter(null),e.searchByText(""),i("filterValue"),i("bufferedFilterValue"),i("filterValues");e.component.endUpdate()},_fireDataSourceChanged:function(){var t=this;t.changed.add((function e(){t.changed.remove(e),t.dataSourceChanged.fire()}))},_getDataSourceAdapter:u.noop,_createDataSourceAdapterCore:function(t,e){var n=this._getDataSourceAdapter().create(this.component);return n.init(t,e),n},isLocalStore:function(t){return(t=t||this.store())instanceof a.default},isCustomStore:function(t){return(t=t||this.store())instanceof s.default},_createDataSourceAdapter:function(t){var e=this.option("remoteOperations"),n=t.store(),i={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return e&&e.groupPaging&&(e=(0,d.extend)({},i,e)),"auto"===e&&(e=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),!0===e&&(e=i),this._createDataSourceAdapterCore(t,e)},setDataSource:function(t){var e=this._dataSource;!t&&e&&(e.cancelAll(),e.changed.remove(this._dataChangedHandler),e.loadingChanged.remove(this._loadingChangedHandler),e.loadError.remove(this._loadErrorHandler),e.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),e.changing.remove(this._changingHandler),e.dispose(this._isSharedDataSource)),t&&(t=this._createDataSourceAdapter(t)),this._dataSource=t,t&&(this._fireDataSourceChanged(),this._isLoading=!t.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),t.changed.add(this._dataChangedHandler),t.loadingChanged.add(this._loadingChangedHandler),t.loadError.add(this._loadErrorHandler),t.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),t.changing.add(this._changingHandler))},items:function(){return this._items},isEmpty:function(){return!this.items().length},pageCount:function(){return this._dataSource?this._dataSource.pageCount():1},dataSource:function(){return this._dataSource},store:function(){var t=this._dataSource;return t&&t.store()},loadAll:function(t){var e=this,n=new p.Deferred,i=e._dataSource;if(i)if(t){var o={data:t,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:e.getCombinedFilter(),group:i.group(),sort:i.sort()}};i._handleDataLoaded(o),(0,p.when)(o.data).done((function(t){t=e._beforeProcessItems(t),n.resolve(e._processItems(t,{changeType:"loadingAll"}),o.extra&&o.extra.summary)})).fail(n.reject)}else if(i.isLoading())n.reject();else{var r=(0,d.extend)({},i.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});i.load(r).done((function(t,i){t=e._beforeProcessItems(t),t=e._processItems(t,{changeType:"loadingAll"}),n.resolve(t,i&&i.summary)})).fail(n.reject)}else n.resolve([]);return n},getKeyByRowIndex:function(t){var e=this.items()[t];if(e)return e.key},getRowIndexByKey:function(t){return r.default.getIndexByKey(t,this.items())},keyOf:function(t){var e=this.store();if(e)return e.keyOf(t)},byKey:function(t){var e,n=this.store(),i=this.getRowIndexByKey(t);if(n)return i>=0&&(e=(new p.Deferred).resolve(this.items()[i].data)),e||n.byKey(t)},key:function(){var t=this.store();if(t)return t.key()},getRowIndexOffset:function(){return 0},getDataByKeys:function(t){var e=this,n=new p.Deferred,o=[],r=[];return(0,h.each)(t,(function(t,n){o.push(e.byKey(n).done((function(e){r[t]=e})))})),p.when.apply(i.default,o).always((function(){n.resolve(r)})),n},pageIndex:function(e){return t(this,"pageIndex",e)},pageSize:function(e){return t(this,"pageSize",e)},beginCustomLoading:function(t){this._isCustomLoading=!0,this._loadingText=t||"",this._fireLoadingChanged()},endCustomLoading:function(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()},refresh:function(t){!0===t?t={reload:!0,changesOnly:!0}:t||(t={lookup:!0,selection:!0,reload:!0});var e=this,n=e.getDataSource(),i=t.changesOnly,o=new p.Deferred,r=function(){e._repaintChangesOnly=!!i};return(0,p.when)(!t.lookup||e._columnsController.refresh()).always((function(){t.load||t.reload?(n&&n.on("customizeLoadResult",r),(0,p.when)(e.reload(t.reload,i)).always((function(){n&&n.off("customizeLoadResult",r),e._repaintChangesOnly=void 0})).done(o.resolve).fail(o.reject)):(e.updateItems({repaintChangesOnly:t.changesOnly}),o.resolve())})),o.promise()},getVisibleRows:function(){return this.items()},_disposeDataSource:function(){this.setDataSource(null)},dispose:function(){this._disposeDataSource(),this.callBase.apply(this,arguments)},repaintRows:function(t,e){((t=Array.isArray(t)?t:[t]).length>1||(0,c.isDefined)(t[0]))&&this.updateItems({changeType:"update",rowIndices:t,isFullUpdate:!e})},skipProcessingPagingChange:function(t){return this._skipProcessingPagingChange&&("paging.pageIndex"===t||"paging.pageSize"===t)},getUserState:function(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}},getCachedStoreData:function(){return this._dataSource&&this._dataSource.getCachedStoreData()}};return r.default.proxyMethod(e,"load"),r.default.proxyMethod(e,"reload"),r.default.proxyMethod(e,"push"),r.default.proxyMethod(e,"itemsCount",0),r.default.proxyMethod(e,"totalItemsCount",0),r.default.proxyMethod(e,"hasKnownLastPage",!0),r.default.proxyMethod(e,"isLoaded",!0),r.default.proxyMethod(e,"totalCount",0),e}())}};e.default=v,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(362));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("sorting",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=c(n(7)),r=n(30),a=n(2),s=n(3),l=c(n(363)),u=c(n(18)),h=n(13);function c(t){return t&&t.__esModule?t:{default:t}}var d={defaultOptions:function(){return{sorting:{mode:"single",ascendingText:u.default.format("dxDataGrid-sortingAscendingText"),descendingText:u.default.format("dxDataGrid-sortingDescendingText"),clearText:u.default.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}},extenders:{views:{columnHeadersView:(0,s.extend)({},l.default,{_createRow:function(t){var e=this,n=this.callBase(t);return"header"===t.rowType&&o.default.on(n,(0,h.addNamespace)(r.name,"dxDataGridColumnHeadersView"),"td",this.createAction((function(t){e._processHeaderAction(t.event,n)}))),n},_processHeaderAction:function(t,e){if((0,i.default)(t.currentTarget).parent().get(0)===e.get(0)){var n=this,o=null,r=(0,i.default)(t.currentTarget),s=r.parent().index(),l=-1;[].slice.call(n.getCellElements(s)).some((function(t,e){if(t===r.get(0))return l=e,!0}));var u=n._columnsController.getVisibleColumns(s)[l],h=n.getController("editing"),c=n.option("editing.mode");!(h&&h.isEditing()&&("batch"===c||"cell"===c))&&n._isSortableElement((0,i.default)(t.target))&&(!u||(0,a.isDefined)(u.groupIndex)||u.command||(t.shiftKey?o="shift":t.ctrlKey&&(o="ctrl"),setTimeout((function(){n._columnsController.changeSortOrder(u.index,o)}))))}},_renderCellContent:function(t,e){var n=e.column;n.command||"header"!==e.rowType||this._applyColumnState({name:"sort",rootElement:t,column:n,showColumnLines:this.option("showColumnLines")}),this.callBase(t,e)},_columnOptionChanged:function(t){var e=t.changeTypes;1===e.length&&e.sorting?this._updateIndicators("sort"):this.callBase(t)},optionChanged:function(t){switch(t.name){case"sorting":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}}),headerPanel:(0,s.extend)({},l.default,{_createGroupPanelItem:function(t,e){var n=this,i=n.callBase.apply(n,arguments);return o.default.on(i,(0,h.addNamespace)(r.name,"dxDataGridHeaderPanel"),n.createAction((function(){n._processGroupItemAction(e.index)}))),n._applyColumnState({name:"sort",rootElement:i,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:e.allowSorting,sortOrder:"desc"===e.sortOrder?"desc":"asc"},showColumnLines:!0}),i},_processGroupItemAction:function(t){var e=this;setTimeout((function(){return e.getController("columns").changeSortOrder(t)}))},optionChanged:function(t){switch(t.name){case"sorting":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}})}}};e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(2),r=(i=n(1))&&i.__esModule?i:{default:i};var a={_applyColumnState:function(t){var e,n,i=this.option("sorting.mode"),a=t.rootElement,s=t.column,l=this._getIndicatorContainer(a);if("sort"===t.name){a.find(".dx-sort").remove(),!l.children().length&&l.remove();var u=("single"===i||"multiple"===i)&&s.allowSorting;if(!(0,o.isDefined)(s.groupIndex)&&(u||(0,o.isDefined)(s.sortOrder)))e="asc"===s.sortOrder?"ascending":"descending",n=this.callBase(t).toggleClass("dx-sort-up","asc"===s.sortOrder).toggleClass("dx-sort-down","desc"===s.sortOrder),this.getController&&!!this.getController("columns").columnOption("sortIndex:1")&&this.option("sorting.showSortIndexes")&&s.sortIndex>=0&&((0,r.default)("<span>").addClass("dx-sort-index-icon").text(s.sortIndex+1).appendTo(n),n.addClass("dx-sort-index")),t.rootElement.addClass(this.addWidgetPrefix("action"));return(0,o.isDefined)(s.sortOrder)?this.setAria("sort",e,a):this.setAria("sort","none",a),n}return this.callBase(t)},_getIndicatorClassName:function(t){return"sort"===t?"dx-sort":"sortIndex"===t?"dx-sort-index-icon":this.callBase(t)},_renderIndicator:function(t){var e=t.column,n=t.container,i=t.indicator;if("sort"===t.name){var r=this.option("rtlEnabled");if((0,o.isDefined)(e.sortOrder)||i&&i.addClass("dx-sort-none"),n.children().length&&(!r&&"left"===t.columnAlignment||r&&"right"===t.columnAlignment))return void n.prepend(i)}this.callBase(t)},_updateIndicator:function(t,e,n){if("sort"!==n||!(0,o.isDefined)(e.groupIndex))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(t,e){var n=this.callBase(t);return e?n:n&&n.not(".dx-sort-none")}};e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.RowsView=void 0;var i=r(n(22)),o=r(n(365));function r(t){return t&&t.__esModule?t:{default:t}}var a=o.default.views.rowsView;e.RowsView=a,i.default.registerModule("rows",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=b(n(1)),o=n(14),r=b(n(7)),a=n(6),s=n(88),l=n(2),u=n(5),h=n(3),c=n(34),d=n(55),f=n(29),p=b(n(31)),g=n(125),m=b(n(94)),v=b(n(116)),y=b(n(18)),_=b(n(24));function b(t){return t&&t.__esModule?t:{default:t}}var x={defaultOptions:function(){return{hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:y.default.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},rowTemplate:null,columnAutoWidth:!1,noDataText:y.default.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:g.ColumnsView.inherit(function(){var t=function(t,e){var n=(0,d.isEmpty)(e.text)&&"data"===e.rowType,i=e.text,o=t.get(0);n?p.default.setEmptyText(t):e.column.encodeHtml?o.textContent=i:o.innerHTML=i};return{_getDefaultTemplate:function(e){switch(e.command){case"empty":return function(t){t.html("&nbsp;")};default:return t}},_getDefaultGroupTemplate:function(t){var e=this.option("summary.texts");return function(n,i){var o=i.data,r=i.column.caption+": "+i.text,a=n.get(0);i.summaryItems&&i.summaryItems.length&&(r+=" "+p.default.getGroupRowSummaryText(i.summaryItems,e)),o&&(i.groupContinuedMessage&&i.groupContinuesMessage?r+=" ("+i.groupContinuedMessage+". "+i.groupContinuesMessage+")":i.groupContinuesMessage?r+=" ("+i.groupContinuesMessage+")":i.groupContinuedMessage&&(r+=" ("+i.groupContinuedMessage+")")),n.addClass("dx-group-cell"),t.encodeHtml?a.textContent=r:a.innerHTML=r}},_update:function(){},_getCellTemplate:function(t){var e=t.column;return"group"!==t.rowType||!(0,l.isDefined)(e.groupIndex)||e.showWhenGrouped||e.command?("data"===t.rowType||e.command)&&e.cellTemplate?e.cellTemplate:{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}:e.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(e)}},_createRow:function(t){var e=this.callBase(t);if(t){var n="group"===t.rowType,i="data"===t.rowType;if(i&&e.addClass("dx-data-row"),i&&this.option("showRowLines")&&e.addClass("dx-row-lines"),this.option("showColumnLines")&&e.addClass("dx-column-lines"),!1===t.visible&&e.hide(),n){e.addClass("dx-group-row");var o=t.isExpanded;this.setAria("role","row",e),this.setAria("expanded",(0,l.isDefined)(o)&&o.toString(),e)}}return e},_rowPrepared:function(t,e,n){var i=this;"data"===e.rowType&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&t.addClass("dx-row-alt"),e.watch&&e.watch((function(){return i._isAltRow(n)}),(function(e){t.toggleClass("dx-row-alt",e)}))),this._setAriaRowIndex(e,t),e.watch&&e.watch((function(){return e.rowIndex}),(function(){return i._setAriaRowIndex(e,t)}))),this.callBase.apply(this,arguments)},_setAriaRowIndex:function(t,e){var n=this.component,i="standard"===n.option("scrolling.mode")&&"virtual"!==n.option("scrolling.rowRenderingMode"),o=t.rowIndex+1;i?o=n.pageIndex()*n.pageSize()+o:o+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",o,e)},_afterRowPrepared:function(t){var e=this,n=t.args[0],i=this._dataController,o=i.getVisibleRows()[n.rowIndex],a=this.option("integrationOptions.watchMethod");if(n.data&&"data"===n.rowType&&!n.isNewRow&&this.option("twoWayBindingEnabled")&&a&&o){var s=a((function(){return i.generateDataValues(n.data,n.columns)}),(function(){i.repaintRows([o.rowIndex],e.option("repaintChangesOnly"))}),{deep:!0,skipImmediate:!0});r.default.on(n.rowElement,v.default,s)}},_renderScrollable:function(t){var e=this.element();if(e.children().length||e.append("<div>"),!t&&this._loadPanel||this._renderLoadPanel(e,e.parent(),this._dataController.isLocalStore()),(t||!this.getScrollable())&&this._dataController.isLoaded()){for(var n=this.getColumns(),i=!0,o=0;o<n.length;o++)if(!n[o].width&&!n[o].minWidth){i=!1;break}(this.option("columnAutoWidth")||this._hasHeight||i||this._columnsController._isColumnFixing())&&this._renderScrollableCore(e)}},_handleScroll:function(t){this._isScrollByEvent=!!t.event,this._scrollTop=t.scrollOffset.top,this._scrollLeft=t.scrollOffset.left,this.scrollChanged.fire(t.scrollOffset,this.name)},_renderScrollableCore:function(t){var e=this._createScrollableOptions(),n=this._handleScroll.bind(this);e.onScroll=n,e.onStop=n,this._scrollable=this._createComponent(t,m.default,e),this._scrollableContainer=this._scrollable&&this._scrollable._$container},_renderLoadPanel:p.default.renderLoadPanel,_renderContent:function(t,e){return t.empty().append(e),this._findContentElement()},_updateContent:function(t,e){var n=this,i=n._getTableElement(),o=n._findContentElement(),r=e&&e.changeType,a=[],s=this.option("highlightChanges"),h=this.addWidgetPrefix("row-inserted-animation");switch(r){case"update":(0,u.each)(e.rowIndices,(function(o,r){var u=n._getRowElements(t).eq(o),c=e.changeTypes&&e.changeTypes[o],d=e.items&&e.items[o];a.push((function(){var t=n._getRowElements(),a=t.eq(r);switch(c){case"update":if(d){var f=e.columnIndices&&e.columnIndices[o];(0,l.isDefined)(d.visible)&&d.visible!==a.is(":visible")?a.toggle(d.visible):f?n._updateCells(a,u,f):a.replaceWith(u)}break;case"insert":t.length?a.length?u.insertBefore(a):u.insertAfter(t.last()):i&&u.prependTo(i.children("tbody")),s&&e.isLiveUpdate&&u.addClass(h);break;case"remove":a.remove()}}))})),(0,u.each)(a,(function(){this()})),t.remove();break;default:n._setTableElement(t),o.addClass(n.addWidgetPrefix("content")),n._renderContent(o,t)}},_createEmptyRow:function(t,e,n){var i,o=this._createRow(),r=e?this.getFixedColumns():this.getColumns();o.addClass(t).toggleClass("dx-column-lines",this.option("showColumnLines"));for(var a=0;a<r.length;a++)i=this._createCell({column:r[a],rowType:"freeSpace",columnIndex:a,columns:r}),(0,l.isNumeric)(n)&&i.css("height",n),o.append(i);return this.setAria("role","presentation",o),o},_appendEmptyRow:function(t,e,n){var i=this._getBodies(t),o=!i.length||e.is("tbody"),r=o?t:i;if("top"===n){if(r.first().prepend(e),o){var a=r.children("colgroup");r.prepend(a)}}else r.last().append(e)},_renderFreeSpaceRow:function(t){var e=this._createEmptyRow("dx-freespace-row");e=this._wrapRowIfNeed(t,e),this._appendEmptyRow(t,e)},_checkRowKeys:function(t){var e=this,n=e._getRows(t),i=e._dataController.store()&&e._dataController.store().key();i&&n.some((function(t){if("data"===t.rowType&&void 0===t.key)return e._dataController.fireError("E1046",i),!0}))},_needUpdateRowHeight:function(t){return t>0&&!this._rowHeight},_getRowsHeight:function(t){return t.children("tbody").children().not(".dx-virtual-row").not(".dx-freespace-row").toArray().reduce((function(t,e){return t+(0,c.getBoundingRect)(e).height}),0)},_updateRowHeight:function(){var t=this._getTableElement(),e=this._dataController.items().length;if(t&&this._needUpdateRowHeight(e)){var n=this._getRowsHeight(t);this._rowHeight=n/e}},_findContentElement:function(){var t=this.element(),e=this.getScrollable();if(t)return e&&(t=e.$content()),t.children().first()},_getRowElements:function(t){var e=this.callBase(t);return e&&e.not(".dx-freespace-row")},_getFreeSpaceRowElements:function(t){var e=t||this.getTableElements();return e&&e.children("tbody").children(".dx-freespace-row")},_getNoDataText:function(){return this.option("noDataText")},_rowClick:function(t){var e=this._dataController.items()[t.rowIndex]||{};this.executeAction("onRowClick",(0,h.extend)({evaluate:function(t){return(0,f.compileGetter)(t)(e.data)}},t,e))},_rowDblClick:function(t){var e=this._dataController.items()[t.rowIndex]||{};this.executeAction("onRowDblClick",(0,h.extend)({},t,e))},_getColumnsCountBeforeGroups:function(t){for(var e=0;e<t.length;e++)if("groupExpand"===t[e].type)return e;return 0},_getGroupCellOptions:function(t){var e=this._getColumnsCountBeforeGroups(t.columns),n=(t.row.groupIndex||0)+e;return{columnIndex:n,colspan:t.columns.length-n-1}},_renderCells:function(t,e){"group"===e.row.rowType?this._renderGroupedCells(t,e):e.row.values&&this.callBase(t,e)},_renderGroupedCells:function(t,e){for(var n,i,o=e.row,r=e.columns,a=o.rowIndex,s=this._getGroupCellOptions(e),l=0;l<=s.columnIndex;l++)l===s.columnIndex&&r[l].allowCollapsing&&"infinite"!==e.scrollingMode?(i=!!o.isExpanded,n=r[l]):(i=null,n={command:"expand",cssClass:r[l].cssClass}),this._renderCell(t,{value:i,row:o,rowIndex:a,column:n,columnIndex:l});var u=(0,c.getDefaultAlignment)(this.option("rtlEnabled")),d=(0,h.extend)({},r[s.columnIndex],{command:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:u});s.colspan>1&&(d.colspan=s.colspan),this._renderCell(t,{value:o.values[o.groupIndex],row:o,rowIndex:a,column:d,columnIndex:s.columnIndex})},_renderRows:function(t,e){var n=this.option("scrolling.mode");this.callBase(t,(0,h.extend)({scrollingMode:n},e)),this._checkRowKeys(e.change),this._renderFreeSpaceRow(t),this._hasHeight||this.updateFreeSpaceRowHeight(t)},_renderRow:function(t,e){var n=e.row,i=this.option("rowTemplate");"data"!==n.rowType&&"group"!==n.rowType||(0,l.isDefined)(n.groupIndex)||!i?this.callBase(t,e):this.renderTemplate(t,i,(0,h.extend)({columns:e.columns},n),!0)},_renderTable:function(t){var e=this,n=e.callBase(t);return(0,l.isDefined)(e._getTableElement())?e._renderScrollable():(e._setTableElement(n),e._renderScrollable(!0),e.resizeCompleted.add((function t(){var n=e.getScrollable();n&&e.element().closest((0,o.getWindow)().document).length&&(e.resizeCompleted.remove(t),n._visibilityChanged(!0))}))),n},_createTable:function(){var t=this.callBase.apply(this,arguments);return this.option("rowTemplate")&&t.appendTo(this.component.$element()),t},_renderCore:function(t){var e=this.element();e.addClass(this.addWidgetPrefix("rowsview")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")),e.toggleClass("dx-empty",0===this._dataController.items().length),this.setAria("role","presentation",e);var n=this._renderTable({change:t});this._updateContent(n,t),this.callBase(t),this._lastColumnWidths=null},_getRows:function(t){return t&&t.items||this._dataController.items()},_getCellOptions:function(t){var e=t.column,n=t.row,i=n.data,o=n&&n.summaryCells,r=t.value,a=p.default.getDisplayValue(e,r,i,n.rowType),s=this.callBase(t);if(s.value=r,s.oldValue=t.oldValue,s.displayValue=a,s.row=n,s.key=n.key,s.data=i,s.rowType=n.rowType,s.values=n.values,s.text=e.command?"":p.default.formatValue(a,e),s.rowIndex=n.rowIndex,s.summaryItems=o&&o[t.columnIndex],s.resized=e.resizedCallbacks,(0,l.isDefined)(e.groupIndex)&&!e.command){var u=this.option("grouping.texts"),h=this.option("scrolling.mode");"virtual"!==h&&"infinite"!==h&&(s.groupContinuesMessage=i&&i.isContinuationOnNextPage&&u&&u.groupContinuesMessage,s.groupContinuedMessage=i&&i.isContinuation&&u&&u.groupContinuedMessage)}return s},_setRowsOpacityCore:function(t,e,n,o){var r=this._columnsController,a=r.getColumns(),s=a&&a[n],h=s&&s.isBand&&s.index;(0,u.each)(t,(function(a,s){if(!(0,i.default)(s).hasClass("dx-group-row"))for(var u=0;u<e.length&&(!((0,l.isNumeric)(h)&&r.isParentBandColumn(e[u].index,h)||e[u].index===n)||(t.eq(a).children().eq(u).css({opacity:o}),(0,l.isNumeric)(h)));u++);}))},_getDevicePixelRatio:function(){return(0,o.getWindow)().devicePixelRatio},renderNoDataText:p.default.renderNoDataText,getCellOptions:function(t,e){var n,i,o=this._dataController.items()[t];return o&&(i=(0,l.isString)(e)?this._columnsController.columnOption(e):this._columnsController.getVisibleColumns()[e])&&(n=this._getCellOptions({value:i.calculateCellValue(o.data),rowIndex:o.rowIndex,row:o,column:i})),n},getRow:function(t){if(t>=0){var e=this._getRowElements();if(e.length>t)return(0,i.default)(e[t])}},updateFreeSpaceRowHeight:function(t){var e=this,n=this._dataController,i=n.items(!0).length,o=this._findContentElement(),r=this._getFreeSpaceRowElements(t);if(r&&o&&n.totalCount()>=0){var l=!1;if(i>0)if(this._hasHeight)r.hide(),(0,a.deferUpdate)((function(){var n=e.getScrollbarWidth(!0),i=e.element().height()-n,s=i-o.outerHeight()>0,u=e._getRowsHeight(o.children().first()),h=t||e.getTableElements(),c=i-u-Math.ceil(parseFloat(h.css("borderTopWidth")))-e._getHeightCorrection();s&&(0,a.deferRender)((function(){r.css("height",c),l=!0,r.show()})),(0,a.deferRender)((function(){return e._updateLastRowBorder(l)}))}));else{var u=n.pageSize()-i,h=this.option("scrolling.mode");u>0&&n.pageCount()>1&&"virtual"!==h&&"infinite"!==h&&((0,s.setHeight)(r,u*this._rowHeight),l=!0),!l&&t?(0,s.setHeight)(r,0):r.toggle(l),this._updateLastRowBorder(l)}else r.css("height",0),r.show(),this._updateLastRowBorder(!0)}},_getHeightCorrection:function(){var t=_.default.webkit&&this._getDevicePixelRatio()>=2,e=_.default.mozilla&&_.default.version>=70&&!this.option("showRowLines");return t||e?1:0},_columnOptionChanged:function(t){var e=t.optionNames;t.changeTypes.grouping||(e.width||e.visibleWidth)&&(this.callBase(t),this._fireColumnResizedCallbacks())},getScrollable:function(){return this._scrollable},init:function(){var t=this,e=t.getController("data");t.callBase(),t._editorFactoryController=t.getController("editorFactory"),t._rowHeight=0,t._scrollTop=0,t._scrollLeft=-1,t._hasHeight=!1,e.loadingChanged.add((function(e,n){t.setLoading(e,n)})),e.dataSourceChanged.add((function(){t._scrollLeft>=0&&t._handleScroll({scrollOffset:{top:t._scrollTop,left:t._scrollLeft}})}))},_handleDataChanged:function(t){switch(t.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,t);break;default:this._update(t)}},publicMethods:function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]},contentWidth:function(){return this.element().width()-this.getScrollbarWidth()},getScrollbarWidth:function(t){var e=this._scrollableContainer&&this._scrollableContainer.get(0),n=0;return e&&(t?(n=e.clientHeight?e.offsetHeight-e.clientHeight:0,n+=function(t){var e=t.getScrollable();return e?Math.ceil(parseFloat(e.$content().css("paddingBottom"))):0}(this)):n=e.clientWidth?e.offsetWidth-e.clientWidth:0),n>0?n:0},_fireColumnResizedCallbacks:function(){for(var t=this._lastColumnWidths||[],e=[],n=this.getColumns(),i=0;i<n.length;i++)e[i]=n[i].visibleWidth,n[i].resizedCallbacks&&!(0,l.isDefined)(n[i].groupIndex)&&t[i]!==e[i]&&n[i].resizedCallbacks.fire(e[i]);this._lastColumnWidths=e},_updateLastRowBorder:function(t){this.option("showBorders")&&this.option("showRowLines")&&!t?this.element().addClass("dx-last-row-border"):this.element().removeClass("dx-last-row-border")},_updateScrollable:function(){var t=m.default.getInstance(this.element());t&&(t.update(),this._updateHorizontalScrollPosition())},_updateHorizontalScrollPosition:function(){var t=this.getScrollable(),e=t&&t.scrollOffset().left;this._scrollLeft>=0&&e!==this._scrollLeft&&t.scrollTo({x:this._scrollLeft})},_resizeCore:function(){var t=this;t._fireColumnResizedCallbacks(),t._updateRowHeight(),(0,a.deferRender)((function(){t._renderScrollable(),t.renderNoDataText(),t.updateFreeSpaceRowHeight(),(0,a.deferUpdate)((function(){t._updateScrollable()}))}))},scrollTo:function(t){var e=this.element(),n=e&&m.default.getInstance(e);n&&n.scrollTo(t)},height:function(t,e){var n=this,i=this.element();if(0===arguments.length)return i?i.outerHeight(!0):0;n._hasHeight=void 0===e?"auto"!==t:e,(0,l.isDefined)(t)&&i&&(0,s.setHeight)(i,t)},setLoading:function(t,e){var n=this._loadPanel,i=this._dataController,r=this.option("loadPanel")||{},a=i.isLoaded()?r.animation:null,s=this.element();if((0,o.hasWindow)()&&(!n&&void 0!==e&&i.isLocalStore()&&"auto"===r.enabled&&s&&(this._renderLoadPanel(s,s.parent()),n=this._loadPanel),n)){var l={message:e||r.text,animation:a,visible:t};clearTimeout(this._hideLoadingTimeoutID),n.option("visible")&&!t?this._hideLoadingTimeoutID=setTimeout((function(){n.option(l)}),200):n.option(l)}},setRowsOpacity:function(t,e){var n=this._getRowElements().not(".dx-group-row")||[];this._setRowsOpacityCore(n,this.getColumns(),t,e)},_getCellElementsCore:function(t){var e=this.callBase(t);if(e){var n=e.filter(".dx-group-cell").index();if(n>=0&&e.length>n+1)return e.slice(0,n+1)}return e},getTopVisibleItemIndex:function(t){var e=0,n=0,i=0,o=this._scrollTop,r=this._findContentElement(),a=r&&r.offset().top,s=this._dataController.items(),l=this._getTableElement();if(s.length&&l){var u=this._getRowElements(l).filter(":visible");for(e=0;e<s.length;e++){n=i;var h=u.eq(e);if(h.length&&(i=h.offset().top-a)>o){e&&(t||2*o<Math.round(i+n))&&e--;break}}e&&e===s.length&&e--}return e},getTopVisibleRowData:function(){var t=this.getTopVisibleItemIndex(),e=this._dataController.items();if(e[t])return e[t].data},_scrollToElement:function(t,e){var n=this.getScrollable();n&&n.scrollToElement(t,e)},optionChanged:function(t){switch(this.callBase(t),t.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),t.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,t.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,"loadPanel.enabled"!==t.fullName),t.handled=!0;break;case"noDataText":this.renderNoDataText(),t.handled=!0}},dispose:function(){clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()},setScrollerSpacing:function(){}}}())}};e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=c(n(7)),o=c(n(20)),r=n(13),a=c(n(169)),s=c(n(105)),l=n(134),u=c(n(17)),h=n(121);function c(t){return t&&t.__esModule?t:{default:t}}var d=o.default.abstract,f=u.default.real(),p=o.default.inherit(function(){var t=(0,r.addNamespace)("scroll","dxScrollEmitter");return{ctor:function(e){this._element=e,this._locked=!1;var n=this;this._proxiedScroll=function(t){n._scroll(t)},i.default.on(this._element,t,this._proxiedScroll)},_scroll:d,check:function(t,e){this._locked&&e()},dispose:function(){i.default.off(this._element,t,this._proxiedScroll)}}}()),g=p.inherit({ctor:function(t,e){this.callBase(t),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var t=this;this._timer=setTimeout((function(){t._clearTimer()}),this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),m=g.inherit({ctor:function(t){this.callBase(t,400),this._lastWheelDirection=null},check:function(t,e){this._checkDirectionChanged(t),this.callBase(t,e)},_checkDirectionChanged:function(t){if((0,r.isDxMouseWheelEvent)(t)){var e=t.shiftKey||!1,n=null!==this._lastWheelDirection&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!n}else this._lastWheelDirection=null}}),v=g.inherit({ctor:function(t){this.callBase(t,400)}});!function(){var t=f.ios&&(0,h.compare)(f.version,[8])>=0,e=f.android&&(0,h.compare)(f.version,[5])>=0;(t||e)&&(v=p.inherit({_scroll:function(){this._locked=!0;var t=this;(0,l.cancelAnimationFrame)(this._scrollFrame),this._scrollFrame=(0,l.requestAnimationFrame)((function(){t._locked=!1}))},check:function(t,e){(0,l.cancelAnimationFrame)(this._scrollFrame),(0,l.cancelAnimationFrame)(this._checkFrame);var n=this,i=this.callBase;this._checkFrame=(0,l.requestAnimationFrame)((function(){i.call(n,t,e),n._locked=!1}))},dispose:function(){this.callBase(),(0,l.cancelAnimationFrame)(this._scrollFrame),(0,l.cancelAnimationFrame)(this._checkFrame)}}))}();var y=a.default.inherit(function(){var t=Math.round(1e3/60);return{ctor:function(t){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new v(t),this._wheelLocker=new m(t)},validate:function(){return!0},configure:function(t){t.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new v(t.scrollTarget),this._wheelLocker=new m(t.scrollTarget)),this.callBase(t)},_init:function(t){this._wheelLocker.check(t,function(){(0,r.isDxMouseWheelEvent)(t)&&this._accept(t)}.bind(this)),this._pointerLocker.check(t,function(){var e=this.isNative&&(0,r.isMouseEvent)(t);(0,r.isDxMouseWheelEvent)(t)||e||this._accept(t)}.bind(this)),this._fireEvent("dxscrollinit",t),this._prevEventData=(0,r.eventData)(t)},move:function(t){this.callBase.apply(this,arguments),t.isScrollingEvent=this.isNative||t.isScrollingEvent},_start:function(t){this._savedEventData=(0,r.eventData)(t),this._fireEvent("dxscrollstart",t),this._prevEventData=(0,r.eventData)(t)},_move:function(t){var e=(0,r.eventData)(t);this._fireEvent("dxscroll",t,{delta:(0,r.eventDelta)(this._prevEventData,e)}),(0,r.eventDelta)(this._savedEventData,e).time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=(0,r.eventData)(t)},_end:function(e){var n=(0,r.eventDelta)(this._prevEventData,(0,r.eventData)(e)),i={x:0,y:0};if(!(0,r.isDxMouseWheelEvent)(e)&&n.time<100){var o=(0,r.eventDelta)(this._savedEventData,this._prevEventData),a=t/o.time;i={x:o.x*a,y:o.y*a}}this._fireEvent("dxscrollend",e,{velocity:i})},_stop:function(t){this._fireEvent("dxscrollstop",t)},cancel:function(t){this.callBase.apply(this,arguments),this._fireEvent("dxscrollcancel",t)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());(0,s.default)({emitter:y,events:["dxscrollinit","dxscrollstart","dxscroll","dxscrollend","dxscrollstop","dxscrollcancel"]});var _={init:"dxscrollinit",start:"dxscrollstart",move:"dxscroll",end:"dxscrollend",stop:"dxscrollstop",cancel:"dxscrollcancel"};e.default=_,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(368));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("contextMenu",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=n(27),r=n(6),a=n(5),s=u(n(35)),l=u(n(177));function u(t){return t&&t.__esModule?t:{default:t}}var h={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},c=["columnHeadersView","rowsView","footerView","headerPanel"],d={defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:s.default.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(t){if(!t)return!1;var e,n,r,s,l=this,u=(0,i.default)(t.target);return(0,a.each)(c,(function(){var i=l.getView(this);if((e=i&&i.element())&&(e.is(u)||e.find(u).length)){r=u.closest(".dx-row > td, .dx-row > tr"),n=r.parent();var a=i.getRowIndex(n),c=r[0]&&r[0].cellIndex,d=n.data("options"),f={event:t,targetElement:(0,o.getPublicElement)(u),target:h[this],rowIndex:a,row:i._getRows()[a],columnIndex:c,column:d&&d.cells[c].column};if(f.items=i.getContextMenuItems&&i.getContextMenuItems(f),l.executeAction("onContextMenuPreparing",f),l._contextMenuPrepared(f),s=f.items)return!1}})),s},_contextMenuPrepared:r.noop})},views:{contextMenuView:s.default.View.inherit({_renderCore:function(){var t=this,e=t.element().addClass("dx-context-menu");this.setAria("role","presentation",e),this._createComponent(e,l.default,{onPositioning:function(e){var n=e.event,i=e.component,o=t.getController("contextMenu").getContextMenuItems(n);o?(i.option("items",o),n.stopPropagation()):e.cancel=!0},onItemClick:function(t){t.itemData.onItemClick&&t.itemData.onItemClick(t)},cssClass:t.getWidgetContainerClass(),target:t.component.$element()})}})}};e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=C(n(1)),o=C(n(16)),r=C(n(7)),a=C(n(50)),s=C(n(19)),l=n(6),u=n(2),h=n(44),c=n(27),d=n(5),f=n(21),p=n(3),g=n(14),m=C(n(57)),v=C(n(74)),y=C(n(17)),_=n(13),b=C(n(79)),x=C(n(231)),w=n(8);function C(t){return t&&t.__esModule?t:{default:t}}function S(t){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function I(t,e,n){return(I="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==S(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],A=["up","down","first","last"],R=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(C,t);var e,n,s,x=D(C);function C(){return k(this,C),x.apply(this,arguments)}return e=C,(n=[{key:"getShowEvent",value:function(t){var e=null;return(0,u.isObject)(t)?null!==t.name&&(e=t.name||"dxcontextmenu"):e=t,e}},{key:"getShowDelay",value:function(t){return(0,u.isObject)(t)&&t.delay}},{key:"_getDefaultOptions",value:function(){return(0,p.extend)(I(O(C.prototype),"_getDefaultOptions",this).call(this),{showEvent:"dxcontextmenu",closeOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}},{key:"_defaultOptionsRules",value:function(){return I(O(C.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return!(0,g.hasWindow)()},options:{animation:null}}])}},{key:"_initActions",value:function(){var t=this;this._actions={},(0,d.each)(P,(function(e,n){t._actions[n]=t._createActionByOption(n)||l.noop}))}},{key:"_setOptionsByReference",value:function(){I(O(C.prototype),"_setOptionsByReference",this).call(this),(0,p.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})}},{key:"_focusInHandler",value:function(){}},{key:"_itemContainer",value:function(){return this._overlay?this._overlay.$content():(0,i.default)()}},{key:"_eventBindingTarget",value:function(){return this._itemContainer()}},{key:"itemsContainer",value:function(){return this._overlay?this._overlay.$content():void 0}},{key:"_supportedKeys",value:function(){var t=this;return(0,p.extend)(I(O(C.prototype),"_supportedKeys",this).call(this),{space:function(){var e=(0,i.default)(t.option("focusedElement"));t.hide(),e.length&&t._isSelectionEnabled()&&t.selectItem(e[0])},esc:this.hide})}},{key:"_getActiveItem",value:function(){var t=this._getAvailableItems(),e=t.filter(".".concat("dx-state-focused")),n=t.filter(".".concat("dx-state-hover"));return n.closest(".".concat("dx-menu-items-container")).find(".".concat("dx-menu-item")).index(e)>=0?e:n.length?n:I(O(C.prototype),"_getActiveItem",this).call(this)}},{key:"_moveFocus",value:function(t){var e,n=this._getItemsByLocation(t),o=this._getActiveItem(!0),r=this.itemsContainer().find(".".concat("dx-state-hover")),a=!(!(0,i.default)(this.option("focusedElement")).length&&!r.length);switch(t){case"up":e=a?this._prevItem(n):o,o.is(n.first())&&this._actions.onLeftFirstItem(o);break;case"down":e=a?this._nextItem(n):o,o.is(n.last())&&this._actions.onLeftLastItem(o);break;case"right":e=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(n,t);break;case"left":e=this.option("rtlEnabled")?this._expandSubmenuHandler(n,t):this._hideSubmenuHandler();break;case"first":e=n.first();break;case"last":e=n.last();break;default:return I(O(C.prototype),"_moveFocus",this).call(this,t)}0!==e.length&&this.option("focusedElement",(0,c.getPublicElement)(e))}},{key:"_getItemsByLocation",value:function(t){var e,n=this._getActiveItem(!0);return(0,f.inArray)(t,A)>=0&&(e=n.closest(".".concat("dx-menu-items-container")).children().children()),e=this._getAvailableItems(e)}},{key:"_getAriaTarget",value:function(){return this.$element()}},{key:"_refreshActiveDescendant",value:function(){if((0,u.isDefined)(this._overlay)){var t=this._overlay.$content();I(O(C.prototype),"_refreshActiveDescendant",this).call(this,t)}}},{key:"_hideSubmenuHandler",value:function(){var t=this._getActiveItem(!0),e=t.parents(".".concat("dx-menu-item-expanded")).first();return e.length?(this._hideSubmenusOnSameLevel(e),this._hideSubmenu(t.closest(".".concat("dx-submenu"))),e):(this._actions.onCloseRootSubmenu(t),t)}},{key:"_expandSubmenuHandler",value:function(t,e){var n=this._getActiveItem(!0),i=this._getItemData(n),o=this._dataAdapter.getNodeByItem(i),r=this._hasSubmenu(o),a=n.children(".".concat("dx-submenu"));return r&&!n.hasClass("dx-state-disabled")?(a.length&&"hidden"!==a.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(e))):(this._actions.onExpandLastSubmenu(n),n)}},{key:"_clean",value:function(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),I(O(C.prototype),"_clean",this).call(this)}},{key:"_initMarkup",value:function(){this.$element().addClass("dx-has-context-menu"),I(O(C.prototype),"_initMarkup",this).call(this)}},{key:"_render",value:function(){I(O(C.prototype),"_render",this).call(this),this._renderVisibility(this.option("visible")),this._addWidgetClass()}},{key:"_renderContentImpl",value:function(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}},{key:"_attachKeyboardEvents",value:function(){!this._keyboardListenerId&&this._focusTarget().length&&I(O(C.prototype),"_attachKeyboardEvents",this).call(this)}},{key:"_renderContextMenuOverlay",value:function(){if(!this._overlay){var t=this._getOverlayOptions();this._overlay=this._createComponent((0,i.default)("<div>").appendTo(this._$element),b.default,t);var e=this._overlay.$content();e.addClass("dx-context-menu"),this._addCustomCssClass(e),this._addPlatformDependentClass(e),this._attachContextMenuEvent()}}},{key:"_itemContextMenuHandler",value:function(t){I(O(C.prototype),"_itemContextMenuHandler",this).call(this,t),t.stopPropagation()}},{key:"_addPlatformDependentClass",value:function(t){y.default.current().phone&&t.addClass("dx-menu-phone-overlay")}},{key:"_detachShowContextMenuEvents",value:function(t){var e=this.getShowEvent(this.option("showEvent"));if(e){var n=(0,_.addNamespace)(e,this.NAME);this._showContextMenuEventHandler?r.default.off(o.default.getDocument(),n,t,this._showContextMenuEventHandler):r.default.off((0,i.default)(t),n)}}},{key:"_attachShowContextMenuEvents",value:function(){var t=this,e=this._getTarget(),n=this.getShowEvent(this.option("showEvent"));if(n){var a=(0,_.addNamespace)(n,this.NAME),s=this._createAction((function(e){var n=t.getShowDelay(t.option("showEvent"));n?setTimeout((function(){return t._show(e.event)}),n):t._show(e.event)}),{validatingTargetName:"target"}),l=function(t){return s({event:t,target:(0,i.default)(t.currentTarget)})};s=this._createAction(s),(0,u.isRenderer)(e)||e.nodeType||(0,u.isWindow)(e)?(this._showContextMenuEventHandler=void 0,r.default.on(e,a,l)):(this._showContextMenuEventHandler=l,r.default.on(o.default.getDocument(),a,e,this._showContextMenuEventHandler))}}},{key:"_hoverEndHandler",value:function(t){I(O(C.prototype),"_hoverEndHandler",this).call(this,t),t.stopPropagation()}},{key:"_renderDimensions",value:function(){}},{key:"_renderContainer",value:function(t,e){var n=e||this._itemContainer();(t=(0,i.default)("<div>")).appendTo(n).addClass("dx-submenu").css("visibility",e?"hidden":"visible");var o=I(O(C.prototype),"_renderContainer",this).call(this,t);return e?o:this.option("width")?o.css("minWidth",this.option("width")):this.option("height")?o.css("minHeight",this.option("height")):o}},{key:"_renderSubmenuItems",value:function(t,e){this._renderItems(this._getChildNodes(t),e),this._actions.onSubmenuCreated({itemElement:(0,c.getPublicElement)(e),itemData:t.internalFields.item,submenuElement:(0,c.getPublicElement)(e.children(".".concat("dx-submenu")))})}},{key:"_getOverlayOptions",value:function(){var t=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,closeOnOutsideClick:this._closeOnOutsideClickHandler.bind(this),propagateOutsideClick:!0,closeOnTargetScroll:!0,deferRendering:!1,position:{at:t.at,my:t.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this)}}},{key:"_overlayShownActionHandler",value:function(t){this._actions.onShown(t)}},{key:"_overlayHidingActionHandler",value:function(t){this._actions.onHiding(t),t.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}},{key:"_overlayHiddenActionHandler",value:function(t){this._actions.onHidden(t)}},{key:"_closeOnOutsideClickHandler",value:function(t){var e=this.option("closeOnOutsideClick");if((0,u.isFunction)(e))return e(t);if(!e)return!1;if(o.default.isDocument(t.target))return!0;var n=this._getActiveItemsContainer(t.target),i=this._getItemsContainers(),r=this._searchActiveItem(t.target),a=this.$element().parents(".".concat("dx-menu-item")),s=r[0]===a[0]&&r.length&&a.length;return!(this._isIncludeOverlay(n,i)&&r.length)&&!s||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(r),!1)}},{key:"_getActiveItemsContainer",value:function(t){return(0,i.default)(t).closest(".".concat("dx-menu-items-container"))}},{key:"_getItemsContainers",value:function(){return this._overlay._$content.find(".".concat("dx-menu-items-container"))}},{key:"_searchActiveItem",value:function(t){return(0,i.default)(t).closest(".".concat("dx-menu-item")).eq(0)}},{key:"_isIncludeOverlay",value:function(t,e){var n=!1;return(0,d.each)(e,(function(e,i){t.is(i)&&!n&&(n=!0)})),n}},{key:"_hideAllShownChildSubmenus",value:function(t){var e=this,n=t.find(".".concat("dx-submenu")),i=(0,p.extend)([],this._shownSubmenus);n.length>0&&(0,d.each)(i,(function(n,i){var o=e._searchActiveItem(i.context).parent();o.parent().is(t.parent().parent())&&!o.is(t.parent())&&e._hideSubmenu(i)}))}},{key:"_showSubmenu",value:function(t){var e=this._dataAdapter.getNodeByItem(this._getItemData(t));if(this._hideSubmenusOnSameLevel(t),this._hasSubmenu(e)){var n=t.children(".".concat("dx-submenu")),i=n.length;I(O(C.prototype),"_showSubmenu",this).call(this,t),i||this._renderSubmenuItems(e,t),this._isSubmenuVisible(n)||this._drawSubmenu(t)}}},{key:"_hideSubmenusOnSameLevel",value:function(t){var e=t.parent(".".concat("dx-menu-item-wrapper")).siblings().find(".".concat("dx-menu-item-expanded"));e.length&&(e.removeClass("dx-menu-item-expanded"),this._hideSubmenu(e.find(".".concat("dx-submenu"))))}},{key:"_hideSubmenuGroup",value:function(t){this._isSubmenuVisible(t)&&this._hideSubmenuCore(t)}},{key:"_isSubmenuVisible",value:function(t){return"visible"===t.css("visibility")}},{key:"_drawSubmenu",value:function(t){var e=this.option("animation")?this.option("animation").show:{},n=t.children(".".concat("dx-submenu")),i=this._getSubmenuPosition(t);this._overlay&&this._overlay.option("visible")&&((0,u.isDefined)(this._shownSubmenus)||(this._shownSubmenus=[]),(0,f.inArray)(n,this._shownSubmenus)&&this._shownSubmenus.push(n),e&&m.default.stop(n),v.default.setup(n,i),e&&((0,u.isPlainObject)(e.to)&&(e.to.position=i),this._animate(n,e)),n.css("visibility","visible"))}},{key:"_animate",value:function(t,e){m.default.animate(t,e)}},{key:"_getSubmenuPosition",value:function(t){var e=this.option("submenuDirection").toLowerCase(),n={collision:"flip",of:t.parent(".".concat("dx-menu-item-wrapper")),offset:{h:0,v:-1}};switch(e){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n}},{key:"_updateSubmenuVisibilityOnClick",value:function(t){if(t.args.length){var e=t.args[0].itemData,n=this._dataAdapter.getNodeByItem(e);if(n){var o=(0,i.default)(t.args[0].itemElement),r=o.find(".".concat("dx-submenu"));if(this._hasSubmenu(n)&&!r.length&&(this._renderSubmenuItems(n,o),r=o.find(".".concat("dx-submenu"))),o.context!==r.context||"visible"!==r.css("visibility")){var a=e&&!1===e.closeMenuOnClick;if(e&&!e.disabled&&!a)if(this._updateSelectedItemOnClick(t),0===r.length){var s=(0,i.default)(o.parents(".".concat("dx-submenu"))[0]);this._hideSubmenu(s),!t.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(r)&&this._hideSubmenu(r),this._showSubmenu(o)}}}}},{key:"_hideSubmenu",value:function(t){var e=this,n=(0,p.extend)([],this._shownSubmenus);(0,d.each)(n,(function(n,i){(t.is(i)||(0,h.contains)(t[0],i[0]))&&(i.parent().removeClass("dx-menu-item-expanded"),e._hideSubmenuCore(i))}))}},{key:"_hideSubmenuCore",value:function(t){var e=(0,f.inArray)(t,this._shownSubmenus),n=this.option("animation")?this.option("animation").hide:null;e>=0&&this._shownSubmenus.splice(e,1),this._stopAnimate(t),n&&this._animate(t,n),t.css("visibility","hidden")}},{key:"_stopAnimate",value:function(t){m.default.stop(t,!0)}},{key:"_hideAllShownSubmenus",value:function(){var t=this,e=(0,p.extend)([],this._shownSubmenus);this._overlay.$content().find(".".concat("dx-menu-item-expanded")).removeClass("dx-menu-item-expanded"),(0,d.each)(e,(function(e,n){t._hideSubmenu(n)}))}},{key:"_visibilityChanged",value:function(t){t&&this._renderContentImpl()}},{key:"_optionChanged",value:function(t){if((0,f.inArray)(t.name,P)>-1)this._initActions();else switch(t.name){case"visible":this._renderVisibility(t.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(t.previousValue),this._invalidate();break;case"closeOnOutsideClick":break;default:I(O(C.prototype),"_optionChanged",this).call(this,t)}}},{key:"_renderVisibility",value:function(t){return t?this._show():this._hide()}},{key:"_toggleVisibility",value:function(){}},{key:"_show",value:function(t){var e={jQEvent:t},n=(new w.Deferred).reject().promise();if(this._actions.onShowing(e),e.cancel)return n;var i=this._positionContextMenu(t);return i&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",i),n=this._overlay.show(),t&&t.stopPropagation(),this._setAriaAttributes()),n}},{key:"_setAriaAttributes",value:function(){this._overlayContentId="dx-".concat(new a.default),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}},{key:"_cleanAriaAttributes",value:function(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}},{key:"_getTarget",value:function(){return this.option("target")||this.option("position").of||(0,i.default)(o.default.getDocument())}},{key:"_getContextMenuPosition",value:function(){return(0,p.extend)({},this.option("position"),{of:this._getTarget()})}},{key:"_positionContextMenu",value:function(t){var e=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning",o);t&&t.preventDefault&&n&&(e.of=t);var o={position:e,event:t};return i(o),o.cancel?e=null:o.event&&(o.event.cancel=!0,t.preventDefault()),e}},{key:"_refresh",value:function(){if((0,g.hasWindow)())if(this._overlay){var t=this._overlay.option("position");I(O(C.prototype),"_refresh",this).call(this),this._overlay&&this._overlay.option("position",t)}else I(O(C.prototype),"_refresh",this).call(this);else I(O(C.prototype),"_refresh",this).call(this)}},{key:"_hide",value:function(){var t;return this._overlay&&(t=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),t||(new w.Deferred).reject().promise()}},{key:"toggle",value:function(t){var e=this.option("visible");return t=void 0===t?!e:t,this._renderVisibility(t)}},{key:"show",value:function(){return this.toggle(!0)}},{key:"hide",value:function(){return this.toggle(!1)}}])&&E(e.prototype,n),s&&E(e,s),C}(x.default);(0,s.default)("dxContextMenu",R);var B=R;e.default=B,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=p(n(20)),o=n(6),r=n(5),a=n(2),s=n(3),l=p(n(25)),u=p(n(178)),h=n(21),c=p(n(70)),d=p(n(106)),f=p(n(383));function p(t){return t&&t.__esModule?t:{default:t}}var g=i.default.inherit({ctor:function(t){this.options={},(0,s.extend)(this.options,this._defaultOptions(),t),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(t,e){this.options[t]=e,"recursiveSelection"===t&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new f.default,onNodeChanged:o.noop,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray("selected")},_updateExpansion:function(t){this.options.recursiveExpansion&&(t?this._updateOneBranch(t):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray("expanded")},_updateNodesKeysArray:function(t){var e=this,n=[];return(0,r.each)(e._getDataBySelectionMode(),(function(i,o){e._isNodeVisible(o)&&o.internalFields[t]&&("expanded"===t||e.options.multipleSelection?n.push(o.internalFields.key):(n.length&&e.toggleSelection(n[0],!1,!0),n=[o.internalFields.key]))})),n},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(t){return!1!==t.internalFields.item.visible},_getByKey:function(t,e){return t===this._dataStructure?this.options.dataConverter._getByKey(e):this.options.dataConverter.getByKey(t,e)},_setChildrenSelection:function(){var t=this;(0,r.each)(this._dataStructure,(function(e,n){if(n.internalFields.childrenKeys.length){var i=n.internalFields.selected;!0===i&&t._toggleChildrenSelection(n,i)}}))},_setParentSelection:function(){var t=this;(0,r.each)(this._dataStructure,(function(e,n){t.options.dataConverter.getParentNode(n)&&n.internalFields.parentKey!==t.options.rootValue&&t._iterateParents(n,(function(e){var n=t._calculateSelectedState(e);t._setFieldState(e,"selected",n)}))}))},_setParentExpansion:function(){var t=this;(0,r.each)(this._dataStructure,(function(e,n){n.internalFields.expanded&&t._updateOneBranch(n.internalFields.key)}))},_updateOneBranch:function(t){var e=this,n=this.getNodeByKey(t);e._iterateParents(n,(function(t){e._setFieldState(t,"expanded",!0)}))},_iterateChildren:function(t,e,n,i){if((0,a.isFunction)(n)){var o=this,s=t.internalFields.key;-1===(i=i||[]).indexOf(s)&&(i.push(s),(0,r.each)(t.internalFields.childrenKeys,(function(t,r){var a=o.getNodeByKey(r);n(a),a.internalFields.childrenKeys.length&&e&&o._iterateChildren(a,e,n,i)})))}},_iterateParents:function(t,e,n){if(t.internalFields.parentKey!==this.options.rootValue&&(0,a.isFunction)(e)){n=n||[];var i=t.internalFields.key;if(-1===n.indexOf(i)){n.push(i);var o=this.options.dataConverter.getParentNode(t);o&&(e(o),o.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(o,e,n))}}},_calculateSelectedState:function(t){for(var e=t.internalFields.childrenKeys.length,n=0,i=0,o=!1,r=0;r<=e-1;r++){var a=this.getNodeByKey(t.internalFields.childrenKeys[r]),s=!1===a.internalFields.item.visible,l=a.internalFields.selected;s?i++:l?n++:void 0===l&&(n+=.5)}return n&&(o=n===e-i||void 0),o},_toggleChildrenSelection:function(t,e){var n=this;this._iterateChildren(t,!0,(function(t){n._isNodeVisible(t)&&n._setFieldState(t,"selected",e)}))},_setFieldState:function(t,e,n){t.internalFields[e]!==n&&(t.internalFields[e]=n,t.internalFields.publicNode&&(t.internalFields.publicNode[e]=n),this.options.dataAccessors.setters[e](t.internalFields.item,n),this.options.onNodeChanged(t))},_markChildren:function(t){var e=this;(0,r.each)(t,(function(t,n){var i=e.getIndexByKey(n),o=e.getNodeByKey(n);e._dataStructure[i]=0,o.internalFields.childrenKeys.length&&e._markChildren(o.internalFields.childrenKeys)}))},_removeNode:function(t){var e=this.getNodeByKey(t);this._dataStructure[this.getIndexByKey(t)]=0,this._markChildren(e.internalFields.childrenKeys);var n=this,i=0,o=(0,s.extend)([],this._dataStructure);(0,r.each)(o,(function(t,e){e||(n._dataStructure.splice(t-i,1),i++)}))},_addNode:function(t){var e=this.options.dataConverter,n=e._convertItemToNode(t,this.options.dataAccessors.getters.parentKey(t));this._dataStructure=this._dataStructure.concat(n),this._initialDataStructure=this._initialDataStructure.concat(n),e._dataStructure=e._dataStructure.concat(n)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(t){var e=null;return(0,r.each)(this._dataStructure,(function(n,i){if(i.internalFields.item===t)return e=i,!1})),e},getNodesByItems:function(t){var e=this,n=[];return(0,r.each)(t,(function(t,i){var o=e.getNodeByItem(i);o&&n.push(o)})),n},getNodeByKey:function(t,e){return this._getByKey(e||this._getDataBySelectionMode(),t)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(t){return t.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(t){return(0,c.default)(this._dataStructure).filter(["internalFields.parentKey",t]).toArray()},getIndexByKey:function(t){return this.options.dataConverter.getIndexByKey(t)},addItem:function(t){this._addNode(t),this._updateFields()},removeItem:function(t){this._removeNode(t),this._updateFields()},toggleSelection:function(t,e,n){var i=this._isSingleModeUnselect(e),o=this._getByKey(n||i?this._initialDataStructure:this._dataStructure,t);this._setFieldState(o,"selected",e),this.options.recursiveSelection&&!n&&(e?this._setChildrenSelection():this._toggleChildrenSelection(o,e),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray("selected")},_isSingleModeUnselect:function(t){return!this.options.multipleSelection&&!t},toggleNodeDisabledState:function(t,e){var n=this.getNodeByKey(t);this._setFieldState(n,"disabled",e)},toggleSelectAll:function(t){if((0,a.isDefined)(t)){var e=this,n=e._selectedNodesKeys[e._selectedNodesKeys.length-1],i=e._isSingleModeUnselect(t)?this._initialDataStructure:this._dataStructure;(0,r.each)(i,(function(n,i){e._isNodeVisible(i)&&e._setFieldState(i,"selected",t)})),e._selectedNodesKeys=e._updateNodesKeysArray("selected"),!t&&e.options.selectionRequired&&e.toggleSelection(n,!0)}},isAllSelected:function(){return!!this.getSelectedNodesKeys().length&&(this.getSelectedNodesKeys().length===this.getVisibleItemsCount()||void 0)},toggleExpansion:function(t,e){var n=this.getNodeByKey(t);this._setFieldState(n,"expanded",e),e&&this._updateExpansion(t),this._expandedNodesKeys=this._updateNodesKeysArray("expanded")},isFiltered:function(t){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[t]).length},_createCriteria:function(t,e,n){var i=[];return Array.isArray(t)?((0,r.each)(t,(function(t,o){i.push([o,n,e],"or")})),i.pop(),i):[t,n,e]},_filterDataStructure:function(t,e){var n=this.options.searchExpr||this.options.dataAccessors.getters.display,i=u.default.getOperationBySearchMode(this.options.searchMode),o=this._createCriteria(n,t,i);return e=e||this._initialDataStructure,(0,c.default)(e).filter(o).toArray()},search:function(t){var e=this,n=this._filterDataStructure(t),i=this.options.dataConverter;return function t(n,o){for(var r=n.length;o<r;){var a=n[o];if(a.internalFields.parentKey!==e.options.rootValue){var s=i.getParentNode(a);s?(s.internalFields.expanded||e._setFieldState(s,"expanded",!0),(0,h.inArray)(s,n)>-1?o++:(n.splice(o,0,s),t(n,o))):(l.default.log("W1007",a.internalFields.parentKey,a.internalFields.key),o++)}else o++}}(n,0),this.options.sort&&(n=d.default.queryByOptions((0,c.default)(n),{sort:this.options.sort}).toArray()),i._indexByKey={},(0,r.each)(n,(function(t,e){e.internalFields.childrenKeys=[],i._indexByKey[e.internalFields.key]=t})),i._dataStructure=n,i.setChildrenKeys(),i._dataStructure}});e.default=g,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=f(n(1)),o=n(14),r=f(n(24)),a=f(n(7)),s=f(n(17)),l=n(21),u=n(3),h=f(n(19)),c=f(n(233)),d=n(13);function f(t){return t&&t.__esModule?t:{default:t}}var p=(0,o.getWindow)(),g=(0,o.getNavigator)().userAgent,m=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],v=c.default.inherit({ctor:function(t,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass("dx-textbox"),this.callBase(),this.setAria("role","textbox")},_renderContentImpl:function(){this._renderMaxLengthHandlers(),this.callBase()},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_renderMaxLengthHandlers:function(){this._isAndroidOrIE()&&(a.default.on(this._input(),(0,d.addNamespace)("keydown",this.NAME),this._onKeyDownCutOffHandler.bind(this)),a.default.on(this._input(),(0,d.addNamespace)("change",this.NAME),this._onChangeCutOffHandler.bind(this)))},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var t=this._getMaxLength();t&&t>0?this._input().attr("maxLength",t):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var t=this._$element;"search"===this.option("mode")?(t.addClass("dx-searchbox"),this._renderSearchIcon(),void 0===this._showClearButton&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(t.removeClass("dx-searchbox"),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",void 0===this._showClearButton?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=(0,i.default)("<div>").addClass("dx-icon").addClass("dx-icon-search");t.prependTo(this._input().parent()),this._$searchIcon=t},_optionChanged:function(t){switch(t.name){case"maxLength":this._toggleMaxLengthProp(),this._renderMaxLengthHandlers();break;case"mask":this.callBase(t),this._toggleMaxLengthProp();break;default:this.callBase(t)}},_onKeyDownCutOffHandler:function(t){var e=this._getMaxLength();if(e){var n=(0,i.default)(t.target),o=(0,d.normalizeKeyName)(t);return this._cutOffExtraChar(n),n.val().length<e||-1!==(0,l.inArray)(o,m)||""!==p.getSelection().toString()}return!0},_onChangeCutOffHandler:function(t){var e=(0,i.default)(t.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(t){var e=this._getMaxLength(),n=t.val();e&&n.length>e&&t.val(n.substr(0,e))},_getMaxLength:function(){return!!this.option("mask")?null:this.option("maxLength")},_isAndroidOrIE:function(){var t=s.default.real(),e=t.version.join(".");return r.default.msie||"android"===t.platform&&e&&/^(2\.|4\.1)/.test(e)&&!/chrome/i.test(g)}});(0,h.default)("dxTextBox",v);var y=v;e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=b(n(1)),o=b(n(373)),r=n(374),a=n(5),s=n(13),l=b(n(7)),u=n(3),h=n(68),c=n(2),d=b(n(18)),f=n(6),p=n(55),g=n(167),m=n(375),v=b(n(376)),y=b(n(381)),_=b(n(382));function b(t){return t&&t.__esModule?t:{default:t}}var x=function(){return{}},w=o.default,C={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(t){return k(t)},l:function(t){return k(t)||E(t)},C:/\S/,c:/./,A:function(t){return k(t)||S(t)},a:function(t){return k(t)||S(t)||E(t)}};function S(t){return/[0-9]/.test(t)}function k(t){var e=t.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function E(t){return" "===t}var I=v.default.inherit({_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:d.default.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var t=this,e={backspace:t._maskStrategy.getHandler("backspace"),del:t._maskStrategy.getHandler("del"),enter:t._changeHandler},n=t.callBase();return(0,a.each)(e,(function(e,i){var o=n[e];n[e]=function(e){t.option("mask")&&i.call(t,e),o&&o(e)}})),n},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=(0,r.isInputEventsL2Supported)()?new _.default(this):new y.default(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){if(this._onMouseWheel!==f.noop){var t=this._input(),e=(0,s.addNamespace)(g.name,this.NAME),n=this._createAction(function(e){if((0,h.focused)(t)){var n=e.event;this._onMouseWheel(n),n.preventDefault(),n.stopPropagation()}}.bind(this));l.default.off(t,e),l.default.on(t,e,(function(t){n({event:t})}))}},_onMouseWheel:f.noop,_render:function(){this._renderMask(),this.callBase(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=(0,i.default)("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass("dx-texteditor-masked"),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass("dx-texteditor-masked"),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_suppressCaretChanging:function(t,e){w=x;try{t.apply(this,e)}finally{w=o.default}},_changeHandler:function(t){var e=this._input(),n=e.val();if(n!==this._changedValue){this._changedValue=n;var i=(0,s.createEvent)(t,{type:"change"});l.default.trigger(e,i)}},_parseMask:function(){this._maskRules=(0,u.extend)({},C,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(t){var e=this.option("mask");if(t>=e.length)return new m.EmptyMaskRule;var n=e[t],i="\\"===n,o=i?new m.StubMaskRule({maskChar:e[t+1]}):this._getMaskRule(n);return o.next(this._parseMaskRule(t+1+i)),o},_getMaskRule:function(t){var e;return(0,a.each)(this._maskRules,(function(n,i){if(n===t)return e={pattern:n,allowedChars:i},!1})),(0,c.isDefined)(e)?new m.MaskRule((0,u.extend)({maskChar:this.option("maskChar")},e)):new m.StubMaskRule({maskChar:t})},_renderMaskedValue:function(){if(this._maskRulesChain){var t=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:t.length};e[this._isMaskedValueMode()?"text":"value"]=t,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(t,e,n){return void 0===n?t:t.slice(0,e.start)+n+t.slice(e.end)},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(t){t=t||this._caret(),this._renderValue(),this._caret(t)},_isValueEmpty:function(){return(0,p.isEmpty)(this._value)},_shouldShowMask:function(){return"onFocus"!==this.option("showMaskMode")||((0,h.focused)(this._input())||!this._isValueEmpty())},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var t=this._maskRulesChain.text();this.option("text",t),"onFocus"===this.option("showMaskMode")&&this._renderDisplayText(t)}},_renderValue:function(){if(this._maskRulesChain){var t=this._maskRulesChain.text();if(this._showMaskPlaceholder(),this._$hiddenElement){var e=this._maskRulesChain.value(),n=this._isMaskedValueMode()?t:e;this._$hiddenElement.val((0,p.isEmpty)(e)?"":n)}}return this.callBase()},_valueChangeEventHandler:function(t){this._maskRulesChain?(this._saveValueChangeEvent(t),this.option("value",this._convertToValue().replace(/\s+$/,""))):this.callBase.apply(this,arguments)},_isControlKeyFired:function(t){return this._isControlKey((0,s.normalizeKeyName)(t))||t.ctrlKey||t.metaKey},_handleChain:function(t){var e=this._maskRulesChain.handle(this._normalizeChainArguments(t));return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),e},_normalizeChainArguments:function(t){return(t=t||{}).index=0,t.fullText=this._maskRulesChain.text(),t},_convertToValue:function(t){return t=this._isMaskedValueMode()?this._replaceMaskCharWithEmpty(t||this._textValue||""):t||this._value||""},_replaceMaskCharWithEmpty:function(t){return t.replace(new RegExp(this.option("maskChar"),"g")," ")},_maskKeyHandler:function(t,e){var n=this;if(!this.option("readOnly")){this.setForwardDirection(),t.preventDefault(),this._handleSelection();var i=this._input().val(),o=function(){i!==n._input().val()&&n._maskStrategy.runWithoutEventProcessing((function(){return l.default.trigger(n._input(),"input")}))},r=e();r?r.then(o):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),o())}},_handleKey:function(t,e){this._direction(e||"forward"),this._adjustCaret(t),this._handleKeyChain(t),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var t=this._caret(),e=new Array(t.end-t.start+1).join(" ");this._handleKeyChain(e)}},_handleKeyChain:function(t){var e=this._caret(),n=this.isForwardDirection()?e.start:e.start-1,i=this.isForwardDirection()?e.end:e.end-1,o=n===i?1:i-n;this._handleChain({text:t,start:n,length:o})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var t=this._caret().start;return this._adjustCaret(),!t||t!==this._caret().start},_adjustCaret:function(t){var e=this._maskRulesChain.adjustedCaret(this._caret().start,this.isForwardDirection(),t);this._caret({start:e,end:e})},_moveCaret:function(){var t=this._caret().start,e=t+(this.isForwardDirection()?0:-1),n=this._maskRulesChain.isAccepted(e)?t+(this.isForwardDirection()?1:-1):t;this._caret({start:n,end:n})},_caret:function(t){var e=this._input();if(e.length)return arguments.length?void w(e,t):w(e)},_hasSelection:function(){var t=this._caret();return t.start!==t.end},_direction:function(t){if(!arguments.length)return this._typingDirection;this._typingDirection=t},setForwardDirection:function(){this._direction("forward")},setBackwardDirection:function(){this._direction("backward")},isForwardDirection:function(){return"forward"===this._direction()},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var t=(0,p.isEmpty)(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(t){if(!t){var e=this.option("value");this.option({text:e,isValid:!0}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(t){switch(t.name){case"mask":this._updateMaskOption(),this._processEmptyMask(t.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(t),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(t)}}});e.default=I,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=l(n(1)),o=n(2),r=l(n(24)),a=l(n(17)),s=l(n(16));function l(t){return t&&t.__esModule?t:{default:t}}var u=a.default.real(),h=u.ios,c=u.mac,d=r.default.msie||h||c,f=function(t,e){if(t=(0,i.default)(t).get(0),!(0,o.isDefined)(e))return function(t){var e;try{e={start:t.selectionStart,end:t.selectionEnd}}catch(n){e={start:0,end:0}}return e}(t);d&&s.default.getActiveElement()!==t||function(t,e){if(s.default.getBody().contains(t))try{t.selectionStart=e.start,t.selectionEnd=e.end}catch(n){}}(t,e)};e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.isInputEventsL2Supported=function(){return"onbeforeinput"in i.default.createElement("input")||function(){var t=o.default.real(),e=t.android,n=t.version;return e&&n[0]>4}()};var i=r(n(16)),o=r(n(17));function r(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.StubMaskRule=e.MaskRule=e.EmptyMaskRule=void 0;var i,o=(i=n(20))&&i.__esModule?i:{default:i},r=n(3),a=n(21),s=n(2),l=n(6);var u=o.default.inherit({ctor:function(t){this._value=" ",(0,r.extend)(this,t)},next:function(t){if(!arguments.length)return this._next;this._next=t},text:l.noop,value:l.noop,rawValue:l.noop,handle:l.noop,_prepareHandlingArgs:function(t,e){e=e||{};var n=Object.prototype.hasOwnProperty.call(t,"value")?"value":"text";return t[n]=(0,s.isDefined)(e.str)?e.str:t[n],t.start=(0,s.isDefined)(e.start)?e.start:t.start,t.length=(0,s.isDefined)(e.length)?e.length:t.length,t.index=t.index+1,t},reset:l.noop,clear:l.noop,first:function(t){return t=t||0,this.next().first(t+1)},isAccepted:function(){return!1},adjustedCaret:function(t,e,n){return e?this._adjustedForward(t,0,n):this._adjustedBackward(t,0,n)},_adjustedForward:l.noop,_adjustedBackward:l.noop,isValid:l.noop}),h=u.inherit({next:l.noop,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}});e.EmptyMaskRule=h;var c=u.inherit({text:function(){return(" "!==this._value?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value")?t.value:t.text;if(!e||!e.length||!t.length)return 0;if(t.start)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start-1}));var n=e[0],i=e.substring(1);return this._tryAcceptChar(n,t),this._accepted()?this.next().handle(this._prepareHandlingArgs(t,{str:i,length:t.length-1}))+1:this.handle(this._prepareHandlingArgs(t,{str:i,length:t.length-1}))},clear:function(t){this._tryAcceptChar(" ",t),this.next().clear(this._prepareHandlingArgs(t))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(t,e){if(this._accepted(!1),this._isAllowed(t,e)){var n=" "===t?this.maskChar:t;e.fullText=e.fullText.substring(0,e.index)+n+e.fullText.substring(e.index+1),this._accepted(!0),this._value=t}},_accepted:function(t){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!t},first:function(t){return" "===this._value?t||0:this.callBase(t)},_isAllowed:function(t,e){return" "===t||this._isValid(t,e)},_isValid:function(t,e){var n=this.allowedChars;return n instanceof RegExp?n.test(t):(0,s.isFunction)(n)?n(t,e.index,e.fullText):Array.isArray(n)?(0,a.inArray)(t,n)>-1:n===t},isAccepted:function(t){return 0===t?this._accepted():this.next().isAccepted(t-1)},_adjustedForward:function(t,e,n){return e>=t?e:this.next()._adjustedForward(t,e+1,n)||e+1},_adjustedBackward:function(t,e){return e>=t-1?t:this.next()._adjustedBackward(t,e+1)||e+1},isValid:function(t){return this._isValid(this._value,t)&&this.next().isValid(this._prepareHandlingArgs(t))}});e.MaskRule=c;var d=c.inherit({value:function(){return this.next().value()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value"),n=e?t.value:t.text;if(!n.length||!t.length)return 0;if(t.start||e)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start&&t.start-1}));var i=n[0],o=n.substring(1);this._tryAcceptChar(i);var r=this._isAllowed(i)?this._prepareHandlingArgs(t,{str:o,length:t.length-1}):t;return this.next().handle(r)+1},clear:function(t){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(t))},_tryAcceptChar:function(t){this._accepted(this._isValid(t))},_isValid:function(t){return t===this.maskChar},first:function(t){return t=t||0,this.next().first(t+1)},_adjustedForward:function(t,e,n){return e>=t&&n===this.maskChar?e:t===e+1&&this._accepted()?t:this.next()._adjustedForward(t,e+1,n)},_adjustedBackward:function(t,e){return e>=t-1?0:this.next()._adjustedBackward(t,e+1)},isValid:function(t){return this.next().isValid(this._prepareHandlingArgs(t))}});e.StubMaskRule=d},function(t,e,n){"use strict";e.default=void 0;var i=C(n(1)),o=C(n(16)),r=C(n(7)),a=n(44),s=n(68),l=n(2),u=n(3),h=n(21),c=n(5),d=n(48),f=C(n(17)),p=C(n(82)),g=n(13),m=C(n(33)),v=C(n(378)),y=C(n(379)),_=C(n(46)),b=C(n(25)),x=n(8),w=C(n(73));function C(t){return t&&t.__esModule?t:{default:t}}var S=["dx-editor-outlined","dx-editor-filled","dx-editor-underlined"],k=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],E=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"];function I(t){if((0,l.isDefined)(t)&&!Array.isArray(t))throw b.default.Error("E1053")}var T=p.default.inherit({ctor:function(t,e){e&&I(e.buttons),this._buttonCollection=new y.default(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return(0,l.isDefined)(t)&&!1!==t?t:""},stylingMode:(0,_.default)().editorStylingMode||"outlined",showValidationMark:!0})},_defaultOptionsRules:function(){var t=(0,d.current)();return this.callBase().concat([{device:function(){return(0,d.isMaterial)(t)},options:{stylingMode:(0,_.default)().editorStylingMode||"underlined"}}])},_setDeprecatedOptions:function(){this.callBase(),(0,u.extend)(this._deprecatedOptions,{onKeyPress:{since:"20.1",message:"This event is removed from the web standards and will be deprecated in modern browsers soon."}})},_getDefaultButtons:function(){return[{name:"clear",Ctor:v.default}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(".dx-texteditor-input").first()},_isFocused:function(){return(0,s.focused)(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find(".dx-texteditor-buttons-container").eq(0)},_isControlKey:function(t){return-1!==E.indexOf(t)},_renderStylingMode:function(){var t=this,e=this.option("stylingMode");S.forEach((function(e){return t.$element().removeClass(e)}));var n="dx-editor-"+e;if(-1===S.indexOf(n)){var i=this._getDefaultOptions().stylingMode;n="dx-editor-"+(this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode||i)}this.$element().addClass(n),this._updateButtonsStyling(e)},_initMarkup:function(){this.$element().addClass("dx-texteditor"),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue()},_render:function(){this._renderPlaceholder(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent(),this.callBase()},_renderInput:function(){this._$textEditorContainer=(0,i.default)("<div>").addClass("dx-texteditor-container").appendTo(this.$element()),this._$textEditorInputContainer=(0,i.default)("<div>").addClass("dx-texteditor-input-container").appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer:function(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass("dx-validation-pending");var t=this._getInputContainer(),e=(0,i.default)("<div>").addClass("dx-pending-indicator").appendTo(t);this._pendingIndicator=this._createComponent(e,w.default)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass("dx-validation-pending"))},_renderValidationState:function(){this.callBase();var t="pending"===this.option("validationStatus"),e=this.$element();t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):("invalid"===this.option("validationStatus")&&(this._showValidMark=!1),this._showValidMark||!0!==this.option("showValidationMark")||(this._showValidMark="valid"===this.option("validationStatus")&&!!this._pendingIndicator),this._disposePendingIndicator()),e.toggleClass("dx-valid",!!this._showValidMark)},_renderButtonContainers:function(){var t=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,this._$textEditorContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,this._$textEditorContainer)},_clean:function(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this.callBase()},_createInput:function(){var t=(0,i.default)("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){var n=(0,u.extend)(this._getDefaultAttributes(),e);t.attr(n).addClass("dx-texteditor-input").css("minHeight",this.option("height")?"0":"")},_getDefaultAttributes:function(){var t={autocomplete:"off"};return f.default.real().ios&&(t.placeholder=" "),t},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){var e=this;(0,c.each)(this.option("buttons"),(function(n,i){if(i.options&&!i.options.stylingMode){var o=e.getButton(i.name);o.option&&o.option("stylingMode","underlined"===t?"text":"contained")}}))},_renderValue:function(){return this._renderInputValue().promise()},_renderInputValue:function(t){t=t||this.option("value");var e=this.option("text"),n=this.option("displayValue"),i=this.option("displayValueFormatter");return void 0!==n&&null!==t?e=i(n):(0,l.isDefined)(e)||(e=i(t)),this.option("text",e),this._input().val()!==((0,l.isDefined)(e)?e:"")?this._renderDisplayText(e):this._toggleEmptinessEventHandler(),(new x.Deferred).resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass("dx-texteditor-empty",t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this.$element().find(".".concat("dx-placeholder")).toggleClass("dx-state-invisible",!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments);var e=this._input();t?e.attr("disabled",!0):e.removeAttr("disabled")},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),n=this.option("focusStateEnabled");e||!n?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),e=this.option("placeholder"),n=this._$placeholder=(0,i.default)("<div>").attr("data-dx_placeholder",e);n.insertAfter(t),n.addClass("dx-placeholder")},_attachPlaceholderEvents:function(){var t=this,e=(0,g.addNamespace)(m.default.up,this.NAME);r.default.on(this._$placeholder,e,(function(){r.default.trigger(t._input(),"focus")})),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||(0,i.default)()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&r.default.trigger(e,"focus"),r.default.trigger(e,"input")},_clearValue:function(){this.reset()},_renderEvents:function(){var t=this,e=this._input();(0,c.each)(k,(function(n,i){if(t.hasActionSubscription("on"+i)){var o=t._createActionByOption("on"+i,{excludeValidators:["readOnly"]});r.default.on(e,(0,g.addNamespace)(i.toLowerCase(),t.NAME),(function(e){t._disposed||o({event:e})}))}}))},_refreshEvents:function(){var t=this,e=this._input();(0,c.each)(k,(function(n,i){r.default.off(e,(0,g.addNamespace)(i.toLowerCase(),t.NAME))})),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(t){var e=this._input(),n=t.ctrlKey&&"enter"===(0,g.normalizeKeyName)(t),i=e.val()!==this.option("value");n&&i&&r.default.trigger(e,"change")},_renderValueChangeEvent:function(){var t=(0,g.addNamespace)(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=(0,g.addNamespace)(this.option("valueChangeEvent"),"".concat(this.NAME,"ValueChange")),n=(0,g.addNamespace)("keydown","".concat(this.NAME,"TextChange")),i=this._input();r.default.on(i,t,this._keyPressHandler.bind(this)),r.default.on(i,e,this._valueChangeEventHandler.bind(this)),r.default.on(i,n,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var t=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");r.default.off(this._input(),t),r.default.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return"focusin"===t.type&&(e=e&&this._isNestedTarget(t.target)),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase((0,i.default)(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();r.default.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(""===t||null===t)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0)},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),r.default.off(this._input(),"keyup.onEnterKey.dxTextEditor"),r.default.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||"enter"===(0,g.normalizeKeyName)(t)&&this._enterKeyAction({event:t})},_updateValue:function(){this.option("text",void 0),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_optionChanged:function(t){var e=t.name;if((0,h.inArray)(e.replace("on",""),k)>-1)this._refreshEvents();else switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),t.value);break;case"stylingMode":this._renderStylingMode();break;case"buttons":t.fullName===t.name&&I(t.value),this._$beforeButtonsContainer&&this._$beforeButtonsContainer.remove(),this._$afterButtonsContainer&&this._$afterButtonsContainer.remove(),this._buttonCollection.clean(),this._renderButtonContainers();break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();"search"===t&&(t="text");try{e.prop("type",t)}catch(n){e.prop("type","text")}},getButton:function(t){return this._buttonCollection.getButton(t)},focus:function(){r.default.trigger(this._input(),"focus")},blur:function(){this._input().is(o.default.getActiveElement())&&(0,a.resetActiveElement)()},reset:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this.option("text",""),this._renderValue()):this.option("value",t.value)},on:function(t,e){var n=this.callBase(t,e),i=t.charAt(0).toUpperCase()+t.substr(1);return k.indexOf(i)>=0&&this._refreshEvents(),n}});e.default=T,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=u(n(19)),r=u(n(79)),a=n(3),s=n(55),l=n(34);function u(t){return t&&t.__esModule?t:{default:t}}var h=r.default.inherit({_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",closeOnOutsideClick:!1,closeOnTargetScroll:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",mode:"auto",validationErrors:void 0,positionRequest:void 0,boundary:void 0,offset:{h:0,v:0}})},_init:function(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-invalid-message"),this._wrapper().addClass("dx-invalid-message"),this._toggleModeClass(),this._updateContentId()},_updateContentId:function(){var t=(0,i.default)(this.option("container")).attr("aria-describedby");this.$content().addClass("dx-invalid-message-content").attr("id",t)},_renderInnerHtml:function(t){var e=t&&(0,i.default)(t),n=this.option("validationErrors")||[],o="";n.forEach((function(t){o+=(o?"<br />":"")+(0,s.encodeHtml)((null===t||void 0===t?void 0:t.message)||"")})),null===e||void 0===e||e.html(o)},_toggleModeClass:function(){var t=this.option("mode");this.$element().toggleClass("dx-invalid-message-auto","auto"===t).toggleClass("dx-invalid-message-always","always"===t)},updateMaxWidth:function(){var t,e=this.option("target"),n=(null===e||void 0===e||null===(t=e.outerWidth)||void 0===t?void 0:t.call(e))||(0,i.default)(e).outerWidth(),o="100%";n&&(o=Math.max(n,100)),this.option({maxWidth:o})},_updatePosition:function(){var t=this.option(),e=t.positionRequest,n=t.rtlEnabled,i=t.offset,o=(0,l.getDefaultAlignment)(n),r="below"===e?[" top"," bottom"]:[" bottom"," top"];n&&(i.h=-i.h),"below"!==e&&(i.v=-i.v),this.option("position",{offset:i,boundary:this.option("boundary"),my:o+r[0],at:o+r[1],collision:"none flip"})},_optionChanged:function(t){var e=t.name,n=t.value;switch(e){case"target":this.updateMaxWidth();break;case"boundary":this.option("position.boundary",n);break;case"mode":this._toggleModeClass(n);break;case"rtlEnabled":case"offset":case"positionRequest":this._updatePosition();break;case"validationErrors":this._renderInnerHtml(this.$content());break;default:this.callBase(t)}}});(0,o.default)("dxValidationMessage",h);var c=h;e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=u(n(7)),r=u(n(145)),a=n(13),s=u(n(33)),l=n(30);function u(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return(f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=s.default.down,_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(u,t);var e,n,r,s=g(u);function u(){return c(this,u),s.apply(this,arguments)}return e=u,(n=[{key:"_create",value:function(){var t=(0,i.default)("<span>").addClass("dx-clear-button-area").append((0,i.default)("<span>").addClass("dx-icon").addClass("dx-icon-clear"));return this._addToContainer(t),this.update(!0),{instance:t,$element:t}}},{key:"_isVisible",value:function(){return this.editor._isClearButtonVisible()}},{key:"_attachEvents",value:function(t,e){var n=this.editor,i=n.NAME;o.default.on(e,(0,a.addNamespace)(y,i),(function(t){"mouse"===t.pointerType?t.preventDefault():n._clearValueHandler(t)})),o.default.on(e,(0,a.addNamespace)(l.name,i),(function(t){return n._clearValueHandler(t)}))}},{key:"_legacyRender",value:function(t,e){t.toggleClass("dx-show-clear-button",e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!t&&f(v(u.prototype),"update",this).call(this);var e=this.editor,n=this.instance,i=e.$element(),o=this._isVisible();n&&n.toggleClass("dx-state-invisible",!o),this._legacyRender(i,o)}}])&&d(e.prototype,n),r&&d(e,r),u}(r.default);e.default=_,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=l(n(1)),o=l(n(380)),r=n(3),a=n(21),s=l(n(25));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(-1!==t.indexOf(e))throw s.default.Error("E1055",e);t.push(e)}var d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buttons=[],this.defaultButtonsInfo=n,this.editor=e}var e,n,l;return e=t,(n=[{key:"_compileButtonInfo",value:function(t){var e=this,n=[];return t.map((function(t){var i,l="string"===typeof t;if(l||(i=t,function(){if(!i||"object"!==h(i)||Array.isArray(i))throw s.default.Error("E1053")}(),function(){if(!("name"in i))throw s.default.Error("E1054")}(),function(){if("string"!==typeof i.name)throw s.default.Error("E1055")}(),function(){var t=i.location;"location"in i&&"after"!==t&&"before"!==t&&(i.location="after")}()),l||function(t,e){return!!(0,a.find)(e,(function(e){return e.name===t}))}(t.name,e.defaultButtonsInfo)){var u=(0,a.find)(e.defaultButtonsInfo,(function(e){var n=e.name;return n===t||n===t.name}));if(!u)throw s.default.Error("E1056",e.editor.NAME,t);return c(n,t),u}var d=t.name;return c(n,d),(0,r.extend)(t,{Ctor:o.default})}))}},{key:"_createButton",value:function(t){var e=t.Ctor,n=t.options,i=new e(t.name,this.editor,n);return this.buttons.push(i),i}},{key:"_renderButtons",value:function(t,e,n){var o=this,r=null,a=t?this._compileButtonInfo(t):this.defaultButtonsInfo;return a.forEach((function(t){var a=t.location;(void 0===a?"after":a)===n&&o._createButton(t).render((r=r||(0,i.default)("<div>").addClass("dx-texteditor-buttons-container"),"before"===n?e.prepend(r):e.append(r),r))})),r}},{key:"clean",value:function(){this.buttons.forEach((function(t){return t.dispose()})),this.buttons=[]}},{key:"getButton",value:function(t){var e=(0,a.find)(this.buttons,(function(e){return e.name===t}));return e&&e.instance}},{key:"renderAfterButtons",value:function(t,e){return this._renderButtons(t,e,"after")}},{key:"renderBeforeButtons",value:function(t,e){return this._renderButtons(t,e,"before")}},{key:"updateButtons",value:function(t){this.buttons.forEach((function(e){t&&-1===t.indexOf(e.name)||e.update()}))}}])&&u(e.prototype,n),l&&u(e,l),t}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(1)),o=h(n(145)),r=h(n(45)),a=n(3),s=h(n(7)),l=n(168),u=n(30);function h(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return(p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(c,t);var e,n,o,h=m(c);function c(){return d(this,c),h.apply(this,arguments)}return e=c,(n=[{key:"_attachEvents",value:function(t,e){var n=this.editor;s.default.on(e,l.start,(function(){n.$element().addClass("dx-custom-button-hovered")})),s.default.on(e,l.end,(function(){n.$element().removeClass("dx-custom-button-hovered")})),s.default.on(e,u.name,(function(t){t.stopPropagation()}))}},{key:"_create",value:function(){var t=this.editor,e=(0,i.default)("<div>");return this._addToContainer(e),{$element:e,instance:t._createComponent(e,r.default,(0,a.extend)({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(t)}))}}},{key:"_prepareIntegrationOptions",value:function(t){return(0,a.extend)({},t.option("integrationOptions"),{skipTemplates:["content"]})}},{key:"update",value:function(){var t=p(y(c.prototype),"update",this).call(this);return this.instance&&this.instance.option("disabled",this._isDisabled()),t}},{key:"_isVisible",value:function(){return this.editor.option("visible")}},{key:"_isDisabled",value:function(){return void 0!==this.options.disabled?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}}])&&f(e.prototype,n),o&&f(e,o),c}(o.default);e.default=_,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=a(n(234)),o=n(13),r=a(n(124));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return(d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(s,t);var e,n,i,a=p(s);function s(){return h(this,s),a.apply(this,arguments)}return e=s,(n=[{key:"_getStrategyName",value:function(){return"default"}},{key:"getHandleEventNames",value:function(){return[].concat(l(d(m(s.prototype),"getHandleEventNames",this).call(this)),["keyPress"])}},{key:"_keyPressHandler",value:function(t){if(!this._keyPressHandled&&(this._keyPressHandled=!0,!this.editor._isControlKeyFired(t))){var e=this.editor;e._maskKeyHandler(t,(function(){return e._handleKey((0,o.getChar)(t))}))}}},{key:"_inputHandler",value:function(t){if(this._backspaceInputHandled(t.originalEvent&&t.originalEvent.inputType)&&this._handleBackspaceInput(t),t.originalEvent&&this._autoFillHandler(t),!this._keyPressHandled){this._keyPressHandled=!0;var e=this.editorInput().val(),n=this.editorCaret();if(n.end){n.start=n.end-1;var i=e.substring(0,n.start)+e.substring(n.end),o=e[n.start],r=this.editor;this.editorInput().val(i),r._caret({start:n.start,end:n.start}),r._maskKeyHandler(t,(function(){return r._handleKey(o)}))}}}},{key:"_backspaceHandler",value:function(t){var e=this,n=this.editor;this._keyPressHandled=!0;var i=function(t,i){t&&(n._direction(e.DIRECTION.FORWARD),n._adjustCaret());var o=e.editorCaret();return new r.default((function(t){clearTimeout(e._backspaceHandlerTimeout),e._backspaceHandlerTimeout=setTimeout((function(){i(o),t()}))}))};n._maskKeyHandler(t,(function(){return n._hasSelection()?i(!0,(function(t){n._displayMask(t),n._maskRulesChain.reset()})):n._tryMoveCaretBackward()?i(!1,(function(t){e.editorCaret(t)})):(n._handleKey(" ",e.DIRECTION.BACKWARD),i(!0,(function(t){n._displayMask(t),n._maskRulesChain.reset()})))}))}},{key:"_backspaceInputHandled",value:function(t){return"deleteContentBackward"===t&&!this._keyPressHandled}},{key:"_handleBackspaceInput",value:function(t){var e=this.editorCaret(),n=e.start,i=e.end;this.editorCaret({start:n+1,end:i+1}),this._backspaceHandler(t)}}])&&c(e.prototype,n),i&&c(e,i),s}(i.default);e.default=v,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(234))&&i.__esModule?i:{default:i};function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return(h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,t);var e,n,i,o=d(r);function r(){return l(this,r),o.apply(this,arguments)}return e=r,(n=[{key:"_getStrategyName",value:function(){return"inputEvents"}},{key:"getHandleEventNames",value:function(){return[].concat(a(h(p(r.prototype),"getHandleEventNames",this).call(this)),["beforeInput"])}},{key:"_beforeInputHandler",value:function(){this._prevCaret=this.editorCaret()}},{key:"_inputHandler",value:function(t){var e=t.originalEvent;if(e){var n=e.inputType,i=e.data,o=this.editorCaret();if("deleteContentBackward"===n){var r=this._prevCaret.end-this._prevCaret.start||1;this.editor.setBackwardDirection(),this._updateEditorMask({start:o.start,length:r,text:this._getEmptyString(r)})}else{if(!o.end)return;this._autoFillHandler(e),this.editorCaret(o);var a=this._prevCaret.end-this._prevCaret.start,s=i+(a?this._getEmptyString(a-i.length):"");this.editor.setForwardDirection(),this._updateEditorMask({start:this._prevCaret.start,length:a||s.length,text:s})||this.editorCaret(this._prevCaret)}}}},{key:"_getEmptyString",value:function(t){return Array(t+1).join(" ")}},{key:"_updateEditorMask",value:function(t){var e=t.text.length,n=this.editor._handleChain(t);if(this.editor.isForwardDirection()){var i=this.editorCaret(),o=i.start,r=i.end,a=n-e;o<=n&&n>1&&this.editorCaret({start:o+a,end:r+a}),this.editor.isForwardDirection()&&this.editor._adjustCaret()}return this.editor._displayMask(),!!n}}])&&u(e.prototype,n),i&&u(e,i),r}(o.default);e.default=g,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=l(n(20)),o=n(3),r=l(n(25)),a=n(5),s=n(2);function l(t){return t&&t.__esModule?t:{default:t}}var u=i.default.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(t,e){var n=this;(0,a.each)(t,(function(t,i){var o=(0,s.isDefined)(e)?e:n._getParentId(i),r=n._convertItemToNode(i,o);n._dataStructure.push(r),n._checkForDuplicateId(r.internalFields.key),n._indexByKey[r.internalFields.key]=n._dataStructure.length-1,n._itemHasChildren(i)&&n._convertItemsToNodes(n._dataAccessors.getters.items(i),r.internalFields.key)}))},_checkForDuplicateId:function(t){if((0,s.isDefined)(this._indexByKey[t]))throw r.default.Error("E1040",t)},_getParentId:function(t){return"plain"===this._dataType?this._dataAccessors.getters.parentKey(t):void 0},_itemHasChildren:function(t){if("plain"!==this._dataType){var e=this._dataAccessors.getters.items(t);return e&&e.length}},_getUniqueKey:function(t){var e=this._dataAccessors.getters.key,n=e(t);return e&&(n||0===n)&&(0,s.isPrimitive)(n)?n:this.getItemsCount()},_convertItemToNode:function(t,e){this._itemsCount++,!1!==t.visible&&this._visibleItemsCount++;var n={internalFields:{disabled:this._dataAccessors.getters.disabled(t,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(t,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(t,{defaultValue:!1}),key:this._getUniqueKey(t),parentKey:(0,s.isDefined)(e)?e:this._rootValue,item:this._makeObjectFromPrimitive(t),childrenKeys:[]}};return(0,o.extend)(n,t),delete n.items,n},setChildrenKeys:function(){var t=this;(0,a.each)(this._dataStructure,(function(e,n){if(n.internalFields.parentKey!==t._rootValue){var i=t.getParentNode(n);i&&i.internalFields.childrenKeys.push(n.internalFields.key)}}))},_makeObjectFromPrimitive:function(t){if((0,s.isPrimitive)(t)){var e=t;t={},this._dataAccessors.setters.key(t,e)}return t},_convertToPublicNode:function(t,e){if(!t)return null;var n={text:this._dataAccessors.getters.display(t),key:t.internalFields.key,selected:t.internalFields.selected,expanded:t.internalFields.expanded,disabled:t.internalFields.disabled,parent:e||null,itemData:t.internalFields.item,children:[],items:[]};return n.parent&&(n.parent.children.push(n),n.parent.items.push(n)),n},convertToPublicNodes:function(t,e){if(!t.length)return[];var n=this,i=[];return(0,a.each)(t,(function(t,o){o=(0,s.isPrimitive)(o)?n._getByKey(o):o;var r=n._convertToPublicNode(o,e);r.children=n.convertToPublicNodes(o.internalFields.childrenKeys,r),i.push(r),o.internalFields.publicNode=r})),i},setDataAccessors:function(t){this._dataAccessors=t},_getByKey:function(t){return this._dataStructure[this.getIndexByKey(t)]||null},getParentNode:function(t){return this._getByKey(t.internalFields.parentKey)},getByKey:function(t,e){if(null===e||void 0===e)return null;var n=null,i=this,o=function(t,e){return(0,a.each)(t,(function(t,o){if((o.internalFields&&o.internalFields.key||i._dataAccessors.getters.key(o)).toString()===e.toString())return n=o,!1})),n};return o(t,e)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var t=this;this._indexByKey={},(0,a.each)(this._dataStructure,(function(e,n){t._checkForDuplicateId(n.internalFields.key),t._indexByKey[n.internalFields.key]=e}))},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},(0,a.each)(this._dataStructure,(function(t,e){e.internalFields.childrenKeys=[]}))},getIndexByKey:function(t){return this._indexByKey[t]},createPlainStructure:function(t,e,n){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=e,this._dataType=n,this._indexByKey={},this._convertItemsToNodes(t),this.setChildrenKeys(),this._dataStructure}});e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=T(n(1)),o=T(n(7)),r=n(6),a=n(213),s=n(27),l=T(n(16)),u=n(2),h=n(8),c=n(3),d=n(21),f=n(5),p=T(n(117)),g=T(n(50)),m=T(n(47)),v=n(13),y=T(n(33)),_=T(n(143)),b=T(n(109)),x=n(68),w=T(n(18)),C=T(n(110)),S=n(29),k=n(30),E=n(385),I=n(98);function T(t){return t&&t.__esModule?t:{default:t}}var D="dx-item",M=/^([^.]+\[\d+\]\.)+([\w.]+)$/,O=m.default.inherit({_activeStateUnit:"."+D,_supportedKeys:function(){var t=function(t){var e=(0,i.default)(this.option("focusedElement"));e.length&&this._itemClickHandler((0,c.extend)({},t,{target:e,currentTarget:e}))},e=function(t,e){e.preventDefault(),e.stopPropagation(),this._moveFocus(t,e)};return(0,c.extend)(this.callBase(),{space:function(e){e.preventDefault(),t.call(this,e)},enter:t,leftArrow:e.bind(this,"left"),rightArrow:e.bind(this,"right"),upArrow:e.bind(this,"up"),downArrow:e.bind(this,"down"),pageUp:e.bind(this,"up"),pageDown:e.bind(this,"down"),home:e.bind(this,"first"),end:e.bind(this,"last")})},_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:w.default.format("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(t){return t?t.disabled:void 0},visibleExpr:function(t){return t?t.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var t=this.option("displayExpr");this._displayGetter=t?(0,S.compileGetter)(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return"item"},_initDefaultItemTemplate:function(){var t=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new I.BindableTemplate(function(e,n){(0,u.isPlainObject)(n)?this._prepareDefaultItemTemplate(n,e):(t&&(0,u.isFunction)(t.text)&&(n=t.text(n)),e.text(String((0,r.ensureDefined)(n,""))))}.bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),t)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(t,e){(0,u.isDefined)(t.text)&&e.text(t.text),(0,u.isDefined)(t.html)&&e.html(t.html)},_initItemsFromMarkup:function(){var t=this,e=(0,a.findTemplates)(this.$element(),"dxItem");if(e.length&&!this.option("items").length){var n=e.map((function(e){var n=e.element,o=e.options;return/\S/.test(n.innerHTML)&&!o.template?o.template=t._prepareItemTemplate(n):(0,i.default)(n).remove(),o}));this.option("items",n)}},_prepareItemTemplate:function(t){var e="tmpl-"+new g.default,n=(0,i.default)(t).detach().clone().removeAttr("data-options").addClass("dx-template-wrapper");return this._saveTemplate(e,n),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(t){if(this.callBase.apply(this,arguments),-1!==(0,d.inArray)(t.target,this._focusTarget())){var e=(0,i.default)(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var n=this._getActiveItem();n.length&&this.option("focusedElement",(0,s.getPublicElement)(n))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=(0,i.default)(this.option("focusedElement"));this._updateFocusedItemState(t,!1)},_getActiveItem:function(t){var e=(0,i.default)(this.option("focusedElement"));if(e.length)return e;var n=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,o=this._getActiveElement(),r=o.length-1;return n<0&&(n=t?r:0),o.eq(n)},_moveFocus:function(t){var e,n=this._getAvailableItems();switch(t){case"pageup":case"up":e=this._prevItem(n);break;case"pagedown":case"down":e=this._nextItem(n);break;case"right":e=this.option("rtlEnabled")?this._prevItem(n):this._nextItem(n);break;case"left":e=this.option("rtlEnabled")?this._nextItem(n):this._prevItem(n);break;case"first":e=n.first();break;case"last":e=n.last();break;default:return!1}0!==e.length&&this.option("focusedElement",(0,s.getPublicElement)(e))},_getVisibleItems:function(t){return(t=t||this._itemElements()).filter(":visible")},_getAvailableItems:function(t){return this._getVisibleItems(t).not(".dx-state-disabled")},_prevItem:function(t){var e=this._getActiveItem(),n=t.index(e),o=t.last(),r=(0,i.default)(t[n-1]),a=this.option("loopItemFocus");return 0===r.length&&a&&(r=o),r},_nextItem:function(t){var e=this._getActiveItem(!0),n=t.index(e),o=t.first(),r=(0,i.default)(t[n+1]),a=this.option("loopItemFocus");return 0===r.length&&a&&(r=o),r},_selectFocusedItem:function(t){this.selectItem(t)},_updateFocusedItemState:function(t,e,n){var o=(0,i.default)(t);o.length&&(this._refreshActiveDescendant(),this._refreshItemId(o,n),this._toggleFocusClass(e,o)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(t){this.setAria("activedescendant",(0,u.isDefined)(this.option("focusedElement"))?this.getFocusedItemId():null,t)},_refreshItemId:function(t,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),t):this.setAria("id",null,t)},_setFocusedItem:function(t){t&&t.length&&(this._updateFocusedItemState(t,!0),this.onFocusedItemChanged(this.getFocusedItemId()),this.option("selectOnFocus")&&this._selectFocusedItem(t))},_findItemElementByItem:function(t){var e=(0,i.default)(),n=this;return this.itemElements().each((function(){var o=(0,i.default)(this);if(o.data(n._itemDataKey())===t)return e=o,!1})),e},_getIndexByItem:function(t){return this.option("items").indexOf(t)},_itemOptionChanged:function(t,e,n,i){var o=this._findItemElementByItem(t);o.length&&(this.constructor.ItemClass.getInstance(o).setDataField(e,n)||this._refreshItem(o,t),"disabled"===e&&n&&this._resetItemFocus(o))},_resetItemFocus:function(t){t.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(t){var e=this._getItemData(t),n=t.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+n,e,null,t)},_updateParentActiveDescendant:r.noop,_optionChanged:function(t){if("items"===t.name){var e=t.fullName.match(M);if(e&&e.length){var n=e[e.length-1],o=t.fullName.replace("."+n,""),r=this.option(o);return void this._itemOptionChanged(r,n,t.value,t.previousValue)}}switch(t.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"showItemDataTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(t.previousValue,!1,!0),this._setFocusedItem((0,i.default)(t.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(t)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){var t=this._dataSource;return this._expectNextPageLoading(),t.pageIndex(1+t.pageIndex()),t.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,this._isLastPage()&&-1===this._startIndexForAppendedItems||(this.option().items=e.concat(t.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",t.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return null!=this._startIndexForAppendedItems&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){(0,i.default)(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return D},_itemContentClass:function(){return this._itemClass()+"-content"},_selectedItemClass:function(){return"dx-item-selected"},_itemResponseWaitClass:function(){return"dx-item-response-wait"},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return"dxItemData"},_itemIndexKey:function(){return"dxItemIndex"},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass("dx-collection"),this._prepareContent()},_prepareContent:(0,r.deferRenderer)((function(){this._renderContentImpl()})),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var t=this._itemSelector(),e=(0,v.addNamespace)(k.name,this.NAME),n=(0,v.addNamespace)(y.default.down,this.NAME),r=this,a=new p.default((function(t){var e=t.event;r._itemPointerDownHandler(e)}));o.default.off(this._itemContainer(),e,t),o.default.off(this._itemContainer(),n,t),o.default.on(this._itemContainer(),e,t,function(t){this._itemClickHandler(t)}.bind(this)),o.default.on(this._itemContainer(),n,t,(function(t){a.execute({element:(0,i.default)(t.target),event:t})}))},_itemClickHandler:function(t,e,n){this._itemDXEventHandler(t,"onItemClick",e,n)},_itemPointerDownHandler:function(t){this.option("focusStateEnabled")&&(this._itemFocusHandler=function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!t.isDefaultPrevented()){var e=(0,i.default)(t.target),n=e.closest(this._itemElements()),o=this._closestFocusable(e);n.length&&o&&-1!==(0,d.inArray)(o.get(0),this._focusTarget())&&this.option("focusedElement",(0,s.getPublicElement)(n))}}.bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(t){if(t.is(x.focusable))return t;for(t=t.parent();t.length&&!l.default.isDocument(t.get(0));){if(t.is(x.focusable))return t;t=t.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),n=(0,v.addNamespace)(C.default.name,this.NAME);o.default.off(t,n,e),o.default.on(t,n,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(t){this._shouldFireHoldEvent()?this._itemDXEventHandler(t,"onItemHold"):t.cancel=!0},_attachContextMenuEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),n=(0,v.addNamespace)(E.name,this.NAME);o.default.off(t,n,e),o.default.on(t,n,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(t){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(t,"onItemContextMenu"):t.cancel=!0},_renderContentImpl:function(){var t=this.option("items")||[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)},_renderItems:function(t){t.length&&(0,f.each)(t,function(t,e){this._renderItem(this._renderedItemsCount+t,e)}.bind(this)),this._renderEmptyMessage()},_renderItem:function(t,e,n,i){n=n||this._itemContainer();var o=this._renderItemFrame(t,e,n,i);this._setElementData(o,e,t),o.attr(this.option("_itemAttributes")),this._attachItemClickEvent(e,o);var r=this._getItemContent(o),a=this._renderItemContent({index:t,itemData:e,container:(0,s.getPublicElement)(r),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),l=this;return(0,h.when)(a).done((function(n){l._postprocessRenderItem({itemElement:o,itemContent:n,itemData:e,itemIndex:t}),l._executeItemRenderAction(t,e,(0,s.getPublicElement)(o))})),o},_getItemContent:function(t){var e=t.find(".dx-item-content-placeholder");return e.removeClass("dx-item-content-placeholder"),e},_attachItemClickEvent:function(t,e){t&&t.onClick&&o.default.on(e,k.name,function(n){this._itemEventHandlerByHandler(e,t.onClick,{event:n})}.bind(this))},_renderItemContent:function(t){var e=this._getItemTemplateName(t),n=this._getTemplate(e);this._addItemContentClasses(t);var o=(0,i.default)(this._createItemByTemplate(n,t));return o.hasClass("dx-template-wrapper")?this._renderItemContentByNode(t,o):t.container},_renderItemContentByNode:function(t,e){return(0,i.default)(t.container).replaceWith(e),t.container=(0,s.getPublicElement)(e),this._addItemContentClasses(t),e},_addItemContentClasses:function(t){var e=[D+"-content",t.contentClass];(0,i.default)(t.container).addClass(e.join(" "))},_appendItemToContainer:function(t,e,n){e.appendTo(t)},_renderItemFrame:function(t,e,n,o){var r=(0,i.default)("<div>");if(new this.constructor.ItemClass(r,this._itemOptions(),e||{}),o&&o.length?o.replaceWith(r):this._appendItemToContainer.call(this,n,r,t),this.option("showItemDataTitle")){var a=this._displayGetter?this._displayGetter(e):e;r.attr("title",a)}return r},_itemOptions:function(){var t=this;return{watchMethod:function(){return t.option("integrationOptions.watchMethod")},owner:t,fieldGetter:function(e){var n=t.option(e+"Expr");return(0,S.compileGetter)(n)}}},_postprocessRenderItem:r.noop,_executeItemRenderAction:function(t,e,n){this._getItemRenderAction()({itemElement:n,itemIndex:t,itemData:e})},_setElementData:function(t,e,n){t.addClass([D,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),n)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(t){var e=t.itemData,n=t.templateProperty||this.option("itemTemplateProperty");return e&&e[n]||t.defaultTemplateName},_createItemByTemplate:function(t,e){return t.render({model:e.itemData,container:e.container,index:e.index})},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(t){t=t||this.option("items");var e=this.option("noDataText"),n=!e||t&&t.length||this._isDataSourceLoading();n&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),n||(this._$noData=this._$noData||(0,i.default)("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()).html(e),this.setAria("label",e)),this.$element().toggleClass("dx-empty-collection",!n)},_itemDXEventHandler:function(t,e,n,i){this._itemEventHandler(t.target,e,(0,c.extend)(n,{event:t}),i)},_itemEventHandler:function(t,e,n,i){var o=this._createActionByOption(e,(0,c.extend)({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(t,o,n)},_itemEventHandlerByHandler:function(t,e,n,i){var o=this._createAction(e,(0,c.extend)({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(t,o,n)},_itemEventHandlerImpl:function(t,e,n){var o=this._closestItemElement((0,i.default)(t)),r=(0,c.extend)({},n);return e((0,c.extend)(n,this._extendActionArgs(o),r))},_extendActionArgs:function(t){return{itemElement:(0,s.getPublicElement)(t),itemIndex:this._itemElements().index(t),itemData:this._getItemData(t)}},_closestItemElement:function(t){return(0,i.default)(t).closest(this._itemSelector())},_getItemData:function(t){return(0,i.default)(t).data(this._itemDataKey())},_getSummaryItemsWidth:function(t,e){var n=0;return t&&(0,f.each)(t,(function(t,o){n+=(0,i.default)(o).outerWidth(e||!1)})),n},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new g.default),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(_.default);O.ItemClass=b.default;var P=O;e.default=P,t.exports=e.default},function(t,e,n){"use strict";e.name=void 0;var i=c(n(1)),o=c(n(7)),r=n(56),a=c(n(17)),s=c(n(20)),l=c(n(78)),u=n(13),h=c(n(110));function c(t){return t&&t.__esModule?t:{default:t}}var d=(0,u.addNamespace)("contextmenu","dxContexMenu"),f=(0,u.addNamespace)(h.default.name,"dxContexMenu"),p=s.default.inherit({setup:function(t){var e=(0,i.default)(t);o.default.on(e,d,this._contextMenuHandler.bind(this)),(r.touch||a.default.isSimulator())&&o.default.on(e,f,this._holdHandler.bind(this))},_holdHandler:function(t){(0,u.isMouseEvent)(t)&&!a.default.isSimulator()||this._fireContextMenu(t)},_contextMenuHandler:function(t){this._fireContextMenu(t)},_fireContextMenu:function(t){return(0,u.fireEvent)({type:"dxcontextmenu",originalEvent:t})},teardown:function(t){o.default.off(t,".dxContexMenu")}});(0,l.default)("dxcontextmenu",new p);e.name="dxcontextmenu"},function(t,e,n){"use strict";e.default=void 0;var i=a(n(1)),o=a(n(20)),r=n(6);function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.abstract,l=o.default.inherit({ctor:function(t){this._collectionWidget=t},getIndexByItemData:s,getItemDataByIndex:s,getKeysByItems:s,getItemsByKeys:s,itemsGetter:s,getKeyByIndex:function(t){var e=this._denormalizeItemIndex(t);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(t,e){return this._collectionWidget._isKeySpecified()?(0,r.equalByValue)(t,e):t===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:s,getNormalizedIndex:function(t){return this._isNormalizedItemIndex(t)?t:this._isItemIndex(t)?this._normalizeItemIndex(t):this._isDOMNode(t)?this._getNormalizedItemIndex(t):this._normalizeItemIndex(this.getIndexByItemData(t))},getIndex:function(t){return this._isNormalizedItemIndex(t)?this._denormalizeItemIndex(t):this._isItemIndex(t)?t:this._isDOMNode(t)?this._denormalizeItemIndex(this._getNormalizedItemIndex(t)):this.getIndexByItemData(t)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isDOMNode(t))return(0,i.default)(t);var e=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(e)},deleteItemAtIndex:s,itemPlacementFunc:function(t,e){return this._itemsFromSameParent(t,e)&&t<e?"after":"before"},moveItemAtIndexToIndex:s,_isNormalizedItemIndex:function(t){return"number"===typeof t&&Math.round(t)===t},_isDOMNode:function(t){var e;try{e=(0,i.default)(t)}catch(n){return!1}return e&&e.length&&e.get(0).nodeType},_isItemIndex:s,_getNormalizedItemIndex:s,_normalizeItemIndex:s,_denormalizeItemIndex:s,_getItemByNormalizedIndex:s,_itemsFromSameParent:s});e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=l(n(236)),r=l(n(25)),a=l(n(70)),s=n(8);function l(t){return t&&t.__esModule?t:{default:t}}var u=o.default.inherit({getSelectedItems:function(){return this._loadFilteredData(this.options.selectionFilter)},getSelectedItemKeys:function(){var t=new s.Deferred,e=this,n=this.options.key(),o=(0,i.isString)(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,o).done((function(n){var i=n.map((function(t){return e.options.keyOf(t)}));t.resolve(i)})).fail(t.reject),t.promise()},selectedItemKeys:function(t,e,n,i){if(i){var o=this.options.filter();!o||JSON.stringify(o)===JSON.stringify(this.options.selectionFilter)&&n?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,o,i)}else{e||this._setOption("selectionFilter",[]);for(var r=0;r<t.length;r++)n?this.removeSelectedItem(t[r]):this.addSelectedItem(t[r])}return this.onSelectionChanged(),(new s.Deferred).resolve()},setSelectedItems:function(t){this._setOption("selectionFilter",null);for(var e=0;e<t.length;e++)this.addSelectedItem(t[e])},isItemDataSelected:function(t){return this.isItemKeySelected(t)},isItemKeySelected:function(t){var e=this.options.selectionFilter;return!e||!!(0,a.default)([t]).filter(e).toArray().length},_getFilterByKey:function(t){var e=this.options.key(),n=[e,"=",t];if(Array.isArray(e)){n=[];for(var i=0;i<e.length;i++)n.push([e[i],"=",t[e[i]]]),i!==e.length-1&&n.push("and")}return n},addSelectedItem:function(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!1,e)},removeSelectedItem:function(t){var e=this._getFilterByKey(t);this._addSelectionFilter(!0,e)},validate:function(){var t=this.options.key;if(t&&void 0===t())throw r.default.Error("E1042","Deferred selection")},_findSubFilter:function(t,e){if(!t)return-1;for(var n=JSON.stringify(e),i=0;i<t.length;i++){var o=t[i];if(o&&JSON.stringify(o)===n)return i}return-1},_isLastSubFilter:function(t,e){return!(!t||!e)&&(this._findSubFilter(t,e)===t.length-1||0===this._findSubFilter([t],e))},_addFilterOperator:function(t,e){return t.length>1&&(0,i.isString)(t[1])&&t[1]!==e&&(t=[t]),t.length&&t.push(e),t},_denormalizeFilter:function(t){return t&&(0,i.isString)(t[0])&&(t=[t]),t},_addSelectionFilter:function(t,e,n){var i=t?["!",e]:e,o=t?"and":"or",r=!0,a=this.options.selectionFilter||[];if((a=this._denormalizeFilter(a))&&a.length){this._removeSameFilter(a,e,t,n);var s=this._removeSameFilter(a,e,!t),l=this._isKeyFilter(e)&&this._hasKeyFiltersOnlyStartingFromIndex(a,s);(r=e.length&&!l)&&(a=this._addFilterOperator(a,o))}r&&a.push(i),a=this._normalizeFilter(a),this._setOption("selectionFilter",t||a.length?a:null)},_normalizeFilter:function(t){return t&&1===t.length&&(t=t[0]),t},_removeFilterByIndex:function(t,e,n){var i=t[1];e>0?t.splice(e-1,2):t.splice(e,2),n&&"and"===i&&t.splice(0,t.length)},_isSimpleKeyFilter:function(t,e){return 3===t.length&&t[0]===e&&"="===t[1]},_isKeyFilter:function(t){if(2===t.length&&"!"===t[0])return this._isKeyFilter(t[1]);var e=this.options.key();if(Array.isArray(e)){if(t.length!==2*e.length-1)return!1;for(var n=0;n<e.length;n++){if(n>0&&"and"!==t[n])return!1;if(!this._isSimpleKeyFilter(t[2*n],e[n]))return!1}return!0}return this._isSimpleKeyFilter(t,e)},_hasKeyFiltersOnlyStartingFromIndex:function(t,e){if(e>=0){for(var n=e;n<t.length;n++)if("string"!==typeof t[n]&&!this._isKeyFilter(t[n]))return!1;return!0}return!1},_removeSameFilter:function(t,e,n,i){if(e=n?["!",e]:e,JSON.stringify(e)===JSON.stringify(t))return t.splice(0,t.length),0;var o=this._findSubFilter(t,e);if(o>=0)return this._removeFilterByIndex(t,o,i),o;for(var r=0;r<t.length;r++)if(Array.isArray(t[r])&&t[r].length>2){var a=this._removeSameFilter(t[r],e,!1,i);if(a>=0)return t[r].length?1===t[r].length&&(t[r]=t[r][0]):this._removeFilterByIndex(t,r,i),a}return-1},getSelectAllState:function(){var t=this.options.filter(),e=this.options.selectionFilter;return!e||!!e.length&&(t&&t.length?(e=this._denormalizeFilter(e),!!this._isLastSubFilter(e,t)||!this._isLastSubFilter(e,["!",t])&&void 0):void 0)}});e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(6),o=n(2),r=u(n(70)),a=n(8),s=n(389),l=u(n(25));function u(t){return t&&t.__esModule?t:{default:t}}var h=u(n(236)).default.inherit({ctor:function(t){this.callBase(t),this._initSelectedItemKeyHash()},_initSelectedItemKeyHash:function(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})},getSelectedItemKeys:function(){return this.options.selectedItemKeys.slice(0)},getSelectedItems:function(){return this.options.selectedItems.slice(0)},_preserveSelectionUpdate:function(t,e){var n,i,o,r=this.options.keyOf;if(r){var a=e&&t.length>1&&!this.options.equalByReference;for(a&&(n={}),o=0;o<t.length;o++){var s=t[o],l=r(s);e?(i=this.removeSelectedItem(l,n),n&&i>=0&&(n[i]=!0)):this.addSelectedItem(l,s)}a&&this._batchRemoveSelectedItems(n)}},_batchRemoveSelectedItems:function(t){var e=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var i=0;i<e.length;i++)t[i]||(this.options.selectedItemKeys.push(e[i]),this.options.selectedItems.push(n[i]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)},_loadSelectedItemsCore:function(t,e,n){var i=new a.Deferred,o=this.options.key();if(!t.length&&!n)return i.resolve([]),i;var l=this.options.filter();if(n&&e&&!l)return i.resolve(this.getSelectedItems()),i;var u=new s.SelectionFilterCreator(t,n),h=u.getCombinedFilter(o,l),c=[];e&&(c=h?(0,r.default)(this.options.selectedItems).filter(h).toArray():this.options.selectedItems.slice(0));var d=c.length?c:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),f=u.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,o);return d=d.filter(f),c.length||!n&&d.length===t.length?i.resolve(d):i=this._loadFilteredData(h,f,null,n),i},_replaceSelectionUpdate:function(t){var e=[],n=this.options.keyOf;if(n){for(var i=0;i<t.length;i++){var o=n(t[i]);e.push(o)}this.setSelectedItems(e,t)}},_warnOnIncorrectKeys:function(t){for(var e=this.options.allowNullValue,n=0;n<t.length;n++){var i=t[n];e&&null===i||this.isItemKeySelected(i)||l.default.log("W1002",i)}},_loadSelectedItems:function(t,e,n){var i=this,o=new a.Deferred;return(0,a.when)(i._lastLoadDeferred).always((function(){i._loadSelectedItemsCore(t,e,n).done(o.resolve).fail(o.reject)})),i._lastLoadDeferred=o,o},selectedItemKeys:function(t,e,n,i){var o=this,r=o._loadSelectedItems(t,n,i);return r.done((function(t){e?o._preserveSelectionUpdate(t,n):o._replaceSelectionUpdate(t),o.onSelectionChanged()})),r},addSelectedItem:function(t,e){if((0,o.isDefined)(e)&&e.disabled)-1===this.options.disabledItemKeys.indexOf(t)&&this.options.disabledItemKeys.push(t);else{var n=this._getKeyHash(t);-1===this._indexOfSelectedItemKey(n)&&(!(0,o.isObject)(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(t),this.options.addedItemKeys.push(t),this.options.addedItems.push(e),this.options.selectedItems.push(e))}},_getSelectedIndexByKey:function(t,e){for(var n=this.options.selectedItemKeys,i=0;i<n.length;i++)if((!e||!e[i])&&this.equalKeys(n[i],t))return i;return-1},_getSelectedIndexByHash:function(t,e){var n=this.options.keyHashIndices[t];return n&&n.length>1&&e&&(n=n.filter((function(t){return!e[t]}))),n&&n[0]>=0?n[0]:-1},_indexOfSelectedItemKey:function(t,e){return this.options.equalByReference?this.options.selectedItemKeys.indexOf(t):(0,o.isObject)(t)?this._getSelectedIndexByKey(t,e):this._getSelectedIndexByHash(t,e)},_shiftSelectedKeyIndices:function(t){for(var e=t;e<this.options.selectedItemKeys.length;e++){var n=this.options.selectedItemKeys[e],o=(0,i.getKeyHash)(n),r=this.options.keyHashIndices[o];if(r)for(var a=0;a<r.length;a++)r[a]>t&&r[a]--}},removeSelectedItem:function(t,e){var n=this._getKeyHash(t),i=!!e,r=this._indexOfSelectedItemKey(n,e);if(r<0)return r;if(this.options.removedItemKeys.push(t),this.options.removedItems.push(this.options.selectedItems[r]),i)return r;if(this.options.selectedItemKeys.splice(r,1),this.options.selectedItems.splice(r,1),(0,o.isObject)(n)||!this.options.keyHashIndices)return r;var a=this.options.keyHashIndices[n];return a?(a.shift(),a.length||delete this.options.keyHashIndices[n],this._shiftSelectedKeyIndices(r),r):r},_updateAddedItemKeys:function(t,e){for(var n=0;n<t.length;n++)this.isItemKeySelected(t[n])||(this.options.addedItemKeys.push(t[n]),this.options.addedItems.push(e[n]))},_updateRemovedItemKeys:function(t,e,n){for(var i=0;i<e.length;i++)this.isItemKeySelected(e[i])||(this.options.removedItemKeys.push(e[i]),this.options.removedItems.push(n[i]))},_getKeyHash:function(t){return this.options.equalByReference?t:(0,i.getKeyHash)(t)},setSelectedItems:function(t,e){this._updateAddedItemKeys(t,e);var n=this.options.selectedItemKeys,i=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(t)),this._setOption("selectedItemKeys",t),this._setOption("selectedItems",e),this._updateRemovedItemKeys(t,n,i)},isItemDataSelected:function(t){var e=this.options.keyOf(t);return this.isItemKeySelected(e)},isItemKeySelected:function(t){var e=this._getKeyHash(t);return-1!==this._indexOfSelectedItemKey(e)},getSelectAllState:function(t){return t?this._getVisibleSelectAllState():this._getFullSelectAllState()}});e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.SelectionFilterCreator=void 0;var i=n(6),o=n(2);e.SelectionFilterCreator=function(t,e){var n;this.getLocalFilter=function(t,e,n,o){return e=void 0===e?i.equalByValue:e,r.bind(this,e,t,n,o)},this.getExpr=function(n){var i;if(n)return t.forEach((function(t,r){var s;i=i||[],r>0&&i.push(e?"and":"or"),s=(0,o.isString)(n)?a(n,t):function(t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],l=n&&n[s],u=a(s,l);if(!u)break;o>0&&i.push(e?"or":"and"),i.push(u)}return i}(n,t),i.push(s)})),i&&1===i.length&&(i=i[0]),i},this.getCombinedFilter=function(t,n){var i=this.getExpr(t),o=i;return e&&n&&(i?((o=[]).push(i),o.push(n)):o=n),o};function r(r,a,s,l,u){var h,c,d=a(u);if(!s&&(h=(0,i.getKeyHash)(d),!(0,o.isObject)(h)))return function(t){if(!n){n={};for(var e=0;e<t.length;e++)n[(0,i.getKeyHash)(t[e])]=!0}return n}(function(t,e,n){return Array.isArray(n)?t.map((function(t){return e(t)})):t}(t,a,l))[h]?!e:!!e;for(c=0;c<t.length;c++)if(r(t[c],d))return!e;return!!e}function a(t,n){if(void 0!==n)return[t,e?"<>":"=",n]}}},function(t,e,n){"use strict";e.default=void 0;var i=r(n(1)),o=n(5);function r(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(d,t);var e,n,r,c=h(d);function d(){return s(this,d),c.apply(this,arguments)}return e=d,(n=[{key:"_getPlainItems",value:function(){return(0,o.map)(this._collectionWidget.option("items"),(function t(e){return e.items?[e].concat((0,o.map)(e.items,t)):e}))}},{key:"_stringifyItem",value:function(t){var e=this;return JSON.stringify(t,(function(t,n){return"template"===t?e._getTemplateString(n):n}))}},{key:"_getTemplateString",value:function(t){return"object"===a(t)?(0,i.default)(t).text():t.toString()}}])&&l(e.prototype,n),r&&l(e,r),d}(r(n(179)).default);e.default=f,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(392));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("errorHandling",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=l(n(1)),o=l(n(7)),r=n(30),a=n(5),s=l(n(35));function l(t){return t&&t.__esModule?t:{default:t}}var u={defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:s.default.ViewController.inherit({init:function(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow:function(t,e){var n,s,l=this,u=this._renderErrorMessage(t);return e?(n=(0,i.default)("<tr>").addClass("dx-error-row"),s=(0,i.default)("<div>").addClass("dx-closebutton").addClass(l.addWidgetPrefix("action")),o.default.on(s,r.name,l.createAction((function(t){var n,o=t.event,r=(0,i.default)(o.currentTarget).closest(".dx-error-row").index();o.stopPropagation(),(0,a.each)(e,(function(t,e){n=(0,i.default)(e).children("tbody").children("tr").eq(r),l.removeErrorRow(n)})),l.getController("resizing")&&l.getController("resizing").fireContentReadyAction()}))),(0,i.default)("<td>").attr({colSpan:l.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(s).append(u).appendTo(n),n):u},_renderErrorMessage:function(t){var e=t.url?t.message.replace(t.url,""):t.message||t,n=(0,i.default)("<div>").addClass("dx-error-message").text(e);return t.url&&(0,i.default)("<a>").attr("href",t.url).text(t.url).appendTo(n),n},renderErrorRow:function(t,e,n){var o,r,s=this;if(n)return n.find(".dx-error-message").remove(),o=s._createErrorRow(t),n.prepend(o),o;var l=e>=0||!s._columnHeadersView.isVisible()?s._rowsView:s._columnHeadersView,u=n||l.getTableElements();if((0,a.each)(u,(function(n,a){if(o=s._createErrorRow(t,u),r=r||o,e>=0){var h=l._getRowElements((0,i.default)(a)).eq(e);s.removeErrorRow(h.next()),o.insertAfter(h)}else{var c=(0,i.default)(a).children("tbody"),d=c.children("tr");s._columnHeadersView.isVisible()?(s.removeErrorRow(d.last()),(0,i.default)(a).append(o)):(s.removeErrorRow(d.first()),c.first().prepend(o))}})),!n){var h=s.getController("resizing");h&&h.fireContentReadyAction()}return r},removeErrorRow:function(t){if(!t){var e=this._columnHeadersView&&this._columnHeadersView.element();if(!(t=e&&e.find(".dx-error-row"))||!t.length){var n=this._rowsView.element();t=n&&n.find(".dx-error-row")}}t&&t.hasClass("dx-error-row")&&t.remove()},optionChanged:function(t){switch(t.name){case"errorRowEnabled":t.handled=!0;break;default:this.callBase(t)}}})},extenders:{controllers:{data:{init:function(){var t=this,e=t.getController("errorHandling");t.callBase(),t.dataErrorOccurred.add((function(n,i){t.option("errorRowEnabled")&&e.renderErrorRow(n,void 0,i)})),t.changed.add((function(e){if(!e||"loadError"!==e.changeType){var n=t.getController("errorHandling"),i=t.getController("editing");i&&!i.hasChanges()&&n&&n.removeErrorRow()}}))}}}}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(394));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("gridView",o.default)},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default=void 0;var o=y(n(1)),r=y(n(35)),a=n(6),s=n(14),l=n(5),u=n(2),h=n(34),c=y(n(31)),d=y(n(18)),f=n(8),p=y(n(16)),g=y(n(24)),m=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=v();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=o?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=t[r]}n.default=t,e&&e.set(t,n);return n}(n(80));function v(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return v=function(){return t},t}function y(t){return t&&t.__esModule?t:{default:t}}var _=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],b=function(t){return(0,u.isString)(t)&&"%"===t.slice(-1)},x=function(t,e){var n=[];if(t&&e&&t.length&&t.length===e.length)for(var i=0;i<t.length;i++)n.push(t[i]>e[i]?t[i]:e[i]);else t&&t.length?n=t:e&&(n=e);return n},w=function(t,e){var n=t._rowsView.contentWidth();return n-t._getTotalWidth(e,n)},C=function(t,e,n,i){return w(t,i.map((function(t,i){return i===e?n:t})))},S=function(t,e){m.hiddenFocus(t),c.default.setSelectionRange(t,e)},k={defaultOptions:function(){return{showBorders:!1,renderAsync:!1,legacyRendering:!1}},controllers:{resizing:r.default.ViewController.inherit({_initPostRenderHandlers:function(){var t=this,e=t._dataController;t._refreshSizesHandler||(t._refreshSizesHandler=function(n){var i;e.changed.remove(t._refreshSizesHandler);var o=n&&n.changeType,r=n&&n.isDelayed,s=e.items();n&&"refresh"!==o&&"prepend"!==o&&"append"!==o?"update"===o&&n.changeTypes&&(!(s.length>1||"insert"!==n.changeTypes[0])||0===s.length&&"remove"===n.changeTypes[0]||n.needUpdateDimensions?i=t.resize():(0,a.deferUpdate)((function(){t._rowsView.resize()}))):r||(i=t.resize()),o&&"updateSelection"!==o&&"updateFocusedRow"!==o&&!r&&(0,f.when)(i).done((function(){t._setAriaRowColCount(),t.fireContentReadyAction()}))},t._dataController.changed.add((function(){t._dataController.changed.add(t._refreshSizesHandler)})))},fireContentReadyAction:function(){this.component._fireContentReadyAction()},_setAriaRowColCount:function(){var t=this.component;t.setAria({rowCount:this._dataController.totalItemsCount(),colCount:t.columnCount()},t.$element().children(".dx-gridbase-container"))},_getBestFitWidths:function(){if(!this.option("legacyRendering"))return this._rowsView.getColumnWidths();var t=this._rowsView.getColumnWidths(),e=this._columnHeadersView&&this._columnHeadersView.getColumnWidths(),n=this._footerView&&this._footerView.getColumnWidths(),i=x(t,e);return i=x(i,n)},_setVisibleWidths:function(t,e){var n=this._columnsController;n.beginUpdate(),(0,l.each)(t,(function(t,i){var o=n.getColumnId(i);n.columnOption(o,"visibleWidth",e[t])})),n.endUpdate()},_toggleBestFitModeForView:function(t,e,n){var i=this;if(t&&t.isVisible()){var r=this._rowsView.getTableElements(),a=t.getTableElements();(0,l.each)(r,(function(t,r){var s,l=(0,o.default)(r),u=a.eq(t);u&&u.length&&((s=n?u.children("tbody").appendTo(l):l.children("."+e).appendTo(u)).toggleClass(e,n),s.toggleClass(i.addWidgetPrefix("best-fit"),n))}))}},_toggleBestFitMode:function(t){var e=this.component.$element();if(this.option("legacyRendering"))e.find("."+this.addWidgetPrefix("table")).toggleClass(this.addWidgetPrefix("table-fixed"),!t),e.find("input:not([type='hidden'])").toggleClass("dx-hidden",t),e.find(".dx-group-cell").toggleClass("dx-hidden",t),e.find(".dx-header-row ."+this.addWidgetPrefix("text-content")).css("maxWidth","");else{var n=this._rowsView._getTableElement(),i=this._rowsView.getTableElements().eq(1);if(!n)return;n.css("tableLayout",t?"auto":"fixed"),n.children("colgroup").css("display",t?"none":""),i.toggleClass(this.addWidgetPrefix("table-fixed"),!t),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",t),this._toggleBestFitModeForView(this._footerView,"dx-footer",t),this._needStretch()&&(n.get(0).style.width=t?"auto":""),g.default.msie&&11===parseInt(g.default.version)&&n.find("."+this.addWidgetPrefix("table-fixed")).each((function(){this.style.width=t?"10px":""}))}},_synchronizeColumns:function(){var t,e,n,i=this,o=i._columnsController,r=o.getVisibleColumns(),s=i.option("columnAutoWidth"),d=i.option("legacyRendering"),f=i._needBestFit(),m=!1,v=!1,y=[];!f&&(0,l.each)(r,(function(t,e){if("auto"===e.width||d&&e.fixed)return f=!0,!1})),(0,l.each)(r,(function(t,e){if(e.minWidth)return m=!0,!1})),i._setVisibleWidths(r,[]),f&&(e=p.default.getActiveElement(),n=c.default.getSelectionRange(e),i._toggleBestFitMode(!0),t=!0),(0,a.deferUpdate)((function(){(f?(y=i._getBestFitWidths(),(0,l.each)(r,(function(t,e){var n=o.getColumnId(e);o.columnOption(n,"bestFitWidth",y[t],!0)}))):m&&(y=i._getBestFitWidths()),(0,l.each)(r,(function(t){var e=this.width;"auto"!==e&&((0,u.isDefined)(e)?y[t]=(0,u.isNumeric)(e)||function(t){return(0,u.isString)(t)&&"px"===t.slice(-2)}(e)?parseFloat(e):e:s||(y[t]=void 0))})),t)&&(i._toggleBestFitMode(!1),t=!1,e&&e!==p.default.getActiveElement()&&((0,h.getBoundingRect)(e).bottom<0||(g.default.msie?setTimeout((function(){S(e,n)})):S(e,n))));v=i._correctColumnWidths(y,r),s&&(!function(){var t;(0,l.each)(r,(function(e,n){"groupExpand"===n.type&&(t=y[e])})),(0,l.each)(r,(function(e,n){"groupExpand"===n.type&&t&&(y[e]=t)}))}(),i._needStretch()&&i._processStretch(y,r)),(0,a.deferRender)((function(){(f||v)&&i._setVisibleWidths(r,y)}))}))},_needBestFit:function(){return this.option("columnAutoWidth")},_needStretch:function(){return this.option("legacyRendering")||this._columnsController.getVisibleColumns().some((function(t){return"auto"===t.width&&!t.command}))},_getAverageColumnsWidth:function(t){return w(this,t)/t.filter((function(t){return void 0===t})).length},_correctColumnWidths:function(t,e){var n,i=!1,o=!1,r=!1,a=this.component.$element(),s=this._hasWidth;for(n=0;n<e.length;n++){var l=n,h=e[l],d="adaptiveHidden"===t[l],f=t[l],p=h.minWidth;if(p)if(void 0===f)f=this._getAverageColumnsWidth(t);else if(b(f))C(this,l,p,t)<0&&(f=-1);p&&this._getRealColumnWidth(f)<p&&!d&&(t[l]=p,r=!0,n=-1),(0,u.isDefined)(h.width)||(o=!0),b(h.width)&&(i=!0)}if(a&&this._maxWidth&&(delete this._maxWidth,a.css("maxWidth","")),!o&&t.length){var g=this._rowsView.contentWidth(),m=this._rowsView.getScrollbarWidth(),v=this._getTotalWidth(t,g);if(v<g){var y=c.default.getLastResizableColumnIndex(e,t);y>=0&&(t[y]="auto",r=!0,!1!==s||i||(this._maxWidth=v+m+(this.option("showBorders")?2:0),a.css("maxWidth",this._maxWidth)))}}return r},_processStretch:function(t,e){var n=this._rowsView.contentWidth(),i=this._getTotalWidth(t,n),o={length:0};if(t.length){(0,l.each)(e,(function(e){(this.width||"adaptiveHidden"===t[e])&&(o[e]=!0,o.length++)}));var r=n-i,a=Math.floor(r/(t.length-o.length)),s=r-a*(t.length-o.length);if(r>=0)for(var u=0;u<t.length;u++)o[u]||(t[u]+=a,s>0&&(s<1?(t[u]+=s,s=0):(t[u]++,s--)))}},_getRealColumnWidth:function(t,e){return b(t)?(e=e||this._rowsView.contentWidth(),parseFloat(t)*e/100):parseFloat(t)},_getTotalWidth:function(t,e){for(var n=0,i=0;i<t.length;i++){var o=t[i];o&&"adaptiveHidden"!==o&&(n+=this._getRealColumnWidth(o,e))}return n},updateSize:function(t){var e,n,i,o=this.addWidgetPrefix("important-margin");void 0===this._hasHeight&&t&&t.is(":visible")&&t.width()&&((e=t.children("."+this.getWidgetContainerClass())).length&&e.detach(),this._hasHeight=!!((i=t).get(0).clientHeight-parseFloat(i.css("paddingTop"))-parseFloat(i.css("paddingBottom"))),n=t.width(),t.addClass(o),this._hasWidth=t.width()===n,t.removeClass(o),e.length&&e.appendTo(t))},publicMethods:function(){return["resize","updateDimensions"]},resize:function(){return!this.component._requireResize&&this.updateDimensions()},updateDimensions:function(t){var e=this;if(e._initPostRenderHandlers(),e._checkSize(t)){var n=e._resizeDeferred,i=e._resizeDeferred=new f.Deferred;return(0,f.when)(n).always((function(){(0,a.deferRender)((function(){e._dataController.isLoaded()&&e._synchronizeColumns(),e._resetGroupElementHeight(),(0,a.deferUpdate)((function(){(0,a.deferRender)((function(){(0,a.deferUpdate)((function(){e._updateDimensionsCore()}))}))}))})).done(i.resolve).fail(i.reject)})),i.promise()}},_resetGroupElementHeight:function(){var t=this.component.$element().children().get(0),e=this._rowsView.getScrollable();!t||!t.style.height||e&&e.scrollTop()||(t.style.height="")},_checkSize:function(t){var e=this.component.$element();return!(t&&(this._lastWidth===e.width()&&this._lastHeight===e.height()||!e.is(":visible")))},_setScrollerSpacingCore:function(t){var e=this,n=t?e._rowsView.getScrollbarWidth():0,i=e._rowsView.getScrollbarWidth(!0);(0,a.deferRender)((function(){e._columnHeadersView&&e._columnHeadersView.setScrollerSpacing(n),e._footerView&&e._footerView.setScrollerSpacing(n),e._rowsView.setScrollerSpacing(n,i)}))},_setScrollerSpacing:function(t){var e=this;!0===this.option("scrolling.useNative")?(0,a.deferRender)((function(){(0,a.deferUpdate)((function(){e._setScrollerSpacingCore(t)}))})):this._setScrollerSpacingCore(t)},_updateDimensionsCore:function(){var t,e=this,n=e._dataController,i=e._rowsView,r=e.component.$element(),s=r.children().get(0),u=r&&(r.get(0).clientHeight||r.height()),h=parseInt(r.css("maxHeight")),c=h&&u>=h,d=e.option("height")||r.get(0).style.height,f=e.getController("editorFactory"),p=c&&s.scrollHeight===s.offsetHeight;e.updateSize(r);var g=e._hasHeight||c;d&&e._hasHeight^"auto"!==d&&(t=(0,o.default)("<div>").height(d).appendTo(r),e._hasHeight=!!t.height(),t.remove()),(0,a.deferRender)((function(){i.height(null,g),c&&!p&&(0,o.default)(s).css("height",h),n.isLoaded()?(0,a.deferUpdate)((function(){e._updateLastSizes(r),e._setScrollerSpacing(g),(0,l.each)(_,(function(t,n){var i=e.getView(n);i&&i.resize()})),f&&f.resize()})):i.setLoading(n.isLoading())}))},_updateLastSizes:function(t){this._lastWidth=t.width(),this._lastHeight=t.height()},optionChanged:function(t){switch(t.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"legacyRendering":case"renderAsync":return void(t.handled=!0);default:this.callBase(t)}},init:function(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}}),synchronizeScrolling:r.default.ViewController.inherit({_scrollChangedHandler:function(t,e,n){for(var i=0;i<t.length;i++)t[i]&&t[i].name!==n&&t[i].scrollTo({left:e.left,top:e.top})},init:function(){for(var t=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],e=0;e<t.length;e++){var n=t[e];n&&n.scrollChanged.add(this._scrollChangedHandler.bind(this,t))}}})},views:{gridView:r.default.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},_getWidgetAriaLabel:function(){return"dxDataGrid-ariaDataGrid"},init:function(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView:function(t){return this.component._views[t]},element:function(){return this._groupElement},optionChanged:function(t){(0,u.isDefined)(this._groupElement)&&"showBorders"===t.name?(this._groupElement.toggleClass(this.addWidgetPrefix("borders"),!!t.value),t.handled=!0):this.callBase(t)},_renderViews:function(t){var e=this;(0,l.each)(_,(function(n,i){var o=e.getView(i);o&&o.render(t)}))},_getTableRoleName:function(){return"grid"},render:function(t){var e=!this._groupElement,n=this._groupElement||(0,o.default)("<div>").addClass(this.getWidgetContainerClass());n.addClass("dx-gridbase-container"),n.toggleClass(this.addWidgetPrefix("borders"),!!this.option("showBorders")),this.setAria("role","presentation",t),this.component.setAria({role:this._getTableRoleName(),label:d.default.format(this._getWidgetAriaLabel())},n),this._rootElement=t||this._rootElement,e&&(this._groupElement=n,(0,s.hasWindow)()&&this.getController("resizing").updateSize(t),n.appendTo(t)),this._renderViews(n)},update:function(){var t=this._rootElement,e=this._groupElement,n=this.getController("resizing");t&&e&&(n.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}})}};e.default=k,t.exports=e.default},function(t,e,n){"use strict";e.HeaderPanel=void 0;var i=r(n(22)),o=r(n(396));function r(t){return t&&t.__esModule?t:{default:t}}var a=o.default.views.headerPanel;e.HeaderPanel=a,i.default.registerModule("headerPanel",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=u(n(397)),r=n(125),a=n(6),s=n(2),l=n(90);function u(t){return t&&t.__esModule?t:{default:t}}n(242);var h={defaultOptions:function(){return{}},views:{headerPanel:r.ColumnsView.inherit({_getToolbarItems:function(){return[]},_getButtonContainer:function(){return(0,i.default)("<div>").addClass(this.addWidgetPrefix("toolbar-button"))},_getToolbarButtonClass:function(t){var e=t?" "+t:"";return this.addWidgetPrefix("toolbar-button")+e},_getToolbarOptions:function(){var t={toolbarOptions:{items:this._getToolbarItems(),onItemRendered:function(t){var e=t.itemData.onItemRendered;e&&e(t)}}};if(this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!(0,s.isDefined)(t.toolbarOptions.visible)){var e=t.toolbarOptions.items;t.toolbarOptions.visible=!(!e||!e.length)}return t.toolbarOptions},_renderCore:function(){this._toolbar?this._toolbar.option(this._toolbarOptions):(this.element().addClass(this.addWidgetPrefix("header-panel")),this._toolbar=this._createComponent((0,i.default)("<div>").appendTo(this.element()),o.default,this._toolbarOptions))},_columnOptionChanged:a.noop,_handleDataChanged:function(){this._requireReady&&this.render()},init:function(){this.callBase(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},render:function(){this._toolbarOptions=this._getToolbarOptions(),this.callBase.apply(this,arguments)},setToolbarItemDisabled:function(t,e){var n=this._toolbar;if(n){var i=n.option("items")||[],o=i.indexOf(i.filter((function(e){return e.name===t}))[0]);if(o>=0){var r="items["+o+"]";n.option(r+".options")?n.option(r+".options.disabled",e):n.option(r+".disabled",e)}}},updateToolbarDimensions:function(){this._toolbar&&(0,l.triggerResizeEvent)(this.getHeaderPanel())},getHeaderPanel:function(){return this.element()},getHeight:function(){return this.getElementHeight()},optionChanged:function(t){"onToolbarPreparing"===t.name&&(this._invalidate(),t.handled=!0),this.callBase(t)},isVisible:function(){return this._toolbarOptions&&this._toolbarOptions.visible},allowDragging:a.noop})},extenders:{controllers:{resizing:{_updateDimensionsCore:function(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=f(n(1)),o=f(n(19)),r=n(6),a=n(3),s=n(21),l=n(5),u=f(n(398)),h=f(n(400)),c=f(n(239)),d=n(133);function f(t){return t&&t.__esModule?t:{default:t}}var p={actionSheet:u.default,dropDownMenu:h.default},g=c.default.inherit({_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{menuItemTemplate:"menuItem",submenuType:"dropDownMenu",menuContainer:void 0})},_dimensionChanged:function(t){"height"!==t&&(this._menuStrategy.toggleMenuVisibility(!1,!0),this.callBase(),this._menuStrategy.renderMenuItems())},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({actionSheetItem:new d.ChildDefaultTemplate("item")})},_initMarkup:function(){this.callBase(),this._renderMenu()},_postProcessRenderItems:function(){var t=this;this._hideOverflowItems(),this._menuStrategy._updateMenuVisibility(),this.callBase(),(0,r.deferRender)((function(){t._menuStrategy.renderMenuItems()}))},_renderItem:function(t,e,n,i){var o=this.callBase(t,e,n,i);return"auto"===e.locateInMenu&&o.addClass("dx-toolbar-item-auto-hide"),"dxButton"===e.widget&&"inMenu"===e.showText&&o.toggleClass("dx-toolbar-text-auto-hide"),o},_getItemsWidth:function(){return this._getSummaryItemsWidth([this._$beforeSection,this._$centerSection,this._$afterSection])},_hideOverflowItems:function(t){var e=this.$element().find(".dx-toolbar-item-auto-hide");if(e.length){t=t||this.$element().width(),(0,i.default)(e).removeClass("dx-toolbar-item-invisible");for(var n=this._getItemsWidth();e.length&&t<n;){var o=e.eq(-1);n-=o.outerWidth(),o.addClass("dx-toolbar-item-invisible"),e.splice(-1,1)}}},_getMenuItems:function(){var t=this,e=(0,r.grep)(this.option("items")||[],(function(e){return t._isMenuItem(e)})),n=this._itemContainer().children(".dx-toolbar-item-auto-hide.dx-toolbar-item-invisible").not(".dx-state-invisible");this._restoreItems=this._restoreItems||[];var o=[].slice.call(n).map((function(e){var n=t._getItemData(e),o=(0,i.default)(e).children(),r=o.children();return(0,a.extend)({menuItemTemplate:function(){return t._restoreItems.push({container:o,item:r}),(0,i.default)("<div>").addClass("dx-toolbar-item-auto-hide").append(r)}},n)}));return(0,s.merge)(o,e)},_getToolbarItems:function(){var t=this;return(0,r.grep)(this.option("items")||[],(function(e){return!t._isMenuItem(e)}))},_renderMenu:function(){var t=this;this._renderMenuStrategy(),(0,r.deferRender)((function(){t._menuStrategy.render()}))},_renderMenuStrategy:function(){var t=this.option("submenuType");this._requireDropDownStrategy()&&(t="dropDownMenu");var e=p[t];this._menuStrategy&&this._menuStrategy.NAME===t||(this._menuStrategy=new e(this))},_requireDropDownStrategy:function(){var t=this.option("items")||[],e=!1;return(0,l.each)(t,(function(t,n){("auto"===n.locateInMenu||"always"===n.locateInMenu&&n.widget)&&(e=!0)})),e},_arrangeItems:function(){if(!this.$element().is(":hidden")){this._$centerSection.css({margin:"0 auto",float:"none"}),(0,l.each)(this._restoreItems||[],(function(t,e){(0,i.default)(e.container).append(e.item)})),this._restoreItems=[];var t=this.$element().width();this._hideOverflowItems(t),this.callBase(t)}},_itemOptionChanged:function(t,e,n){this._isMenuItem(t)?this._menuStrategy.renderMenuItems():this._isToolbarItem(t)?this.callBase(t,e,n):(this.callBase(t,e,n),this._menuStrategy.renderMenuItems()),"location"===e&&this.repaint()},_isMenuItem:function(t){return"menu"===t.location||"always"===t.locateInMenu},_isToolbarItem:function(t){return void 0===t.location||"never"===t.locateInMenu},_optionChanged:function(t){var e=t.name,n=t.value;switch(e){case"submenuType":this._invalidate();break;case"visible":this.callBase.apply(this,arguments),this._menuStrategy.handleToolbarVisibilityChange(n);break;case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(n));break;case"onItemClick":this._changeMenuOption(e,n),this.callBase.apply(this,arguments);break;case"menuContainer":this._changeMenuOption("container",n);break;default:this.callBase.apply(this,arguments)}},_changeMenuOption:function(t,e){this._menuStrategy.widgetOption(t,e)}});(0,o.default)("dxToolbar",g);var m=g;e.default=m,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=a(n(237)),o=n(3),r=a(n(238));function a(t){return t&&t.__esModule?t:{default:t}}var s=i.default.inherit({NAME:"actionSheet",_getMenuItemTemplate:function(){return this._toolbar._getTemplate("actionSheetItem")},render:function(){this._hasVisibleMenuItems()&&this.callBase()},_menuWidgetClass:function(){return r.default},_menuContainer:function(){return this._toolbar.$element()},_widgetOptions:function(){return(0,o.extend)({},this.callBase(),{target:this._$button,showTitle:!1})},_menuButtonOptions:function(){return(0,o.extend)({},this.callBase(),{icon:"overflow"})},_toggleMenu:function(){this.callBase.apply(this,arguments),this._menu.toggle(this._menuShown),this._menuShown=!1}});e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(97))&&i.__esModule?i:{default:i},r=n(8),a=n(6);var s=o.default.inherit({_initMarkup:function(){this._deferredItems=[],this.callBase()},_renderItemContent:function(t){var e=new r.Deferred,n=new r.Deferred;this._deferredItems[t.index]=n;var i=this.callBase.call(this,t);return n.done((function(){e.resolve(i)})),e.promise()},_createItemByTemplate:function(t,e){var n=this;return t.render({model:e.itemData,container:e.container,index:e.index,onRendered:function(){n._deferredItems[e.index].resolve()}})},_postProcessRenderItems:a.noop,_renderItemsAsync:function(){var t=this,e=new r.Deferred;return r.when.apply(this,this._deferredItems).done((function(){t._postProcessRenderItems(),e.resolve()})),e.promise()},_clean:function(){this.callBase(),this._deferredItems=[]}});e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(3),o=s(n(237)),r=s(n(401)),a=s(n(242));function s(t){return t&&t.__esModule?t:{default:t}}var l=o.default.inherit({NAME:"dropDownMenu",render:function(){this._hasVisibleMenuItems()&&(this._renderMenuButtonContainer(),this._renderWidget())},renderMenuItems:function(){this._menu||this.render(),this.callBase(),this._menu&&!this._menu.option("items").length&&this._menu.close()},_menuWidgetClass:function(){return a.default},_widgetOptions:function(){var t=this;return(0,i.extend)(this.callBase(),{deferRendering:!0,container:t._toolbar.option("menuContainer"),menuWidget:r.default,onOptionChanged:function(e){"items"===e.name&&t._updateMenuVisibility(e.value)},popupPosition:{at:"bottom right",my:"top right"}})},_updateMenuVisibility:function(t){var e=t||this._getMenuItems(),n=e.length&&this._hasVisibleMenuItems(e);this._toggleMenuVisibility(n)},_toggleMenuVisibility:function(t){this._menuContainer()&&this._menuContainer().toggleClass("dx-state-invisible",!t)},_menuContainer:function(){return this._$menuButtonContainer}});e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=s(n(1)),o=s(n(19)),r=n(5),a=n(181);function s(t){return t&&t.__esModule?t:{default:t}}var l=a.ListBase.inherit({_activeStateUnit:".dx-toolbar-menu-action",_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var t=this,e=this._itemContainer();(0,r.each)(["before","center","after","menu"],(function(){var n="_$"+this+"Section",o=t[n];o||(t[n]=o=(0,i.default)("<div>").addClass("dx-toolbar-menu-section")),o.appendTo(e)}))},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var t=this.$element().find(".dx-toolbar-menu-section");t.removeClass("dx-toolbar-menu-last-section"),t.not(":empty").eq(-1).addClass("dx-toolbar-menu-last-section")},_renderItem:function(t,e,n,i){var o=e.location||"menu",r=this["_$"+o+"Section"],a=this.callBase(t,e,r,i);return this._getItemTemplateName({itemData:e})&&a.addClass("dx-toolbar-menu-custom"),("menu"===o||"dxButton"===e.widget||e.isAction)&&a.addClass("dx-toolbar-menu-action"),"dxButton"===e.widget&&a.addClass("dx-toolbar-hidden-button"),"dxButtonGroup"===e.widget&&a.addClass("dx-toolbar-hidden-button-group"),a.addClass(e.cssClass),a},_getItemTemplateName:function(t){var e=this.callBase(t),n=t.itemData;return n&&n.menuItemTemplate||e},_itemClickHandler:function(t,e,n){(0,i.default)(t.target).closest(".dx-toolbar-menu-action").length&&this.callBase(t,e,n)},_clean:function(){this._getSections().empty(),this.callBase()}});(0,o.default)("dxToolbarMenu",l);var u=l;e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=r(n(1)),o=r(n(109));function r(t){return t&&t.__esModule?t:{default:t}}var a=o.default.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(t){if(this._$element.children(".dx-list-item-badge-container").remove(),t){var e=(0,i.default)("<div>").addClass("dx-list-item-badge-container").append((0,i.default)("<div>").addClass("dx-list-item-badge").addClass("dx-badge").text(t)),n=this._$element.children(".dx-list-item-chevron-container").first();n.length>0?e.insertBefore(n):e.appendTo(this._$element)}},_renderShowChevron:function(t){if(this._$element.children(".dx-list-item-chevron-container").remove(),t){var e=(0,i.default)("<div>").addClass("dx-list-item-chevron-container"),n=(0,i.default)("<div>").addClass("dx-list-item-chevron");e.append(n).appendTo(this._$element)}}});e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=y(n(1)),o=y(n(17)),r=n(14),a=y(n(18)),s=y(n(19)),l=n(27),u=n(3),h=n(6),c=y(n(404)),d=y(n(405)),f=y(n(406)),p=y(n(94)),g=y(n(73)),m=n(48),v=y(n(218));function y(t){return t&&t.__esModule?t:{default:t}}var _={pullDown:c.default,swipeDown:d.default,simulated:f.default},b=!(0,r.hasWindow)(),x={finishLoading:h.noop,release:h.noop,refresh:h.noop,_optionChanged:function(t){if("onUpdated"!==t.name)return this.callBase.apply(this,arguments)}},w=p.default.inherit(b?x:{_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{pullingDownText:a.default.format("dxScrollView-pullingDownText"),pulledDownText:a.default.format("dxScrollView-pulledDownText"),refreshingText:a.default.format("dxScrollView-refreshingText"),reachBottomText:a.default.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"android"===o.default.real().platform},options:{refreshStrategy:"swipeDown"}},{device:function(){return(0,m.isMaterial)()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass("dx-scrollview"),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=(0,i.default)("<div>").addClass("dx-scrollview-content");this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=(0,i.default)("<div>").addClass("dx-scrollview-top-pocket"),e=this._$pullDown=(0,i.default)("<div>").addClass("dx-scrollview-pull-down");t.append(e),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=(0,i.default)("<div>").addClass("dx-scrollview-bottom-pocket"),e=this._$reachBottom=(0,i.default)("<div>").addClass("dx-scrollview-scrollbottom"),n=(0,i.default)("<div>").addClass("dx-scrollview-scrollbottom-indicator"),o=new g.default((0,i.default)("<div>")).$element(),r=this._$reachBottomText=(0,i.default)("<div>").addClass("dx-scrollview-scrollbottom-text");this._updateReachBottomText(),e.append(n.append(o)).append(r),t.append(e),this._$content.append(t)},_initLoadPanel:function(){var t=(0,i.default)("<div>").addClass("dx-scrollview-loadpanel").appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(t,v.default,e)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=_[t];if(!e)throw Error("E1030",this.option("refreshStrategy"));this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(t){var e=this.callBase.apply(this,arguments);return"pullDown"!==t&&"reachBottom"!==t||this._tryRefreshPocketState(),e},_pullDownEnable:function(t){if(0===arguments.length)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(t),this._strategy.pullDownEnable(t),this._pullDownEnabled=t)},_reachBottomEnable:function(t){if(0===arguments.length)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(t),this._strategy.reachBottomEnable(t),this._reachBottomEnabled=t)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(t){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=t},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(t){switch(t.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(t)}},isEmpty:function(){return!(0,i.default)(this.content()).children().length},content:function(){return(0,l.getPublicElement)(this._$content.children().eq(1))},release:function(t){return void 0!==t&&this.toggleLoading(!t),this._strategy.release()},toggleLoading:function(t){this._reachBottomEnable(t)},isFull:function(){return(0,i.default)(this.content()).height()>this._$container.height()},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});(0,s.default)("dxScrollView",w);var C=w;e.default=C,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=c(n(38)),r=n(41),a=c(n(176)),s=c(n(73)),l=n(5),u=c(n(24)),h=n(8);function c(t){return t&&t.__esModule?t:{default:t}}var d=a.default.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$bottomPocket=t._$bottomPocket,this._$refreshingText=t._$refreshingText,this._$scrollViewContent=(0,i.default)(t.content()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=(0,o.default)(),this.releaseCallbacks=(0,o.default)(),this.reachBottomCallbacks=(0,o.default)()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=(0,i.default)("<div>").addClass("dx-scrollview-pull-down-image"),e=(0,i.default)("<div>").addClass("dx-scrollview-pull-down-indicator"),n=new s.default((0,i.default)("<div>")).$element(),o=this._$pullDownText=(0,i.default)("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=(0,i.default)("<div>").text(this.option("pullingDownText")).appendTo(o),this._$pulledDownText=(0,i.default)("<div>").text(this.option("pulledDownText")).appendTo(o),this._$refreshingText=(0,i.default)("<div>").text(this.option("refreshingText")).appendTo(o),this._$pullDown.empty().append(t).append(e.append(n)).append(o)},_releaseState:function(){this._state=0,this._refreshPullDownText()},_pushBackFromBoundary:function(){this._isLocked()||this._component.isEmpty()||this.callBase()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];(0,l.each)(e,(function(e,n){var i=t._state===n.visibleState?"addClass":"removeClass";n.element[i]("dx-scrollview-pull-down-text-visible")}))},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),u.default.msie?this._scrollOffset=Math.round(100*(this._$container.height()-this._$content.height()))/100:this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){1===this._state&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(function(){this._pullDownRefreshing()}.bind(this),400))},_setPullDownOffset:function(t){(0,r.move)(this._$topPocket,{top:t}),(0,r.move)(this._$scrollViewContent,{top:t})},handleScroll:function(t){if(this.callBase(t),2!==this._state){var e=this.location().top,n=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&this._location-(this._scrollOffset+this._bottomPocketSize)<=.5},_reachBottom:function(){3!==this._state&&(this._state=3,this.reachBottomCallbacks.fire())},_pullDownReady:function(){1!==this._state&&(this._state=1,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())},_stateReleased:function(){0!==this._state&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._releaseState())},_pullDownRefreshing:function(){2!==this._state&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(t){t&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=1},release:function(){var t=new h.Deferred;return this._updateDimensions(),clearTimeout(this._releaseTimeout),3===this._state&&(this._state=0),this._releaseTimeout=setTimeout(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),400),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(1)),o=h(n(38)),r=n(41),a=n(13),s=h(n(176)),l=h(n(73)),u=n(8);function h(t){return t&&t.__esModule?t:{default:t}}var c=s.default.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._$pullDown=t._$pullDown,this._$scrollViewContent=t.content(),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=(0,o.default)(),this.releaseCallbacks=(0,o.default)(),this.reachBottomCallbacks=(0,o.default)()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=(0,i.default)("<div>").addClass("dx-scrollview-pull-down-indicator"),e=new l.default((0,i.default)("<div>")).$element();this._$icon=(0,i.default)("<div>").addClass("dx-icon-pulldown"),this._$pullDown.empty().append(this._$icon).append(t.append(e))},_releaseState:function(){this._state=0,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},handleInit:function(t){this.callBase(t),0===this._state&&0===this._location&&(this._startClientY=(0,a.eventData)(t.originalEvent).y,this._state=4)},handleMove:function(t){this.callBase(t),this._deltaY=(0,a.eventData)(t.originalEvent).y-this._startClientY,4===this._state&&(this._pullDownEnabled&&this._deltaY>0?this._state=5:this._complete()),5===this._state&&(t.preventDefault(),this._movePullDown())},_movePullDown:function(){var t=this._getPullDownHeight(),e=Math.min(3*t,this._deltaY+this._getPullDownStartPosition()),n=180*e/t/3;this._$pullDown.css({opacity:1}).toggleClass("dx-scrollview-pull-down-refreshing",e<t),(0,r.move)(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+n+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&5===this._state&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*this._$element.outerHeight())},_getPullDownStartPosition:function(){return-Math.round(1.5*this._$pullDown.outerHeight())},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){4!==this._state&&5!==this._state||this._releaseState()},handleScroll:function(t){if(this.callBase(t),2!==this._state){var e=this.location().top,n=this._location-e;this._location=e,n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._scrollOffset+this._bottomPocketSize},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){0!==this._state&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading"),this._releaseState())},_pullDownRefreshing:function(){this._state=2,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass("dx-scrollview-pull-down-loading"),(0,r.move)(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(t){this._$topPocket.toggle(t),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=1},release:function(){var t=new u.Deferred;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}.bind(this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(1)),o=h(n(38)),r=n(5),a=n(6),s=n(3),l=n(227),u=h(n(73));function h(t){return t&&t.__esModule?t:{default:t}}var c=Math,d=l.Scroller.inherit({ctor:function(){this._topPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=0,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];(0,r.each)(e,(function(e,n){var i=t._state===n.visibleState?"addClass":"removeClass";n.element[i]("dx-scrollview-pull-down-text-visible")}))},_initCallbacks:function(){this.pullDownCallbacks=(0,o.default)(),this.releaseCallbacks=(0,o.default)(),this.reachBottomCallbacks=(0,o.default)()},_updateBounds:function(){var t="horizontal"!==this._direction;this._topPocketSize=t?Math.round(this._$topPocket[this._dimension]()):0,this._bottomPocketSize=t?Math.round(this._$bottomPocket[this._dimension]()):0,this.callBase(),this._bottomBound=this._minOffset+this._bottomPocketSize},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():0!==this._state&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){return this._reachBottomEnabled&&this._location-this._bottomBound<=.5},_scrollComplete:function(){this._inBounds()&&1===this._state?this._pullDownRefreshing():this._inBounds()&&3===this._state?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){3!==this._state&&(this._state=3,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return c.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){1!==this._state&&(this._state=1,this._maxOffset=0,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())},_stateReleased:function(){0!==this._state&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){2!==this._state&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return 0===this._state&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=(0,a.executeAsync)(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(t){this._reachBottomEnabled!==t&&(this._reachBottomEnabled=t,this._updateBounds())},_pullDownEnablingHandler:function(t){this._pullDownEnabled!==t&&(this._pullDownEnabled=t,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=this._$topPocket.height()||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=1},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),f=l.SimulatedStrategy.inherit({_init:function(t){this.callBase(t),this._$pullDown=t._$pullDown,this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=(0,o.default)(),this.releaseCallbacks=(0,o.default)(),this.reachBottomCallbacks=(0,o.default)()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var t=(0,i.default)("<div>").addClass("dx-scrollview-pull-down-image"),e=(0,i.default)("<div>").addClass("dx-scrollview-pull-down-indicator"),n=new u.default((0,i.default)("<div>")).$element(),o=this._$pullDownText=(0,i.default)("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=(0,i.default)("<div>").text(this.option("pullingDownText")).appendTo(o),this._$pulledDownText=(0,i.default)("<div>").text(this.option("pulledDownText")).appendTo(o),this._$refreshingText=(0,i.default)("<div>").text(this.option("refreshingText")).appendTo(o),this._$pullDown.empty().append(t).append(e.append(n)).append(o)},pullDownEnable:function(t){this._eventHandler("pullDownEnabling",t)},reachBottomEnable:function(t){this._eventHandler("reachBottomEnabling",t)},_createScroller:function(t){var e=this,n=e._scrollers[t]=new d(e._scrollerOptions(t));n.pullDownCallbacks.add((function(){e.pullDownCallbacks.fire()})),n.releaseCallbacks.add((function(){e.releaseCallbacks.fire()})),n.reachBottomCallbacks.add((function(){e.reachBottomCallbacks.fire()}))},_scrollerOptions:function(t){return(0,s.extend)(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var t=this.callBase();return t.top+=this._$topPocket.height(),t},dispose:function(){(0,r.each)(this._scrollers,(function(){this.dispose()})),this.callBase()}});e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=r(n(408)),o=r(n(178));function r(t){return t&&t.__esModule?t:{default:t}}var a=i.default.inherit(o.default).inherit({_addWidgetPrefix:function(t){return"dx-list-"+t},_getCombinedFilter:function(){var t,e,n=this._dataSource;return n&&(e={filter:n.filter()},n._addSearchFilter(e),t=e.filter),t},_initDataSource:function(){var t=this.option("searchValue"),e=this.option("searchExpr"),n=this.option("searchMode");this.callBase(),this._dataSource&&(t&&t.length&&this._dataSource.searchValue(t),n.length&&this._dataSource.searchOperation(o.default.getOperationBySearchMode(n)),e&&this._dataSource.searchExpr(e))}});e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(1)),o=n(13),r=n(3),a=h(n(409)),s=h(n(18)),l=h(n(410)),u=n(181);function h(t){return t&&t.__esModule?t:{default:t}}var c=u.ListBase.inherit({_supportedKeys:function(){var t=this,e=this,n=this.callBase(),i=function(i,o){var r=t._editStrategy,a=t.option("focusedElement"),s=r.getNormalizedIndex(a);if(!(s===t._getLastItemIndex())||!t._isDataSourceLoading())if(i.shiftKey&&e.option("itemDragging.allowReordering")){var l=s+(o?-1:1),u=r.getItemElement(l);t.reorderItem(a,u),t.scrollToItem(a),i.preventDefault()}else{t._editProvider.handleKeyboardEvents(s,o)||(o?n.upArrow(i):n.downArrow(i))}};return(0,r.extend)({},n,{del:function(t){e.option("allowItemDeleting")&&(t.preventDefault(),e.deleteItem(e.option("focusedElement")))},upArrow:function(t){return i(t,!0)},downArrow:function(t){return i(t)},enter:function(t){this._editProvider.handleEnterPressing()||n.enter.apply(this,arguments)},space:function(t){this._editProvider.handleEnterPressing()||n.space.apply(this,arguments)}})},_updateSelection:function(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex:function(){return this._itemElements().length-1},_refreshItemElements:function(){this.callBase();var t=this._editProvider.getExcludedItemSelectors();t.length&&(this._itemElementsCache=this._itemElementsCache.not(t))},_getDefaultOptions:function(){return(0,r.extend)(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:s.default.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"ios"===t.platform},options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init:function(){this.callBase(),this._initEditProvider()},_initDataSource:function(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll:function(){return"page"===this.option("selectAllMode")},_initEditProvider:function(){this._editProvider=new l.default(this)},_disposeEditProvider:function(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider:function(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy:function(){this.option("grouped")?this._editStrategy=new a.default(this):this.callBase()},_initMarkup:function(){this._refreshEditProvider(),this.callBase()},_renderItems:function(){this.callBase.apply(this,arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:function(){return"dx-list-item-selected"},_itemResponseWaitClass:function(){return"dx-list-item-response-wait"},_itemClickHandler:function(t){var e=(0,i.default)(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var n=this._editProvider.handleClick(e,t);n||this.callBase.apply(this,arguments)}},_shouldFireContextMenuEvent:function(){return this.callBase.apply(this,arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler:function(t){var e=(0,i.default)(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var n=(0,o.isTouchEvent)(t)&&this._editProvider.handleContextMenu(e,t);n?t.handledByEditProvider=!0:this.callBase.apply(this,arguments)}},_itemContextMenuHandler:function(t){var e=(0,i.default)(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var n=!t.handledByEditProvider&&this._editProvider.handleContextMenu(e,t);n?t.preventDefault():this.callBase.apply(this,arguments)}},_postprocessRenderItem:function(t){this.callBase.apply(this,arguments),this._editProvider.modifyItemElement(t)},_clean:function(){this._disposeEditProvider(),this.callBase()},focusListItem:function(t){var e=this._editStrategy.getItemElement(t);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged:function(t){switch(t.name){case"selectAllMode":this._initDataSource(),this._dataSource.pageIndex(0),this._dataSource.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(t);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(t)}},selectAll:function(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll:function(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll:function(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement:function(t){return this._itemElements().index(t)},getItemElementByFlatIndex:function(t){var e=this._itemElements();return t<0||t>=e.length?(0,i.default)():e.eq(t)},getItemByIndex:function(t){return this._editStrategy.getItemDataByIndex(t)}});e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=n(2),r=n(5),a=u(n(106)),s=u(n(70)),l=u(n(179));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){return(t.group<<20)+t.item},c=function(t){return{group:t>>20,item:2303&t}},d=l.default.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find(".dx-list-group")},_groupItemElements:function(t){return t.find(".dx-list-item")},getIndexByItemData:function(t){var e=this._collectionWidget.option("items"),n=!1;return!!t&&(t.items&&t.items.length&&(t=t.items[0]),(0,r.each)(e,(function(e,i){return!!i.items&&((0,r.each)(i.items,(function(i,o){return o!==t||(n={group:e,item:i},!1)})),!n&&void 0)})),n)},getItemDataByIndex:function(t){var e=this._collectionWidget.option("items");return(0,o.isNumeric)(t)?this.itemsGetter()[t]:t&&e[t.group]&&e[t.group].items[t.item]||null},itemsGetter:function(){for(var t=[],e=this._collectionWidget.option("items"),n=0;n<e.length;n++)e[n]&&e[n].items?t=t.concat(e[n].items):t.push(e[n]);return t},deleteItemAtIndex:function(t){var e=c(t);this._collectionWidget.option("items")[e.group].items.splice(e.item,1)},getKeysByItems:function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]&&t[e].items?n=n.concat(t[e].items):n.push(t[e]);var i=[];for(e=0;e<n.length;e++)i.push(this._collectionWidget.keyOf(n[e]));return i},getIndexByKey:function(t,e){var n=e||this._collectionWidget.option("items"),i=-1,o=this;return(0,r.each)(n,(function(e,n){if(n.items){var a=o.getKeysByItems(n.items);return(0,r.each)(a,(function(n,r){if(o._equalKeys(r,t))return i={group:e,item:n},!1})),-1===i&&void 0}})),i},_getGroups:function(t){var e=this._collectionWidget.getDataSource(),n=e&&e.group();return n?a.default.queryByOptions((0,s.default)(t),{group:n}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(t,e){var n=[];return(0,r.each)(t,function(t,i){var o=function(t){var e=this.getIndexByKey(i,t),n=e&&t[e.group];if(n)return{groupKey:n.key,item:n.items[e.item]}}.bind(this)(this._getGroups(e));if(o){var a,s=o.groupKey,l=o.item;(0,r.each)(n,(function(t,e){if(e.key===s)return a=e,!1})),a||(a={key:s,items:[]},n.push(a)),a.items.push(l)}}.bind(this)),n},moveItemAtIndexToIndex:function(t,e){var n=this._collectionWidget.option("items"),i=c(t),o=c(e),r=n[i.group].items,a=n[o.group].items,s=r[i.item];r.splice(i.item,1),a.splice(o.item,0,s)},_isItemIndex:function(t){return t&&(0,o.isNumeric)(t.group)&&(0,o.isNumeric)(t.item)},_getNormalizedItemIndex:function(t){var e=(0,i.default)(t),n=e.closest(".dx-list-group");return n.length?h({group:this._groupElements().index(n),item:this._groupItemElements(n).index(e)}):-1},_normalizeItemIndex:function(t){return h(t)},_denormalizeItemIndex:function(t){return c(t)},_getItemByNormalizedIndex:function(t){var e=c(t),n=this._groupElements().eq(e.group);return this._groupItemElements(n).eq(e.item)},_itemsFromSameParent:function(t,e){return c(t).group===c(e).group}});e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(1)),o=n(6),r=h(n(20)),a=n(3),s=n(5),l=h(n(25)),u=n(83);function h(t){return t&&t.__esModule?t:{default:t}}n(411),n(412),n(413),n(414),n(415),n(416),n(418);var c=[],d=function(t,e,n){c.push({enabled:t,decoratorType:e,decoratorSubType:n})};d((function(){return this.option("menuItems").length}),(function(){return"menu"}),(function(){return this.option("menuMode")})),d((function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")}),(function(){var t=this.option("itemDeleteMode");return"toggle"===t||"slideButton"===t||"swipe"===t||"static"===t?"delete":"menu"}),(function(){var t=this.option("itemDeleteMode");return"slideItem"===t&&(t="slide"),"hold"===t&&(t="context"),t})),d((function(){return"none"!==this.option("selectionMode")&&this.option("showSelectionControls")}),(function(){return"selection"}),(function(){return"default"})),d((function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")}),(function(){return"reorder"}),(function(){return"default"}));var f=r.default.inherit({ctor:function(t){this._list=t,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&(0,s.each)(this._decorators,(function(t,e){e.dispose()}))},_fetchRequiredDecorators:function(){this._decorators=[],(0,s.each)(c,function(t,e){if(e.enabled.call(this._list)){var n=e.decoratorType.call(this._list),i=e.decoratorSubType.call(this._list),o=this._createDecorator(n,i);this._decorators.push(o)}}.bind(this))},_createDecorator:function(t,e){return new(this._findDecorator(t,e))(this._list)},_findDecorator:function(t,e){var n=u.registry[t][e];if(!n)throw l.default.Error("E1012",t,e);return n},modifyItemElement:function(t){var e=(0,i.default)(t.itemElement),n={$itemElement:e};this._prependBeforeBags(e,n),this._appendAfterBags(e,n),this._applyDecorators("modifyElement",n)},afterItemsRendered:function(){this._applyDecorators("afterRender")},_prependBeforeBags:function(t,e){var n=this._collectDecoratorsMarkup("beforeBag",e,"dx-list-item-before-bag");t.prepend(n)},_appendAfterBags:function(t,e){var n=this._collectDecoratorsMarkup("afterBag",e,"dx-list-item-after-bag");t.append(n)},_collectDecoratorsMarkup:function(t,e,n){var o=(0,i.default)("<div>");return(0,s.each)(this._decorators,(function(){var r=(0,i.default)("<div>").addClass(n);this[t]((0,a.extend)({$container:r},e)),r.children().length&&o.append(r)})),o.children()},_applyDecorators:function(t,e){(0,s.each)(this._decorators,(function(){this[t](e)}))},_handlerExists:function(t){if(!this._decorators)return!1;for(var e=this._decorators,n=e.length,i=0;i<n;i++)if(e[i][t]!==o.noop)return!0;return!1},_eventHandler:function(t,e,n){if(!this._decorators)return!1;for(var i=!1,o=this._decorators,r=o.length,a=0;a<r&&!(i=o[a][t](e,n));a++);return i},handleClick:function(t,e){return this._eventHandler("handleClick",t,e)},handleKeyboardEvents:function(t,e){return this._eventHandler("handleKeyboardEvents",t,e)},handleEnterPressing:function(){return this._eventHandler("handleEnterPressing")},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(t,e){return this._eventHandler("handleContextMenu",t,e)},getExcludedItemSelectors:function(){var t=[];return this._applyDecorators("getExcludedSelectors",t),t.join(",")}});e.default=f,t.exports=e.default},function(t,e,n){"use strict";var i=s(n(1)),o=s(n(45)),r=n(83),a=s(n(111));function s(t){return t&&t.__esModule?t:{default:t}}(0,r.register)("delete","static",a.default.inherit({afterBag:function(t){var e=t.$itemElement,n=t.$container,r=(0,i.default)("<div>").addClass("dx-list-static-delete-button");this._list._createComponent(r,o.default,{icon:"remove",onClick:function(t){t.event.stopPropagation(),this._deleteItem(e)}.bind(this),integrationOptions:{}}),n.addClass("dx-list-static-delete-button-container").append(r)},_deleteItem:function(t){t.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(t)}}))},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=u(n(57)),r=u(n(45)),a=u(n(18)),s=n(83),l=u(n(243));function u(t){return t&&t.__esModule?t:{default:t}}var h=l.default.inherit({_init:function(){this.callBase.apply(this,arguments);var t=(0,i.default)("<div>").addClass("dx-list-switchable-delete-button-container"),e=(0,i.default)("<div>").addClass("dx-list-switchable-delete-button-wrapper"),n=(0,i.default)("<div>").addClass("dx-list-switchable-delete-button-inner-wrapper"),o=(0,i.default)("<div>").addClass("dx-list-switchable-delete-button");this._list._createComponent(o,r.default,{text:a.default.format("dxListEditDecorator-delete"),type:"danger",onClick:function(t){this._deleteItem(),t.event.stopPropagation()}.bind(this),integrationOptions:{}}),t.append(e),e.append(n),n.append(o),this._$buttonContainer=t},_enablePositioning:function(t){this.callBase.apply(this,arguments),o.default.stop(this._$buttonContainer,!0),this._$buttonContainer.appendTo(t)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonContainer.detach()},_animatePrepareDeleteReady:function(){var t=this._isRtlEnabled(),e=this._list.$element().width(),n=this._buttonWidth(),i=t?e:-n,r=t?e-n:0;return o.default.animate(this._$buttonContainer,{type:"custom",duration:200,from:{right:i},to:{right:r}})},_animateForgetDeleteReady:function(){var t=this._isRtlEnabled(),e=this._list.$element().width(),n=this._buttonWidth(),i=t?e-n:0,r=t?e:-n;return o.default.animate(this._$buttonContainer,{type:"custom",duration:200,from:{right:i},to:{right:r}})},_buttonWidth:function(){return this._buttonContainerWidth||(this._buttonContainerWidth=this._$buttonContainer.outerWidth()),this._buttonContainerWidth},dispose:function(){this._$buttonContainer&&this._$buttonContainer.remove(),this.callBase.apply(this,arguments)}});(0,s.register)("delete","toggle",h.inherit({beforeBag:function(t){var e=t.$itemElement,n=t.$container,a=(0,i.default)("<div>").addClass("dx-list-toggle-delete-switch");this._list._createComponent(a,r.default,{icon:"toggle-delete",onClick:function(t){o.default.stop(this._$buttonContainer,!1),this._toggleDeleteReady(e),t.event.stopPropagation()}.bind(this),integrationOptions:{}}),n.addClass("dx-list-toggle-delete-switch-container"),n.append(a)}})),(0,s.register)("delete","slideButton",h.inherit({_shouldHandleSwipe:!0,_swipeEndHandler:function(t,e){return 0!==e.targetOffset&&(o.default.stop(this._$buttonContainer,!1),this._toggleDeleteReady(t)),!0}}));var c=h;e.default=c,t.exports=e.default},function(t,e,n){"use strict";var i=v(n(1)),o=v(n(7)),r=n(6),a=n(30),s=v(n(18)),l=n(41),u=n(13),h=n(137),c=v(n(244)),d=n(83),f=v(n(243)),p=v(n(57)),g=n(48),m=v(n(238));function v(t){return t&&t.__esModule?t:{default:t}}var y=(0,u.addNamespace)(a.name,"dxListEditDecorator"),_=(0,u.addNamespace)(h.active,"dxListEditDecorator");(0,d.register)("menu","slide",f.default.inherit({_shouldHandleSwipe:!0,_init:function(){this.callBase.apply(this,arguments),this._$buttonsContainer=(0,i.default)("<div>").addClass("dx-list-slide-menu-buttons-container"),o.default.on(this._$buttonsContainer,_,r.noop),this._$buttons=(0,i.default)("<div>").addClass("dx-list-slide-menu-buttons").appendTo(this._$buttonsContainer),this._renderMenu(),this._renderDeleteButton()},_renderMenu:function(){if(this._menuEnabled()){var t=this._menuItems();if(1===t.length){var e=t[0];this._renderMenuButton(e.text,function(t){t.stopPropagation(),this._fireAction(e)}.bind(this))}else{var n=(0,i.default)("<div>").addClass("dx-list-slide-menu");this._menu=this._list._createComponent(n,m.default,{showTitle:!1,items:t,onItemClick:function(t){this._fireAction(t.itemData)}.bind(this),integrationOptions:{}}),n.appendTo(this._list.$element());var o=this._renderMenuButton(s.default.format("dxListEditDecorator-more"),function(t){t.stopPropagation(),this._menu.show()}.bind(this));this._menu.option("target",o)}}},_renderMenuButton:function(t,e){var n=(0,i.default)("<div>").addClass("dx-list-slide-menu-button").addClass("dx-list-slide-menu-button-menu").text(t);return this._$buttons.append(n),o.default.on(n,y,e),n},_renderDeleteButton:function(){if(this._deleteEnabled()){var t=(0,i.default)("<div>").addClass("dx-list-slide-menu-button").addClass("dx-list-slide-menu-button-delete").text((0,g.isMaterial)()?"":s.default.format("dxListEditDecorator-delete"));o.default.on(t,y,function(t){t.stopPropagation(),this._deleteItem()}.bind(this)),this._$buttons.append(t)}},_fireAction:function(t){this._fireMenuAction((0,i.default)(this._cachedNode),t.action),this._cancelDeleteReadyItem()},modifyElement:function(t){this.callBase.apply(this,arguments);var e=t.$itemElement;e.addClass("dx-list-slide-menu-wrapper");var n=(0,i.default)("<div>").addClass("dx-list-slide-menu-content");e.wrapInner(n)},_getDeleteButtonContainer:function(){return this._$buttonsContainer},handleClick:function(t,e){return!!(0,i.default)(e.target).closest(".dx-list-slide-menu-content").length&&this.callBase.apply(this,arguments)},_swipeStartHandler:function(t){this._enablePositioning(t),this._cacheItemData(t),this._setPositions(this._getPositions(0))},_swipeUpdateHandler:function(t,e){var n=this._isRtlEnabled()?-1:1,i=this._isReadyToDelete(t);if(this._getCurrentPositions().content!==this._getStartPositions().content||i||!(e.offset*n>0)){var o=this._cachedItemWidth*e.offset,r=i?-this._cachedButtonWidth*n:0,a=(o+r)*n<0?Math.abs((o+r)/this._cachedButtonWidth):0;return this._setPositions(this._getPositions(a)),!0}e.cancel=!0},_getStartPositions:function(){var t=this._isRtlEnabled(),e=t?-1:1;return{content:0,buttonsContainer:t?-this._cachedButtonWidth:this._cachedItemWidth,buttons:-this._cachedButtonWidth*e}},_getPositions:function(t){var e=this._isRtlEnabled()?-1:1,n=this._getStartPositions();return{content:n.content-t*this._cachedButtonWidth*e,buttonsContainer:n.buttonsContainer-Math.min(t,1)*this._cachedButtonWidth*e,buttons:n.buttons+Math.min(t,1)*this._cachedButtonWidth*e}},_getCurrentPositions:function(){return{content:(0,l.locate)(this._$cachedContent).left,buttonsContainer:(0,l.locate)(this._$buttonsContainer).left,buttons:(0,l.locate)(this._$buttons).left}},_setPositions:function(t){(0,l.move)(this._$cachedContent,{left:t.content}),(0,l.move)(this._$buttonsContainer,{left:t.buttonsContainer}),(0,l.move)(this._$buttons,{left:t.buttons})},_cacheItemData:function(t){t[0]!==this._cachedNode&&(this._$cachedContent=t.find(".dx-list-slide-menu-content"),this._cachedItemWidth=t.outerWidth(),this._cachedButtonWidth=this._cachedButtonWidth||this._$buttons.outerWidth(),this._$buttonsContainer.width(this._cachedButtonWidth),this._$cachedContent.length&&(this._cachedNode=t[0]))},_minButtonContainerLeftOffset:function(){return this._cachedItemWidth-this._cachedButtonWidth},_swipeEndHandler:function(t,e){this._cacheItemData(t);var n=this._isRtlEnabled()?1:-1,i=this._cachedItemWidth*e.offset,o=!this._isReadyToDelete(t)&&i*n>.2*this._cachedButtonWidth,r=e.targetOffset===n&&o;return this._toggleDeleteReady(t,r),!0},_enablePositioning:function(t){p.default.stop(this._$cachedContent,!0),this.callBase.apply(this,arguments),this._$buttonsContainer.appendTo(t)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonsContainer.detach()},_animatePrepareDeleteReady:function(){return this._animateToPositions(this._getPositions(1))},_animateForgetDeleteReady:function(t){return this._cacheItemData(t),this._animateToPositions(this._getPositions(0))},_animateToPositions:function(t){var e=this,n=this._getCurrentPositions(),i=Math.min(Math.abs(n.content-t.content)/this._cachedButtonWidth,1);return p.default.animate(this._$cachedContent,{from:n,to:t,easing:"cubic-bezier(0.075, 0.82, 0.165, 1)",duration:400*i,strategy:"frame",draw:function(t){e._setPositions(t)}})},dispose:function(){this._menu&&this._menu.$element().remove(),this._$buttonsContainer&&this._$buttonsContainer.remove(),this.callBase.apply(this,arguments)}}).include(c.default))},function(t,e,n){"use strict";var i=n(41),o=l(n(57)),r=n(83),a=l(n(111)),s=n(8);function l(t){return t&&t.__esModule?t:{default:t}}(0,r.register)("delete","swipe",a.default.inherit({_shouldHandleSwipe:!0,_renderItemPosition:function(t,e,n){var r=new s.Deferred,a=e*this._itemElementWidth;return n?o.default.animate(t,{to:{left:a},type:"slide",complete:function(){r.resolve(t,e)}}):((0,i.move)(t,{left:a}),r.resolve()),r.promise()},_swipeStartHandler:function(t){return this._itemElementWidth=t.width(),!0},_swipeUpdateHandler:function(t,e){return this._renderItemPosition(t,e.offset),!0},_swipeEndHandler:function(t,e){var n=e.targetOffset;return this._renderItemPosition(t,n,!0).done(function(t,e){Math.abs(e)&&this._list.deleteItem(t).fail(function(){this._renderItemPosition(t,0,!0)}.bind(this))}.bind(this)),!0}}))},function(t,e,n){"use strict";var i=h(n(1)),o=h(n(244)),r=h(n(18)),a=n(83),s=h(n(111)),l=h(n(79)),u=n(181);function h(t){return t&&t.__esModule?t:{default:t}}(0,a.register)("menu","context",s.default.inherit({_init:function(){var t=(0,i.default)("<div>").addClass("dx-list-context-menu");this._list.$element().append(t),this._menu=this._renderOverlay(t)},_renderOverlay:function(t){return this._list._createComponent(t,l.default,{shading:!1,deferRendering:!0,closeOnTargetScroll:!0,closeOnOutsideClick:function(t){return!(0,i.default)(t.target).closest(".dx-list-context-menu").length},animation:{show:{type:"slide",duration:300,from:{height:0,opacity:1},to:{height:function(){return this._$menuList.outerHeight()}.bind(this),opacity:1}},hide:{type:"slide",duration:0,from:{opacity:1},to:{opacity:0}}},height:function(){return this._$menuList?this._$menuList.outerHeight():0}.bind(this),width:function(){return this._list.$element().outerWidth()}.bind(this),onContentReady:this._renderMenuContent.bind(this)})},_renderMenuContent:function(t){var e=t.component.$content(),n=this._menuItems().slice();this._deleteEnabled()&&n.push({text:r.default.format("dxListEditDecorator-delete"),action:this._deleteItem.bind(this)}),this._$menuList=(0,i.default)("<div>"),this._list._createComponent(this._$menuList,u.ListBase,{items:n,onItemClick:this._menuItemClickHandler.bind(this),height:"auto",integrationOptions:{}}),e.addClass("dx-list-context-menucontent"),e.append(this._$menuList)},_menuItemClickHandler:function(t){this._menu.hide(),this._fireMenuAction(this._$itemWithMenu,t.itemData.action)},_deleteItem:function(){this._list.deleteItem(this._$itemWithMenu)},handleContextMenu:function(t){return this._$itemWithMenu=t,this._menu.option({position:{my:"top",at:"bottom",of:t,collision:"flip"}}),this._menu.show(),!0},dispose:function(){this._menu&&this._menu.$element().remove(),this.callBase.apply(this,arguments)}}).include(o.default))},function(t,e,n){"use strict";var i=f(n(1)),o=f(n(7)),r=n(30),a=n(3),s=f(n(25)),l=f(n(127)),u=f(n(417)),h=n(13),c=n(83),d=f(n(111));function f(t){return t&&t.__esModule?t:{default:t}}var p=(0,h.addNamespace)(r.name,"dxListEditDecorator");(0,c.register)("selection","default",d.default.inherit({_init:function(){this.callBase.apply(this,arguments);var t=this._list.option("selectionMode");this._singleStrategy="single"===t,this._containerClass=this._singleStrategy?"dx-list-select-radiobutton-container":"dx-list-select-checkbox-container",this._controlClass=this._singleStrategy?"dx-list-select-radiobutton":"dx-list-select-checkbox",this._controlWidget=this._singleStrategy?u.default:l.default,this._list.$element().addClass("dx-list-select-decorator-enabled")},beforeBag:function(t){var e=t.$itemElement,n=t.$container.addClass(this._containerClass),o=(0,i.default)("<div>").addClass(this._controlClass).appendTo(n);new this._controlWidget(o,(0,a.extend)(this._commonOptions(),{value:this._isSelected(e),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:function(t){this._processCheckedState(e,t.value),t.event&&t.event.stopPropagation()}.bind(this)}))},modifyElement:function(t){this.callBase.apply(this,arguments);var e=t.$itemElement,n=this._controlWidget.getInstance(e.find("."+this._controlClass));o.default.on(e,"stateChanged",function(t,e){n.option("value",e)}.bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){"all"===this._list.option("selectionMode")&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(t,e){var n=!e,i=this._list,o=this._$selectAll,r=i._getLastItemIndex();return!(!o||!(e&&0===t||n&&t===r))&&(i.option("focusedElement",o),i.scrollToItem(i.option("focusedElement")),!0)},handleEnterPressing:function(){if(this._$selectAll&&this._$selectAll.hasClass("dx-state-focused"))return this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var t=this._$selectAll=(0,i.default)("<div>").addClass("dx-list-select-all"),e=this._list,n=e._supportedKeys().downArrow.bind(e);this._selectAllCheckBox=e._createComponent((0,i.default)("<div>").addClass("dx-list-select-all-checkbox").appendTo(t),l.default,{focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",n),(0,i.default)("<div>").addClass("dx-list-select-all-label").text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),o.default.off(this._$selectAll,p),o.default.on(this._$selectAll,p,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(t){t.event&&t.event.stopPropagation();var e=this._selectAllCheckBox.option("value");!1!==this._list._createActionByOption("onSelectAllValueChanged")({value:e})&&(!0===e?this._selectAllItems():!1===e&&this._unselectAllItems())},_checkSelectAllCapability:function(){var t=this._list,e=t.getDataSource();return!!("allPages"!==t.option("selectAllMode")||!t.option("grouped")||e&&e.group())||(s.default.log("W1010"),!1)},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll("page"===this._list.option("selectAllMode"))},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll("page"===this._list.option("selectAllMode"))},_selectAllClickHandler:function(){this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(t){return this._list.isItemSelected(t)},_processCheckedState:function(t,e){e?this._list.selectItem(t):this._list.unselectItem(t)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass("dx-list-select-decorator-enabled"),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}))},function(t,e,n){"use strict";e.default=void 0;var i=d(n(1)),o=d(n(7)),r=d(n(17)),a=n(3),s=n(95),l=d(n(19)),u=d(n(82)),h=n(13),c=n(30);function d(t){return t&&t.__esModule?t:{default:t}}var f=u.default.inherit({_supportedKeys:function(){return(0,a.extend)(this.callBase(),{space:function(t){t.preventDefault(),this._clickAction({event:t})}})},_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,useInkRipple:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===r.default.real().deviceType&&!r.default.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass("dx-radiobutton")},_initMarkup:function(){this.callBase(),this._renderIcon(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderInkRipple:function(){this._inkRipple=(0,s.render)({waveSizeCoefficient:3.3,useHoldAnimation:!1,wavesNumber:2,isCentered:!0})},_renderInkWave:function(t,e,n,i){if(this._inkRipple){var o={element:t,event:e,wave:i};n?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}},_updateFocusState:function(t,e){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,t,e,0)},_toggleActiveState:function(t,e,n){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,n,e,1)},_renderIcon:function(){this._$icon=(0,i.default)("<div>").addClass("dx-radiobutton-icon"),(0,i.default)("<div>").addClass("dx-radiobutton-icon-dot").appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(t){this.$element().toggleClass("dx-radiobutton-checked",t).find(".dx-radiobutton-icon").toggleClass("dx-radiobutton-icon-checked",t),this.setAria("checked",t)},_renderClick:function(){var t=(0,h.addNamespace)(c.name,this.NAME);this._clickAction=this._createAction(function(t){this._clickHandler(t.event)}.bind(this)),o.default.off(this.$element(),t),o.default.on(this.$element(),t,function(t){this._clickAction({event:t})}.bind(this))},_clickHandler:function(t){this._saveValueChangeEvent(t),this.option("value",!0)},_optionChanged:function(t){switch(t.name){case"useInkRipple":this._invalidate();break;case"value":this._renderCheckedState(t.value),this.callBase(t);break;default:this.callBase(t)}},_clean:function(){delete this._inkRipple,this.callBase()}});(0,l.default)("dxRadioButton",f);var p=f;e.default=p,t.exports=e.default},function(t,e,n){"use strict";var i=h(n(1)),o=h(n(7)),r=n(3),a=n(13),s=n(83),l=h(n(111)),u=h(n(245));function h(t){return t&&t.__esModule?t:{default:t}}(0,s.register)("reorder","default",l.default.inherit({_init:function(){var t=this._list;this._groupedEnabled=this._list.option("grouped"),this._lockedDrag=!1;var e=this._groupedEnabled?"> .dx-list-group > .dx-list-group-body > .dx-list-item":"> .dx-list-item";this._sortable=t._createComponent(t._scrollView.content(),u.default,(0,r.extend)({component:t,contentTemplate:null,allowReordering:!1,filter:e,container:t.$element(),dragDirection:t.option("itemDragging.group")?"both":"vertical",handle:".".concat("dx-list-reorder-handle"),dragTemplate:this._dragTemplate,onDragStart:this._dragStartHandler.bind(this),onDragChange:this._dragChangeHandler.bind(this),onReorder:this._reorderHandler.bind(this)},t.option("itemDragging")))},_dragTemplate:function(t){return(0,i.default)(t.itemElement).clone().width((0,i.default)(t.itemElement).width()).addClass("dx-list-item-ghost-reordering").addClass("dx-state-hover")},_dragStartHandler:function(t){this._lockedDrag&&(t.cancel=!0)},_dragChangeHandler:function(t){!this._groupedEnabled||this._sameParent(t.fromIndex,t.toIndex)||(t.cancel=!0)},_sameParent:function(t,e){var n=this._list.getItemElementByFlatIndex(t);return this._list.getItemElementByFlatIndex(e).parent().get(0)===n.parent().get(0)},_reorderHandler:function(t){var e=this._list.getItemElementByFlatIndex(t.toIndex);this._list.reorderItem((0,i.default)(t.itemElement),e)},afterBag:function(t){var e=this,n=(0,i.default)("<div>").addClass("dx-list-reorder-handle");o.default.on(n,"dxpointerdown",(function(t){e._lockedDrag=!(0,a.isMouseEvent)(t)})),o.default.on(n,"dxhold",{timeout:30},(function(t){t.cancel=!0,e._lockedDrag=!1})),t.$container.addClass("dx-list-reorder-handle-container").append(n)}}))},function(t,e,n){"use strict";e.default=void 0;var i=k(n(1)),o=n(14),r=k(n(7)),a=n(55),s=k(n(19)),l=n(41),u=k(n(228)),h=k(n(24)),c=n(60),d=n(3),f=k(n(89)),p=n(27),g=n(13),m=k(n(33)),v=n(138),y=k(n(74)),_=n(2),b=n(6),x=n(103),w=n(119),C=n(8),S=n(34);function k(t){return t&&t.__esModule?t:{default:t}}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var I,T,D=(0,o.getWindow)(),M="dxDraggable",O=(0,g.addNamespace)(v.start,M),P=(0,g.addNamespace)(v.move,M),A=(0,g.addNamespace)(v.end,M),R=(0,g.addNamespace)(v.enter,M),B=(0,g.addNamespace)(v.leave,M),N=(0,g.addNamespace)(m.default.down,M),F=function(t){return{x:t.pageX-(0,i.default)(D).scrollLeft(),y:t.pageY-(0,i.default)(D).scrollTop()}},L=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._preventScroll=!0,this._component=n,"vertical"===e?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}var e,n,o;return e=t,(n=[{key:"updateScrollable",value:function(t,e){var n=this;t.some((function(t){return n._trySetScrollable(t,e)}))||(n._$scrollableAtPointer=null,n._scrollSpeed=0)}},{key:"isScrolling",value:function(){return!!this._scrollSpeed}},{key:"isScrollable",value:function(t){return("auto"===t.css(this._overFlowAttr)||t.hasClass("dx-scrollable-container"))&&t.prop(this._scrollSizeProp)>t[this._sizeAttr]()}},{key:"_trySetScrollable",value:function(t,e){var n,o=(0,i.default)(t),r=this._component.option("scrollSensitivity"),a=this.isScrollable(o);return a&&(r>(n=this._calculateDistanceToBorders(o,e))[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(n[this._limitProps.start]),this._$scrollableAtPointer=o):r>n[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(n[this._limitProps.end]),this._$scrollableAtPointer=o):(a=!1,this._preventScroll=!1)),a}},{key:"_calculateDistanceToBorders",value:function(t,e){var n,i=t.get(0);return i?(n=(0,S.getBoundingRect)(i),{left:e.x-n.left,top:e.y-n.top,right:n.right-e.x,bottom:n.bottom-e.y}):{}}},{key:"_calculateScrollSpeed",value:function(t){var e=this._component,n=e.option("scrollSensitivity"),i=e.option("scrollSpeed");return Math.ceil(Math.pow((n-t)/n,2)*i)}},{key:"scrollByStep",value:function(){var t,e;if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var n=this._$scrollableAtPointer.closest(".dx-scrollable"),i=n.data("dxScrollable")||n.data("dxScrollView");i&&(t=i.scrollOffset()[this._limitProps.start],e=i[this._scrollSizeProp]()-i[this._clientSizeProp](),t+=this._scrollSpeed,i.scrollTo(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},this._limitProps.start,t)))}else t=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed,e=this._$scrollableAtPointer[0][this._scrollSizeProp]-this._$scrollableAtPointer[0][this._clientSizeProp],this._$scrollableAtPointer[this._scrollValue](t);var o=this._component._dragMoveArgs;if(o){var r=this._scrollSpeed;t<0?r-=t:t>e&&(r-=t-e),this._component._dragMoveHandler(o,r)}}}},{key:"reset",value:function(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}},{key:"isOutsideScrollable",value:function(t,e){if(!t)return!1;var n=(0,S.getBoundingRect)(t.get(0)),i=n[this._limitProps.start],o=n[this._sizeAttr],r=F(e),a="width"===this._sizeAttr?r.x:r.y;return a<i||a>i+o}}])&&E(e.prototype,n),o&&E(e,o),t}(),V=u.default.inherit({ctor:function(t){this.callBase(),this._strategy=t},_step:function(){var t=this._strategy._horizontalScrollHelper,e=this._strategy._verticalScrollHelper;t&&t.scrollByStep(),e&&e.scrollByStep()}}),j=f.default.inherit({reset:b.noop,dragMove:b.noop,dragEnter:b.noop,dragLeave:b.noop,dragEnd:function(t){return this._getSourceDraggable()._fireRemoveEvent(t),(new C.Deferred).resolve()},_fireRemoveEvent:b.noop,_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference:function(){this.callBase.apply(this,arguments),(0,d.extend)(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init:function(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new V(this),this._horizontalScrollHelper=new L("horizontal",this),this._verticalScrollHelper=new L("vertical",this)},_normalizeCursorOffset:function(t){return(0,_.isObject)(t)&&(t={h:t.x,v:t.y}),{left:(t=(0,b.splitPair)(t).map((function(t){return parseFloat(t)})))[0],top:1===t.length?t[0]:t[1]}},_getNormalizedCursorOffset:function(t,e){return(0,_.isFunction)(t)&&(t=t.call(this,e)),this._normalizeCursorOffset(t)},_calculateElementOffset:function(t){var e,n,o=t.event,r=(0,i.default)(t.itemElement),a=(0,i.default)(t.dragElement),s=this._dragElementIsCloned(),u=this.option("cursorOffset"),h={left:0,top:0},c=this._initialLocate=(0,l.locate)(a);return(s||t.initialOffset||u)&&(e=t.initialOffset||r.offset(),u&&(h=this._getNormalizedCursorOffset(u,t),isFinite(h.left)&&(e.left=o.pageX),isFinite(h.top)&&(e.top=o.pageY)),n=a.offset(),e.top-=n.top+(h.top||0)-c.top,e.left-=n.left+(h.left||0)-c.left),e},_initPosition:function(t){var e=(0,i.default)(t.dragElement),n=this._calculateElementOffset(t);n&&this._move(n,e),this._startPosition=(0,l.locate)(e)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},_addWidgetPrefix:function(t){var e=this.NAME;return(0,c.dasherize)(e)+(t?"-"+t:"")},_getItemsSelector:function(){return this.option("filter")||""},_$content:function(){var t=this.$element(),e=t.children(".dx-template-wrapper");return e.length?e:t},_attachEventHandlers:function(){var t=this;if(!this.option("disabled")){var e=this._$content(),n=this._getItemsSelector(),i=this.option("allowMoveByClick"),o={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:function(e,n){var i=t.option("group"),o=t._getSourceDraggable().option("group"),r=t._getScrollable(e);return!t._verticalScrollHelper.isOutsideScrollable(r,n)&&!t._horizontalScrollHelper.isOutsideScrollable(r,n)&&(o&&o===i)}};i&&(e=this._getArea(),r.default.on(e,N,o,this._pointerDownHandler.bind(this))),">"===n[0]&&(n=n.slice(1)),r.default.on(e,O,n,o,this._dragStartHandler.bind(this)),r.default.on(e,P,o,this._dragMoveHandler.bind(this)),r.default.on(e,A,o,this._dragEndHandler.bind(this)),r.default.on(e,R,o,this._dragEnterHandler.bind(this)),r.default.on(e,B,o,this._dragLeaveHandler.bind(this))}},_dragElementIsCloned:function(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix("clone"))},_getDragTemplateArgs:function(t,e){return{container:(0,p.getPublicElement)(e),model:{itemData:this.option("itemData"),itemElement:(0,p.getPublicElement)(t)}}},_createDragElement:function(t){var e=t,n=this.option("clone"),o=this._getContainer(),r=this.option("dragTemplate");return r?(r=this._getTemplate(r),e=(0,i.default)("<div>").appendTo(o),r.render(this._getDragTemplateArgs(t,e))):n&&(e=(0,i.default)("<div>").appendTo(o),t.clone().css({width:t.css("width"),height:t.css("height")}).appendTo(e)),e.toggleClass(this._addWidgetPrefix("clone"),e.get(0)!==t.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement:function(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement:function(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers:function(){r.default.off(this._$content(),"."+M),r.default.off(this._getArea(),"."+M)},_move:function(t,e){(0,l.move)(e||this._$dragElement,t)},_getDraggableElement:function(t){var e=this._getSourceElement();if(e)return e;if(this.option("allowMoveByClick"))return this.$element();var n=(0,i.default)(t&&t.target),o=this._getItemsSelector();if(">"===o[0]){var r=this._$content().find(o);r.is(n)||(n=n.closest(r))}return n},_getSourceElement:function(){return this._getSourceDraggable()._$sourceElement},_pointerDownHandler:function(t){if(!(0,g.needSkipEvent)(t)){var e={},n=this.$element(),i=this.option("dragDirection");"horizontal"!==i&&"both"!==i||(e.left=t.pageX-n.offset().left+(0,l.locate)(n).left-n.width()/2),"vertical"!==i&&"both"!==i||(e.top=t.pageY-n.offset().top+(0,l.locate)(n).top-n.height()/2),this._move(e,n),this._getAction("onDragMove")(this._getEventArgs(t))}},_isValidElement:function(t,e){var n=this.option("handle"),o=(0,i.default)(t.originalEvent&&t.originalEvent.target);return!(n&&!o.closest(n).length)&&(!!e.length&&!e.is(".dx-state-disabled, .dx-state-disabled *"))},_dragStartHandler:function(t){var e=this._getDraggableElement(t);if(!this._$sourceElement)if(this._isValidElement(t,e)){var n=this._getDragStartArgs(t,e);if(this._getAction("onDragStart")(n),n.cancel)t.cancel=!0;else{this.option("itemData",n.itemData),this._setSourceDraggable(),this._$sourceElement=e;var i=e.offset(),o=this._$dragElement=this._createDragElement(e);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0);var r="fixed"===o.css("position");this._initPosition((0,d.extend)({},n,{dragElement:o.get(0),initialOffset:r&&i}));var a=this._getArea(),s=this._getAreaOffset(a),l=this._getBoundOffset(),u=a.outerWidth(),h=a.outerHeight(),c=o.width(),f=o.height(),p=o.offset().left-s.left,g=o.offset().top-s.top;a.length&&(t.maxLeftOffset=p-l.left,t.maxRightOffset=u-p-c-l.right,t.maxTopOffset=g-l.top,t.maxBottomOffset=h-g-f-l.bottom),this.option("autoScroll")&&this._startAnimator()}}else t.cancel=!0},_getAreaOffset:function(t){var e=t&&y.default.offset(t);return e||{left:0,top:0}},_toggleDraggingClass:function(t){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),t)},_toggleDragSourceClass:function(t,e){var n=e||this._$sourceElement;n&&n.toggleClass(this._addWidgetPrefix("source"),t)},_getBoundOffset:function(){var t=this.option("boundOffset");return(0,_.isFunction)(t)&&(t=t.call(this)),(0,a.quadToObject)(t)},_getArea:function(){var t=this.option("boundary");return(0,_.isFunction)(t)&&(t=t.call(this)),(0,i.default)(t)},_getContainer:function(){var t=this.option("container");return void 0===t&&(t=(0,x.value)()),(0,i.default)(t)},_dragMoveHandler:function(t,e){if(this._dragMoveArgs=t,this._$dragElement){var n=t.offset,i=this._startPosition;this._move({left:i.left+n.x,top:i.top+n.y}),e||this._updateScrollable(t);var o=this._getEventArgs(t);if(this._getAction("onDragMove")(o),!0!==o.cancel)this._getTargetDraggable().dragMove(t,e)}else t.cancel=!0},_updateScrollable:function(t){if(this.option("autoScroll")){var e=F(t),n=this.getElementsFromPoint(e);this._verticalScrollHelper.updateScrollable(n,e),this._horizontalScrollHelper.updateScrollable(n,e)}},getElementsFromPoint:function(t,e){var n=(e||this._$dragElement.get(0)).ownerDocument;if(h.default.msie){var i=n.msElementsFromPoint(t.x,t.y);return i?Array.prototype.slice.call(i):[]}return n.elementsFromPoint(t.x,t.y)},_getScrollable:function(t){var e,n=this;return t.parents().toArray().some((function(t){var o=(0,i.default)(t);if(n._horizontalScrollHelper.isScrollable(o)||n._verticalScrollHelper.isScrollable(o))return e=o,!0})),e},_defaultActionArgs:function(){var t=this.callBase.apply(this,arguments),e=this.option("component");return e&&(t.component=e,t.element=e.element()),t},_getEventArgs:function(t){var e=this._getSourceDraggable(),n=this._getTargetDraggable();return{event:t,itemData:e.option("itemData"),itemElement:(0,p.getPublicElement)(e._$sourceElement),fromComponent:e.option("component")||e,toComponent:n.option("component")||n,fromData:e.option("data"),toData:n.option("data")}},_getDragStartArgs:function(t,e){var n=this._getEventArgs(t);return{event:n.event,itemData:n.itemData,itemElement:e,fromData:n.fromData}},_revertItemToInitialPosition:function(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler:function(t){var e=this,n=new C.Deferred,i=this._getEventArgs(t),o=this._getEventArgs(t),r=this._getTargetDraggable(),a=!0;try{this._getAction("onDragEnd")(i)}finally{(0,C.when)((0,C.fromPromise)(i.cancel)).done((function(t){if(!t&&(r!==e&&r._getAction("onDrop")(o),!o.cancel))return a=!1,void(0,C.when)((0,C.fromPromise)(r.dragEnd(i))).always(n.resolve);n.resolve()})).fail(n.resolve),n.done((function(){a&&e._revertItemToInitialPosition(),e.reset(),r.reset(),e._stopAnimator(),e._horizontalScrollHelper.reset(),e._verticalScrollHelper.reset(),e._resetDragElement(),e._resetSourceElement(),e._resetTargetDraggable(),e._resetSourceDraggable()}))}},_isTargetOverAnotherDraggable:function(t){var e=this,n=this._getSourceDraggable();if(this===n)return!1;var o=n._$dragElement,r=n.$element(),a=this.$element(),s=F(t),l=this.getElementsFromPoint(s,t.target).filter((function(t){var n=(0,i.default)(t);if(n.hasClass(e._addWidgetPrefix()))return!n.closest(o).length}))[0],u=this._getSourceElement(),h=l===r.get(0),c=(0,i.default)(l).closest(u).length;return!l||l===a.get(0)&&!h&&!c},_dragEnterHandler:function(t){this._fireDragEnterEvent(t),this._isTargetOverAnotherDraggable(t)&&this._setTargetDraggable(),this._getSourceDraggable().dragEnter(t)},_dragLeaveHandler:function(t){this._fireDragLeaveEvent(t),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset(),this._getSourceDraggable().dragLeave(t)},_getAction:function(t){return this["_"+t+"Action"]||this._createActionByOption(t)},_getAnonymousTemplateName:function(){return"content"},_initTemplates:function(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new w.EmptyTemplate}),this.callBase.apply(this,arguments))},_render:function(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var t=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),e=this._getTemplateByOption("contentTemplate");e&&(0,i.default)(e.render({container:this.element(),transclude:t}))},_optionChanged:function(t){var e=t.name;switch(e){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":this["_"+e+"Action"]=this._createActionByOption(e);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(t)}},_getTargetDraggable:function(){return I||this},_getSourceDraggable:function(){return T||this},_setTargetDraggable:function(){var t=this.option("group"),e=this._getSourceDraggable();t&&t===e.option("group")&&(I=this)},_setSourceDraggable:function(){T=this},_resetSourceDraggable:function(){T=null},_resetTargetDraggable:function(){I=null},_dispose:function(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent:function(t){var e=this._getEventArgs(t);this._getAction("onDragEnter")(e)},_fireDragLeaveEvent:function(t){var e=this._getEventArgs(t);this._getAction("onDragLeave")(e)}});(0,s.default)(M,j);var z=j;e.default=z,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(421));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("stateStoring",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=n(6),o=n(2),r=n(3),a=n(422),s=n(8),l=function(t){var e=t.getController("columns"),n=t.getController("selection"),i=t.getController("export"),o=t.getController("data");e&&e.columnsChanged.add((function(){t.updateState({columns:e.getUserState()})})),n&&n.selectionChanged.add((function(e){t.updateState({selectedRowKeys:e.selectedRowKeys,selectionFilter:e.selectionFilter})})),o&&(t._initialPageSize=t.option("paging.pageSize"),t._initialFilterValue=t.option("filterValue"),o.changed.add((function(){var e=function(t){var e=t.getView("pagerView"),n=t.getController("data"),i={allowedPageSizes:e?e.getPageSizes():void 0,filterPanel:{filterEnabled:t.option("filterPanel.filterEnabled")},filterValue:t.option("filterValue"),focusedRowKey:t.option("focusedRowEnabled")?t.option("focusedRowKey"):void 0};return(0,r.extend)(i,n.getUserState())}(t);t.updateState(e)}))),i&&i.selectionOnlyChanged.add((function(){t.updateState({exportSelectionOnly:i.selectionOnly()})}))},u={defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:a.StateStoringController},extenders:{views:{rowsView:{init:function(){var t=this,e=t.getController("data");t.callBase(),e.stateLoaded.add((function(){if(e.isLoaded()&&!e.getDataSource()){t.setLoading(!1),t.renderNoDataText();var n=t.component.getView("columnHeadersView");n&&n.render(),t.component._fireContentReadyAction()}}))}}},controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),l(this)},isLoading:function(){return this.callBase()||this.getController("data").isStateLoading()},state:function(t){var e=this.callBase.apply(this,arguments);return void 0!==t&&this.applyState((0,r.extend)({},t)),e},updateState:function(t){if(this.isEnabled()){var e=this.state(),n=(0,r.extend)({},e,t),o=(0,i.getKeyHash)(e),a=(0,i.getKeyHash)(n);(0,i.equalByValue)(o,a)||((0,r.extend)(this._state,t),this.save())}else(0,r.extend)(this._state,t)},applyState:function(t){var e=t.allowedPageSizes,n=t.searchText,i=t.selectedRowKeys,r=t.selectionFilter,a=this.getController("export"),s=this.getController("columns"),l=this.getController("data"),u=this.option("scrolling.mode"),h="virtual"===u||"infinite"===u,c=!0===this.option("pager.visible")&&this.option("pager.showPageSizeSelector");this.component.beginUpdate(),s&&s.setUserState(t.columns),a&&a.selectionOnly(t.exportSelectionOnly),i&&this.option("selectedRowKeys",i),this.option("selectionFilter",r),e&&"auto"===this.option("pager.allowedPageSizes")&&(this.option("pager").allowedPageSizes=e),this.option("focusedRowEnabled")&&this.option("focusedRowKey",t.focusedRowKey),this.component.endUpdate(),n&&this.option("searchPanel.text",n),this.option("filterValue",function(t,e){var n=t.getController("filterSync"),i=t.getController("columns"),o=e.columns||void 0!==e.filterValue;return n?o?e.filterValue||n.getFilterValueFromColumns(e.columns):t._initialFilterValue||n.getFilterValueFromColumns(i.getColumns()):null}(this,t)),this.option("filterPanel.filterEnabled",!t.filterPanel||t.filterPanel.filterEnabled),this.option("paging.pageSize",h&&!c||!(0,o.isDefined)(t.pageSize)?this._initialPageSize:t.pageSize),this.option("paging.pageIndex",t.pageIndex||0),l&&l.reset()}},columns:{getVisibleColumns:function(){var t=this.callBase.apply(this,arguments),e=this.getController("stateStoring");return e.isEnabled()&&!e.isLoaded()?[]:t}},data:{callbackNames:function(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource:function(){var t=this,e=this.callBase,n=this.getController("stateStoring");if(n.isEnabled()&&!n.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var i=new s.Deferred;return this._restoreStateTimeoutID=setTimeout((function(){n.load().always((function(){t._restoreStateTimeoutID=null})).done((function(){e.call(t),t.stateLoaded.fire(),i.resolve()})).fail((function(e){t.stateLoaded.fire(),t._handleLoadError(e||"Unknown error"),i.reject()}))})),i.promise()}this.isStateLoading()||e.call(this)},isLoading:function(){var t=this.getController("stateStoring");return this.callBase()||t.isLoading()},isStateLoading:function(){return(0,o.isDefined)(this._restoreStateTimeoutID)},isLoaded:function(){return this.callBase()&&!this.isStateLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged:function(t){var e=this.getController("stateStoring"),n=this.option("selection.deferred");e.isLoading()&&n||this.callBase.apply(this,arguments)}}}}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.StateStoringController=void 0;var i=f(n(7)),o=n(14),r=f(n(35)),a=f(n(25)),s=f(n(24)),l=n(212),u=n(3),h=n(5),c=n(2),d=n(8);function f(t){return t&&t.__esModule?t:{default:t}}var p=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,g=function t(e){e&&(0,h.each)(e,(function(n,i){if((0,c.isPlainObject)(i)||Array.isArray(i))t(i);else if("string"===typeof i){var o=p.exec(i);o&&(e[n]=new Date(Date.UTC(+o[1],+o[2]-1,+o[3],+o[4],+o[5],+o[6])))}}))},m=r.default.ViewController.inherit(function(){var t=function(t){var e="sessionStorage"===t.type?(0,l.sessionStorage)():(0,o.getWindow)().localStorage;if(!e)throw"file:"===(0,o.getWindow)().location.protocol&&s.default.msie?new Error("E1038"):new Error("E1007");return e},e=function(t){return(0,c.isDefined)(t.storageKey)?t.storageKey:"storage"};return{_loadState:function(){var n=this.option("stateStoring");if("custom"===n.type)return n.customLoad&&n.customLoad();try{return JSON.parse(t(n).getItem(e(n)))}catch(i){a.default.log(i.message)}},_saveState:function(n){var i=this.option("stateStoring");if("custom"!==i.type)try{t(i).setItem(e(i),JSON.stringify(n))}catch(o){a.default.log(o.message)}else i.customSave&&i.customSave(n)},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var t=this;return t._state={},t._isLoaded=!1,t._isLoading=!1,t._windowUnloadHandler=function(){void 0!==t._savingTimeoutID&&t._saveState(t.state())},i.default.on((0,o.getWindow)(),"unload",t._windowUnloadHandler),t},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){var t=this;this._isLoading=!0;var e=(0,d.fromPromise)(this._loadState());return e.always((function(){t._isLoaded=!0,t._isLoading=!1})).done((function(e){t.state(e)})),e},state:function(t){var e=this;if(!arguments.length)return(0,u.extend)(!0,{},e._state);e._state=(0,u.extend)({},t),g(e._state)},save:function(){var t=this;clearTimeout(t._savingTimeoutID),t._savingTimeoutID=setTimeout((function(){t._saveState(t.state()),t._savingTimeoutID=void 0}),t.option("stateStoring.savingTimeout"))},optionChanged:function(t){switch(t.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),t.handled=!0;break;default:this.callBase(t)}},dispose:function(){clearTimeout(this._savingTimeoutID),i.default.off((0,o.getWindow)(),"unload",this._windowUnloadHandler)}}}());e.StateStoringController=m},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(424));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("selection",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=v(n(1)),o=v(n(7)),r=v(n(22)),a=v(n(31)),s=n(2),l=n(5),u=n(3),h=n(56),c=n(30),d=v(n(18)),f=n(13),p=v(n(110)),g=v(n(235)),m=n(8);function v(t){return t&&t.__esModule?t:{default:t}}var y="selection.showCheckBoxesMode",_=function(t,e){var n=t.getController("selection"),o=t.getView("rowsView"),r=(0,i.default)(e.target).closest(".dx-data-row"),a=o.getRowIndex(r);a<0||("onLongTap"===t.option(y)?n.isSelectionWithCheckboxes()?n.stopSelectionWithCheckboxes():n.startSelectionWithCheckboxes():("onClick"===t.option(y)&&n.startSelectionWithCheckboxes(),"always"!==t.option(y)&&n.changeItemSelection(a,{control:!0})))},b={defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}},controllers:{selection:r.default.Controller.inherit(function(){var t=function(t,e){var n=e.component,o=n.getView("rowsView");n.option("renderAsync")&&!n.option("selection.deferred")&&(e.value=n.isRowSelected(e.row.key)),o.renderSelectCheckBoxContainer((0,i.default)(t),e)},e=function(t,e){var n=e.column,o=(0,i.default)(t),r=e.component.getView("columnHeadersView");o.addClass("dx-editor-cell"),r._renderSelectAllCheckBox(o,n),r._attachSelectAllCheckBoxClickEvent(o)};return{init:function(){this._dataController=this.getController("data"),this._selectionMode=this.option("selection.mode"),this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_getSelectionConfig:function(){var t=this._dataController,e=this.option("selection")||{};return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:e.deferred,maxFilterLengthInRequest:e.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),key:function(){return t&&t.key()},keyOf:function(e){return t&&t.keyOf(e)},dataFields:function(){return t.dataSource()&&t.dataSource().select()},load:function(e){return t.dataSource()&&t.dataSource().load(e)||(new m.Deferred).resolve([])},plainItems:function(){return t.items(!0)},isItemSelected:function(t){return t.selected},isSelectableItem:function(t){return t&&"data"===t.rowType&&!t.isNewRow},getItemData:function(t){return t&&(t.oldData||t.data||t)},filter:function(){return t.getCombinedFilter()},totalCount:function(){return t.totalCount()},onSelectionChanged:this._updateSelectedItems.bind(this)}},_updateSelectColumn:function(){var n=this.getController("columns"),i=this.isSelectColumnVisible();n.addCommandColumn({type:"selection",command:"select",visible:i,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:"dx-command-select",width:"auto",cellTemplate:t,headerCellTemplate:e}),n.columnOption("command:select","visible",i)},_createSelection:function(){var t=this._getSelectionConfig();return new g.default(t)},_fireSelectionChanged:function(t){t&&this.executeAction("onSelectionChanged",t);var e=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(e)},_updateCheckboxesState:function(t){var e=t.isDeferredMode,n=t.selectionFilter,i=t.selectedItemKeys,o=t.removedItemKeys;"onClick"===this.option(y)&&((e?n&&function(t,e){var n=0,i=t._dataController.store(),o=i&&i.key(),r=Array.isArray(o);if(!e.length)return!1;if(r&&Array.isArray(e[0])&&"and"===e[1]){for(var a=0;a<e.length;a++)if(Array.isArray(e[a])){if(e[a][0]!==o[n]||"="!==e[a][1])return!0;n++}return!1}return o!==e[0]}(this,n):i.length>1)?this.startSelectionWithCheckboxes():(e?n&&!n.length:0===i.length&&o.length)&&this.stopSelectionWithCheckboxes())},_updateSelectedItems:function(t){var e,n=this.option("selection.deferred"),i=this._selection.selectionFilter(),o=this._dataController,r=o.items();if(r){var a=this.isSelectionWithCheckboxes(),s=this.getChangedItemIndexes(r);this._updateCheckboxesState({selectedItemKeys:t.selectedItemKeys,removedItemKeys:t.removedItemKeys,selectionFilter:i,isDeferredMode:n}),(s.length||a!==this.isSelectionWithCheckboxes())&&o.updateItems({changeType:"updateSelection",itemIndexes:s}),n?(this.option("selectionFilter",i),e={}):(t.addedItemKeys.length||t.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",t.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,e={selectedRowsData:t.selectedItems.slice(0),selectedRowKeys:t.selectedItemKeys.slice(0),currentSelectedRowKeys:t.addedItemKeys.slice(0),currentDeselectedRowKeys:t.removedItemKeys.slice(0)}),this._fireSelectionChanged(e)}},getChangedItemIndexes:function(t){for(var e=[],n=this.option("selection.deferred"),i=0,o=t.length;i<o;i++){var r=t[i],a=this.isRowSelected(n?r.data:r.key);this._selection.isDataItem(r)&&r.isSelected!==a&&e.push(i)}return e},callbackNames:function(){return["selectionChanged"]},optionChanged:function(t){var e=this;switch(e.callBase(t),t.name){case"selection":var n=e._selectionMode;e.init();var i=e._selectionMode,o=e.option("selectedRowKeys");n!==i&&("single"===i?o.length>1&&(o=[o[0]]):"multiple"!==i&&(o=[])),e.selectRows(o).always((function(){e._fireSelectionChanged()})),e.getController("columns").updateColumns(),t.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(t.value),t.handled=!0;break;case"selectedRowKeys":var r=t.value||[];!Array.isArray(r)||e._selectedItemsInternalChange||!e.component.getDataSource()&&r.length||e.selectRows(r),t.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(t){return this._selection.isItemSelected(t)},isSelectColumnVisible:function(){return"multiple"===this.option("selection.mode")&&("always"===this.option(y)||"onClick"===this.option(y)||this._isSelectionWithCheckboxes)},_isOnePageSelectAll:function(){return"page"===this.option("selection.selectAllMode")},isSelectAll:function(){return this._selection.getSelectAllState(this._isOnePageSelectAll())},selectAll:function(){return"onClick"===this.option(y)&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())},deselectAll:function(){return this._selection.deselectAll(this._isOnePageSelectAll())},clearSelection:function(){return this.selectedItemKeys([])},refresh:function(){var t=this.option("selectedRowKeys")||[];return!this.option("selection.deferred")&&t.length?this.selectedItemKeys(t):(new m.Deferred).resolve().promise()},selectedItemKeys:function(t,e,n,i){return this._selection.selectedItemKeys(t,e,n,i)},getSelectedRowKeys:function(){return this._selection.getSelectedItemKeys()},selectRows:function(t,e){return this.selectedItemKeys(t,e)},deselectRows:function(t){return this.selectedItemKeys(t,!0,!0)},selectRowsByIndexes:function(t){var e=this._dataController.items(),n=[];return Array.isArray(t)||(t=Array.prototype.slice.call(arguments,0)),(0,l.each)(t,(function(){var t=e[this];t&&"data"===t.rowType&&n.push(t.key)})),this.selectRows(n)},getSelectedRowsData:function(){return this._selection.getSelectedItems()},changeItemSelection:function(t,e){return e=e||{},this.isSelectionWithCheckboxes()&&(e.control=!0),this._selection.changeItemSelection(this._dataController.getRowIndexDelta()+t,e)},focusedItemIndex:function(t){if(!(0,s.isDefined)(t))return this._selection._focusedItemIndex;this._selection._focusedItemIndex=t},isSelectionWithCheckboxes:function(){return"multiple"===this.option("selection.mode")&&("always"===this.option(y)||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){return"multiple"===this.option("selection.mode")&&!this.isSelectionWithCheckboxes()&&(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0)},stopSelectionWithCheckboxes:function(){return!!this._isSelectionWithCheckboxes&&(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0)}}}())},extenders:{controllers:{data:{init:function(){var t=this.getController("selection"),e=this.option("selection.deferred");this.callBase.apply(this,arguments),e&&t._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource:function(){var t=this;return t.callBase().done((function(){t.getController("selection").refresh()}))},_processDataItem:function(t,e){var n=this,i=n.getController("selection"),o=i.isSelectColumnVisible(),r=e.isDeferredSelection=void 0===e.isDeferredSelection?this.option("selection.deferred"):e.isDeferredSelection,a=this.callBase.apply(this,arguments);if(a.isSelected=i.isRowSelected(r?a.data:a.key),o&&a.values)for(var s=0;s<e.visibleColumns.length;s++)if("select"===e.visibleColumns[s].command){a.values[s]=a.isSelected;break}return a},refresh:function(t){var e=this,n=new m.Deferred;return this.callBase.apply(this,arguments).done((function(){!t||t.selection?e.getController("selection").refresh().done(n.resolve).fail(n.reject):n.resolve()})).fail(n.reject),n.promise()},_handleDataChanged:function(t){this.callBase.apply(this,arguments),t&&"refresh"!==t.changeType||this._repaintChangesOnly||this.getController("selection").focusedItemIndex(-1)},_applyChange:function(t){var e=this;if(!t||"updateSelection"!==t.changeType)return this.callBase.apply(this,arguments);t.items.forEach((function(t,n){var i=e._items[n];i&&(i.isSelected=t.isSelected,i.values=t.values)}))},_endUpdateCore:function(){var t=this._changes,e=t.length>1&&t.every((function(t){return"updateSelection"===t.changeType}));if(e){var n=t.map((function(t){return t.itemIndexes||[]})).reduce((function(t,e){return t.concat(e)}));this._changes=[{changeType:"updateSelection",itemIndexes:n}]}this.callBase.apply(this,arguments)},push:function(t){this.callBase.apply(this,arguments);var e=t.filter((function(t){return"remove"===t.type})).map((function(t){return t.key}));e.length&&this.getController("selection").deselectRows(e)}},contextMenu:{_contextMenuPrepared:function(t){var e=t.event;e.originalEvent&&"dxhold"!==e.originalEvent.type||t.items&&t.items.length>0||_(this,e)}}},views:{columnHeadersView:{init:function(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue:function(){var t=this.element(),e=t&&t.find(".dx-select-checkbox");t&&e.length&&"multiple"===this.option("selection.mode")&&e.dxCheckBox("instance").option("value",this.getController("selection").isSelectAll())},_handleDataChanged:function(t){this.callBase(t),t&&"refresh"!==t.changeType||this._updateSelectAllValue()},_renderSelectAllCheckBox:function(t,e){var n=this,o=n.getController("selection"),r=(0,i.default)("<div>").appendTo(t).addClass("dx-select-checkbox");return n.setAria("label",d.default.format("dxDataGrid-ariaSelectAll"),t),n.getController("editorFactory").createEditor(r,(0,u.extend)({},e,{parentType:"headerRow",dataType:"boolean",value:o.isSelectAll(),editorOptions:{visible:n.option("selection.allowSelectAll")||!1!==o.isSelectAll()},tabIndex:n.option("useLegacyKeyboardNavigation")?-1:n.option("tabIndex")||0,setValue:function(t,e){var i=n.option("selection.allowSelectAll");e.component.option("visible",i||!1!==e.component.option("value")),e.event&&o.isSelectAll()!==t&&(e.value&&!i?e.component.option("value",!1):e.value?o.selectAll():o.deselectAll(),e.event.preventDefault())}})),r},_attachSelectAllCheckBoxClickEvent:function(t){o.default.on(t,c.name,this.createAction((function(t){var e=t.event;(0,i.default)(e.target).closest(".dx-select-checkbox").length||o.default.trigger((0,i.default)(e.currentTarget).children(".dx-select-checkbox"),c.name),e.preventDefault()})))}},rowsView:{renderSelectCheckBoxContainer:function(t,e){"data"!==e.rowType||e.row.isNewRow?a.default.setEmptyText(t):(t.addClass("dx-editor-cell"),this._attachCheckBoxClickEvent(t),this.setAria("label",d.default.format("dxDataGrid-ariaSelectRow"),t),this._renderSelectCheckBox(t,e))},_renderSelectCheckBox:function(t,e){var n=(0,i.default)("<div>").addClass("dx-select-checkbox").appendTo(t);return this.getController("editorFactory").createEditor(n,(0,u.extend)({},e.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:e.value,setValue:function(t,e){var n;"keydown"===(null===e||void 0===e||null===(n=e.event)||void 0===n?void 0:n.type)&&o.default.trigger(e.element,c.name,e)},row:e.row})),n},_attachCheckBoxClickEvent:function(t){o.default.on(t,c.name,this.createAction((function(t){var e=this.getController("selection"),n=t.event,o=this.getRowIndex((0,i.default)(n.currentTarget).closest(".dx-row"));o>=0&&(e.startSelectionWithCheckboxes(),e.changeItemSelection(o,{shift:n.shiftKey}),(0,i.default)(n.target).closest(".dx-select-checkbox").length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[o]}))})))},_update:function(t){var e=this,n=e.getTableElements();"updateSelection"===t.changeType?n.length>0&&((0,l.each)(n,(function(n,o){(0,l.each)(t.itemIndexes||[],(function(n,r){var a;if(t.items[r]&&(a=e._getRowElements((0,i.default)(o)).eq(r)).length){var s=t.items[r].isSelected;a.toggleClass("dx-selection",void 0!==s&&s).find(".dx-select-checkbox").dxCheckBox("option","value",s),e.setAria("selected",s,a)}}))})),e._updateCheckboxesClass()):e.callBase(t)},_createTable:function(){var t=this,e=t.option("selection.mode"),n=t.callBase.apply(t,arguments);return"none"!==e&&("onLongTap"!==t.option(y)&&h.touch||o.default.on(n,(0,f.addNamespace)(p.default.name,"dxDataGridRowsView"),".dx-data-row",t.createAction((function(e){_(t.component,e.event),e.event.stopPropagation()}))),o.default.on(n,"mousedown selectstart",t.createAction((function(t){var e=t.event;e.shiftKey&&e.preventDefault()})))),n},_createRow:function(t){var e=this.callBase(t);if(t){var n=!!t.isSelected;n&&e.addClass("dx-selection"),this.setAria("selected",n,e)}return e},_rowClick:function(t){var e=t.event,n=(0,i.default)(e.target).closest(".dx-selection-disabled").length;this.isClickableElement((0,i.default)(e.target))||(n||"multiple"===this.option("selection.mode")&&"always"===this.option(y)||this.getController("selection").changeItemSelection(t.rowIndex,{control:e.ctrlKey||e.metaKey,shift:e.shiftKey})&&(e.preventDefault(),t.handled=!0),this.callBase(t))},isClickableElement:function(t){return!!t.closest(".dx-command-select").length},_renderCore:function(t){this.callBase(t),this._updateCheckboxesClass()},_updateCheckboxesClass:function(){var t=this.getTableElements(),e=this.getController("selection"),n=e.isSelectColumnVisible()&&!e.isSelectionWithCheckboxes();(0,l.each)(t,(function(t,e){(0,i.default)(e).toggleClass("dx-select-checkboxes-hidden",n)}))}}}}};e.default=b,t.exports=e.default},function(t,e,n){"use strict";e.ColumnChooserView=e.ColumnChooserController=void 0;var i=r(n(22)),o=r(n(426));function r(t){return t&&t.__esModule?t:{default:t}}var a=o.default.controllers.columnChooser;e.ColumnChooserController=a;var s=o.default.views.columnChooserView;e.ColumnChooserView=s,i.default.registerModule("columnChooser",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=m(n(1)),o=n(6),r=m(n(35)),a=n(125),s=m(n(18)),l=n(48),u=m(n(45)),h=m(n(146)),c=m(n(17)),d=m(n(76)),f=n(2),p=n(3),g=n(5);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(t,e){var n=[],i="select"===t.option("columnChooser.mode");return e.length&&(0,g.each)(e,(function(t,e){var o={text:e.caption,cssClass:e.cssClass,allowHiding:e.allowHiding,expanded:!0,id:e.index,disabled:!1,disableCheckBox:!1===e.allowHiding,parentId:(0,f.isDefined)(e.ownerBand)?e.ownerBand:null};i&&(o.selected=e.visible),n.push(o)})),n},y={defaultOptions:function(){return{columnChooser:{enabled:!1,allowSearch:!1,searchTimeout:500,mode:"dragAndDrop",width:250,height:260,title:s.default.format("dxDataGrid-columnChooserTitle"),emptyPanelText:s.default.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:r.default.ViewController.inherit({renderShowColumnChooserButton:function(t){var e,n=this,o=n.addWidgetPrefix("column-chooser-button"),r=n.option("columnChooser.enabled"),a=t.find("."+o);r?a.length?a.show():(e=(0,i.default)("<div>").addClass(o).appendTo(t),n._createComponent(e,u.default,{icon:"column-chooser",onClick:function(){n.getView("columnChooserView").showColumnChooser()},hint:n.option("columnChooser.title"),integrationOptions:{}})):a.hide()},getPosition:function(){var t=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:t&&t.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}})},views:{columnChooserView:a.ColumnsView.inherit({_resizeCore:o.noop,_isWinDevice:function(){return!!c.default.real().win},_updateList:function(t){var e,n=this._popupContainer.$content(),i="select"===this.option("columnChooser.mode"),o=this._columnChooserList,r=this._columnsController.getChooserColumns(i);if(i&&o&&t&&"selection"===t.changeType){e=v(this,r);for(var a=0;a<e.length;a++){var s=e[a].selected,l=e[a].id;l===t.columnIndex&&(s?o.selectItem(l,s):o.unselectItem(l,s))}}else i&&o&&"full"!==t||(this._popupContainer._wrapper().toggleClass(this.addWidgetPrefix("column-chooser-mode-drag"),!i).toggleClass(this.addWidgetPrefix("column-chooser-mode-select"),i),e=v(this,r),this._renderTreeView(n,e))},_initializePopupContainer:function(){var t=this,e=t.element().addClass(t.addWidgetPrefix("column-chooser")),n=t.option("columnChooser"),o=(0,l.current)(),r=(0,l.isGeneric)(o),a=(0,l.isMaterial)(o),s={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,toolbarItems:[{text:n.title,toolbar:"top",location:r||a?"before":"center"}],position:t.getController("columnChooser").getPosition(),width:n.width,height:n.height,rtlEnabled:t.option("rtlEnabled"),onHidden:function(){t._isWinDevice()&&(0,i.default)("body").removeClass(t.addWidgetPrefix("notouch-action"))},container:n.container};r||a?(0,p.extend)(s,{showCloseButton:!0}):s.toolbarItems[s.toolbarItems.length]={shortcut:"cancel"},(0,f.isDefined)(this._popupContainer)?this._popupContainer.option(s):(t._popupContainer=t._createComponent(e,d.default,s),t._popupContainer.on("optionChanged",(function(e){"visible"===e.name&&t.renderCompleted.fire()})))},_renderCore:function(t){this._popupContainer&&this._updateList(t)},_renderTreeView:function(t,e){var n=this,r=this.option("columnChooser"),a="select"===r.mode,s={items:e,dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:r.allowSearch,searchTimeout:r.searchTimeout,onItemRendered:function(t){if(t.itemData.disableCheckBox){var e,n=(0,i.default)(t.itemElement).closest(".dx-treeview-node");if(n.length&&(e=n.find(".dx-checkbox")).length){var o=e.data("dxCheckBox");o&&o.option("disabled",!0)}}}},l=t.find(".dx-scrollable").data("dxScrollable"),u=l&&l.scrollTop();a&&!this._columnsController.isBandColumnsUsed()&&t.addClass(this.addWidgetPrefix("column-chooser-plain")),s.onContentReady=function(t){(0,o.deferUpdate)((function(){if(u){var e=(0,i.default)(t.element).find(".dx-scrollable").data("dxScrollable");e&&e.scrollTo({y:u})}n.renderCompleted.fire()}))},this._isWinDevice()&&(s.useNativeScrolling=!1),(0,p.extend)(s,a?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList?(s.searchEnabled||(s.searchValue=""),this._columnChooserList.option(s)):(this._columnChooserList=this._createComponent(t,h.default,s),t.addClass(this.addWidgetPrefix("column-chooser-list")))},_prepareDragModeConfig:function(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate:function(t,e,n){(0,i.default)(n).text(t.text).parent().addClass(t.cssClass).addClass("dx-column-chooser-item")}}},_prepareSelectModeConfig:function(){var t=this;return{selectNodesRecursive:!1,showCheckBoxesMode:"normal",onItemSelectionChanged:function(e){1===t._columnsController.getVisibleColumns().filter((function(t){return!t.command})).length&&!e.itemData.selected?e.component.selectItem(e.itemElement):setTimeout((function(){t._columnsController.columnOption(e.itemData.id,"visible",e.itemData.selected)}),300)}}},_columnOptionChanged:function(t){var e=t.changeTypes,n=t.optionNames,i="select"===this.option("columnChooser.mode");if(this.callBase(t),i){var o=n.visible&&1===n.length&&void 0!==t.columnIndex,r=n.showInColumnChooser||n.caption||n.visible||e.columns&&n.all;o?this.render(null,{changeType:"selection",columnIndex:t.columnIndex}):r&&this.render(null,"full")}},optionChanged:function(t){switch(t.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(t)}},getColumnElements:function(){var t,e=[],n="select"===this.option("columnChooser.mode"),o=this._columnsController.getChooserColumns(n),r=this._popupContainer&&this._popupContainer.$content(),a=r&&r.find(".dx-treeview-node");return a&&o.forEach((function(n){var i=(t=a.filter("[data-item-id = '"+n.index+"']")).length?t.children(".dx-column-chooser-item").get(0):null;e.push(i)})),(0,i.default)(e)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(t,e){var n=t&&t.allowHiding&&("columnChooser"!==e||!t.visible&&this._columnsController.isParentColumnVisible(t.index));return this.isColumnChooserVisible()&&n},getBoundingRect:function(){var t=this._popupContainer&&this._popupContainer._container();if(t&&t.is(":visible")){var e=t.offset();return{left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight()}}return null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&(0,i.default)("body").addClass(this.addWidgetPrefix("notouch-action"))},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var t=this._popupContainer;return t&&t.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}})},extenders:{views:{headerPanel:{_getToolbarItems:function(){var t=this.callBase();return this._appendColumnChooserItem(t)},_appendColumnChooserItem:function(t){var e=this;if(e.option("columnChooser.enabled")){var n=e.option("columnChooser.title"),o={widget:"dxButton",options:{icon:"column-chooser",onClick:function(){e.component.getView("columnChooserView").showColumnChooser()},hint:n,text:n,onInitialized:function(t){(0,i.default)(t.element).addClass(e._getToolbarButtonClass(e.addWidgetPrefix("column-chooser-button")))}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};t.push(o)}return t},optionChanged:function(t){switch(t.name){case"columnChooser":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}},isVisible:function(){var t=this.option("columnChooser.enabled");return this.callBase()||t}}},controllers:{columns:{allowMoveColumn:function(t,e,n,i){return!("select"===this.option("columnChooser.mode")&&"columnChooser"===i)&&this.callBase(t,e,n,i)}}}}};e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=l(n(1)),o=l(n(19)),r=l(n(178)),a=n(3),s=l(n(428));function l(t){return t&&t.__esModule?t:{default:t}}var u="".concat("dx-treeview","-node-container"),h=s.default.inherit(r.default).inherit({_addWidgetPrefix:function(t){return"".concat("dx-treeview","-").concat(t)},_optionChanged:function(t){switch(t.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer();break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(t)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return(0,a.extend)(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_updateSearch:function(){if(this._searchEditor){var t=this._getSearchEditorOptions();this._searchEditor.option(t)}},_repaintContainer:function(){var t,e=this.$element().find(".".concat(u)).first();e.length&&(e.empty(),t=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(t),this._renderItems(e,t),this._fireContentReadyAction())},_itemContainer:function(t){return this._scrollableContainer&&t?(0,i.default)(this._scrollableContainer.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});(0,o.default)("dxTreeView",h);var c=h;e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=S(n(1)),o=S(n(16)),r=S(n(7)),a=S(n(18)),s=n(30),l=n(6),u=n(14),h=n(2),c=n(3),d=n(5),f=n(27),p=S(n(127)),g=S(n(232)),m=n(13),v=S(n(33)),y=n(173),_=S(n(57)),b=S(n(94)),x=S(n(73)),w=n(8),C=S(n(25));function S(t){return t&&t.__esModule?t:{default:t}}var k="".concat("dx-treeview","-node"),E="".concat(k,"-container"),I="".concat(k,"-loadindicator"),T="".concat(k,"-container-opened"),D="".concat(k,"-is-leaf"),M="".concat("dx-treeview","-item"),O="".concat(M,"-with-checkbox"),P="".concat(M,"-without-checkbox"),A="".concat(M,"-data"),R="".concat("dx-treeview","-toggle-item-visibility"),B="".concat("dx-treeview","-loadindicator"),N="".concat("dx-treeview","-loadindicator-wrapper"),F="".concat("dx-treeview","-toggle-item-visibility-opened"),L="".concat("dx-treeview","-select-all-item"),V=g.default.inherit({_supportedKeys:function(t){var e=this,n=function(t){var n=(0,i.default)(e.option("focusedElement"));n.length&&(t.target=n,t.currentTarget=n,e._itemClickHandler(t,n.children("."+M)),e._getEventNameByOption(e.option("expandEvent"))===(0,m.addNamespace)(s.name,"dxTreeView_expand")&&e._expandEventHandler(t))},o=function(t){t.preventDefault(),e._changeCheckBoxState((0,i.default)(e.option("focusedElement")))},r=function(t,e){if(this.option("expandAllEnabled")){e.preventDefault();var n=(0,i.default)(this.option("focusedElement"));if(n.length){var o=this._getItemData(n.find(".".concat(M)));this._toggleExpandedNestedItems([o],t)}}};return(0,c.extend)(this.callBase(),{enter:this._showCheckboxes()?o:n,space:this._showCheckboxes()?o:n,asterisk:r.bind(this,!0),minus:r.bind(this,!1)})},_changeCheckBoxState:function(t){var e=this._getCheckBoxInstance(t),n=e.option("value");e.option("disabled")||this._updateItemSelection(!n,t.find("."+M).get(0),!0,t)},_toggleExpandedNestedItems:function(t,e){if(t)for(var n=0,i=t.length;n<i;n++){var o=t[n],r=this._dataAdapter.getNodeByItem(o);this._toggleExpandedState(r,e),this._toggleExpandedNestedItems(o.items,e)}},_getNodeElement:function(t,e){var n=this._encodeString(t.internalFields.key);if(e)return e.$nodeByKey||(e.$nodeByKey={},this.$element().find(".".concat(k)).each((function(){var t=(0,i.default)(this),n=t.attr("data-item-id");e.$nodeByKey[n]=t}))),e.$nodeByKey[n]||(0,i.default)();var o=this.$element().get(0).querySelector("[".concat("data-item-id",'="').concat(n,'"]'));return(0,i.default)(o)},_activeStateUnit:"."+M,_widgetClass:function(){return"dx-treeview"},_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:a.default.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null})},_initSelectedItems:l.noop,_syncSelectionOptions:l.asyncNoop,_fireSelectionChanged:function(){var t=this._selectionChangePromise;(0,w.when)(t).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(t){this._selectAllValueChangedAction({value:t})},_checkBoxModeChange:function(t,e){if("none"!==e&&"none"!==t){var n=this._$selectAllItem&&this._$selectAllItem.length;switch(t){case"selectAll":!n&&this._renderSelectAllItem();break;case"normal":n&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}else this.repaint()},_removeSelection:function(){var t=this;(0,d.each)(this._dataAdapter.getFullData(),(function(e,n){t._hasChildren(n)&&t._dataAdapter.toggleSelection(n.internalFields.key,!1,!0)}))},_optionChanged:function(t){var e=t.name,n=t.value,i=t.previousValue;switch(e){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",n);break;case"showCheckBoxesMode":this._checkBoxModeChange(n,i);break;case"scrollDirection":this._scrollableContainer.option("direction",n);break;case"items":delete this._$selectAllItem,this.callBase(t);break;case"dataSource":this.callBase(t),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(t);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",t.value),this.repaint();break;default:this.callBase(t)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(t){t&&t.length&&this.option("items",t)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var t=this._filter;t.custom||(t.custom=this._dataSource.filter()),t.internal||(t.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return(0,h.isFunction)(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(t){var e=this.option("createChildren").call(this,t);return Array.isArray(e)?(new w.Deferred).resolve(e).promise():e&&(0,h.isFunction)(e.then)?(0,w.fromPromise)(e):(new w.Deferred).resolve([]).promise()},_combineFilter:function(){return this._filter.custom&&this._filter.custom.length?[this._filter.custom,this._filter.internal]:this._filter.internal},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&this._isVirtualMode()&&e.length||this.option("items",t)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=(0,i.default)("<div>").addClass(B),this._createComponent(this._treeViewLoadIndicator,x.default,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(t){var e;if(this._isVirtualMode()&&(e=this._combineFilter(),this._dataSource.filter(e)),t&&!this._dataSource.isLoaded()){this.option("items",[]);var n=(0,i.default)("<div>").addClass(N);this._createTreeViewLoadIndicator().appendTo(n),this.itemsContainer().append(n),this._isVirtualMode()&&this._dataSource.filter()!==e&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){var t=this;"plain"===this.option("dataStructure")&&this._dataSource&&this._dataSource.store().on("inserted",(function(e){t.option().items=t.option("items").concat(e),t._dataAdapter.addItem(e),t._dataAdapter.isFiltered(e)&&t._updateLevel(t._parentIdGetter(e))})).on("removed",(function(e){var n=t._dataAdapter.getNodeByKey(e);(0,h.isDefined)(n)&&(t.option("items")[t._dataAdapter.getIndexByKey(n.internalFields.key)]=0,t._markChildrenItemsToRemove(n),t._removeItems(),t._dataAdapter.removeItem(e),t._updateLevel(t._parentIdGetter(n)))}))},_markChildrenItemsToRemove:function(t){var e=this,n=t.internalFields.childrenKeys;(0,d.each)(n,(function(t,n){e.option("items")[e._dataAdapter.getIndexByKey(n)]=0,e._markChildrenItemsToRemove(e._dataAdapter.getNodeByKey(n))}))},_removeItems:function(){var t=this,e=(0,c.extend)(!0,[],this.option("items")),n=0;(0,d.each)(e,(function(e,i){i||(t.option("items").splice(e-n,1),n++)}))},_updateLevel:function(t){var e=this._getContainerByParentKey(t);this._renderItems(e,this._dataAdapter.getChildrenNodes(t))},_getOldContainer:function(t){return t.length?t.children(".".concat(E)):this._scrollableContainer?this._scrollableContainer.$content().children():(0,i.default)()},_getContainerByParentKey:function(t){var e=this._dataAdapter.getNodeByKey(t),n=e?this._getNodeElement(e):[];this._getOldContainer(n).remove();var i=this._renderNodeContainer(n);return this._isRootLevel(t)&&(this._scrollableContainer||this._renderScrollableContainer(),this._scrollableContainer.$content().append(i)),i},_isRootLevel:function(t){return t===this.option("rootValue")},_getAccessors:function(){var t=this.callBase();return t.push("hasItems"),t},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var t=this._renderNodeContainer();this._scrollableContainer.$content().append(t),this.option("items")&&this.option("items").length&&(this._renderItems(t,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(t)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return"plain"===this.option("dataStructure")},_fireContentReadyAction:function(){var t=this.getDataSource(),e=t&&!t.isLoaded();this._scrollableContainer&&(0,u.hasWindow)()&&this._scrollableContainer.update(),e||this.callBase(),this._scrollableContainer&&(0,u.hasWindow)()&&this._scrollableContainer.update()},_renderScrollableContainer:function(){this._scrollableContainer=this._createComponent((0,i.default)("<div>").appendTo(this.$element()),b.default,{direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(t){var e=(0,i.default)("<ul>").addClass(E);if(this.setAria("role","group",e),t&&t.length){var n=this._getItemData(t.children("."+M));this._expandedGetter(n)&&e.addClass(T),e.appendTo(t)}return e},_createDOMElement:function(t,e){var n=(0,i.default)("<li>").addClass(k).attr("data-item-id",this._encodeString(e.internalFields.key)).prependTo(t);return this.setAria({role:"treeitem",label:this._displayGetter(e.internalFields.item)||"",expanded:e.internalFields.expanded||!1,level:this._getLevel(t)},n),n},_getLevel:function(t){var e=t.parent();return e.hasClass("dx-scrollable-content")?1:parseInt(e.attr("aria-level"))+1},_showCheckboxes:function(){return"none"!==this.option("showCheckBoxesMode")},_selectAllEnabled:function(){return"selectAll"===this.option("showCheckBoxesMode")&&!this._isSingleSelection()},_renderItems:function(t,e){for(var n=e.length-1;n>=0;n--)this._renderItem(n,e[n],t);this._renderedItemsCount+=e.length},_renderItem:function(t,e,n){var i=this._createDOMElement(n,e),o=e.internalFields,r=this._showCheckboxes();i.addClass(r?O:P),i.toggleClass("dx-state-invisible",!1===o.item.visible),r&&this._renderCheckBox(i,e),this.setAria("selected",o.selected,i),this._toggleSelectedClass(i,o.selected),this.callBase(this._renderedItemsCount+t,o.item,i),!1!==o.item.visible&&this._renderChildren(i,e)},_setAriaSelected:function(){},_renderChildren:function(t,e){var n=this;this._hasChildren(e)?(this._renderToggleItemVisibilityIcon(t,e),this.option("deferRendering")&&!e.internalFields.expanded||this._loadSublevel(e).done((function(i){n._renderSublevel(t,n._getActualNode(e),i)}))):this._addLeafClass(t)},_getActualNode:function(t){return this._dataAdapter.getNodeByKey(t.internalFields.key)},_hasChildren:function(t){return this._isVirtualMode()||this._useCustomChildrenLoader()?!1!==this._hasItemsGetter(t.internalFields.item):this.callBase(t)},_loadSublevel:function(t){var e=this,n=new w.Deferred,i=this._getChildNodes(t);return i.length?n.resolve(i):this._loadNestedItems(t).done((function(t){n.resolve(e._dataAdapter.getNodesByItems(t))})),n.promise()},_renderSublevel:function(t,e,n){var i=this._renderNodeContainer(t,e),o=n.filter((function(t){return-1!==e.internalFields.childrenKeys.indexOf(t.internalFields.key)}));if(this._renderItems(i,o),o.length&&!e.internalFields.selected){var r=o[0];this._updateParentsState(r,this._getNodeElement(r))}this._normalizeIconState(t,o.length),e.internalFields.expanded&&i.addClass(T)},_executeItemRenderAction:function(t,e,n){var i=this._getNode(n);this._getItemRenderAction()({itemElement:n,itemIndex:t,itemData:e,node:this._dataAdapter.getPublicNode(i)})},_addLeafClass:function(t){t.addClass(D)},_expandEventHandler:function(t){(0,i.default)(t.currentTarget.parentNode).hasClass(D)||this._toggleExpandedState(t.currentTarget,void 0,t)},_initExpandEvent:function(){var t=this._getEventNameByOption(this.option("expandEvent")),e=this._itemContainer(),n=this._itemSelector();r.default.off(e,".dxTreeView_expand",n),r.default.on(e,t,n,this._expandEventHandler.bind(this))},_getEventNameByOption:function(t){var e="click"===t?s.name:y.name;return(0,m.addNamespace)(e,"dxTreeView_expand")},_getNode:function(t){if(!(0,h.isDefined)(t))return null;if(t.internalFields)return t;if((0,h.isPrimitive)(t))return this._dataAdapter.getNodeByKey(t);var e=(0,i.default)(t).get(0);return e?o.default.isElementNode(e)?this._getNodeByElement(e):this._dataAdapter.getNodeByItem(e):null},_getNodeByElement:function(t){var e=(0,i.default)(t).closest("."+k),n=this._decodeString(e.attr("data-item-id"));return this._dataAdapter.getNodeByKey(n)},_toggleExpandedState:function(t,e,n){var i=this._getNode(t);if(!i)return(new w.Deferred).reject().promise();if(i.internalFields.disabled)return(new w.Deferred).reject().promise();var o=i.internalFields.expanded;if(o===e)return(new w.Deferred).resolve().promise();if(this._hasChildren(i)){var r=this._getNodeElement(i);if(r.find(".".concat(I,":not(.").concat("dx-state-invisible",")")).length)return(new w.Deferred).reject().promise();this._createLoadIndicator(r)}return(0,h.isDefined)(e)||(e=!o),this._dataAdapter.toggleExpansion(i.internalFields.key,e),this._updateExpandedItemsUI(i,e,n)},_createLoadIndicator:function(t){var e=t.children("."+R),n=t.children(".".concat(E));e.hasClass(F)||n.not(":empty").length||(this._createComponent((0,i.default)("<div>").addClass(I),x.default,{}).$element().appendTo(t),e.hide())},_renderToggleItemVisibilityIcon:function(t,e){var n=(0,i.default)("<div>").addClass(R).appendTo(t);e.internalFields.expanded&&(n.addClass(F),t.parent().addClass(T)),e.internalFields.disabled&&n.addClass("dx-state-disabled"),this._renderToggleItemVisibilityIconClick(n,e)},_renderToggleItemVisibilityIconClick:function(t,e){var n=this,i=(0,m.addNamespace)(s.name,this.NAME);r.default.off(t,i),r.default.on(t,i,(function(t){n._toggleExpandedState(e.internalFields.key,void 0,t)}))},_updateExpandedItemsUI:function(t,e,n){var i=this._getNodeElement(t),o=!i.length||e&&i.is(":hidden");if(this.option("expandNodesRecursive")&&o){var r=this._getNode(t.internalFields.parentKey);r&&this._updateExpandedItemsUI(r,e,n)}var a=i.children("."+R),s=i.children(".".concat(E));a.toggleClass(F,e);var l=s.length>0,u=new w.Deferred;return!e||l&&!s.is(":empty")?(this._animateNodeContainer(t,e,n,u),u.promise()):0===t.internalFields.childrenKeys.length&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(t,e,n,u),u.promise()):(this._renderSublevel(i,t,this._getChildNodes(t)),this._fireContentReadyAction(),this._animateNodeContainer(t,e,n,u),u.promise())},_loadNestedItemsWithUpdate:function(t,e,n,i){var o=this,r=this._getNodeElement(t);this._loadNestedItems(t).done((function(a){var s=o._getActualNode(t);o._renderSublevel(r,s,o._dataAdapter.getNodesByItems(a)),a&&a.length&&(o._fireContentReadyAction(),o._animateNodeContainer(s,e,n,i))}))},_loadNestedItems:function(t){var e=this;if(this._useCustomChildrenLoader()){var n=this._dataAdapter.getPublicNode(t);return this._loadChildrenByCustomLoader(n).done((function(t){e._areNodesExists(t)||e._appendItems(t)}))}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),t.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done((function(t){e._areNodesExists(t)||e._appendItems(t)}))):(new w.Deferred).resolve([]).promise()},_areNodesExists:function(t,e){var n=this.keyOf(t[0]),i=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(n,i)},_appendItems:function(t){this.option().items=this.option("items").concat(t),this._initDataAdapter()},_animateNodeContainer:function(t,e,n,i){var o=this._getNodeElement(t),r=o.children(".".concat(E));t&&i&&0===r.length&&i.resolve(),r.addClass(T);var a=r.height();_.default.stop(r,!0),_.default.animate(r,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:e?0:a},to:{maxHeight:e?a:0},complete:function(){r.css("maxHeight","none"),r.toggleClass(T,e),this.setAria("expanded",e,o),this._scrollableContainer.update(),this._fireExpandedStateUpdatedEvent(e,t,n),i&&i.resolve()}.bind(this)})},_fireExpandedStateUpdatedEvent:function(t,e,n){if(this._hasChildren(e)){var i=t?"onItemExpanded":"onItemCollapsed";if((0,h.isDefined)(n))this._itemDXEventHandler(n,i,{node:this._dataAdapter.getPublicNode(e)});else{var o=this._getNodeElement(e);this._itemEventHandler(o,i,{event:n,node:this._dataAdapter.getPublicNode(e)})}}},_normalizeIconState:function(t,e){var n=t.find(".dx-loadindicator");(n.length&&x.default.getInstance(n).option("visible",!1),e)?t.find("."+R).show():(t.find("."+R).removeClass(R),t.addClass(D))},_emptyMessageContainer:function(){return this._scrollableContainer?this._scrollableContainer.content():this.callBase()},_renderContent:function(){var t=this.option("items");t&&t.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(t){t=t||this.$element().find(".".concat(E)).first(),this._$selectAllItem=(0,i.default)("<div>").addClass(L);var e=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,p.default,{value:e,text:this.option("selectAllText"),onValueChanged:function(t){this._toggleSelectAll(t),this._fireSelectAllValueChanged(t.value)}.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,e),t.before(this._$selectAllItem)},_toggleSelectAll:function(t){this._dataAdapter.toggleSelectAll(t.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(t,e){var n=(0,i.default)("<div>").appendTo(t);this._createComponent(n,p.default,{value:e.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(e)})},_toggleSelectedClass:function(t,e){t.toggleClass("dx-state-selected",!!e)},_toggleNodeDisabledState:function(t,e){var n=this._getNodeElement(t),i=n.find("."+M).eq(0);(this._dataAdapter.toggleNodeDisabledState(t.internalFields.key,e),i.toggleClass("dx-state-disabled",!!e),this._showCheckboxes())&&this._getCheckBoxInstance(n).option("disabled",!!e)},_itemOptionChanged:function(t,e,n){var i=this._dataAdapter.getNodeByItem(t);e===this.option("disabledExpr")&&this._toggleNodeDisabledState(i,n)},_changeCheckboxValue:function(t){var e=(0,i.default)(t.element).parent("."+k).children("."+M),n=this._getItemData(e),o=this._getNodeByElement(e),r=t.value;o&&o.internalFields.selected===r||this._updateItemSelection(r,n,t.event)},_isSingleSelection:function(){return"single"===this.option("selectionMode")},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&"single"!==this.option("selectionMode")},_isLastSelectedBranch:function(t,e,n){var i=e.indexOf(t.key);return i>=0&&e.splice(i,1),n&&(0,d.each)(t.children,function(t,n){this._isLastSelectedBranch(n,e,!0)}.bind(this)),t.parent&&this._isLastSelectedBranch(t.parent,e),0===e.length},_isLastRequired:function(t){var e=this.option("selectionRequired"),n=this._isSingleSelection(),i=this.getSelectedNodeKeys();if(e)return n?1===i.length:this._isLastSelectedBranch(t.internalFields.publicNode,i.slice(),!0)},_updateItemSelection:function(t,e,n){var i=this,o=this._getNode(e);if(!o)return!1;if(o.internalFields.selected===t)return!0;if(!t&&this._isLastRequired(o)){if(this._showCheckboxes()){var r=this._getNodeElement(o),a=this._getCheckBoxInstance(r);a&&a.option("value",!0)}return!1}var s=this.getSelectedNodeKeys();this._isSingleSelection()&&t&&(0,d.each)(s,(function(t,e){i.unselectItem(e)})),this._dataAdapter.toggleSelection(o.internalFields.key,t),this._updateItemsUI();var l=n||this._findItemElementByItem(o.internalFields.item);return(n?this._itemDXEventHandler:this._itemEventHandler).call(this,l,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(o),itemData:o.internalFields.item}),this._fireSelectionChanged(),!0},_getCheckBoxInstance:function(t){return t.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var t=this,e={};(0,d.each)(this._dataAdapter.getData(),(function(n,i){var o=t._getNodeElement(i,e),r=i.internalFields.selected;o.length&&(t._toggleSelectedClass(o,r),t.setAria("selected",r,o),t._showCheckboxes()&&t._getCheckBoxInstance(o).option("value",r))})),this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value",this._dataAdapter.isAllSelected())},_updateParentsState:function(t,e){if(e){var n=this._dataAdapter.getNodeByKey(t.internalFields.parentKey),o=(0,i.default)(e.parents("."+k)[0]);if(this._showCheckboxes()){var r=n.internalFields.selected;this._getCheckBoxInstance(o).option("value",r),this._toggleSelectedClass(o,r)}n.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(n,o)}},_itemEventHandlerImpl:function(t,e,n){var o=(0,i.default)(t).closest("."+k).children("."+M);return e((0,c.extend)(this._extendActionArgs(o),n))},_itemContextMenuHandler:function(t){this._createEventHandler("onItemContextMenu",t)},_itemHoldHandler:function(t){this._createEventHandler("onItemHold",t)},_createEventHandler:function(t,e){var n=this._getNodeByElement(e.currentTarget);this._itemDXEventHandler(e,t,{node:this._dataAdapter.getPublicNode(n)})},_itemClass:function(){return M},_itemDataKey:function(){return A},_attachClickEvent:function(){var t="."+this._itemClass(),e="."+k+", ."+L,n=(0,m.addNamespace)(s.name,this.NAME),o=(0,m.addNamespace)(v.default.down,this.NAME),a=this._itemContainer(),l=this;r.default.off(a,n,t),r.default.off(a,o,e),r.default.on(a,n,t,(function(t){l._itemClickHandler(t,(0,i.default)(this))})),r.default.on(a,o,e,(function(t){l._itemPointerDownHandler(t)}))},_itemClickHandler:function(t,e){var n=this._getItemData(e),i=this._getNodeByElement(e);this._itemDXEventHandler(t,"onItemClick",{node:this._dataAdapter.getPublicNode(i)}),this.option("selectByClick")&&!t.isDefaultPrevented()&&this._updateItemSelection(!i.internalFields.selected,n,t)},_updateSelectionToFirstItem:function(t,e){for(var n=e;n>=0;){var o=(0,i.default)(t[n]);this._updateItemSelection(!0,o.find("."+M).get(0)),n--}},_updateSelectionToLastItem:function(t,e){for(var n=t.length,o=e;o<n;){var r=(0,i.default)(t[o]);this._updateItemSelection(!0,r.find("."+M).get(0)),o++}},_focusInHandler:function(t){var e=this;if(this._updateFocusState(t,!0),this.option("focusedElement"))return clearTimeout(this._setFocusedItemTimeout),void(this._setFocusedItemTimeout=setTimeout((function(){e._setFocusedItem((0,i.default)(e.option("focusedElement")))})));var n=this._getActiveItem();this.option("focusedElement",(0,f.getPublicElement)(n.closest("."+k)))},_setFocusedItem:function(t){t&&t.length&&(t.children().hasClass("dx-state-disabled")||this.callBase(t))},_itemPointerDownHandler:function(t){if(this.option("focusStateEnabled")){var e=(0,i.default)(t.target).closest("."+k+", ."+L);if(e.length){var n=e.hasClass("dx-state-disabled")?null:e;this.option("focusedElement",(0,f.getPublicElement)(n))}}},_findNonDisabledNodes:function(t){return t.not((function(){return(0,i.default)(this).children("."+M).hasClass("dx-state-disabled")}))},_moveFocus:function(t,e){var n="up",i="down",o="first",r="last",a=this.option("rtlEnabled")?"right":"left",s=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(E)).each((function(){_.default.stop(this,!0)}));var l=this._findNonDisabledNodes(this._nodeElements());if(l&&l.length)switch(t){case n:var u=this._prevItem(l);this.option("focusedElement",(0,f.getPublicElement)(u));var h=this._getNodeItemElement(u);this._scrollableContainer.scrollToElement(h),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,h);break;case i:var c=this._nextItem(l);this.option("focusedElement",(0,f.getPublicElement)(c));var d=this._getNodeItemElement(c);this._scrollableContainer.scrollToElement(d),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,d);break;case o:var p=l.first();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",(0,f.getPublicElement)(p)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(p));break;case r:var g=l.last();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",(0,f.getPublicElement)(g)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(g));break;case s:this._expandFocusedContainer();break;case a:this._collapseFocusedContainer();break;default:return void this.callBase.apply(this,arguments)}},_getNodeItemElement:function(t){return t.find("."+M).get(0)},_nodeElements:function(){return this.$element().find("."+k).not(":hidden")},_expandFocusedContainer:function(){var t=(0,i.default)(this.option("focusedElement"));if(t.length&&!t.hasClass(D)){if(t.find(".".concat(E)).eq(0).hasClass(T)){var e=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));return this.option("focusedElement",(0,f.getPublicElement)(e)),void this._scrollableContainer.scrollToElement(this._getNodeItemElement(e))}var n=this._getNodeByElement(t.children("."+M));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(t){do{t=t.parent().closest("."+k)}while(t.children(".dx-treeview-item.dx-state-disabled").length);return t},_collapseFocusedContainer:function(){var t=(0,i.default)(this.option("focusedElement"));if(t.length){var e=t.find(".".concat(E)).eq(0);if(!t.hasClass(D)&&e.hasClass(T)){var n=this._getNodeByElement(t.children("."+M));this._toggleExpandedState(n,!1)}else{var o=this._getClosestNonDisabledNode(t);o.length&&this.option("focusedElement",(0,f.getPublicElement)(o)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(o))}}},_encodeString:function(t){return(0,h.isString)(t)?encodeURI(t):t},_decodeString:function(t){return(0,h.isString)(t)?decodeURI(t):t},updateDimensions:function(){var t=this,e=new w.Deferred;return this._scrollableContainer?this._scrollableContainer.update().done((function(){e.resolveWith(t)})):e.resolveWith(this),e.promise()},selectItem:function(t){return this._updateItemSelection(!0,t)},unselectItem:function(t){return this._updateItemSelection(!1,t)},expandItem:function(t){return this._toggleExpandedState(t,!0)},collapseItem:function(t){return this._toggleExpandedState(t,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){var t=this;return this.getSelectedNodeKeys().map((function(e){var n=t._dataAdapter.getNodeByKey(e);return t._dataAdapter.getPublicNode(n)}))},getSelectedNodesKeys:function(){return C.default.log("W0002","dxTreeView","getSelectedNodesKeys","20.1","Use the 'getSelectedNodeKeys' method instead"),this.getSelectedNodeKeys()},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},expandAll:function(){var t=this._dataAdapter;(0,d.each)(t.getData(),(function(e,n){return t.toggleExpansion(n.internalFields.key,!0)})),this.repaint()},collapseAll:function(){(0,d.each)(this._dataAdapter.getExpandedNodesKeys(),function(t,e){this._toggleExpandedState(e,!1)}.bind(this))},scrollToItem:function(t){var e=this,n=this._getNode(t);if(!n)return(new w.Deferred).reject().promise();for(var i=[],o=n.internalFields.publicNode.parent;null!=o;)o.expanded||i.push(o.key),o=o.parent;var r=new w.Deferred;return this._expandNodes(i.reverse()).always((function(){var t=e._getNodeElement(n);t&&t.length?(e._scrollableContainer.scrollToElementTopLeft(t),r.resolve()):r.reject()})),r.promise()},_expandNodes:function(t){var e=this;if(!t||0===t.length)return(new w.Deferred).resolve().promise();var n=new w.Deferred,o=t.map((function(t){return e.expandItem(t)}));return w.when.apply(i.default,o).done((function(){return n.resolve()})).fail((function(){return n.reject()})),n.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout)}});e.default=V,t.exports=e.default},function(t,e,n){"use strict";e.GroupingHeaderPanelExtender=void 0;var i=g(n(1)),o=g(n(22)),r=n(430),a=n(431),s=g(n(18)),l=g(n(142)),u=n(2),h=n(5),c=g(n(17)),d=n(8),f=n(174),p=n(80);function g(t){return t&&t.__esModule?t:{default:t}}var m={init:function(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper:function(t){var e=this._grouping,n=this.option("grouping.autoExpandAll"),i=this.option("focusedRowEnabled"),o=t?t.remoteOperations:this.remoteOperations();!(o.filtering&&o.sorting&&o.paging)||o.grouping||!n&&i?(!e||e instanceof r.GroupingHelper)&&(this._grouping=new a.GroupingHelper(this)):(!e||e instanceof a.GroupingHelper)&&(this._grouping=new r.GroupingHelper(this))},totalItemsCount:function(){var t=this.callBase();return t>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?t+this._grouping.totalCountCorrection():t},itemsCount:function(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll:function(){return this._grouping.allowCollapseAll()},isGroupItemCountable:function(t){return this._grouping.isGroupItemCountable(t)},isRowExpanded:function(t){var e=this._grouping.findGroupInfo(t);return e?e.isExpanded:!this._grouping.allowCollapseAll()},collapseAll:function(t){return this._collapseExpandAll(t,!1)},expandAll:function(t){return this._collapseExpandAll(t,!0)},_collapseExpandAll:function(t,e){var n=this._dataSource,i=n.group(),r=o.default.normalizeSortingInfo(i||[]);if(r.length){for(var a=0;a<r.length;a++)void 0===t||t===a?r[a].isExpanded=e:i&&i[a]&&(r[a].isExpanded=i[a].isExpanded);n.group(r),this._grouping.foreachGroups((function(n,i){void 0!==t&&t!==i.length-1||(n.isExpanded=e)}),!1,!0),this.resetPagesCache()}return!0},refresh:function(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand:function(t){var e=this._dataSource;if(e.group())return e.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(t).always((function(){e.endLoading()}))},_changeRowExpandCore:function(t){return this._grouping.changeRowExpand(t)},_hasGroupLevelsExpandState:function(t,e){if(t&&Array.isArray(t))for(var n=0;n<t.length;n++)if(t[n].isExpanded===e)return!0},_customizeRemoteOperations:function(t,e){var n=t.remoteOperations;t.storeLoadOptions.group?(n.grouping&&!t.isCustomLoading&&(n.groupPaging&&!this._hasGroupLevelsExpandState(t.storeLoadOptions.group,!0)||(n.paging=!1)),n.grouping||n.sorting&&n.filtering&&!t.isCustomLoading&&!this._hasGroupLevelsExpandState(t.storeLoadOptions.group,!1)||(n.paging=!1)):!t.isCustomLoading&&n.paging&&e.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading:function(t){return this.callBase(t),this._initGroupingHelper(t),this._grouping.handleDataLoading(t)},_handleDataLoaded:function(t){return this._grouping.handleDataLoaded(t,this.callBase.bind(this))},_handleDataLoadedCore:function(t){return this._grouping.handleDataLoadedCore(t,this.callBase.bind(this))}};l.default.extend(m);var v={init:function(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems:function(t){var e=this._columnsController.getGroupColumns();return(t=this.callBase(t)).length&&e.length&&(t=this._processGroupItems(t,e.length)),t},_processItem:function(t,e){return(0,u.isDefined)(t.groupIndex)&&(0,u.isString)(t.rowType)&&0===t.rowType.indexOf("group")?(t=this._processGroupItem(t,e),e.dataIndex=0):t=this.callBase.apply(this,arguments),t},_processGroupItem:function(t){return t},_processGroupItems:function(t,e,n){var i=this._columnsController.getGroupColumns(),o=i[i.length-e];if(!n){var r=this.option("scrolling.mode");n={collectContinuationItems:"virtual"!==r&&"infinite"!==r,resultItems:[],path:[],values:[]}}var a=n.resultItems;if(n.data&&(!n.collectContinuationItems&&n.data.isContinuation||a.push({rowType:"group",data:n.data,groupIndex:n.path.length-1,isExpanded:!!n.data.items,key:n.path.slice(0),values:n.values.slice(0)})),t)if(0===e)a.push.apply(a,t);else for(var s=0;s<t.length;s++){var l=t[s];l&&"items"in l?(n.data=l,n.path.push(l.key),n.values.push(o&&o.deserializeValue&&!o.calculateDisplayValue?o.deserializeValue(l.key):l.key),this._processGroupItems(l.items,e-1,n),n.data=void 0,n.path.pop(),n.values.pop()):a.push(l)}return a},publicMethods:function(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll:function(t){var e=this._dataSource;e&&e.collapseAll(t)&&(e.pageIndex(0),e.reload())},expandAll:function(t){var e=this._dataSource;e&&e.expandAll(t)&&(e.pageIndex(0),e.reload())},changeRowExpand:function(t){var e=this,n=e.isRowExpanded(t),i={key:t,expanded:n};return e.executeAction(n?"onRowCollapsing":"onRowExpanding",i),i.cancel?(new d.Deferred).resolve():(0,d.when)(e._changeRowExpandCore(t)).done((function(){i.expanded=!n,e.executeAction(n?"onRowCollapsed":"onRowExpanded",i)}))},_changeRowExpandCore:function(t){var e=this,n=this._dataSource,i=new d.Deferred;return n?(0,d.when)(n.changeRowExpand(t)).done((function(){e.load().done(i.resolve).fail(i.reject)})).fail(i.reject):i.resolve(),i},isRowExpanded:function(t){var e=this._dataSource;return e&&e.isRowExpanded(t)},expandRow:function(t){return this.isRowExpanded(t)?(new d.Deferred).resolve():this.changeRowExpand(t)},collapseRow:function(t){return this.isRowExpanded(t)?this.changeRowExpand(t):(new d.Deferred).resolve()},optionChanged:function(t){"grouping"===t.name&&(t.name="dataSource"),this.callBase(t)}},y=function(t,e){var n=this._columnsController;switch(e.itemData.value){case"group":var i=n._dataSource.group()||[];n.columnOption(t.dataField,"groupIndex",i.length);break;case"ungroup":n.columnOption(t.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},_={_getToolbarItems:function(){var t=this.callBase();return this._appendGroupingItem(t)},_appendGroupingItem:function(t){var e=this;if(this._isGroupPanelVisible()){var n=!1,o={template:function(){var t=(0,i.default)("<div>").addClass("dx-datagrid-group-panel");return e._updateGroupPanelContent(t),(0,f.registerKeyboardAction)("groupPanel",e,t,void 0,e._handleActionKeyDown.bind(e)),t},name:"groupPanel",onItemRendered:function(){n&&e.renderCompleted.fire(),n=!0},location:"before",locateInMenu:"never",sortIndex:1};t.push(o)}return t},_handleActionKeyDown:function(t){var e=t.event,n=(0,i.default)(e.target),o=n.closest(".".concat("dx-group-panel-item")).index(),r=this._columnsController.getGroupColumns()[o],a=r&&r.index;n.is(".dx-header-filter")?this.getController("headerFilter").showHeaderFilterMenu(a,!0):this._processGroupItemAction(a),e.preventDefault()},_isGroupPanelVisible:function(){var t,e=this.option("groupPanel");return e&&"auto"===(t=e.visible)&&(t="desktop"===c.default.current().deviceType),t},_renderGroupPanelItems:function(t,e){var n=this;t.empty(),(0,h.each)(e,(function(e,i){n._createGroupPanelItem(t,i)})),(0,p.restoreFocus)(this)},_createGroupPanelItem:function(t,e){var n=(0,i.default)("<div>").addClass(e.cssClass).addClass("dx-group-panel-item").data("columnData",e).appendTo(t).text(e.caption);return(0,p.setTabIndex)(this,n),n},_columnOptionChanged:function(t){if(!this._requireReady&&!o.default.checkChanges(t.optionNames,["width","visibleWidth"])){var e=this.element(),n=e&&e.find(".dx-datagrid-group-panel");n&&n.length&&(this._updateGroupPanelContent(n),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent:function(t){var e=this.getController("columns").getGroupColumns(),n=this.option("groupPanel");this._renderGroupPanelItems(t,e),n.allowColumnDragging&&!e.length&&((0,i.default)("<div>").addClass("dx-group-panel-message").text(n.emptyPanelText).appendTo(t),t.closest(".dx-toolbar-label").css("maxWidth","none"),this.updateToolbarDimensions())},allowDragging:function(t){var e=this.option("groupPanel");return this._isGroupPanelVisible()&&e.allowColumnDragging&&t&&t.allowGrouping},getColumnElements:function(){var t=this.element();return t&&t.find(".dx-group-panel-item")},getColumns:function(){return this.getController("columns").getGroupColumns()},getBoundingRect:function(){var t=this.element();if(t&&t.find(".dx-datagrid-group-panel").length){var e=t.offset();return{top:e.top,bottom:e.top+t.height()}}return null},getName:function(){return"group"},getContextMenuItems:function(t){var e,n=this.option("grouping.contextMenuEnabled"),o=(0,i.default)(t.targetElement).closest(".dx-group-panel-item");if(o.length&&(t.column=o.data("columnData")),n&&t.column){var r=t.column;if(!(0,u.isDefined)(r.allowGrouping)||r.allowGrouping){var a=(0,u.isDefined)(r.groupIndex)&&r.groupIndex>-1,s=this.option("grouping.texts"),l=y.bind(this,r);e=[{text:s.ungroup,value:"ungroup",disabled:!a,onItemClick:l},{text:s.ungroupAll,value:"ungroupAll",onItemClick:l}]}}return e},isVisible:function(){return this.callBase()||this._isGroupPanelVisible()},optionChanged:function(t){"groupPanel"===t.name?(this._invalidate(),t.handled=!0):this.callBase(t)}};e.GroupingHeaderPanelExtender=_;var b={getContextMenuItems:function(t){var e;if(this.option("grouping.contextMenuEnabled")&&t.row&&"group"===t.row.rowType){var n=this._columnsController.columnOption("groupIndex:"+t.row.groupIndex);if(n&&n.allowGrouping){var i=this.option("grouping.texts"),o=y.bind(this,n);(e=[]).push({text:i.ungroup,value:"ungroup",onItemClick:o},{text:i.ungroupAll,value:"ungroupAll",onItemClick:o})}}return e},_rowClick:function(t){var e=this.option("grouping.expandMode"),n="infinite"!==this.option("scrolling.mode")&&"rowClick"===e&&(0,i.default)(t.event.target).closest(".dx-group-row").length,o=(0,i.default)(t.event.target).closest(".dx-datagrid-expand").length;(n||o)&&this._changeGroupRowState(t),this.callBase(t)},_changeGroupRowState:function(t){var e=this.getController("data"),n=e.items()[t.rowIndex],i=this._columnsController.columnOption("groupIndex:"+n.groupIndex,"allowCollapsing");("data"===n.rowType||"group"===n.rowType&&!1!==i)&&(e.changeRowExpand(n.key,!0),t.event.preventDefault(),t.handled=!0)}},x={getContextMenuItems:function(t){var e=this.option("grouping.contextMenuEnabled"),n=this.callBase(t);if(e&&t.row&&("header"===t.row.rowType||"detailAdaptive"===t.row.rowType)){var i=t.column;if(!i.command&&(!(0,u.isDefined)(i.allowGrouping)||i.allowGrouping)){var o=this.option("grouping.texts"),r=(0,u.isDefined)(i.groupIndex)&&i.groupIndex>-1,a=y.bind(this,i);(n=n||[]).push({text:o.groupByThisColumn,value:"group",beginGroup:!0,disabled:r,onItemClick:a}),i.showWhenGrouped&&n.push({text:o.ungroup,value:"ungroup",disabled:!r,onItemClick:a}),n.push({text:o.ungroupAll,value:"ungroupAll",onItemClick:a})}}return n}};o.default.registerModule("grouping",{defaultOptions:function(){return{grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:s.default.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:s.default.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:s.default.format("dxDataGrid-groupHeaderText"),ungroup:s.default.format("dxDataGrid-ungroupHeaderText"),ungroupAll:s.default.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:s.default.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}},extenders:{controllers:{data:v,columns:{_getExpandColumnOptions:function(){var t=this.callBase.apply(this,arguments);return t.cellTemplate=o.default.getExpandCellTemplate(),t}}},views:{headerPanel:_,rowsView:b,columnHeadersView:x}}})},function(t,e,n){"use strict";e.GroupingHelper=void 0;var i=n(29),o=f(n(51)),r=n(5),a=n(3),s=f(n(106)),l=f(n(22)),u=n(246),h=n(184),c=f(n(70)),d=n(8);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t,e){var n=new d.Deferred,i=(0,a.extend)({skip:0,take:1,requireTotalCount:!0},e);return t.load(i).done((function(t,e){n.resolve(e&&e.totalCount)})).fail(n.reject.bind(n)),n},g=u.GroupingHelper.inherit(function(){var t=function(t,e,n){return t.foreachGroups((function(t){if(!t.isExpanded)return e(t)}),!1,!1,n,!0)},e=function(e,n){var i=0,o=n||0;return n&&(t(e,(function(t){if(t.offset-i>=n)return!1;i+=t.count-1})),o+=i),o},n=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!o.default.keysEqual(null,t[n],e[n]))return!1;return!0},f=function t(e,i,o,r,a){if(i){for(var s=0;s<i.length;s++){var l=i[s];if("key"in l&&void 0!==l.items){o.push(l.key),a&&n(a.path,o)&&!l.isContinuation&&(a.offset=r);var u=e.findGroupInfo(o);u&&!l.isContinuation&&(u.offset=r),u&&!u.isExpanded?r+=u.count:r=t(e,l.items,o,r,a),o.pop()}else r++}return r}},g=function t(e,n){var i=e.count||e.items.length;if(!e.count&&n>1){i=0;for(var o=0;o<e.items.length;o++)i+=t(e.items[o],n-1)}return i};return{handleDataLoading:function(n){var i,o=n.storeLoadOptions,u=[],h=0,c=!1,d=n.loadOptions.group,f=0;if(function(t,e){if(e.group){var n=l.default.normalizeSortingInfo(e.group),i=l.default.normalizeSortingInfo(t.sort);t.sort=s.default.arrangeSortingInfo(n,i),delete e.group}}(o,n.loadOptions),n.group=n.group||d,!n.isCustomLoading){var p=(0,a.extend)({},o);p.skip=e(this,o.skip),p.skip&&p.take&&d&&(p.skip--,p.take++,c=!0),p.take&&d&&(i=p.take,p.take++),t(this,(function(t){if(t.offset>=p.skip+p.take+f)return!1;t.offset>=p.skip+f&&t.count&&(f+=t.count-1,u.push(t),h+=t.count)})),(0,r.each)(u,(function(){p.filter=function(t,e,n){for(var i=l.default.normalizeSortingInfo(n||e.group),o=[],r=0;r<t.length;r++){for(var a=[],s=0;s<=r;s++)a.push([i[s].selector,r===s?"<>":"=",t[s]]);o.push(l.default.combineFilters(a))}return o=l.default.combineFilters(o,"or"),l.default.combineFilters([o,e.filter])}(this.path,p,d)})),n.storeLoadOptions=p,n.collapsedGroups=u,n.collapsedItemsCount=h,n.skip=p.skip||0,n.skipFirstItem=c,n.take=i}},handleDataLoaded:function(t,e){var n=t.data,o=t.collapsedGroups,r=l.default.normalizeSortingInfo(t.group),a=r.length;function u(t,e,n,o,r){if(t&&e.length&&n.length){var a,s,l=(0,i.toComparable)(e[0],!0);for(s=0;s<t.length&&(a=(0,i.toComparable)(t[s].key,!0),!(r>=o.offset||l===a));s++)r+=g(t[s],n.length);t.length&&l===a||t.splice(s,0,{key:e[0],items:[],count:1===e.length?o.count:void 0}),u(t[s].items,e.slice(1),n.slice(1),o,r)}}if(t.collapsedItemsCount&&t.extra&&t.extra.totalCount>=0&&(t.extra.totalCount+=t.collapsedItemsCount),e(t),a){var h=(0,c.default)(n);if(s.default.multiLevelGroup(h,r).enumerate().done((function(t){n=t})),o)for(var d=0;d<o.length;d++)u(n,o[d].path,r,o[d],t.skip);t.isCustomLoading||function t(e,n,i,o,r,a){for(var s=0,l=!1,u=0;u<n.length;u++){var h=n[u];if(void 0!==h.items){i.push(h.key);var c=e.findGroupInfo(i);if(c&&!c.isExpanded)h.collapsedItems=h.items,h.items=null,o+=c.count,--a<0&&s++,r&&(l=!0);else if(h.items){var d=t(e,h.items,i,o,r,a);r&&(d.offset-o>1?h.isContinuation=!0:l=!0),o=d.offset,(a=d.take)<0&&(h.items.length?h.isContinuationOnNextPage=!0:s++)}i.pop()}else r&&(l=!0),o++,--a<0&&s++;r=!1}return l&&n.splice(0,1),s&&n.splice(-s,s),{offset:o,take:a}}(this,n,[],t.skip,t.skipFirstItem,t.take),t.data=n}},isGroupItemCountable:function(t){return null===t.items},updateTotalItemsCount:function(){var e=0;t(this,(function(t){t.count&&(e-=t.count-1)})),this.callBase(e)},changeRowExpand:function(t){var n,i=this,o=i._dataSource,r=o.beginPageIndex?o.beginPageIndex():o.pageIndex(),a=o.items(),s=e(i,r*o.pageSize()),l=i.findGroupInfo(t);return n=l&&!l.isExpanded?(new d.Deferred).resolve(l.count):p(o,{filter:(0,h.createGroupFilter)(t,{filter:o.filter(),group:o.group()})}),(0,d.when)(n).done((function(e){e=parseInt(e.length?e[0]:e),l?(f(i,a,[],s),l.isExpanded=!l.isExpanded,l.count=e):(f(i,a,[],s,l={offset:-1,count:e,path:t,isExpanded:!1}),l.offset>=0&&i.addGroupInfo(l)),i.updateTotalItemsCount()})).fail((function(){o._eventsStrategy.fireEvent("loadError",arguments)}))},allowCollapseAll:function(){return!1},refresh:function(e,n){var i=this,o=e.storeLoadOptions,r=i._dataSource;if(this.callBase.apply(this,arguments),n.reload)return t(i,(function(t){var e=p(r,{filter:(0,h.createGroupFilter)(t.path,o)}),n=p(r,{filter:(0,u.createOffsetFilter)(t.path,o)});return(0,d.when)(n,e).done((function(e,n){e=parseInt(e.length?e[0]:e),n=parseInt(n.length?n[0]:n),t.offset=e,t.count!==n&&(t.count=n,i.updateTotalItemsCount())}))}),!0)}}}());e.GroupingHelper=g},function(t,e,n){"use strict";e.GroupingHelper=void 0;var i=n(3),o=n(5),r=c(n(22)),a=n(246),s=n(184),l=c(n(25)),u=c(n(69)),h=n(8);function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n,i){if(i=i||0,e>1&&n>0){var o=t-Math.floor(t/e)*e||e;return(o+=n-i-2)<0&&(o+=e),Math.floor(o/(e-i-1))}return 0}var f=a.GroupingHelper.inherit(function(){var t=function(t,e,n){return t.foreachGroups((function(t,n){if(t.isExpanded)return e(t,n)}),!0,!1,n,n)},e=function t(e,n,i,o,r,a,s){var l;if(o.items=o.items||[],o.paths=o.paths||[],o.count=o.count||0,o.lastCount=o.lastCount||0,i)for(var u=0;u<n.length;u++){var h=n[u];if(void 0!==h.items){if(r.push(h.key),a)l=!0;else{var c=e.findGroupInfo(r);l=c&&c.isExpanded}l?h.items?t(e,h.items,i-1,o,r,a,s):1!==i||!h.count||a&&!s||(o.items.push(h),o.paths.push(r.slice(0)),o.count+=o.lastCount,o.lastCount=h.count):(h.collapsedItems=h.items,h.items=null),r.pop()}}},n=function(t,e,n,i,o){var r,a=t.findGroupInfo(i);a?(n?a.count=e.count>0?e.count:e.items&&e.items.length||0:e.count=a.count||e.count,a.offset=o):(n&&(r=e.count>0?e.count:e.items.length),t.addGroupInfo({isExpanded:t._isGroupExpanded(i.length-1),path:i.slice(0),offset:o,count:r||0}))},c=function t(e,i,o,r,a,s,l){var u,h=(i.group?i.group.length:0)===r,c=0,d=0;if(a=a||0,s=s||[],i.remoteOperations.paging&&!l&&(c=0===a?i.skip||0:i.skips[a-1]||0),a>=r)return o.length;for(var f=0;f<o.length;f++){var p=o[f];if(p){if(s.push(p.key),!p.count&&!p.items||void 0===p.items)return-1;if(n(e,p,h,s,c+f),(u=p.items?t(e,i,p.items,r,a+1,s,f):p.count||-1)<0)return-1;d+=u,s.pop()}}return d},f=function(t,e){return t&&t.length&&t[e]&&!!t[e].isExpanded},p=function(t,e,n){for(var i,o=n,r=0;r<t.length;r++)i=t[r].offset+1,r>0&&(i+=t[r-1].childrenTotalCount,e&&(i+=d(o,e,i,r-1)*r)),o+=i;return o};function g(t,e,n,i){var o=e.items[i],r=t.skips&&t.skips[n],a=t.takes&&t.takes[n],s=i===e.items.length-1,l=0===i,u=l&&r||0,h=o.count>a+u;l&&void 0!==r&&(o.isContinuation=!0),s&&void 0!==a&&h&&(o.isContinuationOnNextPage=!0)}function m(t){return!Array.isArray(t)}function v(t){m(t.data)||(t.data=new h.Deferred)}function y(t,n,a,l,u,d){n.isCustomLoading||(e(t,d,a,l={},[]),function(t,e,n){var i=n-1,o=t.group?t.group.length:0;e.skip=t.skips&&t.skips[i],t.takes&&void 0!==t.takes[i]&&(e.take=o===n&&e.count?e.count-(e.skip||0):0,e.take+=t.takes[i])}(n,l,a));var f=n.group?n.group.length:0;l.paths.length&&f-a>0?(v(n),function(t,e,n,i,r,a){var l=e.group||[],u=l[r+1],d=[];(0,o.each)(n.paths,(function(i){var o={requireTotalCount:!1,requireGroupCount:!0,group:[u],groupSummary:e.storeLoadOptions.groupSummary,filter:(0,s.createGroupFilter)(n.paths[i],{filter:e.storeLoadOptions.filter,group:l}),select:e.storeLoadOptions.select};0===i&&(o.skip=n.skip||0),i===n.paths.length-1&&(o.take=n.take);var a=0===o.take?[]:t._dataSource.loadFromStore(o);(0,h.when)(a).done((function(t){var o=n.items[i];g(e,n,r,i),o.items=t})),d.push(a)})),h.when.apply(null,d).done((function(){c(t,e,a,i+1),y(t,e,i+1,n,r+1,a)}))}(t,n,l,a,u,d)):l.paths.length&&n.storeLoadOptions.group?(v(n),function(t,e,n,a){var l=[],u=e.group||[];(0,o.each)(n.paths,(function(t,n){l.push((0,s.createGroupFilter)(n,{group:e.isCustomLoading?e.storeLoadOptions.group:u}))}));var c=e.storeLoadOptions.filter;e.storeLoadOptions.isLoadingAll||(c=r.default.combineFilters([c,r.default.combineFilters(l,"or")]));var d=(0,i.extend)({},e.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:u.concat(r.default.normalizeSortingInfo(e.storeLoadOptions.sort||[])),filter:c}),f=t._dataSource.isLastLevelGroupItemsPagingLocal();f||(d.skip=n.skip,d.take=n.take);(0,h.when)(0===n.take?[]:t._dataSource.loadFromStore(d)).done((function(i,r){f&&(i=t._dataSource.sortLastLevelGroupItems(i,u,n.paths),i=n.skip?i.slice(n.skip):i,i=n.take?i.slice(0,n.take):i),(0,o.each)(n.items,(function(t,o){var r=o.count-(0===t&&n.skip||0),a=i.splice(0,r);g(e,n,u.length-1,t),o.items=a})),e.data.resolve(a)})).fail(e.data.reject)}(t,n,l,d)):m(n.data)&&n.data.resolve(d)}var _=function(t,e){var n=new h.Deferred,o=!(!e.group||!e.group.length),r=(0,i.extend)({skip:0,take:1,requireGroupCount:o,requireTotalCount:!o},e,{group:o?e.group:null});return t.load(r).done((function(t,e){var i=e&&(o?e.groupCount:e.totalCount);isFinite(i)?n.resolve(i):n.reject(u.default.errors.Error(o?"E4022":"E4021"))})).fail(n.reject.bind(n)),n};return{updateTotalItemsCount:function(e){var n=0,i=e.extra&&e.extra.totalCount||0,o=e.extra&&e.extra.groupCount||0,r=this._dataSource.pageSize(),a=this._isVirtualPaging();t(this,(function(t){t.childrenTotalCount=0})),t(this,(function(t,e){var i=p(e,a?0:r,n),o=t.count+t.childrenTotalCount;a||(o+=d(i,r,o,e.length-1)),e[e.length-2]?e[e.length-2].childrenTotalCount+=o:n+=o})),this.callBase(n-i+o)},_isGroupExpanded:function(t){var e=this._dataSource.group();return f(e,t)},_updatePagingOptions:function(e,n){var i=this._isVirtualPaging(),o=this._dataSource.pageSize(),r=[],a=[],s=0,l=0;e.take&&(t(this,(function(t){t.childrenTotalCount=0,t.skipChildrenTotalCount=0})),t(this,(function(t,u){var h,c=0,f=0,g=p(u,i?0:o,l),m=0,v=0,y=t.count+t.childrenTotalCount,_=y;n&&n(t,g);var b=e.skip-g;g<=e.skip+e.take&&y&&(h=e.take,i||(y+=(m=d(g,o,y,u.length-1))*u.length,_+=m,o&&b>=0&&(c=u.length,f=u.length-1,v=Math.floor(b/o))),b>=0?(g+y>e.skip&&r.unshift(b-v*c-t.skipChildrenTotalCount),g+y>=e.skip+h&&a.unshift(h-c-t.childrenTotalCount+t.skipChildrenTotalCount)):g+y>=e.skip+h&&a.unshift(h+b-t.childrenTotalCount)),g<=e.skip&&(u[u.length-2]?u[u.length-2].skipChildrenTotalCount+=Math.min(_,b+1-v*f):s+=Math.min(_,b+1)),g<=e.skip+h&&(y=Math.min(_,b+h-(v+1)*f),u[u.length-2]?u[u.length-2].childrenTotalCount+=y:l+=y)})),e.skip-=s,e.take-=l-s),e.skips=r,e.takes=a},changeRowExpand:function(t){var e=this.findGroupInfo(t),n=this._dataSource,i=n.remoteOperations().groupPaging,o=r.default.normalizeSortingInfo(n.group());return e?(e.isExpanded=!e.isExpanded,i&&e.isExpanded&&t.length<o.length?_(n,{filter:(0,s.createGroupFilter)(t,{filter:n.lastLoadOptions().filter,group:n.group()}),group:[o[t.length]],select:n.select()}).done((function(t){e.count=t})):(new h.Deferred).resolve()):(new h.Deferred).reject()},handleDataLoading:function(t){var e=t.storeLoadOptions,n=r.default.normalizeSortingInfo(e.group||t.loadOptions.group);if(!t.isCustomLoading&&n.length){if(t.remoteOperations.grouping){var i=this._dataSource.remoteOperations().paging;e.group=r.default.normalizeSortingInfo(e.group),e.group.forEach((function(t,n){var o=n===e.group.length-1;t.isExpanded=!i||!o}))}t.group=t.group||n,t.remoteOperations.paging&&(t.skip=e.skip,t.take=e.take,e.requireGroupCount=!0,e.group=n.slice(0,1),this._updatePagingOptions(t),e.skip=t.skip,e.take=t.take)}},handleDataLoadedCore:function(t,n){var i,o=r.default.normalizeSortingInfo(t.storeLoadOptions.group||t.loadOptions.group).length,a=t.group?t.group.length:0,s={};if(t.isCustomLoading)n(t),e(this,t.data,o,s,[],t.isCustomLoading,t.storeLoadOptions.isLoadingAll);else{if(t.remoteOperations.paging||this.foreachGroups((function(t){t.count=0})),(i=c(this,t,t.data,o))<0)return void(t.data=(new h.Deferred).reject(l.default.Error("E1037")));if(t.remoteOperations.paging||o&&t.extra&&t.loadOptions.requireTotalCount&&(t.extra.totalCount=i,t.extra.groupCount=t.data.length),a&&t.storeLoadOptions.requireGroupCount&&!isFinite(t.extra.groupCount))return void(t.data=(new h.Deferred).reject(u.default.errors.Error("E4022")));this.updateTotalItemsCount(t),t.remoteOperations.paging||this._updatePagingOptions(t),n(t),t.remoteOperations.paging||this._processPaging(t,o)}y(this,t,o,s,0,t.data)},_processSkips:function(t,e,n){if(n){var i=t[0],o=e[0],r=i&&i.items;void 0!==o&&(i.isContinuation=!0,r&&(i.items=r.slice(o),this._processSkips(i.items,e.slice(1),n-1)))}},_processTakes:function(t,e,n,i,o){if(i&&t){o=o||[];var r=t[t.length-1],a=r&&r.items,s=n[0],l=e[0];if(r){var u=r.count-(r.isContinuation&&l||0)||a.length;void 0!==s&&u>s&&(r.isContinuationOnNextPage=!0,o.forEach((function(t){t.isContinuationOnNextPage=!0})),a&&(a=a.slice(0,s),r.items=a)),o.push(r),this._processTakes(a,e.slice(1),n.slice(1),i-1,o)}}},_processPaging:function(t,e){this._processSkips(t.data,t.skips,e),this._processTakes(t.data,t.skips,t.takes,e)},isLastLevelGroupItemsPagingLocal:function(){return!1},sortLastLevelGroupItems:function(t){return t},refresh:function(e,n){var i,o,l=this,u=l._dataSource,c=e.storeLoadOptions,d=e.group||e.storeLoadOptions.group,p=r.default.normalizeSortingInfo(l._group);function g(t,e){e.length===o+1&&(t.isExpanded=i)}for(o=0;o<p.length;o++)i=f(d,o),f(l._group,o)!==i&&l.foreachGroups(g);if(l.callBase.apply(this,arguments),d&&e.remoteOperations.paging&&n.reload)return t(l,(function(t){var n=_(u,{filter:(0,s.createGroupFilter)(t.path,{filter:c.filter,group:d}),group:d.slice(t.path.length),select:c.select}),i=_(u,{filter:(0,a.createOffsetFilter)(t.path,{filter:c.filter,group:d}),group:d.slice(t.path.length-1,t.path.length),select:c.select});return(0,h.when)(i,n).done((function(n,i){n=parseInt(n.length?n[0]:n),i=parseInt(i.length?i[0]:i),t.offset=n,t.count!==i&&(t.count=i,l.updateTotalItemsCount(e))}))}),!0)}}}());e.GroupingHelper=f},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(433));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("masterDetail",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=u(n(31)),r=n(6),a=n(5),s=n(2),l=n(8);function u(t){return t&&t.__esModule?t:{default:t}}var h={defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{columns:{_getExpandColumnsCore:function(){var t=this.callBase();return this.option("masterDetail.enabled")&&t.push({type:"detailExpand",cellTemplate:o.default.getExpandCellTemplate()}),t}},data:function(){var t=function(t){t._expandedItems=[],t._isExpandAll=t.option("masterDetail.autoExpandAll")};return{init:function(){t(this),this.callBase()},expandAll:function(t){var e=this;t<0?(e._isExpandAll=!0,e._expandedItems=[],e.updateItems()):e.callBase.apply(e,arguments)},collapseAll:function(t){var e=this;t<0?(e._isExpandAll=!1,e._expandedItems=[],e.updateItems()):e.callBase.apply(e,arguments)},isRowExpanded:function(t){var e=this,n=o.default.getIndexByKey(t,e._expandedItems);return Array.isArray(t)?e.callBase.apply(e,arguments):!!(e._isExpandAll^(n>=0&&e._expandedItems[n].visible))},_getRowIndicesForExpand:function(t){var e=this.getRowIndexByKey(t);return[e,e+1]},_changeRowExpandCore:function(t){var e,n=this;if(Array.isArray(t))e=n.callBase.apply(n,arguments);else{var i=o.default.getIndexByKey(t,n._expandedItems);if(i>=0){var r=n._expandedItems[i].visible;n._expandedItems[i].visible=!r}else n._expandedItems.push({key:t,visible:!0});n.updateItems({changeType:"update",rowIndices:n._getRowIndicesForExpand(t)}),e=(new l.Deferred).resolve()}return e},_processDataItem:function(t,e){var n=this,i=n.callBase.apply(n,arguments);return i.isExpanded=n.isRowExpanded(i.key),void 0===e.detailColumnIndex&&(e.detailColumnIndex=-1,(0,a.each)(e.visibleColumns,(function(t,n){if("expand"===n.command&&!(0,s.isDefined)(n.groupIndex))return e.detailColumnIndex=t,!1}))),e.detailColumnIndex>=0&&(i.values[e.detailColumnIndex]=i.isExpanded),i},_processItems:function(t,e){var n=this,i=e.changeType,s=[];return t=n.callBase.apply(n,arguments),"loadingAll"===i?t:("refresh"===i&&(n._expandedItems=(0,r.grep)(n._expandedItems,(function(t){return t.visible}))),(0,a.each)(t,(function(t,e){s.push(e);var i=o.default.getIndexByKey(e.key,n._expandedItems);"data"===e.rowType&&(e.isExpanded||i>=0)&&!e.isNewRow&&s.push({visible:e.isExpanded,rowType:"detail",key:e.key,data:e.data,values:[]})})),s)},optionChanged:function(e){var n,i;if("masterDetail"===e.name){switch(e.name="dataSource",e.fullName){case"masterDetail":var o=e.value||{},r=e.previousValue||{};n=o.enabled!==r.enabled,i=o.autoExpandAll!==r.autoExpandAll;break;case"masterDetail.enabled":n=!0;break;case"masterDetail.autoExpandAll":i=!0}(n||i)&&t(this)}this.callBase(e)}}}(),resizing:{fireContentReadyAction:function(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids:function(t){var e=this,n=t.closest(".dx-master-detail-row");n.length&&(0,l.when)(this._updateMasterDataGrid(n,t)).done((function(){e._updateParentDataGrids(n.parent())}))},_updateMasterDataGrid:function(t,e){var n=(0,i.default)(t).data("options"),o=(0,i.default)(t).closest("."+this.getWidgetContainerClass()).parent().data("dxDataGrid");if(n&&o){if(!o.getView("rowsView").isFixedColumns()){var r=o.getScrollable();return r&&r.update()}this._updateFixedMasterDetailGrids(o,n.rowIndex,e)}},_updateFixedMasterDetailGrids:function(t,e,n){var o=this,r=(0,i.default)(t.getRowElement(e));if(r&&2===r.length&&r.eq(0).height()!==r.eq(1).height()){var a=n.width();return t.updateDimensions().done((function(){var e=o.option("columnAutoWidth")&&!0===t.option("scrolling.useNative"),i=e&&a!==n.width();e&&i&&o.updateDimensions()}))}},_toggleBestFitMode:function(t){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var e=this._rowsView._getTableElement();e&&e.find(".dx-master-detail-cell").toggleClass("dx-hidden",t)}}}},views:{rowsView:{_getCellTemplate:function(t){var e=this,n=t.column,i=e.getController("editing"),o=i&&i.isEditRow(t.rowIndex);return"detail"!==n.command||o?e.callBase.apply(e,arguments):e.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:e._getDefaultTemplate(n)}},_isDetailRow:function(t){return t&&t.rowType&&0===t.rowType.indexOf("detail")},_createRow:function(t){var e=this.callBase(t);return t&&this._isDetailRow(t)&&(this.option("showRowLines")&&e.addClass("dx-row-lines"),e.addClass("dx-master-detail-row"),(0,s.isDefined)(t.visible)&&e.toggle(t.visible)),e},_renderCells:function(t,e){var n=e.row,i=this._columnsController.getVisibleColumns();n.rowType&&this._isDetailRow(n)?this._needRenderCell(0,e.columnIndices)&&this._renderCell(t,{value:null,row:n,rowIndex:n.rowIndex,column:{command:"detail"},columnIndex:0}).addClass("dx-cell-focus-disabled").addClass("dx-master-detail-cell").attr("colSpan",i.length):this.callBase.apply(this,arguments)}}}}};e.default=h,t.exports=e.default},function(t,e,n){"use strict";n(435);var i=a(n(22)),o=a(n(462)),r=n(3);function a(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("editing",(0,r.extend)(!0,{},o.default,{extenders:{controllers:{data:{_changeRowExpandCore:function(t){var e=this._editingController;return Array.isArray(t)&&e&&e.refresh(),this.callBase.apply(this,arguments)}}}}}))},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(436));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("editorFactory",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=m(n(1)),o=m(n(16)),r=m(n(7)),a=m(n(35)),s=n(30),l=m(n(33)),u=m(n(74)),h=n(13),c=m(n(24)),d=n(3),f=n(34),p=m(n(247)),g=m(n(31));function m(t){return t&&t.__esModule?t:{default:t}}var v=(0,h.addNamespace)([l.default.down,"focusin",s.name].join(" "),"dxDataGridEditorFactory"),y={defaultOptions:function(){return{}},controllers:{editorFactory:a.default.ViewController.inherit({_getFocusedElement:function(t){var e=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",n="td[tabindex]:focus, ".concat(e,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus");return t.find(n)},_getFocusCellSelector:function(){return".dx-row > td"},_updateFocusCore:function(){var t,e,n=this._$focusedElement,i=this.component&&this.component.$element();i&&(n=this._getFocusedElement(i)).length&&(n.hasClass("dx-cell-focus-disabled")||n.hasClass("dx-row")||(e=(t=n.closest(this._getFocusCellSelector()+", .dx-cell-focus-disabled")).get(0)!==n.get(0)&&t.hasClass("dx-editor-inline-block"),n=t),n.length&&!n.hasClass("dx-cell-focus-disabled"))?this.focus(n,e):this.loseFocus()},_updateFocus:function(t){var e=this,n=t&&t.event&&(0,i.default)(t.event.target).hasClass(e.addWidgetPrefix("focus-overlay"));e._isFocusOverlay=e._isFocusOverlay||n,clearTimeout(e._updateFocusTimeoutID),e._updateFocusTimeoutID=setTimeout((function(){delete e._updateFocusTimeoutID,e._isFocusOverlay||e._updateFocusCore(),e._isFocusOverlay=!1}))},_updateFocusOverlaySize:function(t,e){t.hide();var n=u.default.calculate(t,(0,d.extend)({collision:"fit"},e));n.h.oversize>0&&t.outerWidth(t.outerWidth()-n.h.oversize),n.v.oversize>0&&t.outerHeight(t.outerHeight()-n.v.oversize),t.show()},callbackNames:function(){return["focused"]},focus:function(t,e){var n=this;if(void 0===t)return n._$focusedElement;t&&(t.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass("dx-focused"),n._$focusedElement=t,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout((function(){delete n._focusTimeoutID,n.renderFocusOverlay(t,e),t.addClass("dx-focused"),n.focused.fire(t)})))},refocus:function(){var t=this.focus();this.focus(t)},renderFocusOverlay:function(t,e){if(g.default.isElementInCurrentGrid(this,t))if(this._$focusOverlay||(this._$focusOverlay=(0,i.default)("<div>").addClass(this.addWidgetPrefix("focus-overlay"))),e)this._$focusOverlay.addClass("dx-hidden");else if(t.length){var n=c.default.msie?"left bottom":c.default.mozilla?"right bottom":"left top",o=t.closest("."+this.addWidgetPrefix("content")),r=(0,f.getBoundingRect)(t.get(0));this._$focusOverlay.removeClass("dx-hidden").appendTo(o).outerWidth(r.right-r.left+1).outerHeight(r.bottom-r.top+1);var a={precise:!0,my:n,at:n,of:t,boundary:o.length&&o};this._updateFocusOverlaySize(this._$focusOverlay,a),u.default.setup(this._$focusOverlay,a),this._$focusOverlay.css("visibility","visible")}},resize:function(){var t=this._$focusedElement;t&&this.focus(t)},loseFocus:function(){this._$focusedElement&&this._$focusedElement.removeClass("dx-focused"),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass("dx-hidden")},init:function(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),r.default.on(o.default.getDocument(),v,this._updateFocusHandler),this._attachContainerEventHandlers()},_attachContainerEventHandlers:function(){var t=this,e=t.component&&t.component.$element();e&&r.default.on(e,(0,h.addNamespace)("keydown","dxDataGridEditorFactory"),(function(e){"tab"===(0,h.normalizeKeyName)(e)&&t._updateFocusHandler(e)}))},dispose:function(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),r.default.off(o.default.getDocument(),v,this._updateFocusHandler)}}).include(p.default)}};e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=r(n(19)),o=r(n(438));function r(t){return t&&t.__esModule?t:{default:t}}(0,i.default)("dxNumberBox",o.default);var a=o.default;e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=g(n(7)),o=n(3),r=n(2),a=g(n(24)),s=g(n(17)),l=n(52),u=g(n(75)),h=n(439),c=n(221),d=g(n(440)),f=n(13),p=n(6);function g(t){return t&&t.__esModule?t:{default:t}}var m=a.default.msie?300:0,v=d.default.inherit({_getDefaultOptions:function(){return(0,o.extend)(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return"del"===t},_supportedKeys:function(){if(!this._useMaskBehavior())return this.callBase();return(0,o.extend)(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)})},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=null;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var n=this._getInputVal(),i=u.default.getDecimalSeparator(),o=n.indexOf(i);o>=0?this._caret({start:o,end:o}):this._moveCaretToBoundaryEventHandler(-1,t)}}.bind(this),m)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged:function(t){var e=this._getFormatPattern(),n=this.option("value");return(this._format(n,e)||"")!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._parsedValue=this._tryParse(t,this._caret()),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&i.default.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var n=this._getInputVal(),i=this._getFormatPattern(),o=(0,h.getCaretWithOffset)(this._caret(),t);(0,h.isCaretInBoundaries)(o,n,i)||(o=1===t?o.end:o.start,e.preventDefault(),this._caret((0,h.getCaretInBoundaries)(o,n,i)))}},_moveCaretToBoundary:function(t){var e=(0,h.getCaretBoundaries)(this._getInputVal(),this._getFormatPattern()),n=(0,h.getCaretWithOffset)(1===t?e.start:e.end,0);this._caret(n)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var n=u.default.getDecimalSeparator(),i=t.charAt(e.end)===n,o="0"===t.charAt(e.end),r=(this._lastKey===n||"."===this._lastKey)&&i,a="0"===this._lastKey&&o;return r||a},_getInputVal:function(){return u.default.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=u.default.convertDigits((0,f.getChar)(t),!0),this._lastKeyName=(0,f.normalizeKeyName)(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),n=this._caret(),i="minus"===this._lastKeyName?"":this._lastKey,o=this._tryParse(e,n,i);return this._shouldMoveCaret(e,n)&&(this._moveCaret(1),t.originalEvent.preventDefault()),void 0===o?"minus"!==this._lastKeyName&&t.originalEvent.preventDefault():this._parsedValue=o,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),n=this._getInputVal(),i=e.start,o=e.end;this._lastKey=(0,f.getChar)(t),this._lastKeyName=(0,f.normalizeKeyName)(t);var r=this._isDeleteKey(this._lastKeyName),a=!r;if(i===o){if(!(a&&i>0||r&&i<n.length))return void t.preventDefault();r&&o++,a&&i--}var s=n.slice(i,o);if(this._isStub(s))return this._moveCaret(r?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(t),this._setTextByParsedValue()),void t.preventDefault();var l=u.default.getDecimalSeparator();if(s!==l){if(o-i<n.length)if(this._replaceSelectedText(n,{start:i,end:o},"").search(/[0-9]/)<0&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0);var h=this._tryParse(n,{start:i,end:o},"");void 0===h?t.preventDefault():this._parsedValue=h}else{var c=n.indexOf(l);this._isNonStubAfter(c+1)&&(this._moveCaret(r?1:-1),t.preventDefault())}},_isPercentFormat:function(){return-1!==this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")},_parse:function(t,e){var n=this.option("format"),i=(0,r.isFunction)(n.parser),o=i?n.parser:u.default.parse;if(!i){var a=e.indexOf("."),s=t.indexOf(u.default.getDecimalSeparator()),l=-1!==a?a:e.length,h=-1!==s?s:t.length;h>l&&-1===e.indexOf("#")&&(t=t.substr(h-l))}return o(t,e)},_format:function(t,e){var n=this.option("format");return((0,r.isFunction)(null===n||void 0===n?void 0:n.formatter)?n.formatter:u.default.format)(t,e)},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this,e=this.option("format"),n=(0,r.isFunction)(null===e||void 0===e?void 0:e.parser),i=(0,r.isString)(e)&&(e.indexOf("0")>=0||e.indexOf("#")>=0);this._currentFormat=n||i?e:(0,c.getFormat)((function(n){var i=t._format(n,e);return u.default.convertDigits(i,!0)}))},_getFormatForSign:function(t){var e=this._getFormatPattern();if((0,r.isString)(e)){var n=e.split(";"),i=u.default.getSign(t,e);return n[1]=n[1]||"-"+n[0],i<0?n[1]:n[0]}return u.default.getSign(t)<0?"-":""},_removeStubs:function(t,e){var n=this._getFormatForSign(t),i=u.default.getThousandsSeparator(),o=this._getStubs(n),r=t;if(o.length){var a=o[0],s=new RegExp("("+(0,p.escapeRegExp)(o[1]||"")+")$","g"),l=new RegExp("[-"+(0,p.escapeRegExp)(e?"":i)+"]","g");r=r.replace(a,"").replace(s,"").replace(l,"")}return r},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),n=e&&e[0].trim();return t.split(n).map((function(t){return t.replace(/'/g,"")}))},_truncateToPrecision:function(t,e){if((0,r.isDefined)(t)){var n=t.toString(),i=n.indexOf(".");if(n&&i>-1){var o=parseFloat(n.substr(0,i+e+1));return isNaN(o)?t:o}}return t},_tryParse:function(t,e,n){var i=this._replaceSelectedText(t,e,n),o=this._getFormatPattern(),r=e.start!==e.end,a=this._getParsedValue(i,o),s=!o.parser&&this._getPrecisionLimits(i).max,l=a!==this._parsedValue,h=n===u.default.getDecimalSeparator()&&0===s,c=!r&&!l&&"-"!==n&&!this._isValueIncomplete(i)&&this._isStub(n);if(!h&&!c&&(""===this._removeStubs(i)&&(a=Math.abs(0*this._parsedValue)),!isNaN(a))){var d=null===a?this._parsedValue:a;return a=s?this._truncateToPrecision(d,s):a,!o.parser&&this._isPercentFormat()?a&&a/100:a}},_getParsedValue:function(t,e){var n=u.default.getSign(t,(null===e||void 0===e?void 0:e.formatter)||e),i=this._removeStubs(t,!0),o=this._parse(i,e),a=o<0?-1:1;return(0,r.isNumeric)(o)&&n!==a?n*o:o},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),n=u.default.getDecimalSeparator(),i=t.indexOf(n),o=i>=0&&i<e.start,r=this._removeStubs(t,!0).split(n);if(!o||2!==r.length)return!1;var a=r[1].length,s=!!this._getFormatPattern().parser,h=!s&&this._getPrecisionLimits(this._getFormatPattern(),t),c=!!s||(0,l.inRange)(a,h.min,h.max),d="0"===r[1].charAt(a-1);return c&&(d||!a)},_isValueInRange:function(t){var e=(0,p.ensureDefined)(this.option("min"),-1/0),n=(0,p.ensureDefined)(this.option("max"),1/0);return(0,l.inRange)(t,e,n)},_setInputText:function(t){var e=u.default.convertDigits(t,!0),n=(0,h.getCaretAfterFormat)(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(n)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t="number"===this.option("mode"),e="desktop"===s.default.real().deviceType;this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return(0,r.isString)(t)&&1===t.length},_moveCaret:function(t){if(t){var e=(0,h.getCaretWithOffset)(this._caret(),t),n=(0,h.getCaretInBoundaries)(e,this._getInputVal(),this._getFormatPattern());this._caret(n)}},_shouldHandleKey:function(t){var e=(0,f.normalizeKeyName)(t),n=t.ctrlKey||t.shiftKey||t.altKey||!this._isChar(e),i="minus"===e;return this._useMaskBehavior()&&!n&&!i},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){i.default.off(this._input(),".dxNumberFormatter")},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return(0,r.isDefined)(e)?"insertFromPaste"===e:this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();i.default.on(t,(0,f.addNamespace)("input","dxNumberFormatter"),function(t){this._formatValue(t),this._isValuePasted=!1}.bind(this)),a.default.msie&&a.default.version<12&&i.default.on(t,(0,f.addNamespace)("paste","dxNumberFormatter"),function(){this._isValuePasted=!0}.bind(this)),i.default.on(t,(0,f.addNamespace)("dxclick","dxNumberFormatter"),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caret((0,h.getCaretInBoundaries)(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),m))}.bind(this)),i.default.on(t,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=null},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t,e){return(e=(e||this._getInputVal()).slice(t))&&!this._isStub(e,!0)},_isStub:function(t,e){var n=(0,p.escapeRegExp)(u.default.getDecimalSeparator());return new RegExp("^[^0-9"+n+"]+$","g").test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=(this._getFormatForSign(t).split(".")[1]||"").replace(/[^#0]/g,"");return{min:e.replace(/^(0*)#*/,"$1").length,max:e.length}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end){if("minus"===(0,f.normalizeKeyName)(t))return void this._applyRevertedSign(t,e,!0);this._caret((0,h.getCaretInBoundaries)(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,n){var o=-1*(0,p.ensureDefined)(this._parsedValue,null);if(this._isValueInRange(o)){if(this._parsedValue=o,n){var r=this._getFormatPattern(),s=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var l=this._getInputVal(),u=(0,h.getCaretOffset)(s,l,r);e=(0,h.getCaretWithOffset)(e,u);var c=(0,h.getCaretInBoundaries)(e,l,r);a.default.msie?(clearTimeout(this._caretTimeout),this._caretTimeout=setTimeout(this._caret.bind(this,c))):this._caret(c)}"Subtract"===t.key&&i.default.trigger(this._input(),"input")}},_removeMinusFromText:function(t,e){return"minus"===this._lastKeyName&&"-"===t.charAt(e.start-1)?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),n=this._format(e,t)||"";this._setInputText(n)},_formatValue:function(t){var e=this._getInputVal(),n=this._caret(),i=this._removeMinusFromText(e,n),o=i!==e;if(e=i,!this._isInputFromPaste(t)&&this._isValueIncomplete(i))return this._formattedValue=e,void(o&&this._setTextByParsedValue());if(u.default.convertDigits(this._formattedValue,!0)!==e){var a=this._tryParse(e,n,"");(0,r.isDefined)(a)&&(this._parsedValue=a)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal())?this._parseValue():null;(0,r.isNumeric)(t)?this._parsedValue=(0,l.fitIntoRange)(t,this.option("min"),this.option("max")):this._parsedValue=t}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._updateFormat(),this._renderFormatter(),this._renderValue();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}});e.default=v,t.exports=e.default},function(t,e,n){"use strict";e.getCaretInBoundaries=d,e.getCaretOffset=e.isCaretInBoundaries=e.getCaretAfterFormat=e.getCaretWithOffset=e.getCaretBoundaries=void 0;var i,o=n(52),r=n(6),a=(i=n(75))&&i.__esModule?i:{default:i};var s=function(t,e){if("string"===typeof e){var n=e.split(";"),i=a.default.getSign(t,e);n[1]=n[1]||"-"+n[0],e=n[i<0?1:0];e=e.replace(/'([^']*)'/g,(function(t){return t.split("").map((function(){return" "})).join("").substr(2)}));var o=/^[^#0.,]*/.exec(e)[0].length,r=/[^#0.,]*$/.exec(e)[0].length;return{start:o,end:t.length-r}}return{start:0,end:t.length}};e.getCaretBoundaries=s;var l=function(t,e){var n=a.default.getDecimalSeparator(),i=new RegExp("[^0-9"+(0,r.escapeRegExp)(n)+"]","g");return e.slice(0,t).replace(i,"").length},u=function(t){return t.split("").reverse().join("")},h=function(t,e){if(!t)return-1;for(var n=/[0-9]/g,i=1,o=null,r=n.exec(e);r;){if(o=r.index,!t||i>=t)return o;i++,r=n.exec(e)}return null===o?e.length:o},c=function(t,e){return void 0===t.start&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}};e.getCaretWithOffset=c;e.getCaretAfterFormat=function(t,e,n,i){n=c(n,0);var o=a.default.getDecimalSeparator(),r=function(t){return 1===t.length&&!!t.match(/^[,.][0-9]*$/g)}(t),s=r?0:t.indexOf(o),f=e.indexOf(o),p=r?t.split(t[s]):t.split(o),g=e.split(o);if(-1!==s&&n.start>s){var m=n.start-s-1,v=l(m,p[1]);return d(g[1]?f+1+h(v,g[1])+1:e.length,e,i)}var y=function(t){return t.replace(/[^0-9e]+$/,"")}(g[0]),_=p[0].length-n.start,b=l(_,u(p[0])),x=h(b,u(y));return d(y.length-(x+1),e,i)};function d(t,e,n){t=c(t,0);var i=s(e,n);return{start:(0,o.fitIntoRange)(t.start,i.start,i.end),end:(0,o.fitIntoRange)(t.end,i.start,i.end)}}e.isCaretInBoundaries=function(t,e,n){var i=d(t=c(t,0),e,n);return t.start>=i.start&&t.end<=i.end};e.getCaretOffset=function(t,e,n){var i=s(t,n);return s(e,n).start-i.start}},function(t,e,n){"use strict";e.default=void 0;var i=y(n(1)),o=y(n(16)),r=y(n(7)),a=n(6),s=n(2),l=n(52),u=n(3),h=n(21),c=y(n(17)),d=y(n(24)),f=y(n(233)),p=n(13),g=y(n(441)),m=y(n(18)),v=n(8);function y(t){return t&&t.__esModule?t:{default:t}}var _=Math,b=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],x=f.default.inherit({_supportedKeys:function(){return(0,u.extend)(this.callBase(),{upArrow:function(t){t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t)},downArrow:function(t){t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t)},enter:function(){}})},_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:m.default.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:g.default}])},_isSupportInputMode:function(){var t=parseFloat(d.default.version);return d.default.chrome&&t>=66||d.default.safari&&t>=12||d.default.msie&&t>=75},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return c.default.real().generic&&!c.default.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==c.default.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass("dx-numberbox"),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=(0,i.default)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val((0,a.applyServerDecimalSeparator)(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=(0,p.getChar)(t);if(!/[\d.,eE\-+]|Subtract/.test(e)){var n=(0,p.normalizeKeyName)(t);if(t.metaKey||t.ctrlKey||n&&(0,h.inArray)(n,b)>=0)return;return t.preventDefault(),!1}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");t.length&&Number(t)===e||(this._forceValueRender(),this._toggleEmptinessEventHandler());var n=(0,s.isDefined)(e)?null:m.default.format("dxNumberBox-noDataText");return this.setAria({valuenow:(0,a.ensureDefined)(e,""),valuetext:n}),this.option("text",this._input().val()),this._updateButtons(),(new v.Deferred).resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),n=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(n)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this.callBase(),this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:(0,a.ensureDefined)(this.option("min"),""),valuemax:(0,a.ensureDefined)(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();this.option("useLargeSpinButtons")||o.default.getActiveElement()===t[0]||r.default.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var n=parseFloat(this.option("step"));if(0!==n){var i=parseFloat(this._normalizeInputValue())||0;i=this._correctRounding(i,n*t);var o=this.option("min"),r=this.option("max");(0,s.isDefined)(o)&&(i=Math.max(o,i)),(0,s.isDefined)(r)&&(i=Math.min(r,i)),this._saveValueChangeEvent(e),this.option("value",i)}},_correctRounding:function(t,e){var n=/[,.](.*)/,i=n.test(t),o=n.test(e);if(i||o){var r=i?n.exec(t)[0].length:0,a=o?n.exec(e)[0].length:0,s=_.max(r,a);return t=this._round(t+e,s)}return t+e},_round:function(t,e){e=e||0;var n=Math.pow(10,e);return t*=n,t=Math.round(t)/n},_renderValueChangeEvent:function(){this.callBase();var t=(0,p.addNamespace)("focusout","NumberBoxForceValueChange");r.default.off(this.element(),t),r.default.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),n=this._normalizeText(),i=this._parseValue(n),o="."!==n&&"-"!==n;!this._isValueValid()||this._validateValue(i)?(o&&this.callBase(t,isNaN(i)?null:i),this._applyValueBoundaries(n,i),this.validationRequest.fire({value:i,editor:this})):e.val(this._applyDisplayValueFormatter(i))},_applyValueBoundaries:function(t,e){var n=this._isValueIncomplete(t),i=this._isValueInRange(t);n||i||null===e||Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t="number"===this.option("mode"),e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return(0,l.inRange)(t,this.option("min"),this.option("max"))},_isNumber:function(t){return null!==this._parseValue(t)},_validateValue:function(t){var e=this._normalizeText(),n=this._isValueValid(),i=!0,o=this._isNumber(e);return isNaN(Number(t))&&(i=!1),!t&&n?i=!0:o||n||(i=!1),this.option({isValid:i,validationError:i?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),i},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:(0,l.fitIntoRange)(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}});e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=h(n(1)),o=h(n(7)),r=h(n(145)),a=h(n(442)),s=n(13),l=h(n(33)),u=n(3);function h(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return(p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(c,t);var e,n,r,h=m(c);function c(){return d(this,c),h.apply(this,arguments)}return e=c,(n=[{key:"_attachEvents",value:function(t,e){var n=this.editor,i=(0,s.addNamespace)(l.default.down,n.NAME),r=e.children(),u=n._createAction((function(t){return n._spinButtonsPointerDownHandler(t)}));o.default.off(e,i),o.default.on(e,i,(function(t){return u({event:t})})),a.default.getInstance(r.eq(0)).option("onChange",(function(t){return n._spinUpChangeHandler(t)})),a.default.getInstance(r.eq(1)).option("onChange",(function(t){return n._spinDownChangeHandler(t)}))}},{key:"_create",value:function(){var t=this.editor,e=(0,i.default)("<div>").addClass("dx-numberbox-spin-container"),n=(0,i.default)("<div>").appendTo(e),o=(0,i.default)("<div>").appendTo(e),r=this._getOptions();return this._addToContainer(e),t._createComponent(n,a.default,(0,u.extend)({direction:"up"},r)),t._createComponent(o,a.default,(0,u.extend)({direction:"down"},r)),this._legacyRender(t.$element(),this._isTouchFriendly(),r.visible),{instance:e,$element:e}}},{key:"_getOptions",value:function(){var t=this.editor;return{visible:this._isVisible(),disabled:t.option("disabled")}}},{key:"_isVisible",value:function(){var t=this.editor;return p(y(c.prototype),"_isVisible",this).call(this)&&t.option("showSpinButtons")}},{key:"_isTouchFriendly",value:function(){var t=this.editor;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}},{key:"_legacyRender",value:function(t,e,n){t.toggleClass("dx-numberbox-spin-touch-friendly",e),t.toggleClass("dx-numberbox-spin",n)}},{key:"update",value:function(){if(p(y(c.prototype),"update",this).call(this)){var t=this.editor,e=this.instance,n=t.$element(),i=this._isVisible(),o=this._isTouchFriendly(),r=e.children(),s=a.default.getInstance(r.eq(0)),l=a.default.getInstance(r.eq(1)),u=this._getOptions();s.option(u),l.option(u),this._legacyRender(n,o,i)}}}])&&f(e.prototype,n),r&&f(e,r),c}(r.default);e.default=_,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=f(n(1)),o=f(n(16)),r=f(n(7)),a=f(n(47)),s=n(3),l=n(13),u=f(n(33)),h=n(137),c=f(n(110)),d=n(8);function f(t){return t&&t.__esModule?t:{default:t}}var p=(0,l.addNamespace)(u.default.up,"dxNumberBox"),g=(0,l.addNamespace)(u.default.cancel,"dxNumberBox"),m=a.default.inherit({_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t="dx-numberbox-spin-"+this.option("direction");this.$element().addClass("dx-numberbox-spin-button").addClass(t),this._spinIcon=(0,i.default)("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=(0,l.addNamespace)(u.default.down,this.NAME),e=this.$element();r.default.off(e,t),r.default.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),r.default.on(this.$element(),c.default.name,function(){this._feedBackDeferred=new d.Deferred,(0,h.lock)(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:t})}.bind(this));var e=o.default.getDocument();r.default.on(e,p,this._clearTimer.bind(this)),r.default.on(e,g,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){r.default.off(this.$element(),c.default.name);var t=o.default.getDocument();r.default.off(t,p),r.default.off(t,g),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}});e.default=m,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=S(n(1)),o=n(14),r=S(n(7)),a=S(n(50)),s=S(n(19)),l=n(6),u=n(2),h=n(3),c=n(21),d=S(n(248)),f=S(n(126)),p=S(n(25)),g=n(13),m=S(n(17)),v=S(n(70)),y=n(5),_=S(n(445)),b=S(n(18)),x=n(133),w=n(8),C=S(n(241));function S(t){return t&&t.__esModule?t:{default:t}}function k(t){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var E=(0,o.getWindow)(),I=["startswith","contains","endwith","notcontains"],T=d.default.inherit({_supportedKeys:function(){var t=this.callBase();return(0,h.extend)({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var n=(0,i.default)(this._list.option("focusedElement"));n.length&&this._setSelectedElement(n)}t.tab.apply(this,arguments)},space:l.noop,home:l.noop,end:l.noop})},_allowSelectItemByTab:function(){return this.option("opened")&&"instantly"===this.option("applyValueMode")},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return(0,h.extend)(this.callBase(),(0,h.extend)(_.default._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:b.default.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:l.noop,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),(0,h.extend)(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new x.ChildDefaultTemplate("item")})},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,n){return t>n?e:t<e?n:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items());return new v.default(t).filter("disabled","<>",!0).toArray()},_calcNextItem:function(t){var e=this._items();return e[this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1)]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),n=-1;return(0,y.each)(t,function(t,i){if(this._isValueEquals(i,e))return n=t,!1}.bind(this)),n},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup._wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();r.default.off(t,"mouseup"),r.default.on(t,"mouseup",this._saveFocusOnWidget.bind(this));var e=this;this._popup.on({shown:function(){e.$element().addClass("dx-skip-gesture-event")},hidden:function(){e.$element().removeClass("dx-skip-gesture-event")}})},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&(0,i.default)(t);if(e&&e.length&&!(0,u.isWindow)(e.get(0))){var n=[].slice.call(e.parents());n.unshift(e.get(0)),(0,y.each)(n,function(t,e){return e!==(0,i.default)("body").get(0)&&("hidden"===E.getComputedStyle(e).overflowY?(this._$customBoundaryContainer=(0,i.default)(e),!1):void 0)}.bind(this))}},_popupWrapperClass:function(){return"dx-dropdownlist-popup-wrapper"},_renderInputValue:function(){var t=this._getCurrentValue();return this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var n,i;return e&&"object"!==k(t)&&(e.itemByValue||(e.itemByValue={},(n=this._getPlainItems()).forEach((function(t){e.itemByValue[this._valueGetter(t)]=t}),this)),i=e.itemByValue[t]),i||(n=this._getPlainItems(),i=(0,l.grep)(n,function(e){return this._isValueEquals(this._valueGetter(e),t)}.bind(this))[0]),i},_loadItem:function(t,e){var n=this._getItemFromPlain(t,e);return void 0!==n?(new w.Deferred).resolve(n).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var n=0;n<t.length;n++)t[n]&&t[n].items?e=e.concat(t[n].items):e.push(t[n]);return e},_updateActiveDescendant:function(){var t,e=this.option("opened"),n=null===(t=this._list)||void 0===t?void 0:t.getFocusedItemId(),o=(0,i.default)("#".concat(n)).length>0,r=e&&o&&n;this.setAria({activedescendant:r||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",(0,l.ensureDefined)(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(e,n){var o=(0,i.default)(n),r=this._valueGetter(o.data("dxListItemData"));this._isSelectedValue(r,t)?this._list.selectItem(o):this._list.unselectItem(o)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if((0,c.inArray)(e,I)<0)throw p.default.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem(),this._preventFiltering=!0},_listItemElements:function(){return this._$list?this._$list.find(".dx-list-item"):(0,i.default)()},_popupConfig:function(){return(0,h.extend)(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this),width:this._getInputWidth.bind(this)})},_getInputWidth:function(){return this.$element().outerWidth()},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners:function(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_fireContentReadyAction:l.noop,_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+(new a.default)._value;var t=this._$list=(0,i.default)("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(t,f.default,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlur(this._$list),this._setListFocusedElementOptionChange()},_renderPreventBlur:function(t){var e=(0,g.addNamespace)("mousedown","dxDropDownList");r.default.off(t,e),r.default.on(t,e,function(t){t.preventDefault()}.bind(this))},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria({controls:this._list&&this._listId,owns:this._popup&&this._popupContentId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return"desktop"===m.default.real().deviceType},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled")};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:function(){return!1},_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:l.noop,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return!this._canKeepDataSource()&&this._needPassDataSourceToList()},_canKeepDataSource:function(){var t,e=this._isMinSearchLengthExceeded();return(null===(t=this._dataSource)||void 0===t?void 0:t.isLoaded())&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!e&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return(0,g.addNamespace)("input",this.NAME+"Search")},_getSetFocusPolicyEvent:function(){return(0,g.addNamespace)("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),r.default.on(this._input(),this._getSetFocusPolicyEvent(),this._setFocusPolicy.bind(this)),this._shouldRenderSearchEvent()&&r.default.on(this._input(),this._getSearchEvent(),this._searchHandler.bind(this))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){r.default.off(this._input(),this._getSearchEvent()),r.default.off(this._input(),this._getSetFocusPolicyEvent()),this.callBase()},_searchHandler:function(){if(this._isMinSearchLengthExceeded()){var t=this.option("searchTimeout");t?(this._clearSearchTimer(),this._searchTimer=setTimeout(this._searchDataSource.bind(this),t)):this._searchDataSource()}else this._searchCanceled()},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){this._filterDataSource(this._searchValue())},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataSource;e&&(e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t)))},_clearFilter:function(){var t=this._dataSource;t&&t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!this.option("readOnly")&&this._searchValue()){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&this._dimensionChanged())}},_dataSourceChangedHandler:function(t){0===this._dataSource.pageIndex()?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=(this._dataSource&&this._dataSource.items()||[]).length;return!(!this._needPassDataSourceToList()||!t)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_updatePopupMinWidth:function(t){E&&this._popup&&(void 0===t&&(t=this.$element().outerWidth()),this._popup.overlayContent().css("minWidth",t))},_popupShowingHandler:function(){this._dimensionChanged()},_getPopupWidth:function(){var t=this.option("dropDownOptions.width");if(null!==t)return"function"===typeof t?t():t},_dimensionChanged:function(){var t=this._getPopupWidth(),e=this.option("dropDownOptions.minWidth");void 0===t&&this._setPopupOption("width",this._getInputWidth.bind(this)),(0,u.isDefined)(e)||this._updatePopupMinWidth(t),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){if(!this._dataSource)return!1;var t=this._dataSource.pageIndex(),e=(0,u.isDefined)(this._pageIndex)&&t<=this._pageIndex;return this._pageIndex=t,e},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,n=t.offset().top-(e?e.offset().top:0),o=(0,i.default)(E).outerHeight(),r=e?Math.min(e.outerHeight(),o):o,a=Math.max(n,r-n-t.outerHeight());return Math.min(.5*r,a)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return"this"===this.option("valueExpr")&&(0,u.isObject)(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"dropDownOptions":"dropDownOptions.width"===t.fullName&&this._dimensionChanged(),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(_.default,C.default);(0,s.default)("dxDropDownList",T);var D=T;e.default=D,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=n(3),r=u(n(7)),a=u(n(18)),s=u(n(145)),l=u(n(45));function u(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return(f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(h,t);var e,n,s,u=g(h);function h(){return c(this,h),u.apply(this,arguments)}return e=h,(n=[{key:"_attachEvents",value:function(t){var e=this.editor;t.option("onClick",(function(t){!e.option("openOnFieldClick")&&e._openHandler(t)})),r.default.on(t.$element(),"mousedown",(function(t){e.$element().is(".dx-state-focused")&&t.preventDefault()}))}},{key:"_create",value:function(){var t=this.editor,e=(0,i.default)("<div>"),n=this._getOptions();this._addToContainer(e);var r=t._createComponent(e,l.default,(0,o.extend)({},n,{elementAttr:{"aria-label":a.default.format("dxDropDownEditor-selectLabel")}}));return this._legacyRender(t.$element(),e,n.visible),{$element:e,instance:r}}},{key:"_getOptions",value:function(){var t=this.editor,e=this._isVisible();return{focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:t.option("readOnly"),visible:e,template:t._getTemplateByOption("dropDownButtonTemplate")}}},{key:"_isVisible",value:function(){var t=this.editor;return f(v(h.prototype),"_isVisible",this).call(this)&&t.option("showDropDownButton")}},{key:"_legacyRender",value:function(t,e,n){t.toggleClass("dx-dropdowneditor-button-visible",n),e&&(e.removeClass("dx-button"),e.addClass("dx-dropdowneditor-button"))}},{key:"update",value:function(){if(f(v(h.prototype),"update",this).call(this)){var t=this.editor,e=this.instance,n=t.$element(),i=this._getOptions();e&&e.option(i),this._legacyRender(n,e&&e.$element(),i.visible)}}}])&&d(e.prototype,n),s&&d(e,s),h}(s.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=d(n(86)),o=n(29),r=n(6),a=n(2),s=n(3),l=d(n(143)),u=n(107),h=d(n(141)),c=n(8);function d(t){return t&&t.__esModule?t:{default:t}}function f(t){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=(0,s.extend)({},l.default,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new u.DataSource({store:new h.default(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=(0,o.compileGetter)(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=(0,o.compileGetter)(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new c.Deferred;return t=this._unwrappedValue(t),(0,a.isDefined)(t)?(this._loadSingle(this._valueGetterExpr(),t).done(function(n){this._isValueEquals(this._valueGetter(n),t)?e.resolve(n):e.reject()}.bind(this)).fail((function(){e.reject()})),e.promise()):e.reject().promise()},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){return(t=(0,a.isDefined)(t)?t:this._getCurrentValue())&&this._dataSource&&"this"===this._valueGetterExpr()&&(t=this._getItemKey(t)),i.default.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var n={},i=0,o=e.length;i<o;i++)n[e[i]]=t[e[i]];return n}return e&&"object"===f(t)&&(t=t[e]),t},_isValueEquals:function(t,e){var n=this._dataSource&&this._dataSource.key(),i=this._compareValues(t,e);return!i&&n&&(0,a.isDefined)(t)&&(0,a.isDefined)(e)&&(i=Array.isArray(n)?this._compareByCompositeKey(t,e,n):this._compareByKey(t,e,n)),i},_compareByCompositeKey:function(t,e,n){var i=a.isObject;if(!i(t)||!i(e))return!1;for(var o=0,r=n.length;o<r;o++)if(t[n[o]]!==e[n[o]])return!1;return!0},_compareByKey:function(t,e,n){var o=i.default.unwrap,a=(0,r.ensureDefined)(o(t[n]),t),s=(0,r.ensureDefined)(o(e[n]),e);return this._compareValues(a,s)},_compareValues:function(t,e){return(0,o.toComparable)(t,!0)===(0,o.toComparable)(e,!0)},_initDynamicTemplates:r.noop,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr");return(0,a.isString)(t)&&"this"!==t||(0,a.isFunction)(t)?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}});e.default=p,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=r(n(19)),o=r(n(447));function r(t){return t&&t.__esModule?t:{default:t}}(0,i.default)("dxDateBox",o.default);var a=o.default;e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(13),o=n(2),r=n(44),a=n(3),s=n(52),l=v(n(7)),u=n(448),h=v(n(58)),c=n(172),d=n(171),f=v(n(449)),p=v(n(75)),g=v(n(17)),m=v(n(24));function v(t){return t&&t.__esModule?t:{default:t}}var y=f.default.inherit({_supportedKeys:function(t){var e=this,n=this.callBase(t),o=function(t){var o=n[(0,i.normalizeKeyName)(t)];return o&&o.apply(e,[t])},r=function(t,n){return e._shouldUseOriginalHandler(t)?o.apply(e,[t]):n.apply(e,[t])};return(0,a.extend)({},n,{del:function(t){return r(t,(function(t){e._revertPart(1),e._isAllSelected()||t.preventDefault()}))},backspace:function(t){return r(t,(function(t){e._revertPart(-1),e._isAllSelected()||t.preventDefault()}))},home:function(t){return r(t,(function(t){e._selectFirstPart(),t.preventDefault()}))},end:function(t){return r(t,(function(t){e._selectLastPart(),t.preventDefault()}))},escape:function(t){return r(t,(function(t){e._revertChanges(t)}))},enter:function(t){return r(t,(function(t){e._enterHandler(t)}))},leftArrow:function(t){return r(t,(function(t){e._selectNextPart(-1),t.preventDefault()}))},rightArrow:function(t){return r(t,(function(t){e._selectNextPart(1),t.preventDefault()}))},upArrow:function(t){return r(t,(function(t){e._upDownArrowHandler(1),t.preventDefault()}))},downArrow:function(t){return r(t,(function(t){e._upDownArrowHandler(-1),t.preventDefault()}))}})},_shouldUseOriginalHandler:function(t){var e=this.option("opened")&&t&&-1===["backspace","del"].indexOf((0,i.normalizeKeyName)(t));return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler:function(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),n=this._getActivePartValue()-e;this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+t,!0)},_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey:function(t){var e=t.originalEvent.data||t.originalEvent.key;return"string"===typeof e&&1===e.length&&!t.ctrl&&!t.alt},_isSingleDigitKey:function(t){var e,n=null===(e=t.originalEvent)||void 0===e?void 0:e.data;return 1===(null===n||void 0===n?void 0:n.length)&&parseInt(n,10)},_useBeforeInputEvent:function(){var t=g.default.real();return t.android&&t.version[0]>4},_keyboardHandler:function(t){var e=this,n=t.originalEvent.key,i=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(m.default.chrome&&"Process"===t.key&&0===t.code.indexOf("Digit")?(n=t.code.replace("Digit",""),this._processInputKey(n),this._maskInputHandler=function(){e._renderSelectedPart()}):this._isSingleCharKey(t)&&(this._processInputKey(n),t.originalEvent.preventDefault())),i},_maskBeforeInputHandler:function(t){var e=this;this._maskInputHandler=null;var n=t.originalEvent.inputType;"insertCompositionText"===n&&(this._maskInputHandler=function(){e._renderSelectedPart()});var i="deleteContentBackward"===n;if(i||"deleteContentForward"===n){var o=i?-1:1;this._maskInputHandler=function(){e._revertPart(),e._selectNextPart(o)}}if(this._useMaskBehavior()&&this._isSingleCharKey(t)){var r=t.originalEvent.data;return this._processInputKey(r),t.preventDefault(),!0}},_keyPressHandler:function(t){var e=t.originalEvent;"insertCompositionText"===(null===e||void 0===e?void 0:e.inputType)&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey:function(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected:function(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern:function(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=(0,o.isString)(t)&&!h.default._getPatternByFormat(t);return this._formatPattern=e?t:(0,d.getFormat)((function(e){return h.default.format(e,t)})),this._formatPattern},_setNewDateIfEmpty:function(){if(!this._maskValue){var t="time"===this.option("type")?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached:function(t){var e=String(t).length,n=this._getActivePartProp("pattern").length,i=1===n?e:Math.min(n,e),o=this._searchValue.length===i,r=parseInt(this._searchValue+"0")>t;return o||r},_searchNumber:function(t){var e=this._getActivePartLimits().max,n=String(e).length;this._searchValue=(this._searchValue+t).substr(-n),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(1)},_searchString:function(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),n=this._searchValue+t.toLowerCase(),i=e.max-e.min,o=0;o<=i;o++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(o+1),0===this._getActivePartProp("text").toLowerCase().indexOf(n))return void(this._searchValue=n);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue:function(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior:function(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo:function(){this._regExpInfo=(0,c.getRegExpInfo)(this._getFormatPattern(),h.default);var t=this._regExpInfo.regexp.flags,e=p.default.convertDigits(this._regExpInfo.regexp.source,!1);this._regExpInfo.regexp=RegExp(e,t)},_initMaskState:function(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts:function(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=(0,u.renderDateParts)(t,this._regExpInfo),this._isFocused()&&this._selectNextPart())}},_detachMaskEvents:function(){l.default.off(this._input(),".dateBoxMask")},_attachMaskEvents:function(){var t=this;l.default.on(this._input(),(0,i.addNamespace)("dxclick","dateBoxMask"),this._maskClickHandler.bind(this)),l.default.on(this._input(),(0,i.addNamespace)("paste","dateBoxMask"),this._maskPasteHandler.bind(this)),l.default.on(this._input(),(0,i.addNamespace)("drop","dateBoxMask"),(function(){t._renderSelectedPart()})),l.default.on(this._input(),(0,i.addNamespace)("compositionend","dateBoxMask"),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&l.default.on(this._input(),(0,i.addNamespace)("beforeinput","dateBoxMask"),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart:function(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart:function(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(-1))},_selectFirstPart:function(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(1))},_onMouseWheel:function(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?1:-1,t)},_selectNextPart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){t&&(this._initialMaskValue=new Date(this._maskValue));var e=(0,s.fitIntoRange)(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var n=0===e&&t<0||e===this._dateParts.length-1&&t>0;if(!n)return void this._selectNextPart(t>=0?t+1:t-1);e=this._activePartIndex}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern:function(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits:function(t){return this._getActivePartProp("limits")(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue:function(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return(0,o.isFunction)(e)?e(t):t[e]()},_addLeadingZeroes:function(t){var e=this._searchValue.match(/^0+/),n=this._getActivePartLimits(),i=String(n.max).length;return((e&&e[0]||"")+String(t)).substr(-i)},_setActivePartValue:function(t,e){e=e||this._maskValue;var n=this._getActivePartProp("setter"),i=this._getActivePartLimits();t=(0,s.inRange)(t,i.min,i.max)?t:t%10,t=this._addLeadingZeroes((0,s.fitIntoRange)(t,i.min,i.max)),(0,o.isFunction)(n)?n(e,t):e[n](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp:function(t){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][t]},_loadMaskValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue:function(){var t=this._maskValue&&new Date(this._maskValue);t&&"date"===this.option("type")&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges:function(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText:function(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease:function(t,e){this._setNewDateIfEmpty();var n=this._getActivePartLimits(e),i=n.max,o=n.min,r=i-o;1===r&&r++;var a=t+this._getActivePartValue();a>i?a=this._applyLimits(a,{limitBase:o,limitClosest:i,limitDelta:r}):a<o&&(a=this._applyLimits(a,{limitBase:i,limitClosest:o,limitDelta:r})),this._setActivePartValue(a)},_applyLimits:function(t,e){var n=e.limitBase,i=e.limitClosest,o=(t-i)%e.limitDelta;return o?n+o-1*(0,s.sign)(o):i},_maskClickHandler:function(){this.option("text")&&(this._activePartIndex=(0,u.getDatePartIndexByPosition)(this._dateParts,this._caret().start),this._caret(this._getActivePartProp("caret")))},_maskCompositionEndHandler:function(t){var e=this;if(m.default.msie&&this._isSingleDigitKey(t)){var n=t.originalEvent.data;this._processInputKey(n)}else this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=function(){e._renderSelectedPart()}},_maskPasteHandler:function(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),(0,r.clipboardText)(t)),n=h.default.parse(e,this._getFormatPattern());n&&this._isDateValid(n)&&(this._maskValue=n,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:function(t){return(0,o.isDate)(t)&&!isNaN(t)},_isValueDirty:function(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent:function(){this._clearSearchValue(),this._isValueDirty()&&l.default.trigger(this._input(),"change")},_enterHandler:function(t){this._fireChangeEvent(),this._selectNextPart(1),t.preventDefault()},_focusOutHandler:function(t){this.callBase(t),this._useMaskBehavior()&&!t.isDefaultPrevented()&&(this._fireChangeEvent(),this._selectFirstPart(t))},_valueChangeEventHandler:function(t){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),e?null===this._maskValue&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged:function(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState:function(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset:function(){this.callBase(),this._clearMaskState(),this._activePartIndex=0},_clean:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}});e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.getDatePartIndexByPosition=e.renderDateParts=void 0;var i=n(172),o=n(3),r=n(52),a=n(6),s=function(t){return t.getMonth()+1},l=function(t,e){var n=t.getDate(),i=d("M",t),o=(0,r.fitIntoRange)(parseInt(e),i.min,i.max);t.setMonth(o-1,1);var a=d("dM",t),s=a.min,l=a.max,u=(0,r.fitIntoRange)(n,s,l);t.setDate(u)},u={a:function(t){return t.getHours()<12?0:1},E:"getDay",y:"getFullYear",M:s,L:s,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},h=(0,o.extend)({},(0,i.getPatternSetters)(),{a:function(t,e){var n=t.getHours();n>=12!==!!parseInt(e)&&t.setHours((n+12)%24)},d:function(t,e){e>d("dM",t).max&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:function(t,e){var n=t.getHours()>=12;t.setHours(+e%12+(n?12:0))},M:l,L:l,E:function(t,e){e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:function(t,e){var n=t.getFullYear(),i=String(e).length,o=String(d("y",t).max).length,r=parseInt(String(n).substr(0,o-i)+e);t.setFullYear(r)}}),c=function(t){return u[t]||function(){return t}};e.renderDateParts=function(t,e){for(var n=e.regexp.exec(t),i=0,o=0,r=[],s=1;s<n.length;s++){o=(i=o)+n[s].length;var l=e.patterns[s-1].replace(/^'|'$/g,""),u=c(l[0]);r.push({index:s-1,isStub:l===n[s],caret:{start:i,end:o},pattern:l,text:n[s],limits:d.bind(void 0,l[0]),setter:h[l[0]]||a.noop,getter:u})}return r};var d=function(t,e,n){var i={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return i[n||t]||i.getAmPm};e.getDatePartIndexByPosition=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].caret.end>=e;if(!t[n].isStub&&i)return n}return null}},function(t,e,n){"use strict";e.default=void 0;var i=n(14),o=S(n(19)),r=n(2),a=n(44),s=n(5),l=n(121),u=n(3),h=n(56),c=S(n(17)),d=S(n(46)),f=S(n(91)),p=S(n(99)),g=S(n(81)),m=S(n(248)),v=S(n(58)),y=S(n(18)),_=S(n(250)),b=S(n(455)),x=S(n(458)),w=S(n(459)),C=S(n(461));function S(t){return t&&t.__esModule?t:{default:t}}var k=(0,i.getWindow)(),E={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},I={date:"date",datetime:"datetime",time:"time"},T="Calendar",D="DateView",M="Native",O="CalendarWithTime",P="List",A={Calendar:_.default,DateView:b.default,Native:x.default,CalendarWithTime:w.default,List:C.default},R=m.default.inherit({_supportedKeys:function(){return(0,u.extend)(this.callBase(),this._strategy.supportedKeys())},getWidth:function(){return this.$element().outerWidth()},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:E.calendar,invalidDateMessage:y.default.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:y.default.format("validation-range"),applyButtonText:y.default.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=c.default.real().platform;return"ios"===t||"android"===t},options:{pickerType:E.native}},{device:function(t){var e=c.default.real(),n=e.platform,i=e.version;return"generic"===n&&"desktop"!==t.deviceType||"android"===n&&(0,l.compare)(i,[4,4])<0},options:{pickerType:E.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=(0,u.extend)({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t!==E.list||e!==I.datetime&&e!==I.date||(t=E.calendar),e===I.time&&t===E.calendar&&(t=E.list),this.option("showDropDownButton","generic"!==c.default.real().platform||t!==E.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option((0,u.extend)({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=A[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),n="";return/d|M|Y/g.test(t)&&(n+=I.date),e&&(n+=I.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===E.rollers?D:e===E.native?M:t===I.date?T:t===I.datetime?O:P},_initMarkup:function(){this.$element().addClass("dx-datebox"),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){var t;this.callBase(),this.$element().toggleClass("dx-auto-width",!this.option("width")),null===(t=this._strategy)||void 0===t||t._dimensionChanged()},_refreshFormatClass:function(){var t=this.$element();(0,s.each)(I,(function(e,n){t.removeClass("dx-datebox-"+n)})),t.addClass("dx-datebox-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();(0,s.each)(E,(function(e,n){t.removeClass("dx-datebox-"+n)})),t.addClass("dx-datebox-"+this._pickerType)},_formatValidationIcon:function(){if((0,i.hasWindow)()){var t=this._input().get(0),e=this.option("rtlEnabled"),n=this._getClearButtonWidth(),o=this._getLongestElementDimensions(),r=parseFloat(k.getComputedStyle(t).width)-n,a=o.width>r,s=t.style;this.$element().toggleClass("dx-show-invalid-badge",!a),a?(void 0===this._storedPadding&&(this._storedPadding=e?o.leftPadding:o.rightPadding),e?s.paddingLeft=0:s.paddingRight=0):e?s.paddingLeft=this._storedPadding+"px":s.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&""===this._input().val()){var e=this.$element().find(".dx-clear-button-area").get(0);t=parseFloat(k.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=v.default.format(p.default.getLongestDate(t,v.default.getMonthNames(),v.default.getDayNames()),t),n=this._input(),i=n.get(0),o=(0,a.createTextElementHiddenCopy)(n,e),r=void 0!==this._storedPadding?this._storedPadding:0;o.appendTo(this.$element());var s=parseFloat(k.getComputedStyle(o.get(0)).width),l=parseFloat(k.getComputedStyle(i).paddingRight),u=parseFloat(k.getComputedStyle(i).paddingLeft),h=s+u+l+r;return o.remove(),{width:h,leftPadding:u,rightPadding:l}},_getKeyboardListeners:function(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup._wrapper().addClass("dx-datebox-wrapper"),this._renderPopupWrapper()},_popupConfig:function(){var t=this.callBase();return(0,u.extend)(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=(0,u.extend)({},I,E);(0,s.each)(e,function(e,n){t.removeClass("dx-datebox-wrapper-"+n)}.bind(this)),this._popup._wrapper().addClass("dx-datebox-wrapper-"+this.option("type")).addClass("dx-datebox-wrapper-"+this._pickerType)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupHiddenHandler:function(){this.callBase(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===E.rollers)return!0;var t=c.default.real().platform;return this._isNativeType()&&("ios"===t||"android"===t)?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),n=p.default.SUBMIT_FORMATS_MAP[this.option("type")],i=e?g.default.serializeDate(t,e):p.default.toStandardDateFormat(t,n);this._getSubmitElement().val(i)},_getDisplayedText:function(t){var e,n=this.option("mode");if("text"===n){var i=this._strategy.getDisplayFormat(this.option("displayFormat"));e=v.default.format(t,i)}else{var o=this._getFormatByMode(n);e=o?v.default.format(t,o):p.default.toStandardDateFormat(t,n)}return e},_getFormatByMode:function(t){return(0,h.inputType)(t)?null:p.default.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var e=this.option("text"),n=this.dateOption("value");if(e!==this._getDisplayedText(n)){var i=this._getParsedDate(e),o=n||this._getDateByDefault(),r=this.option("type"),a=p.default.mergeDates(o,i,r),s=i&&"time"===r?a:i;if(this._applyInternalValidation(s)){var l=this._getDisplayedText(a);o&&a&&o.getTime()===a.getTime()&&l!==e?this._renderValue():this.dateValue(a,t)}}else this._applyInternalValidation(n)},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),n=this._strategy.getParsedText(t,e);return(0,r.isDefined)(n)?n:void 0},_applyInternalValidation:function(t){var e=!!this.option("text")&&null!==t,n=!!t&&(0,r.isDate)(t)&&!isNaN(t.getTime()),i=n&&f.default.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),o=!e&&!t||i,a="";return n?i||(a=this.option("dateOutOfRangeMessage")):a=this.option("invalidDateMessage"),this.option({isValid:o,validationError:o?null:{editorSpecific:!0,message:a}}),o},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value");return(e&&e.getTime())!==(t&&t.getTime())},_isTextChanged:function(t){return this.option("text")!==(t&&this._getDisplayedText(t)||"")},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy(),this._strategy.renderOpenedState()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===I.time?y.default.format("dxDateBox-simulatedDataPickerTitleTime"):e===I.date||e===I.datetime?y.default.format("dxDateBox-simulatedDataPickerTitleDate"):""},_renderPlaceholder:function(){this._popup&&this._popup.option("title",this._getPopupTitle()),this.callBase()},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue();this._applyInternalValidation(e)&&this.dateValue(e,t.event),this.callBase()},_dispose:function(){this._strategy&&this._strategy.dispose(),this.callBase()},_isNativeType:function(){return this._pickerType===E.native},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this._renderPlaceholder();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");return this.option("dateSerializationFormat")&&(0,d.default)().forceIsoDateParsing?this.option("dateSerializationFormat"):(0,r.isNumeric)(t)?"number":(0,r.isString)(t)?g.default.getDateSerializationFormat(t):void 0},_updateValue:function(t){this.callBase(),this._applyInternalValidation(t||this.dateOption("value"))},dateValue:function(t,e){var n=this._isValueChanged(t);return n&&e&&this._saveValueChangeEvent(e),n||(this._isTextChanged(t)?this._updateValue(t):""===this.option("text")&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(1===arguments.length)return g.default.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return g.default.serializeDate(t,e)},reset:function(){this.callBase(),this._updateValue(this.dateOption("value"))}});(0,o.default)("dxDateBox",R);var B=R;e.default=B,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(451))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=S(n(1)),o=S(n(50)),r=S(n(19)),a=n(6),s=n(2),l=n(52),u=n(3),h=S(n(45)),c=S(n(82)),d=S(n(251)),f=S(n(452)),p=S(n(453)),g=n(41),m=S(n(24)),v=S(n(91)),y=S(n(81)),_=S(n(17)),b=S(n(57)),x=n(14),w=S(n(18)),C=n(132);function S(t){return t&&t.__esModule?t:{default:t}}var k={month:3,year:2,decade:1,century:0},E="month",I="year",T="decade",D="century",M=m.default.msie&&parseInt(m.default.version)<=11,O=c.default.inherit({_activeStateUnit:".dx-calendar-cell",_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:E,maxZoomLevel:E,minZoomLevel:D,showTodayButton:!1,cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,hasFocus:function(t){return t.hasClass("dx-state-focused")}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===_.default.real().deviceType&&!_.default.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return(0,u.extend)(this.callBase(),{rightArrow:function(t){t.preventDefault(),t.ctrlKey?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),t.ctrlKey?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),t.ctrlKey)this._navigateUp();else{if(b.default.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),t.ctrlKey)this._navigateDown();else{if(b.default.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var e=this.option("zoomLevel"),n=this.option("currentDate"),i=this._dateOption("min");if(!this._view.isDateDisabled(n)){var o=v.default.sameView(e,n,i)?i:v.default.getViewFirstCellDate(e,n);this._moveToClosestAvailableDate(o)}},end:function(t){t.preventDefault();var e=this.option("zoomLevel"),n=this.option("currentDate"),i=this._dateOption("max");if(!this._view.isDateDisabled(n)){var o=v.default.sameView(e,n,i)?i:v.default.getViewLastCellDate(e,n);this._moveToClosestAvailableDate(o)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:a.noop,enter:function(t){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._dateValue(e,t)}}else this._navigateDown()}})},_getSerializationFormat:function(t){var e=this.option(t||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):(0,s.isNumeric)(e)?"number":(0,s.isString)(e)?y.default.getDateSerializationFormat(e):void 0},_convertToDate:function(t,e){return y.default.deserializeDate(t)},_dateValue:function(t,e){e&&this._saveValueChangeEvent(e),this._dateOption("value",t)},_dateOption:function(t,e){if(1===arguments.length)return this._convertToDate(this.option(t),t);var n=this._getSerializationFormat(t);this.option(t,y.default.serializeDate(e,n))},_shiftDate:function(t,e,n,i){switch(t){case E:e.setDate(e.getDate()+n*i);break;case I:e.setMonth(e.getMonth()+n*i);break;case T:e.setFullYear(e.getFullYear()+n*i);break;case D:e.setFullYear(e.getFullYear()+10*n*i)}},_moveCurrentDateByOffset:function(t){var e=this.option("currentDate"),n=new Date(e),i=this.option("zoomLevel");this._shiftDate(i,n,t,1);for(var o=this._getMaxDate(),r=this._getMinDate(),a=this._areDatesInNeighborView(i,n,e),s=(0,l.inRange)(n,r,o)&&a,u=new Date(n);s;){if(s&&!this._view.isDateDisabled(u)){n=u;break}this._shiftDate(i,u,t,1),a=this._areDatesInNeighborView(i,u,e),s=(0,l.inRange)(u,r,o)&&a}this._view.isDateDisabled(e)||this._view.isDateDisabled(n)?this._waitRenderView(t>0?1:-1):this.option("currentDate",n)},_areDatesInSameView:function(t,e,n){switch(t){case E:return e.getMonth()===n.getMonth();case I:return e.getYear()===n.getYear();case T:return parseInt(e.getYear()/10)===parseInt(n.getYear()/10);case D:return parseInt(e.getYear()/100)===parseInt(n.getYear()/100)}},_areDatesInNeighborView:function(t,e,n){switch(t){case E:return function(t,e){var n=Math.abs(t-e);return Math.min(n,12-n)}(e.getMonth(),n.getMonth())<=1;case I:return Math.abs(e.getYear()-n.getYear())<=1;case T:return Math.abs(e.getYear()-n.getYear())<=10;case D:return Math.abs(e.getYear()-n.getYear())<=100}},_moveToClosestAvailableDate:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),i=v.default.createDate(n),o=this.option("zoomLevel"),r=!this._isDateNotAvailable(i),a=r,s=r,l=v.default.createDate(i),u=v.default.createDate(i);do{if(a){i=l;break}if(s){i=u;break}this._shiftDate(o,l,1,1),this._shiftDate(o,u,1,-1),t=this._areDatesInSameView(o,l,n),e=this._areDatesInSameView(o,u,n),a=t&&!this._isDateNotAvailable(l),s=e&&!this._isDateNotAvailable(u)}while(t||e);this.option("currentDate",i)},_isDateNotAvailable:function(t){var e=this._getMaxDate(),n=this._getMinDate();return!(0,l.inRange)(t,n,e)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),n=this.option("zoomLevel");k[e]<k[t]||(k[n]>k[e]?this.option("zoomLevel",e):k[n]<k[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",t)},_getNormalizedDate:function(t){return t=v.default.normalizeDate(t,this._getMinDate(),this._getMaxDate()),(0,s.isDefined)(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new C.FunctionTemplate((function(t){var e=t.model;(0,i.default)(t.container).append((0,i.default)("<span>").text(e&&e.text||String(e)))}))}),this.callBase()},_updateCurrentDate:function(t){if(b.default.isAnimating(this._$viewsWrapper)&&b.default.stop(this._$viewsWrapper,!0),this._getMinDate()>this._getMaxDate())this.option("currentDate",new Date);else{var e=this._getNormalizedDate(t);if(t.getTime()===e.getTime()){var n=this._getViewsOffset(this._view.option("date"),e);0!==n&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(n=0),this._view&&0!==n&&!this._suppressNavigation?this._navigate(n,e):(this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e))}else this.option("currentDate",v.default.createDate(e))}},_setViewContoured:function(t){this.option("hasFocus")(this._focusTarget())&&this._view.option("contouredDate",t)},_getMinDate:function(){return this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min},_getMaxDate:function(){return this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max},_getViewsOffset:function(t,e){var n,i=this.option("zoomLevel");if(i===E)return this._getMonthsOffset(t,e);switch(i){case D:n=100;break;case T:n=10;break;default:n=1}return parseInt(e.getFullYear()/n)-parseInt(t.getFullYear()/n)},_getMonthsOffset:function(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())},_waitRenderView:function(t){var e=this;if(!this._alreadyViewRender){this._alreadyViewRender=!0;var n=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(n),this._waitRenderViewTimeout=setTimeout((function(){e._alreadyViewRender=!1}))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,e){var n=(e=this._getDate(e||this.option("currentDate"))).getDate(),i=v.default.getDifferenceInMonth(this.option("zoomLevel"))*t;e.setDate(1),e.setMonth(e.getMonth()+i);var o=v.default.getLastMonthDate(e).getDate();return e.setDate(n>o?o:n),e},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var t=this.$element();t.addClass("dx-calendar"),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderNavigator(),t.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=(0,i.default)("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=(0,i.default)("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners:function(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass("dx-calendar-view-"+this.option("zoomLevel"));var t=this.option("currentDate");if(this._view=this._renderSpecificView(t),(0,x.hasWindow)()){var e=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(e)?this._renderSpecificView(e):null;var n=this._getDateByOffset(1,t);n.setDate(1),this._afterView=this._isViewAvailable(n)?this._renderSpecificView(n):null}this._translateViews()},_renderSpecificView:function(t){var e=p.default[this.option("zoomLevel")],n=(0,i.default)("<div>").appendTo(this._$viewsWrapper),o=this._viewConfig(t);return this._createComponent(n,e,o)},_viewConfig:function(t){var e=this.option("disabledDates");return e=(0,s.isFunction)(e)?this._injectComponent(e.bind(this)):e,{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:e,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel()}},_injectComponent:function(t){var e=this;return function(n){return(0,u.extend)(n,{component:e}),t(n)}},_isViewAvailable:function(t){var e=this.option("zoomLevel"),n=v.default.getViewMinBoundaryDate(e,this._getMinDate()),i=v.default.getViewMaxBoundaryDate(e,this._getMaxDate());return v.default.dateInRange(t,n,i)},_translateViews:function(){(0,g.move)(this._view.$element(),{left:0,top:0}),this._beforeView&&(0,g.move)(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&(0,g.move)(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(t){return 100*t*(this.option("rtlEnabled")&&!m.default.msie?-1:1)+"%"},_cellClickHandler:function(t){var e=this.option("zoomLevel"),n=v.default.getViewDown(e),i=this._isMaxZoomLevel();if(n&&!i)this._navigateDown(t.event.currentTarget);else{var o=this._updateTimeComponent(t.value);this._dateValue(o,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var e=v.default.createDate(t),n=this._dateOption("value");return n&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),e.setMilliseconds(n.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var n=v.default.getViewDown(e);if(n){var o=this._view.option("contouredDate")||this._view.option("date");t&&(o=(0,i.default)(t).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",o),this.option("zoomLevel",n),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new f.default((0,i.default)("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(t){var e=this._getDateByOffset(t.direction,this.option("currentDate"));this._moveToClosestAvailableDate(e),this._updateNavigatorCaption(-t.direction*this._getRtlCorrection())},_navigateUp:function(){var t=this.option("zoomLevel"),e=v.default.getViewUp(t);e&&!this._isMinZoomLevel(t)&&(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var e=this._getMinDate(),n=this._getMaxDate();return v.default.sameView(t,e,n)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!(0,s.isDefined)(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!(0,s.isDefined)(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),d.default,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){b.default.stop(this._$viewsWrapper,!0),t.event.maxLeftOffset=this._getRequiredView("next")?1:0,t.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(t){var e,n=this.option("rtlEnabled");return"next"===t?e=n?this._beforeView:this._afterView:"prev"===t&&(e=n?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(t){var e=t.event.offset;(0,g.move)(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(t){var e=t.event.targetOffset,n=e?e/Math.abs(e):0;if(0!==n){var i=this._getDateByOffset(-n*this._getRtlCorrection());this._isDateInInvalidRange(i)&&(i=n>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",i)}else this._animateWrapper(0,250)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=this.$element().width()),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var e=this._view;t>.5&&this._beforeView?e=this._beforeView:t<-.5&&this._afterView&&(e=this._afterView),this._navigator.option("text",e.getNavigatorCaption())},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var e=this._getMinDate(),n=this._getMaxDate(),i=v.default.normalizeDate(t,e,n);return i===e||i===n}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var e=this._createComponent((0,i.default)("<a>"),h.default,{focusStateEnabled:!1,text:w.default.format("dxCalendar-todayButtonText"),onClick:function(){this._toTodayView()}.bind(this),integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=(0,i.default)("<div>").addClass("dx-calendar-footer").append(e),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",t)},_renderSubmitElement:function(){this._$submitElement=(0,i.default)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var e=this._convertToDate(t);this._getSubmitElement().val(y.default.serializeDate(e,"yyyy-MM-dd"))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return b.default.stop(this._view.$element(),!0),this._popAnimationView(this._view,.6,1,250).promise()},_popAnimationView:function(t,e,n,i){return b.default.animate(t.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:n,opacity:n},duration:i})},_navigate:function(t,e){if(0!==t&&1!==Math.abs(t)&&this._isViewAvailable(e)){var n=this._renderSpecificView(e);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=n):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=n),this._translateViews()}var i=-this._getRtlCorrection()*(t>0?1:t<0?-1:0)*this._viewWidth();this._$viewsWrapper.position().left!==i&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,e):this._animateWrapper(i,250).done(this._wrapperAnimationEndHandler.bind(this,t,e)))},_animateWrapper:function(t,e){return b.default.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:e})},_getDate:function(t){var e=v.default.createDate(t);return M&&(0,s.isDate)(t)&&e.setMilliseconds(0),e},_toTodayView:function(){var t=new Date;this._isMaxZoomLevel()?this._dateOption("value",t):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",t),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(t,e){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e)},_rearrangeViews:function(t){var e,n,i;if(0!==t&&(t<0?(e=1,n="_beforeView",i="_afterView"):(e=-1,n="_afterView",i="_beforeView"),this[n])){var o=this[n].option("date");this[i]&&this[i].$element().remove(),t===e?this[i]=this._view:(this[i]=this._renderSpecificView(this._getDateByOffset(e,o)),this._view.$element().remove()),this._view=this[n];var r=this._getDateByOffset(-e,o);this[n]=this._isViewAvailable(r)?this._renderSpecificView(r):null}},_resetLocation:function(){(0,g.move)(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(t){var e=t?new Date(t):null;this._view.option("value",e),this._beforeView&&this._beforeView.option("value",e),this._afterView&&this._afterView.option("value",e)},_updateAriaSelected:function(t,e){t=t||this._dateOption("value");var n=this._view._getCellByDate(e),i=this._view._getCellByDate(t);this.setAria("selected",void 0,n),this.setAria("selected",!0,i),t&&this.option("currentDate").getTime()===t.getTime()&&this._updateAriaId(t)},_updateAriaId:function(t){t=t||this.option("currentDate");var e="dx-"+new o.default,n=this._view._getCellByDate(t);this.setAria("id",e,n),this.setAria("activedescendant",e),this._onContouredChanged(e)},_suppressingNavigation:function(t,e){this._suppressNavigation=!0,t.apply(this,e),delete this._suppressNavigation},_optionChanged:function(t){var e=t.value,n=t.previousValue;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(n)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass("dx-calendar-view-"+n),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":e=this._convertToDate(e),n=this._convertToDate(n),this._updateAriaSelected(e,n),this.option("currentDate",(0,s.isDefined)(e)?v.default.createDate(e):new Date),this._updateViewsValue(e),this._setSubmitValue(e),this.callBase(t);break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"hasFocus":break;default:this.callBase(t)}}});(0,r.default)("dxCalendar",O);var P=O;e.default=P,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=s(n(1)),o=n(3),r=s(n(47)),a=s(n(45));function s(t){return t&&t.__esModule?t:{default:t}}var l=r.default.inherit({_getDefaultOptions:function(){return(0,o.extend)(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var t=this,e=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent((0,i.default)("<a>"),a.default,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(n){t._clickAction({direction:-e,event:n})},integrationOptions:{}});var n=this._prevButton.$element().addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent((0,i.default)("<a>"),a.default,{focusStateEnabled:!1,icon:"chevronright",onClick:function(n){t._clickAction({direction:e,event:n})},integrationOptions:{}});var o=this._nextButton.$element().addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent((0,i.default)("<a>").addClass("dx-calendar-caption-button"),a.default,{focusStateEnabled:!1,onClick:function(e){t._captionClickAction({event:e})},integrationOptions:{}});var r=this._caption.$element();this.$element().append(n,r,o)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(t,e){var n=this["_"+t+"Button"];n&&(n.option("disabled",e),n.$element().toggleClass("dx-calendar-disabled-navigator-link",e))},_optionChanged:function(t){switch(t.name){case"text":this._renderCaption();break;default:this.callBase(t)}}});e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=c(n(454)),r=n(6),a=c(n(91)),s=n(3),l=c(n(58)),u=c(n(81)),h=n(2);function c(t){return t&&t.__esModule?t:{default:t}}var d={month:o.default.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat("dx-calendar-other-view")).addClass("dx-calendar-other-month")},_renderFocusTarget:r.noop,getCellAriaLabel:function(t){return l.default.format(t,"longdate")},_renderHeader:function(){var t=(0,i.default)("<tr>"),e=(0,i.default)("<thead>").append(t);this._$table.prepend(e);for(var n=0,o=this.option("colCount");n<o;n++)this._renderHeaderCell(n,t)},_renderHeaderCell:function(t,e){var n=this._getDayCaption(this._getFirstDayOfWeek()+t),o=n.full,r=n.abbreviated,a=(0,i.default)("<th>").attr({scope:"col",abbr:o}).text(r);this._appendCell(e,a)},getNavigatorCaption:function(){return l.default.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=new Date;return a.default.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),n=this.option("max");return!a.default.dateInRange(t,e,n,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_getCellText:function(t){return l.default.format(t,"d")},_getDayCaption:function(t){var e=t%this.option("colCount");return{full:l.default.getDayNames()[e],abbreviated:l.default.getDayNames("abbreviated")[e]}},_getFirstCellData:function(){var t=a.default.getFirstMonthDate(this.option("date")),e=this._getFirstDayOfWeek()-t.getDay(),n=this.option("colCount");return e>=0&&(e-=n),t.setDate(t.getDate()+e),t},_getNextCellData:function(t){return(t=a.default.createDate(t)).setDate(t.getDate()+1),t},_getFirstDayOfWeek:function(){return(0,h.isDefined)(this.option("firstDayOfWeek"))?this.option("firstDayOfWeek"):l.default.firstDayOfWeekIndex()},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(u.default.serializeDate(t,a.default.getShortDateFormat()),"']"))},isBoundary:function(t){return a.default.sameMonthAndYear(t,this.option("min"))||a.default.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){if(t.some((function(t){return a.default.sameDate(t,e.date)})))return!0}}}),year:o.default.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){return a.default.sameMonthAndYear(t,new Date)},_isDateOutOfRange:function(t){return!a.default.dateInRange(t,a.default.getFirstMonthDate(this.option("min")),a.default.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(t){return l.default.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),e=a.default.createDate(t);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(t){return(t=a.default.createDate(t)).setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=a.default.createDate(t);return e.setDate(1),this._$table.find("td[data-value='".concat(u.default.serializeDate(e,a.default.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return l.default.format(t,"monthandyear")},getNavigatorCaption:function(){return l.default.format(this.option("date"),"yyyy")},isBoundary:function(t){return a.default.sameYear(t,this.option("min"))||a.default.sameYear(t,this.option("max"))}}),decade:o.default.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){return a.default.sameYear(t,new Date)},_isDateOutOfRange:function(t){var e=this.option("min"),n=this.option("max");return!a.default.dateInRange(t.getFullYear(),e&&e.getFullYear(),n&&n.getFullYear())},_isOtherView:function(t){var e=a.default.createDate(t);return e.setMonth(1),!a.default.sameDecade(e,this.option("date"))},_getCellText:function(t){return l.default.format(t,"yyyy")},_getFirstCellData:function(){var t=a.default.getFirstYearInDecade(this.option("date"))-1;return a.default.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return(t=a.default.createDate(t)).setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=a.default.getFirstYearInDecade(t),n=a.default.createDate(t),i=a.default.createDate(t);return n.setFullYear(e),i.setFullYear(e+9),l.default.format(n,"yyyy")+"-"+l.default.format(i,"yyyy")},_isValueOnCurrentView:function(t,e){return a.default.sameDecade(t,e)},_getCellByDate:function(t){var e=a.default.createDate(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(u.default.serializeDate(e,a.default.getShortDateFormat()),"']"))},isBoundary:function(t){return a.default.sameDecade(t,this.option("min"))||a.default.sameDecade(t,this.option("max"))}}),century:o.default.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){return a.default.sameDecade(t,new Date)},_isDateOutOfRange:function(t){var e=a.default.getFirstYearInDecade(t),n=a.default.getFirstYearInDecade(this.option("min")),i=a.default.getFirstYearInDecade(this.option("max"));return!a.default.dateInRange(e,n,i)},_isOtherView:function(t){var e=a.default.createDate(t);return e.setMonth(1),!a.default.sameCentury(e,this.option("date"))},_getCellText:function(t){var e=l.default.format(t,"yyyy"),n=a.default.createDate(t);return n.setFullYear(n.getFullYear()+9),e+" - "+l.default.format(n,"yyyy")},_getFirstCellData:function(){var t=a.default.getFirstDecadeInCentury(this.option("date"))-10;return a.default.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return(t=a.default.createDate(t)).setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=a.default.createDate(t);return e.setDate(1),e.setMonth(0),e.setFullYear(a.default.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(u.default.serializeDate(e,a.default.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),e=a.default.getFirstDecadeInCentury(t),n=a.default.createDate(t),i=a.default.createDate(t);return n.setFullYear(e),i.setFullYear(e+99),l.default.format(n,"yyyy")+"-"+l.default.format(i,"yyyy")},isBoundary:function(t){return a.default.sameCentury(t,this.option("min"))||a.default.sameCentury(t,this.option("max"))}})};e.default=d,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=m(n(1)),o=m(n(16)),r=m(n(7)),a=n(54),s=n(27),l=m(n(47)),u=m(n(91)),h=n(3),c=n(6),d=m(n(81)),f=m(n(18)),p=n(13),g=n(30);function m(t){return t&&t.__esModule?t:{default:t}}var v=l.default.abstract,y=(0,p.addNamespace)(g.name,"dxCalendar"),_=l.default.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return(0,h.extend)(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0})},_init:function(){this.callBase();var t=this.option("value");this.option("value",new Date(t)),this.option("value").valueOf()||this.option("value",new Date(0,0,0,0,0,0))},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=(0,i.default)("<table>"),this.setAria({label:f.default.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=(0,i.default)("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,n=this.option("rowCount");e<n;e++){t.row=this._createRow();for(var o=0,r=this.option("colCount");o<r;o++)this._renderCell(t,o)}},_createRow:function(){var t=o.default.createElement("tr");return this.setAria("role","row",(0,i.default)(t)),this.$body.get(0).appendChild(t),t},_appendCell:function(t,e){this._appendMethodName||this._cacheAppendMethodName(),(0,i.default)(t)[this._appendMethodName](e)},_cacheAppendMethodName:function(t){this._appendMethodName=(null!==t&&void 0!==t?t:this.option("rtlEnabled"))?"prepend":"append"},_createCell:function(t){var e=o.default.createElement("td"),n=(0,i.default)(e);return e.className=this._getClassNameByDate(t),e.setAttribute("data-value",d.default.serializeDate(t,u.default.getShortDateFormat())),(0,a.data)(e,"dxDateValueKey",t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},n),{cell:e,$cell:n}},_renderCell:function(t,e){var n=t.cellDate,i=t.prevCellDate,o=t.row;i&&u.default.fixTimezoneGap(i,n),t.prevCellDate=n;var r=this._createCell(n),a=r.cell,s=r.$cell,l=this.option("cellTemplate");this._appendCell(o,a),l?l.render(this._prepareCellTemplateData(n,e,s)):a.innerHTML=this._getCellText(n),t.cellDate=this._getNextCellData(n)},_getClassNameByDate:function(t){var e="dx-calendar-cell";return this._isTodayCell(t)&&(e+=" ".concat("dx-calendar-today")),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(e+=" ".concat("dx-calendar-empty-cell")),this._isOtherView(t)&&(e+=" ".concat("dx-calendar-other-view")),e},_prepareCellTemplateData:function(t,e,n){return{model:{text:this._getCellText(t),date:t,view:this._getViewName()},container:(0,s.getPublicElement)(n),index:e}},_renderEvents:function(){var t=this;this._createCellClickAction(),r.default.off(this._$table,y),r.default.on(this._$table,y,"td",(function(e){(0,i.default)(e.currentTarget).hasClass("dx-calendar-empty-cell")||t._cellClickAction({event:e,value:(0,i.default)(e.currentTarget).data("dxDateValueKey")})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||c.noop},_getDefaultDisabledDatesHandler:function(t){return c.noop},_isTodayCell:v,_isDateOutOfRange:v,isDateDisabled:function(t){var e={date:t,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:v,_getCellText:v,_getFirstCellData:v,_getNextCellData:v,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var e=this._$table.find(".".concat("dx-calendar-contoured-date")),n=this._getCellByDate(t);e.removeClass("dx-calendar-contoured-date"),n.addClass("dx-calendar-contoured-date")}},_changeValue:function(t){if(t){var e=this.option("value"),n=e?new Date(e):new Date;n.setDate(t.getDate()),n.setMonth(t.getMonth()),n.setFullYear(t.getFullYear()),n.setDate(t.getDate()),this.option("value",n)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value"),e=this._getCellByDate(t);this._selectedCell&&this._selectedCell.removeClass("dx-calendar-selected-date"),e.addClass("dx-calendar-selected-date"),this._selectedCell=e}},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),e=this.option("min");return t=u.default.getFirstDateView(this._getViewName(),t),new Date(e&&t<e?e:t)},_getCellByDate:v,isBoundary:v,_optionChanged:function(t){var e=t.name,n=t.value;switch(e){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(n);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(n),this.callBase(t);break;default:this.callBase(t)}}});e.default=_,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=n(14),r=c(n(456)),a=c(n(148)),s=n(56),l=n(3),u=c(n(99)),h=c(n(18));function c(t){return t&&t.__esModule?t:{default:t}}var d=(0,o.getWindow)(),f=a.default.inherit({NAME:"DateView",getDefaultOptions:function(){return(0,l.extend)(this.callBase(),{openOnFieldClick:!0,applyButtonText:h.default.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||u.default.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var e=t.platform;return"generic"===e||"ios"===e},options:{width:"auto",height:"auto"}},{device:function(t){var e=t.platform,n=t.phone;return"generic"===e&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:d}}}]}},_renderWidget:function(){if((0,s.inputType)(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=(0,i.default)("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return r.default},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*u.default.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}});e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=d(n(1)),o=d(n(82)),r=d(n(457)),a=d(n(91)),s=n(5),l=n(3),u=d(n(99)),h=d(n(19)),c=d(n(58));function d(t){return t&&t.__esModule?t:{default:t}}var f="date",p="year",g="month",m="day",v="hours",y=o.default.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===f?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return(0,l.extend)(this.callBase(),{minDate:u.default.MIN_DATEVIEW_DEFAULT_DATE,maxDate:u.default.MAX_DATEVIEW_DEFAULT_DATE,type:f,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"desktop"!==t.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass("dx-dateview"),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass("dx-dateview-"+t),e&&this.$element().removeClass("dx-dateview-"+e)},_toggleCompactClass:function(){this.$element().toggleClass("dx-dateview-compact",this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=(0,i.default)("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=(0,i.default)("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;(0,s.each)(t._rollerConfigs,(function(e){var n=(0,i.default)("<div>").appendTo(t._$rollersContainer).addClass("dx-dateviewroller-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(n,r.default,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:!1,onStart:function(n){var i=n.component;i._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],i.option("selectedIndex"))},onEnd:function(t){t.component._toggleActive(!1)},onClick:function(n){var i=n.component;i._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],i.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],i.option("selectedIndex")),i._toggleActive(!1)},onSelectedIndexChanged:function(n){var i=n.component;t._setRollerState(t._rollerConfigs[e],i.option("selectedIndex"))}})})),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},c.default.getFormatParts(u.default.FORMATS_MAP[t]).forEach((function(t){e._createRollerConfig(t)}))},_createRollerConfig:function(t){for(var e=u.default.DATE_COMPONENTS_INFO[t],n=this._calculateRollerConfigValueRange(t),i=n.startValue,o=n.endValue,r=e.formatter,a=this._getCurrentDate(),s={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(t){return t[e.getter]()-i}},l=i;l<=o;l++)s.valueItems.push(l),s.displayItems.push(r(l,a));s.selectedIndex=s.getIndex(a),this._rollerConfigs[t]=s},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];(0,s.each)(this._rollers,(function(){this.toggleActiveState(this===e)}))},_updateRollersPosition:function(){var t=this;(0,s.each)(this._rollers,(function(e){var n=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",n)}))},_setRollerState:function(t,e){if(e!==t.selectedIndex){var n=t.valueItems[e],i=t.setValue,o=new Date(this._getCurrentDate()),r=o.getDate(),s=this.option("minDate"),l=this.option("maxDate");t.type===g?r=Math.min(r,u.default.getMaxMonthDay(o.getFullYear(),n)):t.type===p&&(r=Math.min(r,u.default.getMaxMonthDay(n,o.getMonth()))),o.setDate(r),o[i](n);var h=a.default.normalizeDate(o,s,l);o=u.default.mergeDates(h,o,"time"),o=a.default.normalizeDate(o,s,l),this.option("value",o),t.selectedIndex=e}t.type===p&&this._refreshRollers(),t.type===g&&(this._refreshRoller(m),this._refreshRoller(v))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var n=this._rollerConfigs[t];t!==m&&n.displayItems.toString()===e.option("items").toString()||e.option({items:n.displayItems,selectedIndex:n.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),n=this.option("maxDate");return a.default.normalizeDate(t,e,n)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),n=this.option("minDate"),i=this.option("maxDate"),o=a.default.sameYear(e,n),r=o&&e.getMonth()===n.getMonth(),s=a.default.sameYear(e,i),l=s&&e.getMonth()===i.getMonth(),h=r&&e.getDate()===n.getDate(),c=l&&e.getDate()===i.getDate(),d=u.default.DATE_COMPONENTS_INFO[t],f=d.startValue,y=d.endValue;return t===p&&(f=n.getFullYear(),y=i.getFullYear()),t===g&&(o&&(f=n.getMonth()),s&&(y=i.getMonth())),t===m&&(y=u.default.getMaxMonthDay(e.getFullYear(),e.getMonth()),o&&r&&(f=n.getDate()),s&&l&&(y=i.getDate())),t===v&&(f=h?n.getHours():f,y=c?i.getHours():y),{startValue:f,endValue:y}},_refreshRollers:function(){this._refreshRoller(g),this._refreshRoller(m),this._refreshRoller(v)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer},_dispose:function(){clearTimeout(this._deferredRenderDayTimeout),clearTimeout(this._deferredRenderMonthTimeout),this.callBase()}});(0,h.default)("dxDateView",y);var _=y;e.default=_,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=g(n(1)),o=g(n(7)),r=g(n(19)),a=n(3),s=n(5),l=n(34),u=n(13),h=n(30),c=g(n(94)),d=g(n(17)),f=g(n(57)),p=n(41);function g(t){return t&&t.__esModule?t:{default:t}}var m=c.default.inherit({_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{showScrollbar:!1,useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{scrollByContent:!0}}])},_init:function(){this.callBase(),this._renderSelectedItemFrame()},_render:function(){this.callBase(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._wrapAction("_endAction",this._endActionHandler.bind(this)),this._renderSelectedIndexChanged()},_renderSelectedIndexChanged:function(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")},_renderWheelEvent:function(){var t=this;o.default.on(this._$container,"dxmousewheel",(function(e){t._isWheelScrolled=!0}))},_renderContainerClick:function(){if(this.option("showOnClick")){var t=(0,u.addNamespace)(h.name,this.NAME),e=this._createActionByOption("onClick");o.default.off(this._$container,t),o.default.on(this._$container,t,(function(t){e({event:t})}))}},_wrapAction:function(t,e){var n=this._strategy,i=n[t];n[t]=function(){return e.apply(this,arguments),i.apply(this,arguments)}},_renderItems:function(){var t=this.option("items")||[],e=(0,i.default)();this._$content.empty(),t.forEach((function(t){e=e.add((0,i.default)("<div>").addClass("dx-dateview-item").append(t))})),this._$content.append(e),this._$items=e,this.update()},_renderSelectedItemFrame:function(){(0,i.default)("<div>").addClass("dx-dateview-item-selected-frame").append((0,i.default)("<div>").addClass("dx-dateview-item-selected-border")).appendTo(this._$container)},_renderSelectedValue:function(t){var e=this._fitIndex(t||this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(e)}),this._renderActiveStateItem()},_fitIndex:function(t){var e=(this.option("items")||[]).length;return t>=e?e-1:t<0?0:t},_getItemPosition:function(t){return Math.round(this._itemHeight()*t)},_renderItemsClick:function(){var t=this._getItemSelector(),e=(0,u.addNamespace)(h.name,this.NAME);o.default.off(this.$element(),e,t),o.default.on(this.$element(),e,t,this._itemClickHandler.bind(this))},_getItemSelector:function(){return".dx-dateview-item"},_itemClickHandler:function(t){this.option("selectedIndex",this._itemElementIndex(t.currentTarget))},_itemElementIndex:function(t){return this._itemElements().index(t)},_itemElements:function(){return this.$element().find(this._getItemSelector())},_renderActiveStateItem:function(){var t=this.option("selectedIndex");(0,s.each)(this._$items,(function(e){(0,i.default)(this).toggleClass("dx-dateview-item-selected",t===e)}))},_shouldScrollToNeighborItem:function(){return"desktop"===d.default.real().deviceType&&this._isWheelScrolled},_moveTo:function(t){t=this._normalizeLocation(t);var e=this._location(),n={x:-(e.left-t.left),y:-(e.top-t.top)};if(this._isVisible()&&(n.x||n.y))if(this._strategy._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var i=this;f.default.stop(this._$content),f.default.animate(this._$content,{duration:200,type:"slide",to:{top:Math.floor(n.y)},complete:function(){(0,p.resetPosition)(i._$content),i._strategy.handleMove({delta:n})}}),delete this._animation}else this._strategy.handleMove({delta:n})},_validate:function(t){return this._strategy.validate(t)},_fitSelectedIndexInRange:function(t){var e=this.option("items").length;return Math.max(Math.min(t,e-1),0)},_isInNullNeighborhood:function(t){return-.1<=t&&t<=.1},_getSelectedIndexAfterScroll:function(t){var e=-this._location().top-t*this._itemHeight();if(this._isInNullNeighborhood(e))return t;var n=e>0?1:-1;return this._fitSelectedIndexInRange(t+n)},_getNewSelectedIndex:function(t){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(t);this._animation=!0;var e=-this._location().top/this._itemHeight();return Math.round(e)},_endActionHandler:function(){var t=this.option("selectedIndex"),e=this._getNewSelectedIndex(t);e===t?this._renderSelectedValue(e):this.option("selectedIndex",e),this._isWheelScrolled=!1},_itemHeight:function(){var t=this._$items.first();return t.get(0)&&(0,l.getBoundingRect)(t.get(0)).height||0},_toggleActive:function(t){this.$element().toggleClass("dx-state-active",t)},_isVisible:function(){return this._$container.is(":visible")},_fireSelectedIndexChanged:function(t,e){this._selectedIndexChanged({value:t,previousValue:e,event:void 0})},_visibilityChanged:function(t){this.callBase(t),t&&this._renderSelectedValue(this.option("selectedIndex")),this.toggleActiveState(!1)},toggleActiveState:function(t){this.$element().toggleClass("dx-dateviewroller-current",t)},_refreshSelectedIndex:function(){var t=this.option("selectedIndex"),e=this._fitIndex(t);e===t?this._renderActiveStateItem():this.option("selectedIndex",e)},_optionChanged:function(t){switch(t.name){case"selectedIndex":this._fireSelectedIndexChanged(t.value,t.previousValue),this._renderSelectedValue(t.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:this.callBase(t)}}});(0,r.default)("dxDateViewRoller",m);var v=m;e.default=v,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(6),o=u(n(148)),r=n(56),a=n(21),s=u(n(99)),l=u(n(81));function u(t){return t&&t.__esModule?t:{default:t}}var h=o.default.inherit({NAME:"Native",popupConfig:i.noop,getParsedText:function(t,e){return t?"datetime"===this.dateBox.option("type")?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):this._isTextInput()?this.callBase(t,e):s.default.fromStandardDateFormat(t):null},_isTextInput:function(){return"text"===this.dateBox._input().prop("type")},renderPopupContent:i.noop,_getWidgetName:i.noop,_getWidgetOptions:i.noop,_getDateBoxType:function(){var t=this.dateBox.option("type");return-1===(0,a.inArray)(t,s.default.SUPPORTED_FORMATS)?t="date":"datetime"!==t||(0,r.inputType)(t)||(t="datetime-local"),t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||s.default.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:l.default.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:l.default.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}});e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=n(14),r=c(n(250)),a=c(n(460)),s=c(n(58)),l=n(3),u=c(n(186)),h=c(n(99));function c(t){return t&&t.__esModule?t:{default:t}}var d=(0,o.getWindow)(),f=r.default.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return(0,l.extend)(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return s.default.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent((0,i.default)("<div>"),a.default,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t._wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,void 0!==e):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();e||t||(e=new Date,h.default.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return(0,i.default)(d).width()<=573},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent((0,i.default)("<div>").appendTo(t),u.default,{direction:"row",crossAlign:"start",items:this._getBoxItems(),itemTemplate:function(t){var e=(0,i.default)("<div>");switch(t.name){case"calendar":e.append(this._widget.$element()),this._isShrinkView()&&e.append(this._timeView.$element());break;case"time":e.append(this._timeView.$element())}return e}.bind(this)}),this._attachTabHandler()},popupConfig:function(t){var e=this.callBase(t);return(0,l.extend)(e,{onShowing:function(){if("fallback"===this._box.option("_layoutStrategy")){var t=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",t)}}.bind(this)})},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",(function(e){e.shiftKey&&(e.preventDefault(),t.focus())}))},_preventFocusOnPopup:function(t){(0,i.default)(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},getValue:function(){var t=this._widget.option("value"),e=this._timeView.option("value");return(t=t?new Date(t):new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}});e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=d(n(1)),o=d(n(82)),r=d(n(147)),a=d(n(185)),s=d(n(186)),l=n(3),u=d(n(19)),h=d(n(58)),c=d(n(99));function d(t){return t&&t.__esModule?t:{default:t}}var f=function(t,e,n){p(t,e,n)},p=function(t,e,n){t.css("transform","rotate("+e+"deg) translate(0,"+n+"px)")},g=o.default.inherit({_getDefaultOptions:function(){return(0,l.extend)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:0,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{_arrowOffset:15}},{device:{platform:"generic"},options:{_arrowOffset:5}}])},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass("dx-timeview")},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=(0,i.default)("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:50,template:this._renderField.bind(this)}),this._createComponent(t,s.default,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,n){this._$hourArrow=(0,i.default)("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=(0,i.default)("<div>").addClass("dx-timeview-minutearrow");var o=(0,i.default)(n);o.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",o)},_updateClock:function(){var t=this._getValue(),e=t.getHours()/12*360+t.getMinutes()/60*30,n=t.getMinutes()/60*360;f(this._$hourArrow,e,this.option("_arrowOffset")),f(this._$minuteArrow,n,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=this,n=[{ratio:0,shrink:0,baseSize:"auto",template:function(){return e._hourBox.$element()}},{ratio:0,shrink:0,baseSize:"auto",template:(0,i.default)("<div>").addClass("dx-timeview-time-separator").text(h.default.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:function(){return e._minuteBox.$element()}}];return t&&n.push({ratio:0,shrink:0,baseSize:"auto",template:function(){return e._format12.$element()}}),n},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent((0,i.default)("<div>").addClass("dx-timeview-field"),s.default,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(){var t=this;(this._hourBox=this._createComponent((0,i.default)("<div>"),r.default,(0,l.extend)({min:-1,max:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:function(e){return t._keyboardHandler(e)}},this._getNumberBoxConfig()))).setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(t){var e=this._getValue(),n=new Date(e),i=this._convertMaxHourToMin(t.value);this._isPM()&&(i+=12),n.setHours(i),c.default.normalizeTime(n),this.option("value",n)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this;(this._minuteBox=this._createComponent((0,i.default)("<div>"),r.default,(0,l.extend)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:function(e){return t._keyboardHandler(e)},onValueChanged:function(e){var n=(60+e.value)%60;e.component.option("value",n);var i=new Date(t._getValue());i.setMinutes(n),c.default.normalizeTime(i),t.option("value",i)}},this._getNumberBoxConfig()))).setAria("label","minutes")},_createFormat12Box:function(){var t=this,e=h.default.getPeriodNames();(this._format12=this._createComponent((0,i.default)("<div>").addClass("dx-timeview-format12"),a.default,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:function(e){return t._keyboardHandler(e)},onValueChanged:function(e){var n=e.value,i=t._getValue().getHours(),o=new Date(t._getValue()),r=(i+12*n)%24;o.setHours(r),t.option("value",o)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")})).setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,t)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});(0,u.default)("dxTimeView",g);var m=g;e.default=m,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=f(n(1)),o=n(14),r=f(n(126)),a=f(n(148)),s=n(6),l=n(2),u=n(3),h=f(n(99)),c=f(n(58)),d=f(n(81));function f(t){return t&&t.__esModule?t:{default:t}}var p=(0,o.getWindow)(),g={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},m=a.default.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){this.option("opened")&&this.close()},space:s.noop,home:s.noop,end:s.noop}},getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},_getPopupWidth:function(){var t=this.dateBox.option("dropDownOptions.width");return null===t?t=void 0:"function"===typeof t&&(t=t()),t},popupConfig:function(t){return(0,u.extend)(t,{width:this._getInputWidth.bind(this)})},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return r.default},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);-1===e?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,n=0,i=this._widgetItems.length;n<i;n++)if(this._areDatesEqual(t,this._widgetItems[n])){e=n;break}return e},_areDatesEqual:function(t,e){return(0,l.isDate)(t)&&(0,l.isDate)(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),n=this.dateBox.dateOption("value")||null,i=e-t,o=t.getMinutes()%this.dateBox.option("interval");return i<0?[]:(i>h.default.ONE_DAY&&(i=h.default.ONE_DAY),n-t<h.default.ONE_DAY||((t=this._getBoundaryDate("min")).setMinutes(o),n&&Math.abs(n-e)<h.default.ONE_DAY&&(i=(60*e.getHours()+Math.abs(e.getMinutes()-o))*h.default.ONE_MINUTE)),this._getRangeItems(t,new Date(t),i))},_getRangeItems:function(t,e,n){for(var i=[],o=this.dateBox.option("interval");e-t<=n;)i.push(new Date(e)),e.setMinutes(e.getMinutes()+o);return i},_getBoundaryDate:function(t){var e=g[t],n=new Date((0,s.ensureDefined)(this.dateBox.dateOption("value"),0));return new Date(n.getFullYear(),n.getMonth(),n.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return c.default.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){this.dateBox.option("opened",!1);var e=this.dateBox.option("value"),n=t.itemData,i=n.getHours(),o=n.getMinutes(),r=n.getSeconds(),a=n.getFullYear(),s=n.getMonth(),l=n.getDate();e?((e=this.dateBox.option("dateSerializationFormat")?d.default.deserializeDate(e):new Date(e)).setHours(i),e.setMinutes(o),e.setSeconds(r),e.setFullYear(a),e.setMonth(s),e.setDate(l)):e=new Date(a,s,l,i,o,0,0),this.dateBoxValue(e,t.event)},getKeyboardListener:function(){return this._widget},_dimensionChanged:function(){this._getPopup()&&(void 0===this._getPopupWidth()&&this.dateBox.setPopupOption("width",this._getInputWidth.bind(this)),this._updatePopupHeight())},_getInputWidth:function(){return this.dateBox.getWidth()},_updatePopupHeight:function(){this.dateBox._setPopupOption("height","auto");var t=this._widget.$element().outerHeight(),e=.45*(0,i.default)(p).height();this.dateBox._setPopupOption("height",Math.min(t,e)),this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var n=this.callBase(t,e);return n&&(n=h.default.mergeDates(n,new Date(null),"date")),n}});e.default=m,t.exports=e.default},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default=void 0;var o=O(n(1)),r=O(n(16)),a=n(14),s=O(n(7)),l=O(n(50)),u=n(2),h=n(5),c=n(3),d=O(n(35)),f=n(30),p=n(173),g=O(n(33)),m=O(n(31)),v=n(92),y=n(13),_=n(463),b=O(n(18)),x=O(n(45)),w=O(n(76)),C=O(n(17)),S=O(n(252)),k=O(n(110)),E=n(8),I=n(6),T=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=M();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=o?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=t[r]}n.default=t,e&&e.set(t,n);return n}(n(108)),D=O(n(94));function M(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return M=function(){return t},t}function O(t){return t&&t.__esModule?t:{default:t}}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var N="__DX_INSERT_INDEX__",F=["batch","row","cell","form","popup"],L=["row","form","popup"],V=["batch","cell"],j=["form","popup"],z=["row","form"],H={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},W={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},G={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},K={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},$=["edit","save","cancel","delete","undelete"],U=function(t){return function(e){var n=e instanceof Error?e:new Error(e&&String(e)||"Unknown error");t.reject(n)}},q=function(t){var e=t.option("editing.mode");return-1!==F.indexOf(e)?e:"row"},Y=function(t){var e=q(t);return-1!==L.indexOf(e)},X=function(t,e){return e.isEditing||t&&e.column.allowEditing},Z=function(t,e){var n=!!e.column.command,i=X(t,e),o=!n&&(i||e.column.showEditorAlways);return"data"===e.rowType&&o},J={defaultOptions:function(){return{editing:{mode:"row",refreshMode:"full",allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:b.default.format("dxDataGrid-editingEditRow"),saveAllChanges:b.default.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:b.default.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:b.default.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:b.default.format("dxDataGrid-editingCancelRowChanges"),addRow:b.default.format("dxDataGrid-editingAddRow"),deleteRow:b.default.format("dxDataGrid-editingDeleteRow"),undeleteRow:b.default.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:b.default.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]}}},controllers:{editing:d.default.ViewController.inherit(function(){var t=function(t){return function(e,n){var i=(0,o.default)("<div>").appendTo(e);t.getController("editorFactory").createEditor(i,(0,c.extend)({},n.column,{value:n.value,setValue:n.setValue,row:n.row,parentType:"dataRow",width:null,readOnly:!n.setValue,isOnForm:n.isOnForm,id:n.id}))}},e=function(t,e){var i=-1;return t.some((function(t,o){if(n(t)===e)return i=o,!0})),i};function n(t){return(0,u.isObject)(t)?t.name:t}return{init:function(){var t,e,n=this;(n._columnsController=n.getController("columns"),n._dataController=n.getController("data"),n._rowsView=n.getView("rowsView"),n._editForm=null,n._updateEditFormDeferred=null,n._lastOperation=null,n._deferreds&&n._deferreds.forEach((function(t){return t.reject("cancel")})),n._deferreds=[],n._dataChangedHandler||(n._dataChangedHandler=n._handleDataChanged.bind(n),n._dataController.changed.add(n._dataChangedHandler)),n._saveEditorHandler)||(n.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),n.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),n.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),n.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),n.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),n.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]}),n._pointerUpEditorHandler=function(){var t;e=null===(t=n.getController("columnsResizer"))||void 0===t?void 0:t.isResizing()},n._pointerDownEditorHandler=function(e){return t=(0,o.default)(e.target)},n._saveEditorHandler=n.createAction((function(i){var r=i.event,s=(0,o.default)(r.target),l=r.targetComponent;if((!t||!t.is("input")||t.is(s))&&!Y(n)&&!n._editCellInProgress){var u=g(s)||g(null===l||void 0===l?void 0:l.$element()),h=!!s.closest((0,a.getWindow)().document).length,c=l&&!l._disposed&&l!==n.component,d=!!s.closest(".".concat(n.addWidgetPrefix("addrow-button"))).length,f=s.hasClass(n.addWidgetPrefix("focus-overlay")),p="cell"===q(n);e||u||f||d&&p&&n.isEditing()||!h&&!c||n._closeEditItem.bind(n)(s)}function g(t){return t&&!!t.closest(".".concat("dx-dropdowneditor-overlay")).length}})),s.default.on(r.default.getDocument(),g.default.up,n._pointerUpEditorHandler),s.default.on(r.default.getDocument(),g.default.down,n._pointerDownEditorHandler),s.default.on(r.default.getDocument(),f.name,n._saveEditorHandler));n._updateEditColumn(),n._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference["editing.editRowKey"]=!0,this.component._optionsByReference["editing.changes"]=!0},getChanges:function(){return this.option("editing.changes")},resetChanges:function(){var t=this.getChanges();(null===t||void 0===t?void 0:t.length)&&(this._internalState=[],this._silentOption("editing.changes",[]))},_getInternalData:function(t){return this._internalState.filter((function(e){return e.key===t}))[0]},_addInternalData:function(t){var e=this._getInternalData(t.key);return e?(0,c.extend)(e,t):(this._internalState.push(t),t)},_getOldData:function(t){var e;return null===(e=this._getInternalData(t))||void 0===e?void 0:e.oldData},getUpdatedData:function(t){var e=this._dataController.keyOf(t),n=this.getChanges(),i=m.default.getIndexByKey(e,n);return n[i]?(0,v.createObjectWithChanges)(t,n[i].data):t},getInsertedData:function(){return this.getChanges().filter((function(t){return t.data&&"insert"===t.type})).map((function(t){return t.data}))},getRemovedData:function(){var t=this;return this.getChanges().filter((function(e){return t._getOldData(e.key)&&"remove"===e.type})).map((function(e){return t._getOldData(e.key)}))},_fireDataErrorOccurred:function(t){if("cancel"!==t){var e=this.getPopupContent();this._dataController.dataErrorOccurred.fire(t,e)}},_needToCloseEditableCell:function(t){var e=this.component.$element(),n=this.isEditing();if((!e||!!t.closest(e).length)&&t.closest(".dx-data-row").length){var i=this.getView("rowsView"),o=t.closest(".dx-row> td"),r=i.getRowIndex(o.parent()),a=i.getCellElements(r).index(o),s=this._columnsController.getVisibleColumns(),l=s[a]&&s[a].allowEditing;n=n&&!l&&!this.isEditCell(r,a)}return n},_closeEditItem:function(t){this._needToCloseEditableCell(t)&&this.closeEditCell()},_handleDataChanged:function(t){var e=this._editForm;"refresh"===t.changeType&&"popup"===q(this)&&e&&e.option("visible")&&this._repaintEditPopup()},_isDefaultButtonVisible:function(t,e){var n=!0,i=Y(this),o="batch"===q(this),r=e.row&&e.row.rowIndex===this._getVisibleEditRowIndex()&&i;switch(t.name){case"edit":n=!r&&this.allowUpdating(e)&&i;break;case"save":case"cancel":n=r;break;case"delete":n=!r&&this.allowDeleting(e)&&(!o||!e.row.removed);break;case"undelete":n=o&&this.allowDeleting(e)&&e.row.removed}return n},_isButtonVisible:function(t,e){var n=t.visible;return(0,u.isDefined)(n)?(0,u.isFunction)(n)?n.call(t,{component:e.component,row:e.row,column:e.column}):n:this._isDefaultButtonVisible(t,e)},_getButtonConfig:function(t,e){var i=this,o=(0,u.isObject)(t)?t:{},r=n(t),a=function(t){var e=t.component.option("editing.texts")||{};return{save:e.saveRowChanges,cancel:e.cancelRowChanges,edit:e.editRow,undelete:e.undeleteRow,delete:e.deleteRow,add:e.addRowToNode}}(e),s=G[r],l=this.option("editing"),h=K[r],d=!h||l[h];return(0,c.extend)({name:r,text:a[r],cssClass:H[r],onClick:function(t){var n=t.event;n.stopPropagation(),n.preventDefault(),setTimeout((function(){e.row&&d&&i[s]&&i[s](e.row.rowIndex)}))}},o)},_getEditingButtons:function(t){var n,i=this,o=!!t.column.buttons,r=(t.column.buttons||[]).slice();return o?((n=e(r,"edit"))>=0&&(e(r,"save")<0&&r.splice(n+1,0,"save"),e(r,"cancel")<0&&r.splice(e(r,"save")+1,0,"cancel")),(n=e(r,"delete"))>=0&&e(r,"undelete")<0&&r.splice(n+1,0,"undelete")):r=$.slice(),r.map((function(e){return i._getButtonConfig(e,t)}))},_renderEditingButtons:function(t,e,n){var i=this;e.forEach((function(e){i._isButtonVisible(e,n)&&i._createButton(t,e,n)}))},_getEditCommandCellTemplate:function(){var t=this;return function(e,n){var i=(0,o.default)(e);if("data"===n.rowType){var r=t._getEditingButtons(n);t._renderEditingButtons(i,r,n),n.watch&&n.watch((function(){return r.map((function(e){return t._isButtonVisible(e,n)}))}),(function(){i.empty(),t._renderEditingButtons(i,r,n)}))}else m.default.setEmptyText(i)}},isRowEditMode:function(){return Y(this)},isFormEditMode:function(){var t=q(this);return-1!==j.indexOf(t)},isCellOrBatchEditMode:function(){var t=this.getEditMode();return-1!==V.indexOf(t)},getEditMode:function(){return q(this)},getFirstEditableColumnIndex:function(){var t,e=this.getController("columns"),n=this._firstFormItem;if("form"===q(this)&&n){var i=this.option("editing.editRowKey"),o=this._dataController.getRowIndexByKey(i),r=this._rowsView.getCellElements(o);t=this._rowsView._getEditFormEditorVisibleIndex(r,n.column)}else{var a=e.getVisibleColumns();(0,h.each)(a,(function(e,n){if(n.allowEditing)return t=e,!1}))}return t},getFirstEditableCellInRow:function(t){var e=this.getView("rowsView");return e&&e._getCellElement(t||0,this.getFirstEditableColumnIndex())},getFocusedCellInRow:function(t){return this.getFirstEditableCellInRow(t)},getIndexByKey:function(t,e){return m.default.getIndexByKey(t,e)},hasChanges:function(t){for(var e=this.getChanges(),n=!1,i=0;i<(null===e||void 0===e?void 0:e.length);i++)if(e[i].type&&(!(0,u.isDefined)(t)||this._dataController.getRowIndexByKey(e[i].key)===t)){n=!0;break}return n},dispose:function(){this.callBase(),clearTimeout(this._inputFocusTimeoutID),s.default.off(r.default.getDocument(),g.default.up,this._pointerUpEditorHandler),s.default.off(r.default.getDocument(),g.default.down,this._pointerDownEditorHandler),s.default.off(r.default.getDocument(),f.name,this._saveEditorHandler)},optionChanged:function(t){if("editing"===t.name){var e=t.fullName,n=this._editPopup;if(e&&0===e.indexOf("editing.popup")){if(n){var i=e.slice("editing.popup".length+1);i?n.option(i,t.value):n.option(t.value)}}else n&&n.option("visible")&&0===e.indexOf("editing.form")?this._repaintEditPopup():"editing.editRowKey"===e?this._handleEditRowKeyChange(t):"editing.editColumnName"===e?this._handleEditColumnNameChange(t):"editing.changes"===e?this._handleChangesChange(t):(this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey());t.handled=!0}else this.callBase(t)},_handleEditRowKeyChange:function(t){var e=this._dataController.getRowIndexByKey(t.value),n=this._getEditRowIndexCorrection(),i=this._dataController.getRowIndexByKey(t.previousValue)+n,o=this._getVisibleEditColumnIndex();this.isCellOrBatchEditMode()?(0,u.isDefined)(t.value)&&t.value!==t.previousValue&&this._editCellFromOptionChanged(o,o,i):(0,u.isDefined)(t.value)?t.value!==t.previousValue&&this._editRowFromOptionChanged(e,i):this.cancelEditData()},_handleEditColumnNameChange:function(t){var e=this._getVisibleEditRowIndex(t.previousValue);if(this.isCellOrBatchEditMode()&&-1!==e&&(0,u.isDefined)(t.value)&&t.value!==t.previousValue){var n=this._columnsController.getVisibleColumnIndex(t.value),i=this._columnsController.getVisibleColumnIndex(t.previousValue);this._editCellFromOptionChanged(n,i,e)}},_handleChangesChange:function(t){var e=this._dataController;(t.value.length||t.previousValue.length)&&e.updateItems({repaintChangesOnly:!0})},_editCellFromOptionChanged:function(t,e,n){var i=this,o=this._columnsController.getVisibleColumns();t>-1&&(0,I.deferRender)((function(){i._repaintEditCell(o[t],o[e],n)}))},publicMethods:function(){return["addRow","deleteRow","undeleteRow","editRow","editCell","closeEditCell","saveEditData","cancelEditData","hasEditData"]},refresh:function(t){var e="batch"===q(this)||t&&"virtual"!==this.option("scrolling.mode");(0,u.isDefined)(this._pageIndex)&&(this.isCellOrBatchEditMode()?e&&(this._resetEditColumnName(),this._resetEditRowKey()):(this.resetChanges(),this.init(),(0,u.isDefined)(this.option("editing.editRowKey"))&&this._resetEditRowKey()))},isEditing:function(){var t=(0,u.isDefined)(this.option("editing.editRowKey")),e=(0,u.isDefined)(this.option("editing.editColumnName"));return this.isCellOrBatchEditMode()?t&&e:t},isEditRow:function(t){var e=q(this);return this._getVisibleEditRowIndex()===t&&-1!==L.indexOf(e)},_setEditRowKey:function(t,e){e?this._silentOption("editing.editRowKey",t):this.option("editing.editRowKey",t)},_setEditRowKeyByIndex:function(t,e){var n=this._dataController.getKeyByRowIndex(t);void 0!==n?this._setEditRowKey(n,e):this._dataController.fireError("E1043")},getEditRowIndex:function(){return this._getVisibleEditRowIndex()},getEditFormRowIndex:function(){var t=q(this);return"form"===t||"popup"===t?this._getVisibleEditRowIndex():-1},isEditCell:function(t,e){return this._getVisibleEditRowIndex()===t&&this._getVisibleEditColumnIndex()===e},getPopupContent:function(){var t=q(this),e=this._editPopup&&this._editPopup.option("visible");if("popup"===t&&e)return this._$popupContent},getEditForm:function(){return this._editForm},_needInsertItem:function(t,e){var n=this._dataController.dataSource(),i=this.option("scrolling.mode"),o=n.pageIndex(),r=n.beginPageIndex?n.beginPageIndex():o,a=n.endPageIndex?n.endPageIndex():o;if("standard"!==i)switch(e){case"append":return t.key.pageIndex===a;case"prepend":return t.key.pageIndex===r;case"refresh":t.key.rowIndex=0,t.key.dataRowIndex=0,t.key.pageIndex=0;break;default:return t.key.pageIndex>=r&&t.key.pageIndex<=a}return t.key.pageIndex===o},_generateNewItem:function(t){var e={key:t};return t&&t[N]&&(e[N]=t[N]),e},processItems:function(t,e){var n=this,i=e.changeType,o=this._dataController,r=-1;return this.update(i),this.getChanges().forEach((function(a){var s=a.key;if(s){var l=o.getRowIndexOffset();r=s.dataRowIndex-l+o.getRowIndexDelta(),"append"===i&&(r-=o.items(!0).length,e.removeCount&&(r+=e.removeCount));var u=n._generateNewItem(s);r>=0&&"insert"===a.type&&n._needInsertItem(a,i,t,u)&&t.splice(s.dataRowIndex?r:0,0,u)}})),t},processDataItem:function(t,e,n){var i,o=e.visibleColumns,r=t.data[N]?t.data.key:t.key,a=this.getChanges(),s=m.default.getIndexByKey(r,a);if(t.isEditing=!1,s>=0){var l=q(this),u=a[s];switch(i=u.data,u.type){case"insert":"popup"===l&&(t.visible=!1),t.isNewRow=!0,t.key=r,t.data=i;break;case"update":t.modified=!0,t.oldData=t.data,t.data=(0,v.createObjectWithChanges)(t.data,i),t.modifiedValues=n(i,o,!0);break;case"remove":"batch"===l&&(t.data=(0,v.createObjectWithChanges)(t.data,i)),t.removed=!0}}},_initNewRow:function(t){var e=this;if(this.executeAction("onInitNewRow",t),t.promise){var n=new E.Deferred;return(0,E.when)((0,E.fromPromise)(t.promise)).done(n.resolve).fail(U(n)).fail((function(t){return e._fireDataErrorOccurred(t)})),n}},_getInsertKey:function(t){var e=this._dataController,n=e.items(),i=q(this),o={parentKey:t,pageIndex:e.pageIndex(),rowIndex:this._getInsertRowIndex(t)},r=n[o.rowIndex];return r&&(!r.isEditing&&"detail"===r.rowType||"detailAdaptive"===r.rowType)&&o.rowIndex++,o.dataRowIndex=e.getRowIndexOffset()+n.filter((function(t,e){return e<o.rowIndex&&("data"===t.rowType||"group"===t.rowType||t.isNewRow)})).length,"batch"!==i&&this._setEditRowKey(o,!0),o[N]=this._getInsertIndex(),o},_getInsertRowIndex:function(t){var e=this.getView("rowsView"),n=this._dataController.getRowIndexByKey(t);return n>=0?n+1:e?e.getTopVisibleItemIndex(!0):0},_getInsertIndex:function(){var t=0;return this.getChanges().forEach((function(e){"insert"===e.type&&e.key[N]>t&&(t=e.key[N])})),t+1},addRow:function(t){var e=this,n=e._dataController,i=n.store(),o=i&&i.key(),r={data:{}},a=q(e),s=e._getVisibleEditRowIndex(),u=new E.Deferred;return i?"cell"===a&&e.hasChanges()?(e.saveEditData().done((function(){e.hasChanges()?u.reject("cancel"):e.addRow(t).done(u.resolve).fail(u.reject)})),u.promise()):(e.refresh(),e._allowRowAdding()?(o||(r.data.__KEY__=String(new l.default)),(0,E.when)(e._initNewRow(r,t)).done((function(){e._allowRowAdding()?(e._addRowCore(r.data,t,s),u.resolve()):u.reject("cancel")})).fail(u.reject),u.promise()):u.reject("cancel")):(n.fireError("E1052",this.component.NAME),u.reject())},_allowRowAdding:function(){var t=q(this),e=this._getInsertIndex();return!("batch"!==t&&e>1)},_addRowCore:function(t,e,n){var i=this._getVisibleEditRowIndex(),o=this._getInsertKey(e),r=q(this);this._addEditData({key:o,data:t,type:"insert"}),this._dataController.updateItems({changeType:"update",rowIndices:[n,i,o.rowIndex]}),"popup"===r?this._showEditPopup(o.rowIndex):this._focusFirstEditableCellInRow(o.rowIndex),this._afterInsertRow({key:o,data:t})},_focusFirstEditableCellInRow:function(t){var e=this,n=e.getFirstEditableCellInRow(t);e._editCellInProgress=!0,e._delayedInputFocus(n,(function(){e._editCellInProgress=!1;var n=e.getFirstEditableCellInRow(t),i="dblClick"===e.option("editing.startEditAction")?p.name:f.name;n&&s.default.trigger(n,i)}))},_isEditingStart:function(t){return this.executeAction("onEditingStart",t),t.cancel},_beforeEditCell:function(t,e,n){var i=this;if("cell"===q(i)&&!n.isNewRow&&i.hasChanges()){var o=new E.Deferred;return i.saveEditData().always((function(){o.resolve(i.hasChanges())})),o}},_beforeUpdateItems:function(){},_getVisibleEditColumnIndex:function(){var t=this.option("editing.editColumnName");return(0,u.isDefined)(t)?this._columnsController.getVisibleColumnIndex(t):-1},_setEditColumnNameByIndex:function(t,e){var n,i=this._columnsController.getVisibleColumns();this._setEditColumnName(null===(n=i[t])||void 0===n?void 0:n.name,e)},_setEditColumnName:function(t,e){e?this._silentOption("editing.editColumnName",t):this.option("editing.editColumnName",t)},_resetEditColumnName:function(){this._setEditColumnName(null,!0)},_getEditColumn:function(){var t=this.option("editing.editColumnName");return this._getColumnByName(t)},_getColumnByName:function(t){var e,n=this._columnsController.getVisibleColumns();return(0,u.isDefined)(t)&&n.some((function(n){if(n.name===t)return e=n,!0})),e},_getVisibleEditRowIndex:function(t){var e=this._dataController,n=this.option("editing.editRowKey"),i=e.getRowIndexByKey(n);return-1===i?i:i+this._getEditRowIndexCorrection(t)},_getEditRowIndexCorrection:function(t){var e=t?this._getColumnByName(t):this._getEditColumn();return"adaptiveHidden"===(null===e||void 0===e?void 0:e.visibleWidth)?1:0},_resetEditRowKey:function(){this._setEditRowKey(null,!0)},_resetEditIndices:function(){this._resetEditColumnName(),this._resetEditRowKey()},editRow:function(t){var e=this._dataController,n=e.items()[t],i={data:n&&n.data,cancel:!1},o=this._getVisibleEditRowIndex();if(n)return t===o||void(void 0!==n.key?(n.isNewRow||(i.key=n.key),this._isEditingStart(i)||(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=e.pageIndex(),this._setEditRowKey(n.key))):this._dataController.fireError("E1043"))},_editRowFromOptionChanged:function(t,e){var n=[e,t],i=q(this);this._beforeUpdateItems(n,t,e),"popup"===i?this._showEditPopup(t):(this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:n}))},_focusEditorIfNeed:function(){var t=this,e=q(this);if(this._needFocusEditor){if(-1!==z.indexOf(e)){var n=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(n,(function(){n&&t.component.focus(n)}))}else if(-1!==V.indexOf(e)){var i,o=this._getVisibleEditColumnIndex(),r=null===(i=this._rowsView)||void 0===i?void 0:i._getCellElement(this._getVisibleEditRowIndex(),o);r&&!r.find(":focus").length?this._focusEditingCell((function(){t._editCellInProgress=!1}),r,!0):this._editCellInProgress=!1}this._needFocusEditor=!1}},_showEditPopup:function(t,e){var n=this,i="desktop"!==C.default.current().deviceType,r=(0,c.extend)({showTitle:!1,fullScreen:i,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:n._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:n._getCancelButtonConfig()}],contentTemplate:n._getPopupEditFormTemplate(t)},n.option("editing.popup"));if(!n._editPopup){var a=(0,o.default)("<div>").appendTo(n.component.$element()).addClass(n.addWidgetPrefix("edit-popup"));n._editPopup=n._createComponent(a,w.default,{}),n._editPopup.on("hiding",n._getEditPopupHiddenHandler()),n._editPopup.on("shown",(function(t){s.default.trigger(t.component.$content().find("[tabindex], input:not([type='hidden'])").not(".dx-scrollable-container").first(),"focus"),e&&n._editForm&&n._editForm.repaint()}))}n._editPopup.option(r),n._editPopup.show()},_repaintEditPopup:function(){var t=this._getVisibleEditRowIndex();if(this._editPopup&&this._editPopup.option("visible")&&t>=0){var e=this._editPopup.option("animation");this._editPopup.option("animation",null),this._showEditPopup(t,!0),this._editPopup.option("animation",e)}},_getEditPopupHiddenHandler:function(){var t=this;return function(e){t.isEditing()&&t.cancelEditData()}},_getPopupEditFormTemplate:function(t){var e=this,n=e.component.getVisibleRows()[t],i={row:n,rowType:n.rowType,key:n.key};return function(t){var n=e.getEditFormTemplate(),r=e._createComponent((0,o.default)("<div>").appendTo(t),D.default);e._$popupContent=r.$content(),n(e._$popupContent,i,!0)}},_getSaveButtonConfig:function(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}},_getCancelButtonConfig:function(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}},_removeInternalData:function(t){var e=this._getInternalData(t),n=this._internalState.indexOf(e);n>-1&&this._internalState.splice(n,1)},_removeEditDataItem:function(t){if(t>=0){var e=R(this.getChanges());this._removeInternalData(e[t].key),e.splice(t,1),this._silentOption("editing.changes",e)}},executeOperation:function(t,e){var n=this;this._lastOperation&&this._lastOperation.reject(),this._lastOperation=t,this.waitForDeferredOperations().done((function(){"rejected"!==t.state()&&(e(),n._lastOperation=null)})).fail((function(){t.reject(),n._lastOperation=null}))},waitForDeferredOperations:function(){return E.when.apply(void 0,R(this._deferreds))},editCell:function(t,e){return this._editCell({rowIndex:t,columnIndex:e})},_editCell:function(t){var e,n=this,i=new E.Deferred;return this.executeOperation(i,(function(){e=n._editCellCore(t),(0,E.when)(e).done(i.resolve).fail(i.reject)})),void 0!==e?e:i.promise()},_getNormalizedEditCellOptions:function(t){var e,n=t.oldColumnIndex,i=t.oldRowIndex,o=t.columnIndex,r=t.rowIndex,a=this._columnsController,s=a.getVisibleColumns(),l=this._dataController.items()[r];return e=(0,u.isDefined)(n)?s[n]:this._getEditColumn(),(0,u.isDefined)(i)||(i=this._getVisibleEditRowIndex()),(0,u.isString)(o)&&(o=a.columnOption(o,"index"),o=a.getVisibleIndex(o)),{oldColumn:e,columnIndex:o,oldRowIndex:i,rowIndex:r,column:s[o],item:l}},_editCellCore:function(t){var e=this,n=this._dataController,i=(0,u.isDefined)(t.oldColumnIndex)||(0,u.isDefined)(t.oldRowIndex),o=this._getNormalizedEditCellOptions(t),r=o.columnIndex,a=o.rowIndex,s=o.column,l=o.item,h={data:null===l||void 0===l?void 0:l.data,cancel:!1,column:s};if(void 0!==l.key){if(s&&l&&("data"===l.rowType||"detailAdaptive"===l.rowType)&&!l.removed&&!Y(this)){if(!i&&this.isEditCell(a,r))return!0;var c=a+n.getRowIndexOffset();return(0,E.when)(this._beforeEditCell(a,r,l)).done((function(t){t||e._prepareEditCell(h,l,r,c)||e._processCanceledEditingCell()}))}return!1}this._dataController.fireError("E1043")},_processCanceledEditingCell:function(){},_prepareEditCell:function(t,e,n,i){return e.isNewRow||(t.key=e.key),!this._isEditingStart(t)&&(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(e.key),this._setEditColumnNameByIndex(n),!0)},_repaintEditCell:function(t,e,n){this._needFocusEditor=!0,!t||!t.showEditorAlways||e&&!e.showEditorAlways?(this._editCellInProgress=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):this._dataController.updateItems({changeType:"update",rowIndices:[]})},_delayedInputFocus:function(t,e,n){var i=this;function o(){if(e&&e(),t){var n=t.find("[tabindex], input:not([type='hidden'])").first();m.default.focusAndSelectElement(i,n)}i._beforeFocusCallback=null}C.default.real().ios||C.default.real().android?o():(i._beforeFocusCallback&&i._beforeFocusCallback(),clearTimeout(i._inputFocusTimeoutID),n&&(i._beforeFocusCallback=e),i._inputFocusTimeoutID=setTimeout(o))},_focusEditingCell:function(t,e,n){var i=this.getView("rowsView"),o=this._getVisibleEditColumnIndex();e=e||i&&i._getCellElement(this._getVisibleEditRowIndex(),o),this._delayedInputFocus(e,t,n)},deleteRow:function(t){var e=this;if("cell"===this.option("editing.mode")&&this.isEditing()){var n=this._dataController.items()[t].isNewRow;this.closeEditCell(null,n).always((function(){e._checkAndDeleteRow(t)}))}else this._checkAndDeleteRow(t)},_checkAndDeleteRow:function(t){var e=this,n=e.option("editing"),i=n&&n.texts,o=n&&"batch"===n.mode,r=n&&n.confirmDelete,a=i&&i.confirmDeleteMessage,s=e._dataController.items()[t],l=o||!e.isEditing()||s.isNewRow;if(s&&l)if(!o&&r&&a){var h=i&&i.confirmDeleteTitle,c=(0,u.isDefined)(h)&&h.length>0;(0,_.confirm)(a,h,c).done((function(n){n&&e._deleteRowCore(t)}))}else e._deleteRowCore(t)},_deleteRowCore:function(t){var e=this._dataController,n=e.items()[t],i=n&&n.key,o=this._getVisibleEditRowIndex(),r="batch"===this.option("editing.mode");this.refresh();var a=this.getChanges(),s=m.default.getIndexByKey(i,a);s>=0?"insert"===a[s].type?this._removeEditDataItem(s):this._addEditData({key:i,type:"remove"}):this._addEditData({key:i,oldData:n.data,type:"remove"}),r?e.updateItems({changeType:"update",rowIndices:[o,t]}):this.saveEditData()},undeleteRow:function(t){var e=this._dataController,n=e.items()[t],i=this._getVisibleEditRowIndex(),o=n&&n.key,r=this.getChanges();if(n){var a=m.default.getIndexByKey(o,r);if(a>=0){var s=r[a];(0,u.isEmptyObject)(s.data)?this._removeEditDataItem(a):this._addEditData({key:o,type:"update"}),e.updateItems({changeType:"update",rowIndices:[i,t]})}}},_fireOnSaving:function(){var t=this,e={cancel:!1,promise:null,changes:R(this.getChanges())};this.executeAction("onSaving",e);var n=new E.Deferred;return(0,E.when)((0,E.fromPromise)(e.promise)).done((function(){n.resolve(e)})).fail((function(e){U(n),t._fireDataErrorOccurred(e),n.resolve({cancel:!0})})),n},_executeEditingAction:function(t,e,n){if(this.component._disposed)return null;var i=new E.Deferred;return this.executeAction(t,e),(0,E.when)((0,E.fromPromise)(e.cancel)).done((function(t){t?setTimeout((function(){i.resolve("cancel")})):n(e).done(i.resolve).fail(U(i))})).fail(U(i)),i},_processEditData:function(t,e,n,i){var o=this,r=this._dataController.store();(0,h.each)(i,(function(i,a){var s,l,h=a.data,c=o._getOldData(a.key),d=a.type;if(!o._beforeSaveEditData(a,i)){switch(d){case"remove":l={data:c,key:a.key,cancel:!1},s=o._executeEditingAction("onRowRemoving",l,(function(){return r.remove(a.key).done((function(t){n.push({type:"remove",key:t})}))}));break;case"insert":l={data:h,cancel:!1},s=o._executeEditingAction("onRowInserting",l,(function(){return r.insert(l.data).done((function(t,e){(0,u.isDefined)(e)&&(a.key=e),t&&(0,u.isObject)(t)&&t!==l.data&&(a.data=t),n.push({type:"insert",data:t,index:0})}))}));break;case"update":l={newData:h,oldData:c,key:a.key,cancel:!1},s=o._executeEditingAction("onRowUpdating",l,(function(){return r.update(a.key,l.newData).done((function(t,e){t&&(0,u.isObject)(t)&&t!==l.newData&&(a.data=t),n.push({type:"update",key:e,data:t})}))}))}if(s){var f=new E.Deferred;s.always((function(t){e.push({key:a.key,result:t})})).always(f.resolve),t.push(f.promise())}}}))},_processSaveEditDataResult:function(t){for(var e=!1,n=q(this),i=R(this.getChanges()),o=i.length,r=0;r<t.length;r++){var a=t[r].result,s="cancel"===a,l=m.default.getIndexByKey(t[r].key,i),u=i[l];if(a&&a instanceof Error){if(u&&this._addInternalData({key:u.key,error:a}),this._fireDataErrorOccurred(a),"batch"!==n){u&&"remove"===u.type&&l>=0&&i.splice(l,1);break}}else s&&u&&("batch"===n||"remove"!==u.type)||(l>=0&&i.splice(l,1),e=!s)}return i.length<o&&this._silentOption("editing.changes",i),e},_fireSaveEditDataEvents:function(t){var e=this;(0,h.each)(t,(function(t,n){var i=n.data,o=n.key,r=n.type,a=e._addInternalData({key:o}),s={key:o,data:i};switch(a.error&&(s.error=a.error),r){case"remove":e.executeAction("onRowRemoved",(0,c.extend)({},s,{data:a.oldData}));break;case"insert":e.executeAction("onRowInserted",s);break;case"update":e.executeAction("onRowUpdated",s)}})),this.executeAction("onSaved",{changes:t})},saveEditData:function(){var t=this,e=new E.Deferred;return this.waitForDeferredOperations().done((function(){t.isSaving()?t._resolveAfterSave(e):(0,E.when)(t._beforeSaveEditData()).done((function(n){n?t._resolveAfterSave(e,{cancel:n}):(t._saving=!0,t._saveEditDataInner().done(e.resolve).fail(e.reject).always((function(){t._saving=!1})))})).fail(e.reject)})).fail(e.reject),e.promise()},_resolveAfterSave:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.cancel,i=e.error;(0,E.when)(this._afterSaveEditData(n)).done((function(){t.resolve(i)})).fail(t.reject)},_saveEditDataInner:function(){var t=this,e=[],n=[],i=[],o=this._dataController.dataSource(),r=new E.Deferred;return(0,E.when)(this._fireOnSaving()).done((function(a){var s=a.cancel,l=a.changes;return s?r.resolve().promise():(t._processEditData(n,e,i,l),n.length?(null===o||void 0===o||o.beginLoading(),E.when.apply(void 0,n).done((function(){t._processSaveEditDataResult(e)?t._endSaving(i,l,r):(null===o||void 0===o||o.endLoading(),r.resolve())})).fail((function(t){null===o||void 0===o||o.endLoading(),r.resolve(t)})),r.always((function(){t._focusEditingCell()})).promise()):void t._cancelSaving(r))})).fail(r.reject),r.promise()},_resetModifiedClassCells:function(t){var e=this;if("batch"===q(this)){var n=this._columnsController.getVisibleColumns().length;t.forEach((function(t){var i=t.key,o=e._dataController.getRowIndexByKey(i);if(-1!==o)for(var r=0;r<n;r++)e._rowsView._getCellElement(o,r).removeClass("dx-cell-modified")}))}},_endSaving:function(t,e,n){var i=q(this),o=this._dataController.dataSource();"cell"!==i&&(this._resetModifiedClassCells(e),this._resetEditIndices()),"popup"===i&&this._editPopup&&this._editPopup.hide(),null===o||void 0===o||o.endLoading(),this._refreshDataAfterSave(t,e,n)},_cancelSaving:function(t){var e=q(this),n=this._dataController;Y(this)?this.hasChanges()||this._cancelEditDataCore():this.isCellOrBatchEditMode()?("cell"!==e&&this._resetEditIndices(),n.updateItems()):this._focusEditingCell(),this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(t)},_refreshDataAfterSave:function(t,e,n){var i=this,o=this._dataController,r=this.option("editing.refreshMode"),a="reshape"!==r&&"repaint"!==r;a||o.push(t),(0,E.when)(o.refresh({selection:a,reload:a,load:"reshape"===r,changesOnly:this.option("repaintChangesOnly")})).always((function(){i._fireSaveEditDataEvents(e),i._internalState=[]})).done((function(){i._resolveAfterSave(n)})).fail((function(t){i._resolveAfterSave(n,{error:t})}))},isSaving:function(){return this._saving},_updateEditColumn:function(){var t=this._isEditColumnVisible(),e="dx-command-edit"+(this.option("editing.useIcons")?" dx-command-edit-with-icons":"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:t,cssClass:e,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:t,cssClass:e})},_isEditColumnVisible:function(){var t=this.option("editing");if(t){var e=!1;switch(q(this)){case"row":e=t.allowUpdating||t.allowAdding;break;case"form":case"popup":e=t.allowUpdating}return t.allowDeleting||e}},_updateEditButtons:function(){var t=this.getView("headerPanel"),e=this.hasChanges();t&&(t.setToolbarItemDisabled("saveButton",!e),t.setToolbarItemDisabled("revertButton",!e))},_applyModified:function(t){t&&t.addClass("dx-cell-modified")},_beforeCloseEditCellInBatchMode:function(){},cancelEditData:function(){var t=this.getChanges(),e={cancel:!1,changes:t};this.executeAction("onEditCanceling",e),e.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:t}))},_cancelEditDataCore:function(){var t=q(this),e=this._getVisibleEditRowIndex(),n=this._dataController;this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),-1!==L.indexOf(t)&&e>=0?n.updateItems({changeType:"update",rowIndices:[e,e+1]}):n.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")}),"popup"===t&&this._hideEditPopup()},_hideEditPopup:function(){this._editPopup&&this._editPopup.option("visible",!1)},hasEditData:function(){return this.hasChanges()},closeEditCell:function(t,e){var n=this,i=(0,E.when)(),o=this._getVisibleEditRowIndex();return Y(this)||(i=(0,E.Deferred)(),this.executeOperation(i,(function(){n._closeEditCellCore(t,o,e),i.resolve()}))),i.promise()},_closeEditCellCore:function(t,e,n){var i=this,o=q(i),r=i._dataController;if("cell"===o&&i.hasChanges())n||i.saveEditData().done((function(t){i.hasChanges()||i.closeEditCell(!!t)}));else if(e>=0){var a=[e];this._resetEditRowKey(),i._resetEditColumnName(),i._beforeCloseEditCellInBatchMode(a),t||r.updateItems({changeType:"update",rowIndices:a})}},update:function(t){var e=this._dataController;e&&this._pageIndex!==e.pageIndex()&&("refresh"===t&&this.refresh(!0),this._pageIndex=e.pageIndex()),this._updateEditButtons()},_getRowIndicesForCascadeUpdating:function(t,e){return e?[]:[t.rowIndex]},addDeferred:function(t){var e=this;this._deferreds.indexOf(t)<0&&(this._deferreds.push(t),t.always((function(){var n=e._deferreds.indexOf(t);n>=0&&e._deferreds.splice(n,1)})))},_prepareEditDataParams:function(t,e,n){var i,r=this,a={},s=null===(i=t.row)||void 0===i?void 0:i.data,l=t.key,h=(0,o.default)(t.cellElement),d=q(r),f=new E.Deferred;void 0!==l&&("batch"===d&&r._applyModified(h,t),t.value=e,(0,E.fromPromise)(t.column.setCellValue(a,e,(0,c.extend)(!0,{},s),n)).done((function(){f.resolve({data:a,key:l,oldData:s,type:"update"})})).fail(U(f)).fail((function(t){return r._fireDataErrorOccurred(t)})),(0,u.isDefined)(n)&&t.column.displayValueMap&&(t.column.displayValueMap[e]=n),t.values&&(t.values[t.columnIndex]=e),r.addDeferred(f));return f},updateFieldValue:function(t,e,n,i){var o=this,r=t.key,a=new E.Deferred;return void 0===r&&this._dataController.fireError("E1043"),t.column.setCellValue?this._prepareEditDataParams(t,e,n).done((function(e){(0,E.when)(o._applyEditDataParams(t,e,i)).always((function(){a.resolve()}))})):a.resolve(),a.promise()},_focusPreviousEditingCellIfNeed:function(t){if(this.hasEditData()&&!this.isEditCell(t.rowIndex,t.columnIndex))return this._focusEditingCell(),this._updateEditRow(t.row,!0),!0},_needUpdateRow:function(t){var e=this._columnsController.getVisibleColumns();t||(t=this._getEditColumn());var n=t&&t.setCellValue!==t.defaultSetCellValue,i=e.some((function(t){return t.calculateCellValue!==t.defaultCalculateCellValue}));return n||i},_applyEditDataParams:function(t,e,n){var i=q(this),o=t.column.setCellValue!==t.column.defaultSetCellValue,r=t.column.showEditorAlways,a="cell"===i&&t.row&&!t.row.isNewRow;if(r&&!n&&a&&this.hasEditData()&&!this.isEditCell(t.rowIndex,t.columnIndex))return this._focusEditingCell(),void this._updateEditRow(t.row,!0,o);if(this._addEditData(e,t.row),this._updateEditButtons(),r&&!n){if(a)return this._setEditRowKey(t.row.key,!0),this._setEditColumnNameByIndex(t.columnIndex,!0),this.saveEditData();"batch"===i&&(n=this._needUpdateRow(t.column))}var s=t.row;s&&(n||o?this._updateEditRow(s,n,o):s.update&&s.update())},_updateEditRowCore:function(t,e,n){var i=this._editForm;"popup"===q(this)?this.option("repaintChangesOnly")?t.update&&t.update(t):i&&(this._updateEditFormDeferred=(new E.Deferred).done((function(){return i.repaint()})),this._updateLockCount||this._updateEditFormDeferred.resolve()):this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(t,e)})},_endUpdateCore:function(){this._updateEditFormDeferred&&this._updateEditFormDeferred.resolve()},_updateEditRow:function(t,e,n){var i=this;if(e||!Y(i))i._updateEditRowCore(t,!e,n),e||i._focusEditingCell();else{var a=new E.Deferred;i.addDeferred(a),setTimeout((function(){var e=(0,o.default)(r.default.getActiveElement()),s=i._rowsView.getCellIndex(e,t.rowIndex),l=e.get(0),u=m.default.getSelectionRange(l);if(i._updateEditRowCore(t,!1,n),s>=0){var h=i._rowsView._getCellElement(t.rowIndex,s);i._delayedInputFocus(h,(function(){setTimeout((function(){l=r.default.getActiveElement(),u.selectionStart>=0&&m.default.setSelectionRange(l,u)}))}))}a.resolve()}))}},_addEditData:function(t,e){var n=R(this.getChanges()),i=m.default.getIndexByKey(t.key,n);i<0&&(i=n.length,this._addInternalData({key:t.key,oldData:t.oldData}),delete t.oldData,n.push(t));var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n[i]);return o&&(t.data&&(o.data=(0,v.createObjectWithChanges)(o.data,t.data)),o.type&&t.data||!t.type||(o.type=t.type),e&&(e.oldData=this._getOldData(e.key),e.data=(0,v.createObjectWithChanges)(e.data,t.data))),n[i]=o,this._silentOption("editing.changes",n),i},_getFormEditItemTemplate:function(e,n){return n.editCellTemplate||t(this)},renderFormEditTemplate:function(t,e,n,i,r){var s=this,l=(0,o.default)(i),u=e.column,h=function(t){var e=t.column;return t.isCustomEditorType?t.editorType:e.formItem&&e.formItem.editorType}(e),d=null===t||void 0===t?void 0:t.row.data,f=(0,c.extend)({},t,{data:d,cellElement:null,isOnForm:!0,item:e,column:(0,c.extend)({},u,{editorType:h,editorOptions:e.editorOptions}),id:n.getItemID(e.name||e.dataField),columnIndex:u.index,setValue:!r&&u.allowEditing&&function(t){s.updateFieldValue(f,t)}});f.value=u.calculateCellValue(d);var p=s._getFormEditItemTemplate.bind(s)(f,u);return s._rowsView.renderTemplate(l,p,f,!!l.closest((0,a.getWindow)().document).length).done((function(){s._rowsView._updateCell(l,f)})),f},getFormEditorTemplate:function(t,e){var n=this,i=this.component.columnOption(e.dataField);return function(r,a){var s=(0,o.default)(a);t.row.watch&&t.row.watch((function(){return i.selector(t.row.data)}),(function(){var i,o=s.find(".dx-widget").first(),a=o.data("dxValidator"),l=null===(i=a)||void 0===i?void 0:i.option();s.contents().remove(),t=n.renderFormEditTemplate.bind(n)(t,e,r.component,s),a=(o=s.find(".dx-widget").first()).data("dxValidator"),l&&!a&&o.dxValidator({validationRules:l.validationRules,validationGroup:l.validationGroup,dataGetter:l.dataGetter})})),t=n.renderFormEditTemplate.bind(n)(t,e,r.component,s)}},getEditFormOptions:function(t){var e=this.option("editing.form.customizeItem"),n=this.addWidgetPrefix("edit-form-item"),i=this.option("editing.form.items"),o={},r=this;if(i)!function t(e,n){e.forEach((function(e){e.items||e.tabs?t(e.items||e.tabs,n):n(e)}))}(i,(function(t){var e=(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.dataField);e&&(o[e]=!!t.editorType)}));else{var a=this.getController("columns").getColumns();i=[],(0,h.each)(a,(function(t,e){e.isBand||e.type||i.push({column:e,name:e.name,dataField:e.dataField})}))}return{items:i,formID:"dx-"+new l.default,customizeItem:function(i){var a,s=i.name||i.dataField;if((i.column||s)&&(a=i.column||r._columnsController.columnOption(i.name?"name:"+i.name:"dataField:"+i.dataField)),a){i.label=i.label||{},i.label.text=i.label.text||a.caption,i.template=i.template||r.getFormEditorTemplate(t,i),i.column=a,i.isCustomEditorType=o[s],a.formItem&&(0,c.extend)(i,a.formItem),void 0===i.isRequired&&a.validationRules&&(i.isRequired=a.validationRules.some((function(t){return"required"===t.type})),i.validationRules=[]);var l=!(0,u.isDefined)(i.visible)||i.visible;!r._firstFormItem&&l&&(r._firstFormItem=i)}e&&e.call(this,i),i.cssClass=(0,u.isString)(i.cssClass)?i.cssClass+" "+n:n}}},getEditFormTemplate:function(){var t=this;return function(e,n,i){var r=t.option("editing.form"),a=t.getEditFormOptions(n);if(t._firstFormItem=void 0,t._editForm=t._createComponent((0,o.default)("<div>").appendTo(e),S.default,(0,c.extend)({},r,a)),!i){var s=(0,o.default)("<div>").addClass(t.addWidgetPrefix("form-buttons-container")).appendTo(e);t._createComponent((0,o.default)("<div>").appendTo(s),x.default,t._getSaveButtonConfig()),t._createComponent((0,o.default)("<div>").appendTo(s),x.default,t._getCancelButtonConfig())}t._editForm.on("contentReady",(function(){t._editPopup&&t._editPopup.repaint()}))}},getColumnTemplate:function(e){var n,i,o=this,r=e.column,a=e.row&&e.row.rowIndex,s=Y(o),l=o.isEditRow(a),u=o.isEditCell(a,e.columnIndex);!(r.showEditorAlways||r.setCellValue&&(l&&r.allowEditing||u))||"data"!==e.rowType&&"detailAdaptive"!==e.rowType||r.command?"detail"===r.command&&"detail"===e.rowType&&l&&(n=o.getEditFormTemplate(e)):(((o.allowUpdating(e)||l)&&r.allowEditing||u)&&(s&&l||!s)&&(r.showEditorAlways&&!s&&(i={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:r},o._isEditingStart(i)),i&&i.cancel||(e.setValue=function(t,n){o.updateFieldValue(e,t,n)})),n=r.editCellTemplate||t(o));return n},_createButton:function(t,e,n){var i=W[e.name],r=this.option("editing.useIcons"),a=(0,o.default)("<a>").attr("href","#").addClass("dx-link").addClass(e.cssClass);if(e.template)this._rowsView.renderTemplate(t,e.template,n,!0);else{if(r&&i||e.icon){i=e.icon||i;var l=T.getImageSourceType(i);"image"===l||"svg"===l?a=T.getImageContainer(i).addClass(e.cssClass):a.addClass("dx-icon"+("dxIcon"===l?"-":" ")+i).attr("title",e.text),a.addClass("dx-link-icon"),t.addClass("dx-command-edit-with-icons");var h=this.getButtonLocalizationNames()[e.name];h&&a.attr("aria-label",b.default.format(h))}else a.text(e.text);(0,u.isDefined)(e.hint)&&a.attr("title",e.hint),s.default.on(a,(0,y.addNamespace)("click","dxDataGridEditing"),this.createAction((function(t){e.onClick.call(e,(0,c.extend)({},t,{row:n.row,column:n.column})),t.event.preventDefault(),t.event.stopPropagation()}))),t.append(a,"&nbsp;")}},getButtonLocalizationNames:function(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}},prepareEditButtons:function(t){var e=this,n=e.option("editing")||{},i=e.option("editing.texts")||{},r={revert:i.cancelAllChanges,save:i.saveAllChanges,addRow:i.addRow},a={revert:"cancel",save:"save",addRow:"addrow"},s=[],l=function(n,i,s){var l=a[n],u=r[n],h=("save"===l||"cancel"===l)&&!e.hasChanges();return{widget:"dxButton",options:{onInitialized:function(n){(0,o.default)(n.element).addClass(t._getToolbarButtonClass("dx-edit-button "+e.addWidgetPrefix(l)+"-button"))},icon:"edit-button-"+l,disabled:h,onClick:function(){setTimeout((function(){e[i]()}))},text:u,hint:u},showText:"inMenu",name:n+"Button",location:"after",locateInMenu:"auto",sortIndex:s}};return n.allowAdding&&s.push(l("addRow","addRow",20)),(n.allowUpdating||n.allowAdding||n.allowDeleting)&&"batch"===q(e)&&(s.push(l("save","saveEditData",21)),s.push(l("revert","cancelEditData",22))),s},highlightDataCell:function(t,e){this.isCellModified(e)&&e.column.setCellValue&&t.addClass("dx-cell-modified")},_afterInsertRow:function(){},_beforeSaveEditData:function(t){if(t&&!(0,u.isDefined)(t.key)&&(0,u.isDefined)(t.type))return!0},_afterSaveEditData:function(){},_beforeCancelEditData:function(){},_allowEditAction:function(t,e){var n=this.option("editing."+t);return(0,u.isFunction)(n)&&(n=n({component:this.component,row:e.row})),n},allowUpdating:function(t,e){var n=this.option("editing.startEditAction")||"click",i=!(arguments.length>1)||(n===e||"down"===e);return i&&this._allowEditAction("allowUpdating",t)},allowDeleting:function(t){return this._allowEditAction("allowDeleting",t)},isCellModified:function(t){var e=t.columnIndex,n=t.row&&(t.row.isNewRow?t.row.values:t.row.modifiedValues);return!!n&&void 0!==n[e]}}}())},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(t,e){return!e&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows:function(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow:function(t){var e=this._editingController,n=this.option("editing.editRowKey"),i=t[m.default.getIndexByKey(n,t)];i&&(i.isEditing=!0,"form"===e.getEditMode()&&(i.rowType="detail"))},_updateItemsCore:function(t){this.callBase(t),this._updateEditRow(this.items())},_applyChangeUpdate:function(t){this._updateEditRow(t.items),this.callBase(t)},_applyChangesOnly:function(t){this._updateEditRow(t.items),this.callBase(t)},_processItems:function(t,e){return t=this._editingController.processItems(t,e),this.callBase(t,e)},_processDataItem:function(t,e){return this._editingController.processDataItem(t,e,this.generateDataValues),this.callBase(t,e)},_processItem:function(t,e){return(t=this.callBase(t,e)).isNewRow&&(e.dataIndex--,delete t.dataIndex),t},_getChangedColumnIndices:function(t,e,n,i){var o=this.getController("editing"),r=o.isRowEditMode();if(!(t.isNewRow!==e.isNewRow||t.removed!==e.removed||r&&t.isEditing!==e.isEditing))return t.rowType===e.rowType&&r&&o.isEditRow(n)&&i?[]:this.callBase.apply(this,arguments)},_isCellChanged:function(t,e,n,i,o){var r=this.getController("editing"),a=t.cells&&t.cells[i],s=r&&r.isEditCell(n,i);return(!o||!s)&&(!(!a||!a.column||a.column.showEditorAlways||a.isEditing===s)||this.callBase.apply(this,arguments))}}},views:{rowsView:{init:function(){this.callBase(),this._editingController=this.getController("editing")},getCellElements:function(t){var e=this.callBase(t),n=this._editingController,i=n.getEditForm();return n.getEditFormRowIndex()===t&&e&&i?i.$element().find("."+this.addWidgetPrefix("edit-form-item")+", .dx-button"):e},getCellIndex:function(t,e){if(!t.is("td")&&e>=0){var n=this.getCellElements(e),i=-1;return(0,h.each)(n,(function(e,n){(0,o.default)(n).find(t).length&&(i=e)})),i}return this.callBase.apply(this,arguments)},_getVisibleColumnIndex:function(t,e,n){var i=this._editingController.getEditFormRowIndex();if(i===e&&(0,u.isString)(n)){var o=this._columnsController.columnOption(n);return this._getEditFormEditorVisibleIndex(t,o)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex:function(t,e){var n=-1;return(0,h.each)(t,(function(t,i){var r=(0,o.default)(i).find(".dx-field-item-content").data("dx-form-item");if(r&&r.column&&e&&r.column.index===e.index)return n=t,!1})),n},publicMethods:function(){return this.callBase().concat(["cellValue"])},_getCellTemplate:function(t){return this._editingController.getColumnTemplate(t)||this.callBase(t)},_isNativeClick:function(){return(C.default.real().ios||C.default.real().android)&&this.option("editing.allowUpdating")},_createTable:function(){var t=this,e=t.callBase.apply(t,arguments);return!Y(t)&&t.option("editing.allowUpdating")&&s.default.on(e,(0,y.addNamespace)(k.default.name,"dxDataGridRowsView"),"td:not(.dx-editor-cell)",t.createAction((function(){var e=t._editingController;e.isEditing()&&e.closeEditCell()}))),e},_createRow:function(t){var e=this.callBase(t);if(t){var n=this._editingController.isEditRow(t.rowIndex),i=!!t.removed,o=!!t.isNewRow,r=!!t.modified;"batch"===q(this)?i&&e.addClass("dx-row-removed"):n&&e.addClass("dx-edit-row"),o&&e.addClass("dx-row-inserted"),r&&e.addClass("dx-row-modified"),(n||o||i)&&e.removeClass("dx-selection"),n&&"detail"===t.rowType&&e.addClass(this.addWidgetPrefix("edit-form"))}return e},_getColumnIndexByElement:function(t){for(var e=t.closest("table"),n=this.getTableElements();e.length&&!n.filter(e).length;)t=e.closest("td"),e=t.closest("table");return this._getColumnIndexByElementCore(t)},_getColumnIndexByElementCore:function(t){var e=t.closest(".dx-row> td:not(.dx-master-detail-cell)");return this.getCellIndex(e)},_editCellByClick:function(t,e){var n=this._editingController,i=(0,o.default)(t.event.target),r=this._getColumnIndexByElement(i),a=this._dataController.items()[t.rowIndex],s=n.allowUpdating({row:a},e)||a&&a.isNewRow,l=this._columnsController.getVisibleColumns()[r],u=s&&l&&(l.allowEditing||n.isEditCell(t.rowIndex,r)),h=this.option("editing.startEditAction")||"click";return"down"===e?l&&l.showEditorAlways&&u&&n.editCell(t.rowIndex,r):("click"!==e||"dblClick"!==h||n.isEditCell(t.rowIndex,r)||n.closeEditCell(),u&&e===h?n.editCell(t.rowIndex,r)||n.isEditRow(t.rowIndex):void 0)},_rowPointerDown:function(t){var e=this;this._pointerDownTimeout=setTimeout((function(){e._editCellByClick(t,"down")}))},_rowClick:function(t){var e=(0,o.default)(t.rowElement).hasClass(this.addWidgetPrefix("edit-form"));t.event.targetComponent=this.component,this._editCellByClick(t,"click")||e||this.callBase.apply(this,arguments)},_rowDblClick:function(t){this._editCellByClick(t,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared:function(t,e){var n=this._editingController,i=!!e.column.command,o=e.setValue,r=n.isEditRow(e.rowIndex),a=X(r,e);if(Z(r,e)){var s=e.column.alignment;t.toggleClass(this.addWidgetPrefix("readonly"),!o).toggleClass("dx-cell-focus-disabled",!o),s&&t.find("input:not([type='hidden'])").first().css("textAlign",s)}a&&this._editCellPrepared(t),e.column&&!i&&n.highlightDataCell(t,e),this.callBase.apply(this,arguments)},_editCellPrepared:function(t){},_formItemPrepared:function(){},_isFormItem:function(t){var e="detail"===t.rowType||"detailAdaptive"===t.rowType,n="data"===t.rowType&&"popup"===q(this);return(e||n)&&t.item},_updateCell:function(t,e){this._isFormItem(e)?this._formItemPrepared(e,t):this.callBase(t,e)},_update:function(t){this.callBase(t),"updateSelection"===t.changeType&&this.getTableElements().children("tbody").children(".dx-edit-row").removeClass("dx-selection")},_getCellOptions:function(t){var e=this.callBase(t);return e.isEditing=this._editingController.isEditCell(e.rowIndex,e.columnIndex),e},_createCell:function(t){var e=this.callBase(t),n=this._editingController.isEditRow(t.rowIndex);return Z(n,t)&&e.addClass("dx-editor-cell"),e},_renderCellContent:function(t,e){"data"===e.rowType&&"popup"===q(this)&&!1===e.row.visible||this.callBase.apply(this,arguments)},cellValue:function(t,e,n,i){var o=this.getCellOptions(t,e);if(o){if(void 0===n)return o.value;this._editingController.updateFieldValue(o,n,i,!0)}},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore:function(){this.callBase.apply(this,arguments),this._editingController._focusEditorIfNeed()}},headerPanel:{_getToolbarItems:function(){var t=this.callBase();return this.getController("editing").prepareEditButtons(this).concat(t)},optionChanged:function(t){var e=t.fullName;switch(t.name){case"editing":e&&0===e.indexOf("editing.popup")||this._invalidate(),this.callBase(t);break;default:this.callBase(t)}},isVisible:function(){var t=this.getController("editing").option("editing");return this.callBase()||t&&(t.allowAdding||(t.allowUpdating||t.allowDeleting)&&"batch"===t.mode)}}}}};e.default=J,t.exports=e.default},function(t,e,n){"use strict";e.confirm=e.alert=e.custom=e.title=e.FakeDialogComponent=void 0;var i=b(n(1)),o=b(n(211)),r=b(n(117)),a=b(n(17)),s=b(n(46)),l=n(44),u=n(8),h=n(2),c=n(5),d=n(3),f=n(14),p=b(n(7)),g=n(103),m=b(n(18)),v=b(n(25)),y=b(n(76)),_=n(6);function b(t){return t&&t.__esModule?t:{default:t}}var x=(0,f.getWindow)(),w={text:"OK",onClick:function(){return!0}},C="".concat("dx-dialog","-wrapper"),S="".concat("dx-dialog","-root"),k="".concat("dx-dialog","-content"),E="".concat("dx-dialog","-message"),I="".concat("dx-dialog","-buttons"),T="".concat("dx-dialog","-button"),D=o.default.inherit({ctor:function(t,e){this.callBase(e)},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{width:276}},{device:{platform:"android"},options:{lWidth:"60%",pWidth:"80%"}}])}});e.FakeDialogComponent=D;e.title="";var M=function(t){var e=new u.Deferred,n=(new D).option();t=(0,d.extend)(n,t);var o=(0,i.default)("<div>").addClass("dx-dialog").appendTo((0,g.value)()),f="messageHtml"in t;"message"in t&&v.default.log("W1013");var m=String(f?t.messageHtml:t.message),b=(0,i.default)("<div>").addClass(E).html(m),M=[];(0,c.each)(t.buttons||[w],(function(){var t=new r.default(this.onClick,{context:O});M.push({toolbar:"bottom",location:a.default.current().android?"after":"center",widget:"dxButton",options:(0,d.extend)({},this,{onClick:function(){var e=t.execute.apply(t,arguments);P(e)}})})}));var O=new y.default(o,(0,d.extend)({title:t.title||"",showTitle:(0,_.ensureDefined)(t.showTitle,!0),dragEnabled:(0,_.ensureDefined)(t.dragEnabled,!0),height:"auto",width:function(){var e=((0,i.default)(x).height()>(0,i.default)(x).width()?"p":"l")+"Width",n=Object.prototype.hasOwnProperty.call(t,e)?t[e]:t.width;return(0,h.isFunction)(n)?n():n},showCloseButton:t.showCloseButton||!1,ignoreChildEvents:!1,onContentReady:function(t){t.component.$content().addClass(k).append(b)},onShowing:function(t){t.component.bottomToolbar().addClass(I).find(".".concat("dx-button")).addClass(T),(0,l.resetActiveElement)()},onShown:function(t){var e=t.component.bottomToolbar().find(".".concat("dx-button")).first();p.default.trigger(e,"focus")},onHiding:function(){e.reject()},toolbarItems:M,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:(0,s.default)().rtlEnabled,boundaryOffset:{h:10,v:0}},t.popupOptions));function P(t){e.resolve(t),O.hide().done((function(){O.$element().remove()}))}return O._wrapper().addClass(C),t.position&&O.option("position",t.position),O._wrapper().addClass(S),{show:function(){return O.show(),e.promise()},hide:P}};e.custom=M;e.alert=function(t,e,n){var i=(0,h.isPlainObject)(t)?t:{title:e,messageHtml:t,showTitle:n,dragEnabled:n};return M(i).show()};e.confirm=function(t,e,n){var i=(0,h.isPlainObject)(t)?t:{title:e,messageHtml:t,showTitle:n,buttons:[{text:m.default.format("Yes"),onClick:function(){return!0}},{text:m.default.format("No"),onClick:function(){return!1}}],dragEnabled:n};return M(i).show()}},function(t,e,n){"use strict";e.default=void 0;var i=T(n(1)),o=T(n(7)),r=T(n(19)),a=T(n(50)),s=n(6),l=n(2),u=n(5),h=n(21),c=n(3),d=n(55),f=T(n(24)),p=n(90),g=n(27),m=T(n(18)),v=T(n(47)),y=T(n(82)),_=n(14),b=T(n(96)),x=T(n(253)),w=T(n(254)),C=T(n(94)),S=n(8),k=n(48),E=T(n(471));n(473);var I=n(255);function T(t){return t&&t.__esModule?t:{default:t}}function D(t){return function(t){if(Array.isArray(t))return M(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n(256),n(477);var O=["items","isRequired","validationRules","visible"],P=v.default.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new x.default,this._groupsColCount=[],this._attachSyncSubscriptions()},_initOptions:function(t){"screenByWidth"in t||(t.screenByWidth=_.defaultScreenFactorFunc),this.callBase(t)},_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{formID:"dx-"+new a.default,formData:{},colCount:1,screenByWidth:null,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:m.default.format("dxForm-optionalMark"),requiredMessage:m.default.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return(0,k.isMaterial)()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),(0,c.extend)(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(t){return parseInt(t.attr("group-col-count"))},_createHiddenElement:function(t){this._$hiddenElement=(0,i.default)("<div>").addClass("dx-widget").addClass("dx-layout-manager-hidden-label").appendTo("body");var e=t._renderLabel({text:" ",location:this._labelLocation()}).appendTo(this._$hiddenElement);this._hiddenLabelText=e.find(".dx-field-item-label-text")[0]},_removeHiddenElement:function(){this._$hiddenElement.remove(),this._hiddenLabelText=null},_getLabelWidthByText:function(t){return this._hiddenLabelText.innerHTML=t,this._hiddenLabelText.offsetWidth},_getLabelsSelectorByCol:function(t,e){return"."+((e=e||{}).inOneColumn?"dx-field-item":"dx-col-"+t)+(e.excludeTabbed?":not(.dx-field-item-tab)":"")+"> .dx-field-item-label > .dx-field-item-label-content"},_getLabelText:function(t){var e,n,i=t.children.length,o="";for(n=0;n<i;n++)e=t.children[n],o+=(0,d.isEmpty)(e.innerText)?e.innerHTML:e.innerText;return o},_applyLabelsWidthByCol:function(t,e,n){var i,o,r=t.find(this._getLabelsSelectorByCol(e,n)),a=r.length,s=0;for(o=0;o<a;o++)(i=this._getLabelWidthByText(this._getLabelText(r[o])))>s&&(s=i);for(o=0;o<a;o++)r[o].style.width=s+"px"},_applyLabelsWidth:function(t,e,n,i){i=n?1:i||this._getGroupColCount(t);var o,r={excludeTabbed:e,inOneColumn:n};for(o=0;o<i;o++)this._applyLabelsWidthByCol(t,o,r)},_getGroupElementsInColumn:function(t,e,n){var i=".dx-col-"+e+" > .dx-field-item-content > .dx-form-group"+((0,l.isDefined)(n)?".dx-group-colcount-"+n:"");return t.find(i)},_applyLabelsWidthWithGroups:function(t,e,n){if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(t,e,n);else{var i,o=this.$element().find(".dx-form-group");for(i=0;i<o.length;i++)this._applyLabelsWidth(o.eq(i),n)}},_applyLabelsWidthWithNestedGroups:function(t,e,n){var i,o,r,a,s={excludeTabbed:n};for(i=0;i<e;i++)for(a=this._getGroupElementsInColumn(t,i),this._applyLabelsWidthByCol(a,0,s),o=0;o<this._groupsColCount.length;o++){a=this._getGroupElementsInColumn(t,i,this._groupsColCount[o]);var l=this._getGroupColCount(a);for(r=1;r<l;r++)this._applyLabelsWidthByCol(a,r,s)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(t){var e=t.layoutManager,n=t.inOneColumn,i=t.$container,o=t.excludeTabbed,r=t.items;(0,_.hasWindow)()&&"top"!==this._labelLocation()&&(this._createHiddenElement(e),n?this._applyLabelsWidth(i,o,!0):this._checkGrouping(r)?this._applyLabelsWidthWithGroups(i,e._getColCount(),o):this._applyLabelsWidth(i,o,!1,e._getColCount()),this._removeHiddenElement())},_prepareFormData:function(){(0,l.isDefined)(this.option("formData"))||this.option("formData",{})},_initMarkup:function(){b.default.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass("dx-form"),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor()},_getCurrentScreenFactor:function(){return(0,_.hasWindow)()?(0,_.getCurrentScreenFactor)(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(t,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:t,excludeTabbed:!0,items:this.option("items"),inOneColumn:e})},_clean:function(){this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0},_renderScrollable:function(){var t=this.option("useNativeScrolling");this._scrollable=new C.default(this.$element(),{useNative:!!t,useSimulatedScrollbar:!t,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?this._scrollable.$content():this.$element()},_renderValidationSummary:function(){var t=this.$element().find(".dx-form-validation-summary");if(t.length>0&&t.remove(),this.option("showValidationSummary")){var e=(0,i.default)("<div>").addClass("dx-form-validation-summary").appendTo(this._getContent());this._validationSummary=e.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance")}},_prepareItems:function(t,e,n,i){if(t){for(var o=[],r=0;r<t.length;r++){var a=t[r],s=(0,I.concatPaths)(n,(0,I.createItemPathByIndex)(r,i)),u=this._itemsRunTimeInfo.add({item:a,itemIndex:r,path:s});if((0,l.isString)(a)&&(a={dataField:a}),(0,l.isObject)(a)){var h=(0,c.extend)({},a);h.guid=u,this._tryPrepareGroupItem(h),this._tryPrepareTabbedItem(h,s),this._tryPrepareItemTemplate(h),e&&(h.cssItemClass="dx-field-item-tab"),h.items&&(h.items=this._prepareItems(h.items,e,s)),o.push(h)}else o.push(a)}return o}},_tryPrepareGroupItem:function(t){"group"===t.itemType&&(t.alignItemLabels=(0,s.ensureDefined)(t.alignItemLabels,!0),t.template&&(t.groupContentTemplate=this._getTemplate(t.template)),t.template=this._itemGroupTemplate.bind(this,t))},_tryPrepareTabbedItem:function(t,e){"tabbed"===t.itemType&&(t.template=this._itemTabbedTemplate.bind(this,t),t.tabs=this._prepareItems(t.tabs,!0,e,!0))},_tryPrepareItemTemplate:function(t){t.template&&(t.template=this._getTemplate(t.template))},_checkGrouping:function(t){if(t)for(var e=0;e<t.length;e++){if("group"===t[e].itemType)return!0}},_renderLayout:function(){var t=this,e=t.option("items"),n=t._getContent();e=t._prepareItems(e),t._rootLayoutManager=t._renderLayoutManager(e,n,{colCount:t.option("colCount"),alignItemLabels:t.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(e){t._alignLabels.bind(t)(t._rootLayoutManager,e)},onContentReady:function(e){t._alignLabels(e.component,e.component.isSingleColumnMode())}})},_tryGetItemsForTemplate:function(t){return t.items||[]},_itemTabbedTemplate:function(t,e,n){var o=this,r=(0,i.default)("<div>").appendTo(n),a=(0,c.extend)({},t.tabPanelOptions,{dataSource:t.tabs,onItemRendered:function(t){return(0,p.triggerShownEvent)(t.itemElement)},itemTemplate:function(t,e,n){var r=(0,i.default)(n),a=(0,s.ensureDefined)(t.alignItemLabels,!0),l=o._renderLayoutManager(o._tryGetItemsForTemplate(t),r,{colCount:t.colCount,alignItemLabels:a,screenByWidth:o.option("screenByWidth"),colCountByScreen:t.colCountByScreen,cssItemClass:t.cssItemClass,onLayoutChanged:function(e){o._alignLabelsInColumn({$container:r,layoutManager:l,items:t.items,inOneColumn:e})}});o._itemsRunTimeInfo&&o._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:l}),a&&o._alignLabelsInColumn({$container:r,layoutManager:l,items:t.items,inOneColumn:l.isSingleColumnMode()})}}),l=function(t,e){Array.isArray(t)&&t.forEach((function(t){return o._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{widgetInstance:e})}))},u=this._createComponent(r,w.default,a);(0,i.default)(n).addClass("dx-field-item-has-tabs"),u.on("optionChanged",(function(t){"dataSource"===t.fullName&&l(t.value,t.component)})),l([{guid:t.guid}].concat(D(t.tabs)),u)},_itemGroupTemplate:function(t,e,n){var o,r,a=(0,i.default)("<div>").toggleClass("dx-form-group-with-caption",(0,l.isDefined)(t.caption)&&t.caption.length).addClass("dx-form-group").appendTo(n);(0,i.default)(n).addClass("dx-field-item-has-group"),t.caption&&(0,i.default)("<span>").addClass("dx-form-group-caption").text(t.caption).appendTo(a);var s=(0,i.default)("<div>").addClass("dx-form-group-content").appendTo(a);if(t.groupContentTemplate){var u={formData:this.option("formData"),component:this};t.groupContentTemplate.render({model:u,container:(0,g.getPublicElement)(s)})}else r=this._renderLayoutManager(this._tryGetItemsForTemplate(t),s,{colCount:t.colCount,colCountByScreen:t.colCountByScreen,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass}),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:r}),o=r._getColCount(),-1===(0,h.inArray)(o,this._groupsColCount)&&this._groupsColCount.push(o),a.addClass("dx-group-colcount-"+o),a.attr("group-col-count",o)},_renderLayoutManager:function(t,e,n){var o=(0,i.default)("<div>"),r=this,a=r._getLayoutManagerConfig(t,n),s={lg:n.colCount,md:n.colCount,sm:n.colCount,xs:1};r._cachedColCountOptions.push({colCountByScreen:(0,c.extend)(s,n.colCountByScreen)}),o.appendTo(e);var l=r._createComponent(o,"dxLayoutManager",a);return l.on("autoColCountChanged",(function(){r._refresh()})),r._cachedLayoutManagers.push(l),l},_getValidationGroup:function(){return this.option("validationGroup")||this},_getLayoutManagerConfig:function(t,e){var n=this,i={form:this,validationGroup:this._getValidationGroup(),showRequiredMark:this.option("showRequiredMark"),showOptionalMark:this.option("showOptionalMark"),requiredMark:this.option("requiredMark"),optionalMark:this.option("optionalMark"),requiredMessage:this.option("requiredMessage"),screenByWidth:this.option("screenByWidth"),layoutData:this.option("formData"),labelLocation:this.option("labelLocation"),customizeItem:this.option("customizeItem"),minColWidth:this.option("minColWidth"),showColonAfterLabel:this.option("showColonAfterLabel"),onEditorEnterKey:this.option("onEditorEnterKey"),onFieldDataChanged:function(t){n._isDataUpdating||n._triggerOnFieldDataChanged(t)},validationBoundary:this.option("scrollingEnabled")?this.$element():void 0};return(0,c.extend)(i,{items:t,onContentReady:function(t){n._itemsRunTimeInfo.addItemsOrExtendFrom(t.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(t)},onDisposing:function(t){var e=t.component.getItemsRunTimeInfo();n._itemsRunTimeInfo.removeItemsByItems(e)},colCount:e.colCount,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass,colCountByScreen:e.colCountByScreen,onLayoutChanged:e.onLayoutChanged,width:e.width})},_createComponent:function(t,e,n){return n=n||{},this._extendConfig(n,{readOnly:this.option("readOnly")}),this.callBase(t,e,n)},_attachSyncSubscriptions:function(){var t=this;t.on("optionChanged",(function(e){var n=e.fullName;"formData"===n&&((0,l.isDefined)(e.value)||t._options.silent("formData",e.value={}),t._triggerOnFieldDataChangedByDataSet(e.value)),t._cachedLayoutManagers.length&&(0,u.each)(t._cachedLayoutManagers,(function(i,o){"formData"===n&&(t._isDataUpdating=!0,o.option("layoutData",e.value),t._isDataUpdating=!1),"readOnly"!==e.name&&"disabled"!==e.name||o.option(n,e.value)}))}))},_optionChanged:function(t){var e=this._getRootLevelOfExpectedComplexOption(t.fullName,["formData","items"]);if(e)this._customHandlerOfComplexOption(t,e);else switch(t.name){case"formData":this.option("items")?(0,l.isEmptyObject)(t.value)&&this._resetValues():this._invalidate();break;case"items":case"colCount":case"onFieldDataChanged":case"onEditorEnterKey":case"labelLocation":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"readOnly":break;case"width":this.callBase(t),this._rootLayoutManager.option(t.name,t.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"visible":this.callBase(t),t.value&&(0,p.triggerShownEvent)(this.$element());break;case"validationGroup":b.default.removeGroup(t.previousValue||this),this._invalidate();break;default:this.callBase(t)}},_getRootLevelOfExpectedComplexOption:function(t,e){var n,i=t.split(".");if(i.length>1){var o,r=i[0];for(o=0;o<e.length;o++)-1!==r.search(e[o])&&(n=e[o])}return n},_tryCreateItemOptionAction:function(t,e,n,i,o){return"tabs"===t&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(o,".tabs")),n=this._prepareItems(n,!0,o,!0)),(0,E.default)(t,{item:e,value:n,previousValue:i,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(t){return t&&t.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(t){var e=(0,I.getOptionNameFromFullName)(t);O.indexOf(e)>-1&&(b.default.addGroup(this._getValidationGroup()),this.option("showValidationSummary")&&this._validationSummary&&this._validationSummary._initGroupRegistration())},_setLayoutManagerItemOption:function(t,e,n,i){var o=this;if(this._updateLockCount>0){!t._updateLockCount&&t.beginUpdate();var r=this._itemsRunTimeInfo.getKeyByPath(i);this.postponedOperations.add(r,(function(){return!t._disposed&&t.endUpdate(),(new S.Deferred).resolve()}))}t.on("contentReady",(function t(e){if(e.component.off("contentReady",t),(0,I.isFullPathContainsTabs)(i)){var n=(0,I.tryGetTabPath)(i),r=o._itemsRunTimeInfo.getGroupOrTabLayoutManagerByPath(n);o._alignLabelsInColumn({items:r.option("items"),layoutManager:r,$container:r.$element(),inOneColumn:r.isSingleColumnMode()})}else o._alignLabels(o._rootLayoutManager,o._rootLayoutManager.isSingleColumnMode())})),t.option(e,n),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption:function(t,e){var n=t.split("."),i=(0,I.getOptionNameFromFullName)(t);if("items"===i&&n.length>1){var o=this._getItemPath(n),r=this._itemsRunTimeInfo.getGroupOrTabLayoutManagerByPath(o);if(r){this._itemsRunTimeInfo.removeItemsByItems(r.getItemsRunTimeInfo());var a=this._prepareItems(e,!1,o);return this._setLayoutManagerItemOption(r,i,a,o),!0}}else if(n.length>2){var s=n.length-2,l=this._getItemPath(n.slice(0,s)),u=this._itemsRunTimeInfo.getGroupOrTabLayoutManagerByPath(l);if(u){var h=(0,I.getFullOptionName)(n[s],i);if("editorType"===i&&u.option(h)!==e)return!1;if("visible"===i){var c=this.option((0,I.getFullOptionName)(l,"items"));if(c&&c.length){var d=u.option("items");c.forEach((function(t,e){d[e].visibleIndex=t.visibleIndex}))}}return this._setLayoutManagerItemOption(u,h,e,l),!0}}return!1},_tryChangeLayoutManagerItemOptions:function(t,e){var n,i=this;return this.beginUpdate(),(0,u.each)(e,(function(e,o){if(!(n=i._tryChangeLayoutManagerItemOption((0,I.getFullOptionName)(t,e),o)))return!1})),this.endUpdate(),n},_customHandlerOfComplexOption:function(t,e){var n=t.fullName.split("."),i=t.value;if("items"===e){var o=this._getItemPath(n),r=this.option(o),a=t.fullName.replace(o+".",""),s=a.split(".")[0].replace(/\[\d+]/,""),l=this._tryCreateItemOptionAction(s,r,r[s],t.previousValue,o);if(!this._tryExecuteItemOptionAction(l)&&!this._tryChangeLayoutManagerItemOption(t.fullName,i)&&r){this._changeItemOption(r,a,i);var u=this._generateItemsFromData(this.option("items"));this.option("items",u)}}if("formData"===e){var h=n.slice(1).join("."),c=this.getEditor(h);c?c.option("value",i):this._triggerOnFieldDataChanged({dataField:h,value:i})}},_getItemPath:function(t){var e,n=t[0];for(e=1;e<t.length&&-1!==t[e].search(/items\[\d+]|tabs\[\d+]/);e++)n+="."+t[e];return n},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_triggerOnFieldDataChangedByDataSet:function(t){var e=this;t&&(0,l.isObject)(t)&&(0,u.each)(t,(function(t,n){e._triggerOnFieldDataChanged({dataField:t,value:n})}))},_updateFieldValue:function(t,e){if((0,l.isDefined)(this.option("formData"))){var n=this.getEditor(t);if(this.option("formData."+t,e),n)n.option("value")!==e&&n.option("value",e)}},_generateItemsFromData:function(t){var e=this.option("formData"),n=[];return!t&&(0,l.isDefined)(e)&&(0,u.each)(e,(function(t){n.push({dataField:t})})),t&&(0,u.each)(t,(function(t,e){(0,l.isObject)(e)?n.push(e):n.push({dataField:e})})),n},_getItemByField:function(t,e){var n,i=this,o=(0,l.isObject)(t)?t:i._getFieldParts(t),r=o.fieldName,a=o.fieldPath;return e.length&&(0,u.each)(e,(function(t,e){var o=e.itemType;if(a.length){var s=a.slice();e=i._getItemByFieldPath(s,r,e)}else if("group"===o&&!e.caption&&!e.name||"tabbed"===o&&!e.name){var l=i._getSubItemField(o);e.items=i._generateItemsFromData(e.items),e=i._getItemByField({fieldName:r,fieldPath:a},e[l])}if((0,I.isExpectedItem)(e,r))return n=e,!1})),n},_getFieldParts:function(t){for(var e=t,n=e.indexOf("."),i=[];-1!==n;)i.push(e.substr(0,n)),n=(e=e.substr(n+1)).indexOf(".");return{fieldName:e,fieldPath:i.reverse()}},_getItemByFieldPath:function(t,e,n){var i,o=n.itemType,r=this._getSubItemField(o),a="group"===o||"tabbed"===o||n.title;do{if(!a)break;var s=n.name||n.caption||n.title,u=(0,l.isDefined)(s),h=(0,I.getTextWithoutSpaces)(s),c=void 0;if(n[r]=this._generateItemsFromData(n[r]),u&&(c=t.pop()),!t.length&&(i=this._getItemByField(e,n[r])))break;(!u||u&&h===c)&&t.length&&(i=this._searchItemInEverySubItem(t,e,n[r]))}while(t.length&&!(0,l.isDefined)(i));return i},_getSubItemField:function(t){return"tabbed"===t?"tabs":"items"},_searchItemInEverySubItem:function(t,e,n){var i,o=this;return(0,u.each)(n,(function(n,r){if(i=o._getItemByFieldPath(t.slice(),e,r))return!1})),i||(i=!1),i},_changeItemOption:function(t,e,n){(0,l.isObject)(t)&&(t[e]=n)},_dimensionChanged:function(){var t=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==t&&(this._isColCountChanged(this._lastMarkupScreenFactor,t)&&(this._targetScreenFactor=t,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=t)},_isColCountChanged:function(t,e){var n=!1;return(0,u.each)(this._cachedColCountOptions,(function(i,o){if(o.colCountByScreen[t]!==o.colCountByScreen[e])return n=!0,!1})),n},_refresh:function(){o.default.trigger(this.$element().find(".dx-state-focused input, .dx-state-focused textarea"),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each((function(t,e){(0,l.isDefined)(e.widgetInstance)&&e.widgetInstance instanceof y.default&&(e.widgetInstance.reset(),e.widgetInstance.option("isValid",!0))})),b.default.resetGroup(this._getValidationGroup())},_updateData:function(t,e,n){var i=this,o=n?e:t;(0,l.isObject)(o)?(0,u.each)(o,(function(e,o){i._updateData(n?t+"."+e:e,o,(0,l.isObject)(o))})):(0,l.isString)(t)&&i._updateFieldValue(t,e)},registerKeyHandler:function(t,e){this.callBase(t,e),this._itemsRunTimeInfo.each((function(n,i){(0,l.isDefined)(i.widgetInstance)&&i.widgetInstance.registerKeyHandler(t,e)}))},_focusTarget:function(){return this.$element().find(".dx-field-item-content [tabindex]").first()},_visibilityChanged:function(t){t&&f.default.msie&&this._refresh()},_dispose:function(){b.default.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(t,e){this._updateData(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},getButton:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByName(t)},updateDimensions:function(){var t=this,e=new S.Deferred;return t._scrollable?t._scrollable.update().done((function(){e.resolveWith(t)})):e.resolveWith(t),e.promise()},itemOption:function(t,e,n){var i=this,o=this._generateItemsFromData(this.option("items")),r=this._getItemByField(t,o),a=(0,I.getItemPath)(o,r);if(r)switch(arguments.length){case 1:return r;case 3:var s=this._tryCreateItemOptionAction(e,r,n,r[e],a);this._changeItemOption(r,e,n);var h=(0,I.getFullOptionName)(a,e);this._tryExecuteItemOptionAction(s)||this._tryChangeLayoutManagerItemOption(h,n)||this.option("items",o);break;default:var c;if((0,l.isObject)(e))if(!this._tryChangeLayoutManagerItemOptions(a,e))(0,u.each)(e,(function(t,e){var n=i._tryCreateItemOptionAction(t,r,e,r[t],a);i._changeItemOption(r,t,e),c||i._tryExecuteItemOptionAction(n)||(c=!0)})),c&&this.option("items",o)}},validate:function(){return b.default.validateGroup(this._getValidationGroup())},getItemID:function(t){return"dx_"+this.option("formID")+"_"+(t||new a.default)},getTargetScreenFactor:function(){return this._targetScreenFactor}});(0,r.default)("dxForm",P);var A=P;e.default=A,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=v(n(1)),o=n(41),r=n(466),a=n(52),s=n(3),l=n(6),u=n(90),h=n(27),c=n(2),d=v(n(17)),f=v(n(19)),p=v(n(183)),g=v(n(251)),m=n(8);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){return+t},_=p.default.inherit({_activeStateUnit:".dx-multiview-item",_supportedKeys:function(){return(0,s.extend)(this.callBase(),{pageUp:l.noop,pageDown:l.noop})},_getDefaultOptions:function(){return(0,s.extend)(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===d.default.real().deviceType&&!d.default.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return"dx-multiview-item"},_itemDataKey:function(){return"dxMultiViewItemData"},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=this._$wrapper.width()),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(t){var e=this._itemsCount();return t<0&&(t+=e),t>=e&&(t-=e),t},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.$element();t.addClass("dx-multiview"),this._$wrapper=(0,i.default)("<div>").addClass("dx-multiview-wrapper"),this._$wrapper.appendTo(t),this._$itemContainer=(0,i.default)("<div>").addClass("dx-multiview-item-container"),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(t){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(t.index,0,null)},_executeItemRenderAction:function(t,e,n){t=(this.option("items")||[]).indexOf(e),this.callBase(t,e,n)},_renderItemContent:function(t){var e=new m.Deferred,n=this,i=this.callBase,o=new m.Deferred;return o.done((function(){var o=i.call(n,t);e.resolve(o)})),this._deferredItems[t.index]=o,this.option("deferRendering")||o.resolve(),e.promise()},_render:function(){var t=this;this.callBase(),(0,l.deferRender)((function(){var e=t._getSelectedItemIndices();t._updateItems(e[0])}))},_updateItems:function(t,e){this._updateItemsPosition(t,e),this._updateItemsVisibility(t,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_updateItemsPosition:function(t,e){var n=this._itemElements(),i=(0,c.isDefined)(e)?-this._animationDirection(e,t):void 0,o=n.eq(t);r._translator.move(o,0),(0,c.isDefined)(e)&&r._translator.move(n.eq(e),100*i+"%")},_updateItemsVisibility:function(t,e){this._itemElements().each(function(n,o){var r=(0,i.default)(o),a=n!==t&&n!==e;a||this._renderSpecificItem(n),r.toggleClass("dx-multiview-item-hidden",a),this.setAria("hidden",a||void 0,r)}.bind(this))},_renderSpecificItem:function(t){var e=this._itemElements().eq(t),n=e.find(this._itemContentClass()).length>0;(0,c.isDefined)(t)&&!n&&(this._deferredItems[t].resolve(),(0,u.triggerResizeEvent)(e))},_refreshItem:function(t,e){this.callBase(t,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelected:l.noop,_updateSelection:function(t,e){var n=t[0],i=e[0];r.animation.complete(this._$itemContainer),this._updateItems(i,n);var o=this._animationDirection(n,i);this._animateItemContainer(o*this._itemWidth(),function(){r._translator.move(this._$itemContainer,0),this._updateItems(n),this._$itemContainer.width()}.bind(this))},_animateItemContainer:function(t,e){var n=this.option("animationEnabled")?200:0;r.animation.moveTo(this._$itemContainer,t,n,e)},_animationDirection:function(t,e){var n,i=(n=this._$itemContainer,(0,o.locate)(n).left),r=(e-t)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),s=0!==i?i:r;return(0,a.sign)(s)},_getSwipeDisabledState:function(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable:function(){var t=this;this._createComponent(this.$element(),g.default,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:function(e){return t._swipeStartHandler(e.event)},onUpdated:function(e){return t._swipeUpdateHandler(e.event)},onEnd:function(e){return t._swipeEndHandler(e.event)}})},_swipeStartHandler:function(t){r.animation.complete(this._$itemContainer);var e=this.option("selectedIndex"),n=this.option("loop"),i=this._itemsCount()-1,o=this.option("rtlEnabled");t.maxLeftOffset=y(n||(o?e>0:e<i)),t.maxRightOffset=y(n||(o?e<i:e>0)),this._swipeDirection=null},_swipeUpdateHandler:function(t){var e=t.offset,n=(0,a.sign)(e)*this._getRTLSignCorrection();if(r._translator.move(this._$itemContainer,e*this._itemWidth()),n!==this._swipeDirection){this._swipeDirection=n;var i=this.option("selectedIndex"),o=this._normalizeIndex(i-n);this._updateItems(i,o)}},_swipeEndHandler:function(t){var e=t.targetOffset*this._getRTLSignCorrection();if(e){this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-e));var n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",(0,h.getPublicElement)(n))}else this._animateItemContainer(0,l.noop)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.last()),e},_nextItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(t){t&&this._dimensionChanged()},_updateSwipeDisabledState:function(){var t=this._getSwipeDisabledState();g.default.getInstance(this.$element()).option("disabled",t)},_optionChanged:function(t){var e=t.value;switch(t.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this.callBase(t);break;default:this.callBase(t)}}});(0,f.default)("dxMultiView",_);var b=_;e.default=b,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.animation=e._translator=void 0;var i,o=(i=n(57))&&i.__esModule?i:{default:i},r=n(41);var a={move:function(t,e){(0,r.move)(t,{left:e})}};e._translator=a;var s={moveTo:function(t,e,n,i){o.default.animate(t,{type:"slide",to:{left:e},duration:n,complete:i})},complete:function(t){o.default.stop(t,!0)}};e.animation=s},function(t,e,n){"use strict";e.default=void 0;var i=C(n(1)),o=C(n(7)),r=C(n(17)),a=C(n(19)),s=C(n(45)),l=n(95),u=n(13),h=n(3),c=n(2),d=C(n(33)),f=n(5),p=C(n(468)),g=n(469),m=n(48),v=C(n(110)),y=C(n(94)),_=C(n(183)),b=n(108),x=n(98),w=n(8);function C(t){return t&&t.__esModule?t:{default:t}}var S=_.default.inherit({_activeStateUnit:".dx-tab",_getDefaultOptions:function(){return(0,h.extend)(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=(0,m.current)();return this.callBase().concat([{device:function(){return"desktop"!==r.default.real().deviceType},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return"desktop"===r.default.real().deviceType&&!r.default.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return(0,m.isMaterial)(t)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=100},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new x.BindableTemplate(function(t,e){(0,c.isPlainObject)(e)?this._prepareDefaultItemTemplate(e,t):t.text(String(e));var n=(0,b.getImageContainer)(e.icon);n&&n.prependTo(t),t.wrapInner((0,i.default)("<span>").addClass("dx-tab-text"))}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(t,e){var n=this,i=e.itemData,o=e.container,r=e.index;return this._deferredTemplates[r]=new w.Deferred,t.render({model:i,container:o,index:r,onRendered:function(){return n._deferredTemplates[r].resolve()}})},_itemClass:function(){return"dx-tab"},_selectedItemClass:function(){return"dx-tab-selected"},_itemDataKey:function(){return"dxTabData"},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.setAria("role","tab",this.itemElements()),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass("dx-overflow-hidden")},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling:function(){var t=this;w.when.apply(this,this._deferredTemplates).done((function(){return t._renderScrolling()}))},_renderScrolling:function(){var t=["dx-tabs-stretched",g.TABS_EXPANDED_CLASS,"dx-overflow-hidden"];this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()&&(this._scrollable||(this._renderScrollable(),this._renderNavButtons()),this._scrollable.update(),this._updateNavButtonsVisibility(),this.option("rtlEnabled")&&this._scrollable.scrollTo({left:this._scrollable.scrollWidth()-this._scrollable.clientWidth()}),this._scrollToItem(this.option("selectedItem"))),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass("dx-tabs-stretched"),this.$element().removeClass("dx-tabs-nav-buttons").addClass(g.TABS_EXPANDED_CLASS))},_isItemsWidthExceeded:function(){return this._getSummaryItemsWidth(this._getVisibleItems(),!0)-1>this.$element().width()},_needStretchItems:function(){var t=this._getVisibleItems(),e=this.$element().width(),n=[];return(0,f.each)(t,(function(t,e){n.push((0,i.default)(e).outerWidth(!0))})),Math.max.apply(null,n)>e/t.length},_cleanNavButtons:function(){this._leftButton&&this._rightButton&&(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=(0,l.render)()},_toggleActiveState:function(t,e,n){if(this.callBase.apply(this,arguments),this._inkRipple){var i={element:t,event:n};e?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=(0,i.default)("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var t=this.$element().wrapInner((0,i.default)("<div>").addClass("dx-tabs-scrollable")).children();this._scrollable=this._createComponent(t,y.default,{direction:"horizontal",showScrollbar:!1,useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:this._updateNavButtonsVisibility.bind(this)}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass("dx-tabs-nav-buttons",this.option("showNavButtons")),this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-30,t?"chevronnext":"chevronprev");var e=this._leftButton.$element();e.addClass("dx-tabs-nav-button-left"),this.$element().prepend(e),this._rightButton=this._createNavButton(30,t?"chevronprev":"chevronnext");var n=this._rightButton.$element();n.addClass("dx-tabs-nav-button-right"),this.$element().append(n)}},_updateNavButtonsVisibility:function(){this._leftButton&&this._leftButton.option("disabled",this._scrollable.scrollLeft()<=0),this._rightButton&&this._rightButton.option("disabled",this._scrollable.scrollLeft()>=Math.round(this._scrollable.scrollWidth()-this._scrollable.clientWidth()))},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var n=this,r=n._createAction((function(){n._holdInterval=setInterval((function(){n._updateScrollPosition(t,5)}),5)})),a=(0,u.addNamespace)(v.default.name,"dxNavButton"),l=(0,u.addNamespace)(d.default.up,"dxNavButton"),h=(0,u.addNamespace)(d.default.out,"dxNavButton"),c=this._createComponent((0,i.default)("<div>").addClass("dx-tabs-nav-button"),s.default,{focusStateEnabled:!1,icon:e,onClick:function(){n._updateScrollPosition(t,1)},integrationOptions:{}}),f=c.$element();return o.default.on(f,a,{timeout:300},function(t){r({event:t})}.bind(this)),o.default.on(f,l,(function(){n._clearInterval()})),o.default.on(f,h,(function(){n._clearInterval()})),c},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]),{left:1,right:1})},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){"single"===this.option("selectionMode")&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_afterItemElementInserted:function(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._renderScrolling()}});S.ItemClass=p.default,(0,a.default)("dxTabs",S);var k=S;e.default=k,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=r(n(1)),o=r(n(109));function r(t){return t&&t.__esModule?t:{default:t}}var a=o.default.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(t){if(this._$element.children(".dx-badge").remove(),t){var e=(0,i.default)("<div>").addClass("dx-tabs-item-badge").addClass("dx-badge").text(t);this._$element.append(e)}}});e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.TABS_EXPANDED_CLASS=void 0;e.TABS_EXPANDED_CLASS="dx-tabs-expanded"},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(109))&&i.__esModule?i:{default:i},r=n(6);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return(u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(a,t);var e,n,i,o=c(a);function a(){return s(this,a),o.apply(this,arguments)}return e=a,(n=[{key:"_renderWatchers",value:function(){return this._startWatcher("badge",r.noop),u(f(a.prototype),"_renderWatchers",this).call(this)}}])&&l(e.prototype,n),i&&l(e,i),a}(o.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(472))&&i.__esModule?i:{default:i},r=n(54),a=n(3),s=n(255);function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){d(n,t);var e=p(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,[{key:"tryExecute",value:function(){var t=this._options.value,e=this.findInstance();return!!e&&(e.option(t),!0)}}]),n}(o.default),y=function(t){d(n,t);var e=p(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,[{key:"tryExecute",value:function(){var t=this.findInstance();if(t){var e=this._options,n=e.optionName,i=e.item,o=e.value,r=this._itemsRunTimeInfo.findItemIndexByItem(i);if(r>=0)return t.option((0,s.getFullOptionName)("items[".concat(r,"]"),n),o),!0}return!1}}]),n}(o.default),_=function(t){d(n,t);var e=p(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,[{key:"tryExecute",value:function(){var t=this.findInstance();if(t){var e=this._options.value;return t.option("dataSource",e),!0}return!1}}]),n}(o.default),b=function(t){d(n,t);var e=p(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,[{key:"tryExecute",value:function(){var t=this._options.item,e=this.findInstance(),n=e&&(0,r.data)(e.$element()[0],"dxValidator");if(n&&t){var i=function(t){return"required"===t.type},o=(n.option("validationRules")||[]).some(i),a=(t.validationRules||[]).some(i);if(!o&&!a||o&&a)return n.option("validationRules",t.validationRules),!0}return!1}}]),n}(o.default),x=function(t){d(n,t);var e=p(n);function n(){return u(this,n),e.apply(this,arguments)}return c(n,[{key:"tryExecute",value:function(){var t=this.findItemContainer(),e=this._options,n=e.previousValue,i=e.value;return!!t&&(t.removeClass(n).addClass(i),!0)}}]),n}(o.default),w=function(t,e){switch(t){case"editorOptions":case"buttonOptions":return new v(e);case"validationRules":return new b(e);case"cssClass":return new x(e);case"badge":case"disabled":case"icon":case"template":case"tabTemplate":case"title":return new y((0,a.extend)(e,{optionName:t}));case"tabs":return new _(e);default:return null}};e.default=w,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=(i=n(20))&&i.__esModule?i:{default:i};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}var e,n,i;return e=t,(n=[{key:"findInstance",value:function(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}},{key:"findItemContainer",value:function(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}},{key:"tryExecute",value:function(){o.default.abstract()}}])&&r(e.prototype,n),i&&r(e,i),t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=T(n(1)),o=T(n(7)),r=T(n(50)),a=T(n(253)),s=T(n(19)),l=n(2),u=n(27),h=T(n(86)),c=n(14),d=n(55),f=n(5),p=n(3),g=n(21),m=n(29),v=T(n(116)),y=n(30),_=T(n(25)),b=T(n(18)),x=n(88),w=n(60),C=T(n(47)),S=T(n(187)),k=T(n(475)),E=n(48),I=n(476);function T(t){return t&&t.__esModule?t:{default:t}}function D(t){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n(144),n(147),n(127),n(249),n(45);var P=["dataSource","items"],A=["dxTagBox","dxRangeSlider"],R=C.default.inherit({_getDefaultOptions:function(){return(0,p.extend)(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",optionalMark:b.default.format("dxForm-optionalMark"),requiredMessage:b.default.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),(0,p.extend)(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var t=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new a.default,this._updateReferencedOptions(t),this._initDataAndItems(t)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(t){this._syncDataWithItems(),this._updateItems(t)},_syncDataWithItems:function(){var t=this,e=this.option("layoutData"),n=this.option("items");(0,l.isDefined)(n)&&n.forEach((function(n){var i;n.dataField&&void 0===t._getDataByField(n.dataField)&&(n.editorOptions&&(i=n.editorOptions.value),((0,l.isDefined)(i)||n.dataField in e)&&t._updateFieldValue(n.dataField,i))}))},_getDataByField:function(t){return t?this.option("layoutData."+t):null},_isCheckboxUndefinedStateEnabled:function(t){if(!0===t.allowIndeterminateState&&"dxCheckBox"===t.editorType){var e=["layoutData"].concat(M(t.dataField.split("."))),n=e.pop(),i=this.option(e.join("."));return i&&n in i}return!1},_updateFieldValue:function(t,e){var n=this.option("layoutData"),i=e;!h.default.isWrapped(n[t])&&(0,l.isDefined)(t)?this.option("layoutData."+t,i):h.default.isWritableWrapped(n[t])&&(i=(0,l.isFunction)(i)?i():i,n[t](i)),this._triggerOnFieldDataChanged({dataField:t,value:i})},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_updateItems:function(t){var e=this,n=this.option("items"),i=(0,l.isDefined)(n),o=e.option("customizeItem"),r=i?n:this._generateItemsByData(t);if((0,l.isDefined)(r)){var a=[];(0,f.each)(r,(function(t,n){e._isAcceptableItem(n)&&(n=e._processItem(n),o&&o(n),(0,l.isObject)(n)&&!1!==h.default.unwrap(n.visible)&&a.push(n))})),e._itemWatchers.length&&i||e._updateItemWatchers(r),this._setItems(a),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach((function(t){t()})),this._itemWatchers=[]},_updateItemWatchers:function(t){var e=this,n=e._getWatch();t.forEach((function(t){(0,l.isObject)(t)&&(0,l.isDefined)(t.visible)&&(0,l.isFunction)(n)&&e._itemWatchers.push(n((function(){return h.default.unwrap(t.visible)}),(function(){e._updateItems(e.option("layoutData")),e.repaint()}),{skipImmediate:!0}))}))},_generateItemsByData:function(t){var e=[];return(0,l.isDefined)(t)&&(0,f.each)(t,(function(t){e.push({dataField:t})})),e},_isAcceptableItem:function(t){var e=t.dataField||t,n=this._getDataByField(e);return!((0,l.isFunction)(n)&&!h.default.isWrapped(n))},_processItem:function(t){if("string"===typeof t&&(t={dataField:t}),"object"!==D(t)||t.itemType||(t.itemType="simple"),!(0,l.isDefined)(t.editorType)&&(0,l.isDefined)(t.dataField)){var e=this._getDataByField(t.dataField);t.editorType=(0,l.isDefined)(e)?this._getEditorTypeByDataType((0,l.type)(e)):"dxTextBox"}var n;"dxCheckBox"===t.editorType&&(t.allowIndeterminateState=null===(n=t.allowIndeterminateState)||void 0===n||n);return t},_getEditorTypeByDataType:function(t){switch(t){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){(0,g.normalizeIndexes)(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort((function(t,e){var n=t.visibleIndex,i=e.visibleIndex;return n>i?1:n<i?-1:0}))},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(I.FORM_LAYOUT_MANAGER_CLASS),this.callBase(),this._renderResponsiveBox()},_hasBrowserFlex:function(){return"flex"===(0,x.styleProp)("flex")},_renderResponsiveBox:function(){var t=[];if(this._items&&this._items.length){var e=this._getColCount(),n=(0,i.default)("<div>").appendTo(this.$element());this._prepareItemsWithMerging(e);var o=this._generateLayoutItems();this._extendItemsWithDefaultTemplateOptions(o,this._items),this._responsiveBox=this._createComponent(n,k.default,this._getResponsiveBoxConfig(o,e,t)),(0,c.hasWindow)()||this._renderTemplates(t)}},_extendItemsWithDefaultTemplateOptions:function(t,e){e.forEach((function(e){e.merged||((0,l.isDefined)(e.disabled)&&(t[e.visibleIndex].disabled=e.disabled),(0,l.isDefined)(e.visible)&&(t[e.visibleIndex].visible=e.visible))}))},_itemStateChangedHandler:function(t){this._refresh()},_renderTemplate:function(t,e){switch(e.itemType){case"empty":this._renderEmptyItem(t);break;case"button":this._renderButtonItem(e,t);break;default:this._renderFieldItem(e,t)}},_renderTemplates:function(t){var e=this;(0,f.each)(t,(function(t,n){e._renderTemplate(n.container,n.formItem)}))},_getResponsiveBoxConfig:function(t,e,n){var o=this,r=o.option("colCountByScreen"),a=r&&r.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),_layoutStrategy:o._hasBrowserFlex()?"flex":"fallback",onLayoutChanged:function(){var t=o.option("onLayoutChanged"),e=o.isSingleColumnMode();t&&(o.$element().toggleClass(I.LAYOUT_MANAGER_ONE_COLUMN,e),t(e))},onContentReady:function(t){(0,c.hasWindow)()&&o._renderTemplates(n),o.option("onLayoutChanged")&&o.$element().toggleClass(I.LAYOUT_MANAGER_ONE_COLUMN,o.isSingleColumnMode(t.component))},itemTemplate:function(t,r,a){if(t.location){var s=(0,i.default)(a),l=t.location.row*e,u=o._items[t.location.col+l],h=(0,i.default)("<div>").addClass(u.cssClass).appendTo(s);n.push({container:h,formItem:u}),s.toggleClass(I.SINGLE_COLUMN_ITEM_CONTENT,o.isSingleColumnMode(this)),0===t.location.row&&h.addClass("dx-first-row"),0===t.location.col&&h.addClass("dx-first-col");var c=t.location.col===e-1||t.location.col+t.location.colspan===e,d=o._getRowsCount(),f=t.location.row===d-1;c&&h.addClass("dx-last-col"),f&&h.addClass("dx-last-row")}},cols:o._generateRatio(e),rows:o._generateRatio(o._getRowsCount(),!0),dataSource:t,screenByWidth:o.option("screenByWidth"),singleColumnScreen:!a&&"xs"}},_getColCount:function(){var t=this.option("colCount"),e=this.option("colCountByScreen");if(e){var n=this.option("form").getTargetScreenFactor();n||(n=(0,c.hasWindow)()?(0,c.getCurrentScreenFactor)(this.option("screenByWidth")):"lg"),t=e[n]||t}if("auto"===t){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=t=this._getMaxColCount()}return t<1?1:t},_getMaxColCount:function(){if(!(0,c.hasWindow)())return 1;var t=this.option("minColWidth"),e=this.$element().width(),n=this._items.length,i=Math.floor(e/t)||1;return n<i?n:i},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(t){var e,n,i,o,r=this._items.slice(0),a=[];for(o=0;o<r.length;o++)if(e=r[o],a.push(e),(this.option("alignItemLabels")||e.alignItemLabels||e.colSpan)&&(e.col=this._getColByIndex(a.length-1,t)),e.colSpan>1&&e.col+e.colSpan<=t){for(n=[],i=0;i<e.colSpan-1;i++)n.push({merged:!0});a=a.concat(n)}else delete e.colSpan;this._setItems(a)},_getColByIndex:function(t,e){return t%e},_setItems:function(t){this._items=t,this._cashedColCount=null},_generateLayoutItems:function(){var t,e,n=this._items,i=this._getColCount(),o=[];for(e=0;e<n.length;e++)if(!(t=n[e]).merged){var r={location:{row:parseInt(e/i),col:this._getColByIndex(e,i)}};(0,l.isDefined)(t.colSpan)&&(r.location.colspan=t.colSpan),(0,l.isDefined)(t.rowSpan)&&(r.location.rowspan=t.rowSpan),o.push(r)}return o},_renderEmptyItem:function(t){return t.addClass(I.FIELD_EMPTY_ITEM_CLASS).html("&nbsp;")},_getButtonHorizontalAlignment:function(t){return(0,l.isDefined)(t.horizontalAlignment)?t.horizontalAlignment:"right"},_getButtonVerticalAlignment:function(t){switch(t.verticalAlignment){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}},_renderButtonItem:function(t,e){var n=(0,i.default)("<div>").appendTo(e),o={validationGroup:this.option("validationGroup")};e.addClass(I.FIELD_BUTTON_ITEM_CLASS).css("textAlign",this._getButtonHorizontalAlignment(t)),e.parent().css("justifyContent",this._getButtonVerticalAlignment(t));var r=this._createComponent(n,"dxButton",(0,p.extend)(o,t.buttonOptions));return this._itemsRunTimeInfo.add({item:t,widgetInstance:r,guid:t.guid,$itemContainer:e}),this._addItemClasses(e,t.col),n},_addItemClasses:function(t,e){t.addClass(I.FIELD_ITEM_CLASS).addClass(this.option("cssItemClass")).addClass((0,l.isDefined)(e)?"dx-col-"+e:"")},_renderFieldItem:function(t,e){var n,o=this._getName(t),a=this.getItemID(o),s=(0,l.isDefined)(t.isRequired)?t.isRequired:!!this._hasRequiredRuleInSet(t.validationRules),u=this._getLabelOptions(t,a,s),h=(0,i.default)("<div>"),c=t.helpText?"dx-"+new r.default:null;this._addItemClasses(e,t.col),e.addClass(s?I.FIELD_ITEM_REQUIRED_CLASS:I.FIELD_ITEM_OPTIONAL_CLASS),u.visible&&u.text&&(n=this._renderLabel(u).appendTo(e)),"simple"===t.itemType&&(this._isLabelNeedBaselineAlign(t)&&"top"!==u.location&&e.addClass(I.FIELD_ITEM_LABEL_ALIGN_CLASS),this._hasBrowserFlex()&&e.addClass(I.FLEX_LAYOUT_CLASS)),h.data("dx-form-item",t),this._appendEditorToField({$fieldItem:e,$label:n,$editor:h,labelOptions:u});var d=this._renderEditor({$container:h,dataField:t.dataField,name:t.name,editorType:t.editorType,editorOptions:t.editorOptions,template:this._getTemplateByFieldItem(t),isRequired:s,helpID:c,labelID:u.labelID,id:a,validationBoundary:this.option("validationBoundary"),allowIndeterminateState:t.allowIndeterminateState});this._itemsRunTimeInfo.add({item:t,widgetInstance:d,guid:t.guid,$itemContainer:e});var f=h.children().first(),p=f.hasClass("dx-template-wrapper")?f.children().first():f;p&&p.data("dx-validation-target")&&this._renderValidator(p,t),this._renderHelpText(t,h,c),this._attachClickHandler(n,h,t.editorType)},_hasRequiredRuleInSet:function(t){var e;return t&&t.length&&(0,f.each)(t,(function(t,n){if("required"===n.type)return e=!0,!1})),e},_getName:function(t){return t.dataField||t.name},_isLabelNeedBaselineAlign:function(t){return!!t.helpText&&!this._hasBrowserFlex()||-1!==(0,g.inArray)(t.editorType,["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"])},_isLabelNeedId:function(t){return-1!==(0,g.inArray)(t.editorType,["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"])},_getLabelOptions:function(t,e,n){var i=(0,p.extend)({showColon:this.option("showColonAfterLabel"),location:this.option("labelLocation"),id:e,visible:!0,isRequired:n},t?t.label:{});return this._isLabelNeedId(t)&&(i.labelID="dx-label-".concat(new r.default)),!i.text&&t.dataField&&(i.text=(0,w.captionize)(t.dataField)),i.text&&(i.text+=i.showColon?":":""),i},_renderLabel:function(t){var e=t.text,n=t.id,o=t.location,r=t.alignment,a=t.isRequired,s=t.labelID,u=void 0===s?null:s;if((0,l.isDefined)(e)&&e.length>0){var h=I.FIELD_ITEM_LABEL_CLASS+" "+I.FIELD_ITEM_LABEL_LOCATION_CLASS+o,c=(0,i.default)("<label>").addClass(h).attr("for",n).attr("id",u),d=(0,i.default)("<span>").addClass(I.FIELD_ITEM_LABEL_CONTENT_CLASS).appendTo(c);return(0,i.default)("<span>").addClass(I.FIELD_ITEM_LABEL_TEXT_CLASS).text(e).appendTo(d),r&&c.css("textAlign",r),d.append(this._renderLabelMark(a)),c}},_renderLabelMark:function(t){var e,n=this._getRequiredMarksConfig(),o=n.showRequiredMark&&t,r=n.showOptionalMark&&!t;if(o||r){var a=o?I.FIELD_ITEM_REQUIRED_MARK_CLASS:I.FIELD_ITEM_OPTIONAL_MARK_CLASS,s=o?n.requiredMark:n.optionalMark;e=(0,i.default)("<span>").addClass(a).html("&nbsp"+s)}return e},_getRequiredMarksConfig:function(){return this._cashedRequiredConfig||(this._cashedRequiredConfig={showRequiredMark:this.option("showRequiredMark"),showOptionalMark:this.option("showOptionalMark"),requiredMark:this.option("requiredMark"),optionalMark:this.option("optionalMark")}),this._cashedRequiredConfig},_renderEditor:function(t){var e=this._getDataByField(t.dataField),n=void 0!==e||this._isCheckboxUndefinedStateEnabled(t)?{value:e}:{};-1!==A.indexOf(t.editorType)&&(n.value=n.value||[]);var i=this.option("form"),o=(0,p.extend)(!0,n,t.editorOptions,{inputAttr:{id:t.id},validationBoundary:t.validationBoundary,stylingMode:i&&i.option("stylingMode")});this._replaceDataOptions(t.editorOptions,o);var r={editorType:t.editorType,dataField:t.dataField,template:t.template,name:t.name,helpID:t.helpID,labelID:t.labelID,isRequired:t.isRequired};return this._createEditor(t.$container,r,o)},_replaceDataOptions:function(t,e){t&&P.forEach((function(n){e[n]&&(e[n]=t[n])}))},_renderValidator:function(t,e){var n=this._getFieldLabelName(e),i=this._prepareValidationRules(e.validationRules,e.isRequired,e.itemType,n);Array.isArray(i)&&i.length&&this._createComponent(t,S.default,{validationRules:i,validationGroup:this.option("validationGroup"),dataGetter:function(){return{formItem:e}}})},_getFieldLabelName:function(t){var e=t.label&&t.label.text,n=e?null:this._getName(t);return e?t.label.text:n&&(0,w.captionize)(n)},_prepareValidationRules:function(t,e,n,i){var o;if("simple"===n)if(t)o=t;else{var r=(0,d.format)(this.option("requiredMessage"),i||"");o=e?[{type:"required",message:r}]:null}return o},_addWrapperInvalidClass:function(t){var e="."+I.FIELD_ITEM_CONTENT_WRAPPER_CLASS,n=function(t){(0,i.default)(t.element).parents(e).toggleClass("dx-invalid",t.component._isFocused()&&!1===t.component.option("isValid"))};t.on("focusIn",n).on("focusOut",n).on("enterKey",n)},_createEditor:function(t,e,n){var o,r=e.template;if(e.dataField&&!n.name&&(n.name=e.dataField),this._addItemContentClasses(t),r){var a={dataField:e.dataField,editorType:e.editorType,editorOptions:n,component:this._getComponentOwner(),name:e.name};r.render({model:a,container:(0,u.getPublicElement)(t)})}else{var s=(0,i.default)("<div>").appendTo(t);try{(o=this._createComponent(s,e.editorType,n)).setAria("describedby",e.helpID),o.setAria("labelledby",e.labelID),o.setAria("required",e.isRequired),(0,E.isMaterial)()&&this._addWrapperInvalidClass(o),e.dataField&&this._bindDataField(o,e,t)}catch(l){_.default.log("E1035",l.message)}}return o},_getComponentOwner:function(){return this.option("form")||this},_bindDataField:function(t,e,n){var i=this._getComponentOwner();t.on("enterKey",(function(t){i._createActionByOption("onEditorEnterKey")((0,p.extend)(t,{dataField:e.dataField}))})),this._createWatcher(t,n,e),this.linkEditorToDataField(t,e.dataField,e.editorType)},_createWatcher:function(t,e,n){var i=this,r=i._getWatch();if((0,l.isFunction)(r)){var a=r((function(){return i._getDataByField(n.dataField)}),(function(){t.option("value",i._getDataByField(n.dataField))}),{deep:!0,skipImmediate:!0});o.default.on(e,v.default,a)}},_getWatch:function(){if(!(0,l.isDefined)(this._watch)){var t=this.option("form");this._watch=t&&t.option("integrationOptions.watchMethod")}return this._watch},_addItemContentClasses:function(t){var e=this._getItemContentLocationSpecificClass();t.addClass([I.FIELD_ITEM_CONTENT_CLASS,e].join(" "))},_getItemContentLocationSpecificClass:function(){var t=this.option("labelLocation");return I.FIELD_ITEM_CONTENT_LOCATION_CLASS+{right:"left",left:"right",top:"bottom"}[t]},_createComponent:function(t,e,n){var i=this.option("readOnly"),o=this.callBase(t,e,n);return i&&o.option("readOnly",i),this.on("optionChanged",(function(t){"readOnly"!==t.name||(0,l.isDefined)(n.readOnly)||o.option(t.name,t.value)})),o},_getTemplateByFieldItem:function(t){return t.template?this._getTemplate(t.template):null},_appendEditorToField:function(t){if(t.$label){var e=t.labelOptions.location;"top"!==e&&"left"!==e||t.$fieldItem.append(t.$editor),"right"===e&&t.$fieldItem.prepend(t.$editor),this._addInnerItemAlignmentClass(t.$fieldItem,e)}else t.$fieldItem.append(t.$editor)},_addInnerItemAlignmentClass:function(t,e){"top"===e?t.addClass(I.LABEL_VERTICAL_ALIGNMENT_CLASS):t.addClass(I.LABEL_HORIZONTAL_ALIGNMENT_CLASS)},_renderHelpText:function(t,e,n){var o=t.helpText,r="simple"===t.itemType;if(o&&r){var a=(0,i.default)("<div>").addClass(I.FIELD_ITEM_CONTENT_WRAPPER_CLASS);e.wrap(a),(0,i.default)("<div>").addClass(I.FIELD_ITEM_HELP_TEXT_CLASS).attr("id",n).text(o).appendTo(e.parent())}},_attachClickHandler:function(t,e,n){t&&("dxCheckBox"===n||"dxSwitch"===n)&&o.default.on(t,y.name,(function(){o.default.trigger(e.children(),y.name)}))},_generateRatio:function(t,e){var n,i,o=[];for(i=0;i<t;i++)n={ratio:1},e&&(n.baseSize="auto"),o.push(n);return o},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(t){var e=this,n=this.option("layoutData");(0,l.isObject)(n)&&Object.getOwnPropertyNames(n).forEach((function(t){return delete e._optionsByReference["layoutData."+t]})),(0,l.isObject)(t)&&Object.getOwnPropertyNames(t).forEach((function(t){return e._optionsByReference["layoutData."+t]=!0}))},_resetWidget:function(t){this._disableEditorValueChangedHandler=!0,t.reset(),this._disableEditorValueChangedHandler=!1,t.option("isValid",!0)},_optionChanged:function(t){var e=this;if(0!==t.fullName.search("layoutData."))switch(t.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(t.value),this.option("items")?(0,l.isEmptyObject)(t.value)||this._itemsRunTimeInfo.each((function(n,i){if((0,l.isDefined)(i.item)){var o=i.item.dataField;if(o&&(0,l.isDefined)(i.widgetInstance)){var r=(0,m.compileGetter)(o)(t.value);void 0!==r||e._isCheckboxUndefinedStateEnabled(i.item)?i.widgetInstance.option("value",r):e._resetWidget(i.widgetInstance)}}})):(this._initDataAndItems(t.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(t.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(t),"auto"===this.option("colCount")&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(t)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField:function(t,e){var n=this;this.on("optionChanged",(function(n){n.fullName==="layoutData.".concat(e)&&t._setOptionWithoutOptionChange("value",n.value)})),t.on("valueChanged",(function(t){var i=(0,l.isObject)(t.value)||Array.isArray(t.value);n._disableEditorValueChangedHandler||i&&t.value===t.previousValue||n._updateFieldValue(e,t.value)}))},_dimensionChanged:function(){"auto"===this.option("colCount")&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},getItemID:function(t){var e=this.option("form");return e&&e.getItemID(t)},updateData:function(t,e){var n=this;(0,l.isObject)(t)?(0,f.each)(t,(function(t,e){n._updateFieldValue(t,e)})):"string"===typeof t&&n._updateFieldValue(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},isSingleColumnMode:function(t){var e=this._responsiveBox||t;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});(0,s.default)("dxLayoutManager",R);var B=R;e.default=B,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(20))&&i.__esModule?i:{default:i}).default.inherit({ctor:function(t,e){var n=this;this.editor=t,this.validator=e,this.validationRequestsCallbacks=[];var i=function(t){n.validationRequestsCallbacks.forEach((function(e){return e(t)}))};t.validationRequest.add(i),t.on("disposing",(function(){t.validationRequest.remove(i)}))},getValue:function(){return this.editor.option("value")},getCurrentValidationError:function(){return this.editor.option("validationError")},bypass:function(){return this.editor.option("disabled")},applyValidationResults:function(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset:function(){this.editor.reset()},focus:function(){this.editor.focus()}});e.default=o,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=p(n(7)),r=n(6),a=n(2),s=p(n(25)),l=n(14),u=n(5),h=n(3),c=p(n(19)),d=p(n(186)),f=p(n(97));function p(t){return t&&t.__esModule?t:{default:t}}var g=(0,l.getWindow)(),m=f.default.inherit({_getDefaultOptions:function(){return(0,h.extend)(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0,_layoutStrategy:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",l.defaultScreenFactorFunc),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return"dx-box-item"},_itemDataKey:function(){return"dxBoxItemData"},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-responsivebox"),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(function(){this._$root&&o.default.triggerHandler(this._$root,"dxupdate")}.bind(this))},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(t){var e=this._findItemElementByItem(t);e.length&&(this._refreshItem(e,t),this._clearItemNodeTemplates(),this._update())},_setScreenSize:function(){var t=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass("dx-responsivebox-screen-"+t),this.option("currentScreenFactor",t)},_removeScreenSizeClass:function(){var t=this.option("currentScreenFactor");t&&this.$element().removeClass("dx-responsivebox-screen-"+t)},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),(0,u.each)(this._rows,function(){var e=[];t.push(e),(0,u.each)(this._cols,function(){e.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var t=this.option("rows"),e=this._screenItems.length;if(t.length){for(var n=this._filterByScreen(t),i=[],o=0;o<e;o++){var r=this._defaultSizeConfig();o<n.length&&(0,a.isDefined)(n[o].shrink)&&(r.shrink=n[o].shrink),i.push(r)}return i}return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort((function(t,e){return t.location.row-e.location.row||t.location.col-e.location.col})),(0,u.each)(this._screenItems,(function(t,e){(0,h.extend)(e.location,{row:t,col:0,rowspan:1,colspan:1})}))},_sizesByScreen:function(t){return(0,u.map)(this._filterByScreen(t),function(t){return(0,h.extend)(this._defaultSizeConfig(),t)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(t){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var n=[],i=0;i<t;i++)n.push(e);return n},_filterByScreen:function(t){var e=this._screenRegExp();return(0,r.grep)(t,(function(t){return!t.screen||e.test(t.screen)}))},_screenRegExp:function(){var t=this._getCurrentScreen();return new RegExp("(^|\\s)"+t+"($|\\s)","i")},_getCurrentScreen:function(){var t=this._screenWidth();return this.option("screenByWidth")(t)},_screenWidth:function(){return(0,l.hasWindow)()?(0,i.default)(g).width():1920},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){(0,u.each)(this._screenItems,function(t,e){var n=e.location||{},i=n.col,o=n.row,r=this._grid[o],a=r&&r[i];this._occupyCells(a,e)}.bind(this))},_itemsByScreen:function(){var t=this;return this.option("items").reduce((function(e,n){var i=n.location||{};return i=(0,a.isPlainObject)(i)?[i]:i,t._filterByScreen(i).forEach((function(t){e.push({item:n,location:(0,h.extend)({rowspan:1,colspan:1},t)})})),e}),[])},_occupyCells:function(t,e){t&&!this._isItemCellOccupied(t,e)&&((0,h.extend)(t,e),this._markSpanningCell(t))},_isItemCellOccupied:function(t,e){if(!(0,a.isEmptyObject)(t.item))return!0;var n=!1;return this._loopOverSpanning(e.location,(function(t){n=n||!(0,a.isEmptyObject)(t.item)})),n},_loopOverSpanning:function(t,e){var n=t.row+t.rowspan-1,i=t.col+t.colspan-1,o=Math.min(n,this._rows.length-1),r=Math.min(i,this._cols.length-1);t.rowspan-=n-o,t.colspan-=i-r;for(var a=t.row;a<=o;a++)for(var s=t.col;s<=r;s++)a===t.row&&s===t.col||e(this._grid[a][s])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,(function(e){(0,h.extend)(e,{item:t.item,spanningCell:t})}))},_linkNodeToItem:function(){(0,u.each)(this._itemElements(),(function(t,e){var n=(0,i.default)(e),o=n.data("dxBoxItemData");o.box||(o.node=n.children())}))},_layoutItems:function(){var t=this._grid.length,e=t&&this._grid[0].length;if(t||e){var n=this._layoutBlock({direction:"col",row:{start:0,end:t-1},col:{start:0,end:e-1}}),o=this._prepareBoxConfig(n.box||{direction:"row",items:[(0,h.extend)(n,{ratio:1})]});(0,h.extend)(o,this._rootBoxConfig(o.items)),this._$root=(0,i.default)("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,d.default,o)}},_rootBoxConfig:function(t){var e=(0,u.each)(t,function(t,e){this._needApplyAutoBaseSize(e)&&(0,h.extend)(e,{baseSize:"auto"})}.bind(this));return(0,h.extend)({width:"100%",height:"100%",items:e,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_needApplyAutoBaseSize:function(t){return!t.baseSize&&(!t.minSize||"auto"===t.minSize)&&(!t.maxSize||"auto"===t.maxSize)},_prepareBoxConfig:function(t){return(0,h.extend)(t||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(t){return this._isSingleItem(t)?this._itemByCell(t.row.start,t.col.start):this._layoutDirection(t)},_isSingleItem:function(t){var e=this._grid[t.row.start][t.col.start].location,n=t.row.end-t.row.start===e.rowspan-1,i=t.col.end-t.col.start===e.colspan-1;return n&&i},_itemByCell:function(t,e){var n=this._grid[t][e];return n.spanningCell?null:n.item},_layoutDirection:function(t){for(var e,n=[],i=t.direction,o=this._crossDirection(i);e=this._nextBlock(t);){if(this._isBlockIndivisible(t.prevBlockOptions,e))throw s.default.Error("E1025");var r=this._layoutBlock({direction:o,row:e.row,col:e.col,prevBlockOptions:t});r&&((0,h.extend)(r,this._blockSize(e,o)),n.push(r)),t[o].start=e[o].end+1}return{box:this._prepareBoxConfig({direction:i,items:n})}},_isBlockIndivisible:function(t,e){return t&&t.col.start===e.col.start&&t.col.end===e.col.end&&t.row.start===e.row.start&&t.row.end===e.row.end},_crossDirection:function(t){return"col"===t?"row":"col"},_nextBlock:function(t){var e=t.direction,n=this._crossDirection(e),i=t[e].start,o=t[e].end,r=t[n].start;if(r>t[n].end)return null;for(var a=1,s=r;s<r+a;s++){for(var l=1,u=i;u<=o;u++){var h=this._cellByDirection(e,u,s);l=Math.max(l,h.location[n+"span"])}var c=s+l,d=r+a;c>d&&(a+=c-d)}var f={};return f[e]={start:i,end:o},f[n]={start:r,end:r+a-1},f},_cellByDirection:function(t,e,n){return"col"===t?this._grid[n][e]:this._grid[e][n]},_blockSize:function(t,e){for(var n="row"===e?"auto":0,i="row"===e?this._rows:this._cols,o=(0,h.extend)(this._createDefaultSizeConfig(),{ratio:0}),r=t[e].start;r<=t[e].end;r++){var s=i[r];o.ratio+=s.ratio,o.baseSize+=s.baseSize,o.minSize+=s.minSize,o.maxSize+=s.maxSize,(0,a.isDefined)(s.shrink)&&(o.shrink=s.shrink)}return o.minSize=o.minSize?o.minSize:n,o.maxSize=o.maxSize?o.maxSize:"auto",this._isSingleColumnScreen()&&(o.baseSize="auto"),o},_update:function(){var t=this._$root;this._renderItems(),t&&t.detach(),this._saveAssistantRoot(t),this._layoutChangedAction(),this._updateRootBox()},_saveAssistantRoot:function(t){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(t)},_dispose:function(){clearTimeout(this._updateTimer),this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&(0,u.each)(this._assistantRoots,(function(t,e){(0,i.default)(e).remove()}))},_clearItemNodeTemplates:function(){(0,u.each)(this.option("items"),(function(){delete this.node}))},_toggleVisibility:function(t){this.callBase(t),t&&this._updateRootBox()},_attachClickEvent:r.noop,_optionChanged:function(t){switch(t.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(t),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(t);break;case"currentScreenFactor":break;default:this.callBase(t)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});(0,c.default)("dxResponsiveBox",m);var v=m;e.default=v,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.SINGLE_COLUMN_ITEM_CONTENT=e.FIELD_BUTTON_ITEM_CLASS=e.FIELD_EMPTY_ITEM_CLASS=e.FIELD_ITEM_CONTENT_CLASS=e.FIELD_ITEM_CONTENT_LOCATION_CLASS=e.FIELD_ITEM_LABEL_CLASS=e.FIELD_ITEM_LABEL_ALIGN_CLASS=e.FIELD_ITEM_LABEL_LOCATION_CLASS=e.LABEL_HORIZONTAL_ALIGNMENT_CLASS=e.LABEL_VERTICAL_ALIGNMENT_CLASS=e.FORM_LAYOUT_MANAGER_CLASS=e.FIELD_ITEM_CONTENT_WRAPPER_CLASS=e.FIELD_ITEM_HELP_TEXT_CLASS=e.FIELD_ITEM_LABEL_CONTENT_CLASS=e.FIELD_ITEM_LABEL_TEXT_CLASS=e.FIELD_ITEM_REQUIRED_CLASS=e.FIELD_ITEM_OPTIONAL_CLASS=e.FIELD_ITEM_REQUIRED_MARK_CLASS=e.FIELD_ITEM_OPTIONAL_MARK_CLASS=e.LAYOUT_MANAGER_ONE_COLUMN=e.FLEX_LAYOUT_CLASS=e.FIELD_ITEM_CLASS=e.FORM_FIELD_ITEM_COL_CLASS=e.FORM_GROUP_CAPTION_CLASS=e.FORM_GROUP_CLASS=e.FORM_CLASS=void 0;e.FORM_CLASS="dx-form";e.FORM_GROUP_CLASS="dx-form-group";e.FORM_GROUP_CAPTION_CLASS="dx-form-group-caption";e.FORM_FIELD_ITEM_COL_CLASS="dx-col-";e.FIELD_ITEM_CLASS="dx-field-item";e.FLEX_LAYOUT_CLASS="dx-flex-layout";e.LAYOUT_MANAGER_ONE_COLUMN="dx-layout-manager-one-col";e.FIELD_ITEM_OPTIONAL_MARK_CLASS="dx-field-item-optional-mark";e.FIELD_ITEM_REQUIRED_MARK_CLASS="dx-field-item-required-mark";e.FIELD_ITEM_OPTIONAL_CLASS="dx-field-item-optional";e.FIELD_ITEM_REQUIRED_CLASS="dx-field-item-required";e.FIELD_ITEM_LABEL_TEXT_CLASS="dx-field-item-label-text";e.FIELD_ITEM_LABEL_CONTENT_CLASS="dx-field-item-label-content";e.FIELD_ITEM_HELP_TEXT_CLASS="dx-field-item-help-text";e.FIELD_ITEM_CONTENT_WRAPPER_CLASS="dx-field-item-content-wrapper";e.FORM_LAYOUT_MANAGER_CLASS="dx-layout-manager";e.LABEL_VERTICAL_ALIGNMENT_CLASS="dx-label-v-align";e.LABEL_HORIZONTAL_ALIGNMENT_CLASS="dx-label-h-align";e.FIELD_ITEM_LABEL_LOCATION_CLASS="dx-field-item-label-location-";e.FIELD_ITEM_LABEL_ALIGN_CLASS="dx-field-item-label-align";e.FIELD_ITEM_LABEL_CLASS="dx-field-item-label";e.FIELD_ITEM_CONTENT_LOCATION_CLASS="dx-field-item-content-location-";e.FIELD_ITEM_CONTENT_CLASS="dx-field-item-content";e.FIELD_EMPTY_ITEM_CLASS="dx-field-empty-item";e.FIELD_BUTTON_ITEM_CLASS="dx-field-button-item";e.SINGLE_COLUMN_ITEM_CONTENT="dx-single-column-item-content"},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=u(n(19)),r=u(n(89)),a=u(n(256)),s=u(n(96)),l=u(n(187));function u(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return(f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(u,t);var e,n,o,r=g(u);function u(){return c(this,u),r.apply(this,arguments)}return e=u,(n=[{key:"_getDefaultOptions",value:function(){return f(v(u.prototype),"_getDefaultOptions",this).call(this)}},{key:"_init",value:function(){f(v(u.prototype),"_init",this).call(this),s.default.addGroup(this)}},{key:"_initMarkup",value:function(){var t=this.$element();t.addClass("dx-validationgroup"),t.find(".".concat("dx-validator")).each((function(t,e){l.default.getInstance((0,i.default)(e))._initGroupRegistration()})),t.find(".".concat("dx-validationsummary")).each((function(t,e){a.default.getInstance((0,i.default)(e))._initGroupRegistration()})),f(v(u.prototype),"_initMarkup",this).call(this)}},{key:"validate",value:function(){return s.default.validateGroup(this)}},{key:"reset",value:function(){return s.default.resetGroup(this)}},{key:"_dispose",value:function(){s.default.removeGroup(this),this.$element().removeClass("dx-validationgroup"),f(v(u.prototype),"_dispose",this).call(this)}},{key:"_useTemplates",value:function(){return!1}}])&&d(e.prototype,n),o&&d(e,o),u}(r.default);(0,o.default)("dxValidationGroup",y);var _=y;e.default=_,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(479));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("validating",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=k(n(1)),o=k(n(7)),r=k(n(35)),a=k(n(31)),s=n(92),l=n(6),u=n(5),h=n(2),c=n(3),d=n(68),f=k(n(18)),p=k(n(45)),g=k(n(33)),m=k(n(96)),v=k(n(187)),y=k(n(480)),_=k(n(79)),b=k(n(25)),x=n(8),w=k(n(73)),C=n(55),S=k(n(24));function k(t){return t&&t.__esModule?t:{default:t}}function E(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var T=["popup","form"],D="valid",M="invalid",O="pending",P=function(t){return(0,h.isDefined)(t)&&"cancel"!==t},A=function(t,e){return void 0!==t||void 0===t&&e&&!e.isNewRow},R={defaultOptions:function(){return{editing:{texts:{validationCancelChanges:f.default.format("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:r.default.Controller.inherit({init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||(this._validationState=[])},_rowIsValidated:function(t){var e=this._getValidationData(null===t||void 0===t?void 0:t.key);return!!e&&!!e.validated},_getValidationData:function(t,e){var n=this._validationState.filter((function(e){return e.key===t}))[0];return!n&&e&&(n={key:t,isValid:!0},this._validationState.push(n)),n},_getBrokenRules:function(t,e){return e?e.brokenRules||e.brokenRule&&[e.brokenRule]:t.brokenRules||[]},_rowValidating:function(t,e){var n=new x.Deferred,i=this._editingController.getEditDataByKey(null===t||void 0===t?void 0:t.key),o=this._getBrokenRules(t,e),r={brokenRules:o,isValid:e?e.isValid:t.isValid,key:i.key,newData:i.data,oldData:this._editingController._getOldData(i.key),promise:null,errorText:this.getHiddenValidatorsErrorText(o)};return this.executeAction("onRowValidating",r),(0,x.when)(r.promise).always((function(){t.isValid=r.isValid,t.errorText=r.errorText,n.resolve(r)})),n.promise()},getHiddenValidatorsErrorText:function(t){var e=[];return(0,u.each)(t,(function(t,n){var i=n.column,o=i&&void 0!==i.groupIndex&&!i.showWhenGrouped,r=i&&i.visible;n.validator.$element().parent().length||r&&!o||e.push(n.message)})),e.join(", ")},validate:function(t){var e=this,n=!0,i=this._editingController,o=new x.Deferred,r=[],a=i.getEditMode();if(t=t||"row"===a,this._isValidationInProgress)return o.resolve(!1).promise();if(this._isValidationInProgress=!0,t){i.addDeferred(o);var s=i.getChanges();(0,u.each)(s,(function(t,i){if(i.type&&"remove"!==i.type){var o=e._getValidationData(i.key),a=e.validateGroup(o);r.push(a),a.done((function(t){o.validated=!0,n=n&&t.isValid}))}}))}else if(this._currentCellValidator){var l=this.validateGroup(this._currentCellValidator._findGroup());r.push(l),l.done((function(t){n=t.isValid}))}return x.when.apply(void 0,r).done((function(){e._isValidationInProgress=!1,o.resolve(n)})),o.promise()},validateGroup:function(t){var e,n,i=this,o=new x.Deferred,r=t&&m.default.getGroupConfig(t);return(null===r||void 0===r?void 0:r.validators.length)&&(this.resetRowValidationResults(t),n=m.default.validateGroup(t)),(0,x.when)((null===(e=n)||void 0===e?void 0:e.complete)||n).done((function(e){(0,x.when)(i._rowValidating(t,e)).done(o.resolve)})),o.promise()},isRowDataModified:function(t){return!(0,h.isEmptyObject)(t.data)},updateValidationState:function(t){var e=this._editingController.getEditMode(),n=t.key,i=this._getValidationData(n,!0);if(-1===T.indexOf(e)){if("insert"===t.type&&!this.isRowDataModified(t))return void(i.isValid=!0);if(this.setDisableApplyValidationResults(!0),m.default.getGroupConfig(i)){var o=m.default.validateGroup(i);(0,x.when)(o.complete||o).done((function(t){i.isValid=t.isValid,i.brokenRules=t.brokenRules}))}else i.brokenRules&&i.brokenRules.length||(i.isValid=!0);this.setDisableApplyValidationResults(!1)}else i.isValid=!0},setValidator:function(t){this._currentCellValidator=t},renderCellPendingIndicator:function(t){var e=t.find(".dx-pending-indicator");if(!e.length){var n=t;e=(0,i.default)("<div>").appendTo(n).addClass("dx-pending-indicator"),this._createComponent(e,w.default),t.addClass("dx-validation-pending")}},disposeCellPendingIndicator:function(t){var e=t.find(".dx-pending-indicator");if(e.length){var n=w.default.getInstance(e);n&&(n.dispose(),n.$element().remove()),t.removeClass("dx-validation-pending")}},validationStatusChanged:function(t){var e=t.validator,n=e.option("validationGroup"),i=e.option("dataGetter")().column;this.updateCellValidationResult({rowKey:n.key,columnIndex:i.index,validationResult:t})},validatorInitialized:function(t){t.component.on("validating",this.validationStatusChanged.bind(this)),t.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing:function(t){var e=t.component,n=e.option("validationGroup"),i=e.option("dataGetter")().column,o=this.getCellValidationResult({rowKey:null===n||void 0===n?void 0:n.key,columnIndex:i.index});P(o)&&o.status===O&&this.cancelCellValidationResult({editData:n,columnIndex:i.index})},applyValidationResult:function(t,e){var n=e.validator,i=n.option("validationGroup"),r=n.option("dataGetter")().column;if(e.brokenRules&&e.brokenRules.forEach((function(t){t.columnIndex=r.index,t.column=r})),t){var a=this.getCellValidationResult({rowKey:i.key,columnIndex:r.index}),s=P(a)&&a.disabledPendingId===e.id;if(this._disableApplyValidationResults||s)return;if(e.status===M){var l=t.find(":focus");(0,d.focused)(l)||(o.default.trigger(l,"focus"),o.default.trigger(l,g.default.down))}var u=!r.editCellTemplate&&this.getController("editorFactory").getEditorInstance(t);e.status===O?u?u.option("validationStatus",O):this.renderCellPendingIndicator(t):u?u.option("validationStatus",D):this.disposeCellPendingIndicator(t),t.toggleClass(this.addWidgetPrefix("invalid"),e.status===M)}},createValidator:function(t,e){var n=this,o=this._editingController,r=t.column,a=r.showEditorAlways;if(!(0,h.isDefined)(r.command)&&r.validationRules&&Array.isArray(r.validationRules)&&r.validationRules.length){var l=o.getIndexByKey(t.key,o.getChanges())>-1;if(!l){if(!a){var u=this.getController("columns");a=((null===u||void 0===u?void 0:u.getVisibleColumns())||[]).some((function(t){return t.showEditorAlways}))}var d=this.option("editing.editRowKey")===t.key,f=o.isCellOrBatchEditMode()&&o.allowUpdating({row:t.row});l=d||f&&a,f&&a&&o._addInternalData({key:t.key,oldData:t.data})}if(l){if(e&&!e.length)return void b.default.log("E1050");var p=this._getValidationData(t.key,!0),g=function(){var e=o.getEditDataByKey(null===p||void 0===p?void 0:p.key),n=r.calculateCellValue((null===e||void 0===e?void 0:e.data)||{});return void 0!==n?n:t.value},m=e&&e.hasClass("dx-widget");e&&e.addClass(this.addWidgetPrefix("validator"));var y=new v.default(e||(0,i.default)("<div>"),{name:r.caption,validationRules:(0,c.extend)(!0,[],r.validationRules),validationGroup:p,adapter:m?null:{getValue:g,applyValidationResults:function(t){n.applyValidationResult(e,t)}},dataGetter:function(){var t=null===p||void 0===p?void 0:p.key,e=o.getEditDataByKey(t),n=o._getOldData(t);return{data:(0,s.createObjectWithChanges)(n,null===e||void 0===e?void 0:e.data),column:r}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(m){var _=y.option("adapter");_&&(_.getValue=g,_.validationRequestsCallbacks=[])}return y}}},setDisableApplyValidationResults:function(t){this._disableApplyValidationResults=t},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults},isCurrentValidatorProcessing:function(t){var e=t.rowKey,n=t.columnIndex;return this._currentCellValidator&&this._currentCellValidator.option("validationGroup").key===e&&this._currentCellValidator.option("dataGetter")().column.index===n},validateCell:function(t){var e={rowKey:t.option("validationGroup").key,columnIndex:t.option("dataGetter")().column.index},n=this.getCellValidationResult(e),i=P(n);i||(n=t.validate());var o=new x.Deferred,r=t.option("adapter");return i&&n.status===O&&(this.updateCellValidationResult(e),r.applyValidationResults(n)),(0,x.when)(n.complete||n).done((function(t){i&&r.applyValidationResults(t),o.resolve(t)})),o.promise()},updateCellValidationResult:function(t){var e=t.rowKey,n=t.columnIndex,i=t.validationResult,o=this._getValidationData(e);if(o){var r;if(o.validationResults||(o.validationResults={}),i){if(r=(0,c.extend)({},i),o.validationResults[n]=r,i.status===O&&("cell"===this._editingController.getEditMode()&&(r.deferred=new x.Deferred,r.complete.always((function(){r.deferred.resolve()})),this._editingController.addDeferred(r.deferred)),this._disableApplyValidationResults))return void(r.disabledPendingId=i.id)}else r=o.validationResults[n];r&&r.disabledPendingId&&delete r.disabledPendingId}},getCellValidationResult:function(t){var e,n=t.rowKey,i=t.columnIndex,o=this._getValidationData(n,!0);return null===o||void 0===o||null===(e=o.validationResults)||void 0===e?void 0:e[i]},removeCellValidationResult:function(t){var e=t.editData,n=t.columnIndex,i=this._getValidationData(null===e||void 0===e?void 0:e.key);i&&i.validationResults&&(this.cancelCellValidationResult({editData:e,columnIndex:n}),delete i.validationResults[n])},cancelCellValidationResult:function(t){var e=t.editData,n=t.columnIndex,i=this._getValidationData(e.key);if(e&&i.validationResults){var o=i.validationResults[n];o&&(o.deferred&&o.deferred.reject("cancel"),i.validationResults[n]="cancel")}},resetRowValidationResults:function(t){t&&(t.validationResults&&delete t.validationResults,delete t.validated)},isInvalidCell:function(t){var e=t.rowKey,n=t.columnIndex,i=this.getCellValidationResult({rowKey:e,columnIndex:n});return P(i)&&i.status===M},getCellValidator:function(t){var e=t.rowKey,n=t.columnIndex,i=this._getValidationData(e),o=i&&m.default.getGroupConfig(i),r=o&&o.validators;return r&&r.filter((function(t){var e=t.option("dataGetter")().column;return!!e&&e.index===n}))[0]},setCellValidationStatus:function(t){var e=this.getCellValidationResult({rowKey:t.key,columnIndex:t.column.index});(0,h.isDefined)(e)?t.validationStatus="cancel"!==e?e.status:"cancel":delete t.validationStatus}})},extenders:{controllers:{editing:{_addEditData:function(t,e){var n=this.callBase(t,e),i=this.getController("validating");if(n>=0&&"remove"!==t.type){var o=this.getChanges()[n];i.updateValidationState(o)}return n},_handleChangesChange:function(t){this.callBase.apply(this,arguments);var e=this.getController("validating");t.value.forEach((function(t){void 0===e._getValidationData(t.key)&&e.updateValidationState(t)}))},_updateRowAndPageIndices:function(){var t=this,e=this,n=e.getView("rowsView").getTopVisibleItemIndex(),i=n;(0,u.each)(e.getChanges(),(function(o,r){var a=t.getController("validating")._getValidationData(r.key);a&&!a.isValid&&a.pageIndex!==e._pageIndex&&(a.pageIndex=e._pageIndex,"insert"===r.type?a.rowIndex=n:a.rowIndex=i,i++)}))},getEditFormOptions:function(t){var e=this.callBase.apply(this,arguments),n=this.getController("validating"),i=n._getValidationData(t.key,!0);return(0,c.extend)({},e,{validationGroup:i})},_updateEditRowCore:function(t,e,n){this.callBase.apply(this,arguments),n&&this._editForm&&!t.isNewRow&&this._editForm.validate()},_needInsertItem:function(t){var e=this.callBase.apply(this,arguments),n=this.getController("validating")._getValidationData(t.key);return e&&!(null===n||void 0===n?void 0:n.isValid)&&(e=t.key.pageIndex===this._pageIndex),e},_prepareEditCell:function(t){var e=this.callBase.apply(this,arguments),n=this.getController("validating");return e&&t.column.showEditorAlways&&n.updateValidationState({key:t.key}),e},processItems:function(t,e){var n,i=this.getChanges(),o=this.getController("data"),r=this.getController("validating"),a=(t=this.callBase(t,e)).length,s=function(e,n){var i={key:e.key};if(!(function(t,e){var n=-1,i="insert"===t.type,r=t.key;return(0,u.each)(e,(function(t,e){if((0,l.equalByValue)(r,i?e:o.keyOf(e)))return n=t,!1})),n}(e,t)>=0)){n.rowIndex=n.rowIndex>a?n.rowIndex%a:n.rowIndex;var r=n.rowIndex;i.__DX_INSERT_INDEX__=1,t.splice(r,0,i)}};if("batch"===this.getEditMode()&&"prepend"!==e&&"append"!==e)for(n=0;n<i.length;n++){var h=i[n].key,c=r._getValidationData(h);c&&i[n].type&&c.pageIndex===this._pageIndex&&h.pageIndex!==this._pageIndex&&s(i[n],c)}return t},processDataItem:function(t){var e=t.data.__DX_INSERT_INDEX__,n=e?t.data.key:t.key,i=this.getEditMode();if("batch"===i&&e&&n){var o=this.getChanges(),r=a.default.getIndexByKey(n,o);if(r>=0){var s=o[r];if("insert"!==s.type){var l=this._getOldData(s.key);t.data=(0,c.extend)(!0,{},l,s.data),t.key=n}}}this.callBase.apply(this,arguments)},_getInvisibleColumns:function(t){var e,n=this,i=this.getController("columns"),o=i.getInvisibleColumns();return this.isCellOrBatchEditMode()&&(e=t.some((function(t){return n._dataController.getRowIndexByKey(t.key)<0}))),e?i.getColumns():o},_createInvisibleColumnValidators:function(t){var e=this,n=this.getController("validating"),i=this.getController("columns"),o=this._getInvisibleColumns(t).filter((function(t){return!t.isBand})),r=i.getGroupColumns().filter((function(t){return!t.showWhenGrouped&&-1===o.indexOf(t)})),a=[];return o.push.apply(o,E(r)),-1===T.indexOf(this.getEditMode())&&(0,u.each)(o,(function(i,o){t.forEach((function(t){var i;if("insert"===t.type)i=t.data;else if("update"===t.type){var r=e._getOldData(t.key);i=(0,s.createObjectWithChanges)(r,t.data)}if(i){var l=n.createValidator({column:o,key:t.key,value:o.calculateCellValue(i)});l&&a.push(l)}}))})),function(){a.forEach((function(t){t.dispose()}))}},_beforeSaveEditData:function(t,e){var n=this,i=this.callBase.apply(this,arguments),o=this.getController("validating"),r=o._getValidationData(null===t||void 0===t?void 0:t.key);if(t){var a="remove"===t.type||r.isValid;i=i||!a}else{var s=this._createInvisibleColumnValidators(this.getChanges());i=new x.Deferred,this.executeOperation(i,(function(){o.validate(!0).done((function(t){switch(s(),n._updateRowAndPageIndices(),n.getEditMode()){case"cell":t||n._focusEditingCell();break;case"batch":t||(n._resetEditRowKey(),n._resetEditColumnName(),n.getController("data").updateItems())}i.resolve(!t)}))}))}return i.promise?i.promise():i},_beforeEditCell:function(t,e,n){var i=this.callBase(t,e,n);if("cell"===this.getEditMode()){var o=this._rowsView._getCellElement(t,e),r=o&&o.data("dxValidator"),a=o&&o.closest(".dx-row").data("options"),s=r&&r.option("adapter").getValue();if(r&&A(s,a)){var l=this.getController("validating"),u=new x.Deferred;return(0,x.when)(l.validateCell(r),i).done((function(t,e){u.resolve(t.status===D&&e)})),u.promise()}if(!r)return i}},_afterSaveEditData:function(t){var e,n=this;if((0,u.each)(this.getChanges(),(function(t,i){var o=n._showErrorRow(i);e=e||o})),e){var i=this._rowsView.getScrollable();i&&(i.update(),i.scrollToElement(e))}if(t&&"cell"===this.getEditMode()&&this._needUpdateRow()){var o=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[o]}),this._focusEditingCell()}else t||(this.getController("validating")._validationState=[])},_handleDataChanged:function(t){var e=this.getController("validating")._validationState;"standard"===this.option("scrolling.mode")&&this.resetRowAndPageIndices(),"prepend"===t.changeType&&(0,u.each)(e,(function(e,n){n.rowIndex+=t.items.length})),this.callBase(t)},resetRowAndPageIndices:function(){var t=this,e=this.getController("validating")._validationState;(0,u.each)(e,(function(e,n){n.pageIndex!==t._pageIndex&&(delete n.pageIndex,delete n.rowIndex)}))},_beforeCancelEditData:function(){this.getController("validating")._validationState=[],this.callBase()},_showErrorRow:function(t){var e,n=this.getController("errorHandling"),i=this.getController("data").items(),o=this.getIndexByKey(t.key,i),r=this.getController("validating")._getValidationData(t.key);if(!(null===r||void 0===r?void 0:r.isValid)&&(null===r||void 0===r?void 0:r.errorText)&&o>=0)return e=this.getPopupContent(),n&&n.renderErrorRow(null===r||void 0===r?void 0:r.errorText,o,e)},updateFieldValue:function(t){var e=this,n=this.getController("validating"),i=new x.Deferred;return n.removeCellValidationResult({editData:this.getEditDataByKey(t.key),columnIndex:t.column.index}),this.callBase.apply(this,arguments).done((function(){var o=n.getCellValidator({rowKey:t.key,columnIndex:t.column.index});(0,x.when)(o&&n.validateCell(o)).done((function(t){e.getController("editorFactory").refocus(),i.resolve(t)}))})),i.promise()},highlightDataCell:function(t,e){this.callBase.apply(this,arguments);var n=this.getController("validating");n.setCellValidationStatus(e);var i=!!e.setValue,o=this.isCellModified(e),r=(0,h.isDefined)(e.validationStatus),a=o&&e.column.setCellValue||i&&!o&&!(e.row.isNewRow||!r);if(a){var s=t.data("dxValidator");s&&(0,x.when)(this.getController("validating").validateCell(s)).done((function(){n.setCellValidationStatus(e)}))}},getEditDataByKey:function(t){var e=this.getChanges();return e[a.default.getIndexByKey(t,e)]},isCellModified:function(t){var e=this.callBase(t),n=this.getEditDataByKey(t.key),i=!!t.row&&this.getController("validating").isInvalidCell({rowKey:t.key,columnIndex:t.column.index});return e||this.getController("validating")._rowIsValidated(n)&&i}},editorFactory:{_showRevertButton:function(t){var e=this;if(t&&t.length){var n=t.find("."+this.addWidgetPrefix("revert-tooltip"));n&&n.remove(),n=(0,i.default)("<div>").addClass(this.addWidgetPrefix("revert-tooltip")).appendTo(t);var o={animation:null,visible:!0,target:t,container:t,closeOnOutsideClick:!1,closeOnTargetScroll:!1,contentTemplate:function(){var t=(0,i.default)("<div>").addClass("dx-revert-button"),n={icon:"revert",hint:e.option("editing.texts.validationCancelChanges"),onClick:function(){e._editingController.cancelEditData()}};return new p.default(t,n).$element()},position:{my:"left top",at:"right top",of:t,offset:"1 0",collision:"flip",boundary:this._rowsView.element()},onPositioned:this._positionedHandler.bind(this)};return new y.default(n,o)}},_hideFixedGroupCell:function(t,e){var n,o,r=this._rowsView.isFixedColumns(),a=this._editingController.isFormEditMode();if(r&&!a){var s=t.closest(".dx-row").next().data("options");s&&"group"===s.rowType&&(n=(0,i.default)(this._rowsView.getRowElement(s.rowIndex)).last(),(o=n.find(".dx-group-cell")).length&&"hidden"!==o.get(0).style.visibility&&(o.css("visibility","hidden"),e.onDisposing=function(){o.css("visibility","")}))}},_positionedHandler:function(t,e){if(!t.component.__skipPositionProcessing){var n=(0,i.default)(t.element).hasClass(this.addWidgetPrefix("revert-tooltip")),o=!n&&this._rowsView.updateFreeSpaceRowHeight(),r=this._normalizeValidationMessagePositionAndMaxWidth(t,n,e);t.component.__skipPositionProcessing=!(!o&&!r),r?t.component.option(r):o&&t.component.repaint()}},_showValidationMessage:function(t,e,n,o){var r=this,a=t.find(".dx-dropdowneditor-overlay").data("dxPopup"),s=a&&a.option("visible"),l=s?"top right":"top "+n,u=s?"top left":"bottom "+n,h=t.closest(".".concat(this.addWidgetPrefix("content"))),c="";e&&e.forEach((function(t){c+=(c.length?"<br/>":"")+(0,C.encodeHtml)(t)}));var d=(0,i.default)("<div>").addClass("dx-invalid-message").addClass("dx-invalid-message-always").addClass(this.addWidgetPrefix("invalid-message")).html(c).appendTo(t),f={target:t,container:h,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,closeOnOutsideClick:!1,closeOnTargetScroll:!1,position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:s||!S.default.mozilla&&!S.default.msie?0:-1},my:l,at:u},onPositioned:function(e){r._positionedHandler(e,s),r._shiftValidationMessageIfNeed(e.component.$content(),o&&o.$content(),t)}};this._hideFixedGroupCell(t,f),new _.default(d,f)},_normalizeValidationMessagePositionAndMaxWidth:function(t,e,n){var o=this._columnsController.getFixedColumns();if(o&&o.length){var r,a=!e&&function(t,e){var n=(0,i.default)(e).closest("tr").index(),o=(0,i.default)(t._rowsView.getRowElement(n)).first().children().filter(":not(.dx-hidden-cell)");return t._rowsView._getWidths(o).reduce((function(t,e){return t+e}),0)}(this,t.element),s=(e?t.component.overlayContent():t.component.$content()).outerWidth(!0),l=!e&&s>a,u=this._rowsView.getCellIndex((0,i.default)(t.element).closest("td")),h=function(t){var e,n;return t.some((function(i,o){if("transparent"===i.command)return e=0===o?-1:o,n=o===t.length-1?-1:o+i.colspan-1,!0})),{startColumnIndex:e,endColumnIndex:n}}(o);return e||u!==h.startColumnIndex&&!l?u===h.endColumnIndex&&(r={collision:"none flip",my:"top right",at:e||n?"top left":"bottom right"},e&&(r.offset="-1 0")):r={collision:"none flip",my:"top left",at:n?"top right":"bottom left"},r&&{position:r,maxWidth:l?a-2:void 0}}},_shiftValidationMessageIfNeed:function(t,e,n){if(e){var i=t.offset(),o=e.offset();if(i.top===o.top&&i.left+t.width()>o.left){var r=e.width()+2;t.css("left",o.left<n.offset().left?-r:r)}}},_getTooltipsSelector:function(){var t=this.addWidgetPrefix("invalid-message");return".dx-editor-cell ."+this.addWidgetPrefix("revert-tooltip")+", .dx-editor-cell ."+t+", .dx-cell-modified ."+t},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus:function(t){t||this.getController("validating").setValidator(null),this.callBase()},updateCellState:function(t,e,n){var i,o=t&&t.closest(this._getFocusCellSelector()),r=o&&o.is("td")?o:null,a=o&&o.closest(".dx-row").data("options"),s=a?this.getController("editing").getEditDataByKey(a.key):null,l=r&&this.getController("columns").getVisibleColumns()[r.index()];if((e&&e.status===M||s&&"update"===s.type&&!this._editingController.isSaving())&&"cell"===this._editingController.getEditMode()&&(i=this._showRevertButton(o)),e&&e.status===M&&r&&l&&e&&e.brokenRules){var u=[];e.brokenRules.forEach((function(t){u.push(t.message)})),this._showValidationMessage(o,u,l.alignment||"left",i)}!n&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},focus:function(t,e){var n,i=this,o=t&&t.closest(this._getFocusCellSelector()),r=this.callBase,a=o&&(o.data("dxValidator")||t.find("."+this.addWidgetPrefix("validator")).eq(0).data("dxValidator")),s=o&&o.closest(".dx-row").data("options"),l=this.getController("editing"),u=s?l.getEditDataByKey(s.key):null,h=o&&o.closest("."+this.addWidgetPrefix("rowsview")).find(this._getTooltipsSelector()),c=o&&o.is("td")?o:null,d=c&&this.getController("columns").getVisibleColumns()[c.index()],f=this.getController("validating");if(!arguments.length)return this.callBase();if(h&&h.remove(),a){f.setValidator(a);var p=a.option("adapter").getValue();if(A(p,s)||f._rowIsValidated(u))return l.waitForDeferredOperations().done((function(){(0,x.when)(f.validateCell(a)).done((function(o){n=o,u&&d&&!f.isCurrentValidatorProcessing({rowKey:u.key,columnIndex:d.index})||(n.status===M&&(e=!0),i.updateCellState(t,n,e),r.call(i,t,e))}))})),this.callBase(t,e)}return this.updateCellState(t,n,e),this.callBase(t,e)},getEditorInstance:function(t){var e=t.find(".dx-texteditor").eq(0);return a.default.getWidgetInstance(e)}},data:{_isCellChanged:function(t,e,n,i,o){var r=t.cells[i],a=r&&r.validationStatus,s=this.getController("validating"),l=s.getCellValidationResult({rowKey:t.key,columnIndex:i}),u=P(l)?l.status:l,h=JSON.stringify(e.modifiedValues)!==JSON.stringify(t.modifiedValues);return!(a===u||!h)||this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight:function(t){var e,n,i,o=this.element(),r=o&&o.find("."+this.addWidgetPrefix("invalid-message")+" .dx-overlay-content");if(this.callBase(t),r&&r.length&&(e=this._getRowElements(),(n=(i=this._getFreeSpaceRowElements(t)).first())&&1===e.length&&(!n.is(":visible")||r.outerHeight()>n.outerHeight())))return i.show(),i.height(r.outerHeight()),!0},_formItemPrepared:function(t,e){var n=this;this.callBase.apply(this,arguments),(0,l.deferUpdate)((function(){var i=e.find(".dx-widget").first();i.length&&!i.children().length||n.getController("validating").createValidator(t,i)}))},_cellPrepared:function(t,e){this.getController("editing").isFormEditMode()||this.getController("validating").createValidator(e,t),this.callBase.apply(this,arguments)}}}}};e.default=R,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(481))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=u(n(50)),r=u(n(19)),a=n(3),s=u(n(180)),l=n(2);function u(t){return t&&t.__esModule?t:{default:t}}var h=s.default.inherit({_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{toolbarItems:[],showCloseButton:!1,showTitle:!1,title:null,titleTemplate:null,onTitleRendered:null,bottomTemplate:null,propagateOutsideClick:!0})},_render:function(){this.$element().addClass("dx-tooltip"),this._wrapper().addClass("dx-tooltip-wrapper"),this.callBase()},_renderContent:function(){this.callBase(),this._contentId="dx-"+new o.default,this._$content.attr({id:this._contentId,role:"tooltip"}),this._toggleAriaDescription(!0)},_toggleAriaDescription:function(t){var e=(0,i.default)(this.option("target")),n=t?this._contentId:void 0;(0,l.isWindow)(e.get(0))||this.setAria("describedby",n,e)}});(0,r.default)("dxTooltip",h);var c=h;e.default=c,t.exports=e.default},function(t,e,n){"use strict";var i=a(n(22)),o=a(n(142)),r=a(n(483));function a(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("virtualScrolling",r.default),o.default.extend(r.default.extenders.dataSourceAdapter)},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=n(14),r=n(6),a=n(484),s=p(n(31)),l=n(5),u=n(8),h=n(41),c=p(n(73)),d=p(n(24)),f=n(34);function p(t){return t&&t.__esModule?t:{default:t}}var g=function(t){return"virtual"===t.option("scrolling.mode")},m=function(t){return"infinite"===t.option("scrolling.mode")},v=function(t){var e=t.option("scrolling.rowRenderingMode");return"virtual"===e||"standard"!==e&&void 0},y=function(t,e,n,i){for(var o=n?0:1,r=0;r<e+o;r++){var a=t[n?t.length-1-r:r];a&&!i(a,r===e)&&e++}return e},_=function(){var t=function(t){var e=t._virtualScrollController.beginPageIndex(-1);g(t)&&(e<0||t.viewportSize()>=0&&t.getViewportItemIndex()>=0&&(e*t.pageSize()>t.getViewportItemIndex()||e*t.pageSize()+t.itemsCount()<t.getViewportItemIndex()+t.viewportSize())&&t._dataSource.isLoading()?t._isLoading||(t._isLoading=!0,t.loadingChanged.fire(!0)):t._isLoading&&(t._isLoading=!1,t.loadingChanged.fire(!1)))},e={init:function(e){var n=this;n.callBase.apply(n,arguments),n._items=[],n._isLoaded=!0,n._virtualScrollController=new a.VirtualScrollController(n.component,{pageSize:function(){return n.pageSize()},totalItemsCount:function(){return n.totalItemsCount()},hasKnownLastPage:function(){return n.hasKnownLastPage()},pageIndex:function(t){return e.pageIndex(t)},isLoading:function(){return e.isLoading()&&!n.isCustomLoading()},pageCount:function(){return n.pageCount()},load:function(){return e.load()},updateLoading:function(){t(n)},itemsCount:function(){return n.itemsCount(!0)},items:function(){return e.items()},viewportItems:function(t){return t&&(n._items=t),n._items},onChanged:function(t){n.changed.fire(t)},changingDuration:function(t){return n.isLoading()?300:n._renderTime||0}})},_handleLoadingChanged:function(t){g(this)&&!this._isLoadingAll||(this._isLoading=t,this.callBase.apply(this,arguments)),this._startLoadTime=t?new Date:void 0},_handleLoadError:function(){var t=this;t._isLoading=!1,t.loadingChanged.fire(!1),t.callBase.apply(t,arguments)},_handleDataChanged:function(t){var e=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(e,t)},_customizeRemoteOperations:function(t,e){var n=this;!n.option("legacyRendering")&&g(n)&&!e.reload&&e.skip&&n._renderTime<n.option("scrolling.renderingThreshold")&&(t.delay=void 0),n.callBase.apply(n,arguments)},items:function(){return this._items},itemsCount:function(t){return t?this.callBase():this._virtualScrollController.itemsCount()},load:function(t){return t?this.callBase(t):this._virtualScrollController.load()},isLoading:function(){return this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache:function(t){t||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore:function(){var e=this.callBase.apply(this,arguments);return this.resetPagesCache(),t(this),e},reload:function(){this._dataSource.pageIndex(this.pageIndex());var t=this._virtualScrollController;if(t){var e=new u.Deferred;return this.callBase.apply(this,arguments).done((function(n){var i=t._delayDeferred;i?i.done(e.resolve).fail(e.reject):e.resolve(n)})).fail(e.reject),e}return this.callBase.apply(this,arguments)},refresh:function(e,n){var i=this,o=e.storeLoadOptions,r=i._dataSource;return n.reload?(i._virtualScrollController.reset(),r.items().length=0,i._isLoaded=!1,t(i),i._isLoaded=!0,m(i)?(i.pageIndex(0),r.pageIndex(0),o.pageIndex=0,e.pageIndex=0,o.skip=0):(r.pageIndex(i.pageIndex()),r.paginate()&&(e.pageIndex=i.pageIndex(),o.skip=i.pageIndex()*i.pageSize()))):m(i)&&o.skip&&i._skipCorrection<0&&(o.skip+=i._skipCorrection),i.callBase.apply(i,arguments)},dispose:function(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)}};return["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentSize","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","pageIndex","beginPageIndex","endPageIndex","loadIfNeed"].forEach((function(t){e[t]=function(){var e=this._virtualScrollController;return e[t].apply(e,arguments)}})),e}(),b=function(){var t=function(t,e){var n=t.toArray().map((function(t){return(0,i.default)(t).parent("."+e).get(0)})).filter((function(t){return t}));n.length&&(t=(0,i.default)(n));for(var o="dx-freespace-row"===e?t.length-1:t.length,r=0;r<o;r++)t.eq(r).remove()};return{init:function(){var t,e=this,n=this.getController("data");this.callBase(),n.pageChanged.add((function(){e.scrollToPage(n.pageIndex())})),null===(t=n.stateLoaded)||void 0===t||t.add((function(){e._scrollToCurrentPageOnResize()})),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize:function(){var t=this,e=this.getController("data");if(!this.option("legacyRendering")&&e.pageIndex()>0){this.resizeCompleted.add((function n(){t.resizeCompleted.remove(n),t.scrollToPage(e.pageIndex())}))}},scrollToPage:function(t){var e,n=this._dataController,i=n?n.pageSize():0;if(g(this)||m(this)){var o=n.getItemSize(),r=n.getItemSizes(),a=t*i;for(var s in e=a*o,r)s<=a&&(e+=r[s]-o)}else e=0;this.scrollTo({y:e,x:this._scrollLeft})},renderDelayedTemplates:function(t){this._updateContentPosition(!0),this.callBase.apply(this,arguments)},_renderCore:function(t){var e=this,n=new Date;e.callBase.apply(e,arguments);var i=e._dataController._dataSource;if(i&&t){var o=t.items?t.items.length:20,r=e._dataController.viewportSize()||20;v(e)?i._renderTime=(new Date-n)*r/o:i._renderTime=new Date-n}},_getRowElements:function(t){var e=this.callBase(t);return e&&e.not(".dx-virtual-row")},_renderContent:function(t,e){var n=this,i=n._dataController.virtualItemsCount();return i&&n.option("legacyRendering")?((0,o.hasWindow)()&&e.addClass(n.addWidgetPrefix("table-content")),t.children().length?t.children().first().replaceWith(e):t.append(e),1===t.children("table").length&&(t.append(n._createTable()),n._contentHeight=0),t):n.callBase.apply(n,arguments)},_removeRowsElements:function(t,e,n){var o=this._getRowElements(t).toArray();o="append"===n?o.slice(0,e):o.slice(-e);var r=this.getController("errorHandling");o.map((function(t){var e=(0,i.default)(t);r&&r.removeErrorRow(e.next()),e.remove()}))},_restoreErrorRow:function(t){var e=this.getController("editing");e&&e.hasChanges()&&this._getRowElements(t).each((function(t,n){var o=(0,i.default)(n).data("options");if(o){var r=e.getEditDataByKey(o.key);r&&e._showErrorRow(r)}}))},_updateContent:function(e,n){var i,o=this,r=o._findContentElement(),a=n&&n.changeType;if("append"===a||"prepend"===a){var s=r.children().first(),l=o._getBodies(e);o.option("legacyRendering")||1!==l.length?l["append"===a?"appendTo":"prependTo"](s):o._getBodies(s)["append"===a?"append":"prepend"](l.children()),e.remove(),i=o._getFreeSpaceRowElements(s),t(i,"dx-freespace-row"),n.removeCount&&o._removeRowsElements(s,n.removeCount,a),o._restoreErrorRow(s)}else o.callBase.apply(o,arguments);o._updateBottomLoading()},_addVirtualRow:function(t,e,n,i){if(i){var o=this._createEmptyRow("dx-virtual-row",e,i);o=this._wrapRowIfNeed(t,o),this._appendEmptyRow(t,o,n)}},_updateContentPosition:function(e){var n=this,o=n._dataController,a=n._rowHeight||20;if(o.viewportItemSize(a),n.option("legacyRendering")||!g(n)&&!v(n))(0,r.deferUpdate)((function(){n._updateContentPositionCore()}));else{if(!e){var s=n._getRowElements(n._tableElement).toArray().map((function(t){return(0,f.getBoundingRect)(t).height}));o.setContentSize(s)}var l=o.getContentOffset("begin"),u=o.getContentOffset("end"),h=n.getTableElements(),c=h.children("tbody").children(".dx-virtual-row");t(c,"dx-virtual-row"),h.each((function(t){var e=t>0;n._isFixedTableRendering=e,n._addVirtualRow((0,i.default)(this),e,"top",l),n._addVirtualRow((0,i.default)(this),e,"bottom",u),n._isFixedTableRendering=!1}))}},_updateContentPositionCore:function(){var t,e,n,i=this,o=i._rowHeight||20;if(i._dataController.virtualItemsCount()){e=i._findContentElement().children(),n=e.eq(0);var a=e.eq(1);i._contentTableHeight=n[0].offsetHeight,i._dataController.viewportItemSize(o),i._dataController.setContentSize(i._contentTableHeight),t=i._dataController.getVirtualContentSize();var s=i._dataController.getContentOffset();(0,r.deferRender)((function(){(0,h.move)(n,{left:0,top:s}),(i._contentHeight!==t||0===t||!i._isTableLinesDisplaysCorrect(a)||!i._isColumnElementsEqual(n.find("col"),a.find("col")))&&(i._contentHeight=t,i._renderVirtualTableContent(a,t))}))}},_isTableLinesDisplaysCorrect:function(t){return t.find(".dx-column-lines").length>0===this.option("showColumnLines")},_isColumnElementsEqual:function(t,e){var n=t.length===e.length;return n&&(0,l.each)(t,(function(t,i){if(i.style.width!==e[t].style.width)return n=!1})),n},_renderVirtualTableContent:function(t,e){for(var n=this._columnsController.getVisibleColumns(),i=this._createColGroup(n).prop("outerHTML"),o="",r=this.option("showColumnLines")?"dx-column-lines":"",a=function(t){return"<tr style='height:"+t+"px;' class='dx-freespace-row dx-row "+r+"' >"+o+"</tr>"},s=0;s<n.length;s++){var l=this._getCellClasses(n[s]),u=l.length?" class='"+l.join(" ")+"'":"";o+="<td"+u+"/>"}for(;e>25e4;)i+=a(25e4),e-=25e4;i+=a(e),t.addClass(this.addWidgetPrefix("table")),t.html(i)},_getCellClasses:function(t){var e=[],n=t.cssClass,i="expand"===t.command;return n&&e.push(n),i&&e.push(this.addWidgetPrefix("group-space")),e},_findBottomLoadPanel:function(t){var e=t||this.element(),n=e&&e.find("."+this.addWidgetPrefix("bottom-load-panel"));if(n&&n.length)return n},_updateBottomLoading:function(){var t=this.option("scrolling.mode"),e="virtual"===t,n="infinite"===t,o=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(e||n),r=this._findContentElement(),a=this._findBottomLoadPanel(r);o?a||(0,i.default)("<div>").addClass(this.addWidgetPrefix("bottom-load-panel")).append(this._createComponent((0,i.default)("<div>"),c.default).$element()).appendTo(r):a&&a.remove()},_handleScroll:function(t){var e=this;e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(t.scrollOffset.top),e.callBase.apply(e,arguments)},_needUpdateRowHeight:function(t){var e=this;return e.callBase.apply(e,arguments)||t>0&&"infinite"===e.option("scrolling.mode")&&"virtual"!==e.option("scrolling.rowRenderingMode")},_updateRowHeight:function(){var t=this;if(t.callBase.apply(t,arguments),t._rowHeight){t._updateContentPosition();var e=t._hasHeight?t.element().outerHeight():(0,i.default)((0,o.getWindow)()).outerHeight();t._dataController.viewportSize(Math.ceil(e/t._rowHeight))}},updateFreeSpaceRowHeight:function(){var t=this.callBase.apply(this,arguments);return t&&this._updateContentPosition(),t},setLoading:function(t,e){var n=this.callBase,i=this._dataController;i.pageIndex()>0&&i.isLoaded()&&!!this._findBottomLoadPanel()&&(t=!1),n.call(this,t,e)},_resizeCore:function(){var t=this,e=t.element();t.callBase(),t.component.$element()&&!t._windowScroll&&e.closest((0,o.getWindow)().document).length&&(t._windowScroll=(0,a.subscribeToExternalScrollers)(e,(function(e){!t._hasHeight&&t._rowHeight&&t._dataController.setViewportPosition(e)}),t.component.$element()),t.on("disposing",(function(){t._windowScroll.dispose()}))),t.loadIfNeed()},loadIfNeed:function(){var t=this._dataController;t&&t.loadIfNeed&&t.loadIfNeed()},setColumnWidths:function(t){var e,n=this.getScrollable();this.callBase.apply(this,arguments),"virtual"===this.option("scrolling.mode")&&(e=n?n.$content():this.element(),this.callBase(t,e.children("."+this.addWidgetPrefix("content")).children(":not(."+this.addWidgetPrefix("table-content")+")")))},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),x={defaultOptions:function(){return{scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1}}},extenders:{dataSourceAdapter:_,controllers:{data:function(){var t={_refreshDataSource:function(){var t=this.callBase.apply(this,arguments)||(new u.Deferred).resolve().promise();return t.done(this.initVirtualRows.bind(this)),t},getRowPageSize:function(){var t=this.option("scrolling.rowPageSize"),e=this.pageSize();return e&&e<t?e:t},_applyFilter:function(){return this.setViewportPosition(0),this.callBase.apply(this,arguments)},reload:function(){var t=this,e=t._rowsScrollController||t._dataSource,n=e&&e.getItemIndexByPosition(),o=this.callBase.apply(this,arguments);return o&&o.done((function(){if(g(t)||v(t)){var e=t.getRowIndexOffset(),o=Math.floor(n)-e,r=t.component,a=r.getScrollable&&r.getScrollable(),s=t.dataSource().operationTypes().sorting;if(a&&!t.option("legacyRendering")&&!s){var l=r.getRowElement(o),u=l&&l[0]&&(0,i.default)(l[0]),h=u&&u.position().top;h>(d.default.mozilla||d.default.msie?1:0)&&(h=Math.round(h+u.outerHeight()*(n%1)),a.scrollTo({y:h}))}}}))},initVirtualRows:function(){var t=this,e=v(t);if("virtual"!==t.option("scrolling.mode")&&!0!==e||!1===e||t.option("legacyRendering")||!t.option("scrolling.rowPageSize"))return t._visibleItems=null,void(t._rowsScrollController=null);t._rowPageIndex=Math.ceil(t.pageIndex()*t.pageSize()/t.getRowPageSize()),t._visibleItems=[];var n=function(e){return"data"===e.rowType&&!e.isNewRow||"group"===e.rowType&&t._dataSource.isGroupItemCountable(e.data)};t._rowsScrollController=new a.VirtualScrollController(t.component,{pageSize:function(){return t.getRowPageSize()},totalItemsCount:function(){return g(t)?t.totalItemsCount():t._items.filter(n).length},hasKnownLastPage:function(){return!0},pageIndex:function(e){return void 0!==e&&(t._rowPageIndex=e),t._rowPageIndex},isLoading:function(){return t.isLoading()},pageCount:function(){var t=Math.ceil(this.totalItemsCount()/this.pageSize());return t||1},load:function(){t._rowsScrollController.pageIndex()>=this.pageCount()&&(t._rowPageIndex=this.pageCount()-1,t._rowsScrollController.pageIndex(t._rowPageIndex)),!t._rowsScrollController._dataSource.items().length&&this.totalItemsCount()||t._rowsScrollController.handleDataChanged((function(e){(e=e||{}).changeType=e.changeType||"refresh",e.items=e.items||t._visibleItems,t._visibleItems.forEach((function(t,e){t.rowIndex=e})),t._fireChanged(e)}))},updateLoading:function(){},itemsCount:function(){return t._rowsScrollController._dataSource.items().filter(n).length},correctCount:function(t,e,i){return y(t,e,i,n)},items:function(e){var i=t.dataSource(),o=i&&i.virtualItemsCount(),r=o?o.begin:0,a=t.getRowPageSize(),s=t._rowPageIndex*a-r,l=a,u=t._items;return s<0?[]:(s&&(s=this.correctCount(u,s),u=u.slice(s)),l&&(l=this.correctCount(u,l),u=u.slice(0,l)),e?u.filter(n):u)},viewportItems:function(e){return e&&(t._visibleItems=e),t._visibleItems},onChanged:function(){},changingDuration:function(e){var n=t.dataSource();return n.isLoading()?300:(null===n||void 0===n?void 0:n._renderTime)||0}},!0),t._rowsScrollController.positionChanged.add((function(){var e;null===(e=t._dataSource)||void 0===e||e.setViewportItemIndex(t._rowsScrollController.getViewportItemIndex())})),t.isLoaded()&&t._rowsScrollController.load()},_updateItemsCore:function(t){var e=this,n=this.getRowIndexDelta();this.callBase.apply(this,arguments);var i=this._rowsScrollController;if(i){var o=this._visibleItems,r="refresh"===t.changeType||t.isLiveUpdate;if("append"===t.changeType&&t.items&&!t.items.length)return;r||"append"===t.changeType||"prepend"===t.changeType?(t.cancel=!0,r&&i.reset(!0),i.load()):("update"===t.changeType?t.rowIndices.forEach((function(e,n){var i=t.changeTypes[n],r=t.items[n];"update"===i?o[e]=r:"insert"===i?o.splice(e,0,r):"remove"===i&&o.splice(e,1)})):(o.forEach((function(t,i){o[i]=e._items[i+n]||o[i]})),t.items=o),o.forEach((function(t,e){t.rowIndex=e})))}},_applyChange:function(t){var e=this,n=t.items,i=t.changeType,o=t.removeCount;if(o){var r="prepend"===i;o=y(e._items,o,r,(function(t,n){return"data"===t.rowType&&!t.isNewRow||"group"===t.rowType&&(e._dataSource.isGroupItemCountable(t.data)||n)})),t.removeCount=o}switch(i){case"prepend":e._items.unshift.apply(e._items,n),o&&e._items.splice(-o);break;case"append":e._items.push.apply(e._items,n),o&&e._items.splice(0,o);break;default:e.callBase(t)}},items:function(t){return t?this._items:this._visibleItems||this._items},getRowIndexDelta:function(){var t=this._visibleItems,e=0;return t&&t[0]&&(e=this._items.indexOf(t[0])),e<0?0:e},getRowIndexOffset:function(){var t=0,e=this.dataSource(),n=this._rowsScrollController;return n?t=n.beginPageIndex()*n._dataSource.pageSize():"virtual"===this.option("scrolling.mode")&&e&&(t=e.beginPageIndex()*e.pageSize()),t},viewportSize:function(){var t=this._rowsScrollController;t&&t.viewportSize.apply(t,arguments);var e=this._dataSource;return e&&e.viewportSize.apply(e,arguments)},viewportItemSize:function(){var t=this._rowsScrollController;t&&t.viewportItemSize.apply(t,arguments);var e=this._dataSource;return e&&e.viewportItemSize.apply(e,arguments)},setViewportPosition:function(){var t=this._rowsScrollController,e=this._dataSource;t?t.setViewportPosition.apply(t,arguments):null===e||void 0===e||e.setViewportPosition.apply(e,arguments)},setContentSize:function(t){var e=this._rowsScrollController;e&&e.setContentSize(t);var n=this._dataSource;return n&&n.setContentSize(t)},loadIfNeed:function(){var t=this._rowsScrollController;t&&t.loadIfNeed();var e=this._dataSource;return e&&e.loadIfNeed()},getItemSize:function(){var t=this._rowsScrollController;if(t)return t.getItemSize.apply(t,arguments);var e=this._dataSource;return e&&e.getItemSize.apply(e,arguments)},getItemSizes:function(){var t=this._rowsScrollController;if(t)return t.getItemSizes.apply(t,arguments);var e=this._dataSource;return e&&e.getItemSizes.apply(e,arguments)},getContentOffset:function(){var t=this._rowsScrollController;if(t)return t.getContentOffset.apply(t,arguments);var e=this._dataSource;return e&&e.getContentOffset.apply(e,arguments)},refresh:function(t){var e=this._dataSource;return e&&t&&t.load&&m(this)&&e.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose:function(){var t=this._rowsScrollController;t&&t.dispose(),this.callBase.apply(this,arguments)}};return s.default.proxyMethod(t,"virtualItemsCount"),s.default.proxyMethod(t,"getVirtualContentSize"),s.default.proxyMethod(t,"setViewportItemIndex"),t}(),resizing:{resize:function(){var t,e=this,n=e.callBase;if(e.option("legacyRendering")||!g(e)&&!v(e))t=n.apply(e);else{clearTimeout(e._resizeTimeout);var i=new Date-e._lastTime,o=e.option("scrolling.updateTimeout");e._lastTime&&i<o?(t=new u.Deferred,e._resizeTimeout=setTimeout((function(){n.apply(e).done(t.resolve).fail(t.reject),e._lastTime=new Date}),o),e._lastTime=new Date):(t=n.apply(e),e._dataController.isLoaded()&&(e._lastTime=new Date))}return t},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:b}}};e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.getContentHeightLimit=y,e.subscribeToExternalScrollers=_,e.VirtualScrollController=e.getPixelRatio=void 0;var i=f(n(1)),o=n(14),r=f(n(7)),a=f(n(24)),s=n(2),l=f(n(74)),u=n(5),h=f(n(20)),c=n(8),d=f(n(38));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){return"virtual"===t.option("scrolling.mode")||t._isVirtual},g=function(t){return"infinite"===t.option("scrolling.mode")&&!t._isVirtual},m=function(t){return t.option("scrolling.loadTwoPagesOnStart")||t._isVirtual||t._viewportItemIndex>0},v=function(t){return t.devicePixelRatio||1};function y(t){return t.msie?4e6:t.mozilla?8e6:15e6/v((0,o.getWindow)())}function _(t,e,n){var a,s=[],h=[],c=[];function d(e){var n=e.element?e.$element():e,i=l.default.offset(n);return i?e.scrollTop()-(i.top-t.offset().top):t.offset().top}var f={on:function(t,e,n){t.on("scroll",n)},off:function(t,e,n){t.off("scroll",n)}};function p(t){var n="#document"===t.get(0).nodeName,a=t.data("dxScrollable"),l=f;if(a||(a=n&&(0,i.default)((0,o.getWindow)())||"auto"===t.css("overflowY")&&t,l=r.default,a)){var u=function(t){return function(){var n=t.scrollTop()-d(t);e(n=n>0?n:0)}}(a);l.on(a,"scroll",u),h.push((function(t){var e=d(a),n=a.scrollTo?"scrollTo":"scrollTop";t-e>=0&&a[n](t+e)})),s.push(a),c.push((function(){l.off(a,"scroll",u)}))}}for(a=(n=n||t).parent();a.length;a=a.parent())p(a);return{scrollTo:function(t){(0,u.each)(h,(function(e,n){n(t)}))},dispose:function(){(0,u.each)(c,(function(t,e){e()}))}}}e.getPixelRatio=v;var b=h.default.inherit(function(){var t=function(t,e){var n=t.option("scrolling.preloadEnabled"),i=function(t){var e=t._dataSource.pageSize();if(t.option("scrolling.preventPreload"))return 0;var n=t._viewportSize;if(p(t)&&!t.option("legacyRendering")&&t.option("scrolling.removeInvisiblePages")){n=0;for(var i=t._viewportSize*t._viewportItemSize,o=t.getContentOffset(),r=t._position||0,a=t.virtualItemsCount(),s=t._dataSource.totalItemsCount(),l=a.begin;l<s&&!(o>=r+i);l++){(o+=t._itemSizes[l]||t._viewportItemSize)>=r&&n++}}return e&&n>0?Math.ceil(n/e):1}(t);return i&&(e?i=n?1:0:(n&&i++,!g(t)&&m(t)||i--)),i};function e(t){return t._cache.length?t._cache[0].pageIndex:-1}function n(t){return t._cache.length?t._cache[t._cache.length-1].pageIndex:-1}var i=function(t,e,n){t._isChangedFiring=!0,e(n),t._isChangedFiring=!1},o=function(t,e,n){if(t._isDelayChanged)return t._isDelayChanged=!1,i(t,e,n),!0},r=function(t,e,n,o,r){var a=t._dataSource,l=a.items().slice(),u=(0,s.isObject)(n)?n:void 0,h="prepend"===n,c=a.viewportItems();n&&(0,s.isString)(n)&&!t._isDelayChanged&&(u={changeType:n,items:l},r&&(u.removeCount=r.itemsCount,u.removeCount&&a.correctCount&&(u.removeCount=a.correctCount(c,u.removeCount,h))));var d=r?r.itemsLength:0;d&&a.correctCount&&(d=a.correctCount(c,d,h)),"append"===n?(c.push.apply(c,l),r&&c.splice(0,d)):h?(c.unshift.apply(c,l),r&&c.splice(-d)):t._dataSource.viewportItems(l),a.updateLoading(),t._lastPageIndex=t.pageIndex(),t._isDelayChanged=o,o||i(t,e,u)};return{ctor:function(t,e,n){this._dataSource=e,this.component=t,this._pageIndex=this._lastPageIndex=e.pageIndex(),this._viewportSize=0,this._viewportItemSize=20,this._viewportItemIndex=-1,this._itemSizes={},this._sizeRatio=1,this._items=[],this._cache=[],this._isVirtual=n,this._loadingPageIndexes={},this.positionChanged=(0,d.default)()},getItemSizes:function(){return this._itemSizes},option:function(){return this.component.option.apply(this.component,arguments)},virtualItemsCount:function(){var t,n=0;if(p(this)){(t=e(this))<0&&(t=this._dataSource.pageIndex());var i=t*this._dataSource.pageSize();return n=this._cache.length*this._dataSource.pageSize(),{begin:i,end:Math.max(0,this._dataSource.totalItemsCount()-n-i)}}},setViewportPosition:function(t){var e=this,n=new c.Deferred,i=Math.min(e.option("scrolling.timeout")||0,e._dataSource.changingDuration());return i<e.option("scrolling.renderingThreshold")&&(i=e.option("scrolling.minTimeout")||0),clearTimeout(e._scrollTimeoutID),i>0?e._scrollTimeoutID=setTimeout((function(){e._setViewportPositionCore(t),n.resolve()}),i):(e._setViewportPositionCore(t),n.resolve()),n.promise()},getViewportPosition:function(){return this._position||0},getItemIndexByPosition:function(){for(var t=this._position,e=this.getItemSize(),n=0,i=0,o=Object.keys(this._itemSizes).concat(-1),r=0;r<o.length&&n<t;r++){var a=parseInt(o[r]),s=(t-n)/e;if(a<0||i+s<a){i+=s;break}n+=(s=a-i)*e,i+=s;var l=this._itemSizes[a];i+=(n+=l)<t?1:(t-n+l)/l}return Math.round(50*i)/50},_setViewportPositionCore:function(t){this._position=t;var e=this.getItemIndexByPosition(),n=this.setViewportItemIndex(e);return this.positionChanged.fire(),n},setContentSize:function(t){var e=this,n=Array.isArray(t)&&t,i=e.virtualItemsCount();if(n&&(t=n.reduce((function(t,e){return t+e}),0)),e._contentSize=t,i){n&&n.forEach((function(t,n){e._itemSizes[i.begin+n]=t}));var o=(i.begin+i.end+e.itemsCount())*e._viewportItemSize,r=y(a.default);e._sizeRatio=o>r?r/o:1}},getItemSize:function(){return this._viewportItemSize*this._sizeRatio},getItemOffset:function(t,e){var n=this,i=n.virtualItemsCount(),o=t;if(!i)return 0;var r=0,a=n._dataSource.totalItemsCount();return Object.keys(n._itemSizes).forEach((function(i){o&&(e?i>=a-t:i<t)&&(r+=n._itemSizes[i],o--)})),Math.floor(r+o*n._viewportItemSize*n._sizeRatio)},getContentOffset:function(t){var e="end"===t,n=this.virtualItemsCount();return n?this.getItemOffset(e?n.end:n.begin,e):0},getVirtualContentSize:function(){return this.virtualItemsCount()?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(t){var e,n=this._dataSource.pageSize(),i=this._dataSource.pageCount(),o=p(this),r=g(this),a=this._dataSource.totalItemsCount();if(this._viewportItemIndex=t,n&&(o||r)&&a>=0){if(this._viewportSize&&t+this._viewportSize>=a&&!this._isVirtual)if(this._dataSource.hasKnownLastPage()){var s=a%n;(e=i-1)>0&&s>0&&s<this._viewportSize&&e--}else e=i;else{e=Math.floor(t/n);var l=i-1;e=Math.max(e,0),e=Math.min(e,l)}return this.pageIndex(e),this.load()}},viewportItemSize:function(t){return void 0!==t&&(this._viewportItemSize=t),this._viewportItemSize},viewportSize:function(t){return void 0!==t&&(this._viewportSize=t),this._viewportSize},pageIndex:function(t){return p(this)||g(this)?(void 0!==t&&(this._pageIndex=t),this._pageIndex):this._dataSource.pageIndex(t)},beginPageIndex:function(t){var n=e(this);return n<0&&(n=void 0!==t?t:this.pageIndex()),n},endPageIndex:function(){var t=n(this);return t>0?t:this._lastPageIndex},pageSize:function(){return this._dataSource.pageSize()},load:function(){var i,o=this,r=o._dataSource;if(p(o)||g(o)){var a=function(i){var o=-1,r=e(i),a=i._dataSource;if(r<0)o=i._pageIndex;else if(i._cache[i._pageIndex-r]){if(r>=0&&i._viewportSize>=0){if(r>0)(n(i)+1===a.pageCount()&&i._cache.length<t(i)+1||i._pageIndex===r&&t(i,!0))&&(o=r-1);if(o<0)r+i._cache.length<=i._pageIndex+t(i)&&(o=r+i._cache.length)}}else o=i._pageIndex;return i._loadingPageIndexes[o]&&(o=-1),o}(o);if(a>=0){var s=function(t,e){var n=t._dataSource;if(e===t.pageIndex()||!n.isLoading()&&e<n.pageCount()||!n.hasKnownLastPage()&&e===n.pageCount())return n.pageIndex(e),t._loadingPageIndexes[e]=!0,(0,c.when)(n.load()).always((function(){t._loadingPageIndexes[e]=!1}))}(o,a);s&&(i=new c.Deferred,s.done((function(){var t=o._delayDeferred;t?t.done(i.resolve).fail(i.reject):i.resolve()})).fail(i.reject),r.updateLoading())}}else i=r.load();return i||o._lastPageIndex===o.pageIndex()||o._dataSource.onChanged({changeType:"pageIndex"}),i||(new c.Deferred).resolve()},loadIfNeed:function(){if((p(this)||g(this))&&!this._dataSource.isLoading()&&(!this._isChangedFiring||this._isVirtual)){var t=this.getViewportPosition();t>0?this._setViewportPositionCore(t):this.load()}},handleDataChanged:function(a,s){var l,u,h=this,c=h._dataSource,d=h._cache.length;if(s&&s.changes)i(h,a,s);else if(p(h)||g(h)){var f=e(h);if(f>=0&&(p(h)&&f+h._cache.length!==c.pageIndex()&&f-1!==c.pageIndex()&&(d=0,h._cache=[]),g(h)))if(0===c.pageIndex())h._cache=[];else if(c.pageIndex()<n(h))return void i(h,a,{changeType:"append",items:[]});var v,y={pageIndex:c.pageIndex(),itemsLength:c.items(!0).length,itemsCount:h.itemsCount(!0)};!h.option("legacyRendering")&&h.option("scrolling.removeInvisiblePages")&&p(h)?u=h._cache.length>Math.max(t(this)+(h.option("scrolling.preloadEnabled")?1:0),2):o(h,a,{isDelayed:!0}),f===c.pageIndex()+1?(u&&(v=h._cache.pop()),l="prepend",h._cache.unshift(y)):(u&&(v=h._cache.shift()),l="append",h._cache.push(y));var _=p(h)&&0===d&&m(h);r(h,a,h._cache.length>1?l:void 0,_,v),h._delayDeferred=h.load().done((function(){o(h,a)&&h.load()}))}else r(h,a,s)},itemsCount:function(t){var e=0;return!t&&p(this)?(0,u.each)(this._cache,(function(){e+=this.itemsCount})):e=this._dataSource.itemsCount(),e},reset:function(t){this._loadingPageIndexes={},this._cache=[],t||(this._itemSizes={})},subscribeToWindowScrollEvents:function(t){var e=this;e._windowScroll=e._windowScroll||_(t,(function(t){e.viewportItemSize()&&e.setViewportPosition(t)}))},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(t){this._windowScroll&&this._windowScroll.scrollTo(t)}}}());e.VirtualScrollController=b},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(486));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("filterRow",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=m(n(1)),o=m(n(7)),r=n(2),a=n(3),s=n(13),l=n(5),u=m(n(35)),h=m(n(31)),c=m(n(18)),d=m(n(82)),f=m(n(79)),p=m(n(487)),g=n(80);function m(t){return t&&t.__esModule?t:{default:t}}var v={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},y={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},_=["date","datetime","number"];function b(t){return"onClick"===t.option("filterRow.applyFilter")}var x=function(){var t=function(t){var e=t&&t.children(),n=e&&e.data("dxComponents"),i=n&&n.length&&e.data(n[0]);if(i instanceof d.default)return i},e=function(t,e){var i="",o="",a=n(t,e),s=h.default.getFormatOptionsByColumn(e,"filterRow");return Array.isArray(a)?(i=h.default.formatValue(a[0],s),""!==(o=h.default.formatValue(a[1],s))&&(i+=" - "+o)):(0,r.isDefined)(a)&&(i=h.default.formatValue(a,s)),i};function n(t,e){if(e)return b(t)&&void 0!==e.bufferedFilterValue?e.bufferedFilterValue:e.filterValue}var u=function(t,e){if(e)return b(t)&&void 0!==e.bufferedSelectedFilterOperation?e.bufferedSelectedFilterOperation:e.selectedFilterOperation},m=function(t,e,i){var o=t._columnsController.columnOption(e),r=n(t,o),a=i.closest("."+t.addWidgetPrefix("filter-range-overlay")).length,s=i.hasClass(t.addWidgetPrefix("filter-range-start"));return r&&Array.isArray(r)&&"between"===u(t,o)?s?r[0]:r[1]:!a&&function(t,e){return!(e&&_.indexOf(e.dataType)>=0&&Array.isArray(t))&&void 0!==t}(r,o)?r:null},x=function(t,e){var i=""===e.value?null:e.value,o=e.container,a=t._columnsController.columnOption(e.column.index),s=m(t,a.index,o);((0,r.isDefined)(s)||(0,r.isDefined)(i))&&(t._applyFilterViewController.setHighLight(o,s!==i),t._columnsController.columnOption(a.index,b(t)?"bufferedFilterValue":"filterValue",function(t,e,i,o){if("between"===u(t,i)){var r=n(t,i);return o.hasClass(t.addWidgetPrefix("filter-range-start"))?[e,Array.isArray(r)?r[1]:void 0]:[Array.isArray(r)?r[0]:r,e]}return e}(t,i,a,o),e.notFireEvent))};return{_updateEditorValue:function(e,n){var i=t(n);i&&i.option("value",m(this,e.index,n))},_columnOptionChanged:function(t){var n,o,r,a,s=t.optionNames;if(h.default.checkChanges(s,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation"])&&void 0!==t.columnIndex){var l=this._columnsController.getVisibleIndex(t.columnIndex),c=this._columnsController.columnOption(t.columnIndex);if(o=(n=this._getCellElement(this.element().find("."+this.addWidgetPrefix("filter-row")).index(),l)||(0,i.default)()).find(".dx-editor-container").first(),s.filterValue||s.bufferedFilterValue){this._updateEditorValue(c,o);var d=n.find("."+this.addWidgetPrefix("filter-range-overlay")).data("dxOverlay");d&&(r=d.$content().find(".dx-editor-container"),this._updateEditorValue(c,r.first()),this._updateEditorValue(c,r.last())),d&&d.option("visible")||this._updateFilterRangeContent(n,e(this,c))}(s.selectedFilterOperation||s.bufferedSelectedFilterOperation)&&l>=0&&c&&(a=n.find(".dx-menu")).length&&(this._updateFilterOperationChooser(a,c,o),"between"===u(this,c)?this._renderFilterRangeContent(n,c):o.find(".dx-filter-range-content").length&&(this._renderEditor(o,this._getEditorOptions(o,c)),this._hideFilterRange()))}else this.callBase(t)},_renderCore:function(){this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay:function(t,n){var r=this,a={},l=t.find(".dx-editor-container"),h=(0,i.default)("<div>").addClass(r.addWidgetPrefix("filter-range-overlay")).appendTo(t);return r._createComponent(h,f.default,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,closeOnTargetScroll:!1,closeOnOutsideClick:!0,animation:!1,position:{my:"top",at:"top",of:l.length&&l||t,offset:"0 -1"},contentTemplate:function(e){var l,u=(0,i.default)("<div>").addClass("dx-editor-container "+r.addWidgetPrefix("filter-range-start")).appendTo(e);return n=r._columnsController.columnOption(n.index),(l=r._getEditorOptions(u,n)).sharedData=a,r._renderEditor(u,l),o.default.on(u.find("input:not([type='hidden'])"),"keydown",(function(e){var n=t.find("[tabindex]").not(e.target).first();"tab"===(0,s.normalizeKeyName)(e)&&e.shiftKey&&(e.preventDefault(),r._hideFilterRange(),n.length||(n=t.prev().find("[tabindex]").last()),o.default.trigger(n,"focus"))})),u=(0,i.default)("<div>").addClass("dx-editor-container "+r.addWidgetPrefix("filter-range-end")).appendTo(e),(l=r._getEditorOptions(u,n)).sharedData=a,r._renderEditor(u,l),o.default.on(u.find("input:not([type='hidden'])"),"keydown",(function(e){"tab"!==(0,s.normalizeKeyName)(e)||e.shiftKey||(e.preventDefault(),r._hideFilterRange(),o.default.trigger(t.next().find("[tabindex]").first(),"focus"))})),(0,i.default)(e).addClass(r.getWidgetContainerClass())},onShown:function(t){var e=t.component.$content().find(".dx-editor-container").first();o.default.trigger(e.find("input:not([type='hidden'])"),"focus")},onHidden:function(){n=r._columnsController.columnOption(n.index),t.find(".dx-menu").parent().addClass("dx-editor-with-menu"),"between"===u(r,n)&&(r._updateFilterRangeContent(t,e(r,n)),r.component.updateDimensions())}})},_updateFilterRangeOverlay:function(t){var e=this._filterRangeOverlayInstance;e&&e.option(t)},_showFilterRange:function(t,e){var n=t.children("."+this.addWidgetPrefix("filter-range-overlay")),i=n.length&&n.data("dxOverlay");!i&&e&&(i=this._initFilterRangeOverlay(t,e)),i.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=i,this._updateFilterRangeOverlay({width:t.outerWidth(!0)+1}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange:function(){var t=this._filterRangeOverlayInstance;t&&t.hide()},getFilterRangeOverlayInstance:function(){return this._filterRangeOverlayInstance},_createRow:function(t){var e=this,n=this.callBase(t);return"filter"===t.rowType&&(n.addClass(this.addWidgetPrefix("filter-row")),this.option("useLegacyKeyboardNavigation")||o.default.on(n,"keydown",(function(t){return(0,g.selectView)("filterRow",e,t)}))),n},_getRows:function(){var t=this.callBase();return this.isFilterRowVisible()&&t.push({rowType:"filter"}),t},_renderFilterCell:function(t,e){var n=e.column,o=(0,i.default)(t);this.component.option("showColumnHeaders")&&this.setAria("describedby",n.headerId,o),this.setAria("label",c.default.format("dxDataGrid-ariaFilterCell"),o),o.addClass("dx-editor-cell");var r=(0,i.default)("<div>").appendTo(o),a=(0,i.default)("<div>").addClass("dx-editor-container").appendTo(r);if("between"===u(this,n))this._renderFilterRangeContent(o,n);else{var s=this._getEditorOptions(a,n);this._renderEditor(a,s)}var l=n.alignment;l&&"center"!==l&&o.find("input:not([type='hidden'])").first().css("textAlign",n.alignment),n.filterOperations&&n.filterOperations.length&&this._renderFilterOperationChooser(r,n,a)},_renderCellContent:function(t,e){var n=this,i=e.column;if("filter"===e.rowType)if(i.command)t.html("&nbsp;");else if(i.allowFiltering)return void n.renderTemplate(t,n._renderFilterCell.bind(n),e).done((function(){n._updateCell(t,e)}));n.callBase(t,e)},_getEditorOptions:function(t,e){var n=this,i={editorOptions:{inputAttr:n._getFilterInputAccessibilityAttributes(e)}},o=(0,a.extend)(i,e,{value:m(n,e.index,t),parentType:"filterRow",showAllText:n.option("filterRow.showAllText"),updateValueTimeout:"onClick"===n.option("filterRow.applyFilter")?0:700,width:null,setValue:function(i,o){x(n,{column:e,value:i,container:t,notFireEvent:o})}});return"between"===u(n,e)&&(t.hasClass(n.addWidgetPrefix("filter-range-start"))?o.placeholder=n.option("filterRow.betweenStartText"):o.placeholder=n.option("filterRow.betweenEndText")),o},_getFilterInputAccessibilityAttributes:function(t){var e=c.default.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":e,"aria-describedby":t.headerId}:{"aria-label":e}},_renderEditor:function(t,e){return t.empty(),this.getController("editorFactory").createEditor((0,i.default)("<div>").appendTo(t),e)},_renderFilterRangeContent:function(t,n){var r=this,a=t.find(".dx-editor-container").first();a.empty();var s=(0,i.default)("<div>").addClass("dx-filter-range-content").attr("tabindex",this.option("tabIndex"));o.default.on(s,"focusin",(function(){r._showFilterRange(t,n)})),s.appendTo(a),r._updateFilterRangeContent(t,e(r,n))},_updateFilterRangeContent:function(t,e){var n=t.find(".dx-filter-range-content");n.length&&(""===e?n.html("&nbsp;"):n.text(e))},_updateFilterOperationChooser:function(e,n,i){var r,a=this,s=function(){var t=p.default.getInstance(e);t&&t.option("focusedElement",null),r&&a._focusEditor(i)};a._createComponent(e,p.default,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:a.getWidgetContainerClass()+" dx-cell-focus-disabled dx-filter-menu",showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!n.filterOperations||!n.filterOperations.length,icon:v[u(a,n)||"default"],selectable:!1,items:a._getFilterOperationMenuItems(n)}],onItemClick:function(e){var o=e.itemData.name,r=u(a,n),s=!1,l=b(a),h={};if(!(e.itemData.items||o&&o===r)){if(o?(h[l?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=o,"between"!==o&&"between"!==r||(s="between"===o,h[l?"bufferedFilterValue":"filterValue"]=null)):(h[l?"bufferedFilterValue":"filterValue"]=null,h[l?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=n.defaultSelectedFilterOperation||null),a._columnsController.columnOption(n.index,h),a._applyFilterViewController.setHighLight(i,!0),!o){var c=t(i);c&&"dxDateBox"===c.NAME&&!c.option("isValid")&&(c.reset(),c.option("isValid",!0))}s?a._showFilterRange(i.closest(".dx-editor-cell"),n):a._focusEditor(i)}},onSubmenuShown:function(){r=a._isEditorFocused(i),a.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){o.default.trigger(e,"blur"),s()},onContentReady:function(t){o.default.on(e,"blur",(function(){var e=t.component;e._hideSubmenu(e._visibleSubmenu),s()}))},rtlEnabled:a.option("rtlEnabled")})},_isEditorFocused:function(t){return t.hasClass("dx-focused")||t.parents(".dx-focused").length},_focusEditor:function(t){this.getController("editorFactory").focus(t),o.default.trigger(t.find("input:not([type='hidden'])"),"focus")},_renderFilterOperationChooser:function(t,e,n){var o;this.option("filterRow.showOperationChooser")&&(t.addClass("dx-editor-with-menu"),o=(0,i.default)("<div>").prependTo(t),this._updateFilterOperationChooser(o,e,n))},_getFilterOperationMenuItems:function(t){var e=this,n=[{}],i=e.option("filterRow"),o=i&&i.operationDescriptions||{};if(t.filterOperations&&t.filterOperations.length){var a=t.filterOperations.filter((function(t){return(0,r.isDefined)(y[t])}));(n=(0,l.map)(a,(function(n){var i=y[n];return{name:n,selected:(u(e,t)||t.defaultFilterOperation)===n,text:o[i],icon:v[n]}}))).push({name:null,text:i&&i.resetOperationText,icon:v.default})}return n},optionChanged:function(t){switch(t.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),t.handled=!0;break;default:this.callBase(t)}}}}(),w={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var t=[this.callBase()],e=this._columnsController.getVisibleColumns(null,!0);return(0,l.each)(e,(function(){if(this.allowFiltering&&this.calculateFilterExpression&&(0,r.isDefined)(this.filterValue)){var e=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");t.push(e)}})),h.default.combineFilters(t)}},C={defaultOptions:function(){return{filterRow:{visible:!1,showOperationChooser:!0,showAllText:c.default.format("dxDataGrid-filterRowShowAllText"),resetOperationText:c.default.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:c.default.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:c.default.format("dxDataGrid-filterRowOperationEquals"),notEqual:c.default.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:c.default.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:c.default.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:c.default.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:c.default.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:c.default.format("dxDataGrid-filterRowOperationStartsWith"),contains:c.default.format("dxDataGrid-filterRowOperationContains"),notContains:c.default.format("dxDataGrid-filterRowOperationNotContains"),endsWith:c.default.format("dxDataGrid-filterRowOperationEndsWith"),between:c.default.format("dxDataGrid-filterRowOperationBetween"),isBlank:c.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:c.default.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:c.default.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:c.default.format("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:u.default.ViewController.inherit({_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(t,e){b(this)&&(t&&t.toggleClass("dx-highlight-outline",e)&&t.closest(".dx-editor-cell").toggleClass("dx-filter-modified",e),this._getHeaderPanel().enableApplyButton(e))},applyFilter:function(){var t=this.getController("columns"),e=t.getColumns();t.beginUpdate();for(var n=0;n<e.length;n++){var i=e[n];void 0!==i.bufferedFilterValue&&(t.columnOption(n,"filterValue",i.bufferedFilterValue),i.bufferedFilterValue=void 0),void 0!==i.bufferedSelectedFilterOperation&&(t.columnOption(n,"selectedFilterOperation",i.bufferedSelectedFilterOperation),i.bufferedSelectedFilterOperation=void 0)}t.endUpdate(),this.removeHighLights()},removeHighLights:function(){if(b(this)){var t=this.getView("columnHeadersView").element();t.find("."+this.addWidgetPrefix("filter-row")+" .dx-highlight-outline").removeClass("dx-highlight-outline"),t.find("."+this.addWidgetPrefix("filter-row")+" .dx-filter-modified").removeClass("dx-filter-modified"),this._getHeaderPanel().enableApplyButton(!1)}}})},extenders:{controllers:{data:w,columnsResizer:{_startResizing:function(){var t=this;if(t.callBase.apply(t,arguments),t.isResizing()){var e=t._columnHeadersView.getFilterRangeOverlayInstance();if(e){var n=e.$element().closest("td").index();n!==t._targetPoint.columnIndex&&n!==t._targetPoint.columnIndex+1||e.$content().hide()}}},_endResizing:function(){var t,e=this;if(e.isResizing()){var n=e._columnHeadersView.getFilterRangeOverlayInstance();n&&(t=n.$element().closest("td"),e._columnHeadersView._updateFilterRangeOverlay({width:t.outerWidth(!0)+1}),n.$content().show())}e.callBase.apply(e,arguments)}}},views:{columnHeadersView:x,headerPanel:{_getToolbarItems:function(){var t=this.callBase();return this._prepareFilterItem(t).concat(t)},_prepareFilterItem:function(){var t=this,e=[];if(t._isShowApplyFilterButton()){var n=t.option("filterRow.applyFilterText"),o={widget:"dxButton",options:{icon:"apply-filter",disabled:!t._columnsController.getColumns().filter((function(t){return void 0!==t.bufferedFilterValue})).length,onClick:function(){t._applyFilterViewController.applyFilter()},hint:n,text:n,onInitialized:function(e){(0,i.default)(e.element).addClass(t._getToolbarButtonClass("dx-apply-button"))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};e.push(o)}return e},_isShowApplyFilterButton:function(){var t=this.option("filterRow");return t&&t.visible&&"onClick"===t.applyFilter},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(t){this.setToolbarItemDisabled("applyFilterButton",!t)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(t){"filterRow"===t.name?(this._invalidate(),t.handled=!0):this.callBase(t)}}}}};e.default=C,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(488))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=b(n(1)),o=b(n(7)),r=b(n(19)),a=n(6),s=n(27),l=n(5),u=n(2),h=n(3),c=n(257),d=n(13),f=b(n(33)),p=n(168),g=b(n(231)),m=b(n(79)),v=b(n(489)),y=b(n(45)),_=b(n(146));function b(t){return t&&t.__esModule?t:{default:t}}function x(t){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e,n){return(S="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=T(t);if(e){var o=T(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return I(this,n)}}function I(t,e){return!e||"object"!==x(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D={show:50,hide:300},M=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"],O=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(b,t);var e,n,r,g=E(b);function b(){return w(this,b),g.apply(this,arguments)}return e=b,(n=[{key:"_getDefaultOptions",value:function(){return(0,h.extend)(S(T(b.prototype),"_getDefaultOptions",this).call(this),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}},{key:"_setOptionsByReference",value:function(){S(T(b.prototype),"_setOptionsByReference",this).call(this),(0,h.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})}},{key:"_itemElements",value:function(){var t=S(T(b.prototype),"_itemElements",this).call(this),e=this._submenuItemElements();return t.add(e)}},{key:"_submenuItemElements",value:function(){var t=[],e=".".concat("dx-menu-item"),n=this._submenus.length&&this._submenus[0];return n&&n.itemsContainer()&&(t=n.itemsContainer().find(e)),t}},{key:"_focusTarget",value:function(){return this.$element()}},{key:"_isMenuHorizontal",value:function(){return"horizontal"===this.option("orientation")}},{key:"_moveFocus",value:function(t){var e,n,i,o=this._getAvailableItems(),r=this._isMenuHorizontal(),a=this._getActiveItem(!0);switch(t){case"up":n=r?"showSubmenu":this._getItemsNavigationOperation("prevItem"),e=r?a:o,i=this._getKeyboardNavigationAction(n,e)();break;case"down":n=r?"showSubmenu":this._getItemsNavigationOperation("nextItem"),e=r?a:o,i=this._getKeyboardNavigationAction(n,e)();break;case"right":n=r?this._getItemsNavigationOperation("nextItem"):"showSubmenu",e=r?o:a,i=this._getKeyboardNavigationAction(n,e)();break;case"left":n=r?this._getItemsNavigationOperation("prevItem"):"showSubmenu",e=r?o:a,i=this._getKeyboardNavigationAction(n,e)();break;default:return S(T(b.prototype),"_moveFocus",this).call(this,t)}i&&0!==i.length&&this.option("focusedElement",(0,s.getPublicElement)(i))}},{key:"_getItemsNavigationOperation",value:function(t){var e=t;return this.option("rtlEnabled")&&(e="prevItem"===t?"nextItem":"prevItem"),e}},{key:"_getKeyboardNavigationAction",value:function(t,e){var n=a.noop;switch(t){case"showSubmenu":e.hasClass("dx-state-disabled")||(n=this._showSubmenu.bind(this,e));break;case"nextItem":n=this._nextItem.bind(this,e);break;case"prevItem":n=this._prevItem.bind(this,e)}return n}},{key:"_clean",value:function(){S(T(b.prototype),"_clean",this).call(this),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}},{key:"_visibilityChanged",value:function(t){t&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}},{key:"_isAdaptivityEnabled",value:function(){return this.option("adaptivityEnabled")&&"horizontal"===this.option("orientation")}},{key:"_updateItemsWidthCache",value:function(){var t=this.$element().find("ul").first().children("li").children(".".concat("dx-menu-item"));this._menuItemsWidth=this._getSummaryItemsWidth(t,!0)}},{key:"_dimensionChanged",value:function(){if(this._isAdaptivityEnabled()){var t=this.$element().outerWidth();this._toggleAdaptiveMode(this._menuItemsWidth>t)}}},{key:"_init",value:function(){S(T(b.prototype),"_init",this).call(this),this._submenus=[]}},{key:"_initActions",value:function(){var t=this;this._actions={},(0,l.each)(M,(function(e,n){t._actions[n]=t._createActionByOption(n)}))}},{key:"_initMarkup",value:function(){this._visibleSubmenu=null,this.$element().addClass("dx-menu"),S(T(b.prototype),"_initMarkup",this).call(this),this.setAria("role","menubar")}},{key:"_render",value:function(){S(T(b.prototype),"_render",this).call(this),this._initAdaptivity()}},{key:"_renderHamburgerButton",value:function(){return this._hamburger=new y.default((0,i.default)("<div>").addClass("dx-menu-hamburger-button"),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}},{key:"_toggleTreeView",value:function(t){(0,u.isPlainObject)(t)&&(t=!this._overlay.option("visible")),this._overlay.option("visible",t),this._toggleHamburgerActiveState(t)}},{key:"_toggleHamburgerActiveState",value:function(t){this._hamburger&&this._hamburger.$element().toggleClass("dx-state-active",t)}},{key:"_toggleAdaptiveMode",value:function(t){var e=this.$element().find(".".concat("dx-menu-horizontal")),n=this.$element().find(".".concat("dx-menu-adaptive-mode"));t?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(t)),e.toggle(!t),n.toggle(t)}},{key:"_removeAdaptivity",value:function(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}},{key:"_treeviewItemClickHandler",value:function(t){this._actions.onItemClick(t),t.node.children.length||this._toggleTreeView(!1)}},{key:"_getAdaptiveOverlayOptions",value:function(){var t=this,e=this.option("rtlEnabled")?"right":"left";return{maxHeight:function(){return(0,c.getElementMaxHeightByWindow)(t.$element())},deferRendering:!1,shading:!1,animation:!1,closeOnTargetScroll:!0,onHidden:function(){t._toggleHamburgerActiveState(!1)},height:"auto",closeOnOutsideClick:function(t){return!(0,i.default)(t.target).closest(".".concat("dx-menu-hamburger-button")).length},position:{collision:"flipfit",at:"bottom "+e,my:"top "+e,of:this._hamburger.$element()}}}},{key:"_getTreeViewOptions",value:function(){var t=this,e={};return(0,l.each)(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(function(n,i){e[i]=t.option(i)})),(0,l.each)(["onItemContextMenu","onSelectionChanged"],(function(n,i){e[i]=function(e){t._actions[i](e)}})),(0,h.extend)(e,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:function(e){t._overlay.repaint(),t._actions.onSubmenuShown(e)},onItemCollapsed:function(e){t._overlay.repaint(),t._actions.onSubmenuHidden(e)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}},{key:"_initAdaptivity",value:function(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=(0,i.default)("<div>").addClass("dx-menu-adaptive-mode");var t=this._renderHamburgerButton();this._treeView=this._createComponent((0,i.default)("<div>"),_.default,this._getTreeViewOptions()),this._overlay=this._createComponent((0,i.default)("<div>"),m.default,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass("dx-menu-adaptive-mode").addClass(this.option("cssClass")),this._overlay._wrapper().addClass("dx-menu-adaptive-mode-overlay-wrapper"),this._$adaptiveContainer.append(t),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}},{key:"_getDelay",value:function(t){var e=this.option("showFirstSubmenuMode").delay;return(0,u.isDefined)(e)?(0,u.isObject)(e)?e[t]:e:D[t]}},{key:"_keyboardHandler",value:function(t){return S(T(b.prototype),"_keyboardHandler",this).call(this,t,!!this._visibleSubmenu)}},{key:"_renderContainer",value:function(){var t=(0,i.default)("<div>");return t.appendTo(this.$element()).addClass(this._isMenuHorizontal()?"dx-menu-horizontal":"dx-menu-vertical"),S(T(b.prototype),"_renderContainer",this).call(this,t)}},{key:"_renderSubmenuItems",value:function(t,e){var n=this._createSubmenu(t,e);return this._submenus.push(n),this._renderBorderElement(e),n}},{key:"_getKeyboardListeners",value:function(){return S(T(b.prototype),"_getKeyboardListeners",this).call(this).concat(this._visibleSubmenu)}},{key:"_createSubmenu",value:function(t,e){var n=(0,i.default)("<div>").addClass("dx-context-menu").appendTo(e),o=this._getChildNodes(t),r=this._createComponent(n,v.default,(0,h.extend)(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:t.internalFields.key,items:o,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(e)}));return this._attachSubmenuHandlers(e,r),r}},{key:"_getSubmenuOptions",value:function(){var t=this,e=(0,i.default)("<div>"),n=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:e,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:function(e){e.component.option("visible")&&t.option("focusedElement",e.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:n?null:this._moveMainMenuFocus.bind(this,"prevItem"),onLeftLastItem:n?null:this._moveMainMenuFocus.bind(this,"nextItem"),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,n?"prevItem":null),onExpandLastSubmenu:n?this._moveMainMenuFocus.bind(this,"nextItem"):null}}},{key:"_getShowFirstSubmenuMode",value:function(){if(!this._isDesktopDevice())return"onClick";var t=this.option("showFirstSubmenuMode");return(0,u.isObject)(t)?t.name:t}},{key:"_moveMainMenuFocus",value:function(t){var e=this._getAvailableItems(),n=e.length,i=e.filter(".".concat("dx-menu-item-expanded")).eq(0),o=e.index(i);this._hideSubmenu(this._visibleSubmenu),(o+="prevItem"===t?-1:1)>=n?o=0:o<0&&(o=n-1);var r=e.eq(o);this.option("focusedElement",(0,s.getPublicElement)(r))}},{key:"_nestedItemOnSelectionChangedHandler",value:function(t){var e=t.addedItems.length&&t.addedItems[0],n=v.default.getInstance(t.element);(0,this._actions.onSelectionChanged)(t),e&&this._clearSelectionInSubmenus(e[0],n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",e)}},{key:"_clearSelectionInSubmenus",value:function(t,e){var n=this,i=!arguments.length;(0,l.each)(this._submenus,(function(t,o){var r=o._itemContainer(),a=!r.is(e&&e._itemContainer()),s=r.find(".".concat(n._selectedItemClass()));if(a&&s.length||i){s.removeClass(n._selectedItemClass());var l=n._getItemData(s);l&&(l.selected=!1),o._clearSelectedItems()}}))}},{key:"_clearRootSelection",value:function(){var t=this.$element().find(".".concat("dx-menu-items-container")).first().children().children().filter(".".concat(this._selectedItemClass()));t.length&&(this._getItemData(t).selected=!1,t.removeClass(this._selectedItemClass()))}},{key:"_nestedItemOnItemClickHandler",value:function(t){this._actions.onItemClick(t)}},{key:"_nestedItemOnItemRenderedHandler",value:function(t){this._actions.onItemRendered(t)}},{key:"_attachSubmenuHandlers",value:function(t,e){var n=this,i=e.getOverlayContent().find(".".concat("dx-submenu")),r=(0,d.addNamespace)(p.end,this.NAME+"_submenu");e.option({onShowing:this._submenuOnShowingHandler.bind(this,t,e),onShown:this._submenuOnShownHandler.bind(this,t,e),onHiding:this._submenuOnHidingHandler.bind(this,t,e),onHidden:this._submenuOnHiddenHandler.bind(this,t,e)}),(0,l.each)(i,(function(e,i){o.default.off(i,r),o.default.on(i,r,null,n._submenuMouseLeaveHandler.bind(n,t))}))}},{key:"_submenuOnShowingHandler",value:function(t,e){var n=t.children(".".concat("dx-context-menu-container-border"));this._actions.onSubmenuShowing({rootItem:(0,s.getPublicElement)(t),submenu:e}),n.show(),t.addClass("dx-menu-item-expanded")}},{key:"_submenuOnShownHandler",value:function(t,e){this._actions.onSubmenuShown({rootItem:(0,s.getPublicElement)(t),submenu:e})}},{key:"_submenuOnHidingHandler",value:function(t,e,n){var i=t.children(".".concat("dx-context-menu-container-border")),o=n;o.rootItem=(0,s.getPublicElement)(t),o.submenu=e,this._actions.onSubmenuHiding(o),(n=o).cancel||(this._visibleSubmenu===e&&(this._visibleSubmenu=null),i.hide(),t.removeClass("dx-menu-item-expanded"))}},{key:"_submenuOnHiddenHandler",value:function(t,e){this._actions.onSubmenuHidden({rootItem:(0,s.getPublicElement)(t),submenu:e})}},{key:"_submenuMouseLeaveHandler",value:function(t,e){var n=(0,i.default)(e.relatedTarget).parents(".".concat("dx-context-menu"))[0],o=this._getSubmenuByRootElement(t).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&n!==o&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}},{key:"_hideSubmenuAfterTimeout",value:function(){if(this._visibleSubmenu){var t=(0,i.default)(this._visibleSubmenu.$element().context).hasClass("dx-state-hover"),e=this._visibleSubmenu.getOverlayContent().find(".".concat("dx-state-hover")).length;this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover")||e||t||this._visibleSubmenu.hide()}}},{key:"_getSubmenuByRootElement",value:function(t){if(!t)return!1;var e=t.children(".".concat("dx-context-menu"));return e.length&&v.default.getInstance(e)}},{key:"getSubmenuPosition",value:function(t){var e=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),i=this.option("rtlEnabled"),o={collision:"flip",of:t};switch(n){case"leftortop":o.at="left top",o.my=e?"left bottom":"right top";break;case"rightorbottom":o.at=e?"left bottom":"right top",o.my="left top";break;default:e?(o.at=i?"right bottom":"left bottom",o.my=i?"right top":"left top"):(o.at=i?"left top":"right top",o.my=i?"right top":"left top")}return o}},{key:"_renderBorderElement",value:function(t){(0,i.default)("<div>").appendTo(t).addClass("dx-context-menu-container-border").hide()}},{key:"_itemPointerDownHandler",value:function(t){(0,i.default)(t.target).closest(this._itemElements()).hasClass("dx-menu-item-has-submenu")?this.option("focusedElement",null):S(T(b.prototype),"_itemPointerDownHandler",this).call(this,t)}},{key:"_hoverStartHandler",value:function(t){var e=(0,d.addNamespace)(f.default.move,this.NAME),n=this._getItemElementByEventArgs(t),i=this._dataAdapter.getNodeByItem(this._getItemData(n)),r=(0,u.isDefined)(t.buttons)&&1===t.buttons||!(0,u.isDefined)(t.buttons)&&1===t.which;if(!this._isItemDisabled(n))if(o.default.off(n,e),this._hasChildren(i)){if("onHover"===this._getShowFirstSubmenuMode()&&!r){var a=this._getSubmenuByElement(n);this._clearTimeouts(),a.isOverlayVisible()||(o.default.on(n,e,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}else this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"))}},{key:"_hoverEndHandler",value:function(t){var e=this,n=this._getItemElementByEventArgs(t),o=(0,i.default)(t.relatedTarget);S(T(b.prototype),"_hoverEndHandler",this).call(this,t),this._clearTimeouts(),this._isItemDisabled(n)||o.hasClass("dx-context-menu-content-delimiter")||this.option("hideSubmenuOnMouseLeave")&&!o.hasClass("dx-menu-items-container")&&(this._hideSubmenuTimer=setTimeout((function(){e._hideSubmenuAfterTimeout()}),this._getDelay("hide")))}},{key:"_hideVisibleSubmenu",value:function(){return!!this._visibleSubmenu&&(this._hideSubmenu(this._visibleSubmenu),!0)}},{key:"_showSubmenu",value:function(t){var e=this._getSubmenuByElement(t);this._visibleSubmenu!==e&&this._hideVisibleSubmenu(),e&&(this._clearTimeouts(),e.show(),this.option("focusedElement",e.option("focusedElement"))),this._visibleSubmenu=e,this._hoveredRootItem=t}},{key:"_hideSubmenu",value:function(t){t&&t.hide(),this._visibleSubmenu===t&&(this._visibleSubmenu=null),this._hoveredRootItem=null}},{key:"_itemMouseMoveHandler",value:function(t){var e=this;if(!t.pointers||!t.pointers.length){var n=(0,i.default)(t.currentTarget);(0,u.isDefined)(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout((function(){var t=e._getSubmenuByElement(n);t&&!t.isOverlayVisible()&&e._showSubmenu(n)}),this._getDelay("show")))}}},{key:"_clearTimeouts",value:function(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}},{key:"_getSubmenuByElement",value:function(t,e){var n=this._getSubmenuByRootElement(t);if(n)return n;e=e||this._getItemData(t);var i=this._dataAdapter.getNodeByItem(e);return this._hasChildren(i)&&this._renderSubmenuItems(i,t)}},{key:"_updateSubmenuVisibilityOnClick",value:function(t){var e=t.args.length&&t.args[0];if(e&&!this._disabledGetter(e.itemData)){var n=(0,i.default)(e.itemElement),o=this._getSubmenuByElement(n,e.itemData);if(this._updateSelectedItemOnClick(t),this._visibleSubmenu){if(this._visibleSubmenu===o)return void("onClick"===this.option("showFirstSubmenuMode")&&this._hideSubmenu(this._visibleSubmenu));this._hideSubmenu(this._visibleSubmenu)}o&&(o.isOverlayVisible()||this._showSubmenu(n))}}},{key:"_optionChanged",value:function(t){switch(t.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(t.name,t.value);break;case"onSubmenuShowing":case"onSubmenuShown":case"onSubmenuHiding":case"onSubmenuHidden":this._initActions();break;case"adaptivityEnabled":t.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(t.name,t.value),this._overlay.option(t.name,t.value)),S(T(b.prototype),"_optionChanged",this).call(this,t),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!t.value),S(T(b.prototype),"_optionChanged",this).call(this,t);break;default:this._isAdaptivityEnabled()&&this._treeView.option(t.name,t.value),S(T(b.prototype),"_optionChanged",this).call(this,t)}}},{key:"_changeSubmenusOption",value:function(t,e){(0,l.each)(this._submenus,(function(n,i){i.option(t,e)}))}},{key:"selectItem",value:function(t){this._hideSubmenu(this._visibleSubmenu),S(T(b.prototype),"selectItem",this).call(this,t)}},{key:"unselectItem",value:function(t){this._hideSubmenu(this._visibleSubmenu),S(T(b.prototype),"selectItem",this).call(this,t)}}])&&C(e.prototype,n),r&&C(e,r),b}(g.default);(0,r.default)("dxMenu",O);var P=O;e.default=P,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=u(n(1)),o=n(6),r=n(27),a=u(n(74)),s=n(3),l=u(n(177));function u(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return(f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(h,t);var e,n,l,u=g(h);function h(){return c(this,h),u.apply(this,arguments)}return e=h,(n=[{key:"_getDefaultOptions",value:function(){return(0,s.extend)(f(v(h.prototype),"_getDefaultOptions",this).call(this),{orientation:"horizontal",tabIndex:null,onHoverStart:o.noop})}},{key:"_initDataAdapter",value:function(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||f(v(h.prototype),"_initDataAdapter",this).call(this)}},{key:"_renderContentImpl",value:function(){this._renderContextMenuOverlay(),f(v(h.prototype),"_renderContentImpl",this).call(this);var t=this._dataAdapter.getNodeByKey(this.option("_parentKey"));t&&this._renderItems(this._getChildNodes(t)),this._renderDelimiter()}},{key:"_renderDelimiter",value:function(){this.$contentDelimiter=(0,i.default)("<div>").appendTo(this._itemContainer()).addClass("dx-context-menu-content-delimiter")}},{key:"_getOverlayOptions",value:function(){return(0,s.extend)(f(v(h.prototype),"_getOverlayOptions",this).call(this),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}},{key:"_overlayPositionedActionHandler",value:function(t){this._showDelimiter(t)}},{key:"_hoverEndHandler",value:function(t){f(v(h.prototype),"_hoverEndHandler",this).call(this,t),this._toggleFocusClass(!1,t.currentTarget)}},{key:"_isMenuHorizontal",value:function(){return"horizontal"===this.option("orientation")}},{key:"_hoverStartHandler",value:function(t){this.option("onHoverStart")(t),f(v(h.prototype),"_hoverStartHandler",this).call(this,t),this._toggleFocusClass(!0,t.currentTarget)}},{key:"_drawSubmenu",value:function(t){this._actions.onShowing({rootItem:(0,r.getPublicElement)(t),submenu:this}),f(v(h.prototype),"_drawSubmenu",this).call(this,t),this._actions.onShown({rootItem:(0,r.getPublicElement)(t),submenu:this})}},{key:"_hideSubmenu",value:function(t){this._actions.onHiding({cancel:!0,rootItem:(0,r.getPublicElement)(t),submenu:this}),f(v(h.prototype),"_hideSubmenu",this).call(this,t),this._actions.onHidden({rootItem:(0,r.getPublicElement)(t),submenu:this})}},{key:"_showDelimiter",value:function(t){if(this.$contentDelimiter){var e=this._itemContainer().children(".".concat("dx-submenu")).eq(0),n=this.option("position").of,i={of:e},o=t.position,r=o.v.location,s=o.h.location,l=n.offset(),u=Math.round(l.left),h=Math.round(l.top),c=n.width(),d=n.height(),f=e.width(),p=e.height();this.$contentDelimiter.css("display","block"),this.$contentDelimiter.width(this._isMenuHorizontal()?c<f?c-2:f:2),this.$contentDelimiter.height(this._isMenuHorizontal()?2:d<p?d-2:p),this._isMenuHorizontal()?r>h?Math.round(s)===u?(i.offset="1 -1",i.at=i.my="left top"):(i.offset="-1 -1",i.at=i.my="right top"):(this.$contentDelimiter.height(5),Math.round(s)===u?(i.offset="1 4",i.at=i.my="left bottom"):(i.offset="-1 2",i.at=i.my="right bottom")):s>u?Math.round(r)===h?(i.offset="-1 1",i.at=i.my="left top"):(i.offset="-1 -1",i.at=i.my="left bottom"):Math.round(r)===h?(i.offset="1 1",i.at=i.my="right top"):(i.offset="1 -1",i.at=i.my="right bottom"),a.default.setup(this.$contentDelimiter,i)}}},{key:"_getContextMenuPosition",value:function(){return this.option("position")}},{key:"isOverlayVisible",value:function(){return this._overlay.option("visible")}},{key:"getOverlayContent",value:function(){return this._overlay.$content()}}])&&d(e.prototype,n),l&&d(e,l),h}(l.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(491));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("headerFilter",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=b(n(7)),o=b(n(35)),r=b(n(122)),a=b(n(31)),s=n(492),l=b(n(18)),u=n(30),h=n(29),c=n(5),d=n(2),f=n(34),p=n(3),g=n(93),m=b(n(58)),v=b(n(86)),y=n(8),_=n(80);function b(t){return t&&t.__esModule?t:{default:t}}var x={month:function(t){return m.default.getMonthNames()[t-1]},quarter:function(t){return m.default.format(new Date(2e3,3*t-1),"quarter")}},w=o.default.ViewController.inherit({init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(t,e){for(var n=t.length,i="exclude"===e.filterType;n--;){var o=t[n];"items"in t[n]&&this._updateSelectedState(t[n].items,e),(0,s.updateHeaderFilterItemSelectionState)(o,a.default.getIndexByKey(t[n].value,e.filterValues,null)>-1,i)}},_normalizeGroupItem:function(t,e,n){var i,o,r=n.path,a=n.valueSelector,s=n.displaySelector,l=n.column;return a&&s?(i=a(t),o=s(t)):o=i=t.key,t=(0,d.isObject)(t)?(0,p.extend)({},t):{},r.push(i),1===r.length?t.value=r[0]:t.value=r.join("/"),t.text=this.getHeaderItemText(o,l,e,n.headerFilterOptions),t},getHeaderItemText:function(t,e,n,i){var o=a.default.formatValue(t,function(t,e,n){var i=r.default.getGroupInterval(e),o=a.default.getFormatOptionsByColumn(e,"headerFilter");return i&&(o.groupInterval=i[n],a.default.isDateType(e.dataType)?o.format=x[i[n]]:"number"===e.dataType&&(o.getDisplayFormat=function(){var o={format:e.format,target:"headerFilter"},r=a.default.formatValue(t,o),s=t+i[n],l=a.default.formatValue(s,o);return r&&l?r+" - "+l:""})),o}(t,e,n));return o||(o=i.texts.emptyValue),o},_processGroupItems:function(t,e,n,i){var o,r,a=i.column.lookup,s=i.level;n=n||[],e=e||0,a&&(o=(0,h.compileGetter)(a.displayExpr),r=(0,h.compileGetter)(a.valueExpr));for(var l=0;l<t.length;l++)t[l]=this._normalizeGroupItem(t[l],e,{column:i.column,headerFilterOptions:i.headerFilterOptions,displaySelector:o,valueSelector:r,path:n}),"items"in t[l]&&(e!==s&&(0,d.isDefined)(t[l].value)?this._processGroupItems(t[l].items,e+1,n,i):delete t[l].items),n.pop()},getDataSource:function(t){var e=this,n=e._dataController.dataSource(),i=a.default.getHeaderFilterGroupParameters(t,n&&n.remoteOperations().grouping),o=t.headerFilter&&t.headerFilter.dataSource,r=e.option("headerFilter"),s=!1,l={component:e.component};if(n){if((0,d.isDefined)(o)&&!(0,d.isFunction)(o))l.dataSource=(0,g.normalizeDataSourceOptions)(o);else if(t.lookup){var u;s=!0,t.lookup.items?u=t.lookup.items:(u=t.lookup.dataSource,(0,d.isFunction)(u)&&!v.default.isWrapped(u)&&(u=u({}))),l.dataSource=(0,g.normalizeDataSourceOptions)(u)}else{var h=Array.isArray(i)?i.length-1:0;e._currentColumn=t;var c=e._dataController.getCombinedFilter();e._currentColumn=null,l.dataSource={filter:c,group:i,useDefaultSearch:!0,load:function(i){var o=new y.Deferred;return i.dataField=t.dataField||t.name,n.load(i).done((function(n){e._processGroupItems(n,null,null,{level:h,column:t,headerFilterOptions:r}),o.resolve(n)})).fail(o.reject),o}}}(0,d.isFunction)(o)&&o.call(t,l);var f=l.dataSource.postProcess;return l.dataSource.postProcess=function(n){var i=n;return s&&(0!==this.pageIndex()||this.searchValue()||(i=i.slice(0)).unshift(null),e._processGroupItems(i,null,null,{level:0,column:t,headerFilterOptions:r})),i=f&&f.call(this,i)||i,e._updateSelectedState(i,t),i},l.dataSource}},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(t,e){var n=this._columnsController,i=(0,p.extend)(!0,{},this._columnsController.getColumns()[t]);if(i){var o=n.getVisibleIndex(t),r=e?this.getView("headerPanel"):this.getView("columnHeadersView"),a=a||r.getColumnElements().eq(e?i.groupIndex:o);this.showHeaderFilterMenuBase({columnElement:a,column:i,applyFilter:!0,apply:function(){n.columnOption(t,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase:function(t){var e=this,n=this,i=t.column;if(i){var o=r.default.getGroupInterval(i),a=n._dataController.dataSource(),s=a&&a.remoteOperations().filtering;(0,p.extend)(t,i,{type:o&&o.length>1?"tree":"list",remoteFiltering:s,onShowing:function(e){var i=e.component.overlayContent().dxResizable("instance");i&&i.option("onResizeEnd",(function(e){var i=n.getController("columns"),o=i.columnOption(t.dataField,"headerFilter");(o=o||{}).width=e.width,o.height=e.height,i.columnOption(t.dataField,"headerFilter",o,!0)}))},onHidden:function(){return(0,_.restoreFocus)(e)}}),t.dataSource=n.getDataSource(t),t.isFilterBuilder&&(t.dataSource.filter=null,t.alignment="right"),n._headerFilterView.showHeaderFilterMenu(t.columnElement,t)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}),C=(0,p.extend)({},s.headerFilterMixin,{_renderCellContent:function(t,e){var n,i=e.column;!i.command&&(0,s.allowHeaderFiltering)(i)&&this.option("headerFilter.visible")&&"header"===e.rowType&&(n=this._applyColumnState({name:"headerFilter",rootElement:t,column:i,showColumnLines:this.option("showColumnLines")}))&&this._subscribeToIndicatorEvent(n,i,"headerFilter"),this.callBase(t,e)},_subscribeToIndicatorEvent:function(t,e,n){var o=this;"headerFilter"===n&&i.default.on(t,u.name,o.createAction((function(t){t.event.stopPropagation(),o.getController("headerFilter").showHeaderFilterMenu(e.index,!1)})))},_updateIndicator:function(t,e,n){var i=this.callBase(t,e,n);i&&this._subscribeToIndicatorEvent(i,e,n)},_updateHeaderFilterIndicators:function(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:function(){return!0},_columnOptionChanged:function(t){var e=t.optionNames;a.default.checkChanges(e,["filterValues","filterType"])?this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators():this.callBase(t)}}),S=(0,p.extend)({},s.headerFilterMixin,{_createGroupPanelItem:function(t,e){var n,o=this,r=o.callBase.apply(o,arguments);return!e.command&&(0,s.allowHeaderFiltering)(e)&&o.option("headerFilter.visible")&&(n=o._applyColumnState({name:"headerFilter",rootElement:r,column:{alignment:(0,f.getDefaultAlignment)(o.option("rtlEnabled")),filterValues:e.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}))&&i.default.on(n,u.name,o.createAction((function(t){t.event.stopPropagation(),o.getController("headerFilter").showHeaderFilterMenu(e.index,!0)}))),r}});var k={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var t=[this.callBase()],e=this._columnsController.getVisibleColumns(null,!0),n=this.getController("headerFilter").getCurrentColumn();return(0,c.each)(e,(function(e,i){var o;if((!n||n.index!==i.index)&&(0,s.allowHeaderFiltering)(i)&&i.calculateFilterExpression&&Array.isArray(i.filterValues)&&i.filterValues.length){var r=[];(0,c.each)(i.filterValues,(function(t,e){Array.isArray(e)?o=e:(i.deserializeValue&&!a.default.isDateType(i.dataType)&&"number"!==i.dataType&&(e=i.deserializeValue(e)),o=i.createFilterExpression(e,"=","headerFilter")),o&&(o.columnIndex=i.index),r.push(o)})),r=a.default.combineFilters(r,"or"),t.push("exclude"===i.filterType?["!",r]:r)}})),a.default.combineFilters(t)}},E={invertFilterExpression:function(t){return["!",t]},defaultOptions:function(){return{headerFilter:{visible:!1,width:252,height:325,allowSearch:!1,searchTimeout:500,texts:{emptyValue:l.default.format("dxDataGrid-headerFilterEmptyValue"),ok:l.default.format("dxDataGrid-headerFilterOK"),cancel:l.default.format("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:w},views:{headerFilterView:s.HeaderFilterView},extenders:{controllers:{data:k},views:{columnHeadersView:C,headerPanel:S}}};e.default=E,t.exports=e.default},function(t,e,n){"use strict";e.updateHeaderFilterItemSelectionState=function(t,e,n){if(e^n){if(t.selected=!0,n&&t.items)for(var i=0;i<t.items.length;i++)if(!t.items[i].selected){t.selected=void 0;break}}else(n||t.selected)&&(t.selected=!1,function t(e){e=e||[];for(var n=0;n<e.length;n++)e[n].selected=!1,t(e[n].items)}(t.items))},e.headerFilterMixin=e.allowHeaderFiltering=e.HeaderFilterView=void 0;var i=d(n(1)),o=d(n(35)),r=d(n(31)),a=n(2),s=n(5),l=n(3),u=d(n(76)),h=d(n(146)),c=d(n(126));function d(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t.component.option("searchValue")){var n=(0,i.default)(t.element).find(".dx-list-select-all-checkbox").data("dxCheckBox");n&&e&&e.length&&n.option("value",void 0)}}function p(t,e){var n=e.headerFilter;return n&&(0,a.isDefined)(n.allowSearch)?n.allowSearch:t.option("headerFilter.allowSearch")}var g=o.default.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(t){var e=this.getListContainer(),n=e.option("searchValue"),i=[];!n&&!t.isFilterBuilder&&e.$element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked")?("tree"===t.type&&(t.filterType="exclude"),Array.isArray(t.filterValues)&&(t.filterValues=[])):"tree"===t.type&&(t.filterType&&(t.filterType="include"),function t(i,o,r){(0,s.each)(o,(function(o,a){if(void 0!==a.selected&&!!a.selected^r){var s=e._getNode(a),l=e._hasChildren(s)&&a.items&&a.items.some((function(t){return t.selected}));if(!n||!l)return void i.push(a.value)}a.items&&a.items.length&&t(i,a.items,r)}))}(i,e.option("items"),!1),t.filterValues=i),t.filterValues&&!t.filterValues.length&&(t.filterValues=null),t.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu:function(t,e){if(e){this._initializePopupContainer(e);var n=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(t,e),n.show()}},hideHeaderFilterMenu:function(){var t=this.getPopupContainer();t&&t.hide()},updatePopup:function(t,e){var n="right"===e.alignment?"left":"right";this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:n+" top",at:n+" bottom",of:t,collision:"flip fit"}))},_getSearchExpr:function(t){var e=t.lookup,n=t.useDefaultSearchExpr,i=t.headerFilter&&t.headerFilter.dataSource;if(n||(0,a.isDefined)(i)&&!(0,a.isFunction)(i))return"text";if(e)return e.displayExpr||"this";if(t.dataSource){var o=t.dataSource.group;if(Array.isArray(o)&&o.length>0)return o[0].selector;if((0,a.isFunction)(o)&&!t.remoteFiltering)return o}return t.dataField||t.selector},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer:function(t){var e=this,n=e.element(),i=e.option("headerFilter"),o={width:t.headerFilter&&t.headerFilter.width||i&&i.width,height:t.headerFilter&&t.headerFilter.height||i&&i.height,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,closeOnTargetScroll:!1,dragEnabled:!1,closeOnOutsideClick:!0,focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.ok,onClick:function(){e.applyHeaderFilter(t)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.cancel,onClick:function(){e.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(n){n.component.$content().parent().addClass("dx-dropdowneditor-overlay"),e._initializeListContainer(t),t.onShowing&&t.onShowing(n)},onShown:function(){e.getListContainer().focus()},onHidden:t.onHidden,onInitialized:function(t){var e=t.component;e.option("animation",e._getDefaultOptions().animation)}};(0,a.isDefined)(e._popupContainer)?e._popupContainer.option(o):e._popupContainer=e._createComponent(n,u.default,o)},_initializeListContainer:function(t){var e=this,n=e._popupContainer.$content(),o={searchEnabled:p(e,t),searchTimeout:e.option("headerFilter.searchTimeout"),searchMode:t.headerFilter&&t.headerFilter.searchMode||"",dataSource:t.dataSource,onContentReady:function(){e.renderCompleted.fire()},itemTemplate:function(e,n,o){var r=(0,i.default)(o);return t.encodeHtml?r.text(e.text):r.html(e.text)}};function a(n){"searchValue"!==n.fullName||t.isFilterBuilder||!1===e.option("headerFilter.hideSelectAllOnSearch")||("tree"===t.type?n.component.option("showCheckBoxesMode",n.value?"normal":"selectAll"):n.component.option("selectionMode",n.value?"multiple":"all"))}"tree"===t.type?e._listContainer=e._createComponent((0,i.default)("<div>").appendTo(n),h.default,(0,l.extend)(o,{showCheckBoxesMode:t.isFilterBuilder?"normal":"selectAll",onOptionChanged:a,keyExpr:"id"})):e._listContainer=e._createComponent((0,i.default)("<div>").appendTo(n),c.default,(0,l.extend)(o,{searchExpr:e._getSearchExpr(t),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:t.isFilterBuilder?"multiple":"all",onOptionChanged:a,onSelectionChanged:function(e){var n=e.component.option("items"),i=e.component.option("selectedItems");if(!e.component._selectedItemsUpdating&&!e.component.option("searchValue")&&!t.isFilterBuilder){var o=t.filterValues||[],a="exclude"===t.filterType;0===i.length&&n.length&&(o.length<=1||a&&o.length===n.length-1)?(t.filterType="include",t.filterValues=[]):i.length===n.length&&(t.filterType="exclude",t.filterValues=[])}(0,s.each)(n,(function(e,n){var o=r.default.getIndexByKey(n,i,null)>=0;if(!!n.selected!==o){n.selected=o,t.filterValues=t.filterValues||[];var a=r.default.getIndexByKey(n.value,t.filterValues,null);a>=0&&t.filterValues.splice(a,1),o^"exclude"===t.filterType&&t.filterValues.push(n.value)}})),f(e,t.filterValues)},onContentReady:function(e){var n=e.component,i=n.option("items"),o=[];(0,s.each)(i,(function(){this.selected&&o.push(this)})),n._selectedItemsUpdating=!0,n.option("selectedItems",o),n._selectedItemsUpdating=!1,f(e,t.filterValues)}}))},_renderCore:function(){this.element().addClass("dx-header-filter-menu")}});e.HeaderFilterView=g;var m=function(t){return(0,a.isDefined)(t.allowHeaderFiltering)?t.allowHeaderFiltering:t.allowFiltering};e.allowHeaderFiltering=m;var v={_applyColumnState:function(t){var e,n=t.rootElement,i=t.column;return"headerFilter"===t.name?(n.find(".dx-header-filter").remove(),m(i)&&(e=this.callBase(t).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(i)),this.option("useLegacyKeyboardNavigation")||e.attr("tabindex",this.option("tabindex")||0)),e):this.callBase(t)},_isHeaderFilterEmpty:function(t){return!t.filterValues||!t.filterValues.length},_getIndicatorClassName:function(t){return"headerFilter"===t?"dx-header-filter":this.callBase(t)},_renderIndicator:function(t){var e=t.container,n=t.indicator;if("headerFilter"===t.name){var i=this.option("rtlEnabled");if(e.children().length&&(!i&&"right"===t.columnAlignment||i&&"left"===t.columnAlignment))return void e.prepend(n)}this.callBase(t)},optionChanged:function(t){if("headerFilter"===t.name){var e="columnHeadersView"===this.name;this._invalidate(e,e),t.handled=!0}else this.callBase(t)}};e.headerFilterMixin=v},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(494));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("filterSync",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=h(n(35)),r=n(149),a=h(n(25)),s=h(n(31)),l=h(n(122)),u=n(497);function h(t){return t&&t.__esModule?t:{default:t}}var c=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"];function d(t){return t.dataField||t.name}var f={defaultOptions:function(){return{filterValue:null,filterSyncEnabled:"auto"}},controllers:{filterSync:o.default.Controller.inherit(function(){var t=function(t){return!l.default.getGroupInterval(t)&&!(t.headerFilter&&t.headerFilter.dataSource)},e=function(t){var e=t.filterValue;if((0,i.isDefined)(e)){var n=t.selectedFilterOperation||t.defaultFilterOperation||(0,r.getDefaultOperation)(t);return[d(t),n,t.filterValue]}return null},n=function(e){var n,i,o=e.filterValues;return o?(t(e)&&1===e.filterValues.length&&!Array.isArray(o[0])?(n="exclude"===e.filterType?"<>":"=",i=o[0]):(n="exclude"===e.filterType?"noneof":"anyof",i=o),[d(e),n,i]):null},o=function(e,n,i){var o=function(e,n){if(!e)return{filterType:"include",filterValues:void 0};var i,o=e[1],r=e[2],a=Array.isArray(r);if(!a&&!t(n))return{filterType:"include",filterValues:void 0};switch(o){case"anyof":case"=":i="include";break;case"noneof":case"<>":i="exclude";break;default:return{filterType:"include",filterValues:void 0}}return{filterType:i,filterValues:a?r:[r]}}(i,n);e.columnOption(d(n),o)},s=function(t,e,n){var o,r=n&&n[1],a=e.filterOperations||e.defaultFilterOperations;(!a||a.indexOf(r)>=0||r===e.defaultFilterOperation)&&c.indexOf(r)>=0?(r!==e.defaultFilterOperation||(0,i.isDefined)(e.selectedFilterOperation)||(r=e.selectedFilterOperation),o={filterValue:n[2],selectedFilterOperation:r}):o={filterValue:void 0,selectedFilterOperation:void 0},t.columnOption(d(e),o)};return{syncFilterValue:function(){var t=this,e=t.getController("columns"),n=e.getFilteringColumns();this._skipSyncColumnOptions=!0,n.forEach((function(n){var a=(0,r.getMatchedConditions)(t.option("filterValue"),d(n));if(1===a.length){var l=a[0];o(e,n,l),s(e,n,l)}else(0,i.isDefined)(n.filterValues)&&o(e,n),(0,i.isDefined)(n.filterValue)&&s(e,n)})),this._skipSyncColumnOptions=!1},_initSync:function(){var t=this.getController("columns").getColumns(),e=this.getController("data"),n=e.pageIndex();if(function(t){t.forEach((function(t){var e=d(t);if(!(0,i.isDefined)(e)&&t.allowFiltering)throw new a.default.Error("E1049",t.caption)}))}(t),!this.option("filterValue")){var o=this.getController("columns").getFilteringColumns(),r=this.getFilterValueFromColumns(o);this.option("filterValue",r)}this.syncFilterValue(),e.pageIndex(n)},init:function(){var t=this,e=this.getController("data");e.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():e.dataSourceChanged.add((function(){return t._initSync()})))},_getSyncFilterRow:function(t,n){var o=e(n);return(0,i.isDefined)(o)?(0,r.syncFilters)(t,o):(0,r.removeFieldConditionsFromFilter)(t,d(n))},_getSyncHeaderFilter:function(t,e){var i=n(e);return i?(0,r.syncFilters)(t,i):(0,r.removeFieldConditionsFromFilter)(t,d(e))},getFilterValueFromColumns:function(t){if(!this.getController("data").isFilterSyncActive())return null;var i=["and"];return t&&t.forEach((function(t){var o=n(t),a=e(t);o&&(0,r.addItem)(o,i),a&&(0,r.addItem)(a,i)})),(0,r.getNormalizedFilter)(i)},syncFilterRow:function(t,e){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),t))},syncHeaderFilter:function(t){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),t))},getCustomFilterOperations:function(){var t=this.option("filterBuilder.customOperations")||[];return[(0,u.anyOf)(this.component),(0,u.noneOf)(this.component)].concat(t)},publicMethods:function(){return["getCustomFilterOperations"]}}}())},extenders:{controllers:{data:{isFilterSyncActive:function(){var t=this.option("filterSyncEnabled");return"auto"===t?this.option("filterPanel.visible"):t},skipCalculateColumnFilters:function(){return(0,i.isDefined)(this.option("filterValue"))&&this.isFilterSyncActive()},_calculateAdditionalFilter:function(){if(!1===this.option("filterPanel.filterEnabled"))return this.callBase();var t=[this.callBase()],e=this.getController("columns").getFilteringColumns(),n=this.option("filterValue");if(this.isFilterSyncActive()){var i=this.getController("headerFilter").getCurrentColumn();i&&n&&(n=(0,r.removeFieldConditionsFromFilter)(n,d(i)))}var o=this.getController("filterSync").getCustomFilterOperations(),a=(0,r.getFilterExpression)(n,e,o,"filterBuilder");return a&&t.push(a),s.default.combineFilters(t)},_parseColumnPropertyName:function(t){return t.match(/.*\.(.*)/)[1]},clearFilter:function(t){this.component.beginUpdate(),arguments.length>0?("filterValue"===t&&this.option("filterValue",null),this.callBase(t)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged:function(t){switch(t.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),t.handled=!0;break;case"filterSyncEnabled":t.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var e=this.getController("columns").getColumnByPath(t.fullName),n=this.getController("filterSync");if(e&&!n._skipSyncColumnOptions){var i=this._parseColumnPropertyName(t.fullName);n._skipSyncColumnOptions=!0,"filterType"===i?"exclude"!==t.value&&"exclude"!==t.previousValue||n.syncHeaderFilter(e):"filterValues"===i?n.syncHeaderFilter(e):["filterValue","selectedFilterOperation"].indexOf(i)>-1&&n.syncFilterRow(e,e.filterValue),n._skipSyncColumnOptions=!1}}this.callBase(t);break;default:this.callBase(t)}}}},views:{columnHeadersView:{_isHeaderFilterEmpty:function(t){return this.getController("data").isFilterSyncActive()?!(0,r.filterHasField)(this.option("filterValue"),d(t)):this.callBase(t)},_needUpdateFilterIndicators:function(){return!this.getController("data").isFilterSyncActive()},optionChanged:function(t){"filterValue"===t.name?this._updateHeaderFilterIndicators():this.callBase(t)}}}}};e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.getConfig=function(t,e){return{name:"between",caption:t,icon:"range",valueSeparator:"\u2013",dataTypes:["number","date","datetime"],editorTemplate:a.bind(e),notForLookup:!0}};var i,o=(i=n(1))&&i.__esModule?i:{default:i},r=n(3);function a(t,e){var n=(0,o.default)("<div>").addClass("dx-filterbuilder-range-start"),i=(0,o.default)("<div>").addClass("dx-filterbuilder-range-end"),a=t.value||[],s=function(t){return t&&t.length>0?t[0]:null},l=function(t){return t&&2===t.length?t[1]:null};e.append(n),e.append((0,o.default)("<span>").addClass("dx-filterbuilder-range-separator").text("\u2013")),e.append(i),e.addClass("dx-filterbuilder-range"),this._editorFactory.createEditor.call(this,n,(0,r.extend)({},t.field,t,{value:s(a),parentType:"filterBuilder",setValue:function(e){a=[e,l(a)],t.setValue(a)}})),this._editorFactory.createEditor.call(this,i,(0,r.extend)({},t.field,t,{value:l(a),parentType:"filterBuilder",setValue:function(e){a=[s(a),e],t.setValue(a)}}))}},function(t,e,n){"use strict";e.default=void 0;var i={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},o={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"},r={getIconByFilterOperation:function(t){return i[t]},getNameByFilterOperation:function(t){return o[t]}};e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.anyOf=function(t){return(0,r.extend)(h(t),{name:"anyof",icon:"selectall",caption:o.default.format("dxFilterBuilder-filterOperationAnyOf")})},e.noneOf=function(t){var e=h(t);return(0,r.extend)({},e,{calculateFilterExpression:function(t,n,i){var o=e.calculateFilterExpression(t,n,i);return o&&0!==o.length?"!"===o[0]?o:["!",o]:null},name:"noneof",icon:"unselectall",caption:o.default.format("dxFilterBuilder-filterOperationNoneOf")})};var i=u(n(1)),o=u(n(18)),r=n(3),a=n(107),s=n(8),l=n(149);function u(t){return t&&t.__esModule?t:{default:t}}function h(t){var e=function(t,e){return e?e+"/"+t:t},n=t&&t.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(t,e,n){var i=[],o=t.length-1;return t&&t.forEach((function(t,r){if((0,l.isCondition)(t)||(0,l.isGroup)(t)){var a=(0,l.getFilterExpression)(t,n,[],"headerFilter");i.push(a)}else i.push((0,l.getFilterExpression)([e.dataField,"=",t],n,[],"headerFilter"));r!==o&&i.push("or")})),1===i.length&&(i=i[0]),i},editorTemplate:function(e,o){var a=(0,i.default)("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(o),s=(0,r.extend)(!0,{},t.columnOption(e.field.dataField));(0,l.renderValueText)(a,e.text&&e.text.split("|"));return s.filterType="include",s.filterValues=e.value?e.value.slice():[],n.showHeaderFilterMenuBase({columnElement:a,column:s,apply:function(){var t;t=this.filterValues,e.setValue(t),n.hideHeaderFilterMenu(),e.closeEditor()},onHidden:function(){e.closeEditor()},isFilterBuilder:!0}),o},customizeText:function(i){var o=i.value,l=t.columnOption(i.field.dataField),u=l&&l.headerFilter,h=l&&l.lookup;if(u&&u.dataSource||h&&h.dataSource){l=(0,r.extend)({},l,{filterType:"include",filterValues:[o]});var c=n.getDataSource(l);c.paginate=!1;var d=new a.DataSource(c),f=new s.Deferred,p=d.store().key();return p&&d.filter([p,"=",i.value]),d.load().done((function(t){f.resolve(function t(n,i){var o=[];return n.forEach((function(n){if(n.items){var r=t(n.items,e(n.text,i));o=o.concat(r)}n.selected&&o.push(e(n.text,i))})),o}(t)[0])})),f}return n.getHeaderItemText(o,l,0,t.option("headerFilter"))}}}},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(499));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("filterBuilder",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=c(n(35)),r=n(3),a=c(n(500)),s=c(n(18)),l=c(n(240)),u=c(n(76)),h=n(80);function c(t){return t&&t.__esModule?t:{default:t}}var d={defaultOptions:function(){return{filterBuilder:{groupOperationDescriptions:{and:s.default.format("dxFilterBuilder-and"),or:s.default.format("dxFilterBuilder-or"),notAnd:s.default.format("dxFilterBuilder-notAnd"),notOr:s.default.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:s.default.format("dxFilterBuilder-filterOperationBetween"),equal:s.default.format("dxFilterBuilder-filterOperationEquals"),notEqual:s.default.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:s.default.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:s.default.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:s.default.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:s.default.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:s.default.format("dxFilterBuilder-filterOperationStartsWith"),contains:s.default.format("dxFilterBuilder-filterOperationContains"),notContains:s.default.format("dxFilterBuilder-filterOperationNotContains"),endsWith:s.default.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:s.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:s.default.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}},views:{filterBuilderView:o.default.View.inherit({_renderCore:function(){this._updatePopupOptions()},_updatePopupOptions:function(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup:function(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup:function(){var t=this;t._disposePopup(),t._filterBuilderPopup=t._createComponent(t.element(),u.default,(0,r.extend)({title:s.default.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:function(e){return t._getPopupContentTemplate(e)},onOptionChanged:function(e){"visible"===e.name&&t.option("filterBuilderPopup.visible",e.value)},toolbarItems:t._getPopupToolbarItems()},t.option("filterBuilderPopup"),{onHidden:function(e){(0,h.restoreFocus)(t),t._disposePopup()}}))},_getPopupContentTemplate:function(t){var e=(0,i.default)(t),n=(0,i.default)("<div>").appendTo((0,i.default)(t));this._filterBuilder=this._createComponent(n,a.default,(0,r.extend)({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(e,l.default,{direction:"both"})},_getPopupToolbarItems:function(){var t=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:s.default.format("OK"),onClick:function(e){var n=t._filterBuilder.option("value");t.option("filterValue",n),t._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:s.default.format("Cancel"),onClick:function(e){t._filterBuilderPopup.hide()}}}]},optionChanged:function(t){switch(t.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}})}};e.default=d,t.exports=e.default},function(t,e,n){"use strict";var i;e.default=void 0;var o=((i=n(501))&&i.__esModule?i:{default:i}).default;e.default=o,t.exports=e.default,t.exports.default=t.exports},function(t,e,n){"use strict";e.default=void 0;var i=_(n(1)),o=_(n(16)),r=_(n(20)),a=_(n(7)),s=_(n(47)),l=_(n(19)),u=n(3),h=_(n(18)),c=n(8),d=n(2),f=_(n(146)),p=_(n(76)),g=n(257),m=_(n(247)),v=n(13),y=n(149);function _(t){return t&&t.__esModule?t:{default:t}}var b=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],x={and:"and",or:"or",notAnd:"!and",notOr:"!or"},w=r.default.inherit(m.default),C=s.default.inherit({_getDefaultOptions:function(){return(0,u.extend)(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],defaultGroupOperation:"and",groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:h.default.format("dxFilterBuilder-and"),or:h.default.format("dxFilterBuilder-or"),notAnd:h.default.format("dxFilterBuilder-notAnd"),notOr:h.default.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:h.default.format("dxFilterBuilder-filterOperationBetween"),equal:h.default.format("dxFilterBuilder-filterOperationEquals"),notEqual:h.default.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:h.default.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:h.default.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:h.default.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:h.default.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:h.default.format("dxFilterBuilder-filterOperationStartsWith"),contains:h.default.format("dxFilterBuilder-filterOperationContains"),notContains:h.default.format("dxFilterBuilder-filterOperationNotContains"),endsWith:h.default.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:h.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:h.default.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(t){switch(t.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"defaultGroupOperation":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(t.value!==t.previousValue){var e=this._disableInvalidateForValue;e||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:t.value,previousValue:t.previousValue}),this._disableInvalidateForValue=e}break;default:this.callBase(t)}},getFilterExpression:function(){var t=this._getNormalizedFields(),e=(0,u.extend)(!0,[],this._model);return(0,y.getFilterExpression)((0,y.getNormalizedFilter)(e),t,this._customOperations,"filterBuilder")},_getNormalizedFields:function(){return(0,y.getNormalizedFields)(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var t=(0,u.extend)(!0,[],this._model),e=(0,y.getNormalizedFilter)(t),n=(0,y.getNormalizedFilter)(this._getModel(this.option("value")));JSON.stringify(n)!==JSON.stringify(e)&&this.option("value",e),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new w},_initCustomOperations:function(){this._customOperations=(0,y.getMergedOperations)(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)},_getModel:function(t){return(0,y.convertToInnerStructure)(t,this._customOperations)},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var t=this;t._actions={},b.forEach((function(e){var n=(0,u.extend)({},e.config);t._actions[e.name]=t._createActionByOption(e.name,n)}))},executeAction:function(t,e){var n=this._actions[t];return n&&n(e)},_initMarkup:function(){this.$element().addClass("dx-filterbuilder"),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(t,e){return(0,i.default)("<div>").addClass("dx-filterbuilder-group").append(this._createConditionItem(t,e))},_createGroupElementByCriteria:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._createGroupElement(t,e,n),o=i.find(".dx-filterbuilder-group-content"),r=(0,y.getGroupCriteria)(t),a=0;a<r.length;a++){var s=r[a];(0,y.isGroup)(s)?this._createGroupElementByCriteria(s,r,n+1).appendTo(o):(0,y.isCondition)(s)&&this._createConditionElement(s,r).appendTo(o)}return i},_createGroupElement:function(t,e,n){var o=this,r=(0,i.default)("<div>").addClass("dx-filterbuilder-group-item"),a=(0,i.default)("<div>").addClass("dx-filterbuilder-group-content"),s=(0,i.default)("<div>").addClass("dx-filterbuilder-group").append(r).append(a);return null!=e&&this._createRemoveButton((function(){(0,y.removeItem)(e,t),s.remove(),o._updateFilter()})).appendTo(r),this._createGroupOperationButton(t).appendTo(r),this._createAddButton((function(){var e=(0,y.createEmptyGroup)(o.option("defaultGroupOperation"));(0,y.addItem)(e,t),o._createGroupElement(e,t,n+1).appendTo(a),o._updateFilter()}),(function(){var e=o.option("fields")[0],n=(0,y.createCondition)(e,o._customOperations);(0,y.addItem)(n,t),o._createConditionElement(n,t).appendTo(a),o._updateFilter()}),n).appendTo(r),s},_createButton:function(t){return(0,i.default)("<div>").text(t)},_createGroupOperationButton:function(t){var e=this,n=this._getGroupOperations(t),i=(0,y.getGroupMenuItem)(t,n),o=i.text,r=n&&n.length<2?this._createButton(o).addClass("dx-state-disabled"):this._createButtonWithMenu({caption:o,menu:{items:n,displayExpr:"text",keyExpr:"value",onItemClick:function(n){i!==n.itemData&&((0,y.setGroupValue)(t,n.itemData.value),r.html(n.itemData.text),i=n.itemData,e._updateFilter())},onContentReady:function(t){t.component.selectItem(i)},cssClass:"dx-filterbuilder-group-operations"}});return r.addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-group-operation").attr("tabindex",0)},_createButtonWithMenu:function(t){var e,n=this,o=function(){n.$element().find(".dx-state-active").removeClass("dx-state-active"),n.$element().find(".dx-overlay .dx-treeview").remove(),n.$element().find(".dx-overlay").remove()},r=this.option("rtlEnabled"),s=r?"right":"left",l=this._createButton(t.caption);return(0,u.extend)(t.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(e=t.menu.onItemClick,function(t){e(t),"dxclick"===t.event.type&&o()}),onHiding:function(t){l.removeClass("dx-state-active")},position:{my:s+" top",at:s+" bottom",offset:"0 1",of:l,collision:"flip"},animation:null,onHidden:function(){o()},cssClass:"dx-filterbuilder-overlay "+t.menu.cssClass,rtlEnabled:r}),t.popup={onShown:function(e){var n=(0,i.default)(e.component.content()).find(".dx-treeview"),o=n.dxTreeView("instance");a.default.on(n,"keyup keydown",(function(n){var i=(0,v.normalizeKeyName)(n);("keydown"===n.type&&"tab"===i||"keyup"===n.type&&("escape"===i||"enter"===i))&&(e.component.hide(),a.default.trigger(t.menu.position.of,"focus"))})),o.focus(),o.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(l,(function(){o(),n._createPopupWithTreeView(t,n.$element()),l.addClass("dx-state-active")})),l},_hasValueButton:function(t){var e=(0,y.getCustomOperation)(this._customOperations,t[1]);return e?!1!==e.hasValue:null!==t[2]},_createOperationButtonWithMenu:function(t,e){var n=this,o=this,r=(0,y.getAvailableOperations)(e,this.option("filterOperationDescriptions"),this._customOperations),a=(0,y.getOperationFromAvailable)((0,y.getOperationValue)(t),r),s=this._createButtonWithMenu({caption:a.text,menu:{items:r,displayExpr:"text",onItemRendered:function(t){t.itemData.isCustom&&(0,i.default)(t.itemElement).addClass("dx-filterbuilder-menu-custom-operation")},onContentReady:function(t){t.component.selectItem(a)},onItemClick:function(i){if(a!==i.itemData){a=i.itemData,(0,y.updateConditionByOperation)(t,a.value,o._customOperations);var r=s.siblings().filter(".dx-filterbuilder-item-value");o._hasValueButton(t)?(0!==r.length&&r.remove(),o._createValueButton(t,e).appendTo(s.parent())):r.remove(),s.html(a.text),n._updateFilter()}},cssClass:"dx-filterbuilder-operations"}}).addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-operation").attr("tabindex",0);return s},_createOperationAndValueButtons:function(t,e,n){this._createOperationButtonWithMenu(t,e).appendTo(n),this._hasValueButton(t)&&this._createValueButton(t,e).appendTo(n)},_createFieldButtonWithMenu:function(t,e,n){var i=this,o=this,r=this.option("allowHierarchicalFields"),a=(0,y.getItems)(t,r),s=(0,y.getField)(n.name||n.dataField,a),l=function(t,e){return r?(0,y.getCaptionWithParents)(t,e):t.caption},u=this._createButtonWithMenu({caption:l(s,a),menu:{items:a,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:function(t){if(s!==t.itemData){s=t.itemData,e[0]=s.name||s.dataField,e[2]="object"===s.dataType?null:"",(0,y.updateConditionByOperation)(e,(0,y.getDefaultOperation)(s),o._customOperations),u.siblings().filter(".dx-filterbuilder-text").remove(),o._createOperationAndValueButtons(e,s,u.parent());var n=l(s,t.component.option("items"));u.html(n),i._updateFilter()}},onContentReady:function(t){t.component.selectItem(s)},cssClass:"dx-filterbuilder-fields"}}).addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-field").attr("tabindex",0);return u},_createConditionItem:function(t,e){var n=this,o=(0,i.default)("<div>").addClass("dx-filterbuilder-group-item"),r=this._getNormalizedFields(),a=(0,y.getField)(t[0],r);return this._createRemoveButton((function(){(0,y.removeItem)(e,t),1===o.parent().children().length?o.parent().remove():o.remove(),n._updateFilter()})).appendTo(o),this._createFieldButtonWithMenu(r,t,a).appendTo(o),this._createOperationAndValueButtons(t,a,o),o},_getGroupOperations:function(t){var e=this.option("groupOperations"),n=this.option("groupOperationDescriptions");return e&&e.length||(e=[(0,y.getGroupValue)(t).replace("!","not")]),e.map((function(t){return{text:n[t],value:x[t]}}))},_createRemoveButton:function(t){var e=(0,i.default)("<div>").addClass("dx-filterbuilder-action-icon").addClass("dx-icon-remove").addClass("dx-filterbuilder-action").attr("tabindex",0);return this._subscribeOnClickAndEnterKey(e,t),e},_createAddButton:function(t,e,n){var i,o=this.option("maxGroupLevel");return(0,d.isDefined)(o)&&n>=o?(i=this._createButton(),this._subscribeOnClickAndEnterKey(i,e)):i=this._createButtonWithMenu({menu:{items:[{caption:h.default.format("dxFilterBuilder-addCondition"),click:e},{caption:h.default.format("dxFilterBuilder-addGroup"),click:t}],displayExpr:"caption",onItemClick:function(t){t.itemData.click()},cssClass:"dx-filterbuilder-add-condition"}}),i.addClass("dx-filterbuilder-action-icon").addClass("dx-icon-plus").addClass("dx-filterbuilder-action").attr("tabindex",0)},_createValueText:function(t,e,n){var o=this,r=(0,i.default)("<div>").html("&nbsp;").addClass("dx-filterbuilder-item-value-text").attr("tabindex",0).appendTo(n),a=t[2],s=(0,y.getCustomOperation)(o._customOperations,t[1]);return!s&&e.lookup?(0,y.getCurrentLookupValueText)(e,a,(function(t){(0,y.renderValueText)(r,t)})):(0,c.when)((0,y.getCurrentValueText)(e,a,s)).done((function(t){(0,y.renderValueText)(r,t,s)})),o._subscribeOnClickAndEnterKey(r,(function(i){"keyup"===i.type&&i.stopPropagation(),o._createValueEditorWithEvents(t,e,n)})),r},_updateConditionValue:function(t,e,n){t[2]!==e&&(t[2]=e),n(),this._updateFilter()},_addDocumentKeyUp:function(t,e){var n=!1,i=!1,r=o.default.getDocument(),s=function(t){n||i?i=!1:e(t)};a.default.on(r,"keyup",s);var l=t.find("input");a.default.on(l,"compositionstart",(function(){n=!0})),a.default.on(l,"compositionend",(function(){n=!1,i=!0})),a.default.on(l,"keydown",(function(t){229!==t.which&&(i=!1)})),this._documentKeyUpHandler=s},_addDocumentClick:function(t,e){var n=this,i=o.default.getDocument(),r=function(i){n._isFocusOnEditorParts(t,i.target)||(a.default.trigger(t.find("input"),"change"),e())};a.default.on(i,"dxpointerdown",r),this._documentClickHandler=r},_isFocusOnEditorParts:function(t,e){var n=e||o.default.getActiveElement();return(0,i.default)(n).closest(t.children()).length||(0,i.default)(n).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var t=o.default.getDocument();(0,d.isDefined)(this._documentKeyUpHandler)&&a.default.off(t,"keyup",this._documentKeyUpHandler),(0,d.isDefined)(this._documentClickHandler)&&a.default.off(t,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(t,e,n){var i=this,o=t[2],r=function(){return n.empty(),i._removeEvents(),i._createValueText(t,e,n)},s=function(){i._updateConditionValue(t,o,(function(){r()}))},l={value:""===o?null:o,filterOperation:(0,y.getOperationValue)(t),setValue:function(t){o=null===t?"":t},closeEditor:s,text:n.text()};n.empty();var u=this._createValueEditor(n,e,l);a.default.trigger(u.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(u,s),this._addDocumentKeyUp(u,(function(e){var s=(0,v.normalizeKeyName)(e);if("tab"===s){if(i._isFocusOnEditorParts(u))return;i._updateConditionValue(t,o,(function(){r(),e.shiftKey&&a.default.trigger(n.prev(),"focus")}))}"escape"===s&&a.default.trigger(r(),"focus"),"enter"===s&&i._updateConditionValue(t,o,(function(){a.default.trigger(r(),"focus")}))})),this._fireContentReadyAction()},_createValueButton:function(t,e){var n=(0,i.default)("<div>").addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-value");return this._createValueText(t,e,n),n},_createValueEditor:function(t,e,n){var o=(0,i.default)("<div>").attr("tabindex",0).appendTo(t),r=(0,y.getCustomOperation)(this._customOperations,n.filterOperation),a=r&&r.editorTemplate?r.editorTemplate:e.editorTemplate;a?this._getTemplate(a).render({model:(0,u.extend)({field:e},n),container:o}):this._editorFactory.createEditor.call(this,o,(0,u.extend)({},e,n,{parentType:"filterBuilder"}));return o},_createPopupWithTreeView:function(t,e){var n=this,o=(0,i.default)("<div>").addClass(t.menu.cssClass).appendTo(e);this._createComponent(o,p.default,{onHiding:t.menu.onHiding,onHidden:t.menu.onHidden,rtlEnabled:t.menu.rtlEnabled,position:t.menu.position,animation:t.menu.animation,contentTemplate:function(e){var o=(0,i.default)("<div>").appendTo(e);n._createComponent(o,f.default,t.menu),this.repaint()},maxHeight:function(){return(0,g.getElementMaxHeightByWindow)(t.menu.position.of)},visible:!0,focusStateEnabled:!1,closeOnTargetScroll:this.option("closePopupOnTargetScroll"),closeOnOutsideClick:!0,onShown:t.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1})},_subscribeOnClickAndEnterKey:function(t,e){a.default.on(t,"dxclick",e),a.default.on(t,"keyup",(function(t){"enter"===(0,v.normalizeKeyName)(t)&&e(t)}))}});(0,l.default)("dxFilterBuilder",C);var S=C;e.default=S,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(503));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("filterPanel",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=n(2),r=p(n(35)),a=p(n(31)),s=p(n(7)),l=p(n(18)),u=p(n(127)),h=n(149),c=n(8),d=n(60),f=n(174);function p(t){return t&&t.__esModule?t:{default:t}}var g={defaultOptions:function(){return{filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:l.default.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:l.default.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:l.default.format("dxDataGrid-filterPanelFilterEnabledHint")}}}},views:{filterPanelView:r.default.View.inherit({isVisible:function(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init:function(){var t=this;this.getController("data").dataSourceChanged.add((function(){return t.render()}))},_renderCore:function(){var t=this.element();t.empty().addClass(this.addWidgetPrefix("filter-panel"));var e=(0,i.default)("<div>").addClass(this.addWidgetPrefix("filter-panel-left")).appendTo(t);this.option("filterValue")||this._filterValueBuffer?(e.append(this._getCheckElement()).append(this._getFilterElement()).append(this._getTextElement()),t.append(this._getRemoveButtonElement())):e.append(this._getFilterElement()).append(this._getTextElement())},_getCheckElement:function(){var t=this,e=(0,i.default)("<div>").addClass(this.addWidgetPrefix("filter-panel-checkbox"));return t._createComponent(e,u.default,{value:t.option("filterPanel.filterEnabled"),onValueChanged:function(e){t.option("filterPanel.filterEnabled",e.value)}}),e.attr("title",this.option("filterPanel.texts.filterEnabledHint")),e},_getFilterElement:function(){var t=this,e=(0,i.default)("<div>").addClass("dx-icon-filter");return s.default.on(e,"click",(function(){return t._showFilterBuilder()})),(0,f.registerKeyboardAction)("filterPanel",t,e,void 0,(function(){return t._showFilterBuilder()})),t._addTabIndexToElement(e),e},_getTextElement:function(){var t,e=this,n=(0,i.default)("<div>").addClass(e.addWidgetPrefix("filter-panel-text")),o=e.option("filterValue");return o?(0,c.when)(e.getFilterText(o,e.getController("filterSync").getCustomFilterOperations())).done((function(t){var i=e.option("filterPanel.customizeText");if(i){var r=i({component:e.component,filterValue:o,text:t});"string"===typeof r&&(t=r)}n.text(t)})):(t=e.option("filterPanel.texts.createFilter"),n.text(t)),s.default.on(n,"click",(function(){return e._showFilterBuilder()})),(0,f.registerKeyboardAction)("filterPanel",e,n,void 0,(function(){return e._showFilterBuilder()})),e._addTabIndexToElement(n),n},_showFilterBuilder:function(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement:function(){var t=this,e=function(){return t.option("filterValue",null)},n=(0,i.default)("<div>").addClass(t.addWidgetPrefix("filter-panel-clear-filter")).text(t.option("filterPanel.texts.clearFilter"));return s.default.on(n,"click",e),(0,f.registerKeyboardAction)("filterPanel",this,n,void 0,e),t._addTabIndexToElement(n),n},_addTabIndexToElement:function(t){if(!this.option("useLegacyKeyboardNavigation")){var e=this.option("tabindex")||0;t.attr("tabindex",e)}},optionChanged:function(t){switch(t.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),t.handled=!0;break;case"filterPanel":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}},_getConditionText:function(t,e,n){var i="[".concat(t,"] ").concat(e);return(0,o.isDefined)(n)&&(i+=n),i},_getValueMaskedText:function(t){return Array.isArray(t)?"('".concat(t.join("', '"),"')"):" '".concat(t,"'")},_getValueText:function(t,e,n){var i=this,r=new c.Deferred,s=e&&e.customizeText;if((0,o.isDefined)(n)||s)if(!s&&t.lookup)(0,h.getCurrentLookupValueText)(t,n,(function(t){r.resolve(i._getValueMaskedText(t))}));else{var l=Array.isArray(n)?n:a.default.getDisplayValue(t,n);(0,c.when)((0,h.getCurrentValueText)(t,l,e,"filterPanel")).done((function(t){r.resolve(i._getValueMaskedText(t))}))}else r.resolve("");return r.promise()},getConditionText:function(t,e){var n,i=this,o=t[1],r=new c.Deferred,a=(0,h.getCustomOperation)(e.customOperations,o),s=(0,h.getField)(t[0],e.columns),l=s.caption||"",u=t[2];return n=a?a.caption||(0,d.captionize)(a.name):null===u?(0,h.getCaptionByOperation)("="===o?"isblank":"isnotblank",e.filterOperationDescriptions):(0,h.getCaptionByOperation)(o,e.filterOperationDescriptions),this._getValueText(s,a,u).done((function(t){r.resolve(i._getConditionText(l,n,t))})),r},getGroupText:function(t,e,n){var i=this,o=new c.Deferred,r=[],a=(0,h.getGroupValue)(t);return t.forEach((function(t){(0,h.isCondition)(t)?r.push(i.getConditionText(t,e)):(0,h.isGroup)(t)&&r.push(i.getGroupText(t,e,!0))})),c.when.apply(this,r).done((function(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];if("!"===a[0]){var l=e.groupOperationDescriptions["not"+a.substring(1,2).toUpperCase()+a.substring(2)].split(" ");t="".concat(l[0]," ").concat(r[0])}else t=r.join(" ".concat(e.groupOperationDescriptions[a]," "));n&&(t="(".concat(t,")")),o.resolve(t)})),o},getFilterText:function(t,e){var n={customOperations:e,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return(0,h.isCondition)(t)?this.getConditionText(t,n):this.getGroupText(t,n)}})},extenders:{controllers:{data:{optionChanged:function(t){switch(t.name){case"filterPanel":this._applyFilter(),t.handled=!0;break;default:this.callBase(t)}}}}}};e.default=g,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(505));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("search",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=c(n(1)),o=c(n(16)),r=n(2),a=n(29),s=n(5),l=c(n(31)),u=c(n(18)),h=c(n(70));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return(0,r.isDefined)(t.allowSearch)?t.allowSearch:t.allowFiltering}function f(t,e){var n=t.lookup;return t.parseValue?n?t.parseValue.call(n,e):t.parseValue(e):e}var p={defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:u.default.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}},extenders:{controllers:{data:{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var t=this.callBase(),e=function(t,e){var n,i,o,r=t._columnsController.getColumns(),s=t.option("searchPanel.searchVisibleColumnsOnly"),u=[];if(!e)return null;function c(t){for(var e=(0,a.compileGetter)(o.valueExpr),n=0;n<t.length;n++){var r=e(t[n]);u.push(i.createFilterExpression(r,null,"search"))}}for(n=0;n<r.length;n++)if(i=r[n],(!s||i.visible)&&d(i)&&i.calculateFilterExpression){o=i.lookup;var p=f(i,e);o&&o.items?(0,h.default)(o.items).filter(i.createFilterExpression.call({dataField:o.displayExpr,dataType:o.dataType,calculateFilterExpression:i.calculateFilterExpression},p,null,"search")).enumerate().done(c):void 0!==p&&u.push(i.createFilterExpression(p,null,"search"))}return l.default.combineFilters(u,"or")}(this,this.option("searchPanel.text"));return l.default.combineFilters([t,e])},searchByText:function(t){this.option("searchPanel.text",t)},optionChanged:function(t){switch(t.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),t.handled=!0;break;default:this.callBase(t)}}}},views:{headerPanel:function(){var t=function(t){return t.option("searchPanel")};return{_getToolbarItems:function(){var t=this.callBase();return this._prepareSearchItem(t)},_prepareSearchItem:function(e){var n=this,o=n.getController("data"),r=t(n);if(r&&r.visible){var a={template:function(t,e,a){var s=(0,i.default)("<div>").addClass(n.addWidgetPrefix("search-panel")).appendTo(a);n.getController("editorFactory").createEditor(s,{width:r.width,placeholder:r.placeholder,parentType:"searchPanel",value:n.option("searchPanel.text"),updateValueTimeout:700,setValue:function(t){o.searchByText(t)},editorOptions:{inputAttr:{"aria-label":u.default.format("dxDataGrid-ariaSearchInGrid")}}}),n.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(a)}return e},getSearchTextEditor:function(){var t=this,e=t.element(),n=e.find("."+t.addWidgetPrefix("search-panel")).filter((function(){return(0,i.default)(this).closest("."+t.addWidgetPrefix("header-panel")).is(e)}));return n.length?n.dxTextBox("instance"):null},isVisible:function(){var e=t(this);return this.callBase()||e&&e.visible},optionChanged:function(t){if("searchPanel"===t.name){if("searchPanel.text"===t.fullName){var e=this.getSearchTextEditor();e&&e.option("value",t.value)}else this._invalidate();t.handled=!0}else this.callBase(t)}}}(),rowsView:{init:function(){this.callBase.apply(this,arguments),this._searchParams=[]},_getFormattedSearchText:function(t,e){var n=f(t,e),i=l.default.getFormatOptionsByColumn(t,"search");return l.default.formatValue(n,i)},_getStringNormalizer:function(){var t=this.option("searchPanel.highlightCaseSensitive");return function(e){return t?e:e.toLowerCase()}},_findHighlightingTextNodes:function(t,e,n){var o,r=e.parent(),a=this._getStringNormalizer(),s=a(n);if(r.length){if(t)if(t.groupIndex>=0&&!t.showWhenGrouped)o=e;else{var l=this._columnsController.getVisibleIndex(t.index);o=r.children("td").eq(l).find("*")}}else r=(0,i.default)("<div>").append(e);return o=(o=o&&o.length?o:r.find("*")).filter((function(t,e){for(var n=(0,i.default)(e).contents(),o=0;o<n.length;o++){var r=n.get(o);return 3===r.nodeType&&a(r.textContent||r.nodeValue).indexOf(s)>-1}}))},_highlightSearchTextCore:function(t,e){var n=(0,i.default)("<span>").addClass(this.addWidgetPrefix("search-text")),r=t.text(),a=t[0],s=this._getStringNormalizer(),l=s(r).indexOf(s(e));if(l>=0)return a.textContent?a.textContent=r.substr(0,l):a.nodeValue=r.substr(0,l),t.after(n.text(r.substr(l,e.length))),t=(0,i.default)(o.default.createTextNode(r.substr(l+e.length))).insertAfter(n),this._highlightSearchTextCore(t,e)},_highlightSearchText:function(t,e,n){var o=this,r=this._getStringNormalizer(),a=o.option("searchPanel.text");if(e&&n&&(a=a&&o._getFormattedSearchText(n,a)),a&&o.option("searchPanel.highlightSearchText")){var l=o._findHighlightingTextNodes(n,t,a);(0,s.each)(l,(function(t,n){(0,s.each)((0,i.default)(n).contents(),(function(t,n){e?r((0,i.default)(n).text())===r(a)&&(0,i.default)(this).replaceWith((0,i.default)("<span>").addClass(o.addWidgetPrefix("search-text")).text((0,i.default)(n).text())):o._highlightSearchTextCore((0,i.default)(n),a)}))}))}},_renderCore:function(){this.callBase.apply(this,arguments),this.option("rowTemplate")&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){this._highlightSearchText(this._getTableElement())}.bind(this))):this._highlightSearchText(this._getTableElement()))},_updateCell:function(t,e){var n=e.column,i="string"!==(n.lookup&&n.lookup.dataType||n.dataType);d(n)&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){this._searchParams.forEach(function(t){this._highlightSearchText.apply(this,t)}.bind(this)),this._searchParams=[]}.bind(this))),this._searchParams.push([t,i,n])):this._highlightSearchText(t,i,n)),this.callBase(t,e)},dispose:function(){clearTimeout(this._highlightTimer),this.callBase()}}}}};e.default=p,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(507));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("pager",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=l(n(35)),o=l(n(508)),r=n(21),a=n(2),s=n(14);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){return 1+(parseInt(t.pageIndex())||0)},h={defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto"}}},views:{pagerView:i.default.View.inherit({init:function(){var t=this,e=t.getController("data");t._isVisible=!1,e.changed.add((function(n){if(n&&n.repaintChangesOnly){var i=t._getPager();i?i.option({pageIndex:u(e),pageSize:e.pageSize(),pageCount:e.pageCount(),totalCount:e.totalCount(),hasKnownLastPage:e.hasKnownLastPage()}):t.render()}else(!n||"update"!==n.changeType&&"updateSelection"!==n.changeType)&&t.render()}))},_getPager:function(){var t=this.element();return t&&t.data("dxPager")},_renderCore:function(){var t=this.element().addClass(this.addWidgetPrefix("pager")),e=this.option("pager")||{},n=this.getController("data"),i=this.getController("keyboardNavigation"),r={maxPagesCount:10,pageIndex:u(n),pageCount:n.pageCount(),pageSize:n.pageSize(),showPageSizes:e.showPageSizeSelector,showInfo:e.showInfo,displayMode:e.displayMode,pagesNavigatorVisible:e.visible,showNavigationButtons:e.showNavigationButtons,pageSizes:this.getPageSizes(),totalCount:n.totalCount(),hasKnownLastPage:n.hasKnownLastPage(),pageIndexChanged:function(t){n.pageIndex()!==t-1&&setTimeout((function(){n.pageIndex(t-1)}))},pageSizeChanged:function(t){setTimeout((function(){n.pageSize(t)}))},onKeyDown:function(t){return i&&i.executeAction("onKeyDown",t)},useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};(0,a.isDefined)(e.infoText)&&(r.infoText=e.infoText),this._createComponent(t,o.default,r)},getPageSizes:function(){var t=this.getController("data"),e=this.option("pager"),n=e&&e.allowedPageSizes,i=t.pageSize();return(0,a.isDefined)(this._pageSizes)&&-1!==(0,r.inArray)(i,this._pageSizes)||(this._pageSizes=[],e&&(Array.isArray(n)?this._pageSizes=n:n&&i>1&&(this._pageSizes=[Math.floor(i/2),i,2*i]))),this._pageSizes},isVisible:function(){var t=this.getController("data"),e=this.option("pager"),n=e&&e.visible,i=this.option("scrolling");return!!this._isVisible||("auto"===n&&(n=(!i||"virtual"!==i.mode&&"infinite"!==i.mode)&&(t.pageCount()>1||t.isLoaded()&&!t.hasKnownLastPage())),this._isVisible=n,n)},getHeight:function(){return this.getElementHeight()},optionChanged:function(t){var e=t.name,n="pager"===e,i="paging"===e,o="dataSource"===e,r="scrolling"===e,a=this.getController("data");if(n||i||r||o){if(t.handled=!0,a.skipProcessingPagingChange(t.fullName))return;(n||i)&&(this._pageSizes=null),(n||i||r)&&(this._isVisible=!1),o||(this._invalidate(),(0,s.hasWindow)()&&n&&this.component&&this.component.resize())}}})}};e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=b(n(1)),o=b(n(7)),r=b(n(20)),a=n(55),s=b(n(19)),l=n(6),u=n(5),h=n(2),c=n(3),d=n(30),f=b(n(33)),p=b(n(18)),g=b(n(47)),m=b(n(185)),v=b(n(147)),y=n(13),_=n(80);function b(t){return t&&t.__esModule?t:{default:t}}var x=r.default.inherit({ctor:function(t,e){this.index=e,this._$page=(0,i.default)("<div>").text(t).addClass("dx-page")},value:function(t){if(!(0,h.isDefined)(t)){var e=this._$page.text();return(0,h.isNumeric)(e)?parseInt(e):e}this._$page.text(t)},element:function(){return this._$page},select:function(t){this._$page.toggleClass("dx-selection",t)},render:function(t,e){e?this._$page.prependTo(t):this._$page.appendTo(t)}}),w=g.default.inherit({_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{visible:!0,pagesNavigatorVisible:"auto",pageIndex:1,maxPagesCount:10,pageCount:10,totalCount:0,pageSize:5,showPageSizes:!0,pageSizes:[5,10],hasKnownLastPage:!0,showNavigationButtons:!1,showInfo:!1,infoText:p.default.getFormatter("dxPager-infoText"),pagesCountText:p.default.getFormatter("dxPager-pagesCountText"),rtlEnabled:!1,lightModeEnabled:!1,pageIndexChanged:l.noop,pageSizeChanged:l.noop})},_toggleVisibility:function(t){var e=this.$element();e&&e.css("display",t?"":"none")},_getPages:function(t,e){var n,i,o=[],r=!this.option("hasKnownLastPage");if(e>0||r)if(e<=this.option("maxPagesCount")){for(i=1;i<=e;i++)o.push(new x(i,i-1));r&&o.push(new x(">",i-1))}else{for(o.push(new x(1,0)),n=t?t.value()-t.index:1,i=1;i<=4;i++)o.push(new x(n+i,i));o.push(new x(e,5)),r&&o.push(new x(">",5))}return o},_getPageByValue:function(t){var e,n;for(n=0;n<this._pages.length;n++)if((e=this._pages[n]).value()===t)return e},_processSelectedPage:function(t,e,n){var i,o=!1;this._pages&&((0,u.each)(this._pages,(function(t,n){e===n.value()&&(o=!0)})),o||(this.selectedPage=null)),(0,h.isDefined)(this.selectedPage)?e===n&&n>t&&5!==this.selectedPage.index&&(this.selectedPage.index=5):e>4&&e<n&&(i=n-4<e?4-(n-e)+1:2,this.selectedPage=new x(e,i))},_selectPageByValue:function(t){var e,n,i,o=this._getPageByValue(t),r=this._pages,a=r.length;if((0,h.isDefined)(o)){var s=this._pages[o.index-1];if((n=this._pages[o.index+1])&&">"===n.value()&&(i=n,n=void 0,a--,r.pop()),this.selectedPage&&this.selectedPage.select(!1),o.select(!0),this.selectedPage=o,n&&n.value()-t>1)if(0!==o.index)for(s.value(t+1),this._pages.splice(o.index,1),this._pages.splice(o.index-1,0,o),this._pages[o.index].index=o.index,o.index=o.index-1,e=o.index-1;e>0;e--)this._pages[e].value(this._pages[e+1].value()-1);else for(e=0;e<a-1;e++)this._pages[e].value(e+1);if(s&&t-s.value()>1)if(o.index!==a-1)for(n.value(t-1),this._pages.splice(o.index,1),this._pages.splice(o.index+1,0,o),this._pages[o.index].index=o.index,o.index=o.index+1,e=o.index+1;e<a-1;e++)this._pages[e].value(this._pages[e-1].value()+1);else for(e=1;e<=a-2;e++)this._pages[a-1-e].value(this._pages[a-1].value()-e);i&&r.push(i)}},_updatePagesTabIndices:function(){var t=this,e=this.selectedPage._$page;o.default.on(e,"focus",(function n(){var r=(0,i.default)(t.element()).find("[role=button]:not(.dx-button-disable)");(0,u.each)(r,(function(t,e){return(0,i.default)(e).attr("tabindex",0)})),o.default.off(e,"focus",n)}))},_nextPage:function(t){var e=this.option("pageIndex"),n=this.option("pageCount");(0,h.isDefined)(e)&&(e="next"===t?++e:--e)>0&&e<=n&&this.option("pageIndex",e)},_wrapClickAction:function(t){var e=this;return function(n){if("dxpointerup"===n.type)e._pointerUpHappened=!0;else if(e._pointerUpHappened)return void(e._pointerUpHappened=!1);t({event:n})}},_renderPages:function(t){var e,n,r=this,a=t.length,s=r._createAction((function(t){var e=t.event,n=(0,i.default)(e.target).text(),o=">"===n?r.option("pageCount")+1:Number(n);r.option("pageIndex",o)}));a>1&&(r._pageClickHandler=this._wrapClickAction(s),o.default.on(r._$pagesChooser,(0,y.addNamespace)([f.default.up,d.name],r.Name+"Pages"),".dx-page",r._pageClickHandler),(0,_.registerKeyboardAction)("pager",r,r._$pagesChooser,".dx-page",s));for(var l=0;l<a;l++)(n=t[l]).render(r._$pagesChooser,r.option("rtlEnabled")),r.setAria({role:"button",label:"Page "+n.value()},n.element()),(0,_.setTabIndex)(r,n.element()),t[l+1]&&t[l+1].value()-n.value()>1&&(e=(0,i.default)("<div>").text(". . .").addClass("dx-separator"),r.option("rtlEnabled")?e.prependTo(r._$pagesChooser):e.appendTo(r._$pagesChooser))},_calculateLightPagesWidth:function(t,e){return Number(t.css("minWidth").replace("px",""))+10*e.toString().length},_renderLightPages:function(){var t=this,e=this.option("pageCount"),n=this.option("pageIndex"),r=t._createAction((function(){t.option("pageIndex",e)})),a=this.option("pagesCountText"),s=(0,i.default)("<div>").addClass("dx-light-pages").appendTo(this._$pagesChooser),l=(0,i.default)("<div>").addClass("dx-page-index").appendTo(s);t._pageIndexEditor=t._createComponent(l,v.default,{value:n,min:1,max:e,width:t._calculateLightPagesWidth(l,e),onValueChanged:function(e){null!==e.value&&t.option("pageIndex",e.value)}}),(0,i.default)("<span>").text(a).addClass("dx-info-text dx-info").appendTo(s);var u=(0,i.default)("<span>").addClass("dx-pages-count").text(e);o.default.on(u,(0,y.addNamespace)(d.name,t.Name+"PagesCount"),(function(t){r({event:t})})),(0,_.registerKeyboardAction)("pager",t,u,void 0,r),u.appendTo(s),t.setAria({role:"button",label:"Navigates to the last page"},u)},_renderPagesChooser:function(){var t=this.option("lightModeEnabled"),e=this.option("pagesNavigatorVisible"),n=this.$element();this._$pagesChooser&&this._$pagesChooser.remove(),e&&(this._pages&&0===this._pages.length?this.selectedPage=null:(this._$pagesChooser=(0,i.default)("<div>").addClass("dx-pages").appendTo(n),"auto"===e&&this._$pagesChooser.css("visibility",1===this.option("pageCount")?"hidden":""),t||this._renderInfo(),this._renderNavigateButton("prev"),t?this._renderLightPages():this._renderPages(this._pages),this._renderNavigateButton("next"),this._updatePagesChooserWidth()))},_renderPageSizes:function(){var t,e,n,r=this,a=r.option("pageSizes"),s=a&&a.length,l=r.option("pageSize"),u=r._createAction((function(t){var n=t.event;e=parseInt((0,i.default)(n.target).text()),r.option("pageSize",e)}));for(o.default.on(r._$pagesSizeChooser,(0,y.addNamespace)(d.name,r.Name+"PageSize"),".dx-page-size",(function(t){u({event:t})})),(0,_.registerKeyboardAction)("pager",r,r._$pagesSizeChooser,".dx-page-size",u),t=0;t<s;t++)n=(0,i.default)("<div>").text(a[t]).addClass("dx-page-size"),r.setAria({role:"button",label:"Display "+a[t]+" items on page"},n),(0,_.setTabIndex)(r,n),l===a[t]&&n.addClass("dx-selection"),r._$pagesSizeChooser.append(n)},_calculateLightPageSizesWidth:function(t){return Number(this._$pagesSizeChooser.css("minWidth").replace("px",""))+10*Math.max.apply(Math,t).toString().length},_renderLightPageSizes:function(){var t=this,e=t.option("pageSizes"),n=(0,i.default)("<div>").appendTo(t._$pagesSizeChooser);t._pageSizeEditor=t._createComponent(n,m.default,{dataSource:e,value:t.option("pageSize"),onSelectionChanged:function(e){t.option("pageSize",e.selectedItem)},width:t._calculateLightPageSizesWidth(e)})},_renderPagesSizeChooser:function(){var t=this.option("pageSizes"),e=this.option("showPageSizes"),n=t&&t.length,o=this.$element();this._$pagesSizeChooser&&this._$pagesSizeChooser.remove(),e&&n&&(this._$pagesSizeChooser=(0,i.default)("<div>").addClass("dx-page-sizes").appendTo(o),this.option("lightModeEnabled")?this._renderLightPageSizes():this._renderPageSizes(),this._pagesSizeChooserWidth=this._$pagesSizeChooser.width())},_renderInfo:function(){var t=this.option("infoText");this.option("showInfo")&&(0,h.isDefined)(t)&&(this._$info=(0,i.default)("<div>").css("display",this._isInfoHide?"none":"").addClass("dx-info").text((0,a.format)(t,this.selectedPage&&this.selectedPage.value(),this.option("pageCount"),this.option("totalCount"))).appendTo(this._$pagesChooser),this._isInfoHide||(this._infoWidth=this._$info.outerWidth(!0)))},_renderNavigateButton:function(t){var e,n=this,r=n._createAction((function(){n._nextPage(t)}));(n.option("showNavigationButtons")||n.option("lightModeEnabled"))&&(e=(0,i.default)("<div>").addClass("dx-navigate-button"),o.default.on(e,(0,y.addNamespace)([f.default.up,d.name],n.Name+"Pages"),n._wrapClickAction(r)),(0,_.registerKeyboardAction)("pager",n,e,void 0,r),n.setAria({role:"button",label:"prev"===t?"Previous page":" Next page"},e),(0,_.setTabIndex)(n,e),n.option("rtlEnabled")?(e.addClass("prev"===t?"dx-next-button":"dx-prev-button"),e.prependTo(this._$pagesChooser)):(e.addClass("prev"===t?"dx-prev-button":"dx-next-button"),e.appendTo(this._$pagesChooser)))},_renderContentImpl:function(){this.$element().toggleClass("dx-light-mode",this.option("lightModeEnabled")),this._toggleVisibility(this.option("visible")),this._updatePageSizes(!0),this._updatePages(!0),(0,_.restoreFocus)(this)},_initMarkup:function(){var t=this.$element();t.addClass("dx-pager");var e=(0,i.default)("<div>").addClass("dx-page");this._$pagesChooser=(0,i.default)("<div>").addClass("dx-pages").append(e).appendTo(t)},_render:function(){this.option().lightModeEnabled=!1,this.callBase(),this._updateLightMode()},_updatePageSizes:function(t){var e=this.option("lightModeEnabled"),n=this.option("pageSize"),i=this.option("pageSizes");e&&this._pageSizeEditor&&this._pageSizeEditor.option({value:n,dataSource:i,width:this._calculateLightPageSizesWidth(i)}),e&&!t||this._renderPagesSizeChooser()},_updatePages:function(t){var e=this.option("pageCount"),n=this.option("pageIndex"),i=this.option("lightModeEnabled");i?this._pageIndexEditor&&this._pageIndexEditor.option({value:n,width:this._calculateLightPagesWidth(this._pageIndexEditor.$element(),e)}):(this._processSelectedPage(this.option("maxPagesCount"),n,e),this._pages=this._getPages(this.selectedPage,e),this._selectPageByValue(n)),i&&!t||this._renderPagesChooser(),this._updateButtonsState(n)},_isPageIndexInvalid:function(t,e){var n="next"===t,i=this.option("rtlEnabled");return i&&n||!i&&!n?e<=1:e>=this.option("pageCount")},_updateButtonsState:function(t){var e=this.$element().find(".dx-next-button"),n=this.$element().find(".dx-prev-button");e.toggleClass("dx-button-disable",this._isPageIndexInvalid("next",t)),n.toggleClass("dx-button-disable",this._isPageIndexInvalid("prev",t))},_optionChanged:function(t){switch(t.name){case"visible":this._toggleVisibility(t.value);break;case"pageIndex":var e=this.option("pageIndexChanged");e&&e(t.value),this._updatePages();break;case"maxPagesCount":case"pageCount":case"totalCount":case"hasKnownLastPage":case"pagesNavigatorVisible":case"showNavigationButtons":this._updatePages();break;case"pageSize":var n=this.option("pageSizeChanged");n&&n(t.value),this._updatePageSizes();break;case"pageSizes":this._updatePageSizes();break;case"lightModeEnabled":this._renderContentImpl(),!t.value&&this._updateLightMode();break;default:this._invalidate()}},_clean:function(){this._$pagesChooser&&(o.default.off(this._$pagesChooser,(0,y.addNamespace)([f.default.up,d.name],this.Name+"Pages"),".dx-page",this._pageClickHandler),(0,_.registerKeyboardAction)("pager",this,this._$pagesChooser,".dx-page",this._pageKeyDownHandler)),this.callBase()},_getMinPagerWidth:function(){return((0,h.isDefined)(this._pagesChooserWidth)?this._pagesChooserWidth:0)+((0,h.isDefined)(this._pagesSizeChooserWidth)?this._pagesSizeChooserWidth:0)},_updatePagesChooserWidth:(0,l.deferUpdater)((function(){var t=this._pages&&this._pages.length>0?this._pages[this._pages.length-1]._$page.width():0;this._pagesChooserWidth=this._$pagesChooser.width()+t})),_updateLightMode:(0,l.deferUpdater)((function(){var t=this,e=this.$element().width(),n=(0,h.isDefined)(this._infoWidth)?this._infoWidth:0;(0,l.deferRender)((function(){t._isInfoHide&&e>t._getMinPagerWidth()+n&&(t._$info.show(),t._updatePagesChooserWidth(),t._isInfoHide=!1),!t._isInfoHide&&e>t._getMinPagerWidth()-n&&e<t._getMinPagerWidth()&&(t._$info.hide(),t._updatePagesChooserWidth(),t._isInfoHide=!0),(0,l.deferUpdate)((function(){(0,l.deferRender)((function(){t.option("lightModeEnabled")&&e>t._previousWidth?t.option("lightModeEnabled",!1):e<t._getMinPagerWidth()&&t.option("lightModeEnabled",!0),t._previousWidth=e}))}))}))})),_dimensionChanged:function(){this._updateLightMode()},getHeight:function(){return this.option("visible")?this.$element().outerHeight():0}}),C=w;e.default=C,(0,s.default)("dxPager",w),t.exports=e.default},function(t,e,n){"use strict";e.TrackerView=e.ColumnsResizerViewController=e.TablePositionViewController=e.ColumnsSeparatorView=e.DraggingHeaderViewController=e.DraggingHeaderView=void 0;var i=r(n(22)),o=r(n(510));function r(t){return t&&t.__esModule?t:{default:t}}var a=o.default.views.draggingHeaderView;e.DraggingHeaderView=a;var s=o.default.controllers.draggingHeader;e.DraggingHeaderViewController=s;var l=o.default.views.columnsSeparatorView;e.ColumnsSeparatorView=l;var u=o.default.controllers.tablePosition;e.TablePositionViewController=u;var h=o.default.controllers.columnsResizer;e.ColumnsResizerViewController=h;var c=o.default.views.trackerView;e.TrackerView=c,i.default.registerModule("columnsResizingReordering",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=y(n(1)),o=y(n(16)),r=y(n(7)),a=y(n(38)),s=n(2),l=n(5),u=n(3),h=n(34),c=n(13),d=y(n(33)),f=n(138),p=y(n(35)),g=y(n(31)),m=y(n(57)),v=y(n(219));function y(t){return t&&t.__esModule?t:{default:t}}var _="dxDataGridResizingReordering",b=function(t){return t.option("allowColumnResizing")||t.getController("columns").isColumnOptionUsed("allowResizing")},x=function(t){return t.option("allowColumnReordering")||t.getController("columns").isColumnOptionUsed("allowReordering")},w=p.default.View.inherit({_renderCore:function(){this.callBase(),this.element().addClass(this.addWidgetPrefix("tracker")),this.hide()},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_subscribeToCallback:function(){var t=this;t._positionChanged=function(e){var n=t.element();n&&n.hasClass(t.addWidgetPrefix("tracker"))&&(n.css({top:e.top}),n.height(e.height))},this._tablePositionController.positionChanged.add(t._positionChanged)},optionChanged:function(t){"allowColumnResizing"===t.name&&(this._unsubscribeFromCallback(),t.value&&(this._subscribeToCallback(),this._invalidate())),this.callBase(t)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},isVisible:function(){return b(this)},show:function(){this.element().show()},hide:function(){this.element()&&this.element().hide()},setHeight:function(t){this.element().height(t)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),C=p.default.View.inherit({_renderSeparator:function(){},_renderCore:function(t){this.callBase(t),this._isShown=!0,this._renderSeparator(),this.hide()},show:function(){this._isShown=!0},hide:function(){this._isShown=!1},height:function(t){var e=this.element();if(e){if(!(0,s.isDefined)(t))return e.height();e.height(t)}},width:function(t){var e=this.element();if(e){if(!(0,s.isDefined)(t))return e.width();e.width(t)}}}),S=C.inherit({_renderSeparator:function(){this.callBase(),this.element().addClass(this.addWidgetPrefix("columns-separator"))},_subscribeToCallback:function(){var t,e=this;e._positionChanged=function(n){(t=e.element())&&(t.css({top:n.top}),t.height(n.height))},e._tablePositionController.positionChanged.add(e._positionChanged)},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_init:function(){this._isTransparent=b(this),this.isVisible()&&this._subscribeToCallback()},isVisible:function(){return this.option("showColumnHeaders")&&(x(this)||b(this))},optionChanged:function(t){"allowColumnResizing"===t.name&&(t.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=b(this),this.hide(!0))),this.callBase(t)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._init()},show:function(){var t=this.element();t&&!this._isShown&&(this._isTransparent?t.removeClass(this.addWidgetPrefix("columns-separator-transparent")):t.show()),this.callBase()},hide:function(t){var e=this.element(),n=this.addWidgetPrefix("columns-separator-transparent");e&&(this._isShown||t)&&(this._isTransparent?(e.addClass(n),e.css("left",""),e.show()):(e.hasClass(n)&&e.removeClass(n),e.hide())),this.callBase()},moveByX:function(t){var e=this.element();e&&e.css("left",t-this._parentElement().offset().left)},changeCursor:function(t){t=(0,s.isDefined)(t)?t:"";var e=this.element();e&&e.css("cursor",t)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),k=C.inherit({init:function(){var t=this;this.callBase(),this.getController("data").loadingChanged.add((function(e){e||t.hide()}))},_renderSeparator:function(){this.callBase(),this.element().addClass("dx-block-separator").html("&nbsp;")},hide:function(){var t=this._parentElement(),e=this.element();e&&this._isShown&&e.css("display","none"),t&&!t.children(".dx-block-separator").length&&t.prepend(this.element()),this.callBase()},isVisible:function(){var t=this.option("groupPanel"),e=this.option("columnChooser");return t&&t.visible||e&&e.enabled},show:function(t){var e=this.element(),n=function(t){m.default.stop(e,!0),m.default.animate(e,{type:"slide",from:{width:0,display:t.display},to:t,duration:300,easing:"swing"})};if(e&&!this._isShown)switch(t){case"group":n({width:"50px",display:"inline-block"});break;case"columnChooser":n({width:"100%",display:"block"});break;default:e.css("display","")}this.callBase()}}),E=p.default.View.inherit({_isDragging:!1,isDragging:function(){return this._isDragging},_getDraggingPanelByPos:function(t){var e;return(0,l.each)(this._dragOptions.draggingPanels,(function(n,i){if(i){var o=i.getBoundingRect();if(o&&(void 0===o.bottom||t.y<o.bottom)&&(void 0===o.top||t.y>o.top)&&(void 0===o.left||t.x>o.left)&&(void 0===o.right||t.x<o.right))return e=i,!1}})),e},_renderCore:function(){this.element().addClass(this.addWidgetPrefix("drag-header")+" "+this.addWidgetPrefix("text-content")+" dx-widget").hide()},_resetTargetColumnOptions:function(){var t=this._dropOptions;t.targetColumnIndex=-1,delete t.targetColumnElement,delete t.isLast,delete t.posX,delete t.posY},_getVisibleIndexObject:function(t,e){return(0,s.isDefined)(t)?{columnIndex:e,rowIndex:t}:e},dispose:function(){var t=this.element();this._dragOptions=null,t&&t.parent().find("."+this.addWidgetPrefix("drag-header")).remove()},isVisible:function(){var t=this.getController("columns").getCommonSettings();return this.option("showColumnHeaders")&&(x(this)||t.allowGrouping||t.allowHiding)},init:function(){var t=this;this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this.getController("data").loadingChanged.add((function(e){var n=t.element();!e&&n&&n.hide()}))},dragHeader:function(t){var e=t.columnElement,n=!!t.sourceColumn.type;this._isDragging=!0,this._dragOptions=t,this._dropOptions={sourceIndex:t.index,sourceColumnIndex:this._getVisibleIndexObject(t.rowIndex,t.columnIndex),sourceColumnElement:t.columnElement,sourceLocation:t.sourceLocation};var i=o.default.getDocument();this._onSelectStart=i.onselectstart,i.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:e&&e.css("textAlign"),height:e&&(n&&e.get(0).clientHeight||e.height()),width:e&&(n&&e.get(0).clientWidth||e.width()),whiteSpace:e&&e.css("whiteSpace")}).addClass(this.addWidgetPrefix("drag-action")).toggleClass("dx-drag-command-cell",n).text(n?"":t.sourceColumn.caption),this.element().appendTo(v.default.getSwatchContainer(e))},moveHeader:function(t){var e=t.event,n=e.data.that,i=(0,c.eventData)(e),o=!!n._columnsResizerViewController&&n._columnsResizerViewController.isResizing(),r=n._dragOptions;if(n._isDragging&&!o){var a=n.element(),s=Math.abs(i.x-r.columnElement.offset().left-r.deltaX),l=Math.abs(i.y-r.columnElement.offset().top-r.deltaY);if(a.is(":visible")||s>5||l>5){a.show();var u=i.x-r.deltaX,h=i.y-r.deltaY;a.css({left:u,top:h}),n.dockHeader(i)}e.preventDefault()}},dockHeader:function(t){var e=this._getDraggingPanelByPos(t),n=this._controller,o=this._dropOptions,r=this._dragOptions;if(e){var a=this.option("rtlEnabled"),s="columnChooser"===e.getName(),l=s?"y":"x",h=e.getName(),c="headers"===h?r.rowIndex:void 0,d=r.sourceColumn,f=e.getColumnElements(c,d&&d.ownerBand)||[],p=r.pointsByTarget=r.pointsByTarget||{},g="columnChooser"===h?[]:p[h]||n._generatePointsByColumns((0,u.extend)({},r,{targetDraggingPanel:e,columns:e.getColumns(c),columnElements:f,isVerticalOrientation:s,startColumnIndex:"headers"===h&&(0,i.default)(f[0]).index()}));if(p[h]=g,o.targetLocation=h,g.length>0)for(var m=0;m<g.length;m++){var v=g[m+1]&&(g[m][l]+g[m+1][l])/2;if(void 0===v||(a&&"x"===l?t[l]>v:t[l]<v)){o.targetColumnIndex=this._getVisibleIndexObject(c,g[m].columnIndex),f[m]?(o.targetColumnElement=f.eq(m),o.isLast=!1):(o.targetColumnElement=f.last(),o.isLast=!0),o.posX=g[m].x,o.posY=g[m].y,n.dock(o);break}}else this._resetTargetColumnOptions(),n.dock(o)}},dropHeader:function(t){var e=t.event.data.that,n=e._controller;e.element().hide(),n&&e._isDragging&&n.drop(e._dropOptions),e.element().appendTo(e._parentElement()),e._dragOptions=null,e._dropOptions=null,e._isDragging=!1,o.default.getDocument().onselectstart=e._onSelectStart||null}}),I=function(t){return"widget"!==t.option("columnResizingMode")},T=p.default.ViewController.inherit({_isHeadersRowArea:function(t){if(this._columnHeadersView){var e=this._columnHeadersView.element();if(e){var n=e.offset().top,i=this._columnHeadersView.getHeadersRowHeight();return t>=n&&t<=n+i}}return!1},_isRtlParentStyle:function(){var t;return this.option("rtlEnabled")&&"rtl"===(null===(t=this._$parentContainer)||void 0===t?void 0:t.parent().css("direction"))},_pointCreated:function(t,e,n){var i=I(this),o=this.option("rtlEnabled"),r=this._isRtlParentStyle(),a=i||!o||r?1:0;if(t.index>=a&&t.index<e+(i||o&&!r?0:1)){t.columnIndex-=a;var s=n[t.columnIndex]||{},l=n[t.columnIndex+1]||{};return!(i?s.allowResizing&&l.allowResizing:s.allowResizing)}return!0},_getTargetPoint:function(t,e,n){if(t)for(var i=0;i<t.length;i++)if((t[i].x!==t[0].x||!t[i+1]||t[i].x!==t[i+1].x)&&t[i].x-n<=e&&e<=t[i].x+n)return t[i];return null},_moveSeparator:function(t){var e=t.event,n=e.data,i=n._columnsSeparatorView.width(),o=I(n),r=i/2,a=n._$parentContainer.offset(),s=a.left,l=(0,c.eventData)(e),u=n.option("rtlEnabled"),h=this._isRtlParentStyle();if(n._isResizing&&n._resizingInfo){if((s<=l.x||!o&&h)&&(!o||l.x<=s+n._$parentContainer.width())&&n._updateColumnsWidthIfNeeded(l.x)){var d=n._columnHeadersView.getColumnElements().eq(n._resizingInfo.currentColumnIndex),f=d[0];if(f){var p=f.getBoundingClientRect().width;n._columnsSeparatorView.moveByX(d.offset().left+((o||h)&&u?0:p)),n._tablePositionController.update(n._targetPoint.y),e.preventDefault()}}}else n._isHeadersRowArea(l.y)?(n._previousParentOffset&&(n._previousParentOffset.left===a.left&&n._previousParentOffset.top===a.top||n.pointsByColumns(null)),n._targetPoint=n._getTargetPoint(n.pointsByColumns(),l.x,i),n._previousParentOffset=a,n._isReadyResizing=!1,n._targetPoint?(n._columnsSeparatorView.changeCursor("col-resize"),n._columnsSeparatorView.moveByX(n._targetPoint.x-r),n._tablePositionController.update(n._targetPoint.y),n._isReadyResizing=!0,e.preventDefault()):n._columnsSeparatorView.changeCursor()):(n.pointsByColumns(null),n._isReadyResizing=!1,n._columnsSeparatorView.changeCursor())},_endResizing:function(t){var e=t.event.data;e._isResizing&&(e.pointsByColumns(null),e._resizingInfo=null,e._columnsSeparatorView.hide(),e._columnsSeparatorView.changeCursor(),e._trackerView.hide(),e._isReadyResizing=!1,e._isResizing=!1)},_getNextColumnIndex:function(t){return t+1},_setupResizingInfo:function(t){var e=this._targetPoint.columnIndex,n=this._getNextColumnIndex(e),i=this._columnHeadersView.getHeaderElement(e),o=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:t,currentColumnIndex:e,currentColumnWidth:i&&i.length>0?(0,h.getBoundingRect)(i[0]).width:0,nextColumnIndex:n,nextColumnWidth:o&&o.length>0?(0,h.getBoundingRect)(o[0]).width:0}},_startResizing:function(t){var e=t.event,n=e.data,i=(0,c.eventData)(e);if((0,c.isTouchEvent)(e)&&(n._isHeadersRowArea(i.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),i.x,10),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(i.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();var o=n.component.getScrollable();o&&n._isRtlParentStyle()&&(n._scrollRight=o.$content().width()-o._container().width()-o.scrollLeft()),e.preventDefault(),e.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()},_generatePointsByColumns:function(){var t=this,e=t._columnsController?t._columnsController.getVisibleColumns():[],n=t._columnHeadersView.getColumnElements(),i=[];n&&n.length>0&&(i=g.default.getPointsByColumns(n,(function(i){return t._pointCreated(i,n.length,e)}))),t._pointsByColumns=i},_unsubscribeFromEvents:function(){this._moveSeparatorHandler&&r.default.off(o.default.getDocument(),(0,c.addNamespace)(d.default.move,_),this._moveSeparatorHandler),this._startResizingHandler&&r.default.off(this._$parentContainer,(0,c.addNamespace)(d.default.down,_),this._startResizingHandler),this._endResizingHandler&&(r.default.off(this._columnsSeparatorView.element(),(0,c.addNamespace)(d.default.up,_),this._endResizingHandler),r.default.off(o.default.getDocument(),(0,c.addNamespace)(d.default.up,_),this._endResizingHandler))},_subscribeToEvents:function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),r.default.on(o.default.getDocument(),(0,c.addNamespace)(d.default.move,_),this,this._moveSeparatorHandler),r.default.on(this._$parentContainer,(0,c.addNamespace)(d.default.down,_),this,this._startResizingHandler),r.default.on(this._columnsSeparatorView.element(),(0,c.addNamespace)(d.default.up,_),this,this._endResizingHandler),r.default.on(o.default.getDocument(),(0,c.addNamespace)(d.default.up,_),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded:function(t){var e,n,i,o,r,a=!1,l=this._resizingInfo,u=this._columnsController,h=u.getVisibleColumns(),c=this._columnsSeparatorView.width(),d=this._rowsView.contentWidth(),f=I(this),p=f&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),m=this.option("rtlEnabled"),v=this._isRtlParentStyle();function y(t){return(0,s.isString)(t)&&"%"===t.slice(-1)}function _(t,e,n,i){if(t){var o=t.width;o&&(i=y(o)),i?(t&&u.columnOption(t.index,"visibleWidth",e),t&&u.columnOption(t.index,"width",(e/n*100).toFixed(3)+"%")):(t&&u.columnOption(t.index,"visibleWidth",null),t&&u.columnOption(t.index,"width",e))}}e=t-l.startPosX,(f||v)&&m&&(e=-e),r=l.currentColumnWidth+e;var b=h[l.currentColumnIndex];if(a=r>=(i=b&&b.minWidth||c),f&&(n=l.nextColumnWidth-e,i=(o=h[l.nextColumnIndex])&&o.minWidth||c,a=a&&n>=i),a){if(u.beginUpdate(),_(b,r=Math.floor(r),d=function(t,e){if(e.every((function(t){return t.width}))){var n=e.reduce((function(t,e){return y(e.width)&&(t+=parseFloat(e.width)),t}),0);n>100&&(t=t/n*100)}return t}(d,h),p),f)_(o,n=Math.floor(n),d,p);else{var x=this._columnHeadersView.getColumnWidths();if(x[l.currentColumnIndex]=r,!(x.reduce((function(t,e){return t+e}),0)>this._rowsView.contentWidth())){var w=g.default.getLastResizableColumnIndex(h);w>=0&&u.columnOption(h[w].index,"visibleWidth","auto")}for(var C=0;C<x.length;C++)h[C]&&h[C]!==b&&void 0===h[C].width&&u.columnOption(h[C].index,"width",x[C])}if(u.endUpdate(),!f){this.component.updateDimensions();var S=this.component.getScrollable();if(S&&v){var k=S.$content().width()-S._container().width()-this._scrollRight;S.scrollTo({left:k})}}}return a},_subscribeToCallback:function(t,e){t.add(e),this._subscribesToCallbacks.push({callback:t,handler:e})},_unsubscribeFromCallbacks:function(){for(var t=0;t<this._subscribesToCallbacks.length;t++){var e=this._subscribesToCallbacks[t];e.callback.remove(e.handler)}this._subscribesToCallbacks=[]},_unsubscribes:function(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},_init:function(){var t=this,e=function(){t._isResizing||t.pointsByColumns(null)},n=function(e){t._scrollLeft!==e.left&&(t._scrollLeft=e.left,t.pointsByColumns(null))};t._columnsSeparatorView=t.getView("columnsSeparatorView"),t._columnHeadersView=t.getView("columnHeadersView"),t._trackerView=t.getView("trackerView"),t._rowsView=t.getView("rowsView"),t._columnsController=t.getController("columns"),t._tablePositionController=t.getController("tablePosition"),t._$parentContainer=t.component.$element(),t._subscribeToCallback(t._columnHeadersView.renderCompleted,e),t._subscribeToCallback(t._columnHeadersView.resizeCompleted,e),t._subscribeToCallback(t._columnsSeparatorView.renderCompleted,(function(){t._unsubscribeFromEvents(),t._subscribeToEvents()})),t._subscribeToCallback(t._rowsView.renderCompleted,(function(){t._rowsView.scrollChanged.remove(n),t._rowsView.scrollChanged.add(n)}));var i=0!==t._rowsView.getScrollbarWidth(),o=0;t._subscribeToCallback(t.getController("tablePosition").positionChanged,(function(e){if(t._isResizing&&!t._rowsView.isResizing){var n=0!==t._rowsView.getScrollbarWidth();i!==n||o&&o!==e.height?(i=n,o=e.height,t.component.updateDimensions()):t._rowsView.updateFreeSpaceRowHeight()}o=e.height}))},optionChanged:function(t){this.callBase(t),"allowColumnResizing"===t.name&&(t.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},isResizing:function(){return this._isResizing},init:function(){this._subscribesToCallbacks=[],b(this)&&this._init()},pointsByColumns:function(t){if(void 0===t)return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns;this._pointsByColumns=t},dispose:function(){this._unsubscribes(),this.callBase()}}),D=p.default.ViewController.inherit({update:function(t){var e={},n=this._columnHeadersView.element(),i=n&&n.offset(),o=i&&i.top||0,r=(0,s.isDefined)(t)?Math.abs(t-o):0,a=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),u=this._rowsView?this._rowsView.height()-l:0,h=this.component.getController("columnsResizer"),c=this.component.getView("draggingHeaderView");e.height=a,(!1!==h.isResizing()||c.isDragging())&&(e.height+=u-r),null!==t&&n&&n.length&&(e.top=n[0].offsetTop+r),this.positionChanged.fire(e)},init:function(){var t=this;t.callBase(),t._columnHeadersView=this.getView("columnHeadersView"),t._rowsView=this.getView("rowsView"),t._pagerView=this.getView("pagerView"),t._rowsView.resizeCompleted.add((function(){if(t.option("allowColumnResizing")){var e=t.getController("columnsResizer")._targetPoint;t.update(e?e.y:null)}}))},ctor:function(t){this.callBase(t),this.positionChanged=(0,a.default)()}}),M={views:{columnsSeparatorView:S,blockSeparatorView:k,draggingHeaderView:E,trackerView:w},controllers:{draggingHeader:p.default.ViewController.inherit({_generatePointsByColumns:function(t){var e=this;return g.default.getPointsByColumns(t.columnElements,(function(n){return e._pointCreated(n,t.columns,t.targetDraggingPanel.getName(),t.sourceColumn)}),t.isVerticalOrientation,t.startColumnIndex)},_pointCreated:function(t,e,n,i){var o=e[t.columnIndex],r=e[t.columnIndex-1];switch(n){case"columnChooser":return!0;case"headers":return i&&!i.allowReordering||(!o||!o.allowReordering)&&(!r||!r.allowReordering);default:return 0===e.length}},_subscribeToEvents:function(t,e){var n=this;(0,l.each)(e,(function(o,a){if(a)for(var s,u=a.getRowCount?a.getRowCount():1,h=a.getName(),d=function(o,l){if(l){var u=(0,i.default)(l),d=s[o];a.allowDragging(d,h,e)&&(u.addClass(n.addWidgetPrefix("drag-action")),r.default.on(u,(0,c.addNamespace)(f.start,_),n.createAction((function(r){var a=r.event,s=(0,c.eventData)(a);t.dragHeader({deltaX:s.x-(0,i.default)(a.currentTarget).offset().left,deltaY:s.y-(0,i.default)(a.currentTarget).offset().top,sourceColumn:d,index:d.index,columnIndex:o,columnElement:u,sourceLocation:h,draggingPanels:e,rowIndex:n._columnsController.getRowIndex(d.index,!0)})}))),r.default.on(u,(0,c.addNamespace)(f.move,_),{that:t},n.createAction(t.moveHeader)),r.default.on(u,(0,c.addNamespace)(f.end,_),{that:t},n.createAction(t.dropHeader)))}},p=0;p<u;p++){var g=a.getColumnElements(p)||[];g.length&&(s=a.getColumns(p)||[],(0,l.each)(g,d))}}))},_unsubscribeFromEvents:function(t,e){var n=this;(0,l.each)(e,(function(t,e){if(e){var o=e.getColumnElements()||[];(0,l.each)(o,(function(t,e){var o=(0,i.default)(e);r.default.off(o,(0,c.addNamespace)(f.start,_)),r.default.off(o,(0,c.addNamespace)(f.move,_)),r.default.off(o,(0,c.addNamespace)(f.end,_)),o.removeClass(n.addWidgetPrefix("drag-action"))}))}}))},_getSeparator:function(t){return"headers"===t?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators:function(t){var e=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=null,e&&e.hide(),"block"!==t&&n&&n.hide()},init:function(){var t=this;t.callBase(),t._columnsController=t.getController("columns"),t._columnHeadersView=t.getView("columnHeadersView"),t._columnsSeparatorView=t.getView("columnsSeparatorView"),t._draggingHeaderView=t.getView("draggingHeaderView"),t._rowsView=t.getView("rowsView"),t._blockSeparatorView=t.getView("blockSeparatorView"),t._headerPanelView=t.getView("headerPanel"),t._columnChooserView=t.getView("columnChooserView");var e=function(){if(t._draggingHeaderView){var e=[t._columnChooserView,t._columnHeadersView,t._headerPanelView];t._unsubscribeFromEvents(t._draggingHeaderView,e),t._subscribeToEvents(t._draggingHeaderView,e)}};t._columnHeadersView.renderCompleted.add(e),t._headerPanelView&&t._headerPanelView.renderCompleted.add(e),t._columnChooserView&&t._columnChooserView.renderCompleted.add(e)},allowDrop:function(t){return this._columnsController.allowMoveColumn(t.sourceColumnIndex,t.targetColumnIndex,t.sourceLocation,t.targetLocation)},drag:function(t){var e=t.sourceIndex,n=t.sourceLocation,i=t.sourceColumnElement,o=this._columnHeadersView,r=this._rowsView;i&&(i.css({opacity:.5}),"headers"===n&&(o&&o.setRowsOpacity(e,.5),r&&r.setRowsOpacity(e,.5)))},dock:function(t){var e=this,n=(0,s.isObject)(t.targetColumnIndex)?t.targetColumnIndex.columnIndex:t.targetColumnIndex,i=t.sourceLocation,o=t.targetLocation,r=e._getSeparator(o),a=n>=0;e._columnHeadersView.element().find(".dx-header-row").toggleClass(e.addWidgetPrefix("drop-highlight"),"headers"!==i&&"headers"===o&&!a),r&&(e.allowDrop(t)&&a?"group"===o||"columnChooser"===o?e._animationColumnIndex!==n&&(e.hideSeparators(),r.element()[t.isLast?"insertAfter":"insertBefore"](t.targetColumnElement),e._animationColumnIndex=n,r.show(o)):(e.hideSeparators("block"),e.getController("tablePosition").update(t.posY),r.moveByX(t.posX-r.width()),r.show()):e.hideSeparators())},drop:function(t){var e=t.sourceColumnElement;if(e&&(e.css({opacity:""}),this._columnHeadersView.setRowsOpacity(t.sourceIndex,""),this._rowsView.setRowsOpacity(t.sourceIndex,""),this._columnHeadersView.element().find(".dx-header-row").removeClass(this.addWidgetPrefix("drop-highlight"))),this.allowDrop(t)){var n=this._getSeparator(t.targetLocation);n&&n.hide(),this._columnsController.moveColumn(t.sourceColumnIndex,t.targetColumnIndex,t.sourceLocation,t.targetLocation)}},dispose:function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}),tablePosition:D,columnsResizer:T},extenders:{views:{rowsView:{_needUpdateRowHeight:function(t){var e=this.option("wordWrapEnabled"),n=this.getController("columnsResizer"),i=n.isResizing();return this.callBase.apply(this,arguments)||t>0&&e&&i}}},controllers:{editorFactory:{renderFocusOverlay:function(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};e.default=M,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(512));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("keyboardNavigation",o.default)},function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default=void 0;var o=x(n(1)),r=x(n(16)),a=x(n(7)),s=x(n(35)),l=x(n(31)),u=n(2),h=n(21),c=n(68),d=n(13),f=x(n(33)),p=n(30),g=n(6),m=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!==typeof t)return{default:t};var e=b();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=o?Object.getOwnPropertyDescriptor(t,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=t[r]}n.default=t,e&&e.set(t,n);return n}(n(80)),v=x(n(24)),y=n(120),_=x(n(17));function b(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return b=function(){return t},t}function x(t){return t&&t.__esModule?t:{default:t}}var w="input:not([type='hidden']), textarea, a, select, [tabindex]";function C(t){return t&&t.hasClass("dx-group-row")}function S(t){return t&&t.hasClass("dx-master-detail-row")}function k(t){return t&&!C(t)&&!S(t)}function E(t){return t.length&&"TD"===t[0].tagName}function I(t,e){return!t._isRowEditMode()&&e&&!e.hasClass("dx-command-select")&&e.hasClass("dx-editor-cell")}function T(t){return(0,u.isDefined)(t)&&t.length>0}function D(){return"desktop"!==_.default.current().deviceType}function M(t){return!!t.parent(".".concat("dx-header-row")).length}var O={defaultOptions:function(){return{useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}},controllers:{keyboardNavigation:s.default.ViewController.inherit({init:function(){var t=this;if(this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this.isKeyboardEnabled()){m.subscribeVisibilityChange(),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null;this._editorFactory.focused.add((function(e){t.setupFocusedView(),t._isNeedScroll&&e.is(":visible")&&t._focusedView&&t._focusedView.getScrollable&&(t._focusedView._scrollToElement(e),t._isNeedScroll=!1)})),this._initViewHandlers(),this._initDocumentHandlers(),this.createAction("onKeyDown")}},_initViewHandlers:function(){var t=this,e=this.getView("rowsView");e.renderCompleted.add((function(n){var i=e.element(),r=!n||"refresh"===n.changeType,a=t._focusedView&&t._focusedView.name===e.name,s=n&&("append"===n.changeType||"prepend"===n.changeType),l=(0,o.default)(":focus"),u=!l.length||l.closest(i).length||v.default.msie&&l.is("body");t._initPointerEventHandler(),t._initKeyDownHandler(),t._setRowsViewAttributes(),a&&u&&(t._isNeedFocus?!s:t._isHiddenFocus&&r)&&t._updateFocus(!0)}))},_initDocumentHandlers:function(){var t=this,e=r.default.getDocument();this._documentClickHandler=this.createAction((function(e){var n=(0,o.default)(e.event.target),i=t._isEventInCurrentGrid(e.event)&&n.closest(".".concat(t.addWidgetPrefix("rowsview"))).length,r=n.closest(".".concat("dx-dropdowneditor-overlay")).length,a=t.getController("columnsResizer"),s=!!a&&a.isResizing();i||r||s||t._resetFocusedView()})),a.default.on(e,(0,d.addNamespace)(f.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)},_setRowsViewAttributes:function(){var t=this._getRowsViewElement();!this._dataController.getVisibleRows().length&&this._applyTabIndexToElement(t)},_initPointerEventHandler:function(){var t=D()?p.name:f.default.down,e=".".concat("dx-row"," > td, .").concat("dx-row"),n=this._getRowsViewElement();(0,u.isDefined)(this._pointerEventAction)||(this._pointerEventAction=this.createAction(this._pointerEventHandler)),a.default.off(n,(0,d.addNamespace)(t,"dxDataGridKeyboardNavigation"),this._pointerEventAction),a.default.on(n,(0,d.addNamespace)(t,"dxDataGridKeyboardNavigation"),e,this._pointerEventAction)},_initKeyDownHandler:function(){var t=this,e=this._getRowsViewElement();y.keyboard.off(this._keyDownListener),this._keyDownListener=y.keyboard.on(e,null,(function(e){return t._keyDownHandler(e)}))},dispose:function(){this.callBase(),this._resetFocusedView(),y.keyboard.off(this._keyDownListener),a.default.off(r.default.getDocument(),(0,d.addNamespace)(f.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),m.unsubscribeVisibilityChange()},optionChanged:function(t){switch(t.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":t.handled=!0;break;default:this.callBase(t)}},isRowFocusType:function(){return"row"===this.focusType},isCellFocusType:function(){return"cell"===this.focusType},setRowFocusType:function(){this.option("focusedRowEnabled")&&(this.focusType="row")},setCellFocusType:function(){this.focusType="cell"},_keyDownHandler:function(t){var e=this._editingController.isEditing(),n=!0,i=t.originalEvent,o=this._processOnKeyDown(t);if(!i.isDefaultPrevented()&&(this._isNeedFocus=!0,this._isNeedScroll=!0,this._updateFocusedCellPositionByTarget(i.target),!o)){switch(t.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(t,e);break;case"upArrow":case"downArrow":t.ctrl?m.selectView("rowsView",this,i):this._upDownKeysHandler(t,e);break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(t);break;case"space":this._spaceKeyHandler(t,e);break;case"A":t.ctrl?this._ctrlAKeyHandler(t,e):this._beginFastEditing(t.originalEvent);break;case"tab":this._tabKeyHandler(t,e);break;case"enter":this._enterKeyHandler(t,e);break;case"escape":this._escapeKeyHandler(t,e);break;case"F":t.ctrl?this._ctrlFKeyHandler(t):this._beginFastEditing(t.originalEvent);break;case"F2":this._f2KeyHandler();break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&this._beginFastEditing(i,!0);break;default:this._beginFastEditing(i)||(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1)}n&&i.stopPropagation()}},_processOnKeyDown:function(t){var e=t.originalEvent,n={handled:!1,event:e};return this.executeAction("onKeyDown",n),t.ctrl=e.ctrlKey,t.alt=e.altKey,t.shift=e.shiftKey,!!n.handled},_closeEditCell:function(){var t=this;setTimeout((function(){t._editingController.closeEditCell()}))},_leftRightKeysHandler:function(t,e){var n=this.getVisibleRowIndex(),i=t.originalEvent,o=this._focusedView&&this._focusedView.getRow(n),r=this._getDirectionCodeByKey(t.keyName),a=this._isFastEditingStarted();if((!e||a)&&k(o)){this.setCellFocusType(),a&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(r);var s=this._getNextCell(r);T(s)&&this._arrowKeysHandlerFocusCell(i,s,r),i&&i.preventDefault()}},_upDownKeysHandler:function(t,e){var n=this._focusedCellPosition.rowIndex,i=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(i),r=t.originalEvent,a="upArrow"===t.keyName,s=this._dataController.dataSource(),l=this._isFastEditingStarted();if((!e||l)&&o&&!S(o)){if(l&&this._closeEditCell(),!this._navigateNextCell(r,t.keyName)&&this._isVirtualRowRender()&&a&&s&&!s.isLoading()){var u=o.outerHeight();n=this._focusedCellPosition.rowIndex-1,this._scrollBy(0,-u,n,r)}r&&r.preventDefault()}},_pageUpDownKeyHandler:function(t){var e=this._dataController.pageIndex(),n=this._dataController.pageCount(),i=this.option("paging.enabled"),o="pageUp"===t.keyName,r=o?-1:1,a=this.getView("rowsView").getScrollable();i&&!this._isVirtualScrolling()?(o?e>0:e<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(e+r),t.originalEvent.preventDefault()):a&&a._container().height()<a.$content().height()&&(this._scrollBy(0,a._container().height()*r),t.originalEvent.preventDefault())},_spaceKeyHandler:function(t,e){var n=this.getVisibleRowIndex(),i=(0,o.default)(t.originalEvent&&t.originalEvent.target);if(this.option("selection")&&"none"!==this.option("selection").mode&&!e){var r="row"===this._getElementType(i)&&this.isRowFocusType()&&k(i);i.hasClass("dx-command-select")&&"onClick"===this.option("selection.showCheckBoxesMode")&&this._selectionController.startSelectionWithCheckboxes(),(r||i.parent().hasClass("dx-data-row")||i.hasClass(this.addWidgetPrefix("rowsview")))&&(this._selectionController.changeItemSelection(n,{shift:t.shift,control:t.ctrl}),t.originalEvent.preventDefault())}else this._beginFastEditing(t.originalEvent)},_ctrlAKeyHandler:function(t,e){!e&&t.ctrl&&!t.alt&&"multiple"===this.option("selection.mode")&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),t.originalEvent.preventDefault())},_tabKeyHandler:function(t,e){var n=this.option("editing"),i=t.shift?"previous":"next",r=!t.shift&&this._isLastValidCell(this._focusedCellPosition)||t.shift&&this._isFirstValidCell(this._focusedCellPosition),a=t.originalEvent.target,s=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(a,i)){if((0,o.default)(s).addClass("dx-state-focused"),n&&a&&!r)if((0,o.default)(a).hasClass(this.addWidgetPrefix("rowsview"))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(i),e){if(!this._editingCellTabHandler(t,i))return}else this._targetCellTabHandler(t,i)&&(r=!0);r?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedView(),this._closeEditCell())):t.originalEvent.preventDefault()}},_getMaxHorizontalOffset:function(){var t=this.component.getScrollable(),e=this.getView("rowsView");return t?t.scrollWidth()-(0,o.default)(e.element()).width():0},_isColumnRendered:function(t){var e=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),i=e[t],o=!1;return i&&(o=n.indexOf(i)>=0),o},_isFixedColumn:function(t){var e=this._columnsController.getVisibleColumns(null,!0)[t];return!!e&&!!e.fixed},_isColumnVirtual:function(t){var e=t-this._columnsController.getColumnIndexOffset(),n=this._columnsController.getVisibleColumns()[e];return!!n&&"virtual"===n.command},_processVirtualHorizontalPosition:function(t){var e,n=this.component.getScrollable(),i=this.getColumnIndex(),o=0,r=!1;switch(t){case"next":case"nextInRow":var a=this._getVisibleColumnCount();e=i+1,o=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,r="next"===t?a===e||this._isFixedColumn(i)&&!this._isColumnRendered(e):a>e&&this._isFixedColumn(i)&&!this._isColumnRendered(e);break;case"previous":case"previousInRow":if(e=i-1,o=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),"previous"===t){var s=this._columnsController.getColumnIndexOffset();r=e<0&&0===s||this._isFixedColumn(i)&&!this._isColumnRendered(e)}else r=e>=0&&this._isFixedColumn(i)&&!this._isColumnRendered(e)}r?n.scrollTo({left:o}):(0,u.isDefined)(e)&&(0,u.isDefined)(t)&&this._isColumnVirtual(e)&&0!==(o=this._getHorizontalScrollPositionOffset(t))&&n.scrollBy({left:o,top:0})},_getHorizontalScrollPositionOffset:function(t){var e=0,n=this._getCell(this._focusedCellPosition),i=n&&n.outerWidth();if(i>0){var o=this.option("rtlEnabled")?-1:1;e="nextInRow"===t||"next"===t?i*o:i*o*-1}return e},_editingCellTabHandler:function(t,e){var n,i=t.originalEvent.target,o=this._getCellElementFromTarget(i),r=t.originalEvent,a=this._getElementType(i);if(o.is("[class^=dx-command]"))return!this._targetCellTabHandler(t,e);this._updateFocusedCellPosition(o);var s=this._getNextCellByTabKey(r,e,a);if(!(o=s.$cell)||this._handleTabKeyOnMasterDetailCell(o,e))return!1;var l=this._columnsController,u=this.getView("rowsView").getCellIndex(o)+l.getColumnIndexOffset(),h=l.getVisibleColumns(null,!0)[u],c=o&&o.parent(),d=this._getRowIndex(c),f=this._dataController.items()[d],p=this._editingController;if(h&&h.allowEditing){var g=!f||"data"===f.rowType;n=p.allowUpdating({row:f})?g:f&&f.isNewRow}return n||this._closeEditCell(),this._focusCell(o,!s.isHighlighted)&&(!this._isRowEditMode()&&n?this._editFocusedCell():this._focusInteractiveElement(o,t.shift)),!0},_targetCellTabHandler:function(t,e){var n,i=t.originalEvent,r=i.target,a=this._getCellElementFromTarget(r),s=this._getInteractiveElement(a,!t.shift),l=!1;if(!I(this,a)&&s.length&&r!==s.get(0))l=!0;else{void 0===this._focusedCellPosition.rowIndex&&(0,o.default)(r).hasClass("dx-row")&&this._updateFocusedCellPosition(a),n=this._getElementType(r),this.isRowFocusType()&&(this.setCellFocusType(),"row"===n&&k((0,o.default)(r))&&(r=this.getFirstValidCellInRow((0,o.default)(r)),n=this._getElementType(r)));var u=this._getNextCellByTabKey(i,e,n);if(!(a=u.$cell))return!1;if(!(a=this._checkNewLineTransition(i,a)))return!1;this._focusCell(a,!u.isHighlighted),I(this,a)||this._focusInteractiveElement(a,t.shift)}return l},_getNextCellByTabKey:function(t,e,n){var i=this._getNextCell(e,n),o=i&&this._fireFocusedCellChanging(t,i,!0);return!o||o.cancel?{}:(o.$newCellElement&&(i=o.$newCellElement),{$cell:i,isHighlighted:o.isHighlighted})},_checkNewLineTransition:function(t,e){var n=this.getVisibleRowIndex(),i=e.parent();if(n!==this._getRowIndex(i)){var o=this._getCellPosition(e),r=this._fireFocusedRowChanging(t,i);if(r.cancel)return;r.rowIndexChanged&&(this.setFocusedColumnIndex(o.columnIndex),e=this._getFocusedCell())}return e},_enterKeyHandler:function(t,e){var n=this._getFocusedCell(),i=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(i);if(this.option("grouping.allowCollapsing")&&C(o)||this.option("masterDetail.enabled")&&n&&n.hasClass("dx-command-expand")){var r=this._dataController.getKeyByRowIndex(i),a=this._dataController.items()[i];void 0!==r&&a&&a.data&&!a.data.isContinuation&&this._dataController.changeRowExpand(r)}else this._processEnterKeyForDataCell(t,e)},_processEnterKeyForDataCell:function(t,e){var n=this._getEnterKeyDirection(t),i=this._allowEditingOnEnterKey();e||!i&&n?(this._handleEnterKeyEditingCell(t.originalEvent),"next"===n||"previous"===n?this._targetCellTabHandler(t,n):"upArrow"!==n&&"downArrow"!==n||this._navigateNextCell(t.originalEvent,n)):i&&this._startEditing(t)},_getEnterKeyDirection:function(t){var e=this.option("keyboardNavigation.enterKeyDirection"),n=t.shift;return"column"===e?n?"upArrow":"downArrow":"row"===e?n?"previous":"next":void 0},_handleEnterKeyEditingCell:function(t){var e=t.target,n=this._getCellElementFromTarget(e),i=this._isRowEditMode();this._updateFocusedCellPosition(n),i?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(a.default.trigger((0,o.default)(e),"change"),this._closeEditCell(),t.preventDefault())},_escapeKeyHandler:function(t,e){var n=this._getCellElementFromTarget(t.originalEvent.target);e&&(this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData()):"cell"===this._editingController.getEditMode()?this._editingController.cancelEditData():this._closeEditCell(),t.originalEvent.preventDefault())},_ctrlFKeyHandler:function(t){if(this.option("searchPanel.visible")){var e=this._headerPanel.getSearchTextEditor();e&&(e.focus(),t.originalEvent.preventDefault())}},_f2KeyHandler:function(){var t=this._editingController.isEditing(),e=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(e);!t&&k(n)&&this._startEditing()},_navigateNextCell:function(t,e){var n=this._getNextCell(e),i=this._getDirectionCodeByKey(e);return!!(n&&this._isCellValid(n))&&this._arrowKeysHandlerFocusCell(t,n,i)},_arrowKeysHandlerFocusCell:function(t,e,n){var i="prevRow"===n||"nextRow"===n,o=this._fireFocusChangingEvents(t,e,i,!0);return e=o.$newCellElement,!(o.cancel||!this._isCellValid(e))&&(this._focus(e,!o.isHighlighted),!0)},_beginFastEditing:function(t,e){if(!this._isFastEditingAllowed()||t.altKey||t.ctrlKey||this._editingController.isEditing())return!1;if(e)this._startEditing(t,"delete");else{var n=t.key,i=t.keyCode||t.which,o=n||i&&String.fromCharCode(i);!o||1!==o.length&&"delete"!==o||this._startEditing(t,o)}return!0},_pointerEventHandler:function(t){var e=t.event||t,n=(0,o.default)(e.currentTarget),i=this.getView("rowsView"),r=i&&i.element(),a=n.parent(),s=(0,o.default)(e.target).is(w),l=!!(0,o.default)(e.target).closest(".".concat("dx-revert-button")).length,u=n.hasClass("dx-command-expand");!l&&this._isEventInCurrentGrid(e)&&(this._isCellValid(n,!s)||u)?(n=this._isInsideEditForm(n)?(0,o.default)(e.target):n,this._focusView(),(0,o.default)(r).removeClass("dx-state-focused"),a.hasClass("dx-freespace-row")?(this._updateFocusedCellPosition(n),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus()):this._isMasterDetailCell(n)?this._updateFocusedCellPosition(n):this._clickTargetCellHandler(e,n)):n.is("td")&&this._resetFocusedCell()},_clickTargetCellHandler:function(t,e){var n=this.getView("rowsView").getCellIndex(e),i=this._columnsController.getVisibleColumns()[n],r=this._isCellEditMode();this.setCellFocusType();var a=this._fireFocusChangingEvents(t,e,!0);if(e=a.$newCellElement,a.cancel)this.setRowFocusType(),this.setFocusedRowIndex(a.prevRowIndex),e=this._getFocusedCell(),this._editingController.isEditing()&&r&&this._closeEditCell();else{if(a.resetFocusedRow)return void this.getController("focus")._resetFocusedRow();if(a.rowIndexChanged&&(e=this._getFocusedCell()),a.isHighlighted||r||this.setRowFocusType(),this._updateFocusedCellPosition(e),this._allowRowUpdating()&&r&&i&&i.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{var s=t&&(0,o.default)(t.target).closest(w+", td"),l=s&&s.not(e).is(w),u=!(!!i&&!i.command&&e.hasClass("dx-editor-cell"))&&(!a.isHighlighted||l);this._focus(e,u,l)}}},_allowRowUpdating:function(){var t=this.getVisibleRowIndex(),e=this._dataController.items()[t];return this._editingController.allowUpdating({row:e},"click")},focus:function(t){var e,n=this.option("focusedRowEnabled"),i=E((0,o.default)(t));t||(e=".dx-datagrid-rowsview .dx-row[tabindex]",n||(e+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),t=this.component.$element().find(e).first()),t&&this._focusElement((0,o.default)(t),i)},getFocusedView:function(){return this._focusedView},setupFocusedView:function(){this.isKeyboardEnabled()&&!(0,u.isDefined)(this._focusedView)&&this._focusView()},_focusElement:function(t,e){var n=(0,o.default)(this._getRowsViewElement()),i=t.closest(n),r=this.isRowFocusType(),a={};!i.length||E(t)&&!this._isCellValid(t)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(E(t)||C(t))&&(this.setCellFocusType(),t=(a=this._fireFocusChangingEvents(null,t,!1,e)).$newCellElement,r&&!a.isHighlighted&&this.setRowFocusType()),a.cancel||(this._focus(t,!a.isHighlighted),this._focusInteractiveElement(t)))},_getFocusedViewByElement:function(t){var e=this.getFocusedView(),n=e&&(0,o.default)(e.element());return t&&0!==t.closest(n).length},_focusView:function(){this._focusedView=this.getView("rowsView")},_resetFocusedView:function(){var t=this._getFocusedCell();this._focusedView=null,this._resetFocusedCell(t)},_focusInteractiveElement:function(t,e){if(t){var n=this._getInteractiveElement(t,e);l.default.focusAndSelectElement(this,n)}},_focus:function(t,e,n){var i=t&&!t.hasClass("dx-row")?t.closest(".".concat("dx-row")):t;if(!i||!function(t){return!t||t.hasClass("dx-freespace-row")||t.hasClass("dx-virtual-row")}(i)){var o,r=this._focusedView,s=r&&r.element();this._isHiddenFocus=e,C(i)||this.isRowFocusType()?(o=i,r&&this.setFocusedRowIndex(this._getRowIndex(i))):E(t)&&(o=t,this._updateFocusedCellPosition(t)),o&&(s&&s.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(o).removeClass("dx-cell-focus-disabled").removeAttr("tabindex"),a.default.one(o,"blur",(function(t){t.relatedTarget&&o.removeClass("dx-cell-focus-disabled")})),n||(this._applyTabIndexToElement(o),a.default.trigger(o,"focus")),e?o.addClass("dx-cell-focus-disabled"):this._editorFactory.focus(o))}},_updateFocus:function(t){var e=this;this._updateFocusTimeout=setTimeout((function(){var n=e._getFocusedCell(),i=e._editingController.isEditing();if(n&&(!e._isMasterDetailCell(n)||e._isRowEditMode())){if(e._hasSkipRow(n.parent())){var o=e._focusedCellPosition&&e._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";n=e._getNextCell(o)}if(T(n)){if(t&&!i&&e._checkCellOverlapped(n))return;if(n.is("td")||n.hasClass(e.addWidgetPrefix("edit-form-item"))){var r=n.is("[class^=dx-command]");if(!t&&r||!e._editorFactory.focus())e._isCellEditMode()||e._isNeedFocus?e._focus(n,e._isHiddenFocus):e._isHiddenFocus&&e._focus(n,!0);else{var s=n.find(":focus"),u=T(s);if(r&&u)return void l.default.focusAndSelectElement(e,s);!u&&e._focus(n)}i&&e._focusInteractiveElement.bind(e)(n)}else a.default.trigger(n,"focus")}}}))},_checkCellOverlapped:function(t){var e=t.offset(),n=!1;return this.component.getScrollable&&this.component.getScrollable()&&(e.left<0?n=t.width()+e.left<=0:e.top<0&&(n=t.height()+e.top<=0)),n},_getFocusedCell:function(){return(0,o.default)(this._getCell(this._focusedCellPosition))},_updateFocusedCellPositionByTarget:function(t){var e;if("row"===this._getElementType(t)&&(0,u.isDefined)(null===(e=this._focusedCellPosition)||void 0===e?void 0:e.columnIndex)){var n=(0,o.default)(t);this._focusedView&&C(n)&&this.setFocusedRowIndex(this._getRowIndex(n))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(t))},_updateFocusedCellPosition:function(t,e){var n=this._getCellPosition(t,e);return n&&(!t.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n},_getFocusedColumnIndexOffset:function(t){var e=0,n=this._columnsController.getVisibleColumns()[t];return n&&n.fixed?e=this._getFixedColumnIndexOffset(n):t>=0&&(e=this._columnsController.getColumnIndexOffset()),e},_getFixedColumnIndexOffset:function(t){return function(t,e){return t.option("rtlEnabled")?!("right"===e.fixedPosition||(0,u.isDefined)(e.command)&&!(0,u.isDefined)(e.fixedPosition)):!(!(0,u.isDefined)(e.fixedPosition)||"left"===e.fixedPosition)}(this,t)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0},_getCellPosition:function(t,e){var n,i=T(t)&&t.closest("tr"),o=this.getView("rowsView");if(T(i)){var r=this._getRowIndex(i);return n=o.getCellIndex(t,r),n+=this._getFocusedColumnIndexOffset(n),e&&(n="previous"===e?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:r,columnIndex:n}}},_focusCell:function(t,e){if(this._isCellValid(t))return this._focus(t,e),!0},_focusEditFormCell:function(t){t.hasClass("dx-master-detail-cell")&&this._editorFactory.focus(t,!0)},_resetFocusedCell:function(t){var e=T(t)?t:this._getFocusedCell();T(e)&&e.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),this._focusedView&&this._focusedView.renderFocusState&&this._focusedView.renderFocusState()},restoreFocusableElement:function(t,e){var n,i,o=(0,u.isDefined)(t),r=this.getView("rowsView"),s=r.element(),l=this._focusedCellPosition.columnIndex,h=this._dataController.getRowIndexOffset();t=o?t:r.getTopVisibleItemIndex()+h,o?(i=r.getRow(t-h),!(n=this._fireFocusedRowChanging(e,i)).cancel&&n.rowIndexChanged&&(t=n.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(s),a.default.trigger(s,"focus")),o&&n.cancel||this.setFocusedCellPosition(t,l),o&&this._updateFocus()},_getNewPositionByCode:function(t,e,n){var i=t.columnIndex,o=t.rowIndex;if(void 0===t.rowIndex&&"next"===n)return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":i<this._getVisibleColumnCount()-1&&"row"!==e&&this._hasValidCellAfterPosition({columnIndex:i,rowIndex:o})?i++:this._isLastRow(o)||"next"!==n||(i=0,o++);break;case"previousInRow":case"previous":i>0&&"row"!==e&&this._hasValidCellBeforePosition({columnIndex:i,rowIndex:o})?i--:o>0&&"previous"===n&&(o--,i=this._getVisibleColumnCount()-1);break;case"upArrow":o=o>0?o-1:o;break;case"downArrow":o=this._isLastRow(o)?o:o+1}return{columnIndex:i,rowIndex:o}},setFocusedCellPosition:function(t,e){this.setFocusedRowIndex(t),this.setFocusedColumnIndex(e)},setFocusedRowIndex:function(t){this._focusedCellPosition||(this._focusedCellPosition={}),this.option("focusedRowIndex",t),this._focusedCellPosition.rowIndex=t},setFocusedColumnIndex:function(t){this._focusedCellPosition||(this._focusedCellPosition={}),this.option("focusedColumnIndex",t),this._focusedCellPosition.columnIndex=t},getRowIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1},getColumnIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1},getVisibleRowIndex:function(){var t=this._focusedCellPosition&&this._focusedCellPosition.rowIndex;return(0,u.isDefined)(t)?t-this._dataController.getRowIndexOffset():-1},getVisibleColumnIndex:function(){var t=this._focusedCellPosition&&this._focusedCellPosition.columnIndex;return(0,u.isDefined)(t)?t-this._columnsController.getColumnIndexOffset():-1},getFocusedColumnIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:null},_applyColumnIndexBoundaries:function(t){var e=this._getVisibleColumnCount();return t<0?t=0:t>=e&&(t=e-1),t},_isCellByPositionValid:function(t){var e=(0,o.default)(this._getCell(t));return this._isCellValid(e)},_isLastRow:function(t){return this._isVirtualRowRender()?t>=this._dataController.totalItemsCount()-1:t===this._dataController.items().length-1},_isFirstValidCell:function(t){var e=!1;return 0===t.rowIndex&&t.columnIndex>=0&&(e=e||!this._hasValidCellBeforePosition(t)),e},_hasValidCellBeforePosition:function(t){for(var e=t.columnIndex,n=!1;e>0&&!n;){var i={columnIndex:--e,rowIndex:t.rowIndex};n=this._isCellByPositionValid(i)}return n},_hasValidCellAfterPosition:function(t){for(var e=t.columnIndex,n=!1,i=this._getVisibleColumnCount();e<i-1&&!n;){var o={columnIndex:++e,rowIndex:t.rowIndex};n=this._isCellByPositionValid(o)}return n},_isLastValidCell:function(t){var e=t.columnIndex>=0?t.columnIndex+1:0,n=t.rowIndex,i={columnIndex:e,rowIndex:n},o=this._dataController.getVisibleRows(),r=o&&o[n];return!!this._isLastRow(n)&&(!!(r&&"group"===r.rowType&&t.columnIndex>0)||(t.columnIndex===this._getVisibleColumnCount()-1||!this._isCellByPositionValid(i)&&this._isLastValidCell(i)))},_isCellValid:function(t,e){if(T(t)){var n=this.getView("rowsView"),i=t.parent(),o=this._columnsController,r=n.getCellIndex(t)+o.getColumnIndexOffset(),a=o.getVisibleColumns(null,!0)[r],s=this._getVisibleColumnCount(),l=this._editingController,h=S(i),c=a&&a.showWhenGrouped,d=a&&!t.hasClass("dx-command-expand")&&k(i);if(this._isMasterDetailCell(t))return!0;if(s>r&&(!h&&a&&(!(0,u.isDefined)(a.groupIndex)||c&&d)||parseInt(t.attr("colspan"))>1)){var f=this._dataController.items(),p=n.getRowIndex(i),g=f[p],m=l&&this._isCellEditMode()&&l.isEditing(),v=l&&l.isEditRow(p),y=v||m;return a.command?this._isLegacyNavigation()?!y&&"expand"===a.command:!m&&(v?"select"!==a.command:!y):(!m||!g||"data"===g.rowType)&&(!y||a.allowEditing||e)}}},getFirstValidCellInRow:function(t,e){for(var n,i,o=t.find("> td"),r=e=e||0;r<o.length;++r)if(n=o.eq(r),this._isCellValid(n)){i=n;break}return i},_getNextCell:function(t,e,n){var i,r,a=n||this._focusedCellPosition,s=this.isRowFocusType(),l=s||(0,h.inArray)(t,["next","previous"])>-1;if(this._focusedView&&a){var u=this._getNewPositionByCode(a,e,t);i=(0,o.default)(this._getCell(u));var c="previous"===t?this._isFirstValidCell(u):this._isLastValidCell(u);if(T(i)&&!this._isCellValid(i)&&this._isCellInRow(u,l)&&!c&&(i=s?this.getFirstValidCellInRow(i.parent(),u.columnIndex):this._getNextCell(t,"cell",u)),r=T(i)&&i.parent(),this._hasSkipRow(r)){var d=this._getRowIndex(r);if(this._isLastRow(d))return null;i=this._getNextCell(t,"row",{columnIndex:a.columnIndex,rowIndex:d})}return T(i)?i:null}return null},_startEditing:function(t,e){var n=this._focusedCellPosition,i=this.getVisibleRowIndex(),o=this.getVisibleColumnIndex(),r=this._dataController.items()[i],a=this._columnsController.getVisibleColumns()[o];this._isAllowEditing(r,a)&&(this._isRowEditMode()?this._editingController.editRow(i):n&&this._startEditCell(t,e))},_isAllowEditing:function(t,e){return this._editingController.allowUpdating({row:t})&&e&&e.allowEditing},_editFocusedCell:function(){var t=this.getVisibleRowIndex(),e=this.getVisibleColumnIndex();return this._editingController.editCell(t,e)},_startEditCell:function(t,e){var n=this;this._fastEditingStarted=(0,u.isDefined)(e);var i=this._editFocusedCell();if(this._isFastEditingStarted())if(!0===i)this._editingCellHandler(t,e);else if(i&&i.done){var o="delete"!==e?e:"";i.done((function(){return n._editingCellHandler(t,o)}))}},_editingCellHandler:function(t,e){var n=this._getFocusedCell().find(".dx-texteditor-input").eq(0),i=(0,d.createEvent)(t,{type:"keydown",target:n.get(0)}),o=(0,d.createEvent)(t,{type:"keypress",target:n.get(0)}),r=(0,d.createEvent)(t,{type:"input",target:n.get(0)});if(a.default.trigger(n,i),!i.isDefaultPrevented()&&(a.default.trigger(n,o),!o.isDefaultPrevented())){var s=v.default.mozilla?25:0;setTimeout((function(){n.val(e);var t=n.closest(".".concat("dx-widget"));a.default.off(t,"focusout"),a.default.one(t,"focusout",(function(){a.default.trigger(n,"change")})),a.default.trigger(n,r)}),s)}},_fireFocusChangingEvents:function(t,e,n,i){var r={},a=this._getCellPosition(e)||{};return this.isCellFocusType()&&((r=this._fireFocusedCellChanging(t,e,i)).cancel||(a.columnIndex=r.newColumnIndex,a.rowIndex=r.newRowIndex,i=r.isHighlighted,e=(0,o.default)(this._getCell(a)))),!r.cancel&&n&&e&&((r=this._fireFocusedRowChanging(t,e.parent())).cancel||(a.rowIndex=r.newRowIndex,r.isHighlighted=i)),r.$newCellElement=(0,o.default)(this._getCell(a)),r.$newCellElement.length||(r.$newCellElement=e),r},_fireFocusedCellChanging:function(t,e,n){var i=this.option("focusedColumnIndex"),r=this.option("focusedRowIndex"),a=this._getCellPosition(e),s=a?a.columnIndex:-1,l=a?a.rowIndex:-1,u={cellElement:e,prevColumnIndex:i,prevRowIndex:r,newColumnIndex:s,newRowIndex:l,rows:this._dataController.getVisibleRows(),columns:this._columnsController.getVisibleColumns(),event:t,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",u),u.newColumnIndex===s&&u.newRowIndex===l||(u.$newCellElement=(0,o.default)(this._getCell({columnIndex:u.newColumnIndex,rowIndex:u.newRowIndex}))),u.cancel&&(this._canceledCellPosition={rowIndex:l,columnIndex:s}),u},_fireFocusedCellChanged:function(t,e,n){var i=this._dataController,o=this.getView("rowsView").getCellIndex(t),r=this._getRowIndex(t&&t.parent()),a=Math.min(r-i.getRowIndexOffset(),i.items().length-1),s=this._editingController.isEditCell(a,o),l=i.items()[a];s||e===o&&n===r||this.executeAction("onFocusedCellChanged",{cellElement:t,columnIndex:o,rowIndex:r,row:l,column:this._columnsController.getVisibleColumns()[o]})},_fireFocusedRowChanging:function(t,e){var n=this._getRowIndex(e),i=this._dataController,o=this.option("focusedRowIndex"),r=i.loadingOperationTypes(),a={rowElement:e,prevRowIndex:o,newRowIndex:n,event:t,rows:i.getVisibleRows(),cancel:!1};return!i||i.isLoading()&&(r.reload||r.paging)?(a.cancel=!0,a):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",a),a.cancel||a.newRowIndex===n||(a.resetFocusedRow=a.newRowIndex<0,a.resetFocusedRow||this.setFocusedRowIndex(a.newRowIndex),a.rowIndexChanged=!0)),a)},_fireFocusedRowChanged:function(t){var e,n=this.option("focusedRowKey"),i=this.getController("focus"),o=null===i||void 0===i?void 0:i.getFocusedRowIndexByKey(n);if(this.option("focusedRowEnabled")){if(o>=0){var r=this._dataController;e=o>=0&&r.getVisibleRows()[o-r.getRowIndexOffset()]}this.executeAction("onFocusedRowChanged",{rowElement:t,rowIndex:o,row:e})}},_isEventInCurrentGrid:function(t){return l.default.isElementInCurrentGrid(this,(0,o.default)(t.target))},_isRowEditMode:function(){var t=this._editingController.getEditMode();return"row"===t||"form"===t},_isCellEditMode:function(){var t=this._editingController.getEditMode();return"cell"===t||"batch"===t},_isFastEditingAllowed:function(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")},_getInteractiveElement:function(t,e){var n=t.find(w).filter(":visible");return e?n.last():n.first()},_applyTabIndexToElement:function(t){var e=this.option("tabIndex")||0;t.attr("tabindex",(0,u.isDefined)(e)?e:0)},_getCell:function(t){if(this._focusedView&&t){var e=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[t.columnIndex],i=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),o=t.rowIndex>=0?t.rowIndex-e:-1,r=t.columnIndex>=0?t.columnIndex-i:-1;return this._focusedView.getCell({rowIndex:o,columnIndex:r})}},_getRowIndex:function(t){var e=this.getView("rowsView").getRowIndex(t);return e>=0&&(e+=this._dataController.getRowIndexOffset()),e},_hasSkipRow:function(t){var e=t&&t.get(0);return e&&("none"===e.style.display||t.hasClass(this.addWidgetPrefix("group-footer"))||S(t)&&!t.hasClass(this.addWidgetPrefix("edit-form")))},_allowEditingOnEnterKey:function(){return"startEdit"===this.option("keyboardNavigation.enterKeyAction")},_isLegacyNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDirectionCodeByKey:function(t){var e;switch(t){case"upArrow":e="prevRow";break;case"downArrow":e="nextRow";break;case"leftArrow":e=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":e=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return e},_isVirtualScrolling:function(){var t=this.option("scrolling.mode");return"virtual"===t||"infinite"===t},_isVirtualRowRender:function(){return this._isVirtualScrolling()||"virtual"===this.option("scrolling.rowRenderingMode")},_isVirtualColumnRender:function(){return"virtual"===this.option("scrolling.columnRenderingMode")},_scrollBy:function(t,e,n,i){var o=this,r=this.getView("rowsView").getScrollable();if(o._focusedCellPosition){r.on("scroll",(function t(){r.off("scroll",t),setTimeout(o.restoreFocusableElement.bind(o,n,i))}))}return r.scrollBy({left:t,top:e})},_isInsideEditForm:function(t){return(0,o.default)(t).closest("."+this.addWidgetPrefix("edit-form")).length>0},_isMasterDetailCell:function(t){var e=(0,o.default)(t).closest(".dx-master-detail-cell"),n=e.closest("."+this.getWidgetContainerClass()).parent();return e.length&&n.is(this.component.$element())},_processNextCellInMasterDetail:function(t){!this._isInsideEditForm(t)&&t&&this._applyTabIndexToElement(t)},_handleTabKeyOnMasterDetailCell:function(t,e){if(this._isMasterDetailCell(t)){this._updateFocusedCellPosition((0,o.default)(t),e);var n=this._getNextCell(e,"row");return this._processNextCellInMasterDetail(n),!0}return!1},_getElementType:function(t){return(0,o.default)(t).is("tr")?"row":"cell"},_isFastEditingStarted:function(){return this._isFastEditingAllowed()&&this._fastEditingStarted},_getVisibleColumnCount:function(){return this._columnsController.getVisibleColumns(null,!0).length},_isCellInRow:function(t,e){var n=t.columnIndex,i=this._getVisibleColumnCount();return e?n>=0&&n<=i-1:n>0&&n<i-1},_getCellElementFromTarget:function(t){var e=this._getElementType(t),n=(0,o.default)(t);return"cell"===e?n.closest(".".concat("dx-row"," > td")):n.children().not(".dx-command-expand").first()},_getRowsViewElement:function(){var t=this.getView("rowsView");return t&&t.element()},isKeyboardEnabled:function(){return this.option("keyboardNavigation.enabled")},_processCanceledEditCellPosition:function(t,e){if(this._canceledCellPosition){var n=this._canceledCellPosition.rowIndex===t&&this._canceledCellPosition.columnIndex===e;return this._canceledCellPosition=null,n}}})},extenders:{views:{rowsView:{_rowClick:function(t){var e=this.getController("editing").getEditRowIndex(),n=this.getController("keyboardNavigation");e===t.rowIndex&&n.setCellFocusType();var i=D()&&this.option("focusedRowEnabled");i&&this._triggerPointerDownEventHandler(t),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler:function(t){var e=t.event.originalEvent;if(e){var n=this.getController("keyboardNavigation"),i=(0,o.default)(e.target),r=this.getCellIndex(i),a=this.getController("columns").getVisibleColumns()[r],s=this.getController("data").items()[t.rowIndex];if(n._isAllowEditing(s,a)){var l=(0,d.createEvent)(e,{currentTarget:e.target});n._pointerEventHandler(l)}}},renderFocusState:function(){var t=this.getController("keyboardNavigation"),e=this.element();e&&!(0,c.focused)(e)&&e.attr("tabindex",null);var n=t.getVisibleRowIndex();(!(0,u.isDefined)(n)||n<0)&&(n=0);var i=this.getCellElements(n);t.isKeyboardEnabled()&&i.length&&this.updateFocusElementTabIndex(i)},updateFocusElementTabIndex:function(t){var e=this.getController("keyboardNavigation"),n=t.eq(0).parent();if(C(n))e._applyTabIndexToElement(n);else{var i=e.getColumnIndex();(!(0,u.isDefined)(i)||i<0)&&(i=0),this._updateFocusedCellTabIndex(t,i)}},_updateFocusedCellTabIndex:function(t,e){var n=this.getController("keyboardNavigation"),i=t?t.length:-1,r=function(t){var e=n._isMasterDetailCell(t),i=n._isCellValid(t);if(!e&&i&&E(t))return n._applyTabIndexToElement(t),n.setCellFocusType(),!0},a=t.filter("[aria-colindex='".concat(e+1,"']"));if(a.length)r(a);else{i<=e&&(e=i-1);for(var s=e;s<i&&!r((0,o.default)(t[s]));++s);}},renderDelayedTemplates:function(t){this.callBase.apply(this,arguments),t&&t.repaintChangesOnly||this.renderFocusState()},_renderCore:function(t){this.callBase(t),t&&t.repaintChangesOnly||this.renderFocusState()},_editCellPrepared:function(t){var e=this._getEditorInstance(t),n=this.getController("keyboardNavigation"),i=n&&n._isFastEditingStarted();e&&i&&this._handleEditingNavigationMode(e),this.callBase.apply(this,arguments)},_handleEditingNavigationMode:function(t){["downArrow","upArrow"].forEach((function(e){var n=t._supportedKeys()[e];t.registerKeyHandler(e,(function(e){if("true"===t._input().attr("aria-expanded"))return n&&n.call(t,e)}))})),t.registerKeyHandler("leftArrow",g.noop),t.registerKeyHandler("rightArrow",g.noop),"dxDateBox"===t.NAME&&t.option("useMaskBehavior")&&t.registerKeyHandler("enter",g.noop)},_getEditorInstance:function(t){var e=t.find(".dx-texteditor").eq(0);return l.default.getWidgetInstance(e)}}},controllers:{editing:{editCell:function(t,e){var n=this.getController("keyboardNavigation");if(n._processCanceledEditCellPosition(t,e))return!1;var i=this.callBase(t,e);return i&&n.setupFocusedView(),i},editRow:function(t){var e=this.getController("keyboardNavigation"),n=e.getVisibleColumnIndex(),i=this._columnsController.getVisibleColumns()[n];(i&&i.type||"form"===this.option("editing.mode"))&&e._resetFocusedCell(),this.callBase(t)},addRow:function(t){return this.getController("keyboardNavigation").setupFocusedView(),this.callBase.apply(this,arguments)},getFocusedCellInRow:function(t){var e=this.getController("keyboardNavigation"),n=this.callBase(t);if(e.isKeyboardEnabled()&&e._focusedCellPosition.rowIndex===t){var i=e._getFocusedCell();T(i)&&!i.hasClass("dx-command-edit")&&(n=i)}return n},_processCanceledEditingCell:function(){var t=this;this.closeEditCell().done((function(){t.getController("keyboardNavigation")._updateFocus()}))},init:function(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell:function(){var t=this.getController("keyboardNavigation");t._fastEditingStarted=!1;var e=this.callBase.apply(this,arguments);return t._updateFocus(),e},_delayedInputFocus:function(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart:function(){var t=this.getController("keyboardNavigation"),e=this.callBase.apply(this,arguments);if(e&&!t._isNeedFocus){var n=t._getFocusedCell();t._focus(n,!0)}return e}},data:{_correctRowIndices:function(t){var e=this,n=e.getController("keyboardNavigation"),i=e.getController("editorFactory"),o=n._focusedCellPosition;if(e.callBase.apply(e,arguments),o&&o.rowIndex>=0){var r=t(o.rowIndex);r&&(o.rowIndex+=r,i.refocus())}}},adaptiveColumns:{_showHiddenCellsInView:function(t){var e=t.viewName,n=t.$cells,i=t.isCommandColumn;this.callBase.apply(this,arguments),"columnHeadersView"===e&&!i&&n.each((function(t,e){var n=(0,o.default)(e);M(n)&&n.attr("tabindex",0)}))},_hideVisibleCellInView:function(t){var e=t.viewName,n=t.$cell,i=t.isCommandColumn;this.callBase.apply(this,arguments),"columnHeadersView"===e&&!i&&M(n)&&n.removeAttr("tabindex")}}}}};e.default=O,t.exports=e.default},function(t,e,n){"use strict";e.FooterView=e.renderSummaryCell=void 0;var i=y(n(1)),o=n(6),r=n(2),a=n(5),s=n(3),l=n(29),u=y(n(25)),h=y(n(22)),c=y(n(18)),d=y(n(142)),f=n(125),p=y(n(514)),g=y(n(70)),m=y(n(106)),v=y(n(51));function y(t){return t&&t.__esModule?t:{default:t}}var _=function(t,e){var n=(0,i.default)(t),o=e.column,r=e.summaryItems,a=[];if(!o.command&&r){for(var s=0;s<r.length;s++){var l=r[s];a.push((0,i.default)("<div>").css("textAlign",l.alignment||o.alignment).addClass("dx-datagrid-summary-item").addClass("dx-datagrid-text-content").addClass(l.cssClass).toggleClass("dx-datagrid-group-text-content","group"===e.rowType).text(h.default.getSummaryText(l,e.summaryTexts)))}n.append(a)}};e.renderSummaryCell=_;var b=function(t,e){var n=t.option("summary.texts")||{};return{totalItem:e.row,summaryItems:e.row.summaryCells[e.columnIndex],summaryTexts:n}},x=function(t){return t.summary||t.aggregates||[]},w=function(t){return t.option("summary.recalculateWhileEditing")},C=f.ColumnsView.inherit({_getRows:function(){return this._dataController.footerItems()},_getCellOptions:function(t){return(0,s.extend)(this.callBase(t),b(this,t))},_renderCellContent:function(t,e){_(t,e),this.callBase(t,e)},_renderCore:function(t){var e=this._dataController.footerItems()[0];t&&t.columnIndices||this.element().empty().addClass("dx-datagrid-total-footer").toggleClass("dx-datagrid-nowrap",!this.option("wordWrapEnabled")),e&&e.summaryCells&&e.summaryCells.length&&this._updateContent(this._renderTable({change:t}),t)},_updateContent:function(t,e){if(!e||"update"!==e.changeType||!e.columnIndices)return this.callBase.apply(this,arguments);var n=this._getTableElement().find(".dx-row"),i=t.find(".dx-row");this._updateCells(n,i,e.columnIndices[0])},_rowClick:function(t){var e=this._dataController.footerItems()[t.rowIndex]||{};this.executeAction("onRowClick",(0,s.extend)({},t,e))},_columnOptionChanged:function(t){var e=t.optionNames;t.changeTypes.grouping||(e.width||e.visibleWidth)&&this.callBase(t)},_handleDataChanged:function(t){var e=t.changeType;"update"===t.changeType&&t.repaintChangesOnly?t.totalColumnIndices?t.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[t.totalColumnIndices]}):this.render():"refresh"!==e&&"append"!==e&&"prepend"!==e||this.render()},getHeight:function(){return this.getElementHeight()},isVisible:function(){return!!this._dataController.footerItems().length}});e.FooterView=C;var S={init:function(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=o.noop},summaryGetter:function(t){if(!arguments.length)return this._summaryGetter;(0,r.isFunction)(t)&&(this._summaryGetter=t)},summary:function(t){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return t}},totalAggregates:function(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal:function(){var t=this.summary(),e=t&&t.sortByGroups();return e&&e.length},sortLastLevelGroupItems:function(t,e,n){var i=m.default.multiLevelGroup((0,g.default)(t),e).toArray(),o=[];return n.forEach((function(t){!function t(e,n,i,o){o=o||[];for(var r=0;r<e.length;r++)o.push(e[r].key),1===n?i(o,e[r].items):t(e[r].items,n-1,i,o),o.pop()}(i,e.length,(function(e,n){t.toString()===e.toString()&&(o=o.concat(n))}))})),o}},k=function(){var t=function(t,e,n,i){var o;if(w(t)){var r=t.getController("editing");if(r){var a=r.getInsertedData();a.length&&(n=function t(e,n,i){return i?t(e,n.map((function(t){return{items:[t]}}),i-1)):e.concat(n)}(n,a,i));var l=r.getRemovedData();l.length&&(n=function t(e,n,i){return i?e.map((function(e){var o={},r=t(e.items||[],n,i-1);return Object.defineProperty(o,"aggregates",{get:function(){return e.aggregates},set:function(t){e.aggregates=t}}),(0,s.extend)(o,e,{items:r})})):e.filter((function(t){return n.indexOf(t)<0}))}(n,l,i))}}return e&&(o=new p.default({totalAggregates:e.totalAggregates,groupAggregates:e.groupAggregates,data:n,groupLevel:i})).calculate(),o?o.totalAggregates():[]},e=function(t,e,n){var i=n&&n.sortByGroups&&n.sortByGroups();return i&&i.length?function t(e,n,i){if(!e||!n.length)return e;var o,r=n[0],s=i[0];return r&&s&&s.length&&(o=(0,g.default)(e),(0,a.each)(s,(function(t){o=0===t?o.sortBy(this.selector,this.desc):o.thenBy(this.selector,this.desc)})),o.enumerate().done((function(t){e=t}))),n=n.slice(1),i=i.slice(1),n.length&&i.length&&(0,a.each)(e,(function(){this.items=t(this.items,n,i)})),e}(t,e,i):t};return{_customizeRemoteOperations:function(t){var e=this.summary();e&&(t.remoteOperations.summary?t.isCustomLoading&&!t.storeLoadOptions.isLoadingAll||(t.storeLoadOptions.group&&(t.remoteOperations.grouping?t.storeLoadOptions.groupSummary=e.groupAggregates:e.groupAggregates.length&&(t.remoteOperations.paging=!1)),t.storeLoadOptions.totalSummary=e.totalAggregates):(e.totalAggregates.length||e.groupAggregates.length&&t.storeLoadOptions.group)&&(t.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var n=t.cachedPagesData.extra;n&&n.summary&&!t.isCustomLoading&&(t.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore:function(n){var i,o=v.default.normalizeSortingInfo(n.storeLoadOptions.group||n.loadOptions.group||[]),a=n.remoteOperations||{},s=this.summaryGetter()(a);n.isCustomLoading&&!n.storeLoadOptions.isLoadingAll||(a.summary?!a.paging&&o.length&&s&&(a.grouping||t(this,{groupAggregates:s.groupAggregates},n.data,o.length),n.data=e(n.data,o,s)):a.paging||(i=t(this,s,n.data,o.length),n.data=e(n.data,o,s),n.extra=(0,r.isPlainObject)(n.extra)?n.extra:{},n.extra.summary=i)),n.isCustomLoading||(this._totalAggregates=n.extra&&n.extra.summary||this._totalAggregates),this.callBase(n)}}}();d.default.extend(S),d.default.extend(k),h.default.registerModule("summary",{defaultOptions:function(){return{summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:c.default.getFormatter("dxDataGrid-summarySum"),sumOtherColumn:c.default.getFormatter("dxDataGrid-summarySumOtherColumn"),min:c.default.getFormatter("dxDataGrid-summaryMin"),minOtherColumn:c.default.getFormatter("dxDataGrid-summaryMinOtherColumn"),max:c.default.getFormatter("dxDataGrid-summaryMax"),maxOtherColumn:c.default.getFormatter("dxDataGrid-summaryMaxOtherColumn"),avg:c.default.getFormatter("dxDataGrid-summaryAvg"),avgOtherColumn:c.default.getFormatter("dxDataGrid-summaryAvgOtherColumn"),count:c.default.getFormatter("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}},views:{footerView:C},extenders:{controllers:{data:{_isDataColumn:function(t){return t&&(!(0,r.isDefined)(t.groupIndex)||t.showWhenGrouped)},_isGroupFooterVisible:function(){for(var t=this.option("summary.groupItems")||[],e=0;e<t.length;e++){var n=t[e],i=this._columnsController.columnOption(n.showInColumn||n.column);if(n.showInGroupFooter&&this._isDataColumn(i))return!0}return!1},_processGroupItems:function(t,e,n){var i=n&&n.data,o=this.callBase.apply(this,arguments);return n&&(void 0===n.isGroupFooterVisible&&(n.isGroupFooterVisible=this._isGroupFooterVisible()),i&&i.items&&n.isGroupFooterVisible&&(n.collectContinuationItems||!i.isContinuationOnNextPage)&&o.push({rowType:"groupFooter",key:n.path.slice(),data:i,groupIndex:n.path.length-1,values:[]})),o},_processGroupItem:function(t,e){var n=this;if(e.summaryGroupItems||(e.summaryGroupItems=n.option("summary.groupItems")||[]),"group"===t.rowType){var i=-1,o=-1;(0,a.each)(e.visibleColumns,(function(n){var r=e.visibleColumns[n-1];t.groupIndex===this.groupIndex&&(i=this.index),n>0&&"expand"===r.command&&"expand"!==this.command&&(o=this.index)})),t.summaryCells=this._calculateSummaryCells(e.summaryGroupItems,x(t.data),e.visibleColumns,(function(t,e){return t.showInGroupFooter?-1:t.alignByColumn&&e&&!(0,r.isDefined)(e.groupIndex)&&e.index!==o?e.index:i}))}return"groupFooter"===t.rowType&&(t.summaryCells=this._calculateSummaryCells(e.summaryGroupItems,x(t.data),e.visibleColumns,(function(t,e){return t.showInGroupFooter&&n._isDataColumn(e)?e.index:-1}))),t},_calculateSummaryCells:function(t,e,n,i){var o=this,l=[],u={};return(0,a.each)(t,(function(t,n){var a=o._columnsController.columnOption(n.column),l=n.showInColumn&&o._columnsController.columnOption(n.showInColumn)||a,c=i(n,l);if(c>=0){u[c]||(u[c]=[]);var d,f=e[t];f===f&&((0,r.isDefined)(n.valueFormat)?d=n.valueFormat:"count"!==n.summaryType&&(d=h.default.getFormatByDataType(a&&a.dataType)),u[c].push((0,s.extend)({},n,{value:(0,r.isString)(f)&&a&&a.deserializeValue?a.deserializeValue(f):f,valueFormat:d,columnCaption:a&&a.index!==c?a.caption:void 0})))}})),(0,r.isEmptyObject)(u)||(0,a.each)(n,(function(){l.push(u[this.index]||[])})),l},_getSummaryCells:function(t,e){var n=this,i=n._columnsController;return n._calculateSummaryCells(t,e,i.getVisibleColumns(),(function(t,e){return n._isDataColumn(e)?e.index:-1}))},_updateItemsCore:function(t){var e,n=this._dataSource,i=this._footerItems,o=i&&i[0]&&i[0].summaryCells,r=this.option("summary.totalItems");if(this._footerItems=[],n&&r&&r.length){var a=n.totalAggregates();e=this._getSummaryCells(r,a),t&&t.repaintChangesOnly&&o&&(t.totalColumnIndices=e.map((function(t,e){return JSON.stringify(t)!==JSON.stringify(o[e])?e:-1})).filter((function(t){return t>=0}))),e.length&&this._footerItems.push({rowType:"totalFooter",summaryCells:e})}this.callBase(t)},_prepareUnsavedDataSelector:function(t){if(w(this)){var e=this.getController("editing");if(e)return function(n){return n=e.getUpdatedData(n),t(n)}}return t},_prepareAggregateSelector:function(t,e){return t=this._prepareUnsavedDataSelector(t),"avg"===e||"sum"===e?function(e){var n=t(e);return(0,r.isDefined)(n)?Number(n):n}:t},_getAggregates:function(t,e){var n=this,i=n.getController("columns"),o=n.option("summary.calculateCustomSummary"),s=n.option("summary.skipEmptyValues");return(0,a.map)(t||[],(function(t){var a=i.columnOption(t.column),h=a&&a.calculateCellValue?a.calculateCellValue.bind(a):(0,l.compileGetter)(a?a.dataField:t.column),c=t.summaryType||"count",d=t.column,f=(0,r.isDefined)(t.skipEmptyValues)?t.skipEmptyValues:s;if(e)return{selector:t.column,summaryType:c};if(d=n._prepareAggregateSelector(h,c),"custom"===c){o||(u.default.log("E1026"),o=function(){});var p={component:n.component,name:t.name};o(p),p.summaryProcess="calculate",c={seed:function(t){return p.summaryProcess="start",p.totalValue=void 0,p.groupIndex=t,delete p.value,o(p),p.totalValue},step:function(t,e){return p.summaryProcess="calculate",p.totalValue=t,p.value=e,o(p),p.totalValue},finalize:function(t){return p.summaryProcess="finalize",p.totalValue=t,delete p.value,o(p),p.totalValue}}}return{selector:d,aggregator:c,skipEmptyValues:f}}))},_addSortInfo:function(t,e,n,i){if(e){var o=e.groupIndex;i=i||e.sortOrder,(0,r.isDefined)(o)&&(t[o]=t[o]||[],t[o].push({selector:n,desc:"desc"===i}))}},_findSummaryItem:function(t,e){var n=-1;return(0,r.isDefined)(e)&&(0,a.each)(t||[],(function(t){if(this.name===e||t===e||this.summaryType===e||this.column===e||function(t){var e=t.summaryType,n=t.column;return e&&n&&e+"_"+n}(this)===e)return n=t,!1})),n},_getSummarySortByGroups:function(t,e){var n=this,i=n._columnsController,o=i.getGroupColumns(),s=[];if(e&&e.length)return(0,a.each)(t||[],(function(){var t=this.sortOrder,l=this.groupColumn,u=n._findSummaryItem(e,this.summaryItem);if(!(u<0)){var h=function(t){return x(t)[u]};(0,r.isDefined)(l)?(l=i.columnOption(l),n._addSortInfo(s,l,h,t)):(0,a.each)(o,(function(e,i){n._addSortInfo(s,i,h,t)}))}})),s},_createDataSourceAdapterCore:function(t,e){var n=this,i=this.callBase(t,e);return i.summaryGetter((function(t){return n._getSummaryOptions(t||e)})),i},_getSummaryOptions:function(t){var e=this,n=e.option("summary.groupItems"),i=e.option("summary.totalItems"),o=e.option("sortByGroupSummaryInfo"),r=e._getAggregates(n,t&&t.grouping&&t.summary),a=e._getAggregates(i,t&&t.summary);if(r.length||a.length)return{groupAggregates:r,totalAggregates:a,sortByGroups:function(){return e._getSummarySortByGroups(o,n)}}},publicMethods:function(){var t=this.callBase();return t.push("getTotalSummaryValue"),t},getTotalSummaryValue:function(t){var e=this._findSummaryItem(this.option("summary.totalItems"),t),n=this._dataSource.totalAggregates();if(n.length&&e>-1)return n[e]},optionChanged:function(t){"summary"!==t.name&&"sortByGroupSummaryInfo"!==t.name||(t.name="dataSource"),this.callBase(t)},init:function(){this._footerItems=[],this.callBase()},footerItems:function(){return this._footerItems}},editing:{_refreshSummary:function(){w(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addEditData:function(t){var e=this.callBase.apply(this,arguments);return t.type&&this._refreshSummary(),e},_removeEditDataItem:function(){var t=this.callBase.apply(this,arguments);return this._refreshSummary(),t},cancelEditData:function(){var t=this.callBase.apply(this,arguments);return this._refreshSummary(),t}}},views:{rowsView:{_createRow:function(t){var e=this.callBase(t);return t&&e.addClass("groupFooter"===t.rowType?"dx-datagrid-group-footer":""),e},_renderCells:function(t,e){this.callBase.apply(this,arguments),"group"===e.row.rowType&&e.row.summaryCells&&e.row.summaryCells.length&&this._renderGroupSummaryCells(t,e)},_hasAlignByColumnSummaryItems:function(t,e){return!(0,r.isDefined)(e.columns[t].groupIndex)&&e.row.summaryCells[t].length},_getAlignByColumnCellCount:function(t,e){for(var n=0,i=1;i<t;i++){var o=e.row.summaryCells.length-i;n=this._hasAlignByColumnSummaryItems(o,e)?i:n}return n},_renderGroupSummaryCells:function(t,e){var n=t.children().last(),i=Number(n.attr("colSpan"))||1,o=this._getAlignByColumnCellCount(i,e);this._renderGroupSummaryCellsCore(n,e,i,o)},_renderGroupSummaryCellsCore:function(t,e,n,i){if(i>0){t.attr("colSpan",n-i);for(var o=0;o<i;o++){var r=e.columns.length-i+o;this._renderCell(t.parent(),(0,s.extend)({column:e.columns[r],columnIndex:this._getSummaryCellIndex(r,e.columns)},e))}}},_getSummaryCellIndex:function(t){return t},_getCellTemplate:function(t){return!t.column.command&&!(0,r.isDefined)(t.column.groupIndex)&&t.summaryItems&&t.summaryItems.length?_:this.callBase(t)},_getCellOptions:function(t){var e=this.callBase(t);return t.row.summaryCells?(0,s.extend)(e,b(this,t)):e}}}}})},function(t,e,n){"use strict";e.default=void 0;var i=l(n(20)),o=n(29),r=n(2),a=l(n(69)),s=l(n(51));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,i){var o=0;if(t<e)for(;o<n.items.length;o++)u(t+1,e,n.items[o],i);t===e&&i(n)}function h(t,e){var n;if("map"in t)return t.map(e);var i=new Array(t.length);for(n in t)i[n]=e(t[n],n);return i}function c(t){var e=(0,o.compileGetter)(t.selector),n=!("skipEmptyValues"in t)||t.skipEmptyValues,i=t.aggregator;if("string"===typeof i&&!(i=s.default.aggregators[i]))throw a.default.errors.Error("E4001",t.aggregator);return{selector:e,aggregator:i,skipEmptyValues:n}}var d=i.default.inherit({ctor:function(t){this._data=t.data,this._groupLevel=t.groupLevel||0,this._totalAggregates=h(t.totalAggregates||[],c),this._groupAggregates=h(t.groupAggregates||[],c),this._totals=[]},calculate:function(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates:function(){return this._totals},_aggregate:function(t,e,n){for(var i=e.items?e.items.length:0,o=0;o<t.length;o++)if(t[o].aggregator!==s.default.aggregators.count)for(var r=0;r<i;r++)this._accumulate(o,t[o],n,e.items[r]);else n[o]=(n[o]||0)+i},_calculateTotals:function(t,e){if(0===t&&(this._totals=this._seed(this._totalAggregates)),t===this._groupLevel)this._aggregate(this._totalAggregates,e,this._totals);else for(var n=0;n<e.items.length;n++)this._calculateTotals(t+1,e.items[n]);0===t&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups:function(t){var e=this._groupLevel,n=e+1,i=this._seed.bind(this,this._groupAggregates),o=this._aggregate.bind(this,this._groupAggregates),r=this._finalize.bind(this,this._groupAggregates);function a(t){t.aggregates=i(n-1),n===e?o(t,t.aggregates):u(n,e,t,(function(e){o(e,t.aggregates)})),t.aggregates=r(t.aggregates)}for(;--n>0;)u(0,n,t,a)},_seed:function(t,e){return h(t,(function(t){var n=t.aggregator;return"seed"in n?(0,r.isFunction)(n.seed)?n.seed(e):n.seed:NaN}))},_accumulate:function(t,e,n,i){var o,r=e.selector(i),a=e.aggregator;(!e.skipEmptyValues||(o=r)===o&&""!==o&&null!==o&&void 0!==o)&&(n[t]!==n[t]?n[t]=r:n[t]=a.step(n[t],r))},_finalize:function(t,e){return h(t,(function(t,n){var i=t.aggregator.finalize;return i?i(e[n]):e[n]}))}});e.default=d,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(516));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("columnFixing",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=p(n(1)),o=p(n(7)),r=n(167),a=p(n(18)),s=p(n(31)),l=n(2),u=n(3),h=n(5),c=p(n(24)),d=n(34),f=n(41);function p(t){return t&&t.__esModule?t:{default:t}}var g=function(t){var e=-1;return(0,h.each)(t,(function(t,n){if("transparent"===n.command)return e=t,!1})),e},m=function(t,e,n){var i=0;if(t&&e&&n)for(var o=0;o<t.length;o++)"transparent"===t[o].command?i+=t[o].colspan:(e[i]<n[o]&&(e[i]=n[o]),i++);return e},v={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(t){return this.callBase(t).toggleClass("dx-col-fixed",!(!this._isFixedTableRendering||!(t.fixed||t.command&&"transparent"!==t.command)))},_correctColumnIndicesForFixedColumns:function(t,e){var n=g(t),i=t[n].colspan,o=e&&e.columnIndices;o&&(e.columnIndices=o.map((function(t){if(t)return t.map((function(t){return t<n?t:t>=n+i?t-i+1:-1})).filter((function(t){return t>=0}))})))},_renderTable:function(t){var e,n=this.getFixedColumns();this._isFixedColumns=!!n.length;var i=this.callBase(t);if(this._isFixedColumns){this._isFixedTableRendering=!0;var o=t&&t.change,r=o&&o.columnIndices;this._correctColumnIndicesForFixedColumns(n,o),e=this._createTable(n),this._renderRows(e,(0,u.extend)({},t,{columns:n})),this._updateContent(e,o),r&&(o.columnIndices=r),this._isFixedTableRendering=!1}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return i},_renderRow:function(t,e){var n,i=e.row.cells;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&i&&i.length){n=0;var o=e.row.cells||[];i=i.slice(),e.row.cells=i;for(var r=0;r<o.length;r++)o[r].column&&"transparent"===o[r].column.command?n=(o[r].column.colspan||1)-1:i[r+n]=o[r]}},_createCell:function(t){var e,n,i,o=this,r=t.column,a=r&&r.command,l=t.rowType,u=o.callBase.apply(o,arguments);(o._isFixedTableRendering||"filter"===l)&&(n=(e=o.getFixedColumns())[(i=g(e))-1]),o._isFixedTableRendering?"transparent"===a&&(u.addClass("dx-pointer-events-none").toggleClass("dx-first-cell",0===i||n&&"expand"===n.command).toggleClass("dx-last-cell",e.length&&i===e.length-1),"freeSpace"!==l&&s.default.setEmptyText(u)):"filter"===l&&u.toggleClass("dx-first-cell",t.columnIndex===i);var h=o.option("rowAlternationEnabled")&&t.isAltRow;return c.default.mozilla&&t.column.fixed&&"group"!==t.rowType&&!h&&u.addClass("dx-col-fixed"),u},_wrapTableInScrollContainer:function(){var t=this.callBase.apply(this,arguments);return this._isFixedTableRendering&&t.addClass(this.addWidgetPrefix("content-fixed")),t},_renderCellContent:function(t,e){var n,i=e.column,o=this._isFixedTableRendering,r="group"===e.rowType&&(0,l.isDefined)(i.groupIndex);if(o&&r&&!i.command&&!i.groupCellTemplate&&t.css("pointerEvents","none"),!o&&this._isFixedColumns){if(n=i.fixed||i.command&&!1!==i.fixed,r&&(n=!1,e.row.summaryCells&&e.row.summaryCells.length)){var a=this._columnsController.getVisibleColumns(),s=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(i.colspan,{columns:a,row:e.row,isFixed:!0}):0;if(s>0){var u=g(this._columnsController.getFixedColumns());n=a.length-s<u}}if(n){if(this.option("legacyRendering")||i.command&&"buttons"!==i.type||"group"===e.rowType)return void t.html("&nbsp;").addClass(i.cssClass);t.addClass("dx-hidden-cell")}}"transparent"!==i.command&&this.callBase(t,e)},_getCellElementsCore:function(t){var e=this,n=e.callBase(t),i=n.parent().hasClass("dx-group-row"),o="columnHeadersView"===e.name?t:void 0;if(e._fixedTableElement&&n){var r=e.getFixedColumns(o),a=e._getRowElements(e._fixedTableElement).eq(t).children("td");(0,h.each)(a,(function(t,s){if(i)n[t]&&"hidden"!==s.style.visibility&&(n[t]=s);else{var l=r[t];if(l)if("transparent"===l.command)a.eq(t).hasClass("dx-master-detail-cell")&&(n[t]=s||n[t]);else{var u=e._columnsController.getVisibleIndex(l.index,o);n[u]=s||n[u]}}}))}return n},getColumnWidths:function(){var t,e=this.callBase(),n=this.getFixedColumns();return this._fixedTableElement&&e.length&&(t=this.callBase(this._fixedTableElement)),m(n,e,t)},_getTableElement:function(){return this._isFixedTableRendering?this._fixedTableElement:this.callBase()},_setTableElement:function(t){this._isFixedTableRendering?this._fixedTableElement=t.addClass("dx-pointer-events-none"):this.callBase(t)},getColumns:function(t,e){return e=e||this._getTableElement(),this._isFixedTableRendering||e&&e.closest("table").parent("."+this.addWidgetPrefix("content-fixed")).length?this.getFixedColumns(t):this.callBase(t,e)},getRowIndex:function(t){var e=this._fixedTableElement;return e&&e.find(t).length?this._getRowElements(e).index(t):this.callBase(t)},getTableElements:function(){var t=this.callBase.apply(this,arguments);return this._fixedTableElement&&(t=(0,i.default)([t.get(0),this._fixedTableElement.get(0)])),t},getFixedColumns:function(t){return this._columnsController.getFixedColumns(t)},getFixedColumnsOffset:function(){var t,e={left:0,right:0};if(this._fixedTableElement){var n=(t=this.getTransparentColumnElement()).position();e={left:n.left,right:this.element().outerWidth(!0)-(t.outerWidth(!0)+n.left)}}return e},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find(".dx-pointer-events-none").first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(t){var e,n=this._columnsController.getVisibleColumns(),i=t.widths,o=i&&i.length&&(0,l.isDefined)(n[0].visibleWidth),r=t.optionNames,a=r&&r.width,s=!1;if(this.callBase.apply(this,arguments),this._fixedTableElement){if(this.option("legacyRendering"))s=i&&i.length&&!this.isScrollbarVisible(!0);else{var h=i&&i.some((function(t){return"auto"===t}));s=h&&(!o||!this.isScrollbarVisible(!0))}s&&(e=n),this.callBase((0,u.extend)({},t,{$tableElement:this._fixedTableElement,columns:e,fixed:!0}))}(o||a&&this.option("wordWrapEnabled"))&&this.synchronizeRows()},_createColGroup:function(t){if(!this.option("legacyRendering")&&this._isFixedTableRendering&&!this.option("columnAutoWidth")){var e=this._columnsController.getVisibleColumns();e.filter((function(t){return!t.width})).length&&(t=e)}return this.callBase(t)},_getClientHeight:function(t){var e=t.getBoundingClientRect&&(0,d.getBoundingRect)(t);return e&&e.height?e.height:t.clientHeight},synchronizeRows:function(){var t,e,n,i,o=[],r=[];if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var a=this._getClientHeight(this._tableElement.get(0)),s=this._getClientHeight(this._fixedTableElement.get(0));if(e=this._getRowElements(this._tableElement),n=this._getRowElements(this._fixedTableElement),i=this._findContentElement(),a!==s){for(i&&i.css("height",a),e.css("height",""),n.css("height",""),t=0;t<e.length;t++)o.push(this._getClientHeight(e.get(t))),r.push(this._getClientHeight(n.get(t)));for(t=0;t<e.length;t++){var l=o[t],u=r[t];l>u?n.eq(t).css("height",l):l<u&&e.eq(t).css("height",u)}i&&i.css("height","")}}},setScrollerSpacing:function(t){var e=this.option("rtlEnabled");this.callBase(t),this.element().children("."+this.addWidgetPrefix("content-fixed")).css({paddingLeft:e?t:"",paddingRight:e?"":t})}},y={defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:a.default.format("dxDataGrid-columnFixingFix"),unfix:a.default.format("dxDataGrid-columnFixingUnfix"),leftPosition:a.default.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:a.default.format("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:(0,u.extend)({},v,{_getRowVisibleColumns:function(t){return this._isFixedTableRendering?this.getFixedColumns(t):this.callBase(t)},getContextMenuItems:function(t){var e=this,n=t.column,i=e.option("columnFixing"),o=e.callBase(t);if(t.row&&"header"===t.row.rowType&&n&&n.allowFixing){var r=function(t){switch(t.itemData.value){case"none":e._columnsController.columnOption(n.index,"fixed",!1);break;case"left":e._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"left"});break;case"right":e._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"right"})}};(o=o||[]).push({text:i.texts.fix,beginGroup:!0,items:[{text:i.texts.leftPosition,value:"left",disabled:n.fixed&&(!n.fixedPosition||"left"===n.fixedPosition),onItemClick:r},{text:i.texts.rightPosition,value:"right",disabled:n.fixed&&"right"===n.fixedPosition,onItemClick:r}]},{text:i.texts.unfix,value:"none",disabled:!n.fixed,onItemClick:r})}return o},getFixedColumnElements:function(t){if((0,l.isDefined)(t))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(t).children();var e=this.getColumnElements(),n=this.getTransparentColumnElement();if(e&&n&&n.length){var i=g(this.getFixedColumns());e.splice(i,n.get(0).colSpan,n.get(0))}return e},getColumnWidths:function(){var t,e=this.callBase(),n=this.getFixedColumnElements(),i=this.getFixedColumns();return this._fixedTableElement&&(t=n&&n.length?this._getWidths(n):this.callBase(this._fixedTableElement)),m(i,e,t)}}),rowsView:(0,u.extend)({},v,{_detachHoverEvents:function(){this._fixedTableElement&&o.default.off(this._fixedTableElement,"mouseover mouseout",".dx-data-row"),this._tableElement&&o.default.off(this._tableElement,"mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var t=this,e=function(e){o.default.on(e,"mouseover mouseout",".dx-data-row",t.createAction((function(e){var n=e.event,o=t.getRowIndex((0,i.default)(n.target).closest(".dx-row")),r="mouseover"===n.type;o>=0&&(t._tableElement&&t._getRowElements(t._tableElement).eq(o).toggleClass("dx-state-hover",r),t._fixedTableElement&&t._getRowElements(t._fixedTableElement).eq(o).toggleClass("dx-state-hover",r))})))};t._fixedTableElement&&t._tableElement&&(e(t._fixedTableElement),e(t._tableElement))},_findContentElement:function(){var t,e,n=this,a=n.addWidgetPrefix("content"),s=n.element(),l=c.default.mozilla?60:0;if(s&&n._isFixedTableRendering){t=s.children("."+a);var u=n.getScrollable();return!t.length&&u&&(t=(0,i.default)("<div>").addClass(a),o.default.on(t,"scroll",(function(t){clearTimeout(n._fixedScrollTimeout),n._fixedScrollTimeout=setTimeout((function(){e=(0,i.default)(t.target).scrollTop(),u.scrollTo({y:e})}),l)})),o.default.on(t,r.name,(function(t){var o=(0,i.default)(t.target).closest(".dx-scrollable");if(u&&u.$element().is(o)&&(e=u.scrollTop(),u.scrollTo({y:e-t.delta}),u.scrollTop()>0&&u.scrollTop()+u.clientHeight()<u.scrollHeight()+n.getScrollbarWidth()))return!1})),t.appendTo(s)),t}return n.callBase()},_updateScrollable:function(){this.callBase();var t=this.getScrollable(),e=t&&t.scrollOffset().top;this._updateFixedTablePosition(e)},_renderContent:function(t,e){return this._isFixedTableRendering?t.empty().addClass(this.addWidgetPrefix("content")+" "+this.addWidgetPrefix("content-fixed")).append(e):this.callBase(t,e)},_getGroupCellOptions:function(t){return this._isFixedTableRendering?this.callBase((0,u.extend)({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t)},_renderGroupedCells:function(t,e){return this.callBase(t,(0,u.extend)({},e,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells:function(t,e){this._isFixedTableRendering?this.callBase(t,(0,u.extend)({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t,e)},_hasAlignByColumnSummaryItems:function(t,e){var n=this.callBase.apply(this,arguments),i=e.columns[t];return e.isFixed?i.fixed&&(n||"right"===i.fixedPosition):n&&!i.fixed},_renderGroupSummaryCellsCore:function(t,e,n,i){var o;if(this._isFixedTableRendering){e.isFixed=!0,o=this._getAlignByColumnCellCount(n,e),e.isFixed=!1;var r=e.columns.length-o;e=(0,u.extend)({},e,{columns:this.getFixedColumns()});var a=g(e.columns);r<a?(o-=e.columns[a].colspan-1||0,n-=e.columns[a].colspan-1||0):i>0&&t.css("visibility","hidden"),i=o}this.callBase(t,e,n,i)},_getSummaryCellIndex:function(t,e){if(this._isFixedTableRendering){var n=g(e);return t>n&&(t+=e[n].colspan-1),t}return this.callBase.apply(this,arguments)},_renderCore:function(t){this._detachHoverEvents(),this.callBase(t);var e=this._isFixedColumns;this.element().toggleClass("dx-fixed-columns",e),this.option("hoverStateEnabled")&&e&&this._attachHoverEvents()},setRowsOpacity:function(t,e){this.callBase(t,e);var n=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(n,this.getFixedColumns(),t,e)},optionChanged:function(t){this.callBase(t),"hoverStateEnabled"===t.name&&this._isFixedColumns&&(t.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(t){var e=this._fixedTableElement,n=0;if(e&&t.is("td")&&t.closest(e).length){var i=this.getFixedColumns();return(0,h.each)(i,(function(e,i){if(e===t[0].cellIndex)return!1;i.colspan?n+=i.colspan:n++})),n}return this.callBase.apply(this,arguments)},_updateFixedTablePosition:function(t,e){if(this._fixedTableElement&&this._tableElement){var n,i=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(t),e&&i&&(n=i.focus())&&i.focus(n)}},setScrollerSpacing:function(t,e){var n={marginBottom:0},i=this.element().children("."+this.addWidgetPrefix("content-fixed"));i.length&&this._fixedTableElement&&(i.css(n),this._fixedTableElement.css(n),n[this.option("rtlEnabled")?"marginLeft":"marginRight"]=t,n.marginBottom=e,(this._scrollable&&this._scrollable.option("useNative")?i:this._fixedTableElement).css(n))},_getElasticScrollTop:function(t){var e=0,n=this.getScrollbarWidth(!0);if(t.scrollOffset.top<0)e=-t.scrollOffset.top;else if(t.reachedBottom){var i=this._findContentElement(),o=t.component._container();e=Math.max(i.height()+n-o.height(),0)-t.scrollOffset.top}return e},_applyElasticScrolling:function(t){if(this._fixedTableElement){var e=this._getElasticScrollTop(t);0!==Math.ceil(e)?(0,f.move)(this._fixedTableElement,{top:e}):this._fixedTableElement.css("transform","")}},_handleScroll:function(t){this._updateFixedTablePosition(t.scrollOffset.top,!0),this._applyElasticScrolling(t),this.callBase(t)},_updateContentPosition:function(t){this.callBase.apply(this,arguments),t||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared:function(t){this._isFixedTableRendering||this.callBase(t)},_scrollToElement:function(t){this.callBase(t,this.getFixedColumnsOffset())},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),footerView:v},controllers:function(){var t=function(t,e,n){var i=g(e),o=t.length-e.length;return(0,h.each)(n,(function(t,e){e.index>i&&(e.columnIndex+=o,e.index+=o)})),n};return{draggingHeader:{_generatePointsByColumns:function(e){var n=e.columns,i=e.targetDraggingPanel;if(i&&"headers"===i.getName()&&i.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=i.getFixedColumnElements(0)),e.columns=i.getFixedColumns(e.rowIndex);var o=this.callBase(e);return t(n,e.columns,o),o}return this.callBase(e)},_pointCreated:function(t,e,n,i){var o=this.callBase.apply(this,arguments),r=this._columnHeadersView.getTransparentColumnElement();if(!o&&"headers"===n&&r&&r.length){var a=(0,d.getBoundingRect)(r.get(0));return i&&i.fixed?"right"===i.fixedPosition?t.x<a.right:t.x>a.left:t.x<a.left||t.x>a.right}return o}},columnsResizer:{_generatePointsByColumns:function(){var e=this,n=e._columnsController,i=n&&e._columnsController.getVisibleColumns(),o=n&&e._columnsController.getFixedColumns(),r=e._columnHeadersView.getFixedColumnElements(),a=[];e.callBase(),r&&r.length>0&&(a=s.default.getPointsByColumns(r,(function(t){return e._pointCreated(t,r.length,o)})),e._pointsByFixedColumns=t(i,o,a))},_pointCreated:function(t,e,n){var i="widget"===this.option("columnResizingMode");if(t.index>0&&t.index<e){var o=n[t.columnIndex-1]||{},r=n[t.columnIndex]||{};if(o.fixed||r.fixed)return t.columnIndex-=1,!((o.allowResizing||"transparent"===o.command)&&(i||r.allowResizing||"transparent"===r.command))}return this.callBase.apply(this,arguments)},_getTargetPoint:function(t,e,n){var i=this._columnHeadersView.getTransparentColumnElement();if(i&&i.length){var o=(0,d.getBoundingRect)(i.get(0));if(e<=o.left||e>=o.right)return this.callBase(this._pointsByFixedColumns,e,n)}return this.callBase(t,e,n)}}}}()}};e.default=y,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(518));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("adaptivity",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=_(n(1)),o=_(n(7)),r=n(13),a=n(30),s=n(2),l=_(n(24)),u=_(n(50)),h=_(n(35)),c=_(n(252)),d=_(n(31)),f=n(48),p=n(14),g=n(6),m=n(5),v=n(3),y=n(8);function _(t){return t&&t.__esModule?t:{default:t}}var b=["columnHeadersView","rowsView","footerView"];function x(t,e){return t._columnsController.getColumnId(e)}function w(t){return t.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function C(t,e){var n,s=(0,i.default)(t),l=e.component.getController("adaptiveColumns");"data"===e.rowType?(n=(0,i.default)("<span>").addClass(l.addWidgetPrefix("adaptive-more")),o.default.on(n,(0,r.addNamespace)(a.name,"dxDataGridAdaptivity"),l.createAction((function(){l.toggleExpandAdaptiveDetailRow(e.key)}))),n.appendTo(s)):d.default.setEmptyText(s)}var S={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:h.default.ViewController.inherit({_isRowEditMode:function(){return"row"===this._getEditMode()},_isItemModified:function(t,e){var n=this._columnsController.getVisibleIndex(t.column.index),i=this._dataController.getRowIndexByKey(e.key),o=this._dataController.items()[i+1];return o&&o.modifiedValues&&(0,s.isDefined)(o.modifiedValues[n])},_renderFormViewTemplate:function(t,e,n){var i=t.column,r=this.createAction((function(){o.default.trigger(n,a.name)})),l=i.calculateCellValue(e.data),u=d.default.getDisplayValue(i,l,e.data,e.rowType),h=d.default.formatValue(u,i),c=this._editingController.isCellOrBatchEditMode(),f=this._rowsView;if(i.allowEditing&&this.getController("keyboardNavigation").isKeyboardEnabled()&&(n.attr("tabIndex",this.option("tabIndex")),c&&(o.default.off(n,"focus",r),o.default.on(n,"focus",r))),i.cellTemplate){var g=(0,v.extend)({},e,{value:l,displayValue:u,text:h,column:i}),m=!!n.closest((0,p.getWindow)().document).length;f.renderTemplate(n,i.cellTemplate,g,m).done((function(){f._cellPrepared(n,e)}))}else{var y=n.get(0);i.encodeHtml?y.textContent=h:y.innerHTML=h,n.addClass("dx-adaptive-item-text"),(0,s.isDefined)(h)&&""!==h||n.html("&nbsp;"),this._isRowEditMode()||this._isItemModified(t,e)&&n.addClass("dx-item-modified"),f._cellPrepared(n,e)}},_getTemplate:function(t,e){var n=this,o=t.column,r=this.getController("editing");return function(a,s){var l=(0,i.default)(s),u=n._columnsController.getVisibleIndex(o.visibleIndex),h=(0,v.extend)({},e),c=function(){var i=n._isItemEdited(t);h.value=e.row.values[u],i||o.showEditorAlways?r.renderFormEditTemplate(h,t,a.component,l,!i):(h.column=o,h.columnIndex=u,n._renderFormViewTemplate(t,h,l))};c(),h.watch&&h.watch((function(){return{isItemEdited:n._isItemEdited(t),value:e.row.values[u]}}),(function(){l.contents().remove(),l.removeClass("dx-adaptive-item-text"),c()}))}},_isVisibleColumnsValid:function(t){return!(t<2)&&!(t.length-function(){for(var e=0,n=0;n<t.length;n++){t[n].command&&e++}return e}()<=1)},_calculatePercentWidths:function(t,e){var n=this,i=0;return e.forEach((function(e,o){"adaptiveHidden"!==t[o]&&(i+=n._getItemPercentWidth(e))})),i},_isPercentWidth:function(t){return(0,s.isString)(t)&&"%"===t.slice(-1)},_isColumnHidden:function(t){return this._hiddenColumns.filter((function(e){return e.index===t.index})).length>0},_getAverageColumnsWidth:function(t,e,n){var i=this,o=0,r=0;return e.forEach((function(a){if(!i._isColumnHidden(a)){var l=a.width;(0,s.isDefined)(l)&&!isNaN(parseFloat(l))?o+=i._isPercentWidth(l)?i._calculatePercentWidth({visibleIndex:a.visibleIndex,columnsCount:e.length,columnsCanFit:n,bestFitWidth:a.bestFitWidth,columnWidth:l,containerWidth:t}):parseFloat(l):r++}})),(t-o)/r},_calculateColumnWidth:function(t,e,n,i){var o,r=x(this,t),a=this._columnsController.columnOption(r,"width"),s=this._columnsController.columnOption(r,"bestFitWidth"),l=n.length;if(a&&"auto"!==a){if(!this._isPercentWidth(a))return a;o=this._calculatePercentWidth({visibleIndex:t.visibleIndex,columnsCount:l,columnsCanFit:i,bestFitWidth:s,columnWidth:a,containerWidth:e})}else{o=this.option("columnAutoWidth")||t.command?s:this._getAverageColumnsWidth(e,n,i)}return o},_calculatePercentWidth:function(t){var e=t.visibleIndex<t.columnsCount-1&&t.columnsCanFit,n=t.containerWidth*parseFloat(t.columnWidth)/100,i=t.columnsCanFit&&n<t.bestFitWidth?t.bestFitWidth:n;return e?t.containerWidth*parseFloat(t.columnWidth)/100:i},_getNotTruncatedColumnWidth:function(t,e,n,i){var o=x(this,t),r=this._columnsController.columnOption(o,"width"),a=this._columnsController.columnOption(o,"bestFitWidth");if(r&&"auto"!==r&&!this._isPercentWidth(r))return parseFloat(r);var s=this._calculateColumnWidth(t,e,n,i);return s<a?null:s},_getItemPercentWidth:function(t){var e=0;return t.width&&this._isPercentWidth(t.width)&&(e=parseFloat(t.width)),e},_getCommandColumnsWidth:function(){var t=this,e=t._columnsController.getVisibleColumns(),n=0;return(0,m.each)(e,(function(e,i){(i.index<0||i.command)&&(n+=t._columnsController.columnOption(x(t,i),"bestFitWidth")||0)})),n},_isItemEdited:function(t){if(this.isFormEditMode())return!1;if(!this._isRowEditMode()){var e=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=this._columnsController.getVisibleIndex(t.column.index);return this._editingController.isEditCell(e,n)}var i=this.option("editing.editRowKey");return!!(0,g.equalByValue)(i,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns:function(t){var e=[];return(0,m.each)(t,(function(t,n){e.push({column:n,name:n.name,dataField:n.dataField,visibleIndex:n.visibleIndex})})),e},_getAdaptiveColumnVisibleIndex:function(t){for(var e=0;e<t.length;e++){if("adaptive"===t[e].command)return e}},_hideAdaptiveColumn:function(t,e){var n=this._getAdaptiveColumnVisibleIndex(e);(0,s.isDefined)(n)&&(t[n]="adaptiveHidden",this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))},_showHiddenCellsInView:function(t){var e=t.$cells,n=t.isCommandColumn?"dx-command-adaptive-hidden":this.addWidgetPrefix("hidden-column");e.removeClass(n)},_showHiddenColumns:function(){for(var t=0;t<b.length;t++){var e=this.getView(b[t]);if(e&&e.isVisible()&&e.element()){var n=e.name,i=e.element().find(".dx-command-adaptive-hidden");this._showHiddenCellsInView({viewName:n,$cells:i,isCommandColumn:!0});var o=e.element().find("."+this.addWidgetPrefix("hidden-column"));this._showHiddenCellsInView({viewName:n,$cells:o})}}},_isCellValid:function(t){return t&&t.length&&!t.hasClass("dx-master-detail-cell")&&!t.hasClass("dx-group-cell")},_hideVisibleColumn:function(t){var e=t.isCommandColumn,n=t.visibleIndex,i=this;b.forEach((function(t){var o=i.getView(t);o&&i._hideVisibleColumnInView({view:o,isCommandColumn:e,visibleIndex:n})}))},_hideVisibleColumnInView:function(t){var e,n=t.view,i=t.isCommandColumn,o=t.visibleIndex,r=n.name,a=this._columnsController.getVisibleColumns()[o],s=this._editingController&&this._editingController.getEditFormRowIndex();if(n&&n.isVisible()&&a)for(var l=n.getRowsCount(),u=n._getRowElements(),h=0;h<l;h++){if(!(h===s&&"rowsView"===r&&"popup"!==this.option("editing.mode"))){var c="columnHeadersView"===r?this._columnsController.getVisibleIndex(a.index,h):o;if(c>=0){var d=u.eq(h);e=this._findCellElementInRow(d,c),this._isCellValid(e)&&this._hideVisibleCellInView({viewName:r,isCommandColumn:i,$cell:e})}}}},_findCellElementInRow:function(t,e){var n=t.children(),i=e,o=!1;if(t.hasClass("dx-group-row")){var r=t.find(".".concat("dx-group-cell")),a=r.attr("colspan");if(r.length&&(0,s.isDefined)(a)){var l=parseInt(a);e>r.index()+l-1?i=e-l+1:o=!0}}return o?void 0:n.eq(i)},_hideVisibleCellInView:function(t){var e=t.$cell,n=t.isCommandColumn?"dx-command-adaptive-hidden":this.addWidgetPrefix("hidden-column");e.addClass(n)},_getEditMode:function(){return this._editingController.getEditMode()},isFormEditMode:function(){var t=this._getEditMode();return"form"===t||"popup"===t},hideRedundantColumns:function(t,e,n){if(this._hiddenColumns=[],this._isVisibleColumnsValid(e)&&n.length){var i,o,r,a=0,s=this.component.$element(),l=s.width()-this._getCommandColumnsWidth(),u=function(){var t=this;return e.filter((function(e){return!e.command&&0===t._hiddenColumns.filter((function(t){return t.index===e.index})).length}))}.bind(this),h=u(),c=h.length;do{r=!1,a=0;var d=this._calculatePercentWidths(t,e),f=d<100&&0!==d;for(i=0;i<e.length;i++){var p=e[i],g=this._getNotTruncatedColumnWidth(p,l,h,f),m=x(this,p),v=this._columnsController.columnOption(m,"width"),y=this._columnsController.columnOption(m,"minWidth"),_=this._columnsController.columnOption(m,"bestFitWidth");if("adaptiveHidden"!==t[i]){if(!g&&!p.command&&!p.fixed){r=!0;break}v&&"auto"!==v||(g=Math.max(_||0,y||0)),("adaptive"!==p.command||o)&&(a+=g)}else o=!0}if(r=r||a>s.width()){var b=n.pop(),w=this._columnsController.getVisibleIndex(b.index);l+=this._calculateColumnWidth(b,l,h,f),this._hideVisibleColumn({visibleIndex:w}),t[w]="adaptiveHidden",this._hiddenColumns.push(b),h=u()}}while(r&&h.length>1&&n.length);c===h.length&&this._hideAdaptiveColumn(t,e)}else this._hideAdaptiveColumn(t,e)},getItemContentByColumnIndex:function(t){for(var e,n=0;n<this._$itemContents.length;n++){var i=(e=this._$itemContents.eq(n)).data("dx-form-item");if(i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)===t)return e}},toggleExpandAdaptiveDetailRow:function(t,e){this.isFormEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(t,e)},createFormByHiddenColumns:function(t,e){var n=this,o=(0,i.default)(t),r={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-"+new u.default},a=(0,f.isMaterial)()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:r}),n._$itemContents=null,n._form=n._createComponent((0,i.default)("<div>").appendTo(o),c.default,(0,v.extend)(a,r,{customizeItem:function(t){var i=t.column||n._columnsController.columnOption(t.name||t.dataField);i&&(t.label=t.label||{},t.label.text=t.label.text||i.caption,t.column=i,t.template=n._getTemplate(t,e,n.updateForm.bind(n))),r.customizeItem&&r.customizeItem.call(this,t)},onContentReady:function(t){r.onContentReady&&r.onContentReady.call(this,t),n._$itemContents=o.find(".dx-field-item-content")}}))},hasAdaptiveDetailRowExpanded:function(){return(0,s.isDefined)(this._dataController.adaptiveExpandedKey())},updateForm:function(t){this.hasAdaptiveDetailRowExpanded()&&this._form&&(0,s.isDefined)(this._form._contentReadyAction)&&(t&&t.length?this._form.option("items",this._getFormItemsByHiddenColumns(t)):this._form.repaint())},updateHidingQueue:function(t){var e,n,i=t.filter((function(t){return t.visible&&!t.type&&!t.fixed&&!((0,s.isDefined)(t.groupIndex)&&t.groupIndex>=0)}));if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&"widget"===this.option("columnResizingMode"))return this._hidingColumnsQueue;for(n=0;n<i.length;n++)(0,s.isDefined)(i[n].hidingPriority)&&i[n].hidingPriority>=0&&(e=!0,this._hidingColumnsQueue[i[n].hidingPriority]=i[n]);if(e)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(n=0;n<i.length;n++){var o=this._columnsController.getVisibleIndex(i[n].index);this._hidingColumnsQueue[o]=i[n]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var t=this;t._columnsController=t.getController("columns"),t._dataController=t.getController("data"),t._rowsView=t.getView("rowsView"),t._columnsController.addCommandColumn({type:"adaptive",command:"adaptive",visible:!0,adaptiveHidden:!0,cssClass:"dx-command-adaptive",alignment:"center",width:"auto",cellTemplate:C,fixedPosition:"right"}),t._columnsController.columnsChanged.add((function(){var e=!!t.updateHidingQueue(t._columnsController.getColumns()).length;t._columnsController.columnOption("command:adaptive","adaptiveHidden",!e,!0)})),t._editingController=t.getController("editing"),t._hidingColumnsQueue=[],t._hiddenColumns=[],t.createAction("onAdaptiveDetailRowPreparing"),t.callBase()},optionChanged:function(t){"columnHidingEnabled"===t.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!t.value),this.callBase(t)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(t){return this._dataController.adaptiveExpandedKey()&&(0,g.equalByValue)(this._dataController.adaptiveExpandedKey(),t)},expandAdaptiveDetailRow:function(t){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(t)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}})},extenders:{views:{rowsView:{_getCellTemplate:function(t){var e=this,n=t.column;return"detailAdaptive"===t.rowType&&"detail"===n.command?function(t,n){e._adaptiveColumnsController.createFormByHiddenColumns((0,i.default)(t),n)}:e.callBase(t)},_createRow:function(t){var e=this.callBase(t);return t&&"detailAdaptive"===t.rowType&&t.key===this._dataController.adaptiveExpandedKey()&&e.addClass("dx-adaptive-detail-row"),e},_renderCells:function(t,e){this.callBase(t,e);var n=this._adaptiveColumnsController.getHidingColumnsQueue().length,i=this._adaptiveColumnsController.getHiddenColumns().length;n&&!i&&w(t).last().addClass("dx-last-data-cell")},_getColumnIndexByElementCore:function(t){var e=t.closest(".dx-field-item-content");if(e.length&&e.closest(this.component.$element()).length){var n=e.length?e.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return this.callBase(t)},_cellPrepared:function(t,e){this.callBase.apply(this,arguments),"detailAdaptive"!==e.row.rowType&&"adaptiveHidden"===e.column.visibleWidth&&t.addClass(this.addWidgetPrefix("hidden-column"))},_getCellElement:function(t,e){var n=this._dataController.items()[t];return n&&"detailAdaptive"===n.rowType?this._adaptiveColumnsController.getItemContentByColumnIndex(e):this.callBase(t,e)},getContextMenuItems:function(t){if(t.row&&"detailAdaptive"===t.row.rowType){var e=this.component.getView("columnHeadersView"),n=(0,i.default)(t.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return t.column=n?n.column:t.column,e.getContextMenuItems&&e.getContextMenuItems(t)}return this.callBase&&this.callBase(t)},isClickableElement:function(t){return!!this.callBase&&this.callBase(t)||!!t.closest(".dx-command-adaptive").length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(t,e){this.callBase(t,"adaptiveHidden"===t.visibleWidth?t.bestFitWidth:e)}},columnsResizer:{_pointCreated:function(t,e,n){var i=this.callBase(t,e,n),o=n[t.columnIndex]||{},r=this._getNextColumnIndex(t.columnIndex),a=n[r]||{},s=r!==t.columnIndex+1&&a.command,l="adaptiveHidden"===o.visibleWidth||s;return i||l},_getNextColumnIndex:function(t){for(var e=this._columnsController.getVisibleColumns(),n=this.callBase(t);e[n]&&"adaptiveHidden"===e[n].visibleWidth;)n++;return n}},draggingHeader:{_pointCreated:function(t,e,n,i){var o=this.callBase(t,e,n,i),r="adaptiveHidden"===(e[t.columnIndex-1]||{}).visibleWidth;return o||r}},editing:{_isRowEditMode:function(){return"row"===this.getEditMode()},_getFormEditItemTemplate:function(t,e){return"row"!==this.getEditMode()&&"detailAdaptive"===t.rowType?(t.columnIndex=this._columnsController.getVisibleIndex(e.index),this.getColumnTemplate(t)):this.callBase(t,e)},_closeEditItem:function(t){var e=t.closest(".dx-field-item-content"),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=e.length?e.first().data("dx-form-item"):null,o=i&&i.column&&this._columnsController.getVisibleIndex(i.column.index);this.isEditCell(n,o)||this.callBase(t)},_beforeUpdateItems:function(t,e){if(!this._adaptiveController.isFormEditMode()&&this._adaptiveController.hasHiddenColumns()){var n=this._dataController.items(),i=n[e],o=d.default.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),o>=0&&t.push(o+1),t.push(e+1),this._dataController.adaptiveExpandedKey(i.key)}},_afterInsertRow:function(t){this.callBase(t),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(t.key,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){var t=this;this.callBase.apply(this,arguments);var e=new y.Deferred;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?(0,y.when)(this.getController("validating").validate(!0)).done((function(n){n&&t._cancelEditAdaptiveDetailRow(),e.resolve()})):e.resolve(),e.promise()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(t){var e=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(t.key)&&e.push("detailAdaptive"===t.rowType?t.rowIndex-1:t.rowIndex+1),e},_beforeCloseEditCellInBatchMode:function(t){var e=this._dataController._adaptiveExpandedKey;if(e){var n=d.default.getIndexByKey(e,this._dataController.items());n>-1&&t.unshift(n)}},editRow:function(t){this._adaptiveController.isFormEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(t)},deleteRow:function(t){var e=this._dataController.getKeyByRowIndex(t);"batch"===this.getEditMode()&&this._adaptiveController.isAdaptiveDetailRowExpanded(e)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(t)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_updateScrollableForIE:function(){var t=this;l.default.msie&&parseInt(l.default.version)<=11&&(this._updateScrollableTimeoutID=setTimeout((function(){t.getView("rowsView")._updateScrollable()})))},_correctColumnWidths:function(t,e){var n=this._adaptiveColumnsController,i=this.option("columnAutoWidth"),o=n.getHiddenColumns(),r=n.updateHidingQueue(this._columnsController.getColumns());n.hideRedundantColumns(t,e,r);var a=n.getHiddenColumns();return n.hasAdaptiveDetailRowExpanded()&&o.length!==a.length&&n.updateForm(a),!a.length&&n.collapseAdaptiveDetailRow(),i&&r.length&&!a.length&&this._updateScrollableForIE(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(t){t&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(t)},_needStretch:function(){var t=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||t.getHidingColumnsQueue().length||t.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems:function(t,e){var n=this,i=e.changeType;if(t=n.callBase.apply(n,arguments),"loadingAll"===i||!(0,s.isDefined)(n._adaptiveExpandedKey))return t;var o=d.default.getIndexByKey(n._adaptiveExpandedKey,t);if(o>=0){var r=t[o];t.splice(o+1,0,{visible:!0,rowType:"detailAdaptive",key:r.key,data:r.data,node:r.node,modifiedValues:r.modifiedValues,isNewRow:r.isNewRow,values:r.values})}else"refresh"===i&&(n._adaptiveExpandedKey=void 0);return t},_getRowIndicesForExpand:function(t){var e=this.callBase.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(t)){var n=e[e.length-1];e.push(n+1)}return e},adaptiveExpandedKey:function(t){if(!(0,s.isDefined)(t))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=t},toggleExpandAdaptiveDetailRow:function(t,e){var n=d.default.getIndexByKey(this._adaptiveExpandedKey,this._items),i=d.default.getIndexByKey(t,this._items);n>=0&&n===i&&!e&&(t=void 0,i=-1),this._adaptiveExpandedKey=t,n>=0&&n++,i>=0&&i++;var o=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[n-o,i-o]})},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_getFocusCellSelector:function(){return this.callBase()+", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content"},_getTooltipsSelector:function(){return this.callBase()+", .dx-field-item-content ."+this.addWidgetPrefix("revert-tooltip")}},columns:{_isColumnVisible:function(t){return this.callBase(t)&&!t.adaptiveHidden}},keyboardNavigation:{_isCellValid:function(t){return this.callBase.apply(this,arguments)&&!t.hasClass(this.addWidgetPrefix("hidden-column"))},_processNextCellInMasterDetail:function(t){this.callBase(t);var e=this._editingController.isCellOrBatchEditMode();if(!this._isInsideEditForm(t)&&t&&e){o.default.on(t,"focus",(function e(){o.default.off(t,"focus",e),o.default.trigger(t,"dxclick")}))}},_handleTabKeyOnMasterDetailCell:function(t,e){var n=this.callBase(t,e),i=this._getFocusedCell(),o=i&&i.parent();if(!n&&o&&o.length){var r=w(o),a="next"===e?r.last():r.first(),s=o.get(0).rowIndex,l=this._adaptiveController,u=this._dataController.getKeyByRowIndex("next"===e?s:s-1),h=i&&a&&i.get(0)===a.get(0);return l.isAdaptiveDetailRowExpanded(u)&&h}return n},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}}}}};e.default=S,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(520));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("virtualColumns",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=n(14),o=n(521),r={_renderCore:function(){var t=this,e=t._scrollLeft;t.callBase.apply(t,arguments),t._columnsController.isVirtualMode()&&e>=0&&(t._scrollLeft=0,t.scrollTo({left:e}))}},a={defaultOptions:function(){return{scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}},extenders:{controllers:{columns:function(){var t=function(t){return t.map((function(t){return t.visibleWidth||parseFloat(t.width)||50}))};return{init:function(){this.callBase(),this._beginPageIndex=0,this._endPageIndex=0,this._position=0,this._virtualVisibleColumns={}},resetColumnsCache:function(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex:function(e){for(var n=this.getVisibleColumns(void 0,!0),i=t(n),o=0,r=0;r<i.length;r++){if(o>=e)return Math.floor(r/this.getColumnPageSize());o+=i[r]}return 0},getTotalWidth:function(){var t=this.option("width");return"number"===typeof t?t:this.getController("resizing")._lastWidth||this.component.$element().outerWidth()},getEndPageIndex:function(e){var n=this.getVisibleColumns(void 0,!0),i=t(n),o=0;e+=this.getTotalWidth();for(var r=0;r<i.length;r++){if(o>=e)return Math.ceil(r/this.getColumnPageSize());o+=i[r]}return Math.ceil(i.length/this.getColumnPageSize())},getColumnPageSize:function(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged:function(){var t=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,length:1}}),this._renderTime=new Date-t},setScrollPosition:function(t){var e=this,n=e.option("scrolling.columnRenderingThreshold");e._renderTime>n?(clearTimeout(e._changedTimeout),e._changedTimeout=setTimeout((function(){e._setScrollPositionCore(t)}),e.option("scrolling.timeout"))):e._setScrollPositionCore(t)},isVirtualMode:function(){return(0,i.hasWindow)()&&"virtual"===this.option("scrolling.columnRenderingMode")},resize:function(){this._setScrollPositionCore(this._position)},_setScrollPositionCore:function(t){if(this.isVirtualMode()){var e=this.getBeginPageIndex(t),n=this.getEndPageIndex(t),i=t<this._position?this._beginPageIndex>e:this._endPageIndex<n;this._position=t,i&&(this._beginPageIndex=e,this._endPageIndex=n,this._fireColumnsChanged())}},getFixedColumns:function(t,e){var n=this.callBase(t);if(this.isVirtualMode()&&!e&&n.length){var i=n.map((function(t){return t.command})).indexOf("transparent");return n[i].colspan=this.getVisibleColumns().length-this.callBase().length+1,n}return n},getVisibleColumns:function(e,n){if(n||!this.isVirtualMode())return this.callBase(e);this._beginPageIndex||this._endPageIndex||(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var i=this._beginPageIndex,r=this._endPageIndex,a=e+"-"+i+"-"+r;if(this._virtualVisibleColumns[a])return this._virtualVisibleColumns[a];var s=this.callBase(),l=this.getRowCount(),u=this.getColumnPageSize(),h=i*u,c=r*u,d=this.getFixedColumns(void 0,!0),f=d.map((function(t){return t.command})).indexOf("transparent"),p=d.length?f:0,g=s.slice(0,p),m=s.slice(p,h),v=t(m).reduce((function(t,e){return t+e}),0);v||(h=0);var y=d.length?d.length-f-1:0,_=s.slice(s.length-y),b=s.slice(c,s.length-y),x=t(b).reduce((function(t,e){return t+e}),0);if(x||(c=s.length),l>1&&"number"===typeof e){for(var w=[],C=0;C<l;C++)w.push(this.callBase(C));g=(0,o.createColumnsInfo)(w,0,g.length)[e]||[],_=(0,o.createColumnsInfo)(w,s.length-_.length,s.length)[e]||[],s=(0,o.createColumnsInfo)(w,h,c)[e]||[]}else s=s.slice(h,c);return v&&(s.unshift({command:"virtual",width:v}),s=g.concat(s)),x&&(s.push({command:"virtual",width:x}),s=s.concat(_)),this._virtualVisibleColumns[a]=s,s},getColumnIndexOffset:function(){var t=0;if(this._beginPageIndex>0){var e=this.getFixedColumns().map((function(t){return t.command})).indexOf("transparent"),n=e>=0?e:0;t=this._beginPageIndex*this.getColumnPageSize()-n-1}return t>0?t:0},dispose:function(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}}}()},views:{columnHeadersView:r,footerView:r,rowsView:{_resizeCore:function(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll:function(t){var e=this,n=this.getScrollable(),i=t.scrollOffset.left;e.callBase.apply(e,arguments),e.option("rtlEnabled")&&n&&(i=n.$content().width()-n.$element().width()-i),e._columnsController.setScrollPosition(i)}}}}};e.default=a,t.exports=e.default},function(t,e,n){"use strict";e.foreachColumnInfo=o,e.createColumnsInfo=function(t,e,n){var r=[];o(t,(function(t,o,a){var s,l=t,u=l.colspan||1,h=o+u-1>=e&&o<n;if(r[a]=r[a]||[],h)o<e?(s=u-(e-o),o=e):s=u,o+s>n&&(s=n-o),s!==u&&(l=(0,i.extend)({},l,{colspan:s})),r[a].push(l);else if(o>n)return!1}));for(var a=0;a<r.length;a++)r[a]=r[a]||[];return r};var i=n(3);function o(t,e,n,i,r,a){a=a||[],(i=i||[])[n=n||0]=i[n]||0;var s,l=t[n],u=a[n]+1||0,h=0;if(l){for(s=u;s<l.length;s++){var c=l[s],d=s+i[n],f=c.colspan||1;if(o(t,e,n+(c.rowspan||1),i,f,a),i[n]+=f-1,h+=f,c.rowspan)for(var p=n+1;p<n+c.rowspan;p++)i[p]=i[p]||0,i[p]+=c.colspan||1;if(!1===e(c,d,n,s))break;if(void 0!==r&&h>=r)break}a[n]=s}}},function(t,e,n){"use strict";e.ExportController=e.DataProvider=void 0;var i=v(n(1)),o=v(n(20)),r=n(2),a=n(3),s=n(34),l=n(21),u=v(n(22)),h=v(n(523)),c=n(524),d=v(n(18)),f=v(n(45)),p=v(n(126)),g=v(n(177)),m=n(8);function v(t){return t&&t.__esModule?t:{default:t}}var y=o.default.inherit({_getGroupValue:function(t){var e=t.key,n=t.data,i=t.rowType,o=t.groupIndex,r=t.summaryCells,a=this._options.groupColumns[o],s=u.default.getDisplayValue(a,a.deserializeValue?a.deserializeValue(e[o]):e[o],n,i),l=a.caption+": "+u.default.formatValue(s,a);return r&&r[0]&&r[0].length&&(l+=" "+u.default.getGroupRowSummaryText(r[0],this._options.summaryTexts)),l},_correctCellIndex:function(t){return t},_initOptions:function(){var t=this._exportController,e=t._columnsController.getGroupColumns(),n=t.option("export.excelWrapTextEnabled");this._options={columns:t._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:e,items:this._selectedRowsOnly||t._selectionOnly?t._getSelectedItems():t._getAllItems(),getVisibleIndex:t._columnsController.getVisibleIndex.bind(t._columnsController),isHeadersVisible:t.option("showColumnHeaders"),summaryTexts:t.option("summary.texts"),customizeExportData:t.option("customizeExportData"),rtlEnabled:t.option("rtlEnabled"),wrapTextEnabled:(0,r.isDefined)(n)?n:!!t.option("wordWrapEnabled"),customizeExcelCell:t.option("export.customizeExcelCell")}},hasCustomizeExcelCell:function(){return(0,r.isDefined)(this._options.customizeExcelCell)},customizeExcelCell:function(t,e){this._options.customizeExcelCell&&(t.gridCell=e,(0,r.isDefined)(this._exportController)&&(0,r.isDefined)(this._exportController.component)&&(t.component=this._exportController.component),this._options.customizeExcelCell(t))},ctor:function(t,e,n){this._exportController=t,this._initialColumnWidthsByColumnIndex=e,this._selectedRowsOnly=n},getStyles:function(){var t=this._options.wrapTextEnabled,e=["center","left","right"].map((function(t){return{bold:!0,alignment:t,wrapText:!0}}));return this.getColumns().forEach((function(n){e.push({alignment:n.alignment||"left",format:n.format,wrapText:t,dataType:n.dataType})})),e.push({bold:!0,wrapText:!1,alignment:(0,s.getDefaultAlignment)(this._options.rtlEnabled)}),e},_getTotalCellStyleId:function(t){var e=this.getColumns()[t]&&this.getColumns()[t].alignment||"right";return["center","left","right"].indexOf(e)},getStyleId:function(t,e){return t<this.getHeaderRowCount()?0:this.isTotalCell(t-this.getHeaderRowCount(),e)?this._getTotalCellStyleId(e):this.isGroupRow(t-this.getHeaderRowCount())?3+this.getColumns().length:e+3},getColumns:function(t){var e=this._options.columns;return t?e:e[e.length-1]},getColumnsWidths:function(){var t=this.getColumns();return(0,r.isDefined)(t)?t.map((function(t){return t.width})):void 0},getRowsCount:function(){return this._options.items.length+this.getHeaderRowCount()},getHeaderRowCount:function(){return this.isHeadersVisible()?this._options.columns.length-1:0},isGroupRow:function(t){return t<this._options.items.length&&"group"===this._options.items[t].rowType},getGroupLevel:function(t){var e=this._options.items[t-this.getHeaderRowCount()],n=e&&e.groupIndex;return e&&"totalFooter"===e.rowType?0:(0,r.isDefined)(n)?n:this._options.groupColumns.length},getCellType:function(t,e){var n=this.getColumns();if(t<this.getHeaderRowCount())return"string";if(t-=this.getHeaderRowCount(),e<n.length){var i=this._options.items.length&&this._options.items[t],o=n[e];return i&&"data"===i.rowType&&isFinite(i.values[this._correctCellIndex(e)])&&!(0,r.isDefined)(o.customizeText)?(0,r.isDefined)(o.lookup)?o.lookup.dataType:o.dataType:"string"}},ready:function(){var t=this;t._initOptions();var e=t._options;return(0,m.when)(e.items).done((function(n){e.customizeExportData&&e.customizeExportData(t.getColumns(t.getHeaderRowCount()>1),n),e.items=n})).fail((function(){e.items=[]}))},_convertFromGridGroupSummaryItems:function(t){if((0,r.isDefined)(t)&&t.length>0)return t.map((function(t){return{value:t.value,name:t.name}}))},getCellData:function(t,e,n){var i,o,a={cellSourceData:{},value:o},s=this.getColumns(),l=this._correctCellIndex(e);if(t<this.getHeaderRowCount()){i=this.getColumns(!0)[t][e],a.cellSourceData.rowType="header",a.cellSourceData.column=i&&i.gridColumn,a.value=i&&i.caption}else{t-=this.getHeaderRowCount();var h=this._options.items.length&&this._options.items[t];if(h){var c=h.values;switch(a.cellSourceData.rowType=h.rowType,a.cellSourceData.column=s[e]&&s[e].gridColumn,h.rowType){case"groupFooter":case"totalFooter":l<c.length&&(o=c[l],(0,r.isDefined)(o)?(a.cellSourceData.value=o.value,a.cellSourceData.totalSummaryItemName=o.name,a.value=u.default.getSummaryText(o,this._options.summaryTexts)):a.cellSourceData.value=void 0);break;case"group":if(a.cellSourceData.groupIndex=h.groupIndex,e<1)a.cellSourceData.column=this._options.groupColumns[h.groupIndex],a.cellSourceData.value=h.key[h.groupIndex],a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(h.summaryCells[0]),a.value=this._getGroupValue(h);else{var d=h.values[l];if(Array.isArray(d)){a.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(d),o="";for(var f=0;f<d.length;f++)o+=(f>0?n?"\n":" \n ":"")+u.default.getSummaryText(d[f],this._options.summaryTexts);a.value=o}else a.cellSourceData.value=void 0}break;default:if(i=s[e]){var p=c[l],g=u.default.getDisplayValue(i,p,h.data,h.rowType);!isFinite(g)||(0,r.isDefined)(i.customizeText)?n&&(0,r.isDefined)(i.customizeText)&&i.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?a.value=g:a.value=u.default.formatValue(g,i):a.value=g,a.cellSourceData.value=p}a.cellSourceData.data=h.data}}}return a},isHeadersVisible:function(){return this._options.isHeadersVisible},isTotalCell:function(t,e){var n=this._options.items[t],i=this._correctCellIndex(e),o=n.summaryCells&&n.summaryCells[i]&&n.summaryCells[i].length>0&&n.summaryCells[i][0].alignByColumn;return n&&"groupFooter"===n.rowType||"totalFooter"===n.rowType||o},getCellMerging:function(t,e){var n=this._options.columns,i=n[t]&&n[t][e];return i?{colspan:(i.exportColspan||1)-1,rowspan:(i.rowspan||1)-1}:{colspan:0,rowspan:0}},getFrozenArea:function(){return{x:0,y:this.getHeaderRowCount()}}});e.DataProvider=y;var _=u.default.ViewController.inherit({}).include(h.default).inherit({_getEmptyCell:function(){return{caption:"",colspan:1,rowspan:1}},_updateColumnWidth:function(t,e){t.width=e},_getColumns:function(t){var e,n,i=[],o=this._columnsController,s=o.getRowCount();for(e=0;e<=s;e++){var l=[];n=o.getVisibleColumns(e,!0);var u=void 0;if(e===s)if(this._updateLockCount)u=t;else{var h=this._getColumnWidths(this._headersView,this._rowsView);if(h&&h.length){u={};for(var c=0;c<n.length;c++)u[n[c].index]=h[c]}}for(var d=0;d<n.length;d++){var f=(0,a.extend)({},n[d],{dataType:"datetime"===n[d].dataType?"date":n[d].dataType,gridColumn:n[d]});if(this._needColumnExporting(f)){var p=this._calculateExportColspan(f);(0,r.isDefined)(p)&&(f.exportColspan=p),u&&this._updateColumnWidth(f,u[f.index]),l.push(f)}}i.push(l)}return n=i[s],(i=this._prepareItems(i.slice(0,-1))).push(n),i},_calculateExportColspan:function(t){var e=this;if(t.isBand){var n=this._columnsController.getChildrenByBandColumn(t.index,!0);if((0,r.isDefined)(n))return n.reduce((function(t,n){return e._needColumnExporting(n)?t+(e._calculateExportColspan(n)||1):t}),0)}},_needColumnExporting:function(t){return!t.command&&(t.allowExporting||void 0===t.allowExporting)},_getFooterSummaryItems:function(t,e){var n=[],i=1,o=0;do{for(var r=[],a=0;a<t.length;a++){var s=t[a],l=s.length;i<l&&(i=l),r.push(s[o])}n.push({values:r,rowType:e?"totalFooter":"groupFooter"})}while(o++<i-1);return n},_hasSummaryGroupFooters:function(){var t=this.option("summary.groupItems");if((0,r.isDefined)(t))for(var e=0;e<t.length;e++)if(t[e].showInGroupFooter)return!0;return!1},_getItemsWithSummaryGroupFooters:function(t){for(var e=[],n=[],i=[],o=0;o<t.length;o++){var r=t[o];"groupFooter"===r.rowType?(i=this._getFooterSummaryItems(r.summaryCells),e=e.concat(n,i),n=[]):n.push(r)}return e.length?e:n},_updateGroupValuesWithSummaryByColumn:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=i.summaryCells;if("group"===i.rowType&&o&&o.length>1){for(var r=i.values.length,a=1;a<o.length;a++)for(var s=0;s<o[a].length;s++){var u=o[a][s];u&&u.alignByColumn&&(Array.isArray(e[a-r])||(e[a-r]=[]),e[a-r].push(u))}e.length>0&&((0,l.merge)(i.values,e),e=[])}}},_processUnExportedItems:function(t){for(var e,n,i=this._columnsController.getVisibleColumns(null,!0),o=this._columnsController.getGroupColumns(),r=0;r<t.length;r++){var a=t[r],s=!1;e=[],n=[];for(var l=0;l<i.length;l++){var u=i[l];if(s=s||"detailExpand"===u.type,this._needColumnExporting(u)&&(a.values&&("group"!==a.rowType||e.length?e.push(a.values[l]):e.push(a.key[a.groupIndex])),a.summaryCells))if("group"!==a.rowType||n.length)n.push(a.summaryCells[l]);else{var h=l-o.length+a.groupIndex;n.push(a.summaryCells[s?h-1:h])}}e.length&&(a.values=e),n.length&&(a.summaryCells=n)}},_getAllItems:function(t){var e,n=this,i=new m.Deferred,o=this.getController("data"),a=o.footerItems(),s=a.length&&a[0],l=n.option("summary.totalItems");return(0,m.when)(t).done((function(t){o.loadAll(t).done((function(t,a){n._updateGroupValuesWithSummaryByColumn(t),n._hasSummaryGroupFooters()&&(t=n._getItemsWithSummaryGroupFooters(t)),e=s&&s.summaryCells,(0,r.isDefined)(a)&&l&&(e=o._getSummaryCells(l,a));var u=s&&n._getFooterSummaryItems(e,!0);u&&(t=t.concat(u)),n._processUnExportedItems(t),i.resolve(t)})).fail(i.reject)})).fail(i.reject),i},_getSelectedItems:function(){var t=this.getController("selection").getSelectedRowsData();return this._getAllItems(t)},_getColumnWidths:function(t,e){return t&&t.isVisible()?t.getColumnWidths():e.getColumnWidths()},init:function(){this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onExported",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFileSaving",{excludeValidators:["disabled","readOnly"]})},callbackNames:function(){return["selectionOnlyChanged"]},getExportFormat:function(){return["EXCEL"]},getDataProvider:function(t){var e,n=this._getColumnWidths(this._headersView,this._rowsView);if(n&&n.length){e={};for(var i=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),o=0;o<i.length;o++)e[i[o].index]=n[o]}return new y(this,e,t)},exportToExcel:function(t){this._selectionOnly=t,(0,c.export)(this.component.getDataProvider(),{fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"EXCEL",autoFilterEnabled:!!this.option("export.excelFilterEnabled"),rtlEnabled:this.option("rtlEnabled"),ignoreErrors:this.option("export.ignoreExcelErrors"),exportingAction:this.getAction("onExporting"),exportedAction:this.getAction("onExported"),fileSavingAction:this.getAction("onFileSaving")},c.excel.getData)},publicMethods:function(){return["getDataProvider","getExportFormat","exportToExcel"]},selectionOnly:function(t){if(!(0,r.isDefined)(t))return this._isSelectedRows;this._isSelectedRows=t,this.selectionOnlyChanged.fire()}});e.ExportController=_,u.default.registerModule("export",{defaultOptions:function(){return{export:{enabled:!1,fileName:"DataGrid",excelFilterEnabled:!1,excelWrapTextEnabled:void 0,proxyUrl:void 0,allowExportSelectedData:!1,ignoreExcelErrors:!0,texts:{exportTo:d.default.format("dxDataGrid-exportTo"),exportAll:d.default.format("dxDataGrid-exportAll"),exportSelectedRows:d.default.format("dxDataGrid-exportSelectedRows")}}}},controllers:{export:_},extenders:{controllers:{editing:{callbackNames:function(){var t=this.callBase();return(0,r.isDefined)(t)?t.push("editingChanged"):["editingChanged"]},_updateEditButtons:function(){this.callBase(),this.editingChanged.fire(this.hasChanges())}}},views:{headerPanel:{_getToolbarItems:function(){var t=this.callBase();return this._appendExportItems(t)},_appendExportItems:function(t){var e=this,n=e.option("export");if(n.enabled){var o=[];n.allowExportSelectedData?o.push({template:function(t,n,o){var r=(0,i.default)(o);e._renderButton(t,r),e._renderExportMenu(r)},menuItemTemplate:function(t,n,o){e._renderList(t,(0,i.default)(o))},name:"exportButton",allowExportSelected:!0,location:"after",locateInMenu:"auto",sortIndex:30}):o.push({template:function(t,n,o){e._renderButton(t,(0,i.default)(o))},menuItemTemplate:function(t,n,o){e._renderButton(t,(0,i.default)(o),!0)},name:"exportButton",location:"after",locateInMenu:"auto",sortIndex:30}),t=t.concat(o),e._correctItemsPosition(t)}return t},_renderButton:function(t,e,n){var o=this._getButtonOptions(t.allowExportSelected),r=this._getButtonContainer().addClass("dx-datagrid-export-button").appendTo(e);if(n){var a=(0,i.default)("<div>").addClass("dx-toolbar-item-auto-hide");e.wrapInner(a).parent().addClass("dx-toolbar-menu-action dx-toolbar-menu-button dx-toolbar-hidden-button"),o.text=o.hint}this._createComponent(r,f.default,o)},_renderList:function(t,e){var n=this,o=n.option("export.texts"),r=[{template:function(t,e,o){n._renderFakeButton(t,(0,i.default)(o),"xlsxfile")},text:o.exportAll},{template:function(t,e,o){n._renderFakeButton(t,(0,i.default)(o),"exportselected")},text:o.exportSelectedRows,exportSelected:!0}];n._createComponent(e,p.default,{items:r,onItemClick:function(t){n._exportController.exportToExcel(t.itemData.exportSelected)},scrollingEnabled:!1})},_renderFakeButton:function(t,e,n){var o=(0,i.default)("<div>").addClass("dx-icon dx-icon-"+n),r=(0,i.default)("<span>").addClass("dx-button-text").text(t.text),a=(0,i.default)("<div>").addClass("dx-button-content").append(o).append(r),s=(0,i.default)("<div>").addClass("dx-button dx-button-has-text dx-button-has-icon dx-datagrid-toolbar-button").append(a),l=(0,i.default)("<div>").addClass("dx-toolbar-item-auto-hide").append(s);e.append(l).parent().addClass("dx-toolbar-menu-custom dx-toolbar-hidden-button")},_correctItemsPosition:function(t){t.sort((function(t,e){return t.sortIndex-e.sortIndex}))},_renderExportMenu:function(t){var e=this,n=t.find(".dx-button"),o=e.option("export.texts"),r=[{text:o.exportAll,icon:"xlsxfile"},{text:o.exportSelectedRows,exportSelected:!0,icon:"exportselected"}],a=(0,i.default)("<div>").appendTo(t);e._contextMenu=e._createComponent(a,g.default,{showEvent:"dxclick",items:r,cssClass:"dx-datagrid-export-menu",onItemClick:function(t){e._exportController.exportToExcel(t.itemData.exportSelected)},target:n,position:{at:"left bottom",my:"left top",offset:"0 3",collision:"fit",boundary:e._$parent,boundaryOffset:"1 1"}})},_isExportButtonVisible:function(){return this.option("export.enabled")},_getButtonOptions:function(t){var e=this,n=e.option("export.texts");return t?{hint:n.exportTo,icon:"export-to"}:{hint:n.exportAll,icon:"export-excel-button",onClick:function(){e._exportController.exportToExcel()}}},optionChanged:function(t){this.callBase(t),"export"===t.name&&(t.handled=!0,this._invalidate())},init:function(){var t=this;this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingChanged.add((function(e){t.setToolbarItemDisabled("exportButton",e)}))},isVisible:function(){return this.callBase()||this._isExportButtonVisible()}}}}})},function(t,e,n){"use strict";e.default=void 0;var i=n(3),o={_getEmptyCell:function(){return{text:"",value:void 0,colspan:1,rowspan:1}},_defaultSetter:function(t){return t||1},_cloneItem:function(t){return(0,i.extend)({},t,this._getEmptyCell())},_prepareItems:function(t){var e=this,n=[],i=(t[0]||[]).reduce((function(t,n){return t+e._defaultSetter(n.colspan)}),0),o=function(t){var n=0,i=0;return function(){var o=t[n]||[],r=o[i++];return i>=o.length&&(n++,i=0),r&&(r.colspan=e._defaultSetter(r.colspan),r.rowspan=e._defaultSetter(r.rowspan)),r}}(t);function r(t,i,o){if((n[t]=n[t]||[])[i]=o,o.colspan>1||o.rowspan>1){for(var a=e._cloneItem(o),s=1;s<o.colspan;s++)r(t,i+s,a);for(var l=1;l<o.rowspan;l++)for(var u=0;u<o.colspan;u++)r(t+l,i+u,a)}}for(var a=o(),s=0;a;){for(var l=0;l<i&&a;l++)n[s]&&n[s][l]||(r(s,l,a),l+=a.colspan-1,a=o());s++}return n}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";e.export=function(t,e,n){if(!t)return(new u.Deferred).resolve();var i=e.exportingAction,r=e.exportedAction,a=e.fileSavingAction,s={fileName:e.fileName,format:e.format,cancel:!1};if((0,l.isFunction)(i)&&i(s),!s.cancel)return n(t,e).then((function(t){(0,l.isFunction)(r)&&r(),(0,l.isFunction)(a)&&(s.data=t,a(s)),s.cancel||o.fileSaver.saveAs(s.fileName,e.format,t,e.proxyUrl,e.forceProxy)}));return(new u.Deferred).resolve()},Object.defineProperty(e,"fileSaver",{enumerable:!0,get:function(){return o.fileSaver}}),e.svg=e.pdf=e.image=e.excel=void 0;var i,o=n(258),r=n(525),a=n(263),s=n(534),l=n(2),u=n(8),h=(i=n(259))&&i.__esModule?i:{default:i},c=n(535);var d={creator:r.ExcelCreator,getData:r.getData,formatConverter:h.default};e.excel=d;var f={creator:a.imageCreator,getData:a.getData,testFormats:a.testFormats};e.image=f;var p={getData:c.getData};e.pdf=p;var g={creator:s.svgCreator,getData:s.getData};e.svg=g},function(t,e,n){"use strict";e.getData=function(t,e){var n=new x(t,e);return n._checkZipState(),n.ready().then((function(){return n.getData((0,r.isFunction)((0,o.getWindow)().Blob))}))},e.ExcelCreator=void 0;var i=p(n(20)),o=n(14),r=n(2),a=n(3),s=p(n(25)),l=n(55),u=p(n(526)),h=n(258),c=p(n(259)),d=p(n(528)),f=n(8);function p(t){return t&&t.__esModule?t:{default:t}}function g(t){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m='<?xml version="1.0" encoding="utf-8"?>',v="http://schemas.openxmlformats.org",y={boolean:"b",date:"d",number:"n",string:"s"},_=Date.UTC(1899,11,30),b={quarter:"shortDate",quarterAndYear:"shortDate",minute:"longTime",millisecond:"longTime"},x=i.default.inherit({_getXMLTag:function(t,e,n){var i,o,a="<"+t,s=e.length;for(i=0;i<s;i++)void 0!==(o=e[i]).value&&(a=a+" "+o.name+'="'+o.value+'"');return(0,r.isDefined)(n)?a+">"+n+"</"+t+">":a+" />"},_convertToExcelCellRef:function(t,e){for(var n,i,o="";!i;)n=65+(e>=26?e%26:Math.ceil(e)),o=String.fromCharCode(n)+o,e>=26?e=Math.floor(e/26)-1:i=!0;return o+(t+1)},_convertToExcelCellRefAndTrackMaxIndex:function(t,e){return this._maxRowIndex<Number(t)&&(this._maxRowIndex=Number(t)),this._maxColumnIndex<Number(e)&&(this._maxColumnIndex=Number(e)),this._convertToExcelCellRef(t,e)},_getDataType:function(t){return y[t]||y.string},_tryGetExcelCellDataType:function(t){if((0,r.isDefined)(t)){if("number"===typeof t)return isFinite(t)?y.number:y.string;if((0,r.isString)(t))return y.string;if((0,r.isDate)(t))return y.number;if((0,r.isBoolean)(t))return y.boolean}},_formatObjectConverter:function(t,e){var n={format:t,precision:t&&t.precision,dataType:e};return(0,r.isObject)(t)?(0,a.extend)(n,t,{format:t.formatter||t.type,currency:t.currency}):n},_tryConvertToExcelNumberFormat:function(t,e){var n=this._formatObjectConverter(t,e);t=n.format;var i=n.currency;return e=n.dataType,(0,r.isDefined)(t)&&"date"===e&&(t=b[t&&t.type||t]||t),c.default.convertFormat(t,n.precision,e,i)},_appendString:function(t){if((0,r.isDefined)(t)&&(t=String(t)).length)return t=(0,l.encodeHtml)(t),void 0===this._stringHash[t]&&(this._stringHash[t]=this._stringArray.length,this._stringArray.push(t)),this._stringHash[t]},_tryGetExcelDateValue:function(t){var e;if((0,r.isDate)(t))return(e=Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-_)/864e5))<60&&e--,e+(3600*t.getHours()+60*t.getMinutes()+t.getSeconds())/86400},_prepareValue:function(t,e){var n,i=this._dataProvider,o=(i.getCellData(t,e)||{}).cellSourceData,a=(i.getCellData(t,e)||{}).value,s=this._getDataType(i.getCellType(t,e));switch(s!==y.date||(0,r.isDate)(a)||(s=y.string),s){case y.string:n=a,a=this._appendString(a);break;case y.date:n=a,a=this._tryGetExcelDateValue(a),s=y.number}return{value:a,type:s,sourceValue:n,cellSourceData:o}},_callCustomizeExcelCell:function(t){var e=t.dataProvider,n=t.value,i=t.style,o=t.sourceData,a=d.default.copyCellFormat(i),s={value:n,numberFormat:a.numberFormat,clearStyle:function(){this.horizontalAlignment=null,this.verticalAlignment=null,this.wrapTextEnabled=null,this.font=null,this.numberFormat=null}};(0,r.isDefined)(a)&&((0,r.isDefined)(a.alignment)&&(s.horizontalAlignment=a.alignment.horizontal,s.verticalAlignment=a.alignment.vertical,s.wrapTextEnabled=a.alignment.wrapText),s.backgroundColor=a.backgroundColor,s.fillPatternType=a.fillPatternType,s.fillPatternColor=a.fillPatternColor,s.font=a.font),e.customizeExcelCell(s,o);var l=a||{};return l.font=s.font,l.alignment=l.alignment||{},l.alignment.horizontal=s.horizontalAlignment,l.alignment.vertical=s.verticalAlignment,l.alignment.wrapText=s.wrapTextEnabled,l.backgroundColor=s.backgroundColor,l.fillPatternType=s.fillPatternType,l.fillPatternColor=s.fillPatternColor,l.numberFormat=s.numberFormat,{value:s.value,style:l}},_getDataArray:function(){var t,e,n,i,o,a=[],s=this._dataProvider,l=s.getRowsCount(),u=s.getColumns();for(t=0;t<l;t++){for(n=[],o=u.length,e=0;e!==o;e++){i=this._prepareValue(t,e);var h=s.getStyleId(t,e),c=this._styleArrayIndexToCellStyleIdMap[h];if(s.hasCustomizeExcelCell&&s.hasCustomizeExcelCell()){var d=i.sourceValue||i.value,f=this._callCustomizeExcelCell({dataProvider:s,value:d,style:this._styleArray[h],sourceData:i.cellSourceData});if(f.value!==d){if(g(f.value)!==g(d)||"number"===typeof f.value&&!isFinite(f.value)){var p=this._tryGetExcelCellDataType(f.value);(0,r.isDefined)(p)&&(i.type=p)}switch(i.type){case y.string:i.value=this._appendString(f.value);break;case y.date:i.value=f.value;break;case y.number:var m=f.value,v=this._tryGetExcelDateValue(m);(0,r.isDefined)(v)&&(m=v),i.value=m;break;default:i.value=f.value}}c=this._excelFile.registerCellFormat(f.style)}n.push({style:c,value:i.value,type:i.type})}!this._needSheetPr&&s.getGroupLevel(t)>0&&(this._needSheetPr=!0),a.push(n)}return a},_calculateWidth:function(t){return(!(t=parseInt(t,10))||t<5)&&(t=100),Math.min(255,Math.floor((t-5)/7*100+.5)/100)},_prepareStyleData:function(){var t=this,e=this,n=e._dataProvider.getStyles();e._dataProvider.getColumns().forEach((function(t){e._colsArray.push(e._calculateWidth(t.width))}));var i=[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!1},{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor",bold:!0}];this._excelFile.registerFont(i[0]),this._excelFile.registerFont(i[1]),n.forEach((function(t){var n=e._tryConvertToExcelNumberFormat(t.format,t.dataType);(0,r.isDefined)(n)||(n=0),e._styleArray.push({font:i[Number(!!t.bold)],numberFormat:n,alignment:{vertical:"top",wrapText:!!t.wrapText,horizontal:t.alignment||"left"}})})),e._styleArrayIndexToCellStyleIdMap=e._styleArray.map((function(e){return t._excelFile.registerCellFormat(e)}))},_prepareCellData:function(){this._cellsArray=this._getDataArray()},_createXMLRelationships:function(t){return this._getXMLTag("Relationships",[{name:"xmlns",value:v+"/package/2006/relationships"}],t)},_createXMLRelationship:function(t,e,n){return this._getXMLTag("Relationship",[{name:"Id",value:"rId"+t},{name:"Type",value:v+"/officeDocument/2006/relationships/"+e},{name:"Target",value:n}])},_getWorkbookContent:function(){return m+this._getXMLTag("workbook",[{name:"xmlns:r",value:v+"/officeDocument/2006/relationships"},{name:"xmlns",value:v+"/spreadsheetml/2006/main"}],'<bookViews><workbookView xWindow="0" yWindow="0" windowWidth="0" windowHeight="0"/></bookViews><sheets><sheet name="Sheet" sheetId="1" r:id="rId1" /></sheets><definedNames><definedName name="_xlnm.Print_Titles" localSheetId="0">Sheet!$1:$1</definedName><definedName name="_xlnm._FilterDatabase" hidden="0" localSheetId="0">Sheet!$A$1:$F$6332</definedName></definedNames>')},_getContentTypesContent:function(){return m+'<Types xmlns="'+v+'/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /></Types>'},_generateStylesXML:function(){var t=this._zip.folder("xl"),e="";e+=this._excelFile.generateNumberFormatsXml(),e+=this._excelFile.generateFontsXml(),e+=this._excelFile.generateFillsXml(),e+='<borders count="1"><border><left style="thin"><color rgb="FFD3D3D3"/></left><right style="thin"><color rgb="FFD3D3D3"/></right><top style="thin"><color rgb="FFD3D3D3"/></top><bottom style="thin"><color rgb="FFD3D3D3"/></bottom></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',e+=this._excelFile.generateCellFormatsXml(),e+=this._getXMLTag("cellStyles",[{name:"count",value:1}],this._getXMLTag("cellStyle",[{name:"name",value:"Normal"},{name:"xfId",value:0},{name:"builtinId",value:0}])),e=m+this._getXMLTag("styleSheet",[{name:"xmlns",value:v+"/spreadsheetml/2006/main"}],e),t.file("styles.xml",e),this._styleArray=[]},_generateStringsXML:function(){var t,e=this._zip.folder("xl"),n=this._stringArray.length,i=m;for(t=0;t<n;t++)this._stringArray[t]=this._getXMLTag("si",[],this._getXMLTag("t",[],this._stringArray[t]));i+=this._getXMLTag("sst",[{name:"xmlns",value:v+"/spreadsheetml/2006/main"},{name:"count",value:this._stringArray.length},{name:"uniqueCount",value:this._stringArray.length}],this._stringArray.join("")),e.file("sharedStrings.xml",i),this._stringArray=[]},_getPaneXML:function(){var t=[{name:"activePane",value:"bottomLeft"},{name:"state",value:"frozen"}],e=this._dataProvider.getFrozenArea();return e.x||e.y?(e.x&&t.push({name:"xSplit",value:e.x}),e.y&&t.push({name:"ySplit",value:e.y}),t.push({name:"topLeftCell",value:this._convertToExcelCellRefAndTrackMaxIndex(e.y,e.x)}),this._getXMLTag("pane",t)):""},_getAutoFilterXML:function(t){return this._options.autoFilterEnabled?'<autoFilter ref="A'+this._dataProvider.getHeaderRowCount()+":"+t+'" />':""},_getIgnoredErrorsXML:function(t){return this._options.ignoreErrors?'<ignoredErrors><ignoredError sqref="A1:'+t+'" numberStoredAsText="1" /></ignoredErrors>':""},_generateWorksheetXML:function(){var t,e,n,i,o,a=[],s=this._cellsArray.length,l=this._colsArray.length,u="1:"+l,h=this._dataProvider.getHeaderRowCount?this._dataProvider.getHeaderRowCount():1,c=['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">'];for(c.push(this._needSheetPr?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"<sheetPr/>"),c.push('<dimension ref="A1:C1"/>'),c.push("<sheetViews><sheetView "),c.push(this._rtlEnabled?'rightToLeft="1" ':""),c.push('tabSelected="1" workbookViewId="0">'),c.push(this._getPaneXML()),c.push("</sheetView></sheetViews>"),c.push('<sheetFormatPr defaultRowHeight="15"'),c.push(' outlineLevelRow="'+(this._dataProvider.getRowsCount()>0?this._dataProvider.getGroupLevel(0):0)+'"'),c.push(' x14ac:dyDescent="0.25"/>'),t=0;t<l;t++)this._colsArray[t]=this._getXMLTag("col",[{name:"width",value:this._colsArray[t]},{name:"min",value:Number(t)+1},{name:"max",value:Number(t)+1},{name:"customWidth",value:1}]);for(c.push(this._getXMLTag("cols",[],this._colsArray.join(""))+"<sheetData>"),e=0;e<s;e++){for(i=[],o=this._cellsArray[e].length,t=0;t<o;t++)e=Number(e),n=this._cellsArray[e][t],i.push(this._getXMLTag("c",[{name:"r",value:this._convertToExcelCellRefAndTrackMaxIndex(e,t)},{name:"s",value:n.style},{name:"t",value:n.type}],(0,r.isDefined)(n.value)?this._getXMLTag("v",[],n.value):null));a.push(this._getXMLTag("row",[{name:"r",value:Number(e)+1},{name:"spans",value:u},{name:"outlineLevel",value:e>=h?this._dataProvider.getGroupLevel(e):0},{name:"x14ac:dyDescent",value:"0.25"}],i.join(""))),this._cellsArray[e]=null,a.length>1e4&&(c.push(a.join("")),a=[])}c.push(a.join("")),a=[];var d=this._convertToExcelCellRef(this._maxRowIndex,this._maxColumnIndex);c.push("</sheetData>"+this._getAutoFilterXML(d)+this._generateMergingXML()+this._getIgnoredErrorsXML(d)+"</worksheet>"),this._zip.folder("xl").folder("worksheets").file("sheet1.xml",c.join("")),this._colsArray=[],this._cellsArray=[],c=[]},_generateMergingXML:function(){var t,e,n,i,o,a=(0,r.isDefined)(this._dataProvider.getHeaderRowCount)?this._dataProvider.getHeaderRowCount():this._dataProvider.getRowsCount(),s=this._dataProvider.getColumns().length,l=[],u=[],h="";for(i=0;i<a;i++)for(n=0;n!==s;n++)if(!(0,r.isDefined)(l[i])||!(0,r.isDefined)(l[i][n])){var c=this._dataProvider.getCellMerging(i,n);if(c.colspan||c.rowspan)for(u.push({start:this._convertToExcelCellRefAndTrackMaxIndex(i,n),end:this._convertToExcelCellRefAndTrackMaxIndex(i+(c.rowspan||0),n+(c.colspan||0))}),t=i;t<=i+c.rowspan;t++)for(e=n;e<=n+c.colspan;e++)(0,r.isDefined)(l[t])||(l[t]=[]),l[t][e]=!0}var d=u.length;for(o=0;o<d;o++)h+=this._getXMLTag("mergeCell",[{name:"ref",value:u[o].start+":"+u[o].end}]);return h.length?this._getXMLTag("mergeCells",[{name:"count",value:d}],h):""},_generateCommonXML:function(){var t=m+this._createXMLRelationships(this._createXMLRelationship(1,"officeDocument","xl/workbook.xml")),e=this._zip.folder("xl"),n=m;this._zip.folder("_rels").file(".rels",t);var i=this._createXMLRelationship(1,"worksheet","worksheets/sheet1.xml")+this._createXMLRelationship(2,"styles","styles.xml")+this._createXMLRelationship(3,"sharedStrings","sharedStrings.xml");n+=this._createXMLRelationships(i),e.folder("_rels").file("workbook.xml.rels",n),e.file("workbook.xml",this._getWorkbookContent()),this._zip.file("[Content_Types].xml",this._getContentTypesContent())},_generateContent:function(){this._prepareStyleData(),this._prepareCellData(),this._generateWorkXML(),this._generateCommonXML()},_generateWorkXML:function(){this._generateStylesXML(),this._generateStringsXML(),this._generateWorksheetXML()},ctor:function(t,e){this._rtlEnabled=e&&!!e.rtlEnabled,this._options=e,this._maxRowIndex=0,this._maxColumnIndex=0,this._stringArray=[],this._stringHash={},this._styleArray=[],this._colsArray=[],this._cellsArray=[],this._needSheetPr=!1,this._dataProvider=t,this._excelFile=new d.default,(0,r.isDefined)(x.JSZip)?this._zip=new x.JSZip:this._zip=null},_checkZipState:function(){if(!this._zip)throw s.default.Error("E1041","JSZip")},ready:function(){return this._dataProvider.ready()},getData:function(t){var e={type:t?"blob":"base64",compression:"DEFLATE",mimeType:h.MIME_TYPES.EXCEL},n=new f.Deferred;return this._checkZipState(),this._generateContent(),this._zip.generateAsync?this._zip.generateAsync(e).then(n.resolve):n.resolve(this._zip.generate(e)),n}});e.ExcelCreator=x,x.JSZip=u.default},function(t,e,n){(function(e,n,i){t.exports=function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return o(e[a][1][t]||t)}),u,u.exports,t,e,n,i)}return n[a].exports}for(var r=!1,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){"use strict";var i=t("./utils"),o=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,o,a,s,l,u,h=[],c=0,d=t.length,f=d,p="string"!==i.getTypeOf(t);c<t.length;)f=d-c,o=p?(e=t[c++],n=c<d?t[c++]:0,c<d?t[c++]:0):(e=t.charCodeAt(c++),n=c<d?t.charCodeAt(c++):0,c<d?t.charCodeAt(c++):0),a=e>>2,s=(3&e)<<4|n>>4,l=1<f?(15&n)<<2|o>>6:64,u=2<f?63&o:64,h.push(r.charAt(a)+r.charAt(s)+r.charAt(l)+r.charAt(u));return h.join("")},n.decode=function(t){var e,n,i,a,s,l,u=0,h=0,c="data:";if(t.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===r.charAt(64)&&f--,t.charAt(t.length-2)===r.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=o.uint8array?new Uint8Array(0|f):new Array(0|f);u<t.length;)e=r.indexOf(t.charAt(u++))<<2|(a=r.indexOf(t.charAt(u++)))>>4,n=(15&a)<<4|(s=r.indexOf(t.charAt(u++)))>>2,i=(3&s)<<6|(l=r.indexOf(t.charAt(u++))),d[h++]=e,64!==s&&(d[h++]=n),64!==l&&(d[h++]=i);return d}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var i=t("./external"),o=t("./stream/DataWorker"),r=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe");function s(t,e,n,i,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=o}r=t("./stream/DataLengthProbe"),s.prototype={getContentWorker:function(){var t=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new a).pipe(new r("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new r("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var i=t("./utils"),o=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var r=o,a=0+n;t^=-1;for(var s=0;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}(0|e,t,t.length):function(t,e,n,i){var r=o,a=0+n;t^=-1;for(var s=0;s<a;s++)t=t>>>8^r[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),r=t("./utils"),a=t("./stream/GenericWorker"),s=i?"uint8array":"array";function l(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",r.inherits(l,a),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(r.transformTo(s,t.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new l("Deflate",t)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function i(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i}function o(t,e,n,o,a,h){var c,d,f=t.file,p=t.compression,g=h!==s.utf8encode,m=r.transformTo("string",h(f.name)),v=r.transformTo("string",s.utf8encode(f.name)),y=f.comment,_=r.transformTo("string",h(y)),b=r.transformTo("string",s.utf8encode(y)),x=v.length!==f.name.length,w=b.length!==y.length,C="",S="",k="",E=f.dir,I=f.date,T={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(T.crc32=t.crc32,T.compressedSize=t.compressedSize,T.uncompressedSize=t.uncompressedSize);var D=0;e&&(D|=8),g||!x&&!w||(D|=2048);var M=0,O=0;E&&(M|=16),"UNIX"===a?(O=798,M|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(f.unixPermissions,E)):(O=20,M|=function(t){return 63&(t||0)}(f.dosPermissions)),c=I.getUTCHours(),c<<=6,c|=I.getUTCMinutes(),c<<=5,c|=I.getUTCSeconds()/2,d=I.getUTCFullYear()-1980,d<<=4,d|=I.getUTCMonth()+1,d<<=5,d|=I.getUTCDate(),x&&(S=i(1,1)+i(l(m),4)+v,C+="up"+i(S.length,2)+S),w&&(k=i(1,1)+i(l(_),4)+b,C+="uc"+i(k.length,2)+k);var P="";return P+="\n\0",P+=i(D,2),P+=p.magic,P+=i(c,2),P+=i(d,2),P+=i(T.crc32,4),P+=i(T.compressedSize,4),P+=i(T.uncompressedSize,4),P+=i(m.length,2),P+=i(C.length,2),{fileRecord:u.LOCAL_FILE_HEADER+P+m+C,dirRecord:u.CENTRAL_FILE_HEADER+i(O,2)+P+i(_.length,2)+"\0\0\0\0"+i(M,4)+i(o,4)+m+C+_}}var r=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),l=t("../crc32"),u=t("../signature");function h(t,e,n,i){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(h,a),h.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},h.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=o(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=o(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return u.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,o=function(t,e,n,o,a){var s=r.transformTo("string",a(o));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(n,4)+i(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},h.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},h.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var i=t("../compressions"),o=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var r=new o(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var o=function(t,e){var n=t||e,o=i[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:t,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)})),r.entriesCount=a}catch(t){r.error(t)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.5.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var i=t("./utils"),o=t("./external"),r=t("./utf8"),a=(i=t("./utils"),t("./zipEntries")),s=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function u(t){return new o.Promise((function(e,n){var i=t.decompressed.getContentWorker().pipe(new s);i.on("error",(function(t){n(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),l.isNode&&l.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new a(e);return n.load(t),n})).then((function(t){var n=[o.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var r=0;r<i.length;r++)n.push(u(i[r]));return o.Promise.all(n)})).then((function(t){for(var i=t.shift(),o=i.files,r=0;r<o.length;r++){var a=o[r];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var i=t("../utils"),o=t("../stream/GenericWorker");function r(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(r,o),r.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var i=t("readable-stream").Readable;function o(t,e,n){i.call(this,e),this._helper=t;var o=this;t.on("data",(function(t,e){o.push(t)||o._helper.pause(),n&&n(e)})).on("error",(function(t){o.emit("error",t)})).on("end",(function(){o.push(null)}))}t("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},e.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){"use strict";n.exports={isNode:"undefined"!=typeof e,newBufferFrom:function(t,n){if(e.from&&e.from!==Uint8Array.from)return e.from(t,n);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,n)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function i(t,e,n){var i,o=r.getTypeOf(e),s=r.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=p(t))&&m.call(this,i,!0);var c,v="string"===o&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!v),(e instanceof u&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",o="string"),c=e instanceof u||e instanceof a?e:d.isNode&&d.isStream(e)?new f(t,e):r.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new h(t,c,s);this.files[t]=y}var o=t("./utf8"),r=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),l=t("./defaults"),u=t("./compressedObject"),h=t("./zipObject"),c=t("./generate"),d=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},m=function(t,e){return e=void 0!==e?e:l.createFolders,t=g(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function v(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach((function(n,i){t(n,i)&&e.push(i)})),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,i.call(this,t,e,n),this;if(v(t)){var o=t;return this.filter((function(t,e){return!e.dir&&o.test(t)}))}var r=this.files[this.root+t];return r&&!r.dir?r:null},folder:function(t){if(!t)return this;if(v(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=m.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=r.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=c.generateWorker(this,n,i)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var i=t("./DataReader");function o(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(o,i),o.prototype.byteAt=function(t){return this.data[this.zero+t]},o.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===e&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},o.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.readData(4);return e===r[0]&&n===r[1]&&i===r[2]&&o===r[3]},o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var i=t("../utils");function o(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=o},{"../utils":32}],19:[function(t,e,n){"use strict";var i=t("./Uint8ArrayReader");function o(t){i.call(this,t)}t("../utils").inherits(o,i),o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var i=t("./DataReader");function o(t){i.call(this,t)}t("../utils").inherits(o,i),o.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},o.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},o.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var i=t("./ArrayReader");function o(t){i.call(this,t)}t("../utils").inherits(o,i),o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var i=t("../utils"),o=t("../support"),r=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||o.uint8array?"nodebuffer"===e?new s(t):o.uint8array?new l(i.transformTo("uint8array",t)):new r(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,n){"use strict";var i=t("./GenericWorker"),o=t("../utils");function r(t){i.call(this,"ConvertWorker to "+t),this.destType=t}o.inherits(r,i),r.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var i=t("./GenericWorker"),o=t("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,i),r.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var i=t("../utils"),o=t("./GenericWorker");function r(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(r,o),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},e.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var i=t("../utils"),o=t("./GenericWorker");function r(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}i.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,n,i){"use strict";var o=t("../utils"),r=t("./ConvertWorker"),a=t("./GenericWorker"),s=t("../base64"),l=t("../support"),u=t("../external"),h=null;if(l.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function c(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,o.checkSupport(i),this._worker=t.pipe(new r(i)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}c.prototype={accumulate:function(t){return function(t,n){return new u.Promise((function(i,r){var a=[],l=t._internalType,u=t._outputType,h=t._mimeType;t.on("data",(function(t,e){a.push(t),n&&n(e)})).on("error",(function(t){a=[],r(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return o.newBlob(o.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return o.transformTo(t,e)}}(u,function(t,n){var i,o=0,r=null,a=0;for(i=0;i<n.length;i++)a+=n[i].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(r=new Uint8Array(a),i=0;i<n.length;i++)r.set(n[i],o),o+=n[i].length;return r;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,a),h);i(t)}catch(t){r(t)}a=[]})).resume()}))}(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){o.delay(e,arguments,n)})),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},n.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof e,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=0===new Blob([o],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(o),i.blob=0===r.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(t){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var i=t("./utils"),o=t("./support"),r=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function h(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return o.nodebuffer?r.newBufferFrom(t,"utf-8"):function(t){var e,n,i,r,a,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=o.uint8array?new Uint8Array(l):new Array(l),r=a=0;a<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return o.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,o,r,a=t.length,l=new Array(2*a);for(e=n=0;e<a;)if((o=t[e++])<128)l[n++]=o;else if(4<(r=s[o]))l[n++]=65533,e+=r-1;else{for(o&=2===r?31:3===r?15:7;1<r&&e<a;)o=o<<6|63&t[e++],r--;1<r?l[n++]=65533:o<65536?l[n++]=o:(o-=65536,l[n++]=55296|o>>10&1023,l[n++]=56320|1023&o)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(t=i.transformTo(o.uint8array?"uint8array":"array",t))},i.inherits(u,a),u.prototype.processChunk=function(t){var e=i.transformTo(o.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}(e),l=e;a!==e.length&&(o.uint8array?(l=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(l=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(l),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,i.inherits(h,a),h.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var i=t("./support"),o=t("./base64"),r=t("./nodejsUtils"),a=t("set-immediate-shim"),s=t("./external");function l(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}n.newBlob=function(e,i){n.checkSupport("blob");try{return new Blob([e],{type:i})}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(e),o.getBlob(i)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(t,e,n){var i=[],o=0,r=t.length;if(r<=n)return String.fromCharCode.apply(null,t);for(;o<r;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+n,r)))):i.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+n,r)))),o+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function c(t){var e=65536,i=n.getTypeOf(t),o=!0;if("uint8array"===i?o=h.applyCanBeUsed.uint8array:"nodebuffer"===i&&(o=h.applyCanBeUsed.nodebuffer),o)for(;1<e;)try{return h.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return h.stringifyByChar(t)}function d(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=c;var f={};f.string={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,r.allocBuffer(t.length))}},f.array={string:c,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},f.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return r.newBufferFrom(t)}},f.nodebuffer={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:l},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);return f[i][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&r.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},n.delay=function(t,e,n){a((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,r,a,l){return s.Promise.resolve(e).then((function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise((function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(e){var h=n.getTypeOf(e);return h?("arraybuffer"===h?e=n.transformTo("uint8array",e):"string"===h&&(l?e=o.decode(e):r&&!0!==a&&(e=function(t){return u(t,i.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,n){"use strict";var i=t("./reader/readerFor"),o=t("./utils"),r=t("./signature"),a=t("./zipEntry"),s=(t("./utf8"),t("./support"));function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(0<i)this.isSignature(e,r.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var i=t("./reader/readerFor"),o=t("./utils"),r=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),l=t("./compressions"),u=t("./support");function h(t,e){this.options=t,this.loadOptions=e}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<o;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i};t.setIndex(o)},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function i(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var o=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),l=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var r=!this._dataBinary;r&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!r&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new o(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)i.prototype[u[c]]=h;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,i){(function(t){"use strict";var n,i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var r=0,a=new o(h),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=r=++r%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){h(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(h,0)};else{var l=new t.MessageChannel;l.port1.onmessage=h,n=function(){l.port2.postMessage(0)}}var u=[];function h(){var t,e;i=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}i=!1}e.exports=function(t){1!==u.push(t)||i||n()}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var i=t("immediate");function o(){}var r={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==o&&f(this,t)}function h(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function c(t,e,n){i((function(){var i;try{i=e(n)}catch(i){return r.reject(t,i)}i===t?r.reject(t,new TypeError("Cannot resolve promise with itself")):r.resolve(t,i)}))}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var n=!1;function i(e){n||(n=!0,r.reject(t,e))}function o(e){n||(n=!0,r.resolve(t,e))}var a=p((function(){e(o,i)}));"error"===a.status&&i(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=u).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(o);return this.state!==l?c(n,this.state===s?t:e,this.outcome):this.queue.push(new h(n,t,e)),n},h.prototype.callFulfilled=function(t){r.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){r.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},r.resolve=function(t,e){var n=p(d,e);if("error"===n.status)return r.reject(t,n.value);var i=n.value;if(i)f(t,i);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},r.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:r.resolve(new this(o),t)},u.reject=function(t){var e=new this(o);return r.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(o);++l<n;)h(t[l],l);return u;function h(t,o){e.resolve(t).then((function(t){a[o]=t,++s!==n||i||(i=!0,r.resolve(u,a))}),(function(t){i||(i=!0,r.reject(u,t))}))}},u.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var i,a=-1,s=new this(o);++a<e;)i=t[a],this.resolve(i).then((function(t){n||(n=!0,r.resolve(s,t))}),(function(t){n||(n=!0,r.reject(s,t))}));return s}},{immediate:36}],38:[function(t,e,n){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var i=t("./zlib/deflate"),o=t("./utils/common"),r=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),l=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=o.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var h;if(h="string"==typeof e.dictionary?r.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=i.deflateSetDictionary(this.strm,h)))throw new Error(a[n]);this._dict_set=!0}}function h(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=r.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(r.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=u,n.deflate=h,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,h(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var i=t("./zlib/inflate"),o=t("./utils/common"),r=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),l=t("./zlib/zstream"),u=t("./zlib/gzheader"),h=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function d(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(t,e){var n,s,l,u,c,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=r.binstring2buf(t):"[object ArrayBuffer]"===h.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(d="string"==typeof g?r.string2buf(g):"[object ArrayBuffer]"===h.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=r.utf8border(f.output,f.next_out),u=f.next_out-l,c=r.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&o.arraySet(f.output,f.output,l,u,0),this.onData(c)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=c,n.inflate=d,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),o);else for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){var e,n,i,o,r,a;for(e=i=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),e=o=0,n=t.length;e<n;e++)r=t[e],a.set(r,o),o+=r.length;return a}},r={arraySet:function(t,e,n,i,o){for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],42:[function(t,e,n){"use strict";var i=t("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,o,r,a,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),r=a=0;a<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return l(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,o=e.length;n<o;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,o,r,s=e||t.length,u=new Array(2*s);for(n=i=0;n<s;)if((o=t[n++])<128)u[i++]=o;else if(4<(r=a[o]))u[i++]=65533,n+=r-1;else{for(o&=2===r?31:3===r?15:7;1<r&&n<s;)o=o<<6|63&t[n++],r--;1<r?u[i++]=65533:o<65536?u[i++]=o:(o-=65536,u[i++]=55296|o>>10&1023,u[i++]=56320|1023&o)}return l(u,i)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;r=r+(o=o+e[i++]|0)|0,--a;);o%=65521,r%=65521}return o|r<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,o){var r=i,a=o+n;t^=-1;for(var s=o;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){"use strict";var i,o=t("../utils/common"),r=t("./trees"),a=t("./adler32"),s=t("./crc32"),l=t("./messages"),u=-2,h=258,c=262,d=113;function f(t,e){return t.msg=l[e],e}function p(t){return(t<<1)-(4<t?9:0)}function g(t){for(var e=t.length;0<=--e;)t[e]=0}function m(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(o.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function v(t,e){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,m(t.strm)}function y(t,e){t.pending_buf[t.pending++]=e}function _(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function b(t,e){var n,i,o=t.max_chain_length,r=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-c?t.strstart-(t.w_size-c):0,u=t.window,d=t.w_mask,f=t.prev,p=t.strstart+h,g=u[r+a-1],m=u[r+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===m&&u[n+a-1]===g&&u[n]===u[r]&&u[++n]===u[r+1]){r+=2,n++;do{}while(u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&r<p);if(i=h-(p-r),r=p-h,a<i){if(t.match_start=e,s<=(a=i))break;g=u[r+a-1],m=u[r+a]}}}while((e=f[e&d])>l&&0!=--o);return a<=t.lookahead?a:t.lookahead}function x(t){var e,n,i,r,l,u,h,d,f,p,g=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=g+(g-c)){for(o.arraySet(t.window,t.window,g,g,0),t.match_start-=g,t.strstart-=g,t.block_start-=g,e=n=t.hash_size;i=t.head[--e],t.head[e]=g<=i?i-g:0,--n;);for(e=n=g;i=t.prev[--e],t.prev[e]=g<=i?i-g:0,--n;);r+=g}if(0===t.strm.avail_in)break;if(u=t.strm,h=t.window,d=t.strstart+t.lookahead,p=void 0,(f=r)<(p=u.avail_in)&&(p=f),n=0===p?0:(u.avail_in-=p,o.arraySet(h,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=a(u.adler,h,p,d):2===u.state.wrap&&(u.adler=s(u.adler,h,p,d)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<c&&0!==t.strm.avail_in)}function w(t,e){for(var n,i;;){if(t.lookahead<c){if(x(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-c&&(t.match_length=b(t,n)),t.match_length>=3)if(i=r._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}function C(t,e){for(var n,i,o;;){if(t.lookahead<c){if(x(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-c&&(t.match_length=b(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(o=t.strstart+t.lookahead-3,i=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(v(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=r._tr_tally(t,0,t.window[t.strstart-1]))&&v(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}function S(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(1146),this.dyn_dtree=new o.Buf16(122),this.bl_tree=new o.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(16),this.heap=new o.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,r._tr_init(e),0):f(t,u)}function I(t){var e=E(t);return 0===e&&function(t){t.window_size=2*t.w_size,g(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function T(t,e,n,i,r,a){if(!t)return u;var s=1;if(-1===e&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),r<1||9<r||8!==n||i<8||15<i||e<0||9<e||a<0||4<a)return f(t,u);8===i&&(i=9);var l=new k;return(t.state=l).strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,I(t)}i=[new S(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(x(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,v(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-c&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(v(t,!1),t.strm.avail_out),1)})),new S(4,4,8,4,w),new S(4,5,16,8,w),new S(4,6,32,32,w),new S(4,4,16,16,C),new S(8,16,32,32,C),new S(8,16,128,128,C),new S(8,32,128,256,C),new S(32,128,258,1024,C),new S(32,258,258,4096,C)],n.deflateInit=function(t,e){return T(t,e,8,15,8,0)},n.deflateInit2=T,n.deflateReset=I,n.deflateResetKeep=E,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},n.deflate=function(t,e){var n,o,a,l;if(!t||!t.state||5<e||e<0)return t?f(t,u):u;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||666===o.status&&4!==e)return f(t,0===t.avail_out?-5:u);if(o.strm=t,n=o.last_flush,o.last_flush=e,42===o.status)if(2===o.wrap)t.adler=0,y(o,31),y(o,139),y(o,8),o.gzhead?(y(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),y(o,255&o.gzhead.time),y(o,o.gzhead.time>>8&255),y(o,o.gzhead.time>>16&255),y(o,o.gzhead.time>>24&255),y(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),y(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(y(o,255&o.gzhead.extra.length),y(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=s(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(y(o,0),y(o,0),y(o,0),y(o,0),y(o,0),y(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),y(o,3),o.status=d);else{var c=8+(o.w_bits-8<<4)<<8;c|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(c|=32),c+=31-c%31,o.status=d,_(o,c),0!==o.strstart&&(_(o,t.adler>>>16),_(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),m(t),a=o.pending,o.pending!==o.pending_buf_size));)y(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),m(t),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,y(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),m(t),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,y(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&m(t),o.pending+2<=o.pending_buf_size&&(y(o,255&t.adler),y(o,t.adler>>8&255),t.adler=0,o.status=d)):o.status=d),0!==o.pending){if(m(t),0===t.avail_out)return o.last_flush=-1,0}else if(0===t.avail_in&&p(e)<=p(n)&&4!==e)return f(t,-5);if(666===o.status&&0!==t.avail_in)return f(t,-5);if(0!==t.avail_in||0!==o.lookahead||0!==e&&666!==o.status){var b=2===o.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(x(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}(o,e):3===o.strategy?function(t,e){for(var n,i,o,a,s=t.window;;){if(t.lookahead<=h){if(x(t),t.lookahead<=h&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(i=s[o=t.strstart-1])===s[++o]&&i===s[++o]&&i===s[++o]){a=t.strstart+h;do{}while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&o<a);t.match_length=h-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=r._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}(o,e):i[o.level].func(o,e);if(3!==b&&4!==b||(o.status=666),1===b||3===b)return 0===t.avail_out&&(o.last_flush=-1),0;if(2===b&&(1===e?r._tr_align(o):5!==e&&(r._tr_stored_block(o,0,0,!1),3===e&&(g(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),m(t),0===t.avail_out))return o.last_flush=-1,0}return 4!==e?0:o.wrap<=0?1:(2===o.wrap?(y(o,255&t.adler),y(o,t.adler>>8&255),y(o,t.adler>>16&255),y(o,t.adler>>24&255),y(o,255&t.total_in),y(o,t.total_in>>8&255),y(o,t.total_in>>16&255),y(o,t.total_in>>24&255)):(_(o,t.adler>>>16),_(o,65535&t.adler)),m(t),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==d&&666!==e?f(t,u):(t.state=null,e===d?f(t,-3):0):u},n.deflateSetDictionary=function(t,e){var n,i,r,s,l,h,c,d,f=e.length;if(!t||!t.state)return u;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(t.adler=a(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new o.Buf8(n.w_size),o.arraySet(d,e,f-n.w_size,n.w_size,0),e=d,f=n.w_size),l=t.avail_in,h=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,x(n);n.lookahead>=3;){for(i=n.strstart,r=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=c,t.avail_in=l,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,o,r,a,s,l,u,h,c,d,f,p,g,m,v,y,_,b,x,w,C,S,k,E;n=t.state,i=t.next_in,k=t.input,o=i+(t.avail_in-5),r=t.next_out,E=t.output,a=r-(e-t.avail_out),s=r+(t.avail_out-257),l=n.dmax,u=n.wsize,h=n.whave,c=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(f+=k[i++]<<p,p+=8,f+=k[i++]<<p,p+=8),_=g[f&v];e:for(;;){if(f>>>=b=_>>>24,p-=b,0===(b=_>>>16&255))E[r++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=g[(65535&_)+(f&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&_,(b&=15)&&(p<b&&(f+=k[i++]<<p,p+=8),x+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=k[i++]<<p,p+=8,f+=k[i++]<<p,p+=8),_=m[f&y];n:for(;;){if(f>>>=b=_>>>24,p-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=m[(65535&_)+(f&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&_,p<(b&=15)&&(f+=k[i++]<<p,(p+=8)<b&&(f+=k[i++]<<p,p+=8)),l<(w+=f&(1<<b)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=b,p-=b,(b=r-a)<w){if(h<(b=w-b)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=d,(C=0)===c){if(C+=u-b,b<x){for(x-=b;E[r++]=d[C++],--b;);C=r-w,S=E}}else if(c<b){if(C+=u+c-b,(b-=c)<x){for(x-=b;E[r++]=d[C++],--b;);if(C=0,c<x){for(x-=b=c;E[r++]=d[C++],--b;);C=r-w,S=E}}}else if(C+=c-b,b<x){for(x-=b;E[r++]=d[C++],--b;);C=r-w,S=E}for(;2<x;)E[r++]=S[C++],E[r++]=S[C++],E[r++]=S[C++],x-=3;x&&(E[r++]=S[C++],1<x&&(E[r++]=S[C++]))}else{for(C=r-w;E[r++]=E[C++],E[r++]=E[C++],E[r++]=E[C++],2<(x-=3););x&&(E[r++]=E[C++],1<x&&(E[r++]=E[C++]))}break}}break}}while(i<o&&r<s);i-=x=p>>3,f&=(1<<(p-=x<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<o?o-i+5:5-(i-o),t.avail_out=r<s?s-r+257:257-(r-s),n.hold=f,n.bits=p}},{}],49:[function(t,e,n){"use strict";var i=t("../utils/common"),o=t("./adler32"),r=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),l=-2;function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):l}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):l}function f(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,d(t))):l}function p(t,e){var n,i;return t?(i=new h,(t.state=i).window=null,0!==(n=f(t,e))&&(t.state=null),n):l}var g,m,v=!0;function y(t){if(v){var e;for(g=new i.Buf32(512),m=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),v=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function _(t,e,n,o){var r,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),o>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(r=a.wsize-a.wnext)&&(r=o),i.arraySet(a.window,e,n-o,r,a.wnext),(o-=r)?(i.arraySet(a.window,e,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}n.inflateReset=d,n.inflateReset2=f,n.inflateResetKeep=c,n.inflateInit=function(t){return p(t,15)},n.inflateInit2=p,n.inflate=function(t,e){var n,h,c,d,f,p,g,m,v,b,x,w,C,S,k,E,I,T,D,M,O,P,A,R,B=0,N=new i.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,c=t.output,g=t.avail_out,d=t.next_in,h=t.input,p=t.avail_in,m=n.hold,v=n.bits,b=p,x=g,P=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(2&n.wrap&&35615===m){N[n.check=0]=255&m,N[1]=m>>>8&255,n.check=r(n.check,N,2,0),v=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(v-=4,O=8+(15&(m>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,t.adler=n.check=1,n.mode=512&m?10:12,v=m=0;break;case 2:for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=r(n.check,N,2,0)),v=m=0,n.mode=3;case 3:for(;v<32;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.head&&(n.head.time=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,N[2]=m>>>16&255,N[3]=m>>>24&255,n.check=r(n.check,N,4,0)),v=m=0,n.mode=4;case 4:for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=r(n.check,N,2,0)),v=m=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=r(n.check,N,2,0)),v=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p<(w=n.length)&&(w=p),w&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,h,d,w,O)),512&n.flags&&(n.check=r(n.check,h,w,d)),p-=w,d+=w,n.length-=w),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;for(w=0;O=h[d+w++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O)),O&&w<p;);if(512&n.flags&&(n.check=r(n.check,h,w,d)),p-=w,d+=w,O)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;for(w=0;O=h[d+w++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O)),O&&w<p;);if(512&n.flags&&(n.check=r(n.check,h,w,d)),p-=w,d+=w,O)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}v=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}t.adler=n.check=u(m),v=m=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=g,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=v,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}switch(n.last=1&m,v-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6!==e)break;m>>>=2,v-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,v=m=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(w=n.length){if(p<w&&(w=p),g<w&&(w=g),0===w)break t;i.arraySet(c,h,d,w,f),p-=w,d+=w,g-=w,f+=w,n.length-=w;break}n.mode=12;break;case 17:for(;v<14;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(n.nlen=257+(31&m),m>>>=5,v-=5,n.ndist=1+(31&m),m>>>=5,v-=5,n.ncode=4+(15&m),m>>>=4,v-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.lens[F[n.have++]]=7&m,m>>>=3,v-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,P){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=(B=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,I=65535&B,!((k=B>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(I<16)m>>>=k,v-=k,n.lens[n.have++]=I;else{if(16===I){for(R=k+2;v<R;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(m>>>=k,v-=k,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],w=3+(3&m),m>>>=2,v-=2}else if(17===I){for(R=k+3;v<R;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}v-=k,O=0,w=3+(7&(m>>>=k)),m>>>=3,v-=3}else{for(R=k+7;v<R;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}v-=k,O=0,w=11+(127&(m>>>=k)),m>>>=7,v-=7}if(n.have+w>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,A={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,P){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,P){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=p&&258<=g){t.next_out=f,t.avail_out=g,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=v,a(t,x),f=t.next_out,c=t.output,g=t.avail_out,d=t.next_in,h=t.input,p=t.avail_in,m=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;E=(B=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,I=65535&B,!((k=B>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(E&&0==(240&E)){for(T=k,D=E,M=I;E=(B=n.lencode[M+((m&(1<<T+D)-1)>>T)])>>>16&255,I=65535&B,!(T+(k=B>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}m>>>=T,v-=T,n.back+=T}if(m>>>=k,v-=k,n.back+=k,n.length=I,0===E){n.mode=26;break}if(32&E){n.back=-1,n.mode=12;break}if(64&E){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&E,n.mode=22;case 22:if(n.extra){for(R=n.extra;v<R;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=(B=n.distcode[m&(1<<n.distbits)-1])>>>16&255,I=65535&B,!((k=B>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(0==(240&E)){for(T=k,D=E,M=I;E=(B=n.distcode[M+((m&(1<<T+D)-1)>>T)])>>>16&255,I=65535&B,!(T+(k=B>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}m>>>=T,v-=T,n.back+=T}if(m>>>=k,v-=k,n.back+=k,64&E){t.msg="invalid distance code",n.mode=30;break}n.offset=I,n.extra=15&E,n.mode=24;case 24:if(n.extra){for(R=n.extra;v<R;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break t;if(w=x-g,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}C=w>n.wnext?(w-=n.wnext,n.wsize-w):n.wnext-w,w>n.length&&(w=n.length),S=n.window}else S=c,C=f-n.offset,w=n.length;for(g<w&&(w=g),g-=w,n.length-=w;c[f++]=S[C++],--w;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;c[f++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===p)break t;p--,m|=h[d++]<<v,v+=8}if(x-=g,t.total_out+=x,n.total+=x,x&&(t.adler=n.check=n.flags?r(n.check,c,x,f-x):o(n.check,c,x,f-x)),x=g,(n.flags?m:u(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}v=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}v=m=0}n.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=f,t.avail_out=g,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=v,(n.wsize||x!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&_(t,t.output,t.next_out,x-t.avail_out)?(n.mode=31,-4):(b-=t.avail_in,x-=t.avail_out,t.total_in+=b,t.total_out+=x,n.total+=x,n.wrap&&x&&(t.adler=n.check=n.flags?r(n.check,c,x,t.next_out-x):o(n.check,c,x,t.next_out-x)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==b&&0===x||4===e)&&0===P&&(P=-5),P)},n.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?l:((n.head=e).done=!1,0):l},n.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?l:11===n.mode&&o(1,e,i,0)!==n.check?-3:_(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var i=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,l,u,h,c,d){var f,p,g,m,v,y,_,b,x,w=d.bits,C=0,S=0,k=0,E=0,I=0,T=0,D=0,M=0,O=0,P=0,A=null,R=0,B=new i.Buf16(16),N=new i.Buf16(16),F=null,L=0;for(C=0;C<=15;C++)B[C]=0;for(S=0;S<l;S++)B[e[n+S]]++;for(I=w,E=15;1<=E&&0===B[E];E--);if(E<I&&(I=E),0===E)return u[h++]=20971520,u[h++]=20971520,d.bits=1,0;for(k=1;k<E&&0===B[k];k++);for(I<k&&(I=k),C=M=1;C<=15;C++)if(M<<=1,(M-=B[C])<0)return-1;if(0<M&&(0===t||1!==E))return-1;for(N[1]=0,C=1;C<15;C++)N[C+1]=N[C]+B[C];for(S=0;S<l;S++)0!==e[n+S]&&(c[N[e[n+S]]++]=S);if(y=0===t?(A=F=c,19):1===t?(A=o,R-=257,F=r,L-=257,256):(A=a,F=s,-1),C=k,v=h,D=S=P=0,g=-1,m=(O=1<<(T=I))-1,1===t&&852<O||2===t&&592<O)return 1;for(;;){for(_=C-D,x=c[S]<y?(b=0,c[S]):c[S]>y?(b=F[L+c[S]],A[R+c[S]]):(b=96,0),f=1<<C-D,k=p=1<<T;u[v+(P>>D)+(p-=f)]=_<<24|b<<16|x|0,0!==p;);for(f=1<<C-1;P&f;)f>>=1;if(0!==f?(P&=f-1,P+=f):P=0,S++,0==--B[C]){if(C===E)break;C=e[n+c[S]]}if(I<C&&(P&m)!==g){for(0===D&&(D=I),v+=k,M=1<<(T=C-D);T+D<E&&!((M-=B[T+D])<=0);)T++,M<<=1;if(O+=1<<T,1===t&&852<O||2===t&&592<O)return 1;u[g=P&m]=I<<24|T<<16|v-h|0}}return 0!==P&&(u[v+P]=C-D<<24|64<<16|0),d.bits=I,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var i=t("../utils/common");function o(t){for(var e=t.length;0<=--e;)t[e]=0}var r=256,a=286,s=30,l=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);o(f);var p=new Array(60);o(p);var g=new Array(512);o(g);var m=new Array(256);o(m);var v=new Array(29);o(v);var y,_,b,x=new Array(s);function w(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function C(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function S(t){return t<256?g[t]:g[256+(t>>>7)]}function k(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function E(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function I(t,e,n){E(t,n[2*e],n[2*e+1])}function T(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function D(t,e,n){var i,o,r=new Array(16),a=0;for(i=1;i<=l;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=T(r[s]++,s))}}function M(t){var e;for(e=0;e<a;e++)t.dyn_ltree[2*e]=0;for(e=0;e<s;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function O(t){8<t.bi_valid?k(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function P(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]}function A(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&P(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!P(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function R(t,e,n){var i,o,a,s,l=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],o=t.pending_buf[t.l_buf+l],l++,0===i?I(t,o,e):(I(t,(a=m[o])+r+1,e),0!==(s=u[a])&&E(t,o-=v[a],s),I(t,a=S(--i),n),0!==(s=h[a])&&E(t,i-=x[a],s)),l<t.last_lit;);I(t,256,e)}function B(t,e){var n,i,o,r=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==r[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)r[2*(o=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=h,n=t.heap_len>>1;1<=n;n--)A(t,r,n);for(o=u;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,r[2*o]=r[2*n]+r[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,r[2*n+1]=r[2*i+1]=o,t.heap[1]=o++,A(t,r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,o,r,a,s,u=e.dyn_tree,h=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,g=e.stat_desc.max_length,m=0;for(r=0;r<=l;r++)t.bl_count[r]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)g<(r=u[2*u[2*(i=t.heap[n])+1]+1]+1)&&(r=g,m++),u[2*i+1]=r,h<i||(t.bl_count[r]++,a=0,p<=i&&(a=f[i-p]),s=u[2*i],t.opt_len+=s*(r+a),d&&(t.static_len+=s*(c[2*i+1]+a)));if(0!==m){do{for(r=g-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[g]--,m-=2}while(0<m);for(r=g;0!==r;r--)for(i=t.bl_count[r];0!==i;)h<(o=t.heap[--n])||(u[2*o+1]!==r&&(t.opt_len+=(r-u[2*o+1])*u[2*o],u[2*o+1]=r),i--)}}(t,e),D(r,h,t.bl_count)}function N(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=a,a=e[2*(i+1)+1],++s<l&&o===a||(s<u?t.bl_tree[2*o]+=s:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,r=o,u=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4))}function F(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=n;i++)if(o=a,a=e[2*(i+1)+1],!(++s<l&&o===a)){if(s<u)for(;I(t,o,t.bl_tree),0!=--s;);else 0!==o?(o!==r&&(I(t,o,t.bl_tree),s--),I(t,16,t.bl_tree),E(t,s-3,2)):s<=10?(I(t,17,t.bl_tree),E(t,s-3,3)):(I(t,18,t.bl_tree),E(t,s-11,7));r=o,u=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4)}}o(x);var L=!1;function V(t,e,n,o){E(t,0+(o?1:0),3),function(t,e,n,o){O(t),k(t,n),k(t,~n),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){L||(function(){var t,e,n,i,o,r=new Array(16);for(i=n=0;i<28;i++)for(v[i]=n,t=0;t<1<<u[i];t++)m[n++]=i;for(m[n-1]=i,i=o=0;i<16;i++)for(x[i]=o,t=0;t<1<<h[i];t++)g[o++]=i;for(o>>=7;i<s;i++)for(x[i]=o<<7,t=0;t<1<<h[i]-7;t++)g[256+o++]=i;for(e=0;e<=l;e++)r[e]=0;for(t=0;t<=143;)f[2*t+1]=8,t++,r[8]++;for(;t<=255;)f[2*t+1]=9,t++,r[9]++;for(;t<=279;)f[2*t+1]=7,t++,r[7]++;for(;t<=287;)f[2*t+1]=8,t++,r[8]++;for(D(f,287,r),t=0;t<s;t++)p[2*t+1]=5,p[2*t]=T(t,5);y=new w(f,u,257,a,l),_=new w(p,h,0,s,l),b=new w(new Array(0),c,0,19,7)}(),L=!0),t.l_desc=new C(t.dyn_ltree,y),t.d_desc=new C(t.dyn_dtree,_),t.bl_desc=new C(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,M(t)},n._tr_stored_block=V,n._tr_flush_block=function(t,e,n,i){var o,a,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<r;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),B(t,t.l_desc),B(t,t.d_desc),s=function(t){var e;for(N(t,t.dyn_ltree,t.l_desc.max_code),N(t,t.dyn_dtree,t.d_desc.max_code),B(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==e?V(t,e,n,i):4===t.strategy||a===o?(E(t,2+(i?1:0),3),R(t,f,p)):(E(t,4+(i?1:0),3),function(t,e,n,i){var o;for(E(t,e-257,5),E(t,n-1,5),E(t,i-4,4),o=0;o<i;o++)E(t,t.bl_tree[2*d[o]+1],3);F(t,t.dyn_ltree,e-1),F(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),R(t,t.dyn_ltree,t.dyn_dtree)),M(t),i&&O(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(m[n]+r+1)]++,t.dyn_dtree[2*S(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){E(t,2,3),I(t,256,f),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){"use strict";e.exports="function"==typeof i?i:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)}).call(this,n(130).Buffer,n(53),n(203).setImmediate)},function(t,e,n){"use strict";e.getLanguageId=function(){return r[o.default.locale()]};var i,o=(i=n(123))&&i.__esModule?i:{default:i};var r={ar:1,bg:2,ca:3,"zh-Hans":4,cs:5,da:6,de:7,el:8,en:9,es:10,fi:11,fr:12,he:13,hu:14,is:15,it:16,ja:17,ko:18,nl:19,no:20,pl:21,pt:22,rm:23,ro:24,ru:25,hr:26,sk:27,sq:28,sv:29,th:30,tr:31,ur:32,id:33,uk:34,be:35,sl:36,et:37,lv:38,lt:39,tg:40,fa:41,vi:42,hy:43,az:44,eu:45,hsb:46,mk:47,tn:50,xh:52,zu:53,af:54,ka:55,fo:56,hi:57,mt:58,se:59,ga:60,ms:62,kk:63,ky:64,sw:65,tk:66,uz:67,tt:68,bn:69,pa:70,gu:71,or:72,ta:73,te:74,kn:75,ml:76,as:77,mr:78,sa:79,mn:80,bo:81,cy:82,km:83,lo:84,gl:86,kok:87,syr:90,si:91,iu:93,am:94,tzm:95,ne:97,fy:98,ps:99,fil:100,dv:101,ha:104,yo:106,quz:107,nso:108,ba:109,lb:110,kl:111,ig:112,ii:120,arn:122,moh:124,br:126,ug:128,mi:129,oc:130,co:131,gsw:132,sah:133,qut:134,rw:135,wo:136,prs:140,gd:145,"ar-SA":1025,"bg-BG":1026,"ca-ES":1027,"zh-TW":1028,"cs-CZ":1029,"da-DK":1030,"de-DE":1031,"el-GR":1032,"en-US":1033,"fi-FI":1035,"fr-FR":1036,"he-IL":1037,"hu-HU":1038,"is-IS":1039,"it-IT":1040,"ja-JP":1041,"ko-KR":1042,"nl-NL":1043,"nb-NO":1044,"pl-PL":1045,"pt-BR":1046,"rm-CH":1047,"ro-RO":1048,"ru-RU":1049,"hr-HR":1050,"sk-SK":1051,"sq-AL":1052,"sv-SE":1053,"th-TH":1054,"tr-TR":1055,"ur-PK":1056,"id-ID":1057,"uk-UA":1058,"be-BY":1059,"sl-SI":1060,"et-EE":1061,"lv-LV":1062,"lt-LT":1063,"tg-Cyrl-TJ":1064,"fa-IR":1065,"vi-VN":1066,"hy-AM":1067,"az-Latn-AZ":1068,"eu-ES":1069,"hsb-DE":1070,"mk-MK":1071,"tn-ZA":1074,"xh-ZA":1076,"zu-ZA":1077,"af-ZA":1078,"ka-GE":1079,"fo-FO":1080,"hi-IN":1081,"mt-MT":1082,"se-NO":1083,"ms-MY":1086,"kk-KZ":1087,"ky-KG":1088,"sw-KE":1089,"tk-TM":1090,"uz-Latn-UZ":1091,"tt-RU":1092,"bn-IN":1093,"pa-IN":1094,"gu-IN":1095,"or-IN":1096,"ta-IN":1097,"te-IN":1098,"kn-IN":1099,"ml-IN":1100,"as-IN":1101,"mr-IN":1102,"sa-IN":1103,"mn-MN":1104,"bo-CN":1105,"cy-GB":1106,"km-KH":1107,"lo-LA":1108,"gl-ES":1110,"kok-IN":1111,"syr-SY":1114,"si-LK":1115,"iu-Cans-CA":1117,"am-ET":1118,"ne-NP":1121,"fy-NL":1122,"ps-AF":1123,"fil-PH":1124,"dv-MV":1125,"ha-Latn-NG":1128,"yo-NG":1130,"quz-BO":1131,"nso-ZA":1132,"ba-RU":1133,"lb-LU":1134,"kl-GL":1135,"ig-NG":1136,"ii-CN":1144,"arn-CL":1146,"moh-CA":1148,"br-FR":1150,"ug-CN":1152,"mi-NZ":1153,"oc-FR":1154,"co-FR":1155,"gsw-FR":1156,"sah-RU":1157,"qut-GT":1158,"rw-RW":1159,"wo-SN":1160,"prs-AF":1164,"gd-GB":1169,"ar-IQ":2049,"zh-CN":2052,"de-CH":2055,"en-GB":2057,"es-MX":2058,"fr-BE":2060,"it-CH":2064,"nl-BE":2067,"nn-NO":2068,"pt-PT":2070,"sr-Latn-CS":2074,"sv-FI":2077,"az-Cyrl-AZ":2092,"dsb-DE":2094,"se-SE":2107,"ga-IE":2108,"ms-BN":2110,"uz-Cyrl-UZ":2115,"bn-BD":2117,"mn-Mong-CN":2128,"iu-Latn-CA":2141,"tzm-Latn-DZ":2143,"quz-EC":2155,"ar-EG":3073,"zh-HK":3076,"de-AT":3079,"en-AU":3081,"es-ES":3082,"fr-CA":3084,"sr-Cyrl-CS":3098,"se-FI":3131,"quz-PE":3179,"ar-LY":4097,"zh-SG":4100,"de-LU":4103,"en-CA":4105,"es-GT":4106,"fr-CH":4108,"hr-BA":4122,"smj-NO":4155,"ar-DZ":5121,"zh-MO":5124,"de-LI":5127,"en-NZ":5129,"es-CR":5130,"fr-LU":5132,"bs-Latn-BA":5146,"smj-SE":5179,"ar-MA":6145,"en-IE":6153,"es-PA":6154,"fr-MC":6156,"sr-Latn-BA":6170,"sma-NO":6203,"ar-TN":7169,"en-ZA":7177,"es-DO":7178,"sr-Cyrl-BA":7194,"sma-SE":7227,"ar-OM":8193,"en-JM":8201,"es-VE":8202,"bs-Cyrl-BA":8218,"sms-FI":8251,"ar-YE":9217,"en-029":9225,"es-CO":9226,"sr-Latn-RS":9242,"smn-FI":9275,"ar-SY":10241,"en-BZ":10249,"es-PE":10250,"sr-Cyrl-RS":10266,"ar-JO":11265,"en-TT":11273,"es-AR":11274,"sr-Latn-ME":11290,"ar-LB":12289,"en-ZW":12297,"es-EC":12298,"sr-Cyrl-ME":12314,"ar-KW":13313,"en-PH":13321,"es-CL":13322,"ar-AE":14337,"es-UY":14346,"ar-BH":15361,"es-PY":15370,"ar-QA":16385,"en-IN":16393,"es-BO":16394,"en-MY":17417,"es-SV":17418,"en-SG":18441,"es-HN":18442,"es-NI":19466,"es-PR":20490,"es-US":21514,"bs-Cyrl":25626,"bs-Latn":26650,"sr-Cyrl":27674,"sr-Latn":28698,smn:28731,"az-Cyrl":29740,sms:29755,zh:30724,nn:30740,bs:30746,"az-Latn":30764,sma:30779,"uz-Cyrl":30787,"mn-Cyrl":30800,"iu-Cans":30813,"zh-Hant":31748,nb:31764,sr:31770,"tg-Cyrl":31784,dsb:31790,smj:31803,"uz-Latn":31811,"mn-Mong":31824,"iu-Latn":31837,"tzm-Latn":31839,"ha-Latn":31848}},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=u(n(84)),r=u(n(529)),a=u(n(260)),s=u(n(262)),l=u(n(532));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cellFormatTags=[],this._fillTags=[],this._fontTags=[],this._numberFormatTags=[],this._fillTags.push(a.default.tryCreateTag({patternFill:{patternType:"none"}}))}var e,n,u;return e=t,u=[{key:"copyCellFormat",value:function(t){return r.default.copy(t)}}],(n=[{key:"registerCellFormat",value:function(t){var e,n=r.default.tryCreateTag(t,{registerFill:this.registerFill.bind(this),registerFont:this.registerFont.bind(this),registerNumberFormat:this.registerNumberFormat.bind(this)});if((0,i.isDefined)(n)){for(var o=0;o<this._cellFormatTags.length;o++)if(r.default.areEqual(this._cellFormatTags[o],n)){e=o;break}void 0===e&&(e=this._cellFormatTags.push(n)-1)}return e}},{key:"generateCellFormatsXml",value:function(){var t=this._cellFormatTags.map((function(t){return r.default.toXml(t)}));return o.default.toXml("cellXfs",{count:t.length},t.join(""))}},{key:"registerFill",value:function(t){var e,n=a.default.tryCreateTag(t);if((0,i.isDefined)(n)){for(var o=0;o<this._fillTags.length;o++)if(a.default.areEqual(this._fillTags[o],n)){e=o;break}void 0===e&&(this._fillTags.length<2&&this._fillTags.push(a.default.tryCreateTag({patternFill:{patternType:"Gray125"}})),e=this._fillTags.push(n)-1)}return e}},{key:"generateFillsXml",value:function(){var t=this._fillTags.map((function(t){return a.default.toXml(t)}));return o.default.toXml("fills",{count:t.length},t.join(""))}},{key:"registerFont",value:function(t){var e,n=s.default.tryCreateTag(t);if((0,i.isDefined)(n)){for(var o=0;o<this._fontTags.length;o++)if(s.default.areEqual(this._fontTags[o],n)){e=o;break}void 0===e&&(e=this._fontTags.push(n)-1)}return e}},{key:"generateFontsXml",value:function(){var t=this._fontTags.map((function(t){return s.default.toXml(t)}));return o.default.toXml("fonts",{count:t.length},t.join(""))}},{key:"_convertNumberFormatIndexToId",value:function(t){return 165+t}},{key:"registerNumberFormat",value:function(t){var e,n=l.default.tryCreateTag(t);if((0,i.isDefined)(n)){for(var o=0;o<this._numberFormatTags.length;o++)if(l.default.areEqual(this._numberFormatTags[o],n)){e=this._numberFormatTags[o][l.default.ID_PROPERTY_NAME];break}void 0===e&&(n[l.default.ID_PROPERTY_NAME]=this._convertNumberFormatIndexToId(this._numberFormatTags.length),e=n[l.default.ID_PROPERTY_NAME],this._numberFormatTags.push(n))}return e}},{key:"generateNumberFormatsXml",value:function(){if(this._numberFormatTags.length>0){var t=this._numberFormatTags.map((function(t){return l.default.toXml(t)}));return o.default.toXml("numFmts",{count:t.length},t.join(""))}return""}}])&&h(e.prototype,n),u&&h(e,u),t}();e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=l(n(84)),r=l(n(530)),a=l(n(260)),s=l(n(262));function l(t){return t&&t.__esModule?t:{default:t}}var u={tryCreateTag:function(t,e){var n=null;if((0,i.isDefined)(t)){var o;o="number"===typeof t.numberFormat?t.numberFormat:e.registerNumberFormat(t.numberFormat);var s=t.fill;(0,i.isDefined)(s)||(s=a.default.tryCreateFillFromSimpleFormat(t)),n={numberFormatId:o,alignment:r.default.tryCreateTag(t.alignment),fontId:e.registerFont(t.font),fillId:e.registerFill(s)},u.isEmpty(n)&&(n=null)}return n},copy:function(t){var e;return null===t?e=null:(0,i.isDefined)(t)&&(e={},void 0!==t.numberFormat&&(e.numberFormat=t.numberFormat),void 0!==t.fill?e.fill=a.default.copy(t.fill):a.default.copySimpleFormat(t,e),void 0!==t.alignment&&(e.alignment=r.default.copy(t.alignment)),void 0!==t.font&&(e.font=s.default.copy(t.font))),e},areEqual:function(t,e){return u.isEmpty(t)&&u.isEmpty(e)||(0,i.isDefined)(t)&&(0,i.isDefined)(e)&&t.fontId===e.fontId&&t.numberFormatId===e.numberFormatId&&t.fillId===e.fillId&&r.default.areEqual(t.alignment,e.alignment)},isEmpty:function(t){return!(0,i.isDefined)(t)||!(0,i.isDefined)(t.fontId)&&!(0,i.isDefined)(t.numberFormatId)&&!(0,i.isDefined)(t.fillId)&&r.default.isEmpty(t.alignment)},toXml:function(t){var e,n=r.default.isEmpty(t.alignment);return(0,i.isDefined)(t.numberFormatId)&&(e=t.numberFormatId>0?1:0),o.default.toXml("xf",{xfId:0,applyAlignment:n?null:1,fontId:t.fontId,applyNumberFormat:e,fillId:t.fillId,numFmtId:t.numberFormatId},n?null:r.default.toXml(t.alignment))}},h=u;e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(2),r=(i=n(84))&&i.__esModule?i:{default:i};var a={tryCreateTag:function(t){var e=null;return(0,o.isDefined)(t)&&(e={vertical:t.vertical,wrapText:t.wrapText,horizontal:t.horizontal},a.isEmpty(e)&&(e=null)),e},copy:function(t){var e=null;return(0,o.isDefined)(t)&&(e={},void 0!==t.horizontal&&(e.horizontal=t.horizontal),void 0!==t.vertical&&(e.vertical=t.vertical),void 0!==t.wrapText&&(e.wrapText=t.wrapText)),e},areEqual:function(t,e){return a.isEmpty(t)&&a.isEmpty(e)||(0,o.isDefined)(t)&&(0,o.isDefined)(e)&&t.vertical===e.vertical&&t.wrapText===e.wrapText&&t.horizontal===e.horizontal},isEmpty:function(t){return!(0,o.isDefined)(t)||!(0,o.isDefined)(t.vertical)&&!(0,o.isDefined)(t.wrapText)&&!(0,o.isDefined)(t.horizontal)},toXml:function(t){return r.default.toXml("alignment",{vertical:t.vertical,wrapText:(0,o.isDefined)(t.wrapText)?Number(t.wrapText):void 0,horizontal:t.horizontal})}},s=a;e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i=n(2),o=a(n(84)),r=a(n(261));function a(t){return t&&t.__esModule?t:{default:t}}var s={tryCreateTag:function(t){var e=null;return(0,i.isDefined)(t)&&(e={patternType:t.patternType,backgroundColor:r.default.tryCreateTag(t.backgroundColor),foregroundColor:r.default.tryCreateTag(t.foregroundColor)},s.isEmpty(e)&&(e=null)),e},copy:function(t){var e=null;return(0,i.isDefined)(t)&&(e={},void 0!==t.patternType&&(e.patternType=t.patternType),void 0!==t.backgroundColor&&(e.backgroundColor=r.default.copy(t.backgroundColor)),void 0!==t.foregroundColor&&(e.foregroundColor=r.default.copy(t.foregroundColor))),e},areEqual:function(t,e){return s.isEmpty(t)&&s.isEmpty(e)||(0,i.isDefined)(t)&&(0,i.isDefined)(e)&&t.patternType===e.patternType&&r.default.areEqual(t.backgroundColor,e.backgroundColor)&&r.default.areEqual(t.foregroundColor,e.foregroundColor)},isEmpty:function(t){return!(0,i.isDefined)(t)||!(0,i.isDefined)(t.patternType)},toXml:function(t){var e=[(0,i.isDefined)(t.foregroundColor)?r.default.toXml("fgColor",t.foregroundColor):"",(0,i.isDefined)(t.backgroundColor)?r.default.toXml("bgColor",t.backgroundColor):""].join("");return o.default.toXml("patternFill",{patternType:t.patternType},e)}},l=s;e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i,o=n(2),r=(i=n(84))&&i.__esModule?i:{default:i};var a={ID_PROPERTY_NAME:"id",tryCreateTag:function(t){var e=null;return"string"===typeof t&&(e={formatCode:t},a.isEmpty(e)&&(e=null)),e},areEqual:function(t,e){return a.isEmpty(t)&&a.isEmpty(e)||(0,o.isDefined)(t)&&(0,o.isDefined)(e)&&t.formatCode===e.formatCode},isEmpty:function(t){return!(0,o.isDefined)(t)||!(0,o.isDefined)(t.formatCode)||""===t.formatCode},toXml:function(t){return r.default.toXml("numFmt",{numFmtId:t[a.ID_PROPERTY_NAME],formatCode:t.formatCode})}},s=a;e.default=s,t.exports=e.default},function(t,e,n){"use strict";e.default=void 0;var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},o=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var e=parseInt(t[1],10),n=parseInt(t[2],10),i=parseInt(t[3],10),o=l(e,n,i);return[o[0],o[1],o[2],1,[e,n,i]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var e=parseInt(t[1],10),n=parseInt(t[2],10),i=parseInt(t[3],10),o=c(e,n,i);return[o[0],o[1],o[2],1,null,[e,n,i]]}}],r=Math.round;function a(t){var e;this.baseColor=t,t&&(e=String(t).toLowerCase().replace(/ /g,""),e=function(t){if("transparent"===t)return[0,0,0,0];for(var e,n=0,i=o.length;n<i;++n)if(e=o[n].re.exec(t))return o[n].process(e);return null}(e=i[e]?"#"+i[e]:e)),e||(this.colorIsInvalid=!0),e=e||{},this.r=s(e[0]),this.g=s(e[1]),this.b=s(e[2]),this.a=s(e[3],1,1),e[4]?this.hsv={h:e[4][0],s:e[4][1],v:e[4][2]}:this.hsv=function(t,e,n){var i,o,r=Math.max(t,e,n),a=Math.min(t,e,n),s=r-a,l=r;if(o=0===r?0:1-a/r,r===a)i=0;else switch(r){case t:i=(e-n)/s*60,e<n&&(i+=360);break;case e:i=(n-t)/s*60+120;break;case n:i=(t-e)/s*60+240}return o*=100,l*=100/255,{h:Math.round(i),s:Math.round(o),v:Math.round(l)}}(this.r,this.g,this.b),e[5]?this.hsl={h:e[5][0],s:e[5][1],l:e[5][2]}:this.hsl=function(t,e,n){t=d(t,255),e=d(e,255),n=d(n,255);var i,o,a=Math.max(t,e,n),s=Math.min(t,e,n),l=a+s,u=l/2;if(a===s)i=o=0;else{var h=a-s;o=u>.5?h/(2-l):h/l,i=function(t,e,n,i){switch(Math.max(t,e,n)){case t:return(e-n)/i+(e<n?6:0);case e:return(n-t)/i+2;case n:return(t-e)/i+4}}(t,e,n,h),i/=6}return{h:r(360*i),s:r(100*o),l:r(100*u)}}(this.r,this.g,this.b)}function s(t,e,n){return e=e||0,n=n||255,t<0||isNaN(t)?e:t>n?n:t}function l(t,e,n){var i,o,r,a=(100-e)*n/100,s=t%60/60*(n-a),l=a+s,u=n-s;switch(Math.floor(t%360/60)){case 0:i=n,o=l,r=a;break;case 1:i=u,o=n,r=a;break;case 2:i=a,o=n,r=l;break;case 3:i=a,o=u,r=n;break;case 4:i=l,o=a,r=n;break;case 5:i=n,o=a,r=u}return[Math.round(2.55*i),Math.round(2.55*o),Math.round(2.55*r)]}function u(t,e){var n=e;return"r"===t&&(n=e+1/3),"b"===t&&(n=e-1/3),n}function h(t,e,n){return(n=function(t){return t<0&&(t+=1),t>1&&(t-=1),t}(n))<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function c(t,e,n){var i,o,a;if(t=d(t,360),e=d(e,100),n=d(n,100),0===e)i=o=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=h(l,s,u("r",t)),o=h(l,s,u("g",t)),a=h(l,s,u("b",t))}return[r(255*i),r(255*o),r(255*a)]}function d(t,e){return t=Math.min(e,Math.max(0,parseFloat(t))),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function f(t,e,n){return e=e||0,n=n||255,!(t%1!==0||t<e||t>n||"number"!==typeof t||isNaN(t))}a.prototype={constructor:a,highlight:function(t){return t=t||10,this.alter(t).toHex()},darken:function(t){return t=t||10,this.alter(-t).toHex()},alter:function(t){var e=new a;return e.r=s(this.r+t),e.g=s(this.g+t),e.b=s(this.b+t),e},blend:function(t,e){var n=t instanceof a?t:new a(t),i=new a;return i.r=s(r(this.r*(1-e)+n.r*e)),i.g=s(r(this.g*(1-e)+n.g*e)),i.b=s(r(this.b*(1-e)+n.b*e)),i},toHex:function(){return t=this.r,e=this.g,n=this.b,"#"+(16777216|t<<16|e<<8|n).toString(16).slice(1);var t,e,n},getPureColor:function(){return new a("rgb("+l(this.hsv.h,100,100).join(",")+")")},isValidHex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},isValidRGB:function(t,e,n){return!!(f(t)&&f(e)&&f(n))},isValidAlpha:function(t){return!(isNaN(t)||t<0||t>1||"number"!==typeof t)},colorIsInvalid:!1,fromHSL:function(t){var e=new a,n=c(t.h,t.s,t.l);return e.r=n[0],e.g=n[1],e.b=n[2],e}};var p=a;e.default=p,t.exports=e.default},function(t,e,n){"use strict";e.getData=function(t,e){return d.getData(t,e)},e.svgCreator=void 0;var i=h(n(1)),o=h(n(225)),r=n(14),a=n(2),s=n(5),l=n(264),u=n(8);function h(t){return t&&t.__esModule?t:{default:t}}var c=(0,r.getWindow)(),d={_markup:"",_imageArray:{},_imageDeferreds:[],_getBinaryFile:function(t,e){o.default.sendRequest({url:t,method:"GET",responseType:"arraybuffer"}).done(e).fail((function(){e(!1)}))},_loadImages:function(){var t=this;(0,s.each)(t._imageArray,(function(e){var n=new u.Deferred;t._imageDeferreds.push(n),t._getBinaryFile(e,(function(i){if(!i)return delete t._imageArray[e],void n.resolve();var o,r="",a=new Uint8Array(i),s=a.byteLength;for(o=0;o<s;o++)r+=String.fromCharCode(a[o]);t._imageArray[e]="data:image/png;base64,"+c.btoa(r),n.resolve()}))}))},_parseImages:function(t){var e,n=this;"image"===t.tagName&&(e=(0,i.default)(t).attr("href")||(0,i.default)(t).attr("xlink:href"),n._imageArray[e]||(n._imageArray[e]="")),(0,s.each)(t.childNodes,(function(t,e){n._parseImages(e)}))},_prepareImages:function(t){return this._parseImages(t),this._loadImages(),u.when.apply(i.default,this._imageDeferreds)},getData:function(t,e){var n,o=this,r=(0,l.getSvgElement)(t),u=(0,i.default)(r);return n='<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>'+(0,l.getSvgMarkup)(u.get(0),e.backgroundColor),o._prepareImages(r).then((function(){return(0,s.each)(o._imageArray,(function(t,e){var i="href=['|\"]".concat(t,"['|\"]");n=n.replace(new RegExp(i,"gi"),'href="'.concat(e,'"'))})),(0,a.isFunction)(c.Blob)?o._getBlob(n):o._getBase64(n)}))},_getBlob:function(t){return new c.Blob([t],{type:"image/svg+xml"})},_getBase64:function(t){return c.btoa(t)}};e.svgCreator=d},function(t,e,n){"use strict";e.getData=function(t,e){return a.imageCreator.getImageData(t,(0,l.extend)({},e,{format:"JPEG"})).then((function(t){var n=function(t,e,n){var i=2*(e.margin||0),r=e.width+i,a=e.height+i,s=(.75*r).toFixed(2),l=(.75*a).toFixed(2),u="%PDF-1.3\r\n2 0 obj\r\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\r\nendobj\r\n4 0 obj\r\n<</Type/Pages/Kids[1 0 R]/Count 1>>\r\nendobj\r\n7 0 obj\r\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\r\nendobj\r\n1 0 obj\r\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\r\nendobj\r\n".replace("_width_",s).replace("_height_",l),c="3 0 obj\r\n<</Length 52>>stream\r\n0.20 w\n0 G\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\r\nendstream\r\nendobj\r\n".replace("_width_",s).replace("_height_",l),d="6 0 obj\r\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\r\nendobj\r\n".replace("_date_",n).replace("_version_",o.default),f="5 0 obj\r\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\r\n".replace("_width_",r).replace("_height_",a).replace("_length_",t.length)+t+"\r\nendstream\r\nendobj\r\n",p=(v=u.length,y=c.length,_=d.length,"xref\r\n0 8\r\n0000000000 65535 f\r\n0000000241 00000 n\r\n0000000010 00000 n\r\n_main_ 00000 n\r\n0000000089 00000 n\r\n_image_ 00000 n\r\n_info_ 00000 n\r\n0000000143 00000 n\r\n".replace("_main_",h(v+"",10)).replace("_info_",h(v+y+"",10)).replace("_image_",h(v+y+_+"",10))),g=u+c+d+f,m="trailer\r\n<<\r\n/Size 8\r\n/Root 7 0 R\r\n/Info 6 0 R\r\n>>\r\nstartxref\r\n_length_\r\n%%EOF".replace("_length_",g.length);var v,y,_;return g+p+m}(t,e,new Date);return(0,s.isFunction)(u.Blob)?function(t){for(var e=0,n=new Uint8Array(t.length);e<t.length;e++)n[e]=t.charCodeAt(e);return new u.Blob([n.buffer],{type:"application/pdf"})}(n):function(t){return u.btoa(t)}(n)}))};var i,o=(i=n(206))&&i.__esModule?i:{default:i},r=n(14),a=n(263),s=n(2),l=n(3);var u=(0,r.getWindow)(),h=function t(e,n){return e.length<n?t("0"+e,n):e}},function(t,e,n){"use strict";var i=c(n(22)),o=c(n(537)),r=n(8),a=n(2),s=n(6),l=n(184),u=n(29),h=n(3);function c(t){return t&&t.__esModule?t:{default:t}}var d=Number.MAX_SAFE_INTEGER||9007199254740991;i.default.registerModule("focus",(0,h.extend)(!0,{},o.default,{extenders:{controllers:{data:{changeRowExpand:function(t,e){if(this.option("focusedRowEnabled")&&Array.isArray(t)&&this.isRowExpanded(t)){var n=this.getController("keyboardNavigation");e&&n.isKeyboardEnabled()||!this._isFocusedRowInsideGroup(t)||this.option("focusedRowKey",t)}return this.callBase.apply(this,arguments)},_isFocusedRowInsideGroup:function(t){var e=this.getController("columns"),n=this.option("focusedRowKey"),i=this.getRowIndexByKey(n),o=i>=0&&this.getVisibleRows()[i],r=e.getGroupDataSourceParameters(!0);if(o)for(var a=0;a<t.length;++a){if((0,u.compileGetter)(r[a]&&r[a].selector)(o.data)!==t[a])return!1}return!0},_getGroupPath:function(t){for(var e=[t.key],n=t.items;n&&n[0];){var i=n[0];void 0!==i.key&&e.push(i.key),n=i.items}return e},_expandGroupByPath:function(t,e,n){var i=new r.Deferred;return n++,t.expandRow(e.slice(0,n)).done((function(){n===e.length?i.resolve():t._expandGroupByPath(t,e,n).done(i.resolve).fail(i.reject)})).fail(i.reject),i.promise()},_calculateGlobalRowIndexByGroupedData:function(t){var e=this,n=e._dataSource,i=e._generateFilterByKey(t),o=new r.Deferred,s=Array.isArray(t),l=n.group();return s?o.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:e._concatWithCombinedFilter(i),group:l}).done((function(n){if(!n||0===n.length||!(0,a.isDefined)(n[0].key)||-1===n[0].key)return o.resolve(-1).promise();var i=e._getGroupPath(n[0]);e._expandGroupByPath(e,i,0).done((function(){e._calculateExpandedRowGlobalIndex(o,t,i,l)})).fail(o.reject)})).fail(o.reject),o.promise()):(e._calculateGlobalRowIndexByFlatData(t,null,!0).done(o.resolve).fail(o.reject),o)},_calculateExpandedRowGlobalIndex:function(t,e,n,i){var o,r=(0,l.createGroupFilter)(n,{group:i}),a=this._dataSource,u=this.option("scrolling.mode"),h="virtual"===u||"infinite"===u,c=a.pageSize();a._grouping._updatePagingOptions({skip:0,take:d},(function(t,e){(0,s.equalByValue)(t.path,n)&&(o=e)})),this._calculateGlobalRowIndexByFlatData(e,r).done((function(e){var i,r;e<0?t.resolve(-1):(i=(o%c||c)+e-n.length,r=h?0:Math.floor(i/(c-n.length))*n.length,i=o+e+r,t.resolve(i))})).fail(t.reject)}}}}}))},function(t,e,n){"use strict";e.default=void 0;var i=h(n(1)),o=h(n(35)),r=n(5),a=h(n(31)),s=n(6),l=n(2),u=n(8);function h(t){return t&&t.__esModule?t:{default:t}}var c={defaultOptions:function(){return{focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:void 0,focusedRowIndex:-1,focusedColumnIndex:-1}},controllers:{focus:o.default.ViewController.inherit({init:function(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged:function(t){if("focusedRowIndex"===t.name){var e=this.option("focusedRowKey");this._focusRowByIndex(t.value),this._triggerFocusedRowChangedIfNeed(e,t.value),t.handled=!0}else if("focusedRowKey"===t.name){var n=this.option("focusedRowIndex");this._focusRowByKey(t.value),this._triggerFocusedRowChangedIfNeed(t.value,n),t.handled=!0}else"focusedColumnIndex"===t.name||"focusedRowEnabled"===t.name||"autoNavigateToFocusedRow"===t.name?t.handled=!0:this.callBase(t)},_triggerFocusedRowChangedIfNeed:function(t,e){if(e===this.getFocusedRowIndexByKey(t)){var n=this._dataController.getRowIndexByKey(t);if(n>=0){var o=(0,i.default)(this.getView("rowsView").getRowElement(n));this.getController("keyboardNavigation")._fireFocusedRowChanged(o,e)}}},isAutoNavigateToFocusedRow:function(){return"infinite"!==this.option("scrolling.mode")&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex:function(t){this.option("focusedRowEnabled")&&((t=void 0!==t?t:this.option("focusedRowIndex"))<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(t))},_focusRowByIndexCore:function(t){var e=this,n=this.getController("data"),i=n.pageSize(),o=function(){if(e._isValidFocusedRowIndex(t)){var i=t-n.getRowIndexOffset(),o=n._getLastItemIndex(),r=Math.min(i,o),a=n.getKeyByRowIndex(r);void 0===a||e.isRowFocused(a)||e.option("focusedRowKey",a)}};if(i>=0)if(this._isLocalRowIndex(t))o();else{var r=Math.floor(t/n.pageSize());(0,u.when)(n.pageIndex(r),n.waitReady()).done((function(){o()}))}},_isLocalRowIndex:function(t){var e=this.getController("data");if(this.getController("keyboardNavigation")._isVirtualScrolling()){var n=Math.floor(t/e.pageSize()),i=e.virtualItemsCount(),o=i?i.begin:-1,r=e.getVisibleRows().length+e.getRowIndexOffset(),a=Math.ceil(r/e.pageSize());return o<=t&&a>n}return!0},_setFocusedRowKeyByIndex:function(t){var e=this.getController("data");if(this._isValidFocusedRowIndex(t)){var n=Math.min(t-e.getRowIndexOffset(),e.items().length-1),i=e.getKeyByRowIndex(n);void 0===i||this.isRowFocused(i)||this.option("focusedRowKey",i)}},_focusRowByKey:function(t){void 0===t?this._resetFocusedRow():this._navigateToRow(t,!0)},_resetFocusedRow:function(){if(!(void 0===this.option("focusedRowKey")&&this.option("focusedRowIndex")<0)){var t=this.getController("keyboardNavigation");this.option("focusedRowKey",void 0),t.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:void 0}),t._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex:function(t){var e=this.getController("data").getVisibleRows()[t];return!e||"data"===e.rowType||"group"===e.rowType},publicMethods:function(){return["navigateToRow","isRowFocused"]},navigateToRow:function(t){this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(t)},_navigateToRow:function(t,e){var n=this,i=n.getController("data"),o=n.isAutoNavigateToFocusedRow(),r=new u.Deferred;if(void 0===t||!i.dataSource())return r.reject().promise();var a=n.getFocusedRowIndexByKey(t),s=i.getDataSource().paginate();return!o&&e||!s||a>=0?n._navigateTo(t,r,e):i.getPageIndexByKey(t).done((function(o){o<0?r.resolve(-1):o===i.pageIndex()?i.reload().done((function(){n.isRowFocused(t)?r.resolve(n.getFocusedRowIndexByKey(t)):n._navigateTo(t,r,e)})).fail(r.reject):i.pageIndex(o).done((function(){n._navigateTo(t,r,e)})).fail(r.reject)})).fail(r.reject),r.promise()},_navigateTo:function(t,e,n){var i=this.getController("data").getRowIndexByKey(t),o="virtual"===this.option("scrolling.rowRenderingMode");this.isAutoNavigateToFocusedRow()&&o&&i<0?this._navigateToVirtualRow(t,e,n):this._navigateToVisibleRow(t,e,n)},_navigateToVisibleRow:function(t,e,n){n?this._triggerUpdateFocusedRow(t,e):this.getView("rowsView").scrollToRowElement(t)},_navigateToVirtualRow:function(t,e,n){var i=this,o=this.getController("data"),r=o._rowsScrollController,s=a.default.getIndexByKey(t,o.items(!0)),l=i.getView("rowsView").getScrollable();if(r&&l&&s>=0){var u=s+o.getRowIndexOffset()-o.getRowIndexDelta(),h=r.getItemOffset(u);n&&i.component.on("contentReady",(function n(){i.component.off("contentReady",n),i._triggerUpdateFocusedRow(t,e)})),l.scrollTo({y:h})}},_triggerUpdateFocusedRow:function(t,e){var n=this.getController("data"),i=this.getFocusedRowIndexByKey(t);this._isValidFocusedRowIndex(i)?(this.option("focusedRowEnabled")?n.updateItems({changeType:"updateFocusedRow",focusedRowKey:t}):this.getView("rowsView").scrollToRowElement(t),this.getController("keyboardNavigation").setFocusedRowIndex(i),e&&e.resolve(i)):e&&e.resolve(-1)},getFocusedRowIndexByKey:function(t){var e=this.getController("data"),n=e.getRowIndexByKey(t);return n>=0?n+e.getRowIndexOffset():-1},_focusRowByKeyOrIndex:function(){var t=this,e=this.option("focusedRowKey"),n=this.option("focusedRowIndex"),i=this.getController("keyboardNavigation"),o=this.getController("data");if(void 0!==e){var r=o.getRowIndexByKey(e);r>=0?(i._isVirtualScrolling()&&(n=r+o.getRowIndexOffset()),i.setFocusedRowIndex(n),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done((function(e){n>=0&&e<0&&t._focusRowByIndex()}))}else n>=0&&this.getController("focus")._focusRowByIndex(n)},isRowFocused:function(t){if(void 0!==this.option("focusedRowKey"))return(0,s.equalByValue)(t,this.option("focusedRowKey"))},updateFocusedRow:function(t){var e,n=this,o=n._dataController.getRowIndexByKey(t.focusedRowKey),a=n.getView("rowsView");(0,r.each)(a.getTableElements(),(function(r,a){var s=0===r;e=(0,i.default)(a),n._clearPreviousFocusedRow(e,o),n._prepareFocusedRow({changedItem:t.items[o],$tableElement:e,focusedRowIndex:o,isMainTable:s})}))},_clearPreviousFocusedRow:function(t,e){var n=this,o=t.find(".dx-row.dx-row-focused").filter((function(e,o){var r=(0,i.default)(o).closest(".".concat(n.addWidgetPrefix("table")));return t.is(r)}));o.removeClass("dx-row-focused").removeClass("dx-cell-focus-disabled").removeAttr("tabindex"),o.children("td").removeAttr("tabindex"),0!==e&&(0,i.default)(this.getView("rowsView").getRowElement(0)).removeClass("dx-cell-focus-disabled").removeAttr("tabIndex")},_prepareFocusedRow:function(t){var e,n=t.changedItem;if(n&&("data"===n.rowType||"group"===n.rowType)){var o=t.focusedRowIndex,r=t.$tableElement,a=t.isMainTable,s=this.option("tabindex")||0,l=this.getView("rowsView");(e=(0,i.default)(l._getRowElements(r).eq(o))).addClass("dx-row-focused").attr("tabindex",s),a&&l.scrollToElementVertically(e)}return e}})},extenders:{controllers:{keyboardNavigation:{init:function(){var t=this.option("focusedRowIndex"),e=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},(0,l.isDefined)(t)&&(this._focusedCellPosition.rowIndex=this.option("focusedRowIndex")),(0,l.isDefined)(e)&&(this._focusedCellPosition.columnIndex=this.option("focusedColumnIndex"))},setFocusedRowIndex:function(t){this.callBase(t);var e=this.getController("data").getVisibleRows()[t];e&&e.isNewRow||this.option("focusedRowIndex",t)},setFocusedColumnIndex:function(t){this.callBase(t),this.option("focusedColumnIndex",t)},_escapeKeyHandler:function(t,e){!e&&this.option("focusedRowEnabled")?this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(t.originalEvent.target),!0)):this.callBase(t,e)},_updateFocusedCellPosition:function(t,e){var n=this.option("focusedRowIndex"),i=this.option("focusedColumnIndex"),o=this.callBase(t,e);o&&o.columnIndex>=0&&this._fireFocusedCellChanged(t,i,n)}},editorFactory:{renderFocusOverlay:function(t,e){var n,i=this.getController("keyboardNavigation"),o=this.option("focusedRowEnabled"),r=this.getController("editing"),a="row"===i._getElementType(t);o&&i.isRowFocusType()&&!r.isEditing()?o&&a&&!t.hasClass("dx-row-focused")&&(n=i.getFirstValidCellInRow(t),i.focus(n)):this.callBase(t,e)}},columns:{getSortDataSourceParameters:function(t,e){var n=this,i=this.callBase.apply(this,arguments),o=this.getController("data"),r=o._dataSource,a=o.store(),s=a&&a.key(),l=r&&r.remoteOperations()||{},u=Object.keys(l).every((function(t){return!l[t]}));if(s&&(this.option("focusedRowEnabled")&&!1!==this.getController("focus").isAutoNavigateToFocusedRow()||e)){var h=(s=Array.isArray(s)?s:[s]).filter((function(t){return!n.columnOption(t,"sortOrder")}));h.length&&(i=i||[],u?i.push({selector:r.getDataIndexGetter(),desc:!1}):h.forEach((function(t){return i.push({selector:t,desc:!1})})))}return i}},data:{_applyChange:function(t){if(!t||"updateFocusedRow"!==t.changeType)return this.callBase.apply(this,arguments)},_fireChanged:function(t){if(this.callBase(t),this.option("focusedRowEnabled")&&this._dataSource){var e="update"===t.changeType&&t.repaintChangesOnly&&t.changeTypes&&t.changeTypes.indexOf("remove")>=0;"refresh"===t.changeType&&t.items.length||e?(this._updatePageIndexes(),this.processUpdateFocusedRow(t)):"append"!==t.changeType&&"prepend"!==t.changeType||this._updatePageIndexes()}},_updatePageIndexes:function(){var t=this._lastRenderingPageIndex||0,e=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=e,this._isPagingByRendering=e!==t},isPagingByRendering:function(){return this._isPagingByRendering},processUpdateFocusedRow:function(t){var e=t.operationTypes||{},n=this.getController("focus"),i=e.reload,o=e.fullReload,r=this.getController("keyboardNavigation")._isVirtualScrolling(),a=this.option("focusedRowKey"),s=n.isAutoNavigateToFocusedRow();if(i&&!o&&void 0!==a)n._navigateToRow(a,!0).done((function(t){t<0&&n._focusRowByIndex()}));else if(e.paging&&!r)if(s){var l=this.getRowIndexByKey(a),u=l>=0,h=this.option("focusedRowIndex");h>=0&&(h===l||!u)&&n._focusRowByIndex()}else this.getRowIndexByKey(a)<0&&this.option("focusedRowIndex",-1);else e.fullReload&&n._focusRowByKeyOrIndex()},getPageIndexByKey:function(t){var e=this,n=new u.Deferred;return e.getGlobalRowIndexByKey(t).done((function(t){n.resolve(t>=0?Math.floor(t/e.pageSize()):-1)})).fail(n.reject),n.promise()},getGlobalRowIndexByKey:function(t){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(t):this._calculateGlobalRowIndexByFlatData(t)},_calculateGlobalRowIndexByFlatData:function(t,e,n){var i=this,o=new u.Deferred,r=i._dataSource,a=i._generateFilterByKey(t);return r.load({filter:i._concatWithCombinedFilter(a),skip:0,take:1}).done((function(s){s.length>0?(a=i._generateOperationFilterByKey(t,s[0],n),r.load({filter:i._concatWithCombinedFilter(a,e),skip:0,take:1,requireTotalCount:!0}).done((function(t,e){o.resolve(e.totalCount)}))):o.resolve(-1)})),o.promise()},_concatWithCombinedFilter:function(t,e){var n=this.getCombinedFilter();return a.default.combineFilters([t,n,e])},_generateBooleanFilter:function(t,e,n){var i;return!1===e?i=[t,"=",!!n.desc||null]:(!0===e?!n.desc:n.desc)&&(i=[t,"<>",e]),i},_generateOperationFilterByKey:function(t,e,n){var i=this,o=i._dataSource,r=i._generateFilterByKey(t,"<"),a=i._columnsController.getSortDataSourceParameters(!o.remoteOperations().filtering,!0);if(n){var s=i._columnsController.getGroupDataSourceParameters(!o.remoteOperations().filtering);s&&(a=a?s.concat(a):s)}return a&&a.slice().reverse().forEach((function(t){var n,o=t.selector,a=(n="function"===typeof o?o:i._columnsController.columnOption(o,"selector"))?n(e):e[o];if(r=[[o,"=",a],"and",r],null===a||(0,l.isBoolean)(a)){var s=i._generateBooleanFilter(o,a,t);s&&(r=[s,"or",r])}else r=[[o,t.desc?">":"<",a],"or",r]})),r},_generateFilterByKey:function(t,e){var n=this._dataSource.key(),i=[];if(e||(e="="),Array.isArray(n))for(var o=0;o<n.length;++o){var r=t[n[o]];r&&(i.length>0&&i.push("and"),i.push([n[o],e,r]))}else i=[n,e,t];return i},_getLastItemIndex:function(){return this.items(!0).length-1}}},views:{rowsView:{_createRow:function(t){var e=this.callBase(t);return this.option("focusedRowEnabled")&&t&&this.getController("focus").isRowFocused(t.key)&&e.addClass("dx-row-focused"),e},_checkRowKeys:function(t){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var e=this._dataController.store();e&&!e.key()&&this._dataController.fireError("E1042","Row focusing")}},_update:function(t){"updateFocusedRow"===t.changeType?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(t):this.callBase(t)},updateFocusElementTabIndex:function(t){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex():this.callBase(t)},_setFocusedRowElementTabIndex:function(){var t=this,e=this.option("focusedRowKey"),n=this.option("tabIndex")||0,i=this._dataController,o=this._columnsController,r=i.getRowIndexByKey(e),a=this.option("focusedColumnIndex"),s=this._findRowElementForTabIndex();if((0,l.isDefined)(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=function(){t.scrollToElementVertically(t._findRowElementForTabIndex()),t.resizeCompleted.remove(t._scrollToFocusOnResize)}),s.attr("tabIndex",n),r>=0){a<0&&(a=0),r+=i.getRowIndexOffset(),a+=o.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(r,a);var u=i.dataSource(),h=u&&u.operationTypes();!h||h.paging||i.isPagingByRendering()||(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex:function(){var t=this.option("focusedRowKey"),e=this._dataController.getRowIndexByKey(t);return(0,i.default)(this.getRowElement(e>=0?e:0))},scrollToRowElement:function(t){var e=this.getController("data").getRowIndexByKey(t),n=(0,i.default)(this.getRow(e));this.scrollToElementVertically(n)},scrollToElementVertically:function(t){var e=this.getScrollable();if(e){var n=e.getScrollElementPosition(t,"vertical");e.scrollTo({top:n})}}}}}};e.default=c,t.exports=e.default},function(t,e,n){"use strict";var i=r(n(22)),o=r(n(539));function r(t){return t&&t.__esModule?t:{default:t}}i.default.registerModule("rowDragging",o.default)},function(t,e,n){"use strict";e.default=void 0;var i=l(n(1)),o=n(3),r=l(n(245)),a=l(n(31)),s=l(n(24));function l(t){return t&&t.__esModule?t:{default:t}}var u={defaultOptions:function(){return{rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}},extenders:{views:{rowsView:{init:function(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering:function(){var t=this.option("rowDragging");return!(!t||!(t.allowReordering||t.allowDropInsideItem||t.group))},_updateHandleColumn:function(){var t=this.option("rowDragging"),e=this._allowReordering(),n=this._columnsController,i=e&&t.showDragIcons;n&&n.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",cssClass:"dx-command-drag",width:"auto",cellTemplate:this._getHandleTemplate(),visible:i}),n.columnOption("type:drag","visible",i)},_renderContent:function(){var t=this,e=this.option("rowDragging"),n=this._allowReordering(),i=this.callBase.apply(this,arguments),a=this._isFixedTableRendering,l="_sortable",u="_sortableFixed",h=a?u:l,c=a?l:u,d=function(e){var n;null===(n=t[u])||void 0===n||n.$element().css("pointerEvents",e?"auto":"")};return n&&i.length&&(this[h]=this._createComponent(i,r.default,(0,o.extend)({component:this.component,contentTemplate:null,filter:"> table > tbody > .dx-row:not(.dx-freespace-row):not(.dx-virtual-row)",dragTemplate:this._getDraggableRowTemplate(),handle:e.showDragIcons&&".".concat("dx-command-drag"),dropFeedbackMode:"indicate"},e,{onDragStart:function(t){var n,i=t.component.getVisibleRows()[t.fromIndex];t.itemData=i&&i.data;var o=i&&"data"===i.rowType;t.cancel=!o,null===(n=e.onDragStart)||void 0===n||n.call(e,t)},onDragEnter:function(){d(!0)},onDragLeave:function(){d(!1)},onDragEnd:function(t){var n;d(!1),null===(n=e.onDragEnd)||void 0===n||n.call(e,t)},dropFeedbackMode:s.default.msie?"indicate":e.dropFeedbackMode,onOptionChanged:function(e){t[u]&&("fromIndex"!==e.name&&"toIndex"!==e.name||t[c].option(e.name,e.value))}})),i.toggleClass("dx-sortable-without-handle",!e.showDragIcons)),i},_resizeCore:function(){this.callBase.apply(this,arguments);var t=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach((function(e){null===e||void 0===e||e.option("offset",t),null===e||void 0===e||e.update()}))},_getDraggableGridOptions:function(t){var e=this.option(),n=this.getColumns(),o=(0,i.default)(this.getRowElement(t.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:!1},pager:{visible:!1},loadingTimeout:void 0,columnFixing:e.columnFixing,columnAutoWidth:e.columnAutoWidth,showColumnLines:e.showColumnLines,columns:n.map((function(t){return{width:t.width||t.visibleWidth,fixed:t.fixed,fixedPosition:t.fixedPosition}})),onRowPrepared:function(t){var e=t.component.getView("rowsView");(0,i.default)(t.rowElement).replaceWith(o.eq(e._isFixedTableRendering?1:0).clone())}}},_getDraggableRowTemplate:function(){var t=this;return function(e){var n=t.component.$element(),o=(0,i.default)("<div>").width(n.width()),r=t._dataController.items(),a=r&&r[e.fromIndex],s=t._getDraggableGridOptions(a);return t._createComponent(o,t.component.NAME,s),o.find(".dx-gridbase-container").children(":not(.".concat(t.addWidgetPrefix("rowsview"),")")).hide(),o}},_getHandleTemplate:function(){var t=this;return function(e,n){if("data"===n.rowType)return(0,i.default)(e).addClass("dx-cell-focus-disabled"),(0,i.default)("<span>").addClass(t.addWidgetPrefix("drag-icon"));a.default.setEmptyText((0,i.default)(e))}},optionChanged:function(t){"rowDragging"===t.name&&(this._updateHandleColumn(),this._invalidate(!0,!0),t.handled=!0),this.callBase.apply(this,arguments)}}}}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsManager=void 0;var i=n(541),o=n(267),r=n(150),a=n(268),s=function(){function t(t){this._guards={},this._isUpdating=!1,this._templatesManager=t,this.onOptionChanged=this.onOptionChanged.bind(this),this._wrapOptionValue=this._wrapOptionValue.bind(this)}return t.prototype.setInstance=function(t,e){this._instance=t,this._currentConfig=e},t.prototype.getInitialOptions=function(t){for(var e=o.buildConfig(t,!1),n=0,i=Object.keys(e.templates);n<i.length;n++){var r=i[n];this._templatesManager.add(r,e.templates[r])}for(var a={},s=0,l=Object.keys(e.options);s<l.length;s++){a[r=l[s]]=this._wrapOptionValue(r,e.options[r])}return this._templatesManager.templatesCount>0&&(a.integrationOptions={templates:this._templatesManager.templates}),a},t.prototype.update=function(t){var e=this,n=i.getChanges(t,this._currentConfig);if(n.options||n.templates||n.removedOptions.length){this._instance.beginUpdate(),this._isUpdating=!0,n.removedOptions.forEach((function(t){e._resetOption(t)}));for(var o=0,r=Object.keys(n.templates);o<r.length;o++){var a=r[o];this._templatesManager.add(a,n.templates[a])}this._templatesManager.templatesCount>0&&this._setValue("integrationOptions",{templates:this._templatesManager.templates});for(var s=0,l=Object.keys(n.options);s<l.length;s++){a=l[s];this._setValue(a,n.options[a])}this._isUpdating=!1,this._instance.endUpdate(),this._currentConfig=t}},t.prototype.onOptionChanged=function(t){if(!this._isUpdating){this._callOptionChangeHandler(t.fullName,t.value);var e=o.findValue(this._currentConfig,t.fullName.split("."));if(e){var n=e.value;if(e.type===o.ValueType.Complex)for(var i=0,a=Object.keys(n);i<a.length;i++){var s=a[i];null!==n[s]&&void 0!==n[s]&&n[s]!==t.value[s]&&this._setGuard(r.mergeNameParts(t.fullName,s),n[s])}else{if(null===n||void 0===n||n===t.value)return;this._setGuard(t.fullName,n)}}}},t.prototype.dispose=function(){for(var t=0,e=Object.keys(this._guards);t<e.length;t++){var n=e[t];window.clearTimeout(this._guards[n]),delete this._guards[n]}},t.prototype._callOptionChangeHandler=function(t,e){var n=t.split("."),i=n[n.length-1];if(!i.startsWith("on")){var r="on"+a.capitalizeFirstLetter(i)+"Change";n[n.length-1]=r;var s=o.findValue(this._currentConfig,n);if(s){if("function"!==typeof s.value)throw new Error("Invalid value for the "+r+" property.\n                "+r+" must be a function.");s.value(e)}}},t.prototype._wrapOptionValue=function(t,e){var n=this;return"on"===t.substr(0,2)&&"function"===typeof e?function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];n._isUpdating||e.apply(void 0,t)}:e},t.prototype._setGuard=function(t,e){var n=this;if(void 0===this._guards[t]){var i=window.setTimeout((function(){n._setValue(t,e),window.clearTimeout(i),delete n._guards[t]}));this._guards[t]=i}},t.prototype._resetOption=function(t){this._instance.resetOption(t)},t.prototype._setValue=function(t,e){this._guards[t]&&(window.clearTimeout(this._guards[t]),delete this._guards[t]),this._instance.option(t,this._wrapOptionValue(t,e))},t}();e.OptionsManager=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getChanges=void 0;var i=n(267),o=n(150);function r(t,e,n){if(e){n.addRemovedValues(t.options,e.options,t.fullName),n.addRemovedValues(t.configCollections,e.configCollections,t.fullName),n.addRemovedValues(t.configs,e.configs,t.fullName),function(t,e,n){for(var a=function(a){var s=t.configCollections[a],l=e.configCollections[a]||[];if(!s||s.length!==l.length){var u=[];return s.map((function(t){var e=i.buildNode(t,n.templates,!0);u.push(e)})),n.options[o.mergeNameParts(t.fullName,a)]=u,"continue"}for(var h=0;h<s.length;h++)r(s[h],l[h],n)},s=0,l=Object.keys(t.configCollections);s<l.length;s++){var u=l[s];a(u)}}(t,e,n);for(var a=0,s=Object.keys(t.configs);a<s.length;a++){var l=s[a];r(t.configs[l],e.configs[l],n)}for(var u=0,h=Object.keys(t.options);u<h.length;u++){l=h[u];t.options[l]!==e.options[l]&&(n.options[o.mergeNameParts(t.fullName,l)]=t.options[l])}!function(t,e,n){var r={},a={},s={},l={};i.buildTemplates(t,r,a),i.buildTemplates(e,s,l),n.addRemovedValues(r,s,t.fullName);for(var u=0,h=Object.keys(r);u<h.length;u++){var c=h[u];r[c]!==s[c]&&(n.options[o.mergeNameParts(t.fullName,c)]=r[c])}for(var d=0,f=Object.keys(a);d<f.length;d++){c=f[d];var p=a[c],g=l[c];g&&p.content===g.content||(n.templates[c]=p)}}(t,e,n)}else n.options[t.fullName]=i.buildNode(t,n.templates,!0)}e.getChanges=function(t,e){var n={options:{},removedOptions:[],templates:{},addRemovedValues:function(t,e,n){!function(t,e,n,i){for(var r=Object.keys(e).filter((function(e){return Object.keys(t).indexOf(e)<0})),a=0,s=r;a<s.length;a++){var l=s[a];i.push(o.mergeNameParts(n,l))}}(t,e,n,this.removedOptions)}};return r(t,e,n),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(543),r=n(544);function a(t){if(o.getOption("useLegacyTemplateEngine")){var e=t.data;return e&&e.hasOwnProperty("key")&&(e.dxkey=e.key),e}return t}var s={component:function(t){return function(e){return e=a(e),i.createElement.bind(null,t())(e)}},render:function(t){return function(e){return a(e),t()(e.data,e.index)}},children:function(t){return function(){return t()}}},l=function(){function t(t){this._templates={},this._templatesContent={},this._templatesStore=t}return t.prototype.add=function(t,e){var n=this;this._templatesContent[t]=e.content;var i=s[e.type].bind(this,(function(){return n._templatesContent[t]}));this._templates[t]=r.createDxTemplate(i,this._templatesStore,e.keyFn)},Object.defineProperty(t.prototype,"templatesCount",{get:function(){return Object.keys(this._templates).length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),t}();e.default=l},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getOption=void 0;var o={useLegacyTemplateEngine:!1};e.getOption=function(t){return o[t]},e.default=function(t){o=i(i({},o),t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDxTemplate=void 0;var i=n(0),o=n(268),r=n(545);e.createDxTemplate=function(t,e,n){var a=new o.DoubleKeyMap;return{render:function(s){var l,u,h=(l=s.container).get?l.get(0):l,c={key1:s.model,key2:h},d=a.get(c);return d?u=d:(u=n?n(s.model):"__template_"+o.generateID(),void 0!==s.model&&a.set(c,u)),e.add(u,(function(){var n={data:s.model,index:s.index},o=t();return i.createElement(r.TemplateWrapper,{content:o(n),container:h,onRemoved:function(){e.remove(u),a.delete({key1:s.model,key2:h})},onRendered:s.onRendered,key:u})})),h}}}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateWrapper=void 0;var o=n(266),r=n(0),a=n(71),s=n(188),l={display:"none"},u=function(t){function e(e){var n=t.call(this,e)||this;return n._removalListenerRef=r.createRef(),n.state={removalListenerRequired:!1},n._onDxRemove=n._onDxRemove.bind(n),n}return i(e,t),Object.defineProperty(e.prototype,"_listenerElement",{get:function(){return this._removalListenerRef.current},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.state.removalListenerRequired?r.createElement("span",{style:l,ref:this._removalListenerRef}):void 0;return a.createPortal(r.createElement(r.Fragment,null,this.props.content,t),this.props.container)},e.prototype.componentDidMount=function(){var t,e;null===(e=(t=this.props).onRendered)||void 0===e||e.call(t),this._subscribeOnRemove()},e.prototype.componentDidUpdate=function(){this._subscribeOnRemove()},e.prototype.componentWillUnmount=function(){var t=a.findDOMNode(this);t&&this.props.container.appendChild(t),this._listenerElement&&this.props.container.appendChild(this._listenerElement)},e.prototype._subscribeOnRemove=function(){var t=a.findDOMNode(this);t&&t.nodeType===Node.ELEMENT_NODE?this._subscribeOnElementRemoval(t):this.state.removalListenerRequired?this._listenerElement&&this._subscribeOnElementRemoval(this._listenerElement):this.setState({removalListenerRequired:!0})},e.prototype._subscribeOnElementRemoval=function(t){o.off(t,s.DX_REMOVE_EVENT,this._onDxRemove),o.one(t,s.DX_REMOVE_EVENT,this._onDxRemove)},e.prototype._onDxRemove=function(){this.props.onRemoved()},e}(r.PureComponent);e.TemplateWrapper=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatesRenderer=void 0;var o=n(6),r=n(0),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._updateScheduled=!1,e}return i(e,t),e.prototype.scheduleUpdate=function(){var t=this;this._updateScheduled||(this._updateScheduled=!0,o.deferUpdate((function(){t.forceUpdate(),t._updateScheduled=!1})))},e.prototype.render=function(){return r.createElement(r.Fragment,{},this.props.templatesStore.renderWrappers())},e}(r.PureComponent);e.TemplatesRenderer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatesStore=void 0;var i=function(){function t(t){this._templates={},this._onTemplateAdded=t}return t.prototype.add=function(t,e){this._templates[t]=e,this._onTemplateAdded()},t.prototype.remove=function(t){delete this._templates[t]},t.prototype.renderWrappers=function(){var t=this;return Object.getOwnPropertyNames(this._templates).map((function(e){return t._templates[e]()}))},t}();e.TemplatesStore=i},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.buildConfigTree=void 0;var o=n(0),r=n(269),a=n(270),s=n(150),l=n(550);function u(t,e){for(var n=t.descriptor.isCollection?e:s.mergeNameParts(e,t.descriptor.name),i=r.separateProps(t.props,t.descriptor.initialValuesProps,t.descriptor.templates),h=function(t,e){var n=[],i={},r={},h=!1;return o.Children.map(t.props.children,(function(o){var c=a.getElementInfo(o,t.descriptor.expectedChildren);if(c.type!==a.ElementType.Unknown)if(c.type!==a.ElementType.Template)if(c.descriptor.isCollection){var d=i[c.descriptor.name];d||(d=[],i[c.descriptor.name]=d);var f=u(c,s.mergeNameParts(e,c.descriptor.name)+"["+d.length+"]");d.push(f)}else{var p=u(c,e);r[c.descriptor.name]=p}else{var g=l.getNamedTemplate(c.props);g&&n.push(g)}else h=!0})),{configs:r,configCollections:i,templates:n,hasTranscludedContent:h}}(t,n),c=0,d=t.descriptor.templates;c<d.length;c++){var f=d[c],p=l.getAnonymousTemplate(t.props,f,e.length>0&&h.hasTranscludedContent);p&&h.templates.push(p)}return{fullName:n,predefinedOptions:t.descriptor.predefinedValuesProps,initialOptions:i.defaults,options:i.options,templates:h.templates,configCollections:h.configCollections,configs:h.configs}}e.buildConfigTree=function(t,e){return u({type:a.ElementType.Option,descriptor:i({name:"",isCollection:!1},t),props:e},"")}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.findProps=e.Template=void 0;var o=n(23),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(){return null},e}(n(0).PureComponent);e.Template=r;var a=function(t){return t.component||t.render||t.children?null:new Error("The Template component requires 'component' or 'render' property")};r.propTypes={name:o.string.isRequired,component:a,render:a,children:a},e.findProps=function(t){if(t.type===r)return{name:t.props.name,render:t.props.render,component:t.props.component,children:t.props.children,keyFn:t.props.keyFn}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNamedTemplate=e.getAnonymousTemplate=void 0,e.getAnonymousTemplate=function(t,e,n){return"template"===e.tmplOption&&n?{optionName:e.tmplOption,isAnonymous:!0,type:"children",content:t.children,keyFn:t[e.keyFn]}:t[e.render]?{optionName:e.tmplOption,isAnonymous:!0,type:"render",content:t[e.render],keyFn:t[e.keyFn]}:t[e.component]?{optionName:e.tmplOption,isAnonymous:!0,type:"component",content:t[e.component],keyFn:t[e.keyFn]}:null},e.getNamedTemplate=function(t){return t.name?t.component?{optionName:t.name,isAnonymous:!1,type:"component",content:t.component,keyFn:t.keyFn}:t.render?{optionName:t.name,isAnonymous:!1,type:"render",content:t.render,keyFn:t.keyFn}:{optionName:t.name,isAnonymous:!1,type:"children",content:t.children,keyFn:t.keyFn}:null}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionComponent=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.componentDidMount=function(){var t=this.props.onMounted;t?t(this._createWidget):this._createWidget()},e}(n(188).ComponentBase);e.ExtensionComponent=o},function(t,e,n){"use strict";var i=n(61),o=n(272),r=n(554),a=n(189);function s(t){var e=new r(t),n=o(r.prototype.request,e);return i.extend(n,r.prototype,e),i.extend(n,e),n}var l=s(a);l.Axios=r,l.create=function(t){return s(i.merge(a,t))},l.Cancel=n(276),l.CancelToken=n(567),l.isCancel=n(275),l.all=function(t){return Promise.all(t)},l.spread=n(568),t.exports=l,t.exports.default=l},function(t,e){t.exports=function(t){return null!=t&&null!=t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var i=n(189),o=n(61),r=n(562),a=n(563);function s(t){this.defaults=t,this.interceptors={request:new r,response:new r}}s.prototype.request=function(t){"string"===typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],(function(t){s.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}})),o.forEach(["post","put","patch"],(function(t){s.prototype[t]=function(e,n,i){return this.request(o.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=s},function(t,e,n){"use strict";var i=n(61);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},function(t,e,n){"use strict";var i=n(274);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,o){return t.config=e,n&&(t.code=n),t.request=i,t.response=o,t}},function(t,e,n){"use strict";var i=n(61);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(i.isURLSearchParams(e))r=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),r=a.join("&")}return r&&(t+=(-1===t.indexOf("?")?"?":"&")+r),t}},function(t,e,n){"use strict";var i=n(61),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,r,a={};return t?(i.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var i=n(61);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=i.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(61);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,o,r,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(o)&&s.push("path="+o),i.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(61);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var i=n(61),o=n(564),r=n(275),a=n(189),s=n(565),l=n(566);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!s(t.url)&&(t.url=l(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return r(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var i=n(61);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(276);function o(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},,function(t,e,n){"use strict";var i=function(){};t.exports=i},function(t,e,n){},function(t,e,n){},,,,function(t,e,n){"use strict";var i=n(15),o=n(36),r=n(49),a=n.n(r),s=!("undefined"===typeof window||!window.document||!window.document.createElement),l=!1,u=!1;try{var h={get passive(){return l=!0},get once(){return u=l=!0}};s&&(window.addEventListener("test",h,h),window.removeEventListener("test",h,!0))}catch(Jt){}var c=function(t,e,n,i){if(i&&"boolean"!==typeof i&&!u){var o=i.once,r=i.capture,a=n;!u&&o&&(a=n.__once||function t(i){this.removeEventListener(e,t,r),n.call(this,i)},n.__once=a),t.addEventListener(e,a,l?i:r)}t.addEventListener(e,n,i)};function d(t){return t&&t.ownerDocument||document}var f,p=function(t,e,n,i){var o=i&&"boolean"!==typeof i?i.capture:i;t.removeEventListener(e,n,o),n.__once&&t.removeEventListener(e,n.__once,o)};function g(t){if((!f&&0!==f||t)&&s){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),f=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return f}var m=n(0),v=n.n(m);var y=function(t){var e=Object(m.useRef)(t);return Object(m.useEffect)((function(){e.current=t}),[t]),e};function _(t){var e=y(t);return Object(m.useCallback)((function(){return e.current&&e.current.apply(e,arguments)}),[e])}var b=n(153);function x(t,e){return function(t){var e=d(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var w=/([A-Z])/g;var C=/^ms-/;function S(t){return function(t){return t.replace(w,"-$1").toLowerCase()}(t).replace(C,"-ms-")}var k=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var E=function(t,e){var n="",i="";if("string"===typeof e)return t.style.getPropertyValue(S(e))||x(t).getPropertyValue(S(e));Object.keys(e).forEach((function(o){var r=e[o];r||0===r?!function(t){return!(!t||!k.test(t))}(o)?n+=S(o)+": "+r+";":i+=o+"("+r+") ":t.style.removeProperty(S(o))})),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n};var I=function(t,e,n,i){return c(t,e,n,i),function(){p(t,e,n,i)}};s&&window;function T(t,e,n){void 0===n&&(n=5);var i=!1,o=setTimeout((function(){i||function(t){var e=document.createEvent("HTMLEvents");e.initEvent("transitionend",!0,!0),t.dispatchEvent(e)}(t)}),e+n),r=I(t,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(o),r()}}var D=function(t,e,n){null==n&&(n=function(t){var e=E(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var i=T(t,n),o=I(t,"transitionend",e);return function(){i(),o()}};function M(){return(M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function O(t){return t&&t.ownerDocument||document}function P(t){void 0===t&&(t=O());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(Jt){return t.body}}function A(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}var R=!("undefined"===typeof window||!window.document||!window.document.createElement),B=!1,N=!1;try{var F={get passive(){return B=!0},get once(){return N=B=!0}};R&&(window.addEventListener("test",F,F),window.removeEventListener("test",F,!0))}catch(Jt){}var L=function(t,e,n,i){if(i&&"boolean"!==typeof i&&!N){var o=i.once,r=i.capture,a=n;!N&&o&&(a=n.__once||function t(i){this.removeEventListener(e,t,r),n.call(this,i)},n.__once=a),t.addEventListener(e,a,B?i:r)}t.addEventListener(e,n,i)};var V=function(t,e,n,i){var o=i&&"boolean"!==typeof i?i.capture:i;t.removeEventListener(e,n,o),n.__once&&t.removeEventListener(e,n.__once,o)};var j=function(t,e,n,i){return L(t,e,n,i),function(){V(t,e,n,i)}},z=n(23),H=n.n(z),W=n(71),G=n.n(W),K=n(282);function $(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function U(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function q(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=U(t.className,e):t.setAttribute("class",U(t.className&&t.className.baseVal||"",e))}function Y(t,e){return function(t){var e=O(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var X=/([A-Z])/g;var Z=/^ms-/;function J(t){return function(t){return t.replace(X,"-$1").toLowerCase()}(t).replace(Z,"-ms-")}var Q=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var tt,et=function(t,e){var n="",i="";if("string"===typeof e)return t.style.getPropertyValue(J(e))||Y(t).getPropertyValue(J(e));Object.keys(e).forEach((function(o){var r=e[o];r||0===r?!function(t){return!(!t||!Q.test(t))}(o)?n+=J(o)+": "+r+";":i+=o+"("+r+") ":t.style.removeProperty(J(o))})),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n};function nt(t){return"window"in t&&t.window===t?t:"nodeType"in(e=t)&&e.nodeType===document.DOCUMENT_NODE&&t.defaultView||!1;var e}function it(t){var e;return nt(t)||(e=t)&&"body"===e.tagName.toLowerCase()?function(t){var e=nt(t)?O():O(t),n=nt(t)||e.defaultView;return e.body.clientWidth<n.innerWidth}(t):t.scrollHeight>t.clientHeight}var ot=["template","script","style"],rt=function(t,e,n){[].forEach.call(t.children,(function(t){-1===e.indexOf(t)&&function(t){var e=t.nodeType,n=t.tagName;return 1===e&&-1===ot.indexOf(n.toLowerCase())}(t)&&n(t)}))};function at(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}var st,lt=function(){function t(t){var e=void 0===t?{}:t,n=e.hideSiblingNodes,i=void 0===n||n,o=e.handleContainerOverflow,r=void 0===o||o;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=i,this.handleContainerOverflow=r,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=function(t){if((!tt&&0!==tt||t)&&R){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),tt=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return tt}()}var e=t.prototype;return e.isContainerOverflowing=function(t){var e=this.data[this.containerIndexFromModal(t)];return e&&e.overflowing},e.containerIndexFromModal=function(t){return function(t,e){var n=-1;return t.some((function(t,i){return!!e(t,i)&&(n=i,!0)})),n}(this.data,(function(e){return-1!==e.modals.indexOf(t)}))},e.setContainerStyle=function(t,e){var n={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(n.paddingRight=parseInt(et(e,"paddingRight")||"0",10)+this.scrollbarSize+"px"),et(e,n)},e.removeContainerStyle=function(t,e){Object.assign(e.style,t.style)},e.add=function(t,e,n){var i=this.modals.indexOf(t),o=this.containers.indexOf(e);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(t),this.hideSiblingNodes&&function(t,e){var n=e.dialog,i=e.backdrop;rt(t,[n,i],(function(t){return at(!0,t)}))}(e,t),-1!==o)return this.data[o].modals.push(t),i;var r={modals:[t],classes:n?n.split(/\s+/):[],overflowing:it(e)};return this.handleContainerOverflow&&this.setContainerStyle(r,e),r.classes.forEach($.bind(null,e)),this.containers.push(e),this.data.push(r),i},e.remove=function(t){var e=this.modals.indexOf(t);if(-1!==e){var n=this.containerIndexFromModal(t),i=this.data[n],o=this.containers[n];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(e,1),0===i.modals.length)i.classes.forEach(q.bind(null,o)),this.handleContainerOverflow&&this.removeContainerStyle(i,o),this.hideSiblingNodes&&function(t,e){var n=e.dialog,i=e.backdrop;rt(t,[n,i],(function(t){return at(!1,t)}))}(o,t),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var r=i.modals[i.modals.length-1],a=r.backdrop;at(!1,r.dialog),at(!1,a)}}},e.isTopModal=function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t},t}(),ut=function(t){var e;return"undefined"===typeof document?null:null==t?O().body:("function"===typeof t&&(t=t()),t&&"current"in t&&(t=t.current),(null==(e=t)?void 0:e.nodeType)&&t||null)};function ht(t){var e=t||(st||(st=new lt),st),n=Object(m.useRef)({dialog:null,backdrop:null});return Object.assign(n.current,{add:function(t,i){return e.add(n.current,t,i)},remove:function(){return e.remove(n.current)},isTopModal:function(){return e.isTopModal(n.current)},setDialogRef:Object(m.useCallback)((function(t){n.current.dialog=t}),[]),setBackdropRef:Object(m.useCallback)((function(t){n.current.backdrop=t}),[])})}var ct=Object(m.forwardRef)((function(t,e){var n=t.show,i=void 0!==n&&n,o=t.role,r=void 0===o?"dialog":o,a=t.className,s=t.style,l=t.children,u=t.backdrop,h=void 0===u||u,c=t.keyboard,d=void 0===c||c,f=t.onBackdropClick,p=t.onEscapeKeyDown,g=t.transition,y=t.backdropTransition,x=t.autoFocus,w=void 0===x||x,C=t.enforceFocus,S=void 0===C||C,k=t.restoreFocus,E=void 0===k||k,I=t.restoreFocusOptions,T=t.renderDialog,D=t.renderBackdrop,O=void 0===D?function(t){return v.a.createElement("div",t)}:D,B=t.manager,N=t.container,F=t.containerClassName,L=t.onShow,V=t.onHide,z=void 0===V?function(){}:V,H=t.onExit,W=t.onExited,$=t.onExiting,U=t.onEnter,q=t.onEntering,Y=t.onEntered,X=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),Z=function(t,e){var n=Object(m.useState)((function(){return ut(t)})),i=n[0],o=n[1];if(!i){var r=ut(t);r&&o(r)}return Object(m.useEffect)((function(){e&&i&&e(i)}),[e,i]),Object(m.useEffect)((function(){var e=ut(t);e!==i&&o(e)}),[t,i]),i}(N),J=ht(B),Q=Object(K.a)(),tt=function(t){var e=Object(m.useRef)(null);return Object(m.useEffect)((function(){e.current=t})),e.current}(i),et=Object(m.useState)(!i),nt=et[0],it=et[1],ot=Object(m.useRef)(null);Object(m.useImperativeHandle)(e,(function(){return J}),[J]),R&&!tt&&i&&(ot.current=P()),g||i||nt?i&&nt&&it(!1):it(!0);var rt=_((function(){if(J.add(Z,F),ft.current=j(document,"keydown",ct),dt.current=j(document,"focus",(function(){return setTimeout(st)}),!0),L&&L(),w){var t=P(document);J.dialog&&t&&!A(J.dialog,t)&&(ot.current=t,J.dialog.focus())}})),at=_((function(){var t;(J.remove(),null==ft.current||ft.current(),null==dt.current||dt.current(),E)&&(null==(t=ot.current)||null==t.focus||t.focus(I),ot.current=null)}));Object(m.useEffect)((function(){i&&Z&&rt()}),[i,Z,rt]),Object(m.useEffect)((function(){nt&&at()}),[nt,at]),Object(b.a)((function(){at()}));var st=_((function(){if(S&&Q()&&J.isTopModal()){var t=P();J.dialog&&t&&!A(J.dialog,t)&&J.dialog.focus()}})),lt=_((function(t){t.target===t.currentTarget&&(null==f||f(t),!0===h&&z())})),ct=_((function(t){d&&27===t.keyCode&&J.isTopModal()&&(null==p||p(t),t.defaultPrevented||z())})),dt=Object(m.useRef)(),ft=Object(m.useRef)(),pt=g;if(!Z||!(i||pt&&!nt))return null;var gt=M({role:r,ref:J.setDialogRef,"aria-modal":"dialog"===r||void 0},X,{style:s,className:a,tabIndex:-1}),mt=T?T(gt):v.a.createElement("div",gt,v.a.cloneElement(l,{role:"document"}));pt&&(mt=v.a.createElement(pt,{appear:!0,unmountOnExit:!0,in:!!i,onExit:H,onExiting:$,onExited:function(){it(!0);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];null==W||W.apply(void 0,e)},onEnter:U,onEntering:q,onEntered:Y},mt));var vt=null;if(h){var yt=y;vt=O({ref:J.setBackdropRef,onClick:lt}),yt&&(vt=v.a.createElement(yt,{appear:!0,in:!!i},vt))}return v.a.createElement(v.a.Fragment,null,G.a.createPortal(v.a.createElement(v.a.Fragment,null,vt,mt),Z))})),dt={show:H.a.bool,container:H.a.any,onShow:H.a.func,onHide:H.a.func,backdrop:H.a.oneOfType([H.a.bool,H.a.oneOf(["static"])]),renderDialog:H.a.func,renderBackdrop:H.a.func,onEscapeKeyDown:H.a.func,onBackdropClick:H.a.func,containerClassName:H.a.string,keyboard:H.a.bool,transition:H.a.elementType,backdropTransition:H.a.elementType,autoFocus:H.a.bool,enforceFocus:H.a.bool,restoreFocus:H.a.bool,restoreFocusOptions:H.a.shape({preventScroll:H.a.bool}),onEnter:H.a.func,onEntering:H.a.func,onEntered:H.a.func,onExit:H.a.func,onExiting:H.a.func,onExited:H.a.func,manager:H.a.instanceOf(lt)};ct.displayName="Modal",ct.propTypes=dt;var ft=Object.assign(ct,{Manager:lt}),pt=(n(570),n(26)),gt=Function.prototype.bind.call(Function.prototype.call,[].slice);function mt(t,e){return gt(t.querySelectorAll(e))}var vt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yt=".sticky-top",_t=".navbar-toggler",bt=function(t){function e(){return t.apply(this,arguments)||this}Object(pt.a)(e,t);var n=e.prototype;return n.adjustAndStore=function(t,e,n){var i,o=e.style[t];e.dataset[t]=o,E(e,((i={})[t]=parseFloat(E(e,t))+n+"px",i))},n.restore=function(t,e){var n,i=e.dataset[t];void 0!==i&&(delete e.dataset[t],E(e,((n={})[t]=i,n)))},n.setContainerStyle=function(e,n){var i=this;if(t.prototype.setContainerStyle.call(this,e,n),e.overflowing){var o=g();mt(n,vt).forEach((function(t){return i.adjustAndStore("paddingRight",t,o)})),mt(n,yt).forEach((function(t){return i.adjustAndStore("marginRight",t,-o)})),mt(n,_t).forEach((function(t){return i.adjustAndStore("marginRight",t,o)}))}},n.removeContainerStyle=function(e,n){var i=this;t.prototype.removeContainerStyle.call(this,e,n),mt(n,vt).forEach((function(t){return i.restore("paddingRight",t)})),mt(n,yt).forEach((function(t){return i.restore("marginRight",t)})),mt(n,_t).forEach((function(t){return i.restore("marginRight",t)}))},e}(lt),xt=!1,wt=v.a.createContext(null),Ct=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var o,r=n&&!n.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?r?(o="exited",i.appearStatus="entering"):o="entered":o=e.unmountOnExit||e.mountOnEnter?"unmounted":"exited",i.state={status:o},i.nextCallback=null,i}Object(pt.a)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&"unmounted"===e.status?{status:"exited"}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(e="entering"):"entering"!==n&&"entered"!==n||(e="exiting")}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!==typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),"entering"===e?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,o=this.props.nodeRef?[i]:[G.a.findDOMNode(this),i],r=o[0],a=o[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!t&&!n||xt?this.safeSetState({status:"entered"},(function(){e.props.onEntered(r)})):(this.props.onEnter(r,a),this.safeSetState({status:"entering"},(function(){e.props.onEntering(r,a),e.onTransitionEnd(l,(function(){e.safeSetState({status:"entered"},(function(){e.props.onEntered(r,a)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:G.a.findDOMNode(this);e&&!xt?(this.props.onExit(i),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:G.a.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=o[0],a=o[1];this.props.addEndListener(r,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if("unmounted"===t)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,Object(o.a)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return v.a.createElement(wt.Provider,{value:null},"function"===typeof n?n(t,i):v.a.cloneElement(v.a.Children.only(n),i))},e}(v.a.Component);function St(){}Ct.contextType=wt,Ct.propTypes={},Ct.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:St,onEntering:St,onEntered:St,onExit:St,onExiting:St,onExited:St},Ct.UNMOUNTED="unmounted",Ct.EXITED="exited",Ct.ENTERING="entering",Ct.ENTERED="entered",Ct.EXITING="exiting";var kt,Et=Ct;var It=((kt={}).entering="show",kt.entered="show",kt),Tt=v.a.forwardRef((function(t,e){var n=t.className,r=t.children,s=Object(o.a)(t,["className","children"]),l=Object(m.useCallback)((function(t){!function(t){t.offsetHeight}(t),s.onEnter&&s.onEnter(t)}),[s]);return v.a.createElement(Et,Object(i.a)({ref:e,addEndListener:D},s,{onEnter:l}),(function(t,e){return v.a.cloneElement(r,Object(i.a)({},e,{className:a()("fade",n,r.props.className,It[t])}))}))}));Tt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Tt.displayName="Fade";var Dt=Tt,Mt=/-(.)/g;var Ot=v.a.createContext({});Ot.Consumer,Ot.Provider;function Pt(t,e){var n=Object(m.useContext)(Ot);return t||n[e]||e}var At=function(t){return t[0].toUpperCase()+(e=t,e.replace(Mt,(function(t,e){return e.toUpperCase()}))).slice(1);var e};function Rt(t,e){var n=void 0===e?{}:e,r=n.displayName,s=void 0===r?At(t):r,l=n.Component,u=n.defaultProps,h=v.a.forwardRef((function(e,n){var r=e.className,s=e.bsPrefix,u=e.as,h=void 0===u?l||"div":u,c=Object(o.a)(e,["className","bsPrefix","as"]),d=Pt(s,t);return v.a.createElement(h,Object(i.a)({ref:n,className:a()(r,d)},c))}));return h.defaultProps=u,h.displayName=s,h}var Bt=Rt("modal-body"),Nt=v.a.createContext({onHide:function(){}}),Ft=v.a.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,s=t.contentClassName,l=t.centered,u=t.size,h=t.children,c=t.scrollable,d=Object(o.a)(t,["bsPrefix","className","contentClassName","centered","size","children","scrollable"]),f=(n=Pt(n,"modal"))+"-dialog";return v.a.createElement("div",Object(i.a)({},d,{ref:e,className:a()(f,r,u&&n+"-"+u,l&&f+"-centered",c&&f+"-scrollable")}),v.a.createElement("div",{className:a()(n+"-content",s)},h))}));Ft.displayName="ModalDialog";var Lt=Ft,Vt=Rt("modal-footer"),jt={label:H.a.string.isRequired,onClick:H.a.func},zt=v.a.forwardRef((function(t,e){var n=t.label,r=t.onClick,s=t.className,l=Object(o.a)(t,["label","onClick","className"]);return v.a.createElement("button",Object(i.a)({ref:e,type:"button",className:a()("close",s),onClick:r},l),v.a.createElement("span",{"aria-hidden":"true"},"\xd7"),v.a.createElement("span",{className:"sr-only"},n))}));zt.displayName="CloseButton",zt.propTypes=jt,zt.defaultProps={label:"Close"};var Ht=zt,Wt=v.a.forwardRef((function(t,e){var n=t.bsPrefix,r=t.closeLabel,s=t.closeButton,l=t.onHide,u=t.className,h=t.children,c=Object(o.a)(t,["bsPrefix","closeLabel","closeButton","onHide","className","children"]);n=Pt(n,"modal-header");var d=Object(m.useContext)(Nt),f=_((function(){d&&d.onHide(),l&&l()}));return v.a.createElement("div",Object(i.a)({ref:e},c,{className:a()(u,n)}),h,s&&v.a.createElement(Ht,{label:r,onClick:f}))}));Wt.displayName="ModalHeader",Wt.defaultProps={closeLabel:"Close",closeButton:!1};var Gt,Kt,$t=Wt,Ut=Rt("modal-title",{Component:(Gt="h4",v.a.forwardRef((function(t,e){return v.a.createElement("div",Object(i.a)({},t,{ref:e,className:a()(t.className,Gt)}))})))}),qt={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Lt};function Yt(t){return v.a.createElement(Dt,t)}function Xt(t){return v.a.createElement(Dt,t)}var Zt=v.a.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,l=t.style,u=t.dialogClassName,h=t.contentClassName,f=t.children,y=t.dialogAs,x=t["aria-labelledby"],w=t.show,C=t.animation,S=t.backdrop,k=t.keyboard,E=t.onEscapeKeyDown,I=t.onShow,T=t.onHide,M=t.container,O=t.autoFocus,P=t.enforceFocus,A=t.restoreFocus,R=t.restoreFocusOptions,B=t.onEntered,N=t.onExit,F=t.onExiting,L=t.onEnter,V=t.onEntering,j=t.onExited,z=t.backdropClassName,H=t.manager,W=Object(o.a)(t,["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]),G=Object(m.useState)({}),K=G[0],$=G[1],U=Object(m.useState)(!1),q=U[0],Y=U[1],X=Object(m.useRef)(!1),Z=Object(m.useRef)(!1),J=Object(m.useRef)(null),Q=Object(m.useState)(null),tt=Q[0],et=Q[1],nt=_(T);n=Pt(n,"modal"),Object(m.useImperativeHandle)(e,(function(){return{get _modal(){return tt}}}),[tt]);var it=Object(m.useMemo)((function(){return{onHide:nt}}),[nt]);function ot(){return H||(Kt||(Kt=new bt),Kt)}function rt(t){if(s){var e=ot().isContainerOverflowing(tt),n=t.scrollHeight>d(t).documentElement.clientHeight;$({paddingRight:e&&!n?g():void 0,paddingLeft:!e&&n?g():void 0})}}var at=_((function(){tt&&rt(tt.dialog)}));Object(b.a)((function(){p(window,"resize",at),J.current&&J.current()}));var st=function(){X.current=!0},lt=function(t){X.current&&tt&&t.target===tt.dialog&&(Z.current=!0),X.current=!1},ut=function(){Y(!0),J.current=D(tt.dialog,(function(){Y(!1)}))},ht=function(t){"static"!==S?Z.current||t.target!==t.currentTarget?Z.current=!1:T():function(t){t.target===t.currentTarget&&ut()}(t)},ct=Object(m.useCallback)((function(t){return v.a.createElement("div",Object(i.a)({},t,{className:a()(n+"-backdrop",z,!C&&"show")}))}),[C,z,n]),dt=Object(i.a)({},l,{},K);C||(dt.display="block");return v.a.createElement(Nt.Provider,{value:it},v.a.createElement(ft,{show:w,ref:et,backdrop:S,container:M,keyboard:!0,autoFocus:O,enforceFocus:P,restoreFocus:A,restoreFocusOptions:R,onEscapeKeyDown:function(t){k||"static"!==S?k&&E&&E(t):(t.preventDefault(),ut())},onShow:I,onHide:T,onEnter:function(t){t&&(t.style.display="block",rt(t));for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];L&&L.apply(void 0,[t].concat(n))},onEntering:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];V&&V.apply(void 0,[t].concat(n)),c(window,"resize",at)},onEntered:B,onExit:function(t){J.current&&J.current();for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];N&&N.apply(void 0,[t].concat(n))},onExiting:F,onExited:function(t){t&&(t.style.display="");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];j&&j.apply(void 0,n),p(window,"resize",at)},manager:ot(),containerClassName:n+"-open",transition:C?Yt:void 0,backdropTransition:C?Xt:void 0,renderBackdrop:ct,renderDialog:function(t){return v.a.createElement("div",Object(i.a)({role:"dialog"},t,{style:dt,className:a()(r,n,q&&n+"-static"),onClick:S?ht:void 0,onMouseUp:lt,"aria-labelledby":x}),v.a.createElement(y,Object(i.a)({},W,{role:"document",onMouseDown:st,className:u,contentClassName:h}),f))}}))}));Zt.displayName="Modal",Zt.defaultProps=qt,Zt.Body=Bt,Zt.Header=$t,Zt.Title=Ut,Zt.Footer=Vt,Zt.Dialog=Lt,Zt.TRANSITION_DURATION=300,Zt.BACKDROP_TRANSITION_DURATION=150;e.a=Zt}]]);
//# sourceMappingURL=2.9310cdcd.chunk.js.map